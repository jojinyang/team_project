function a000(){}a000.F3p=function(){return typeof a000.s3p.U3p === 'function'?a000.s3p.U3p.apply(a000.s3p,arguments):a000.s3p.U3p;};a000.s3p=(function(Q3p){return {U3p:function(){var X3p,P3p=arguments;switch(Q3p){case 21:X3p=P3p[1] === P3p[0];break;case 12:X3p=P3p[3] * P3p[2] * P3p[1] - P3p[0];break;case 1:X3p=P3p[0] - P3p[1];break;case 17:X3p=P3p[0] * P3p[2] - P3p[3] + P3p[1];break;case 16:X3p=P3p[0] % P3p[1];break;case 10:X3p=(P3p[3] / P3p[1] | P3p[0]) * P3p[2];break;case 2:X3p=P3p[1] + P3p[0];break;case 11:X3p=P3p[2] / P3p[1] | P3p[0];break;case 3:X3p=void P3p[0] !== P3p[1];break;case 19:X3p=P3p[1] >= P3p[0];break;case 13:X3p=-P3p[2] - P3p[1] + P3p[0];break;case 14:X3p=P3p[1] * P3p[2] - P3p[3] + P3p[4] + -P3p[0];break;case 0:X3p=P3p[2] / P3p[1] / P3p[0];break;case 7:X3p=P3p[1] * P3p[0];break;case 15:X3p=(P3p[2] - P3p[1]) * P3p[0];break;case 4:X3p=P3p[4] + P3p[3] + P3p[0] + P3p[2] + P3p[1];break;case 20:X3p=P3p[0] < P3p[1];break;case 18:X3p=P3p[0] > P3p[1];break;case 8:X3p=P3p[0] / P3p[1];break;case 5:X3p=P3p[2] + P3p[1] + P3p[0];break;case 6:X3p=-(P3p[2] * P3p[1]) - P3p[3] + P3p[0];break;case 9:X3p=P3p[1] + P3p[0] / P3p[2] * P3p[3];break;}return X3p;},i3p:function(v3p){Q3p=v3p;}};})();a000.g3p=function(){return typeof a000.s3p.i3p === 'function'?a000.s3p.i3p.apply(a000.s3p,arguments):a000.s3p.i3p;};a000.C3p=function(){return typeof a000.s3p.i3p === 'function'?a000.s3p.i3p.apply(a000.s3p,arguments):a000.s3p.i3p;};a000.y3p=function(){return typeof a000.s3p.U3p === 'function'?a000.s3p.U3p.apply(a000.s3p,arguments):a000.s3p.U3p;};(function(){(function(nb,Ab){var wc,Fc,Qb,ud,Db,Gb,Zb,De,Ee,Lb,Mb,Mc,Fe,vd,Ge,He,Vd,La,Bb,jd,Ie,Wd,db,ub,yb,xc,kc,Vb,vb,$b,Pb,Oc,Ib,Hb,Jb,cc,wd,yc,rc,sc,xd,Xd,Je,Hc,Ic,Pc,Yd,Zc,zc,yd,Lc,Zd,Ke,$c,$d,ae,be,ce,Ac,de,ee,fe,bd,Bc,Cc,cd,zd,Ad,Bd,jc,Kf,Ob,Nc,Le,Cd,oc,Me,Lf,tc,Ne,Mf,Dd,Oe,Nf,id,Pe,Jf,Of,ge,Ed,Pf,Qf,Ae,Rf,Be,Qe,lc,kd,Re,ld,Se,pc,Te,he,Ue,ie,Fd,Ve,Tf,Ce,Gd,Ud,We,Sf,Xe,je,Ye,Ze,$e,ke,Kc,bf,af,Uf,md,cf,me,nd,df,le,ef,ff,ne,hf,jf,Jd,Sc,dd,Tc,kf,lf,mf,nf,of,pf,Kd,Vf,qf,rf,pe,sf,ic,Qc,ad,Rc,Jc,Dc,Hd,ac,Gc,gf,od,Uc,tf,Wf,pd,uf,Xf,ed,vf,Ld,qe,qd,re,wf,rd,xf,yf,zf,Yf,sd,Af,Zf,$f,Bf,oe,Id,Cf,If,Df,ag,cg,bg,fd,td,dg,ze,eg,Ef;function Tb(ib,gb){if(!gb || "utf-8" === gb)return Pd(ib);throw Error("unsupported encoding");}function Rb(ib,gb){if(!gb || "utf-8" === gb)return Qd(ib);throw Error("unsupported encoding");}function Pd(ib){for(var gb=0,fb,bb=ib.length,lb="";gb < bb;){fb=ib[gb++];if(fb & 128)if(192 === (fb & 224))fb=((fb & 31) << 6) + (ib[gb++] & 63);else if(224 === (fb & 240))fb=((fb & 15) << 12) + ((ib[gb++] & 63) << 6) + (ib[gb++] & 63);else throw Error("unsupported character");lb+=String.fromCharCode(fb);}return lb;}function Qd(ib){var gb,fb,bb,lb,pb;gb=ib.length;fb=0;lb=0;for(bb=gb;bb--;){pb=ib.charCodeAt(bb);128 > pb?fb++:fb=2048 > pb?fb + 2:fb + 3;}fb=new Uint8Array(fb);for(bb=0;bb < gb;bb++){pb=ib.charCodeAt(bb);128 > pb?fb[lb++]=pb:(2048 > pb?fb[lb++]=192 | pb >>> 6:(fb[lb++]=224 | pb >>> 12,fb[lb++]=128 | pb >>> 6 & 63),fb[lb++]=128 | pb & 63);}return fb;}function Wb(ib,gb){if(ib === gb)return !0;if(!ib || !gb || ib.length != gb.length)return !1;for(var fb=0;fb < ib.length;++fb){if(ib[fb] != gb[fb])return !1;}return !0;}function gc(ib){var bb;if(!(ib && ib.constructor == Uint8Array || Array.isArray(ib)))throw new TypeError("Cannot compute the hash code of " + ib);for(var gb=1,fb=0;fb < ib.length;++fb){bb=ib[fb];if("number" !== typeof bb)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + bb);gb=31 * gb + bb & 4294967295;}return gb;}function ue(ib,gb){var kb;if(ib === gb)return !0;if(!ib || !gb)return !1;gb instanceof Array || (gb=[gb]);for(var fb=0;fb < gb.length;++fb){for(var bb=gb[fb],lb=!1,pb=0;pb < ib.length;++pb){kb=ib[pb];if(bb.equals && "function" === typeof bb.equals && bb.equals(kb) || bb == kb){lb=!0;break;}}if(!lb)return !1;}return !0;}function ve(ib,gb){return ue(ib,gb) && (ib.length == gb.length || ue(gb,ib));}function Ma(ib,gb,fb){var bb,lb;fb && (bb=fb);if("object" !== typeof ib || "function" !== typeof ib.result || "function" !== typeof ib.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{lb=gb.call(bb,ib);lb !== Ab && ib.result(lb);}catch(pb){try{ib.error(pb);}catch(kb){}}}function eb(ib,gb,fb){if("object" !== typeof ib || "function" !== typeof ib.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Ma(ib,gb,fb);}function W(ib,gb,fb){1E5 > ib && (ib=1E5 + ib);Object.defineProperties(this,{internalCode:{value:ib,writable:!1,configurable:!1},responseCode:{value:gb,writable:!1,configurable:!1},message:{value:fb,writable:!1,configurable:!1}});}function Rd(ib){switch(ib){case Ob.PSK:case Ob.MGK:return !0;default:return !1;}}function we(ib){switch(ib){case Ob.PSK:case Ob.MGK:case Ob.X509:case Ob.RSA:case Ob.NPTICKET:case Ob.ECC:return !0;default:return !1;}}function Ff(ib){return ib.toJSON();}function xe(ib,gb){td?gb.result(td):Promise.resolve().then(function(){return Jb.getKeyByName(ib);}).catch(function(){return Jb.generateKey({name:ib},!1,["wrapKey","unwrapKey"]);}).then(function(fb){td=fb;gb.result(td);}).catch(function(fb){gb.error(new db(W.INTERNAL_EXCEPTION,"Unable to get system key"));});}function ye(ib,gb){var fb,bb;fb=gb.masterToken;bb=gb.userIdToken;gb=gb.serviceTokens;return {NccpMethod:ib.method,UserId:ib.userId,UT:bb && bb.serialNumber,MT:fb && fb.serialNumber + ":" + fb.sequenceNumber,STCount:gb && gb.length};}function Gf(ib){return ib.uniqueKey();}function Hf(ib,gb,fb,bb,lb){var Sa;function pb(Ba,oa){Ba.errorCode === La.ENTITY_REAUTH || Ba.errorCode === La.ENTITYDATA_REAUTH?(bb.clearCryptoContexts(),Oa()):Ba.errorCode !== La.USER_REAUTH && Ba.errorCode !== La.USERDATA_REAUTH || kb(oa);}function kb(Ba){if(Ba=bb.getUserIdToken(Ba))(bb.removeUserIdToken(Ba),Oa());}function Ha(Ba,oa,ia){var ca;ca=[];(function ka(){Ba.read(-1,oa,{result:function(fa){Ma(ia,function(){var V,aa,ua,qa,va;if(fa)(ca.push(fa),ka());else switch(ca.length){case 0:return new Uint8Array(0);case 1:return ca[0];default:(ua=ca.length,qa=0);for(aa=V=0;aa < ua;aa++){V+=ca[aa].length;}V=new Uint8Array(V);for(aa=0;aa < ua;aa++){va=ca[aa];V.set(va,qa);qa+=va.length;}return V;}});},timeout:function(){ia.timeout();},error:function(fa){ia.error(fa);}});})();}function Oa(){bb.getStoreState({result:function(Ba){for(var oa=Sa.slice(),ia=0;ia < oa.length;ia++){oa[ia]({storeState:Ba});}},timeout:function(){ib.error("Timeout getting store state","" + e);},error:function(Ba){ib.error("Error getting store state","" + Ba);}});}Sa=[];this.addEventHandler=function(Ba,oa){switch(Ba){case "shouldpersist":Sa.push(oa);}};this.send=function(Ba){return new Promise(function(oa,ia){var ca,da,ka;ca=Ba.timeout;da=new ze(ib,fb,Ba,bb.getKeyRequestData());ka=new Ae(Ba.url);ib.trace("Sending MSL request");gb.request(fb,da,ka,ca,{result:function(fa){var V;ib.trace("Received MSL response",{Method:Ba.method});if(fa){Ba.allowTokenRefresh && Oa();V=fa.getErrorHeader();V?(pb(V,Ba.profileGuid || Ba.userId),ia({success:!1,error:V})):Ha(fa,ca,{result:function(aa){oa({success:!0,body:Tb(aa)});},timeout:function(){ia({success:!1,subCode:lb.MSL_READ_TIMEOUT});},error:function(aa){ia({success:!1,error:aa});}});}else ia({success:!1,error:new db(W.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){ia({success:!1,subCode:lb.MSL_REQUEST_TIMEOUT});},error:function(fa){ia({success:!1,error:fa});}});});};this.hasUserIdToken=function(Ba){return ! !bb.getUserIdToken(Ba);};this.getUserIdTokenKeys=function(){return bb.getUserIdTokenKeys();};this.removeUserIdToken=kb;this.clearUserIdTokens=function(){bb.clearUserIdTokens();Oa();};this.isErrorReauth=function(Ba){return Ba && Ba.errorCode == La.USERDATA_REAUTH;};this.isErrorHeader=function(Ba){return Ba instanceof Kc;};this.getErrorCode=function(Ba){return Ba && Ba.errorCode;};this.getStateForMdx=function(Ba){var oa,ia;oa=bb.getMasterToken();Ba=bb.getUserIdToken(Ba);ia=bb.getCryptoContext(oa);return {masterToken:oa,userIdToken:Ba,cryptoContext:ia};};this.buildPlayDataRequest=function(Ba,oa){var ia;ia=new Be();gb.request(fb,new ze(ib,fb,Ba),ia,Ba.timeout,{result:function(){oa.result(ia.getRequest());},error:function(){oa.result(ia.getRequest());},timeout:function(){oa.timeout();}});};this.rekeyUserIdToken=function(Ba,oa){bb.rekeyUserIdToken(Ba,oa);Oa();};this.getServiceTokens=function(Ba){var oa;oa=bb.getMasterToken();(Ba=bb.getUserIdToken(Ba)) && !Ba.isBoundTo(oa) && (Ba=Ab);return bb.getServiceTokens(oa,Ba);};this.removeServiceToken=function(Ba){var oa;oa=bb.getMasterToken();bb.getServiceTokens(oa).find(function(ia){return ia.name === Ba;}) && (bb.removeServiceTokens(Ba,oa),Oa());};}function Sd(ib,gb,fb,bb,lb,pb){function kb(Ha){var Oa;return Promise.resolve().then(function(){Oa=ib.authenticationKeyNames[Ha];if(!Oa)throw new db(W.KEY_IMPORT_ERROR,"Invalid config keyName " + Ha);return Jb.getKeyByName(Oa);}).then(function(Sa){return new Promise(function(Ba,oa){Zc(Sa,{result:Ba,error:function(){oa(new db(W.KEY_IMPORT_ERROR,"Unable to create " + Oa + " CipherKey"));}});});}).catch(function(Sa){throw new db(W.KEY_IMPORT_ERROR,"Unable to import " + Oa,Sa);});}return Promise.resolve().then(function(){if(!Jb.getKeyByName)throw new db(W.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([kb("e"),kb("h"),kb("w")]);}).then(function(Ha){var Oa,Sa,Ba;Oa={};Oa[gb]=new fb(ib.esn,Ha[0],Ha[1],Ha[2]);Ha=new bb(ib.esn);Sa=new If();Sa=[new lb(Sa)];Ba=new pb(gb);return {entityAuthFactories:Oa,entityAuthData:Ha,keyExchangeFactories:Sa,keyRequestData:Ba};});}function Td(ib,gb,fb){var pb;function bb(){return Promise.resolve().then(function(){return Jb.generateKey(gb,!1,["wrapKey","unwrapKey"]);}).then(function(kb){return lb(kb.publicKey,kb.privateKey);});}function lb(kb,Ha){return Promise.all([new Promise(function(Oa,Sa){Lc(kb,{result:Oa,error:function(Ba){Sa(new db(W.INTERNAL_EXCEPTION,"Unable to create keyx public key",Ba));}});}),new Promise(function(Oa,Sa){$c(Ha,{result:Oa,error:function(Ba){Sa(new db(W.INTERNAL_EXCEPTION,"Unable to create keyx private key",Ba));}});})]).then(function(Oa){Oa=new Ud("rsaKeypairId",fb,Oa[0],Oa[1]);pb && (Oa.storeData={keyxPublicKey:kb,keyxPrivateKey:Ha});return Oa;});}pb=!ib.systemKeyWrapFormat;return Promise.resolve().then(function(){var kb,Ha;kb=ib.storeState;Ha=kb && kb.keyxPublicKey;kb=kb && kb.keyxPrivateKey;return pb && Ha && kb?lb(Ha,kb):bb();}).then(function(kb){var Ha,Oa,Sa;Ha={};Ha[Ob.NONE]=new Jf();Oa=new id(ib.esn);Sa=[new Ce()];return {entityAuthFactories:Ha,entityAuthData:Oa,keyExchangeFactories:Sa,keyRequestData:kb,createKeyRequestData:pb?bb:Ab};});}Fc=nb.nfCrypto || nb.msCrypto || nb.webkitCrypto || nb.crypto;Qb=Fc && (Fc.webkitSubtle || Fc.subtle);ud=nb.nfCryptokeys || nb.msCryptokeys || nb.webkitCryptokeys || nb.cryptokeys;(function(ib){var gb,fb;gb=(function(){function bb(lb,pb){lb instanceof gb?(this.abv=lb.abv,this.position=lb.position):(this.abv=lb,this.position=pb || 0);}bb.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(lb){this.abv[this.position++]=lb;},peekByte:function(lb){return this.abv[lb];},copyBytes:function(lb,pb,kb){var Ha;Ha=new Uint8Array(this.abv.buffer,this.position,kb);lb=new Uint8Array(lb.buffer,pb,kb);Ha.set(lb);this.position+=kb;},seek:function(lb){this.position=lb;},skip:function(lb){this.position+=lb;},getPosition:function(){return this.position;},setPosition:function(lb){this.position=lb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return bb;})();fb={};(function(){var fa,V,aa,ua,qa,va,Da,wa,ta;function bb(X,ba){var ha;ba.writeByte(X.tagClass << 6 | X.constructed << 5 | X.tag);ha=X.payloadLen;if(128 > ha)ba.writeByte(ha);else {for(var na=ha,Ia=0;na;){++Ia;na>>=8;}ba.writeByte(128 | Ia);for(na=0;na < Ia;++na){ba.writeByte(ha >> 8 * (Ia - na - 1) & 255);}}if(X.child)for((X.tag == fa.BIT_STRING && ba.writeByte(0),X=X._child);X;){if(!bb(X,ba))return !1;X=X.next;}else switch(X.tag){case fa.INTEGER:X.backingStore[X.dataIdx] >> 7 && ba.writeByte(0);ba.copyBytes(X.backingStore,X.dataIdx,X.dataLen);break;case fa.BIT_STRING:ba.writeByte(0);ba.copyBytes(X.backingStore,X.dataIdx,X.dataLen);break;case fa.OCTET_STRING:ba.copyBytes(X.backingStore,X.dataIdx,X.dataLen);break;case fa.OBJECT_IDENTIFIER:ba.copyBytes(X.backingStore,X.dataIdx,X.dataLen);}return !0;}function lb(X){var ba,ha;ba=X.readByte();ha=ba & 127;if(ha == ba)return ha;if(3 < ha || 0 === ha)return -1;for(var na=ba=0;na < ha;++na){ba=ba << 8 | X.readByte();}return ba;}function pb(X,ba,ha){var na,Ia,Fa,Ra,Ta,ma,za;na=X.backingStore;Ia=new gb(na,ba);ba+=ha;ha=X;if(8 < qa++)return Ab;for(;Ia.getPosition() < ba;){Ia.getPosition();Ra=Ia.readByte();if(31 == (Ra & 31)){for(Fa=0;Ra & 128;){Fa<<=8;Fa|=Ra & 127;}Ra=Fa;}Ta=Ra;Fa=Ta & 31;if(0 > Fa || 30 < Fa)return Ab;Ra=lb(Ia);if(0 > Ra || Ra > Ia.getRemaining())return Ab;ha.constructed=Ta & 32;ha.tagClass=(Ta & 192) >> 6;ha.tag=Fa;ha.dataLen=Ra;ha.dataIdx=Ia.getPosition();Fa=Ia;ma=Ta;Ta=Ra;if(ma & 32)Fa=!0;else if(ma < fa.BIT_STRING || ma > fa.OCTET_STRING)Fa=!1;else {za=new gb(Fa);ma == fa.BIT_STRING && za.skip(1);za.readByte() >> 6 & 1?Fa=!1:(ma=lb(za),Fa=za.getPosition() - Fa.getPosition() + ma == Ta);}Fa && (Fa=Ia.getPosition(),Ta=Ra,ha.tag == fa.BIT_STRING && (ha.dataIdx++,ha.dataLen--,Fa++,Ta--),ha.child=new V(na,ha),pb(ha.child,Fa,Ta));ha.tag == fa.INTEGER && (Fa=Ia.getPosition(),0 == Ia.peekByte(Fa) && Ia.peekByte(Fa + 1) >> 7 && (ha.dataIdx++,ha.dataLen--));Ia.skip(Ra);Ia.getPosition() < ba && (ha.next=new V(na,ha.parent),ha=ha.next);}qa--;return X;}function kb(X,ba,ha){if(9 != ha)return !1;for(ha=0;9 > ha;++ha){if(X[ba++] != va[ha])return !1;}return !0;}function Ha(X){var ba;if(!(X && X.child && X.child.next && X.child.child && X.child.next.child))return !1;ba=X.child.child;return kb(ba.backingStore,ba.dataIdx,ba.dataLen) && 2 == X.nChildren && 2 == X.child.nChildren && 2 == X.child.next.child.nChildren?!0:!1;}function Oa(X){var ba;if(!(X && X.child && X.child.next && X.child.next.child && X.child.next.next && X.child.next.next.child))return !1;ba=X.child.next.child;return kb(ba.backingStore,ba.dataIdx,ba.dataLen) && 3 == X.nChildren && 2 == X.child.next.nChildren && 9 == X.child.next.next.child.nChildren?!0:!1;}function Sa(X){var ba,ha;ba=aa.createSequenceNode();ha=new ua(ba);ha.addChild(aa.createSequenceNode());ha.addChild(aa.createOidNode(va));ha.addSibling(aa.createNullNode());ha.addToParent(ba,aa.createBitStringNode(null));ha.addChild(aa.createSequenceNode());ha.addChild(aa.createIntegerNode(X.n));ha.addSibling(aa.createIntegerNode(X.e));return ba;}function Ba(X){var ba;X=X.child.next.child.child;ba=X.data;X=X.next;return new Da(ba,X.data,null,null);}function oa(X){var ba,ha;ba=aa.createSequenceNode();ha=new ua(ba);ha.addChild(aa.createIntegerNode(new Uint8Array([0])));ha.addSibling(aa.createSequenceNode());ha.addChild(aa.createOidNode(va));ha.addSibling(aa.createNullNode());ha.addToParent(ba,aa.createOctetStringNode(null));ha.addChild(aa.createSequenceNode());ha.addChild(aa.createIntegerNode(new Uint8Array([0])));ha.addSibling(aa.createIntegerNode(X.n));ha.addSibling(aa.createIntegerNode(X.e));ha.addSibling(aa.createIntegerNode(X.d));ha.addSibling(aa.createIntegerNode(X.p));ha.addSibling(aa.createIntegerNode(X.q));ha.addSibling(aa.createIntegerNode(X.dp));ha.addSibling(aa.createIntegerNode(X.dq));ha.addSibling(aa.createIntegerNode(X.qi));return ba;}function ia(X){var ba;ba=[];X=X.child.next.next.child.child.next;for(var ha=0;8 > ha;ha++){ba.push(X.data);X=X.next;}return new wa(ba[0],ba[1],ba[2],ba[3],ba[4],ba[5],ba[6],ba[7]);}function ca(X,ba,ha,na){if(!(X instanceof Da || X instanceof wa))return Ab;if(ha)for(var Ia=0;Ia < ha.length;++Ia){if(-1 == ta.indexOf(ha[Ia]))return Ab;}ba={kty:"RSA",alg:ba,key_ops:ha || [],ext:na == Ab?!1:na,n:Db(X.n,!0),e:Db(X.e,!0)};X instanceof wa && (ba.d=Db(X.d,!0),ba.p=Db(X.p,!0),ba.q=Db(X.q,!0),ba.dp=Db(X.dp,!0),ba.dq=Db(X.dq,!0),ba.qi=Db(X.qi,!0));return ba;}function da(X){var ba,ha,na,Ia,Fa,Ra,Ta,ma,za,Aa;if(!X.kty || "RSA" != X.kty || !X.n || !X.e)return Ab;ba=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(X.alg && -1 == ba.indexOf(X.alg))return Ab;ba=[];X.use?"enc" == X.use?ba=["encrypt","decrypt","wrap","unwrap"]:"sig" == X.use && (ba=["sign","verify"]):ba=X.key_ops;ha=X.ext;na=Gb(X.n,!0);Ia=Gb(X.e,!0);if(X.d){Fa=Gb(X.d,!0);Ra=Gb(X.p,!0);Ta=Gb(X.q,!0);ma=Gb(X.dp,!0);za=Gb(X.dq,!0);Aa=Gb(X.qi,!0);return new wa(na,Ia,Fa,Ra,Ta,ma,za,Aa,X.alg,ba,ha);}return new Da(na,Ia,ha,ba);}function ka(X,ba,ha,na){this.der=X;this.type=ba;this.keyOps=ha;this.extractable=na;}fa={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};V=function(X,ba,ha,na,Ia,Fa){this._data=X;this._parent=ba || Ab;this._constructed=ha || !1;this._tagClass=0;this._tag=na || 0;this._dataIdx=Ia || 0;this._dataLen=Fa || 0;};V.prototype={_child:Ab,_next:Ab,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(X) {this._constructed=0 != X?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(X) {this._tagClass=X;},get tag() {return this._tag;},set tag(X) {this._tag=X;},get dataIdx() {return this._dataIdx;},set dataIdx(X) {this._dataIdx=X;},get dataLen() {return this._dataLen;},set dataLen(X) {this._dataLen=X;},get child() {return this._child;},set child(X) {this._child=X;this._child.parent=this;},get next() {return this._next;},set next(X) {this._next=X;},get parent() {return this._parent;},set parent(X) {this._parent=X;},get payloadLen() {var X;X=0;if(this._child){for(var ba=this._child;ba;){X+=ba.length;ba=ba.next;}this._tag == fa.BIT_STRING && X++;}else switch(this._tag){case fa.INTEGER:X=this._dataLen;this._data[this._dataIdx] >> 7 && X++;break;case fa.BIT_STRING:X=this._dataLen + 1;break;case fa.OCTET_STRING:X=this._dataLen;break;case fa.NULL:X=0;break;case fa.OBJECT_IDENTIFIER:kb(this._data,this._dataIdx,this._dataLen) && (X=9);}return X;},get length() {var X,ba;X=this.payloadLen;if(127 < X)for(ba=X;ba;){ba>>=8;++X;}return X + 2;},get der() {var X,ba;X=this.length;if(!X)return Ab;X=new Uint8Array(X);ba=new gb(X);return bb(this,ba)?X:Ab;},get nChildren() {for(var X=0,ba=this._child;ba;){X++;ba=ba.next;}return X;}};aa={createSequenceNode:function(){return new V(null,null,!0,fa.SEQUENCE,null,null);},createOidNode:function(X){return new V(X,null,!1,fa.OBJECT_IDENTIFIER,0,X?X.length:0);},createNullNode:function(){return new V(null,null,!1,fa.NULL,null,null);},createBitStringNode:function(X){return new V(X,null,!1,fa.BIT_STRING,0,X?X.length:0);},createIntegerNode:function(X){return new V(X,null,!1,fa.INTEGER,0,X?X.length:0);},createOctetStringNode:function(X){return new V(X,null,!1,fa.OCTET_STRING,0,X?X.length:0);}};ua=function(X){this._currentNode=this._rootNode=X;};ua.prototype={addChild:function(X){this.addTo(this._currentNode,X);},addSibling:function(X){this.addTo(this._currentNode.parent,X);},addTo:function(X,ba){this._currentNode=ba;this._currentNode.parent=X;if(X.child){for(X=X.child;X.next;){X=X.next;}X.next=ba;}else X.child=ba;},addToParent:function(X,ba){this.findNode(X) && this.addTo(X,ba);},findNode:function(X){for(var ba=this._currentNode;ba;){if(X == ba)return !0;ba=ba.parent;}return !1;}};qa=0;va=new Uint8Array([42,134,72,134,247,13,1,1,1]);Da=function(X,ba,ha,na){this.n=X;this.e=ba;this.ext=ha;this.keyOps=na;};wa=function(X,ba,ha,na,Ia,Fa,Ra,Ta,ma,za,Aa){this.n=X;this.e=ba;this.d=ha;this.p=na;this.q=Ia;this.dp=Fa;this.dq=Ra;this.qi=Ta;this.alg=ma;this.keyOps=za;this.ext=Aa;};ta=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");ka.prototype.getDer=function(){return this.der;};ka.prototype.getType=function(){return this.type;};ka.prototype.getKeyOps=function(){return this.keyOps;};ka.prototype.getExtractable=function(){return this.extractable;};fb.parse=function(X){qa=0;return pb(new V(X),0,X.length);};fb.show=function(X,ba){};fb.isRsaSpki=Ha;fb.isRsaPkcs8=Oa;fb.NodeFactory=aa;fb.Builder=ua;fb.tagVal=fa;fb.RsaPublicKey=Da;fb.RsaPrivateKey=wa;fb.buildRsaSpki=Sa;fb.parseRsaSpki=function(X){X=fb.parse(X);return Ha?Ba(X):Ab;};fb.buildRsaPkcs8=oa;fb.parseRsaPkcs8=function(X){X=fb.parse(X);return Oa(X)?ia(X):Ab;};fb.buildRsaJwk=ca;fb.parseRsaJwk=da;fb.RsaDer=ka;fb.rsaDerToJwk=function(X,ba,ha,na){X=fb.parse(X);if(!X)return Ab;if(Ha(X))X=Ba(X);else if(Oa(X))X=ia(X);else return Ab;return ca(X,ba,ha,na);};fb.jwkToRsaDer=function(X){var ba,ha;X=da(X);if(!X)return Ab;if(X instanceof Da){ba="spki";ha=Sa(X).der;}else if(X instanceof wa)(ba="pkcs8",ha=oa(X).der);else return Ab;return new ka(ha,ba,X.keyOps,X.ext);};fb.webCryptoAlgorithmToJwkAlg=function(X){return "RSAES-PKCS1-v1_5" == X.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == X.name?"SHA-256" == X.hash.name?"RS256":"SHA-384" == X.hash.name?"RS384":"SHA-512" == X.hash.name?"RS512":Ab:Ab;};fb.webCryptoUsageToJwkKeyOps=function(X){return X.map(function(ba){return "wrapKey" == ba?"wrap":"unwrapKey" == ba?"unwrap":ba;});};})();ib.ASN1=fb;})(nb);(function(){for(var ib={},gb={},fb={"=":0,".":0},bb={"=":0,".":0},lb=/\s+/g,pb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,kb=64;kb--;){ib[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb]]=262144 * kb;gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb]]=4096 * kb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb]]=64 * kb;bb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb]]=kb;}for(kb=64;kb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb];){ib[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb]]=262144 * kb;gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb]]=4096 * kb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb]]=64 * kb;bb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb]]=kb;}Db=function(Ha,Oa){for(var Sa="",Ba=0,oa=Ha.length,ia=oa - 2,ca=Oa?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",da=Oa?"":"=";Ba < ia;){Oa=65536 * Ha[Ba++] + 256 * Ha[Ba++] + Ha[Ba++];Sa+=ca[Oa >>> 18] + ca[Oa >>> 12 & 63] + ca[Oa >>> 6 & 63] + ca[Oa & 63];}Ba == ia?(Oa=65536 * Ha[Ba++] + 256 * Ha[Ba++],Sa+=ca[Oa >>> 18] + ca[Oa >>> 12 & 63] + ca[Oa >>> 6 & 63] + da):Ba == oa - 1 && (Oa=65536 * Ha[Ba++],Sa+=ca[Oa >>> 18] + ca[Oa >>> 12 & 63] + da + da);return Sa;};Gb=function(Ha,Oa){Ha=Ha.replace(lb,"");if(Oa && (Oa=Ha.length % 4)){Oa=4 - Oa;for(var Sa=0;Sa < Oa;++Sa){Ha+="=";}}Oa=Ha.length;if(0 != Oa % 4 || !pb.test(Ha))throw Error("bad base64: " + Ha);for(var Ba=Oa / 4 * 3 - ("=" == Ha[Oa - 1]?1:0) - ("=" == Ha[Oa - 2]?1:0),oa=new Uint8Array(Ba),ia=0,ca=0;ia < Oa;){Sa=ib[Ha[ia++]] + gb[Ha[ia++]] + fb[Ha[ia++]] + bb[Ha[ia++]];oa[ca++]=Sa >>> 16;ca < Ba && (oa[ca++]=Sa >>> 8 & 255,ca < Ba && (oa[ca++]=Sa & 255));}return oa;};})();Zb={};(function(){var pb,kb,Ha,Sa;function ib(Ba){if(!(this instanceof ib))return new ib(Ba);for(var oa=0,ia=kb.length;oa < ia;oa++){this[kb[oa]]="";}this.bufferCheckPosition=Zb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=Ba || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Ha.BEGIN;this.stack=new pb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;gb(this,"onready");}function gb(Ba,oa,ia){if(Ba[oa])Ba[oa](ia);}function fb(Ba,oa){var ia,ca;ia=Ba.opt;ca=Ba.textNode;ia.trim && (ca=ca.trim());ia.normalize && (ca=ca.replace(/\s+/g," "));Ba.textNode=ca;Ba.textNode && gb(Ba,oa?oa:"onvalue",Ba.textNode);Ba.textNode="";}function bb(Ba,oa){fb(Ba);oa+="\nLine: " + Ba.line + "\nColumn: " + Ba.column + "\nChar: " + Ba.c;oa=Error(oa);Ba.error=oa;gb(Ba,"onerror",oa);return Ba;}function lb(Ba){Ba.state !== Ha.VALUE && bb(Ba,"Unexpected end");fb(Ba);Ba.c="";Ba.closed=!0;gb(Ba,"onend");ib.call(Ba,Ba.opt);return Ba;}pb=Array;Zb.parser=function(Ba){return new ib(Ba);};Zb.CParser=ib;Zb.MAX_BUFFER_LENGTH=65536;Zb.DEBUG=!1;Zb.INFO=!1;Zb.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");kb=["textNode","numberNode"];Zb.EVENTS.filter(function(Ba){return "error" !== Ba && "end" !== Ba;});Ha=0;Zb.STATE={BEGIN:Ha++,VALUE:Ha++,OPEN_OBJECT:Ha++,CLOSE_OBJECT:Ha++,OPEN_ARRAY:Ha++,CLOSE_ARRAY:Ha++,TEXT_ESCAPE:Ha++,STRING:Ha++,BACKSLASH:Ha++,END:Ha++,OPEN_KEY:Ha++,CLOSE_KEY:Ha++,TRUE:Ha++,TRUE2:Ha++,TRUE3:Ha++,FALSE:Ha++,FALSE2:Ha++,FALSE3:Ha++,FALSE4:Ha++,NULL:Ha++,NULL2:Ha++,NULL3:Ha++,NUMBER_DECIMAL_POINT:Ha++,NUMBER_DIGIT:Ha++};for(var Oa in Zb.STATE){Zb.STATE[Zb.STATE[Oa]]=Oa;}Ha=Zb.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(Ba){return Ba.__proto__;});Sa=/[\\"\n]/g;ib.prototype={end:function(){lb(this);},write:function(Ba){var ca,da,ka;if(this.error)throw this.error;if(this.closed)return bb(this,"Cannot write after close. Assign an onready handler.");if(null === Ba)return lb(this);for(var oa=Ba[0],ia;oa;){ia=oa;this.c=oa=Ba.charAt(this.index++);ia !== oa?this.p=ia:ia=this.p;if(!oa)break;this.position++;"\n" === oa?(this.line++,this.column=0):this.column++;switch(this.state){case Ha.BEGIN:"{" === oa?this.state=Ha.OPEN_OBJECT:"[" === oa?this.state=Ha.OPEN_ARRAY:"\r" !== oa && "\n" !== oa && " " !== oa && "\t" !== oa && bb(this,"Non-whitespace before {[.");continue;case Ha.OPEN_KEY:case Ha.OPEN_OBJECT:if("\r" === oa || "\n" === oa || " " === oa || "\t" === oa)continue;if(this.state === Ha.OPEN_KEY)this.stack.push(Ha.CLOSE_KEY);else if("}" === oa){gb(this,"onopenobject");gb(this,"oncloseobject");this.state=this.stack.pop() || Ha.VALUE;continue;}else this.stack.push(Ha.CLOSE_OBJECT);'"' === oa?this.state=Ha.STRING:bb(this,'Malformed object key should start with "');continue;case Ha.CLOSE_KEY:case Ha.CLOSE_OBJECT:if("\r" === oa || "\n" === oa || " " === oa || "\t" === oa)continue;":" === oa?(this.state === Ha.CLOSE_OBJECT?(this.stack.push(Ha.CLOSE_OBJECT),fb(this,"onopenobject")):fb(this,"onkey"),this.state=Ha.VALUE):"}" === oa?(fb(this),gb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Ha.VALUE):"," === oa?(this.state === Ha.CLOSE_OBJECT && this.stack.push(Ha.CLOSE_OBJECT),fb(this),this.state=Ha.OPEN_KEY):bb(this,"Bad object");continue;case Ha.OPEN_ARRAY:case Ha.VALUE:if("\r" === oa || "\n" === oa || " " === oa || "\t" === oa)continue;if(this.state === Ha.OPEN_ARRAY)if((gb(this,"onopenarray"),this.state=Ha.VALUE,"]" === oa)){gb(this,"onclosearray");this.state=this.stack.pop() || Ha.VALUE;continue;}else this.stack.push(Ha.CLOSE_ARRAY);'"' === oa?this.state=Ha.STRING:"{" === oa?this.state=Ha.OPEN_OBJECT:"[" === oa?this.state=Ha.OPEN_ARRAY:"t" === oa?this.state=Ha.TRUE:"f" === oa?this.state=Ha.FALSE:"n" === oa?this.state=Ha.NULL:"-" === oa?this.numberNode+=oa:"0" === oa?(this.numberNode+=oa,this.state=Ha.NUMBER_DIGIT):-1 !== ("123456789").indexOf(oa)?(this.numberNode+=oa,this.state=Ha.NUMBER_DIGIT):bb(this,"Bad value");continue;case Ha.CLOSE_ARRAY:if("," === oa)(this.stack.push(Ha.CLOSE_ARRAY),fb(this,"onvalue"),this.state=Ha.VALUE);else if("]" === oa)(fb(this),gb(this,"onclosearray",void 0),this.state=this.stack.pop() || Ha.VALUE);else if("\r" === oa || "\n" === oa || " " === oa || "\t" === oa)continue;else bb(this,"Bad array");continue;case Ha.STRING:ia=this.index - 1;(ca=this.slashed,da=this.unicodeI);a:for(;;){if(Zb.DEBUG)for(;0 < da;){if((this.unicodeS+=oa,oa=Ba.charAt(this.index++),4 === da?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),da=0,ia=this.index - 1):da++,!oa))break a;}if('"' === oa && !ca){this.state=this.stack.pop() || Ha.VALUE;(this.textNode+=Ba.substring(ia,this.index - 1)) || gb(this,"onvalue","");break;}if("\\" === oa && !ca && (ca=!0,this.textNode+=Ba.substring(ia,this.index - 1),oa=Ba.charAt(this.index++),!oa))break;if(ca)if((ca=!1,"n" === oa?this.textNode+="\n":"r" === oa?this.textNode+="\r":"t" === oa?this.textNode+="\t":"f" === oa?this.textNode+="\f":"b" === oa?this.textNode+="\b":"u" === oa?(da=1,this.unicodeS=""):this.textNode+=oa,oa=Ba.charAt(this.index++),ia=this.index - 1,oa))continue;else break;Sa.lastIndex=this.index;ka=Sa.exec(Ba);if(null === ka){this.index=Ba.length + 1;this.textNode+=Ba.substring(ia,this.index - 1);break;}this.index=ka.index + 1;oa=Ba.charAt(ka.index);if(!oa){this.textNode+=Ba.substring(ia,this.index - 1);break;}}this.slashed=ca;this.unicodeI=da;continue;case Ha.TRUE:if("" === oa)continue;"r" === oa?this.state=Ha.TRUE2:bb(this,"Invalid true started with t" + oa);continue;case Ha.TRUE2:if("" === oa)continue;"u" === oa?this.state=Ha.TRUE3:bb(this,"Invalid true started with tr" + oa);continue;case Ha.TRUE3:if("" === oa)continue;"e" === oa?(gb(this,"onvalue",!0),this.state=this.stack.pop() || Ha.VALUE):bb(this,"Invalid true started with tru" + oa);continue;case Ha.FALSE:if("" === oa)continue;"a" === oa?this.state=Ha.FALSE2:bb(this,"Invalid false started with f" + oa);continue;case Ha.FALSE2:if("" === oa)continue;"l" === oa?this.state=Ha.FALSE3:bb(this,"Invalid false started with fa" + oa);continue;case Ha.FALSE3:if("" === oa)continue;"s" === oa?this.state=Ha.FALSE4:bb(this,"Invalid false started with fal" + oa);continue;case Ha.FALSE4:if("" === oa)continue;"e" === oa?(gb(this,"onvalue",!1),this.state=this.stack.pop() || Ha.VALUE):bb(this,"Invalid false started with fals" + oa);continue;case Ha.NULL:if("" === oa)continue;"u" === oa?this.state=Ha.NULL2:bb(this,"Invalid null started with n" + oa);continue;case Ha.NULL2:if("" === oa)continue;"l" === oa?this.state=Ha.NULL3:bb(this,"Invalid null started with nu" + oa);continue;case Ha.NULL3:if("" === oa)continue;"l" === oa?(gb(this,"onvalue",null),this.state=this.stack.pop() || Ha.VALUE):bb(this,"Invalid null started with nul" + oa);continue;case Ha.NUMBER_DECIMAL_POINT:"." === oa?(this.numberNode+=oa,this.state=Ha.NUMBER_DIGIT):bb(this,"Leading zero not followed by .");continue;case Ha.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(oa)?this.numberNode+=oa:"." === oa?(-1 !== this.numberNode.indexOf(".") && bb(this,"Invalid number has two dots"),this.numberNode+=oa):"e" === oa || "E" === oa?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || bb(this,"Invalid number has two exponential"),this.numberNode+=oa):"+" === oa || "-" === oa?("e" !== ia && "E" !== ia && bb(this,"Invalid symbol in number"),this.numberNode+=oa):(this.numberNode && gb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Ha.VALUE);continue;default:bb(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){Ba=Math.max(Zb.MAX_BUFFER_LENGTH,10);ia=oa=0;for(ca=kb.length;ia < ca;ia++){da=this[kb[ia]].length;if(da > Ba)switch(kb[ia]){case "text":break;default:bb(this,"Max buffer length exceeded: " + kb[ia]);}oa=Math.max(oa,da);}this.bufferCheckPosition=Zb.MAX_BUFFER_LENGTH - oa + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var bb,lb,pb;function ib(kb,Ha){Ha || (Ha=kb.length);return kb.reduce(function(Oa,Sa,Ba){return Ba < Ha?Oa + String.fromCharCode(Sa):Oa;},"");}for(var gb={},fb=0;256 > fb;++fb){bb=ib([fb]);gb[bb]=fb;}lb=Object.keys(gb).length;pb=[];for(fb=0;256 > fb;++fb){pb[fb]=[fb];}De=function(kb,Ha){var V,aa;function Oa(ua,qa){var va;for(;0 < qa;){if(da >= ca.length)return !1;if(qa > ka){va=ua;va>>>=qa - ka;ca[da]|=va & 255;qa-=ka;ka=8;++da;}else qa <= ka && (va=ua,va<<=ka - qa,va&=255,va>>>=8 - ka,ca[da]|=va & 255,ka-=qa,qa=0,0 == ka && (ka=8,++da));}return !0;}for(var Sa in gb){Ha[Sa]=gb[Sa];}for(var Ba=lb,oa=[],ia=8,ca=new Uint8Array(kb.length),da=0,ka=8,fa=0;fa < kb.length;++fa){V=kb[fa];oa.push(V);Sa=ib(oa);aa=Ha[Sa];if(!aa){oa=ib(oa,oa.length - 1);if(!Oa(Ha[oa],ia))return null;0 != Ba >> ia && ++ia;Ha[Sa]=Ba++;oa=[V];}}return 0 < oa.length && (Sa=ib(oa),aa=Ha[Sa],!Oa(aa,ia))?null:ca.subarray(0,8 > ka?da + 1:da);};Ee=function(kb){var fa,V;for(var Ha=pb.slice(),Oa=0,Sa=0,Ba=8,oa=new Uint8Array(Math.ceil(1.5 * kb.length)),ia=0,ca,da=[];Oa < kb.length && !(8 * (kb.length - Oa) - Sa < Ba);){for(var ka=ca=0;ka < Ba;){fa=Math.min(Ba - ka,8 - Sa);V=kb[Oa];V<<=Sa;V&=255;V>>>=8 - fa;ka+=fa;Sa+=fa;8 == Sa && (Sa=0,++Oa);ca|=(V & 255) << Ba - ka;}ka=Ha[ca];0 == da.length?++Ba:(ka?da.push(ka[0]):da.push(da[0]),Ha[Ha.length]=da,da=[],Ha.length == 1 << Ba && ++Ba,ka || (ka=Ha[ca]));ca=ia + ka.length;ca >= oa.length && (fa=new Uint8Array(Math.ceil(1.5 * ca)),fa.set(oa),oa=fa);oa.set(ka,ia);ia=ca;da=da.concat(ka);}return oa.subarray(0,ia);};})();(function(){var ib,gb,fb;Lb="utf-8";Mb=9007199254740992;ib=Mc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Mc);Fe=function(bb){for(var lb=[ib.GZIP,ib.LZW],pb=0;pb < lb.length && 0 < bb.length;++pb){for(var kb=lb[pb],Ha=0;Ha < bb.length;++Ha){if(bb[Ha] == kb)return kb;}}return null;};gb=vd={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(vd);Ge=function(bb){return gb.AES_CBC_PKCS5Padding == bb?gb.AES_CBC_PKCS5Padding:gb.RSA_ECB_PKCS1Padding == bb?gb.RSA_ECB_PKCS1Padding:gb[bb];};fb=He={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(He);Vd=function(bb){return fb[bb];};La={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(La);})();Bb={isObjectLiteral:function(ib){return null !== ib && "object" === typeof ib && ib.constructor === Object;},extendDeep:function(){var ib,gb,fb,bb,lb,pb,kb,Ha;ib=arguments[0];gb=1;fb=arguments.length;bb=!1;"boolean" === typeof ib && (bb=ib,ib=arguments[1],gb=2);for(;gb < fb;gb++){if(null != (lb=arguments[gb]))for(pb in lb){if(!(bb && (pb in ib))){kb=lb[pb];if(ib !== kb && kb !== Ab){Ha=ib[pb];ib[pb]=null !== Ha && null !== kb && "object" === typeof Ha && "object" === typeof kb?Bb.extendDeep(bb,{},Ha,kb):kb;}}}}return ib;}};(function(){var kb,Ha;function ib(Oa,Sa){return function(){var Ba,oa;Ba=Oa.base;Oa.base=Sa;oa=Oa.apply(this,arguments);Oa.base=Ba;return oa;};}function gb(Oa,Sa,Ba){var oa,ia,ca,da;Ba=Ba || Ha;ia=! !Ba.extendAll;for(oa in Sa){ca=Sa.__lookupGetter__(oa);da=Sa.__lookupSetter__(oa);ca || da?(ca && Oa.__defineGetter__(oa,ca),da && Oa.__defineSetter__(oa,da)):(ca=Sa[oa],da=Oa[oa],"function" === typeof ca && "function" === typeof da && ca !== da?(ca.base !== Function.prototype.base && (ca=ib(ca,da)),ca.base=da):(ia || Ba[oa]) && Bb.isObjectLiteral(ca) && Bb.isObjectLiteral(da) && (ca=Bb.extendDeep({},da,ca)),Oa[oa]=ca);}}function fb(){var Oa,Sa;Oa=Array.prototype.slice;Sa=Oa.call(arguments,1);return this.extend({init:function oa(){var ia;ia=Oa.call(arguments,0);oa.base.apply(this,Sa.concat(ia));}});}function bb(Oa,Sa){var Ba;Ba=new this(kb);gb(Ba,Oa,Sa);return pb(Ba);}function lb(Oa,Sa){gb(this.prototype,Oa,Sa);return this;}function pb(Oa){var Sa;Sa=function(){var Ba;Ba=this.init;Ba && arguments[0] !== kb && Ba.apply(this,arguments);};Oa && (Sa.prototype=Oa);Sa.prototype.constructor=Sa;Sa.extend=bb;Sa.bind=fb;Sa.mixin=lb;return Sa;}kb={};Ha={actions:!0};Function.prototype.base=function(){};Bb.Class={create:pb,mixin:gb,extend:function(Oa,Sa){var Ba;Ba=pb();Ba.prototype=new Oa();return Ba.extend(Sa);}};Bb.mixin=function(){Bb.log && Bb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");gb.apply(null,arguments);};})();(function(){var kb,Ha,Oa;function ib(Sa,Ba){return function(){var oa,ia;oa=Sa.base;Sa.base=Ba;ia=Sa.apply(this,arguments);Sa.base=oa;return ia;};}function gb(Sa,Ba,oa){var ia,ca,da,ka;oa=oa || Ha;ca=! !oa.extendAll;for(ia in Ba){da=Ba.__lookupGetter__(ia);ka=Ba.__lookupSetter__(ia);da || ka?(da && Sa.__defineGetter__(ia,da),ka && Sa.__defineSetter__(ia,ka)):(da=Ba[ia],ka=Sa[ia],"function" === typeof da && "function" === typeof ka && da !== ka?(da.base !== Oa && (da=ib(da,ka)),da.base=ka):(ca || oa[ia]) && Bb.isObjectLiteral(da) && Bb.isObjectLiteral(ka) && (da=Bb.extendDeep({},ka,da)),Sa[ia]=da);}}function fb(){var Sa,Ba;Sa=Array.prototype.slice;Ba=Sa.call(arguments,1);return this.extend({init:function ia(){var ca;ca=Sa.call(arguments,0);ia.base.apply(this,Ba.concat(ca));}});}function bb(Sa,Ba){var oa;oa=new this(kb);gb(oa,Sa,Ba);return pb(oa);}function lb(Sa,Ba){gb(this.prototype,Sa,Ba);return this;}function pb(Sa){var Ba;Ba=function(){var oa;oa=this.init;oa && arguments[0] !== kb && oa.apply(this,arguments);};Sa && (Ba.prototype=Sa);Ba.prototype.constructor=Ba;Ba.extend=bb;Ba.bind=fb;Ba.mixin=lb;return Ba;}kb={};Ha={actions:!0};Oa=function(){};Function.prototype.base=Oa;Bb.Class={create:pb,mixin:gb,extend:function(Sa,Ba){var oa;oa=pb();oa.prototype=new Sa();return oa.extend(Ba);}};Bb.mixin=function(){Bb.log && Bb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");gb.apply(null,arguments);};})();(function(){function ib(fb){return fb == Mb?1:fb + 1;}function gb(fb){if(0 === Object.keys(fb._waiters).length)return 0;for(var bb=ib(fb._nextWaiter);!fb._waiters[bb];){bb=ib(bb);}return bb;}jd=Bb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(fb){var bb;if(this._waiters[fb]){bb=this._waiters[fb];delete this._waiters[fb];fb == this._nextWaiter && (this._nextWaiter=gb(this));bb.call(this,Ab);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(fb,bb){var lb,pb;lb=this;pb=ib(this._lastWaiter);this._lastWaiter=pb;eb(bb,function(){var kb,Ha;if(0 < this._queue.length){kb=this._queue.shift();setTimeout(function(){bb.result(kb);},0);}else {-1 != fb && (Ha=setTimeout(function(){delete lb._waiters[pb];pb == lb._nextWaiter && (lb._nextWaiter=gb(lb));bb.timeout();},fb));this._waiters[pb]=function(Oa){clearTimeout(Ha);setTimeout(function(){bb.result(Oa);},0);};this._nextWaiter || (this._nextWaiter=pb);}},lb);return pb;},add:function(fb){var bb;if(this._nextWaiter){bb=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=gb(this);bb.call(this,fb);}else this._queue.push(fb);}});})();(function(){var ib;ib=0 - Mb;Ie=Bb.Class.create({nextBoolean:function(){var gb;gb=new Uint8Array(1);Fc.getRandomValues(gb);return gb[0] & 1?!0:!1;},nextInt:function(gb){var fb;if(null !== gb && gb !== Ab){if("number" !== typeof gb)throw new TypeError("n must be of type number");if(1 > gb)throw new RangeError("n must be greater than zero");--gb;fb=new Uint8Array(4);Fc.getRandomValues(fb);return Math.floor(((fb[3] & 127) << 24 | fb[2] << 16 | fb[1] << 8 | fb[0]) / 2147483648 * (gb - 0 + 1));}gb=new Uint8Array(4);Fc.getRandomValues(gb);fb=(gb[3] & 127) << 24 | gb[2] << 16 | gb[1] << 8 | gb[0];return gb[3] & 128?-fb:fb;},nextLong:function(){var fb;for(var gb=ib;gb == ib;){gb=new Uint8Array(7);Fc.getRandomValues(gb);fb=16777216 * ((gb[6] & 31) << 24 | gb[5] << 16 | gb[4] << 8 | gb[3]) + (gb[2] << 16 | gb[1] << 8 | gb[0]);gb=gb[6] & 128?-fb - 1:fb;}return gb;},nextBytes:function(gb){Fc.getRandomValues(gb);}});})();(function(){function ib(bb){return bb == Mb?1:bb + 1;}function gb(bb){if(0 === Object.keys(bb._waitingReaders).length)return 0;for(var lb=ib(bb._nextReader);!bb._waitingReaders[lb];){lb=ib(lb);}return lb;}function fb(bb){if(0 === Object.keys(bb._waitingWriters).length)return 0;for(var lb=ib(bb._nextWriter);!bb._waitingWriters[lb];){lb=ib(lb);}return lb;}Wd=Bb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(bb){var lb;if(this._waitingReaders[bb]){lb=this._waitingReaders[bb];delete this._waitingReaders[bb];bb == this._nextReader && (this._nextReader=gb(this));lb.call(this,!0);}this._waitingWriters[bb] && (lb=this._waitingWriters[bb],delete this._waitingWriters[bb],bb == this._nextWriter && (this._nextWriter=fb(this)),lb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(bb,lb){var pb,kb;pb=this;kb=ib(this._lastNumber);this._lastNumber=kb;eb(lb,function(){var Ha;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[kb]=!0,kb);-1 != bb && (Ha=setTimeout(function(){delete pb._waitingReaders[kb];kb == pb._nextReader && (pb._nextReader=gb(pb));lb.timeout();},bb));this._waitingReaders[kb]=function(Oa){clearTimeout(Ha);Oa?setTimeout(function(){lb.result(Ab);},0):(pb._readers[kb]=!0,setTimeout(function(){lb.result(kb);},0));};this._nextReader || (this._nextReader=kb);},pb);return kb;},writeLock:function(bb,lb){var pb,kb;pb=this;kb=ib(this._lastNumber);this._lastNumber=kb;eb(lb,function(){var Ha;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=kb;-1 != bb && (Ha=setTimeout(function(){delete pb._waitingWriters[kb];kb == pb._nextWriter && (pb._nextWriter=fb(pb));lb.timeout();},bb));this._waitingWriters[kb]=function(Oa){clearTimeout(Ha);Oa?setTimeout(function(){lb.result(Ab);},0):(pb._writer=kb,setTimeout(function(){lb.result(kb);},0));};this._nextWriter || (this._nextWriter=kb);},pb);return kb;},unlock:function(bb){if(bb == this._writer)this._writer=null;else {if(!this._readers[bb])throw new vb("There is no reader or writer with ticket number " + bb + ".");delete this._readers[bb];}if(this._nextWriter)0 < Object.keys(this._readers).length || (bb=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=fb(this),bb.call(this,!1));else {for(var lb=this._nextReader;0 < Object.keys(this._waitingReaders).length;lb=ib(lb)){this._waitingReaders[lb] && (bb=this._waitingReaders[lb],delete this._waitingReaders[lb],bb.call(this,!1));}this._nextReader=0;}}});})();Bb.Class.mixin(W,{JSON_PARSE_ERROR:new W(0,La.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new W(1,La.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new W(2,La.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new W(3,La.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new W(4,La.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new W(5,La.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new W(6,La.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new W(7,La.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new W(8,La.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new W(9,La.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new W(10,La.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new W(11,La.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new W(12,La.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new W(13,La.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new W(14,La.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new W(15,La.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new W(16,La.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new W(17,La.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new W(18,La.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new W(19,La.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new W(20,La.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new W(21,La.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new W(22,La.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new W(23,La.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new W(24,La.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new W(25,La.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new W(26,La.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new W(27,La.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new W(28,La.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new W(29,La.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new W(30,La.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new W(31,La.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new W(32,La.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new W(33,La.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new W(34,La.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new W(35,La.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new W(36,La.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new W(37,La.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new W(38,La.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new W(39,La.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new W(40,La.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new W(41,La.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new W(42,La.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new W(43,La.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new W(44,La.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new W(45,La.FAIL,"Error exporting key."),DIGEST_ERROR:new W(46,La.FAIL,"Error in digest."),UNSUPPORTED_KEY:new W(47,La.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new W(48,La.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new W(49,La.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new W(50,La.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new W(51,La.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new W(52,La.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new W(53,La.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new W(54,La.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new W(55,La.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new W(56,La.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new W(57,La.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new W(58,La.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new W(59,La.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new W(60,La.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new W(61,La.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new W(62,La.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new W(1E3,La.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new W(1001,La.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new W(1002,La.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new W(1003,La.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new W(1004,La.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(1005,La.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new W(1006,La.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new W(1007,La.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new W(1008,La.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new W(1009,La.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new W(1010,La.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new W(1011,La.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new W(1012,La.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new W(1013,La.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new W(1014,La.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new W(2E3,La.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new W(2001,La.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new W(2002,La.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new W(2003,La.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new W(2004,La.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new W(2005,La.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(2006,La.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(2007,La.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new W(2008,La.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new W(2009,La.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new W(2010,La.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new W(2011,La.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new W(2012,La.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new W(2013,La.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new W(2014,La.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new W(2015,La.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new W(2016,La.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new W(2017,La.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new W(2018,La.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new W(2019,La.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new W(2020,La.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new W(3E3,La.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new W(3001,La.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new W(3002,La.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new W(3003,La.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new W(3004,La.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(3005,La.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new W(3006,La.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new W(3007,La.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new W(3008,La.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new W(3009,La.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new W(4E3,La.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new W(4001,La.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new W(4002,La.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new W(4003,La.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new W(4004,La.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new W(4005,La.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new W(4006,La.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new W(4007,La.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new W(4008,La.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new W(4009,La.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new W(4010,La.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new W(4011,La.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new W(4012,La.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new W(4013,La.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new W(4014,La.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new W(4015,La.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new W(4016,La.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new W(4017,La.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new W(4018,La.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new W(4019,La.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new W(4020,La.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new W(4021,La.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new W(4022,La.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new W(4023,La.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new W(4024,La.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new W(4025,La.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new W(4026,La.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new W(5E3,La.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new W(5001,La.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new W(5002,La.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new W(5003,La.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new W(5004,La.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new W(5005,La.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new W(5006,La.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new W(5007,La.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new W(5008,La.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new W(5009,La.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new W(5010,La.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new W(5011,La.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new W(5012,La.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new W(5013,La.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new W(5014,La.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new W(5015,La.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new W(5016,La.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new W(5017,La.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new W(5018,La.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new W(5019,La.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new W(5020,La.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new W(5021,La.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new W(5022,La.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new W(5023,La.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new W(5024,La.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new W(5025,La.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new W(5026,La.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new W(5027,La.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new W(5028,La.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new W(5029,La.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new W(5030,La.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new W(5031,La.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new W(5032,La.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new W(5033,La.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new W(5034,La.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new W(5035,La.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new W(5036,La.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new W(5037,La.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new W(5038,La.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new W(5039,La.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new W(5040,La.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new W(6E3,La.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new W(6001,La.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new W(6002,La.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new W(6003,La.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new W(6004,La.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new W(6005,La.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new W(6006,La.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new W(6007,La.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new W(6008,La.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new W(6009,La.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new W(6010,La.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new W(6011,La.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new W(6012,La.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new W(6013,La.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new W(6014,La.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new W(6015,La.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new W(6016,La.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new W(6017,La.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new W(6018,La.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new W(6019,La.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new W(6020,La.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new W(6021,La.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new W(6022,La.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new W(6023,La.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new W(6024,La.FAIL,"Invalid header data."),PAYLOAD_INVALID:new W(6025,La.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new W(6026,La.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new W(6027,La.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new W(6028,La.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new W(6029,La.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new W(6030,La.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new W(6031,La.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new W(6032,La.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new W(6033,La.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new W(6034,La.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new W(6035,La.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new W(6036,La.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new W(6037,La.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new W(7E3,La.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new W(7001,La.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new W(7002,La.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new W(7003,La.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new W(7004,La.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new W(7005,La.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new W(7006,La.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new W(7007,La.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new W(7008,La.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new W(7009,La.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new W(7010,La.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new W(7011,La.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new W(7012,La.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new W(7013,La.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new W(7014,La.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new W(7015,La.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new W(7016,La.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new W(8E3,La.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new W(8001,La.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new W(8002,La.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new W(8003,La.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new W(8004,La.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new W(8005,La.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new W(8006,La.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new W(8007,La.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new W(8008,La.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new W(8009,La.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new W(8010,La.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new W(8011,La.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new W(8012,La.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new W(9E3,La.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new W(9001,La.FAIL,"Error communicating with MSL entity."),NONE:new W(9999,La.FAIL,"Special unit test error.")});Object.freeze(W);(function(){db=Bb.Class.create(Error());db.mixin({init:function(ib,gb,fb){var lb,pb,kb;function bb(){return pb?pb:this.cause && this.cause instanceof db?this.cause.messageId:Ab;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);lb=ib.message;gb && (lb+=" [" + gb + "]");kb=this.stack;Object.defineProperties(this,{message:{value:lb,writable:!1,configurable:!0},error:{value:ib,writable:!1,configurable:!0},cause:{value:fb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:bb,set:function(Ha){if(0 > Ha || Ha > Mb)throw new RangeError("Message ID " + Ha + " is outside the valid range.");bb() || (pb=Ha);},configurable:!0},stack:{get:function(){var Ha;Ha=this.toString();kb && (Ha+="\n" + kb);fb && fb.stack && (Ha+="\nCaused by " + fb.stack);return Ha;},configurable:!0}});},setEntity:function(ib){!ib || this.masterToken || this.entityAuthenticationData || (ib instanceof ic?this.masterToken=ib:ib instanceof Nc && (this.entityAuthenticationData=ib));return this;},setUser:function(ib){!ib || this.userIdToken || this.userAuthenticationData || (ib instanceof ad?this.userIdToken=ib:ib instanceof Gc && (this.userAuthenticationData=ib));return this;},setMessageId:function(ib){this.messageId=ib;return this;},toString:function(){return this.name + ": " + this.message;}});})();ub=db.extend({init:function lb(gb,fb,bb){lb.base.call(this,gb,fb,bb);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});yb=db.extend({init:function pb(fb,bb,lb){pb.base.call(this,fb,bb,lb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});xc=db.extend({init:function kb(bb,lb,pb){kb.base.call(this,bb,lb,pb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){kc=Bb.Class.create(Error());kc.mixin({init:function(bb,lb,pb){var kb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);kb=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},requestCause:{value:pb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Ha;Ha=this.toString();kb && (Ha+="\n" + kb);lb && lb.stack && (Ha+="\nCaused by " + lb.stack);return Ha;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Vb=Bb.Class.create(Error());Vb.mixin({init:function(bb,lb){var pb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);pb=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var kb;kb=this.toString();pb && (kb+="\n" + pb);lb && lb.stack && (kb+="\nCaused by " + lb.stack);return kb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){vb=Bb.Class.create(Error());vb.mixin({init:function(bb,lb){var pb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);pb=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var kb;kb=this.toString();pb && (kb+="\n" + pb);lb && lb.stack && (kb+="\nCaused by " + lb.stack);return kb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){$b=Bb.Class.create(Error());$b.mixin({init:function(bb,lb){var pb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);pb=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var kb;kb=this.toString();pb && (kb+="\n" + pb);lb && lb.stack && (kb+="\nCaused by " + lb.stack);return kb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Pb=db.extend({init:function Ha(lb,pb,kb){Ha.base.call(this,lb,pb,kb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Oc=db.extend({init:function Ha(pb,kb){Ha.base.call(this,pb);Object.defineProperties(this,{masterToken:{value:kb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ib=db.extend({init:function Sa(kb,Ha,Oa){Sa.base.call(this,kb,Ha,Oa);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Hb=db.extend({init:function Ba(Ha,Oa,Sa){Ba.base.call(this,Ha,Oa,Sa);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var oa;function Ha(ia){return "undefined" === typeof ia?!1:ia;}function Oa(ia){return ia && ia.length?(cc === oa.V2014_02 && (ia=ia.map(function(ca){return "wrap" == ca?"wrapKey":"unwrap" == ca?"unwrapKey":ca;})),ia):cc === oa.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Sa(ia,ca,da,ka,fa){return Promise.resolve().then(function(){return Qb.importKey(ia,ca,da,ka,fa);}).catch(function(V){var aa;if("spki" !== ia && "pkcs8" !== ia)throw V;V=ASN1.webCryptoAlgorithmToJwkAlg(da);aa=ASN1.webCryptoUsageToJwkKeyOps(fa);V=ASN1.rsaDerToJwk(ca,V,aa,ka);if(!V)throw Error("Could not make valid JWK from DER input");V=JSON.stringify(V);return Qb.importKey("jwk",Qd(V),da,ka,fa);});}function Ba(ia,ca){return Promise.resolve().then(function(){return Qb.exportKey(ia,ca);}).catch(function(da){if("spki" !== ia && "pkcs8" !== ia)throw da;return Qb.exportKey("jwk",ca).then(function(ka){ka=JSON.parse(Pd(new Uint8Array(ka)));ka=ASN1.jwkToRsaDer(ka);if(!ka)throw Error("Could not make valid DER from JWK input");return ka.getDer().buffer;});});}oa=wd={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(wd);cc=oa.LATEST;Jb={encrypt:function(ia,ca,da){switch(cc){case oa.LEGACY:return new Promise(function(ka,fa){var V;V=Qb.encrypt(ia,ca,da);V.oncomplete=function(aa){ka(aa.target.result);};V.onerror=function(aa){fa(aa);};});case oa.V2014_01:case oa.V2014_02:return Qb.encrypt(ia,ca,da).then(function(ka){return new Uint8Array(ka);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(ia,ca,da){switch(cc){case oa.LEGACY:return new Promise(function(ka,fa){var V;V=Qb.decrypt(ia,ca,da);V.oncomplete=function(aa){ka(aa.target.result);};V.onerror=function(aa){fa(aa);};});case oa.V2014_01:case oa.V2014_02:return Qb.decrypt(ia,ca,da).then(function(ka){return new Uint8Array(ka);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(ia,ca,da){switch(cc){case oa.LEGACY:return new Promise(function(ka,fa){var V;V=Qb.sign(ia,ca,da);V.oncomplete=function(aa){ka(aa.target.result);};V.onerror=function(aa){fa(aa);};});case oa.V2014_01:case oa.V2014_02:return Qb.sign(ia,ca,da).then(function(ka){return new Uint8Array(ka);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(ia,ca,da,ka){switch(cc){case oa.LEGACY:return new Promise(function(fa,V){var aa;aa=Qb.verify(ia,ca,da,ka);aa.oncomplete=function(ua){fa(ua.target.result);};aa.onerror=function(ua){V(ua);};});case oa.V2014_01:case oa.V2014_02:return Qb.verify(ia,ca,da,ka);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(ia,ca){switch(cc){case oa.LEGACY:return new Promise(function(da,ka){var fa;fa=Qb.digest(ia,ca);fa.oncomplete=function(V){da(V.target.result);};fa.onerror=function(V){ka(V);};});case oa.V2014_01:case oa.V2014_02:return Qb.digest(ia,ca).then(function(da){return new Uint8Array(da);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(ia,ca,da){var ka,fa;ka=Ha(ca);fa=Oa(da);switch(cc){case oa.LEGACY:return new Promise(function(V,aa){var ua;ua=Qb.generateKey(ia,ka,fa);ua.oncomplete=function(qa){V(qa.target.result);};ua.onerror=function(qa){aa(qa);};});case oa.V2014_01:case oa.V2014_02:return Qb.generateKey(ia,ka,fa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(ia,ca,da,ka,fa){var V,aa;V=Ha(ka);aa=Oa(fa);switch(cc){case oa.LEGACY:return new Promise(function(ua,qa){var va;va=Qb.deriveKey(ia,ca,da,V,aa);va.oncomplete=function(Da){ua(Da.target.result);};va.onerror=function(Da){qa(Da);};});case oa.V2014_01:case oa.V2014_02:return Qb.deriveKey(ia,ca,da,V,aa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(ia,ca,da,ka,fa){var V,aa;V=Ha(ka);aa=Oa(fa);switch(cc){case oa.LEGACY:return new Promise(function(ua,qa){var va;va=Qb.importKey(ia,ca,da,V,aa);va.oncomplete=function(Da){ua(Da.target.result);};va.onerror=function(Da){qa(Da);};});case oa.V2014_01:case oa.V2014_02:return Sa(ia,ca,da,V,aa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(ia,ca){switch(cc){case oa.LEGACY:return new Promise(function(da,ka){var fa;fa=Qb.exportKey(ia,ca);fa.oncomplete=function(V){da(V.target.result);};fa.onerror=function(V){ka(V);};});case oa.V2014_01:case oa.V2014_02:return Ba(ia,ca).then(function(da){return new Uint8Array(da);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(ia,ca,da,ka){switch(cc){case oa.LEGACY:return new Promise(function(fa,V){var aa;aa=Qb.wrapKey(ca,da,ka);aa.oncomplete=function(ua){fa(ua.target.result);};aa.onerror=function(ua){V(ua);};});case oa.V2014_01:case oa.V2014_02:return Qb.wrapKey(ia,ca,da,ka).then(function(fa){return new Uint8Array(fa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(ia,ca,da,ka,fa,V,aa){switch(cc){case oa.LEGACY:return new Promise(function(ua,qa){var va;va=Qb.unwrapKey(ca,fa,da);va.oncomplete=function(Da){ua(Da.target.result);};va.onerror=function(Da){qa(Da);};});case oa.V2014_01:case oa.V2014_02:return Qb.unwrapKey(ia,ca,da,ka,fa,Ha(V),Oa(aa));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};ud && ud.getKeyByName && (Jb.getKeyByName=function(ia){switch(cc){case oa.LEGACY:return new Promise(function(ca,da){var ka;ka=ud.getKeyByName(ia);ka.oncomplete=function(fa){ca(fa.target.result);};ka.onerror=function(fa){da(fa);};});case oa.V2014_01:case oa.V2014_02:return ud.getKeyByName(ia);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});nb.netflix=nb.netflix || ({});nb.netflix.crypto=Jb;})();yc={name:"AES-KW"};rc={name:"AES-CBC"};sc={name:"HMAC",hash:{name:"SHA-256"}};xd={name:"RSA-OAEP",hash:{name:"SHA-1"}};Xd={name:"RSAES-PKCS1-v1_5"};Je={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Hc=["encrypt","decrypt"];Ic=["wrap","unwrap"];Pc=["sign","verify"];(function(){Yd=Bb.Class.create({init:function(Ha,Oa,Sa){var oa;function Ba(ia){Ma(Oa,function(){var ca;ca=ia?Db(ia):Ab;Object.defineProperties(oa,{rawKey:{value:Ha,writable:!1,configurable:!1},keyData:{value:ia,writable:!1,configurable:!1},keyDataB64:{value:ca,writable:!1,configurable:!1}});return this;},oa);}oa=this;Ma(Oa,function(){if(!Ha || "object" != typeof Ha)throw new ub(W.INVALID_SYMMETRIC_KEY);!Sa && Ha.extractable?Jb.exportKey("raw",Ha).then(function(ia){Ba(new Uint8Array(ia));},function(ia){Oa.error(new ub(W.KEY_EXPORT_ERROR,"raw"));}):Ba(Sa);},oa);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Zc=function(Ha,Oa){new Yd(Ha,Oa);};zc=function(Ha,Oa,Sa,Ba){Ma(Ba,function(){try{Ha="string" == typeof Ha?Gb(Ha):Ha;}catch(oa){throw new ub(W.INVALID_SYMMETRIC_KEY,"keydata " + Ha,oa);}Jb.importKey("raw",Ha,Oa,!0,Sa).then(function(oa){new Yd(oa,Ba,Ha);},function(oa){Ba.error(new ub(W.INVALID_SYMMETRIC_KEY));});});};})();(function(){yd=Bb.Class.create({init:function(Ha,Oa,Sa){var oa;function Ba(ia){Ma(Oa,function(){Object.defineProperties(oa,{rawKey:{value:Ha,writable:!1,configurable:!1},encoded:{value:ia,writable:!1,configurable:!1}});return this;},oa);}oa=this;Ma(Oa,function(){if(!Ha || "object" != typeof Ha || "public" != Ha.type)throw new TypeError("Only original public crypto keys are supported.");!Sa && Ha.extractable?Jb.exportKey("spki",Ha).then(function(ia){Ba(new Uint8Array(ia));},function(ia){Oa.error(new ub(W.KEY_EXPORT_ERROR,"spki"));}):Ba(Sa);});},getEncoded:function(){return this.encoded;}});Lc=function(Ha,Oa){new yd(Ha,Oa);};Zd=function(Ha,Oa,Sa,Ba){Ma(Ba,function(){try{Ha="string" == typeof Ha?Gb(Ha):Ha;}catch(oa){throw new ub(W.INVALID_PUBLIC_KEY,"spki " + Ha,oa);}Jb.importKey("spki",Ha,Oa,!0,Sa).then(function(oa){new yd(oa,Ba,Ha);},function(oa){Ba.error(new ub(W.INVALID_PUBLIC_KEY));});});};})();(function(){Ke=Bb.Class.create({init:function(Ha,Oa,Sa){var oa;function Ba(ia){Ma(Oa,function(){Object.defineProperties(oa,{rawKey:{value:Ha,writable:!1,configurable:!1},encoded:{value:ia,writable:!1,configurable:!1}});return this;},oa);}oa=this;Ma(Oa,function(){if(!Ha || "object" != typeof Ha || "private" != Ha.type)throw new TypeError("Only original private crypto keys are supported.");!Sa && Ha.extractable?Jb.exportKey("pkcs8",Ha).then(function(ia){Ba(new Uint8Array(ia));},function(ia){Oa.error(new ub(W.KEY_EXPORT_ERROR,"pkcs8"));}):Ba(Sa);});},getEncoded:function(){return this.encoded;}});$c=function(Ha,Oa){new Ke(Ha,Oa);};})();(function(){var Ha;Ha=ce={V1:1,V2:2};$d=Bb.Class.create({init:function(Oa,Sa,Ba,oa){Ma(oa,function(){var ia,ca,da,ka;ia=Ha.V1;ca=Oa;da=null;for(ka in vd){if(vd[ka] == Oa){ia=Ha.V2;ca=null;da=Oa;break;}}Object.defineProperties(this,{version:{value:ia,writable:!1,enumerable:!1,configurable:!1},keyId:{value:ca,writable:!1,configurable:!1},cipherSpec:{value:da,writable:!1,configurable:!1},iv:{value:Sa,writable:!1,configurable:!1},ciphertext:{value:Ba,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var Oa;Oa={};switch(this.version){case Ha.V1:Oa.keyid=this.keyId;this.iv && (Oa.iv=Db(this.iv));Oa.ciphertext=Db(this.ciphertext);Oa.sha256="AA==";break;case Ha.V2:Oa.version=this.version;Oa.cipherspec=this.cipherSpec;this.iv && (Oa.iv=Db(this.iv));Oa.ciphertext=Db(this.ciphertext);break;default:throw new vb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return Oa;}});ae=function(Oa,Sa,Ba,oa){new $d(Oa,Sa,Ba,oa);};be=function(Oa,Sa,Ba){Ma(Ba,function(){var oa,ia,ca,da,ka,fa,V;oa=Oa.keyid;ia=Oa.cipherspec;ca=Oa.iv;da=Oa.ciphertext;ka=Oa.sha256;if(!Sa)if((Sa=Oa.version) && "number" === typeof Sa && Sa === Sa){fa=!1;for(V in Ha){if(Ha[V] == Sa){fa=!0;break;}}if(!fa)throw new ub(W.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Oa));}else Sa=Ha.V1;switch(Sa){case Ha.V1:if("string" !== typeof oa || ca && "string" !== typeof ca || "string" !== typeof da || "string" !== typeof ka)throw new yb(W.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Oa));break;case Ha.V2:V=Oa.version;if(V != Ha.V2)throw new ub(W.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Oa));if("string" !== typeof ia || ca && "string" !== typeof ca || "string" !== typeof da)throw new yb(W.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Oa));ia=Ge(ia);if(!ia)throw new ub(W.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(Oa));oa=ia;break;default:throw new ub(W.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Oa));}try{ca && (ca=Gb(ca));da=Gb(da);}catch(aa){throw new ub(W.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(Oa),aa);}new $d(oa,ca,da,Ba);});};})();(function(){var Ha;Ha=fe={V1:1,V2:2};Ac=Bb.Class.create({init:function(Oa,Sa,Ba){var oa;switch(Oa){case Ha.V1:oa=Ba;break;case Ha.V2:oa={};oa.version=Oa;oa.algorithm=Sa;oa.signature=Db(Ba);oa=Rb(JSON.stringify(oa),Lb);break;default:throw new vb("Signature envelope version " + Oa + " encoding unsupported.");}Object.defineProperties(this,{version:{value:Oa,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Sa,writable:!1,configurable:!1},signature:{value:Ba,writable:!1,configurable:!1},bytes:{value:oa,writable:!1,configurable:!1}});}});de=function(){var Oa,Sa,Ba,oa;if(2 == arguments.length){Oa=Ha.V1;Sa=arguments[0];Ba=null;oa=arguments[1];}else 3 == arguments.length && (Oa=Ha.V2,Ba=arguments[0],Sa=arguments[1],oa=arguments[2]);Ma(oa,function(){return new Ac(Oa,Ba,Sa);});};ee=function(Oa,Sa,Ba){Ma(Ba,function(){var oa,ia,ca,da,ka,fa,V;if(Sa)switch(Sa){case Ha.V1:return new Ac(Ha.V1,null,Oa);case Ha.V2:try{oa=Tb(Oa,Lb);ia=JSON.parse(oa);ca=parseInt(ia.version);da=ia.algorithm;ka=ia.signature;if(!ca || "number" !== typeof ca || ca != ca || "string" !== typeof da || "string" !== typeof ka)throw new yb(W.JSON_PARSE_ERROR,"signature envelope " + Db(Oa));if(Ha.V2 != ca)throw new ub(W.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Db(Oa));fa=Vd(da);if(!fa)throw new ub(W.UNIDENTIFIED_ALGORITHM,"signature envelope " + Db(Oa));V=Gb(ka);if(!V)throw new ub(W.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(Oa));return new Ac(Ha.V2,fa,V);}catch(aa){if(aa instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"signature envelope " + Db(Oa),aa);throw aa;}default:throw new ub(W.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Db(Oa));}try{oa=Tb(Oa,Lb);ia=JSON.parse(oa);}catch(aa){ia=null;}if(ia && ia.version){if((oa=ia.version,"number" !== typeof oa || oa !== oa))oa=Ha.V1;}else oa=Ha.V1;switch(oa){case Ha.V1:return new Ac(oa,null,Oa);case Ha.V2:fa=ia.algorithm;ka=ia.signature;if("string" !== typeof fa || "string" !== typeof ka)return new Ac(Ha.V1,null,Oa);fa=Vd(fa);if(!fa)return new Ac(Ha.V1,null,Oa);try{V=Gb(ka);}catch(aa){return new Ac(Ha.V1,null,Oa);}return new Ac(oa,fa,V);default:throw new ub(W.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Oa);}});};})();bd=Bb.Class.create({encrypt:function(Ha,Oa){},decrypt:function(Ha,Oa){},wrap:function(Ha,Oa){},unwrap:function(Ha,Oa,Sa,Ba){},sign:function(Ha,Oa){},verify:function(Ha,Oa,Sa){}});(function(){var Ha;Ha=Cc={RSA_OAEP:xd.name,A128KW:yc.name};wc="A128GCM";Bc=Bb.Class.create({init:function(Oa,Sa,Ba,oa,ia){switch(Sa){case Ha.RSA_OAEP:ia=ia && (ia.rawKey || ia);oa=oa && (oa.rawKey || oa);break;case Ha.A128KW:ia=oa=oa && (oa.rawKey || oa);break;default:throw new vb("Unsupported algorithm: " + Sa);}Object.defineProperties(this,{_ctx:{value:Oa,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Sa,writable:!1,enumerable:!1,configurable:!1},_enc:{value:Ba,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:ia,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Oa,Sa){Sa.error(new ub(W.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Oa,Sa){Sa.error(new ub(W.DECRYPT_NOT_SUPPORTED));},wrap:function(Oa,Sa){Ma(Sa,function(){Jb.wrapKey("jwe+jwk",Oa.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(Ba){Sa.result(Ba);},function(Ba){Sa.error(new ub(W.WRAP_ERROR));});},this);},unwrap:function(Oa,Sa,Ba,oa){function ia(ca){Ma(oa,function(){switch(ca.type){case "secret":Zc(ca,oa);break;case "public":Lc(ca,oa);break;case "private":$c(ca,oa);break;default:throw new ub(W.UNSUPPORTED_KEY,"type: " + ca.type);}});}Ma(oa,function(){Jb.unwrapKey("jwe+jwk",Oa,this._unwrapKey,this._unwrapKey.algorithm,Sa,!1,Ba).then(function(ca){ia(ca);},function(){oa.error(new ub(W.UNWRAP_ERROR));});},this);},sign:function(Oa,Sa){Sa.error(new ub(W.SIGN_NOT_SUPPORTED));},verify:function(Oa,Sa,Ba){Ba.error(new ub(W.VERIFY_NOT_SUPPORTED));}});})();cd=bd.extend({encrypt:function(Ha,Oa){Oa.result(Ha);},decrypt:function(Ha,Oa){Oa.result(Ha);},wrap:function(Ha,Oa){Oa.result(Ha);},unwrap:function(Ha,Oa,Sa,Ba){Ba.result(Ha);},sign:function(Ha,Oa){Oa.result(new Uint8Array(0));},verify:function(Ha,Oa,Sa){Sa.result(!0);}});(function(){var Ha;Ha=Ad={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};zd=bd.extend({init:function da(Sa,Ba,oa,ia,ca){da.base.call(this);oa && (oa=oa.rawKey);ia && (ia=ia.rawKey);Object.defineProperties(this,{id:{value:Ba,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:oa,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:ia,writable:!1,enumerable:!1,configurable:!1},transform:{value:ca == Ha.ENCRYPT_DECRYPT_PKCS1?Xd:ca == Ha.ENCRYPT_DECRYPT_OAEP?xd:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:ca == Ha.WRAP_UNWRAP_PKCS1?Xd:ca == Ha.WRAP_UNWRAP_OAEP?xd:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:ca == Ha.SIGN_VERIFY?Je:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Sa,Ba){var oa;oa=this;Ma(Ba,function(){if("nullOp" == this.transform)return Sa;if(!this.publicKey)throw new ub(W.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Sa.length)return Sa;Jb.encrypt(oa.transform,oa.publicKey,Sa).then(function(ia){ae(oa.id,null,ia,{result:function(ca){var da;try{da=JSON.stringify(ca);Ba.result(Rb(da,Lb));}catch(ka){Ba.error(new ub(W.ENCRYPT_ERROR,null,ka));}},error:function(ca){ca instanceof db || (ca=new ub(W.ENCRYPT_ERROR,null,ca));Ba.error(ca);}});},function(ia){Ba.error(new ub(W.ENCRYPT_ERROR));});},this);},decrypt:function(Sa,Ba){var oa;oa=this;Ma(Ba,function(){var ia,ca;if("nullOp" == this.transform)return Sa;if(!this.privateKey)throw new ub(W.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Sa.length)return Sa;try{ia=Tb(Sa,Lb);ca=JSON.parse(ia);}catch(da){if(da instanceof SyntaxError)throw new ub(W.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,da);throw new ub(W.DECRYPT_ERROR,null,da);}be(ca,ce.V1,{result:function(da){var ka;try{if(da.keyId != oa.id)throw new ub(W.ENVELOPE_KEY_ID_MISMATCH);ka=Ba.result;Jb.decrypt(oa.transform,oa.privateKey,da.ciphertext).then(ka,function(fa){Ba.error(new ub(W.DECRYPT_ERROR));});}catch(fa){fa instanceof db?Ba.error(fa):Ba.error(new ub(W.DECRYPT_ERROR,null,fa));}},error:function(da){da instanceof yb && (da=new ub(W.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,da));da instanceof db || (da=new ub(W.DECRYPT_ERROR,null,da));Ba.error(da);}});},this);},wrap:function(Sa,Ba){Ma(Ba,function(){var oa;if("nullOp" == this.wrapTransform || !this.publicKey)throw new ub(W.WRAP_NOT_SUPPORTED,"no public key");oa=Ba.result;Jb.wrapKey("jwk",Sa.rawKey,this.publicKey,this.wrapTransform).then(oa,function(ia){Ba.error(new ub(W.WRAP_ERROR));});},this);},unwrap:function(Sa,Ba,oa,ia){function ca(da){Ma(ia,function(){switch(da.type){case "secret":Zc(da,ia);break;case "public":Lc(da,ia);break;case "private":$c(da,ia);break;default:throw new ub(W.UNSUPPORTED_KEY,"type: " + da.type);}});}Ma(ia,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new ub(W.UNWRAP_NOT_SUPPORTED,"no private key");Jb.unwrapKey("jwk",Sa,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},Ba,!1,oa).then(ca,function(da){ia.error(new ub(W.UNWRAP_ERROR));});},this);},sign:function(Sa,Ba){Ma(Ba,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new ub(W.SIGN_NOT_SUPPORTED,"no private key");Jb.sign(this.algo,this.privateKey,Sa).then(function(oa){de(oa,{result:function(ia){Ba.result(ia.bytes);},error:Ba.error});},function(oa){Ba.error(new ub(W.SIGNATURE_ERROR));});},this);},verify:function(Sa,Ba,oa){var ia;ia=this;Ma(oa,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new ub(W.VERIFY_NOT_SUPPORTED,"no public key");ee(Ba,fe.V1,{result:function(ca){Ma(oa,function(){var da;da=oa.result;Jb.verify(this.algo,this.publicKey,ca.signature,Sa).then(da,function(ka){oa.error(new ub(W.SIGNATURE_ERROR));});},ia);},error:oa.error});},this);}});})();(function(){Bd=bd.extend({init:function ca(Oa,Sa,Ba,oa,ia){ca.base.call(this);Ba=Ba && Ba.rawKey;oa=oa && oa.rawKey;ia=ia && ia.rawKey;Object.defineProperties(this,{ctx:{value:Oa,writable:!1,enumerable:!1,configurable:!1},id:{value:Sa,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:Ba,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:ia,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Oa,Sa){var Ba;Ba=this;Ma(Sa,function(){var oa;if(!this.encryptionKey)throw new ub(W.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Oa.length)return Oa;oa=new Uint8Array(16);this.ctx.getRandom().nextBytes(oa);Jb.encrypt({name:rc.name,iv:oa},Ba.encryptionKey,Oa).then(function(ia){ia=new Uint8Array(ia);ae(Ba.id,oa,ia,{result:function(ca){var da;try{da=JSON.stringify(ca);Sa.result(Rb(da,Lb));}catch(ka){Sa.error(new ub(W.ENCRYPT_ERROR,null,ka));}},error:function(ca){ca instanceof db || (ca=new ub(W.ENCRYPT_ERROR,null,ca));Sa.error(ca);}});},function(ia){Sa.error(new ub(W.ENCRYPT_ERROR));});},this);},decrypt:function(Oa,Sa){var Ba;Ba=this;Ma(Sa,function(){var oa,ia;if(!this.encryptionKey)throw new ub(W.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Oa.length)return Oa;try{oa=Tb(Oa,Lb);ia=JSON.parse(oa);}catch(ca){if(ca instanceof SyntaxError)throw new ub(W.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,ca);throw new ub(W.DECRYPT_ERROR,null,ca);}be(ia,ce.V1,{result:function(ca){try{if(ca.keyId != Ba.id)throw new ub(W.ENVELOPE_KEY_ID_MISMATCH);Jb.decrypt({name:rc.name,iv:ca.iv},Ba.encryptionKey,ca.ciphertext).then(function(da){da=new Uint8Array(da);Sa.result(da);},function(){Sa.error(new ub(W.DECRYPT_ERROR));});}catch(da){da instanceof db?Sa.error(da):Sa.error(new ub(W.DECRYPT_ERROR,null,da));}},error:function(ca){ca instanceof yb && (ca=new ub(W.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,ca));ca instanceof db || (ca=new ub(W.DECRYPT_ERROR,null,ca));Sa.error(ca);}});},this);},wrap:function(Oa,Sa){Ma(Sa,function(){if(!this.wrapKey)throw new ub(W.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.wrapKey("raw",Oa.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(Ba){Sa.result(Ba);},function(Ba){Sa.error(new ub(W.WRAP_ERROR));});},this);},unwrap:function(Oa,Sa,Ba,oa){function ia(ca){Ma(oa,function(){switch(ca.type){case "secret":Zc(ca,oa);break;case "public":Lc(ca,oa);break;case "private":$c(ca,oa);break;default:throw new ub(W.UNSUPPORTED_KEY,"type: " + ca.type);}});}Ma(oa,function(){if(!this.wrapKey)throw new ub(W.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.unwrapKey("raw",Oa,this.wrapKey,this.wrapKey.algorithm,Sa,!1,Ba).then(function(ca){ia(ca);},function(ca){oa.error(new ub(W.UNWRAP_ERROR));});},this);},sign:function(Oa,Sa){var Ba;Ba=this;Ma(Sa,function(){if(!this.hmacKey)throw new ub(W.SIGN_NOT_SUPPORTED,"no HMAC key.");Jb.sign(sc,this.hmacKey,Oa).then(function(oa){Ma(Sa,function(){var ia;ia=new Uint8Array(oa);de(ia,{result:function(ca){Sa.result(ca.bytes);},error:Sa.error});},Ba);},function(){Sa.error(new ub(W.HMAC_ERROR));});},this);},verify:function(Oa,Sa,Ba){var oa;oa=this;Ma(Ba,function(){if(!this.hmacKey)throw new ub(W.VERIFY_NOT_SUPPORTED,"no HMAC key.");ee(Sa,fe.V1,{result:function(ia){Ma(Ba,function(){Jb.verify(sc,this.hmacKey,ia.signature,Oa).then(function(ca){Ba.result(ca);},function(ca){Ba.error(new ub(W.HMAC_ERROR));});},oa);},error:Ba.error});},this);}});})();jc=Bd.extend({init:function ca(Oa,Sa,Ba,oa,ia){if(Ba || oa || ia)ca.base.call(this,Oa,Ba + "_" + Sa.sequenceNumber,oa,ia,null);else {if(!Sa.isDecrypted())throw new Oc(W.MASTERTOKEN_UNTRUSTED,Sa);ca.base.call(this,Oa,Sa.identity + "_" + Sa.sequenceNumber,Sa.encryptionKey,Sa.hmacKey,null);}}});Kf=bd.extend({encrypt:function(Oa,Sa){Sa.result(Oa);},decrypt:function(Oa,Sa){Sa.result(Oa);},wrap:function(Oa,Sa){Sa.error(new vb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(Oa,Sa,Ba,oa){oa.error(new vb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(Oa,Sa){Sa.result(new Uint8Array(0));},verify:function(Oa,Sa,Ba){Ba.result(!1);}});Ob={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Ob);(function(){Nc=Bb.Class.create({init:function(Oa){Object.defineProperties(this,{scheme:{value:Oa,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(Oa){return this === Oa?!0:Oa instanceof Nc?this.scheme == Oa.scheme:!1;},toJSON:function(){var Oa;Oa={};Oa.scheme=this.scheme;Oa.authdata=this.getAuthData();return Oa;}});Le=function(Oa,Sa){var Ba,oa;Ba=Sa.scheme;oa=Sa.authdata;if(!Ba || !oa)throw new yb(W.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Sa));if(!Ob[Ba])throw new xc(W.UNIDENTIFIED_ENTITYAUTH_SCHEME,Ba);Sa=Oa.getEntityAuthenticationFactory(Ba);if(!Sa)throw new xc(W.ENTITYAUTH_FACTORY_NOT_FOUND,Ba);return Sa.createData(Oa,oa);};})();Cd=Bb.Class.create({init:function(Oa){Object.defineProperties(this,{scheme:{value:Oa,writable:!1,configurable:!1}});},createData:function(Oa,Sa){},getCryptoContext:function(Oa,Sa){}});(function(){oc=Nc.extend({init:function Ba(Sa){Ba.base.call(this,Ob.MGK);Object.defineProperties(this,{identity:{value:Sa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Sa;Sa={};Sa.identity=this.identity;return Sa;},equals:function oa(Ba){return this === Ba?!0:Ba instanceof oc?oa.base.call(this,this,Ba) && this.identity == Ba.identity:!1;}});Me=function(Ba){var oa;oa=Ba.identity;if(!oa)throw new yb(W.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(Ba));return new oc(oa);};})();Lf=Cd.extend({init:function Ba(Sa){Ba.base.call(this,Ob.MGK);Object.defineProperties(this,{localIdentity:{value:Sa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Sa,Ba){return Me(Ba);},getCryptoContext:function(Sa,Ba){if(!(Ba instanceof oc))throw new vb("Incorrect authentication data type " + JSON.stringify(Ba) + ".");if(Ba.identity != this.localIdentity)throw new xc(W.ENTITY_NOT_FOUND,"mgk " + Ba.identity).setEntity(Ba);return new cd();}});(function(){tc=Nc.extend({init:function oa(Ba){oa.base.call(this,Ob.PSK);Object.defineProperties(this,{identity:{value:Ba,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Ba;Ba={};Ba.identity=this.identity;return Ba;},equals:function ia(oa){return this === oa?!0:oa instanceof tc?ia.base.call(this,this,oa) && this.identity == oa.identity:!1;}});Ne=function(oa){var ia;ia=oa.identity;if(!ia)throw new yb(W.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(oa));return new tc(ia);};})();Mf=Cd.extend({init:function oa(Ba){oa.base.call(this,Ob.PSK);Object.defineProperties(this,{localIdentity:{value:Ba,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Ba,oa){return Ne(oa);},getCryptoContext:function(Ba,oa){if(!(oa instanceof tc))throw new vb("Incorrect authentication data type " + JSON.stringify(oa) + ".");if(oa.getIdentity() != this.localIdentity)throw new xc(W.ENTITY_NOT_FOUND,"psk " + oa.identity).setEntity(oa);return new cd();}});(function(){Dd=Nc.extend({init:function ca(oa,ia){ca.base.call(this,Ob.RSA);Object.defineProperties(this,{identity:{value:oa,writable:!1,configurable:!1},publicKeyId:{value:ia,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var oa;oa={};oa.identity=this.identity;oa.pubkeyid=this.publicKeyId;return oa;},equals:function ca(ia){return this === ia?!0:ia instanceof Dd?ca.base.call(this,this,ia) && this.identity == ia.identity && this.publicKeyId == ia.publicKeyId:!1;}});Oe=function(ia){var ca,da;ca=ia.identity;da=ia.pubkeyid;if(!ca || "string" !== typeof ca || !da || "string" !== typeof da)throw new yb(W.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(ia));return new Dd(ca,da);};})();Nf=Cd.extend({init:function ia(oa){ia.base.call(this,Ob.RSA);Object.defineProperties(this,{store:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(oa,ia){return Oe(ia);},getCryptoContext:function(oa,ia){var ca,da,ka;if(!(ia instanceof Dd))throw new vb("Incorrect authentication data type " + ia + ".");ca=ia.identity;da=ia.publicKeyId;ka=this.store.getPublicKey(da);if(!ka)throw new xc(W.RSA_PUBLICKEY_NOT_FOUND,da).setEntity(ia);return new zd(oa,ca,null,ka,Ad.SIGN_VERIFY);}});(function(){id=Nc.extend({init:function ca(ia){ca.base.call(this,Ob.NONE);Object.defineProperties(this,{identity:{value:ia,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ia;ia={};ia.identity=this.identity;return ia;},equals:function da(ca){return this === ca?!0:ca instanceof id?da.base.call(this,this,ca) && this.identity == ca.identity:!1;}});Pe=function(ca){var da;da=ca.identity;if(!da)throw new yb(W.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(ca));return new id(da);};})();Jf=Cd.extend({init:function ia(){ia.base.call(this,Ob.NONE);},createData:function(ia,ca){return Pe(ca);},getCryptoContext:function(ia,ca){if(!(ca instanceof id))throw new vb("Incorrect authentication data type " + JSON.stringify(ca) + ".");return new cd();}});Of=Bb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(ia,ca){if(!(ca instanceof yd))throw new vb("Incorrect key data type " + ca + ".");this.rsaKeys[ia]=ca;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(ia){delete this.rsaKeys[ia];},getPublicKey:function(ia){return this.rsaKeys[ia];}});ge=Bb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ia,ca,da){}});Ed=Bb.Class.create({abort:function(){},close:function(ia,ca){},write:function(ia,ca,da,ka,fa){},flush:function(ia,ca){}});Pf=Bb.Class.create({init:function(ia){Object.defineProperties(this,{_data:{value:ia,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Vb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(ia,ca,da){eb(da,function(){var ka;if(this._closed)throw new Vb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == ia && (ia=this._data.length - this._currentPosition);ka=this._data.subarray(this._currentPosition,this._currentPosition + ia);this._currentPosition+=ka.length;return ka;},this);}});Qf=Bb.Class.create({init:function(){var ia;ia={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ia);},abort:function(){},close:function(ia,ca){this._closed=!0;ca.result(!0);},write:function(ia,ca,da,ka,fa){eb(fa,function(){var V;if(this._closed)throw new Vb("Stream is already closed.");if(0 > ca)throw new RangeError("Offset cannot be negative.");if(0 > da)throw new RangeError("Length cannot be negative.");if(ca + da > ia.length)throw new RangeError("Offset plus length cannot be greater than the array length.");V=ia.subarray(ca,da);this._buffered.push(V);return V.length;},this);},flush:function(ia,ca){var da;for(;0 < this._buffered.length;){if((ia=this._buffered.shift(),this._result)){da=new Uint8Array(this._result.length + ia.length);da.set(this._result);da.set(ia,this._result.length);this._result=da;}else this._result=new Uint8Array(ia);}ca.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Rf=Bb.Class.create({getResponse:function(ia,ca,da){}});(function(){var ia,ca;ia=Ed.extend({init:function(da,ka){da={_httpLocation:{value:da,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:ka,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Qf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new jd(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,da);},setTimeout:function(da){this._timeout=da;},getResponse:function(da,ka){var fa;fa=this;this._responseQueue.poll(da,{result:function(V){eb(ka,function(){V && this._responseQueue.add(V);return V;},fa);},timeout:function(){eb(ka,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();ka.timeout();},fa);},error:function(V){eb(ka,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw V;},fa);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(da,ka){var fa;fa=this;eb(ka,function(){var V;if(this._response)return !0;V=this._buffer.toByteArray();0 < V.length && (this._abortToken=this._httpLocation.getResponse({body:V},this._timeout,{result:function(aa){fa._response={response:aa};fa._responseQueue.add(fa._response);},timeout:function(){fa._response={isTimeout:!0};fa._responseQueue.add(fa._response);},error:function(aa){fa._response={isError:!0,error:aa};fa._responseQueue.add(fa._response);}}));return !0;},this);},write:function(da,ka,fa,V,aa){eb(aa,function(){if(this._response)throw new Vb("HttpOutputStream already closed.");this._buffer.write(da,ka,fa,V,aa);},this);},flush:function(da,ka){eb(ka,function(){if(this._response)return !0;this._buffer.flush(da,ka);},this);}});ca=ge.extend({init:function(da){Object.defineProperties(this,{_out:{value:da,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(da,ka,fa){var aa;function V(ua){eb(fa,function(){if(!ua)return new Uint8Array(0);this._out.getResponse(ka,{result:function(qa){eb(fa,function(){var va;if(qa.isTimeout)(this._timedout=!0,fa.timeout());else {if(qa.isError)throw (this._exception=qa.error || new Vb("Unknown HTTP exception."),this._exception);if(!qa.response)throw (this._exception=new Vb("Missing HTTP response."),this._exception);qa.response.json !== Ab && (this._json=qa.response.json,this.getJSON=function(){return aa._json;});va=qa.response.content || Qd("string" === typeof qa.response.body?qa.response.body:JSON.stringify(this._json));this._buffer=new Pf(va);this._buffer.read(da,ka,fa);}},aa);},timeout:function(){fa.timeout();},error:function(qa){fa.error(qa);}});},aa);}aa=this;eb(fa,function(){if(this._exception)throw this._exception;if(this._timedout)fa.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(da,ka,fa):this._out.close(ka,{result:function(ua){V(ua);},timeout:function(){fa.timeout();},error:function(ua){fa.error(ua);}});}},aa);}});Ae=Bb.Class.create({init:function(da,ka){Object.defineProperties(this,{_httpLocation:{value:da,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:ka,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(da){this._timeout=da;},openConnection:function(){var da;da=new ia(this._httpLocation,this._timeout);return {input:new ca(da),output:da};}});})();(function(){var ia,ca;ia=Ed.extend({init:function(){var da;da={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,da);},setTimeout:function(){},getResponse:function(da,ka){ka.result({success:!1,content:null,errorHttpCode:Ab,errorSubCode:Ab});},abort:function(){},close:function(da,ka){ka.result(!0);},write:function(da,ka,fa,V,aa){var ua,qa;try{if(0 > ka)throw new RangeError("Offset cannot be negative.");if(0 > fa)throw new RangeError("Length cannot be negative.");if(ka + fa > da.length)throw new RangeError("Offset plus length cannot be greater than the array length.");ua=da.subarray(ka,fa);qa=new Uint8Array(this._buffer.length + ua.length);qa.set(this._buffer);qa.set(ua,this._buffer.length);this._buffer=qa;aa.result(ua.length);}catch(va){aa.error(va);}},flush:function(da,ka){ka.result(!0);},request:function(){return this._buffer;}});ca=ge.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(da,ka,fa){fa.result(new Uint8Array(16));}});Be=Bb.Class.create({init:function(){var da;da={output:{value:new ia(),writable:!1,enumerable:!1,configurable:!1},input:{value:new ca(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,da);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Pd(this.output.request());}});})();Qe=function(ia,ca,da){(function(ka,fa,V){ka.read(-1,fa,{result:function(aa){aa && aa.length?V(null,aa):V(null,null);},timeout:function(){da.timeout();},error:function(aa){V(aa,null);}});})(ia,ca,function(ka,fa){var V,aa;if(ka)da.error(ka);else if(fa){if(ia.getJSON !== Ab && "function" === typeof ia.getJSON)da.result(ia.getJSON());else {ka=da.result;fa=new Sf(Tb(fa,"utf-8"));V=[];for(aa=fa.nextValue();aa !== Ab;){V.push(aa);aa=fa.nextValue();}ka.call(da,V);}}else da.result(null);});};lc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(lc);(function(){kd=Bb.Class.create({init:function(ia){Object.defineProperties(this,{keyExchangeScheme:{value:ia,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ia;ia={};ia.scheme=this.keyExchangeScheme;ia.keydata=this.getKeydata();return ia;},equals:function(ia){return this === ia?!0:ia instanceof kd?this.keyExchangeScheme == ia.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Re=function(ia,ca,da){Ma(da,function(){var ka,fa,V;ka=ca.scheme;fa=ca.keydata;if(!ka || !fa || "object" !== typeof fa)throw new yb(W.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(ca));if(!lc[ka])throw new Pb(W.UNIDENTIFIED_KEYX_SCHEME,ka);V=ia.getKeyExchangeFactory(ka);if(!V)throw new Pb(W.KEYX_FACTORY_NOT_FOUND,ka);V.createRequestData(ia,fa,da);});};})();(function(){ld=Bb.Class.create({init:function(ia,ca){Object.defineProperties(this,{masterToken:{value:ia,writable:!1,configurable:!1},keyExchangeScheme:{value:ca,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ia;ia={};ia.mastertoken=this.masterToken;ia.scheme=this.keyExchangeScheme;ia.keydata=this.getKeydata();return ia;},equals:function(ia){return this === ia?!0:ia instanceof ld?this.masterToken.equals(ia.masterToken) && this.keyExchangeScheme == ia.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});Se=function(ia,ca,da){Ma(da,function(){var ka,fa,V;ka=ca.mastertoken;fa=ca.scheme;V=ca.keydata;if(!fa || !ka || "object" !== typeof ka || !V || "object" !== typeof V)throw new yb(W.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(ca));if(!lc[fa])throw new Pb(W.UNIDENTIFIED_KEYX_SCHEME,fa);Qc(ia,ka,{result:function(aa){Ma(da,function(){var ua;ua=ia.getKeyExchangeFactory(fa);if(!ua)throw new Pb(W.KEYX_FACTORY_NOT_FOUND,fa);return ua.createResponseData(ia,aa,V);});},error:function(aa){da.error(aa);}});});};})();(function(){var ia;ia=Bb.Class.create({init:function(ca,da){Object.defineProperties(this,{keyResponseData:{value:ca,writable:!1,configurable:!1},cryptoContext:{value:da,writable:!1,configurable:!1}});}});pc=Bb.Class.create({init:function(ca){Object.defineProperties(this,{scheme:{value:ca,writable:!1,configurable:!1}});},createRequestData:function(ca,da,ka){},createResponseData:function(ca,da,ka){},generateResponse:function(ca,da,ka,fa){},getCryptoContext:function(ca,da,ka,fa,V){},generateSessionKeys:function(ca,da){Ma(da,function(){var ka,fa;ka=new Uint8Array(16);fa=new Uint8Array(32);ca.getRandom().nextBytes(ka);ca.getRandom().nextBytes(fa);zc(ka,rc,Hc,{result:function(V){zc(fa,sc,Pc,{result:function(aa){da.result({encryptionKey:V,hmacKey:aa});},error:function(aa){da.error(new ub(W.SESSION_KEY_CREATION_FAILURE,null,aa));}});},error:function(V){da.error(new ub(W.SESSION_KEY_CREATION_FAILURE,null,V));}});});},importSessionKeys:function(ca,da,ka){zc(ca,rc,Hc,{result:function(fa){zc(da,sc,Pc,{result:function(V){ka.result({encryptionKey:fa,hmacKey:V});},error:function(V){ka.error(V);}});},error:function(fa){ka.error(fa);}});}});pc.KeyExchangeData=ia;})();(function(){var ca,da,ka;function ia(fa,V,aa,ua,qa){Ma(qa,function(){var va,Da;switch(V){case ca.PSK:(va=new tc(ua),Da=fa.getEntityAuthenticationFactory(Ob.PSK));if(!Da)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,V);va=Da.getCryptoContext(fa,va);return new Bc(fa,Cc.A128KW,wc,Ab);case ca.MGK:va=new oc(ua);Da=fa.getEntityAuthenticationFactory(Ob.MGK);if(!Da)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,V);va=Da.getCryptoContext(fa,va);return new Bc(fa,Cc.A128KW,wc,Ab);case ca.WRAP:va=fa.getMslCryptoContext();va.unwrap(aa,yc,Ic,{result:function(wa){Ma(qa,function(){return new Bc(fa,Cc.A128KW,wc,wa);});},error:qa.error});break;default:throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,V);}});}ca={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};da=he=kd.extend({init:function ua(V,aa){ua.base.call(this,lc.JWE_LADDER);switch(V){case ca.WRAP:if(!aa)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:aa=null;}Object.defineProperties(this,{mechanism:{value:V,writable:!1,configurable:!1},wrapdata:{value:aa,writable:!1,configurable:!1}});},getKeydata:function(){var V;V={};V.mechanism=this.mechanism;this.wrapdata && (V.wrapdata=Db(this.wrapdata));return V;},equals:function ua(aa){return aa === this?!0:aa instanceof he?ua.base.call(this,aa) && this.mechanism == aa.mechanism && Wb(this.wrapdata,aa.wrapdata):!1;},uniqueKey:function ua(){var qa;qa=ua.base.call(this) + ":" + this.mechanism;this.wrapdata && (qa+=":" + gc(this.wrapdata));return qa;}});ka=Ue=ld.extend({init:function X(qa,va,Da,wa,ta){X.base.call(this,qa,lc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:va,writable:!1,configurable:!1},wrapdata:{value:Da,writable:!1,configurable:!1},encryptionKey:{value:wa,writable:!1,configurable:!1},hmacKey:{value:ta,writable:!1,configurable:!1}});},getKeydata:function(){var qa;qa={};qa.wrapkey=Db(this.wrapKey);qa.wrapdata=Db(this.wrapdata);qa.encryptionkey=Db(this.encryptionKey);qa.hmackey=Db(this.hmacKey);return qa;},equals:function Da(va){return this === va?!0:va instanceof Ue?Da.base.call(this,va) && Wb(this.wrapKey,va.wrapKey) && Wb(this.wrapdata,va.wrapdata) && Wb(this.encryptionKey,va.encryptionKey) && Wb(this.hmacKey,va.hmacKey):!1;},uniqueKey:function Da(){return Da.base.call(this) + ":" + gc(this.wrapKey) + ":" + gc(this.wrapdata) + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey);}});Te=pc.extend({init:function ta(wa){ta.base.call(this,lc.JWE_LADDER);Object.defineProperties(this,{repository:{value:wa,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(wa,ta,X){Ma(X,function(){var ba,ha,na;ba=ta.mechanism;ha=ta.wrapdata;if(!ba || ba == ca.WRAP && (!ha || "string" !== typeof ha))throw new yb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ta));if(!ca[ba])throw new Pb(W.UNIDENTIFIED_KEYX_MECHANISM,ba);switch(ba){case ca.WRAP:try{na=Gb(ha);}catch(Ia){throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,"keydata " + ta.toString());}if(null == na || 0 == na.length)throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,"keydata " + ta.toString());break;default:na=null;}return new da(ba,na);});},createResponseData:function(wa,ta,X){var ba,ha,na,Ia,Fa,Ra,Ta;wa=X.wrapkey;ba=X.wrapdata;ha=X.encryptionkey;na=X.hmackey;if(!(wa && "string" === typeof wa && ba && "string" === typeof ba && ha && "string" === typeof ha && na) || "string" !== typeof na)throw new yb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(X));try{Ia=Gb(wa);Fa=Gb(ba);}catch(ma){throw new ub(W.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(X),ma);}try{Ra=Gb(ha);}catch(ma){throw new ub(W.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(X),ma);}try{Ta=Gb(na);}catch(ma){throw new ub(W.INVALID_HMAC_KEY,"keydata " + JSON.stringify(X),ma);}return new ka(ta,Ia,Fa,Ra,Ta);},generateResponse:function(wa,ta,X,ba){var Ra,Ta;function ha(ma,za,Aa){Ra.generateSessionKeys(wa,{result:function(Ja){Ma(ba,function(){na(ma,za,Aa,Ja.encryptionKey,Ja.hmacKey);},Ra);},error:function(Ja){Ma(ba,function(){Ja instanceof db && Ja.setEntity(Ta);throw Ja;});}});}function na(ma,za,Aa,Ja,Ca){Ma(ba,function(){ia(wa,ta.mechanism,ta.wrapdata,ma,{result:function(Pa){Pa.wrap(za,{result:function(Ga){Ia(za,Aa,Ja,Ca,Ga);},error:function(Ga){Ma(ba,function(){Ga instanceof db && Ga.setEntity(Ta);throw Ga;});}});},error:function(Pa){Ma(ba,function(){Pa instanceof db && Pa.setEntity(Ta);throw Pa;});}});},Ra);}function Ia(ma,za,Aa,Ja,Ca){Ma(ba,function(){var Pa;Pa=new Bc(wa,Cc.A128KW,wc,ma);Pa.wrap(Aa,{result:function(Ga){Pa.wrap(Ja,{result:function(Wa){Fa(za,Ca,Aa,Ga,Ja,Wa);},error:function(Wa){Ma(ba,function(){Wa instanceof db && Wa.setEntity(Ta);throw Wa;});}});},error:function(Ga){Ma(ba,function(){Ga instanceof db && Ga.setEntity(Ta);throw Ga;});}});},Ra);}function Fa(ma,za,Aa,Ja,Ca,Pa){Ma(ba,function(){var Ga;Ga=wa.getTokenFactory();Ta?Ga.renewMasterToken(wa,Ta,Aa,Ca,{result:function(Wa){Ma(ba,function(){var ab,Ya;ab=new jc(wa,Wa);Ya=new ka(Wa,za,ma,Ja,Pa);return new pc.KeyExchangeData(Ya,ab,ba);},Ra);},error:function(Wa){Ma(ba,function(){Wa instanceof db && Wa.setEntity(Ta);throw Wa;});}}):Ga.createMasterToken(wa,X,Aa,Ca,{result:function(Wa){Ma(ba,function(){var ab,Ya;ab=new jc(wa,Wa);Ya=new ka(Wa,za,ma,Ja,Pa);return new pc.KeyExchangeData(Ya,ab,ba);},Ra);},error:ba.error});},Ra);}Ra=this;Ma(ba,function(){var ma,za;if(!(ta instanceof da))throw new vb("Key request data " + JSON.stringify(ta) + " was not created by this factory.");ma=X;if(X instanceof ic){if(!X.isVerified())throw new Oc(W.MASTERTOKEN_UNTRUSTED,X);Ta=X;ma=X.identity;}za=new Uint8Array(16);wa.getRandom().nextBytes(za);zc(za,yc,Ic,{result:function(Aa){Ma(ba,function(){wa.getMslCryptoContext().wrap(Aa,{result:function(Ja){ha(ma,Aa,Ja);},error:function(Ja){Ma(ba,function(){Ja instanceof db && Ja.setEntity(Ta);throw Ja;},Ra);}});},Ra);},error:function(Aa){Ma(ba,function(){throw new ub(W.WRAP_KEY_CREATION_FAILURE,null,Aa).setEntity(Ta);},Ra);}});},Ra);},getCryptoContext:function(wa,ta,X,ba,ha){var Ia;function na(Fa,Ra,Ta,ma,za){Ma(ha,function(){var Aa;Aa=new Bc(wa,Cc.A128KW,wc,za);Aa.unwrap(Ra.encryptionKey,rc,Hc,{result:function(Ja){Aa.unwrap(Ra.hmacKey,sc,Pc,{result:function(Ca){Ma(ha,function(){this.repository.addCryptoContext(Ra.wrapdata,Aa);this.repository.removeCryptoContext(Ta);return new jc(wa,Ra.masterToken,ma,Ja,Ca);},Ia);},error:function(Ca){Ma(ha,function(){Ca instanceof db && Ca.setEntity(Fa);throw Ca;});}});},error:function(Ja){Ma(ha,function(){Ja instanceof db && Ja.setEntity(Fa);throw Ja;});}});},Ia);}Ia=this;Ma(ha,function(){var Fa,Ra;if(!(ta instanceof da))throw new vb("Key request data " + JSON.stringify(ta) + " was not created by this factory.");if(!(X instanceof ka))throw new vb("Key response data " + JSON.stringify(X) + " was not created by this factory.");Fa=ta.mechanism;Ra=ta.wrapdata;wa.getEntityAuthenticationData(null,{result:function(Ta){Ma(ha,function(){var ma,za,Aa;ma=Ta.getIdentity();switch(Fa){case ca.PSK:za=new tc(ma);Aa=wa.getEntityAuthenticationFactory(Ob.PSK);if(!Aa)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Fa).setEntity(Ta);za=Aa.getCryptoContext(wa,za);za=new Bc(wa,Cc.A128KW,wc,Ab);break;case ca.MGK:za=new oc(ma);Aa=wa.getEntityAuthenticationFactory(Ob.MGK);if(!Aa)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Fa).setEntity(Ta);za=Aa.getCryptoContext(wa,za);za=new Bc(wa,Cc.A128KW,wc,za.wrapKey);break;case ca.WRAP:za=this.repository.getCryptoContext(Ra);if(!za)throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,Db(Ra)).setEntity(Ta);break;default:throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Fa).setEntity(Ta);}za.unwrap(X.wrapKey,yc,Ic,{result:function(Ja){na(Ta,X,Ra,ma,Ja);},error:function(Ja){Ma(ha,function(){Ja instanceof db && Ja.setEntity(Ta);throw Ja;});}});},Ia);},error:ha.error});},Ia);}});})();(function(){var ca,da,ka,fa;function ia(V,aa,ua,qa,va){Ma(va,function(){var Da,wa;switch(aa){case ca.PSK:(Da=new tc(qa),wa=V.getEntityAuthenticationFactory(Ob.PSK));if(!wa)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,aa);Da=wa.getCryptoContext(V,Da);return new fa(Ab);case ca.MGK:Da=new oc(qa);wa=V.getEntityAuthenticationFactory(Ob.MGK);if(!wa)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,aa);Da=wa.getCryptoContext(V,Da);return new fa(Ab);case ca.WRAP:Da=V.getMslCryptoContext();Da.unwrap(ua,yc,Ic,{result:function(ta){Ma(va,function(){return new fa(ta);});},error:va.error});break;default:throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,aa);}});}ca={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};da=Fd=kd.extend({init:function qa(aa,ua){qa.base.call(this,lc.JWK_LADDER);switch(aa){case ca.WRAP:if(!ua)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:ua=null;}Object.defineProperties(this,{mechanism:{value:aa,writable:!1,configurable:!1},wrapdata:{value:ua,writable:!1,configurable:!1}});},getKeydata:function(){var aa;aa={};aa.mechanism=this.mechanism;this.wrapdata && (aa.wrapdata=Db(this.wrapdata));return aa;},equals:function qa(ua){return ua === this?!0:ua instanceof Fd?qa.base.call(this,ua) && this.mechanism == ua.mechanism && Wb(this.wrapdata,ua.wrapdata):!1;},uniqueKey:function qa(){var va;va=qa.base.call(this) + ":" + this.mechanism;this.wrapdata && (va+=":" + gc(this.wrapdata));return va;}});ka=Ve=ld.extend({init:function ba(va,Da,wa,ta,X){ba.base.call(this,va,lc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:Da,writable:!1,configurable:!1},wrapdata:{value:wa,writable:!1,configurable:!1},encryptionKey:{value:ta,writable:!1,configurable:!1},hmacKey:{value:X,writable:!1,configurable:!1}});},getKeydata:function(){var va;va={};va.wrapkey=Db(this.wrapKey);va.wrapdata=Db(this.wrapdata);va.encryptionkey=Db(this.encryptionKey);va.hmackey=Db(this.hmacKey);return va;},equals:function wa(Da){return this === Da?!0:Da instanceof Ve?wa.base.call(this,Da) && Wb(this.wrapKey,Da.wrapKey) && Wb(this.wrapdata,Da.wrapdata) && Wb(this.encryptionKey,Da.encryptionKey) && Wb(this.hmacKey,Da.hmacKey):!1;},uniqueKey:function wa(){return wa.base.call(this) + ":" + gc(this.wrapKey) + ":" + gc(this.wrapdata) + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey);}});fa=bd.extend({init:function(wa){wa && wa.rawKey && (wa=wa.rawKey);Object.defineProperties(this,{_wrapKey:{value:wa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(wa,ta){ta.error(new ub(W.ENCRYPT_NOT_SUPPORTED));},decrypt:function(wa,ta){ta.error(new ub(W.DECRYPT_NOT_SUPPORTED));},wrap:function(wa,ta){Ma(ta,function(){Jb.wrapKey("jwk",wa.rawKey,this._wrapKey,yc).then(function(X){ta.result(X);},function(X){ta.error(new ub(W.WRAP_ERROR));});},this);},unwrap:function(wa,ta,X,ba){function ha(na){Ma(ba,function(){switch(na.type){case "secret":Zc(na,ba);break;case "public":Lc(na,ba);break;case "private":$c(na,ba);break;default:throw new ub(W.UNSUPPORTED_KEY,"type: " + na.type);}});}Ma(ba,function(){Jb.unwrapKey("jwk",wa,this._wrapKey,yc,ta,!1,X).then(function(na){ha(na);},function(na){ba.error(new ub(W.UNWRAP_ERROR));});},this);},sign:function(wa,ta){ta.error(new ub(W.SIGN_NOT_SUPPORTED));},verify:function(wa,ta,X){X.error(new ub(W.VERIFY_NOT_SUPPORTED));}});ie=pc.extend({init:function X(ta){X.base.call(this,lc.JWK_LADDER);Object.defineProperties(this,{repository:{value:ta,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(ta,X,ba){Ma(ba,function(){var ha,na,Ia;ha=X.mechanism;na=X.wrapdata;if(!ha || ha == ca.WRAP && (!na || "string" !== typeof na))throw new yb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(X));if(!ca[ha])throw new Pb(W.UNIDENTIFIED_KEYX_MECHANISM,ha);switch(ha){case ca.WRAP:try{Ia=Gb(na);}catch(Fa){throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,"keydata " + X.toString());}if(null == Ia || 0 == Ia.length)throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,"keydata " + X.toString());break;default:Ia=null;}return new da(ha,Ia);});},createResponseData:function(ta,X,ba){var ha,na,Ia,Fa,Ra,Ta,ma;ta=ba.wrapkey;ha=ba.wrapdata;na=ba.encryptionkey;Ia=ba.hmackey;if(!(ta && "string" === typeof ta && ha && "string" === typeof ha && na && "string" === typeof na && Ia) || "string" !== typeof Ia)throw new yb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ba));try{Fa=Gb(ta);Ra=Gb(ha);}catch(za){throw new ub(W.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(ba),za);}try{Ta=Gb(na);}catch(za){throw new ub(W.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ba),za);}try{ma=Gb(Ia);}catch(za){throw new ub(W.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ba),za);}return new ka(X,Fa,Ra,Ta,ma);},generateResponse:function(ta,X,ba,ha){var Ta,ma;function na(za,Aa,Ja){Ta.generateSessionKeys(ta,{result:function(Ca){Ma(ha,function(){Ia(za,Aa,Ja,Ca.encryptionKey,Ca.hmacKey);},Ta);},error:function(Ca){Ma(ha,function(){Ca instanceof db && Ca.setEntity(ma);throw Ca;});}});}function Ia(za,Aa,Ja,Ca,Pa){Ma(ha,function(){ia(ta,X.mechanism,X.wrapdata,za,{result:function(Ga){Ga.wrap(Aa,{result:function(Wa){Fa(Aa,Ja,Ca,Pa,Wa);},error:function(Wa){Ma(ha,function(){Wa instanceof db && Wa.setEntity(ma);throw Wa;});}});},error:function(Ga){Ma(ha,function(){Ga instanceof db && Ga.setEntity(ma);throw Ga;});}});},Ta);}function Fa(za,Aa,Ja,Ca,Pa){Ma(ha,function(){var Ga;Ga=new fa(za);Ga.wrap(Ja,{result:function(Wa){Ga.wrap(Ca,{result:function(ab){Ra(Aa,Pa,Ja,Wa,Ca,ab);},error:function(ab){Ma(ha,function(){ab instanceof db && ab.setEntity(ma);throw ab;});}});},error:function(Wa){Ma(ha,function(){Wa instanceof db && Wa.setEntity(ma);throw Wa;});}});},Ta);}function Ra(za,Aa,Ja,Ca,Pa,Ga){Ma(ha,function(){var Wa;Wa=ta.getTokenFactory();ma?Wa.renewMasterToken(ta,ma,Ja,Pa,{result:function(ab){Ma(ha,function(){var Ya,jb;Ya=new jc(ta,ab);jb=new ka(ab,Aa,za,Ca,Ga);return new pc.KeyExchangeData(jb,Ya,ha);},Ta);},error:function(ab){Ma(ha,function(){ab instanceof db && ab.setEntity(ma);throw ab;});}}):Wa.createMasterToken(ta,ba,Ja,Pa,{result:function(ab){Ma(ha,function(){var Ya,jb;Ya=new jc(ta,ab);jb=new ka(ab,Aa,za,Ca,Ga);return new pc.KeyExchangeData(jb,Ya,ha);},Ta);},error:ha.error});},Ta);}Ta=this;Ma(ha,function(){var za,Aa;if(!(X instanceof da))throw new vb("Key request data " + JSON.stringify(X) + " was not created by this factory.");za=ba;if(ba instanceof ic){if(!ba.isVerified())throw new Oc(W.MASTERTOKEN_UNTRUSTED,ba);ma=ba;za=ba.identity;}Aa=new Uint8Array(16);ta.getRandom().nextBytes(Aa);zc(Aa,yc,Ic,{result:function(Ja){Ma(ha,function(){ta.getMslCryptoContext().wrap(Ja,{result:function(Ca){na(za,Ja,Ca);},error:function(Ca){Ma(ha,function(){Ca instanceof db && Ca.setEntity(ma);throw Ca;},Ta);}});},Ta);},error:function(Ja){Ma(ha,function(){throw new ub(W.WRAP_KEY_CREATION_FAILURE,null,Ja).setEntity(ma);},Ta);}});},Ta);},getCryptoContext:function(ta,X,ba,ha,na){var Fa;function Ia(Ra,Ta,ma,za,Aa){Ma(na,function(){var Ja;Ja=new fa(Aa);Ja.unwrap(Ta.encryptionKey,rc,Hc,{result:function(Ca){Ja.unwrap(Ta.hmacKey,sc,Pc,{result:function(Pa){Ma(na,function(){this.repository.addCryptoContext(Ta.wrapdata,Ja);this.repository.removeCryptoContext(ma);return new jc(ta,Ta.masterToken,za,Ca,Pa);},Fa);},error:function(Pa){Ma(na,function(){Pa instanceof db && Pa.setEntity(Ra);throw Pa;});}});},error:function(Ca){Ma(na,function(){Ca instanceof db && Ca.setEntity(Ra);throw Ca;});}});},Fa);}Fa=this;Ma(na,function(){var Ra,Ta;if(!(X instanceof da))throw new vb("Key request data " + JSON.stringify(X) + " was not created by this factory.");if(!(ba instanceof ka))throw new vb("Key response data " + JSON.stringify(ba) + " was not created by this factory.");Ra=X.mechanism;Ta=X.wrapdata;ta.getEntityAuthenticationData(null,{result:function(ma){Ma(na,function(){var za,Aa,Ja;za=ma.getIdentity();switch(Ra){case ca.PSK:Aa=new tc(za);Ja=ta.getEntityAuthenticationFactory(Ob.PSK);if(!Ja)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Ra).setEntity(ma);Aa=Ja.getCryptoContext(ta,Aa);Aa=new fa(Aa.wrapKey);break;case ca.MGK:Aa=new oc(za);Ja=ta.getEntityAuthenticationFactory(Ob.MGK);if(!Ja)throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Ra).setEntity(ma);Aa=Ja.getCryptoContext(ta,Aa);Aa=new fa(Aa.wrapKey);break;case ca.WRAP:Aa=this.repository.getCryptoContext(Ta);if(!Aa)throw new Pb(W.KEYX_WRAPPING_KEY_MISSING,Db(Ta)).setEntity(ma);break;default:throw new Pb(W.UNSUPPORTED_KEYX_MECHANISM,Ra).setEntity(ma);}Aa.unwrap(ba.wrapKey,yc,Ic,{result:function(Ca){Ia(ma,ba,Ta,za,Ca);},error:function(Ca){Ma(na,function(){Ca instanceof db && Ca.setEntity(ma);throw Ca;});}});},Fa);},error:na.error});},Fa);}});})();Tf=Bb.Class.create({addCryptoContext:function(ia,ca){},getCryptoContext:function(ia){},removeCryptoContext:function(ia){}});(function(){var ca,da,ka,fa;function ia(V,aa,ua,qa,va){switch(ua){case ca.JWE_RSA:case ca.JWEJS_RSA:return new Bc(V,Cc.RSA_OAEP,wc,qa,va);case ca.JWK_RSA:return new zd(V,aa,qa,va,Ad.WRAP_UNWRAP_OAEP);case ca.JWK_RSAES:return new zd(V,aa,qa,va,Ad.WRAP_UNWRAP_PKCS1);default:throw new ub(W.UNSUPPORTED_KEYX_MECHANISM,ua);}}ca=Gd={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};da=Ud=kd.extend({init:function Da(aa,ua,qa,va){Da.base.call(this,lc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:aa,writable:!1,configurable:!1},mechanism:{value:ua,writable:!1,configurable:!1},publicKey:{value:qa,writable:!1,configurable:!1},privateKey:{value:va,writable:!1,configurable:!1}});},getKeydata:function(){var aa;aa={};aa.keypairid=this.keyPairId;aa.mechanism=this.mechanism;aa.publickey=Db(this.publicKey.getEncoded());return aa;},equals:function qa(ua){var va;if(ua === this)return !0;if(!(ua instanceof Ud))return !1;va=this.privateKey === ua.privateKey || this.privateKey && ua.privateKey && Wb(this.privateKey.getEncoded(),ua.privateKey.getEncoded());return qa.base.call(this,ua) && this.keyPairId == ua.keyPairId && this.mechanism == ua.mechanism && Wb(this.publicKey.getEncoded(),ua.publicKey.getEncoded()) && va;},uniqueKey:function qa(){var va,Da;va=this.publicKey.getEncoded();Da=this.privateKey && this.privateKey.getEncoded();va=qa.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + gc(va);Da && (va+=":" + gc(Da));return va;}});ka=function(qa,va){Ma(va,function(){var Da,wa,ta,X;Da=qa.keypairid;wa=qa.mechanism;ta=qa.publickey;if(!Da || "string" !== typeof Da || !wa || !ta || "string" !== typeof ta)throw new yb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(qa));if(!ca[wa])throw new Pb(W.UNIDENTIFIED_KEYX_MECHANISM,wa);try{X=Gb(ta);switch(wa){case ca.JWE_RSA:case ca.JWEJS_RSA:case ca.JWK_RSA:Zd(X,xd,Ic,{result:function(ba){va.result(new da(Da,wa,ba,null));},error:function(ba){va.error(ba);}});break;case ca.JWK_RSAES:Zd(X,Xd,Ic,{result:function(ba){va.result(new da(Da,wa,ba,null));},error:function(ba){va.error(ba);}});break;default:throw new ub(W.UNSUPPORTED_KEYX_MECHANISM,wa);}}catch(ba){if(!(ba instanceof db))throw new ub(W.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(qa),ba);throw ba;}});};fa=We=ld.extend({init:function X(va,Da,wa,ta){X.base.call(this,va,lc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:Da,writable:!1,configurable:!1},encryptionKey:{value:wa,writable:!1,configurable:!1},hmacKey:{value:ta,writable:!1,configurable:!1}});},getKeydata:function(){var va;va={};va.keypairid=this.keyPairId;va.encryptionkey=Db(this.encryptionKey);va.hmackey=Db(this.hmacKey);return va;},equals:function wa(Da){return this === Da?!0:Da instanceof We?wa.base.call(this,Da) && this.keyPairId == Da.keyPairId && Wb(this.encryptionKey,Da.encryptionKey) && Wb(this.hmacKey,Da.hmacKey):!1;},uniqueKey:function wa(){return wa.base.call(this) + ":" + this.keyPairId + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey);}});Ce=pc.extend({init:function ta(){ta.base.call(this,lc.ASYMMETRIC_WRAPPED);},createRequestData:function(ta,X,ba){ka(X,ba);},createResponseData:function(ta,X,ba){var ha,na,Ia,Fa;ta=ba.keypairid;ha=ba.encryptionkey;na=ba.hmackey;if(!ta || "string" !== typeof ta || !ha || "string" !== typeof ha || !na || "string" !== typeof na)throw new yb(W.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ba));try{Ia=Gb(ha);}catch(Ra){throw new ub(W.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ba),Ra);}try{Fa=Gb(na);}catch(Ra){throw new ub(W.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ba),Ra);}return new fa(X,ta,Ia,Fa);},generateResponse:function(ta,X,ba,ha){var Fa;function na(Ra,Ta){Ma(ha,function(){var ma;ma=ia(ta,X.keyPairId,X.mechanism,null,X.publicKey);ma.wrap(Ra,{result:function(za){Ma(ha,function(){ma.wrap(Ta,{result:function(Aa){Ia(Ra,za,Ta,Aa);},error:function(Aa){Ma(ha,function(){Aa instanceof db && ba instanceof ic && Aa.setEntity(ba);throw Aa;},Fa);}});},Fa);},error:function(za){Ma(ha,function(){za instanceof db && ba instanceof ic && za.setEntity(ba);throw za;},Fa);}});},Fa);}function Ia(Ra,Ta,ma,za){Ma(ha,function(){var Aa;Aa=ta.getTokenFactory();ba instanceof ic?Aa.renewMasterToken(ta,ba,Ra,ma,{result:function(Ja){Ma(ha,function(){var Ca,Pa;Ca=new jc(ta,Ja);Pa=new fa(Ja,X.keyPairId,Ta,za);return new pc.KeyExchangeData(Pa,Ca,ha);},Fa);},error:function(Ja){Ma(ha,function(){Ja instanceof db && Ja.setEntity(ba);throw Ja;},Fa);}}):Aa.createMasterToken(ta,ba,Ra,ma,{result:function(Ja){Ma(ha,function(){var Ca,Pa;Ca=new jc(ta,Ja);Pa=new fa(Ja,X.keyPairId,Ta,za);return new pc.KeyExchangeData(Pa,Ca,ha);},Fa);},error:ha.error});},Fa);}Fa=this;Ma(ha,function(){if(!(X instanceof da))throw new vb("Key request data " + JSON.stringify(X) + " was not created by this factory.");this.generateSessionKeys(ta,{result:function(Ra){na(Ra.encryptionKey,Ra.hmacKey);},error:function(Ra){Ma(ha,function(){Ra instanceof db && ba instanceof ic && Ra.setEntity(ba);throw Ra;},Fa);}});},Fa);},getCryptoContext:function(ta,X,ba,ha,na){var Ia;Ia=this;Ma(na,function(){var Fa,Ra,Ta;if(!(X instanceof da))throw new vb("Key request data " + JSON.stringify(X) + " was not created by this factory.");if(!(ba instanceof fa))throw new vb("Key response data " + JSON.stringify(ba) + " was not created by this factory.");Fa=X.keyPairId;Ra=ba.keyPairId;if(Fa != Ra)throw new Pb(W.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Fa + "; response " + Ra).setEntity(ha);Ra=X.privateKey;if(!Ra)throw new Pb(W.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(ha);Ta=ia(ta,Fa,X.mechanism,Ra,null);Ta.unwrap(ba.encryptionKey,rc,Hc,{result:function(ma){Ta.unwrap(ba.hmacKey,sc,Pc,{result:function(za){ta.getEntityAuthenticationData(null,{result:function(Aa){Ma(na,function(){var Ja;Ja=Aa.getIdentity();return new jc(ta,ba.masterToken,Ja,ma,za);},Ia);},error:function(Aa){Ma(na,function(){Aa instanceof db && Aa.setEntity(ha);throw Aa;},Ia);}});},error:function(za){Ma(na,function(){za instanceof db && za.setEntity(ha);throw za;},Ia);}});},error:function(ma){Ma(na,function(){ma instanceof db && ma.setEntity(ha);throw ma;},Ia);}});},Ia);}});})();Sf=Bb.Class.create({init:function(ia){var ca,da,ka,fa,V,aa,ua,qa;ca=Zb.parser();da=[];ka=[];ua=0;qa=!1;ca.onerror=function(va){qa || (qa=!0,ca.end());};ca.onopenobject=function(va){var Da;if(fa)(fa[aa]={},ka.push(fa),fa=fa[aa]);else if(V){Da={};ka.push(V);V.push(Da);fa=Da;V=Ab;}else fa={};aa=va;};ca.oncloseobject=function(){var va;va=ka.pop();va?"object" === typeof va?fa=va:(fa=Ab,V=va):(da.push(fa),ua=ca.index,fa=Ab);};ca.onopenarray=function(){var va;if(fa)(fa[aa]=[],ka.push(fa),V=fa[aa],fa=Ab);else if(V){va=[];ka.push(V);V.push(va);V=va;}else V=[];};ca.onclosearray=function(){var va;va=ka.pop();va?"object" === typeof va?(fa=va,V=Ab):V=va:(da.push(V),ua=ca.index,V=Ab);};ca.onkey=function(va){aa=va;};ca.onvalue=function(va){fa?fa[aa]=va:V?V.push(va):(da.push(va),ua=ca.index);};ca.write(ia).close();Object.defineProperties(this,{_values:{value:da,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:ua,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Ab:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var ia,ca,da,ka,fa;ia=je="entityauthdata";ca=Ye="mastertoken";da=Ze="headerdata";ka=$e="errordata";fa=ke="signature";Xe=function(V,aa,ua,qa){Ma(qa,function(){var va,Da,wa,ta,X,ba;va=aa[ia];Da=aa[ca];wa=aa[fa];if(va && "object" !== typeof va || Da && "object" !== typeof Da || "string" !== typeof wa)throw new yb(W.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(aa));try{ta=Gb(wa);}catch(ha){throw new Ib(W.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(aa),ha);}X=null;va && (X=Le(V,va));ba=aa[da];if(ba != Ab && null != ba){if("string" !== typeof ba)throw new yb(W.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(aa));Da?Qc(V,Da,{result:function(ha){le(V,ba,X,ha,ta,ua,qa);},error:function(ha){qa.error(ha);}}):le(V,ba,X,null,ta,ua,qa);}else if((va=aa[ka],va != Ab && null != va)){if("string" !== typeof va)throw new yb(W.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(aa));af(V,va,X,ta,qa);}else throw new yb(W.JSON_PARSE_ERROR,JSON.stringify(aa));});};})();(function(){function ia(ca,da){this.errordata=ca;this.signature=da;}Kc=Bb.Class.create({init:function(ca,da,ka,fa,V,aa,ua,qa,va,Da){var wa;wa=this;Ma(Da,function(){var ta,X;0 > aa && (aa=-1);if(0 > fa || fa > Mb)throw new vb("Message ID " + fa + " is out of range.");if(!da)throw new Ib(W.MESSAGE_ENTITY_NOT_FOUND);if(va)return (Object.defineProperties(this,{entityAuthenticationData:{value:da,writable:!1,configurable:!1},recipient:{value:ka,writable:!1,configurable:!1},messageId:{value:fa,writable:!1,configurable:!1},errorCode:{value:V,writable:!1,configurable:!1},internalCode:{value:aa,writable:!1,configurable:!1},errorMessage:{value:ua,writable:!1,configurable:!1},userMessage:{value:qa,writable:!1,configurable:!1},errordata:{value:va.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:va.signature,writable:!1,enumerable:!1,configurable:!1}}),this);ta={};ka && (ta.recipient=ka);ta.messageid=fa;ta.errorcode=V;0 < aa && (ta.internalcode=aa);ua && (ta.errormsg=ua);qa && (ta.usermsg=qa);try{X=ca.getEntityAuthenticationFactory(da.scheme).getCryptoContext(ca,da);}catch(ba){throw (ba instanceof db && (ba.setEntity(da),ba.setMessageId(fa)),ba);}ta=Rb(JSON.stringify(ta),Lb);X.encrypt(ta,{result:function(ba){Ma(Da,function(){X.sign(ba,{result:function(ha){Ma(Da,function(){Object.defineProperties(this,{entityAuthenticationData:{value:da,writable:!1,configurable:!1},recipient:{value:ka,writable:!1,configurable:!1},messageId:{value:fa,writable:!1,configurable:!1},errorCode:{value:V,writable:!1,configurable:!1},internalCode:{value:aa,writable:!1,configurable:!1},errorMessage:{value:ua,writable:!1,configurable:!1},userMessage:{value:qa,writable:!1,configurable:!1},errordata:{value:ba,writable:!1,enumerable:!1,configurable:!1},signature:{value:ha,writable:!1,enumerable:!1,configurable:!1}});return this;},wa);},error:function(ha){Ma(Da,function(){ha instanceof db && (ha.setEntity(da),ha.setMessageId(fa));throw ha;},wa);}});},wa);},error:function(ba){Ma(Da,function(){ba instanceof db && (ba.setEntity(da),ba.setMessageId(fa));throw ba;},wa);}});},wa);},toJSON:function(){var ca;ca={};ca[je]=this.entityAuthenticationData;ca[$e]=Db(this.errordata);ca[ke]=Db(this.signature);return ca;}});bf=function(ca,da,ka,fa,V,aa,ua,qa,va){new Kc(ca,da,ka,fa,V,aa,ua,qa,null,va);};af=function(ca,da,ka,fa,V){Ma(V,function(){var aa,ua,qa;if(!ka)throw new Ib(W.MESSAGE_ENTITY_NOT_FOUND);try{aa=ka.scheme;ua=ca.getEntityAuthenticationFactory(aa);if(!ua)throw new xc(W.ENTITYAUTH_FACTORY_NOT_FOUND,aa);qa=ua.getCryptoContext(ca,ka);}catch(va){throw (va instanceof db && va.setEntity(ka),va);}try{da=Gb(da);}catch(va){throw new Ib(W.HEADER_DATA_INVALID,da,va).setEntity(ka);}if(!da || 0 == da.length)throw new Ib(W.HEADER_DATA_MISSING,da).setEntity(ka);qa.verify(da,fa,{result:function(va){Ma(V,function(){if(!va)throw new ub(W.MESSAGE_VERIFICATION_FAILED).setEntity(ka);qa.decrypt(da,{result:function(Da){Ma(V,function(){var wa,ta,X,ba,ha,na,Ia,Fa;wa=Tb(Da,Lb);try{ta=JSON.parse(wa);}catch(Ta){if(Ta instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"errordata " + wa,Ta).setEntity(ka);throw Ta;}X=ta.recipient !== Ab?ta.recipient:null;ba=parseInt(ta.messageid);ha=parseInt(ta.errorcode);na=parseInt(ta.internalcode);Ia=ta.errormsg;Fa=ta.usermsg;if(X && "string" !== typeof X || !ba || ba != ba || !ha || ha != ha || ta.internalcode && na != na || Ia && "string" !== typeof Ia || Fa && "string" !== typeof Fa)throw new yb(W.JSON_PARSE_ERROR,"errordata " + wa).setEntity(ka);if(0 > ba || ba > Mb)throw new Ib(W.MESSAGE_ID_OUT_OF_RANGE,"errordata " + wa).setEntity(ka);ta=!1;for(var Ra in La){if(La[Ra] == ha){ta=!0;break;}}ta || (ha=La.FAIL);if(na){if(0 > na)throw new Ib(W.INTERNAL_CODE_NEGATIVE,"errordata " + wa).setEntity(ka).setMessageId(ba);}else na=-1;wa=new ia(da,fa);new Kc(ca,ka,X,ba,ha,na,Ia,Fa,wa,V);});},error:function(Da){Ma(V,function(){Da instanceof db && Da.setEntity(ka);throw Da;});}});});},error:function(va){Ma(V,function(){va instanceof db && va.setEntity(ka);throw va;});}});});};})();Uf=Bb.Class.create({getUserMessage:function(ia,ca){}});(function(){me=function(ia,ca){var da;if(!ia || !ca)return null;da=ia.compressionAlgorithms.filter(function(ka){for(var fa=0;fa < ca.compressionAlgorithms.length;++fa){if(ka == ca.compressionAlgorithms[fa])return !0;}return !1;});ia=ia.languages.filter(function(ka){for(var fa=0;fa < ca.languages.length;++fa){if(ka == ca.languages[fa])return !0;}return !1;});return new md(da,ia);};md=Bb.Class.create({init:function(ia,ca){ia || (ia=[]);ca || (ca=[]);ia.sort();Object.defineProperties(this,{compressionAlgorithms:{value:ia,writable:!1,enumerable:!0,configurable:!1},languages:{value:ca,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var ia;ia={};ia.compressionalgos=this.compressionAlgorithms;ia.languages=this.languages;return ia;},equals:function(ia){return this === ia?!0:ia instanceof md?ve(this.compressionAlgorithms,ia.compressionAlgorithms) && ve(this.languages,ia.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});cf=function(ia){var ca,da,fa;ca=ia.compressionalgos;da=ia.languages;if(ca && !(ca instanceof Array) || da && !(da instanceof Array))throw new yb(W.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(ia));ia=[];for(var ka=0;ca && ka < ca.length;++ka){fa=ca[ka];Mc[fa] && ia.push(fa);}return new md(ia,da);};})();(function(){var Da,wa;function ia(ta,X,ba,ha,na){this.customer=ta;this.sender=X;this.messageCryptoContext=ba;this.headerdata=ha;this.signature=na;}function ca(ta,X,ba,ha,na,Ia,Fa,Ra,Ta,ma,za,Aa,Ja,Ca,Pa,Ga,Wa,ab,Ya,jb){return {cryptoContext:{value:X,writable:!1,configurable:!1},customer:{value:ba,writable:!1,configurable:!1},entityAuthenticationData:{value:ha,writable:!1,configurable:!1},masterToken:{value:na,writable:!1,configurable:!1},sender:{value:Ia,writable:!1,configurable:!1},messageId:{value:Fa,writable:!1,configurable:!1},nonReplayableId:{value:Ga,writable:!1,configurable:!1},keyRequestData:{value:Ra,writable:!1,configurable:!1},keyResponseData:{value:Ta,writable:!1,configurable:!1},userAuthenticationData:{value:ma,writable:!1,configurable:!1},userIdToken:{value:za,writable:!1,configurable:!1},serviceTokens:{value:Aa,writable:!1,configurable:!1},peerMasterToken:{value:Ja,writable:!1,configurable:!1},peerUserIdToken:{value:Ca,writable:!1,configurable:!1},peerServiceTokens:{value:Pa,writable:!1,configurable:!1},messageCapabilities:{value:ab,writable:!1,configurable:!1},renewable:{value:Wa,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Ya,writable:!1,enumerable:!1,configurable:!1},signature:{value:jb,writable:!1,enumerable:!1,configurable:!1}};}function da(ta,X,ba){var ha;if(ba){if(X=ta.getMslStore().getCryptoContext(ba))return X;if(!ba.isVerified() || !ba.isDecrypted())throw new Oc(W.MASTERTOKEN_UNTRUSTED,ba);return new jc(ta,ba);}ba=X.scheme;ha=ta.getEntityAuthenticationFactory(ba);if(!ha)throw new xc(W.ENTITYAUTH_FACTORY_NOT_FOUND,ba);return ha.getCryptoContext(ta,X);}function ka(ta,X,ba,ha,na){Ma(na,function(){X.verify(ba,ha,{result:function(Ia){Ma(na,function(){if(!Ia)throw new ub(W.MESSAGE_VERIFICATION_FAILED);X.decrypt(ba,{result:function(Fa){Ma(na,function(){return Tb(Fa,Lb);});},error:function(Fa){na.error(Fa);}});});},error:function(Ia){na.error(Ia);}});});}function fa(ta,X,ba){Ma(ba,function(){if(X)Se(ta,X,ba);else return null;});}function V(ta,X,ba,ha){Ma(ha,function(){if(X)Rc(ta,X,ba,ha);else return null;});}function aa(ta,X,ba,ha){Ma(ha,function(){if(ba)gf(ta,X,ba,ha);else return null;});}function ua(ta,X,ba,ha,na,Ia,Fa){var Ta;function Ra(ma,za,Aa){var Ja,Ca;if(za >= ma.length){Ja=[];for(Ca in Ta){Ja.push(Ta[Ca]);}Aa.result(Ja);}else {Ja=ma[za];if("object" !== typeof Ja)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + Ia);Hd(ta,Ja,ba,ha,na,{result:function(Pa){Ma(Aa,function(){Ta[Pa.uniqueKey()]=Pa;Ra(ma,za + 1,Aa);});},error:function(Pa){Aa.error(Pa);}});}}Ta={};Ma(Fa,function(){if(X){if(!(X instanceof Array))throw new yb(W.JSON_PARSE_ERROR,"headerdata " + Ia);Ra(X,0,Fa);}else return [];});}function qa(ta,X,ba,ha,na,Ia){function Fa(Ta,ma,za){Ma(za,function(){var Aa;Aa=ma.peermastertoken;if(Aa && "object" !== typeof Aa)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + na);if(!Aa)return null;Qc(Ta,Aa,za);});}function Ra(Ta,ma,za,Aa){Ma(Aa,function(){var Ja;Ja=ma.peeruseridtoken;if(Ja && "object" !== typeof Ja)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + na);if(!Ja)return null;Rc(Ta,Ja,za,Aa);});}Ma(Ia,function(){if(!ta.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Fa(ta,X,{result:function(Ta){Ma(Ia,function(){var ma;ma=ba?ba.masterToken:Ta;Ra(ta,X,ma,{result:function(za){Ma(Ia,function(){ua(ta,X.peerservicetokens,ma,za,ha,na,{result:function(Aa){Ma(Ia,function(){return {peerMasterToken:Ta,peerUserIdToken:za,peerServiceTokens:Aa};});},error:function(Aa){Ma(Ia,function(){Aa instanceof db && (Aa.setEntity(ma),Aa.setUser(za));throw Aa;});}});});},error:function(za){Ma(Ia,function(){za instanceof db && za.setEntity(ma);throw za;});}});});},error:Ia.error});});}function va(ta,X,ba,ha){var Ia;function na(Fa,Ra){Ma(ha,function(){if(Ra >= Fa.length)return Ia;Re(ta,Fa[Ra],{result:function(Ta){Ma(ha,function(){Ia.push(Ta);na(Fa,Ra + 1);});},error:function(Ta){ha.error(Ta);}});});}Ia=[];Ma(ha,function(){var Fa;Fa=X.keyrequestdata;if(!Fa)return Ia;if(!(Fa instanceof Array))throw new yb(W.JSON_PARSE_ERROR,"headerdata " + ba);na(Fa,0);});}Da=ef=Bb.Class.create({init:function(ta,X,ba,ha,na,Ia,Fa,Ra,Ta){Object.defineProperties(this,{messageId:{value:ta,writable:!1,configurable:!1},nonReplayableId:{value:X,writable:!1,configurable:!1},renewable:{value:ba,writable:!1,configurable:!1},capabilities:{value:ha,writable:!1,configurable:!1},keyRequestData:{value:na,writable:!1,configurable:!1},keyResponseData:{value:Ia,writable:!1,configurable:!1},userAuthData:{value:Fa,writable:!1,configurable:!1},userIdToken:{value:Ra,writable:!1,configurable:!1},serviceTokens:{value:Ta,writable:!1,configurable:!1}});}});wa=ff=Bb.Class.create({init:function(ta,X,ba){Object.defineProperties(this,{peerMasterToken:{value:ta,writable:!1,configurable:!1},peerUserIdToken:{value:X,writable:!1,configurable:!1},peerServiceTokens:{value:ba,writable:!1,configurable:!1}});}});nd=Bb.Class.create({init:function(ta,X,ba,ha,na,Ia,Fa){var Ta;function Ra(ma){Ma(Fa,function(){var za,Aa,Ja,Ca,Pa,Ga,Wa,ab,Ya,jb,mb,ob,rb,sb,zb,xb,r;X=ba?null:X;za=ha.nonReplayableId;Aa=ha.renewable;Ja=ha.capabilities;Ca=ha.messageId;Pa=ha.keyRequestData?ha.keyRequestData:[];Ga=ha.keyResponseData;Wa=ha.userAuthData;ab=ha.userIdToken;Ya=ha.serviceTokens?ha.serviceTokens:[];if(ta.isPeerToPeer()){jb=na.peerMasterToken;mb=na.peerUserIdToken;ob=na.peerServiceTokens?na.peerServiceTokens:[];}else (mb=jb=null,ob=[]);if(0 > Ca || Ca > Mb)throw new vb("Message ID " + Ca + " is out of range.");if(!X && !ba)throw new vb("Message entity authentication data or master token must be provided.");if(Ga){if(ta.isPeerToPeer()){rb=ba;sb=Ga.masterToken;}else (rb=Ga.masterToken,sb=jb);}else (rb=ba,sb=jb);if(ab && (!rb || !ab.isBoundTo(rb)))throw new vb("User ID token must be bound to a master token.");if(mb && (!sb || !mb.isBoundTo(sb)))throw new vb("Peer user ID token must be bound to a peer master token.");Ya.forEach(function(b){if(b.isMasterTokenBound() && (!rb || !b.isBoundTo(rb)))throw new vb("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!ab || !b.isBoundTo(ab)))throw new vb("User ID token bound service tokens must be bound to the provided user ID token.");},this);ob.forEach(function(b){if(b.isMasterTokenBound() && (!sb || !b.isBoundTo(sb)))throw new vb("Master token bound peer service tokens must be bound to the provided peer master token.");if(b.isUserIdTokenBound() && (!mb || !b.isBoundTo(mb)))throw new vb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Ia){r=Ia.customer;zb=Ia.messageCryptoContext;xb=ca(ta,zb,r,X,ba,ma,Ca,Pa,Ga,Wa,ab,Ya,jb,mb,ob,za,Aa,Ja,Ia.headerdata,Ia.signature);Object.defineProperties(this,xb);return this;}r=ab?ab.customer:null;xb={};ma && (xb.sender=ma);xb.messageid=Ca;"number" === typeof za && (xb.nonreplayableid=za);xb.renewable=Aa;Ja && (xb.capabilities=Ja);0 < Pa.length && (xb.keyrequestdata=Pa);Ga && (xb.keyresponsedata=Ga);Wa && (xb.userauthdata=Wa);ab && (xb.useridtoken=ab);0 < Ya.length && (xb.servicetokens=Ya);jb && (xb.peermastertoken=jb);mb && (xb.peeruseridtoken=mb);0 < ob.length && (xb.peerservicetokens=ob);try{zb=da(ta,X,ba);}catch(b){throw (b instanceof db && (b.setEntity(ba),b.setEntity(X),b.setUser(ab),b.setUser(Wa),b.setMessageId(Ca)),b);}xb=Rb(JSON.stringify(xb),Lb);zb.encrypt(xb,{result:function(b){Ma(Fa,function(){zb.sign(b,{result:function(a){Ma(Fa,function(){var c;c=ca(ta,zb,r,X,ba,ma,Ca,Pa,Ga,Wa,ab,Ya,jb,mb,ob,za,Aa,Ja,b,a);Object.defineProperties(this,c);return this;},Ta);},error:function(a){Ma(Fa,function(){a instanceof db && (a.setEntity(ba),a.setEntity(X),a.setUser(ab),a.setUser(Wa),a.setMessageId(Ca));throw a;},Ta);}});},Ta);},error:function(b){Ma(Fa,function(){b instanceof db && (b.setEntity(ba),b.setEntity(X),b.setUser(ab),b.setUser(Wa),b.setMessageId(Ca));throw b;},Ta);}});},Ta);}Ta=this;Ma(Fa,function(){Ia?Ra(Ia.sender):ba?ta.getEntityAuthenticationData(null,{result:function(ma){ma=ma.getIdentity();Ra(ma);},error:Fa.error}):Ra(null);},Ta);},isEncrypting:function(){return this.masterToken || Rd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var ta;ta={};this.masterToken?ta[Ye]=this.masterToken:ta[je]=this.entityAuthenticationData;ta[Ze]=Db(this.headerdata);ta[ke]=Db(this.signature);return ta;}});df=function(ta,X,ba,ha,na,Ia){new nd(ta,X,ba,ha,na,null,Ia);};le=function(ta,X,ba,ha,na,Ia,Fa){Ma(Fa,function(){var Ra,Ta;ba=ha?null:ba;if(!ba && !ha)throw new Ib(W.MESSAGE_ENTITY_NOT_FOUND);Ra=X;try{X=Gb(Ra);}catch(ma){throw new Ib(W.HEADER_DATA_INVALID,Ra,ma);}if(!X || 0 == X.length)throw new Ib(W.HEADER_DATA_MISSING,Ra);try{Ta=da(ta,ba,ha);}catch(ma){throw (ma instanceof db && (ma.setEntity(ha),ma.setEntity(ba)),ma);}ka(ta,Ta,X,na,{result:function(ma){Ma(Fa,function(){var za,Aa,Ja,Ca,Pa;try{za=JSON.parse(ma);}catch(Ga){if(Ga instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + ma,Ga).setEntity(ha).setEntity(ba);throw Ga;}Aa=parseInt(za.messageid);if(!Aa || Aa != Aa)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + ma).setEntity(ha).setEntity(ba);if(0 > Aa || Aa > Mb)throw new Ib(W.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + ma).setEntity(ha).setEntity(ba);Ja=ha?za.sender:null;if(ha && (!Ja || "string" !== typeof Ja))throw new yb(W.JSON_PARSE_ERROR,"headerdata " + ma).setEntity(ha).setEntity(ba).setMessageId(Aa);Ca=za.keyresponsedata;if(Ca && "object" !== typeof Ca)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + ma).setEntity(ha).setEntity(ba).setMessageId(Aa);Pa=Fa;Fa={result:function(Ga){Pa.result(Ga);},error:function(Ga){Ga instanceof db && (Ga.setEntity(ha),Ga.setEntity(ba),Ga.setMessageId(Aa));Pa.error(Ga);}};fa(ta,Ca,{result:function(Ga){Ma(Fa,function(){var Wa,ab;Wa=!ta.isPeerToPeer() && Ga?Ga.masterToken:ha;ab=za.useridtoken;if(ab && "object" !== typeof ab)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + ma);V(ta,ab,Wa,{result:function(Ya){Ma(Fa,function(){var jb;jb=za.userauthdata;if(jb && "object" !== typeof jb)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + ma);aa(ta,Wa,jb,{result:function(mb){Ma(Fa,function(){var ob,rb,sb;if(mb){ob=mb.scheme;rb=ta.getUserAuthenticationFactory(ob);if(!rb)throw new Hb(W.USERAUTH_FACTORY_NOT_FOUND,ob).setUser(Ya).setUser(mb);ob=ha?ha.identity:ba.getIdentity();sb=rb.authenticate(ta,ob,mb,Ya);}else sb=Ya?Ya.customer:null;ua(ta,za.servicetokens,Wa,Ya,Ia,ma,{result:function(zb){Ma(Fa,function(){var xb,r,b,a;xb=za.nonreplayableid !== Ab?parseInt(za.nonreplayableid):null;r=za.renewable;if(xb != xb || "boolean" !== typeof r)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + ma);if(0 > xb || xb > Mb)throw new Ib(W.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + ma);b=null;a=za.capabilities;if(a){if("object" !== typeof a)throw new yb(W.JSON_PARSE_ERROR,"headerdata " + ma);b=cf(a);}va(ta,za,ma,{result:function(c){qa(ta,za,Ga,Ia,ma,{result:function(f){Ma(Fa,function(){var k,m,d,g;k=f.peerMasterToken;m=f.peerUserIdToken;d=f.peerServiceTokens;g=new Da(Aa,xb,r,b,c,Ga,mb,Ya,zb);k=new wa(k,m,d);m=new ia(sb,Ja,Ta,X,na);new nd(ta,ba,ha,g,k,m,Fa);});},error:Fa.error});},error:function(c){Ma(Fa,function(){c instanceof db && (c.setUser(Ya),c.setUser(mb));throw c;});}});});},error:function(zb){Ma(Fa,function(){zb instanceof db && (zb.setEntity(Wa),zb.setUser(Ya),zb.setUser(mb));throw zb;});}});});},error:Fa.error});});},error:Fa.error});});},error:Fa.error});});},error:Fa.error});});};})();(function(){function ia(ca,da){this.payload=ca;this.signature=da;}ne=Bb.Class.create({init:function(ca,da,ka,fa,V,aa,ua,qa){var va;va=this;Ma(qa,function(){var Da,wa;if(0 > ca || ca > Mb)throw new vb("Sequence number " + ca + " is outside the valid range.");if(0 > da || da > Mb)throw new vb("Message ID " + da + " is outside the valid range.");if(ua)return (Object.defineProperties(this,{sequenceNumber:{value:ca,writable:!1,configurable:!1},messageId:{value:da,writable:!1,configurable:!1},compressionAlgo:{value:fa,writable:!1,configurable:!1},data:{value:V,writable:!1,configurable:!1},endofmsg:{value:ka,writable:!1,enumerable:!1,configurable:!1},payload:{value:ua.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:ua.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(fa){Da=oe(fa,V);Da || (fa=null,Da=V);}else (fa=null,Da=V);wa={};wa.sequencenumber=ca;wa.messageid=da;ka && (wa.endofmsg=ka);fa && (wa.compressionalgo=fa);wa.data=Db(Da);Da=Rb(JSON.stringify(wa),Lb);aa.encrypt(Da,{result:function(ta){Ma(qa,function(){aa.sign(ta,{result:function(X){Ma(qa,function(){Object.defineProperties(this,{sequenceNumber:{value:ca,writable:!1,configurable:!1},messageId:{value:da,writable:!1,configurable:!1},compressionAlgo:{value:fa,writable:!1,configurable:!1},data:{value:V,writable:!1,configurable:!1},endofmsg:{value:ka,writable:!1,enumerable:!1,configurable:!1},payload:{value:ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:X,writable:!1,enumerable:!1,configurable:!1}});return this;},va);},error:function(X){qa.error(X);}});},va);},error:function(ta){qa.error(ta);}});},va);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var ca;ca={};ca.payload=Db(this.payload);ca.signature=Db(this.signature);return ca;}});hf=function(ca,da,ka,fa,V,aa,ua){new ne(ca,da,ka,fa,V,aa,null,ua);};jf=function(ca,da,ka){Ma(ka,function(){var fa,V,aa,ua;fa=ca.payload;V=ca.signature;if(!fa || "string" !== typeof fa || "string" !== typeof V)throw new yb(W.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(ca));try{aa=Gb(fa);}catch(qa){throw new Ib(W.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(ca),qa);}try{ua=Gb(V);}catch(qa){throw new Ib(W.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(ca),qa);}da.verify(aa,ua,{result:function(qa){Ma(ka,function(){if(!qa)throw new ub(W.PAYLOAD_VERIFICATION_FAILED);da.decrypt(aa,{result:function(va){Ma(ka,function(){var Da,wa,ta,X,ba,ha,na;Da=Tb(va,Lb);try{wa=JSON.parse(Da);}catch(Ia){if(Ia instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"payload chunk payload " + Da,Ia);throw Ia;}ta=parseInt(wa.sequencenumber);X=parseInt(wa.messageid);ba=wa.endofmsg;ha=wa.compressionalgo;wa=wa.data;if(!ta || ta != ta || !X || X != X || ba && "boolean" !== typeof ba || ha && "string" !== typeof ha || "string" !== typeof wa)throw new yb(W.JSON_PARSE_ERROR,"payload chunk payload " + Da);if(0 > ta || ta > Mb)throw new db(W.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + Da);if(0 > X || X > Mb)throw new db(W.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + Da);ba || (ba=!1);if(ha && !Mc[ha])throw new Ib(W.UNIDENTIFIED_COMPRESSION,ha);try{na=Gb(wa);}catch(Ia){throw new Ib(W.PAYLOAD_DATA_CORRUPT,wa,Ia);}if(na && 0 != na.length)Da=ha?Id(ha,na):na;else {if(0 < wa.length)throw new Ib(W.PAYLOAD_DATA_CORRUPT,wa);if(ba)Da=new Uint8Array(0);else throw new Ib(W.PAYLOAD_DATA_MISSING,wa);}na=new ia(aa,ua);new ne(ta,X,ba,ha,Da,da,na,ka);});},error:function(va){ka.error(va);}});});},error:function(qa){ka.error(qa);}});});};})();(function(){var ka,fa;function ia(V,aa,ua,qa,va){var wa,ta,X,ba,ha;function Da(){Ma(va,function(){var na,Ia;ta >= aa.length && (ta=0,++wa);if(wa >= X.length){if(ba)throw ba;throw new Pb(W.KEYX_FACTORY_NOT_FOUND,JSON.stringify(aa));}na=X[wa];Ia=aa[ta];na.scheme != Ia.keyExchangeScheme?(++ta,Da()):na.generateResponse(V,Ia,ha,{result:function(Fa){va.result(Fa);},error:function(Fa){Ma(va,function(){if(!(Fa instanceof db))throw Fa;ba=Fa;++ta;Da();});}});});}wa=0;ta=0;X=V.getKeyExchangeFactories();ha=ua?ua:qa;Da();}function ca(V,aa,ua,qa,va){Ma(va,function(){var Da;Da=aa.keyRequestData;if(aa.isRenewable() && 0 < Da.length)qa?qa.isRenewable() || qa.isExpired()?ia(V,Da,qa,null,va):V.getTokenFactory().isNewestMasterToken(V,qa,{result:function(wa){Ma(va,function(){if(wa)return null;ia(V,Da,qa,null,va);});},error:va.error}):ia(V,Da,null,ua.getIdentity(),va);else return null;});}function da(V,aa,ua,qa){Ma(qa,function(){var va,Da,wa,ta;va=aa.userIdToken;Da=aa.userAuthenticationData;wa=aa.messageId;if(va && va.isVerified()){if(va.isRenewable() && aa.isRenewable() || va.isExpired() || !va.isBoundTo(ua)){Da=V.getTokenFactory();Da.renewUserIdToken(V,va,ua,qa);return;}}else if(aa.isRenewable() && ua && Da){va=aa.customer;if(!va){va=Da.scheme;ta=V.getUserAuthenticationFactory(va);if(!ta)throw new Hb(W.USERAUTH_FACTORY_NOT_FOUND,va).setEntity(ua).setUser(Da).setMessageId(wa);va=ta.authenticate(V,ua.identity,Da,null);}Da=V.getTokenFactory();Da.createUserIdToken(V,va,ua,qa);return;}return va;});}ka=new Uint8Array(0);fa=Sc=function(V){if(0 > V || V > Mb)throw new vb("Message ID " + V + " is outside the valid range.");return V == Mb?0:V + 1;};dd=function(V){if(0 > V || V > Mb)throw new vb("Message ID " + V + " is outside the valid range.");return 0 == V?Mb:V - 1;};Tc=function(V,aa,ua,qa,va){Ma(va,function(){var Da;if(qa == Ab || null == qa){Da=V.getRandom();do {qa=Da.nextLong();}while(0 > qa || qa > Mb);}else if(0 > qa || qa > Mb)throw new vb("Message ID " + qa + " is outside the valid range.");V.getEntityAuthenticationData(null,{result:function(wa){Ma(va,function(){var ta;ta=V.getMessageCapabilities();return new Jd(V,qa,ta,wa,aa,ua,null,null,null,null,null);});},error:function(wa){va.error(wa);}});});};kf=function(V,aa,ua){Ma(ua,function(){var va,Da,wa,ta,X,ba;function qa(ha){Ma(ua,function(){ha instanceof db && (ha.setEntity(va),ha.setEntity(Da),ha.setUser(wa),ha.setUser(ta),ha.setMessageId(X));throw ha;});}va=aa.masterToken;Da=aa.entityAuthenticationData;wa=aa.userIdToken;ta=aa.userAuthenticationData;X=aa.messageId;ba=fa(X);ca(V,aa,Da,va,{result:function(ha){Ma(ua,function(){var na;na=ha?ha.keyResponseData.masterToken:na=va;V.getEntityAuthenticationData(null,{result:function(Ia){Ma(ua,function(){da(V,aa,na,{result:function(Fa){Ma(ua,function(){var Ra,Ta,ma;wa=Fa;Ra=me(aa.messageCapabilities,V.getMessageCapabilities());Ta=aa.keyResponseData;ma=aa.serviceTokens;return V.isPeerToPeer()?new Jd(V,ba,Ra,Ia,Ta?Ta.masterToken:aa.peerMasterToken,aa.peerUserIdToken,aa.peerServiceTokens,va,wa,ma,ha):new Jd(V,ba,Ra,Ia,Ta?Ta.masterToken:va,wa,ma,null,null,null,ha);});},error:qa});});},error:qa});});},error:qa});});};lf=function(V,aa,ua,qa,va){Ma(va,function(){V.getEntityAuthenticationData(null,{result:function(Da){Ma(va,function(){var wa,ta;if(aa != Ab && null != aa)wa=fa(aa);else {ta=V.getRandom();do {wa=ta.nextInt();}while(0 > wa || wa > Mb);}bf(V,Da,wa,ua.responseCode,ua.internalCode,ua.message,qa,va);});},error:function(Da){va.error(Da);}});});};Jd=Bb.Class.create({init:function(V,aa,ua,qa,va,Da,wa,ta,X,ba,ha){var na,Ia,Fa,Ra,Ta;if(!V.isPeerToPeer() && (ta || X))throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");na=ha && !V.isPeerToPeer()?ha.keyResponseData.masterToken:va;Ia=[];na=V.getMslStore().getServiceTokens(na,Da);Ia.push.apply(Ia,na);wa && wa.forEach(function(ma){Ia.push(ma);},this);Fa=[];if(V.isPeerToPeer()){Ra=ta;Ta=X;wa=ha?ha.keyResponseData.masterToken:ta;X=V.getMslStore().getServiceTokens(wa,X);Fa.push.apply(Fa,X);ba && ba.forEach(function(ma){Fa.push(ma);},this);}Object.defineProperties(this,{_ctx:{value:V,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:qa,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:va,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:aa,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:ua,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:ha,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:Da,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Ra,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Ta,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Fa,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Rd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Rd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || we(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || we(this._entityAuthData.scheme);},getHeader:function(V){Ma(V,function(){var aa,ua,qa;aa=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;ua=[];for(qa in this._keyRequestData){ua.push(this._keyRequestData[qa]);}if(this._nonReplayable){if(!this._masterToken)throw new Ib(W.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);qa=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else qa=null;aa=new ef(this._messageId,qa,this._renewable,this._capabilities,ua,aa,this._userAuthData,this._userIdToken,this._serviceTokens);ua=new ff(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);df(this._ctx,this._entityAuthData,this._masterToken,aa,ua,V);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(V){this._nonReplayable=V;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(V){this._renewable=V;return this;},setAuthTokens:function(V,aa){var ua,va;if(aa && !aa.isBoundTo(V))throw new vb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new vb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{ua=this._ctx.getMslStore().getServiceTokens(V,aa);}catch(Da){if(Da instanceof db)throw new vb("Invalid master token and user ID token combination despite checking above.",Da);throw Da;}for(var qa=this._serviceTokens.length - 1;0 <= qa;--qa){va=this._serviceTokens[qa];(va.isUserIdTokenBound() && !va.isBoundTo(aa) || va.isMasterTokenBound() && !va.isBoundTo(V)) && this._serviceTokens.splice(qa,1);}ua.forEach(function(Da){this.excludeServiceToken(Da.name,Da.isMasterTokenBound(),Da.isUserIdTokenBound());this._serviceTokens.push(Da);},this);this._masterToken=V;this._userIdToken=aa;},setUserAuthenticationData:function(V){this._userAuthData=V;return this;},setCustomer:function(V,aa){var ua;ua=this;Ma(aa,function(){var qa;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new vb("User ID token or peer user ID token already exists for the remote user.");qa=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!qa)throw new vb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,V,qa,{result:function(va){Ma(aa,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=va:(this._userIdToken=va,this._userAuthData=null);return !0;},ua);},error:function(va){aa.error(va);}});},ua);},addKeyRequestData:function(V){this._keyRequestData[V.uniqueKey()]=V;return this;},removeKeyRequestData:function(V){delete this._keyRequestData[V.uniqueKey()];return this;},addServiceToken:function(V){var aa;aa=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(V.isMasterTokenBound() && !V.isBoundTo(aa))throw new Ib(W.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; mt " + JSON.stringify(aa)).setEntity(aa);if(V.isUserIdTokenBound() && !V.isBoundTo(this._userIdToken))throw new Ib(W.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(aa).setUser(this._userIdToken);this.excludeServiceToken(V.name,V.isMasterTokenBound(),V.isUserIdTokenBound());this._serviceTokens.push(V);return this;},addServiceTokenIfAbsent:function(V){var ua;for(var aa=this._serviceTokens.length - 1;0 <= aa;--aa){ua=this._serviceTokens[aa];if(ua.name == V.name && ua.isMasterTokenBound() == V.isMasterTokenBound() && ua.isUserIdTokenBound() == V.isUserIdTokenBound())return this;}this.addServiceToken(V);return this;},excludeServiceToken:function(){var V,aa,ua,va;if(1 == arguments.length){V=arguments[0];aa=V.name;ua=V.isMasterTokenBound();V=V.isUserIdTokenBound();}else (arguments.length=3,aa=arguments[0],ua=arguments[1],V=arguments[2]);for(var qa=this._serviceTokens.length - 1;0 <= qa;--qa){va=this._serviceTokens[qa];va.name == aa && va.isMasterTokenBound() == ua && va.isUserIdTokenBound() == V && this._serviceTokens.splice(qa,1);}return this;},deleteServiceToken:function(){var V,aa,ua,qa;if(2 == arguments.length){V=arguments[0];aa=V.name;V.isMasterTokenBound();V.isUserIdTokenBound();ua=arguments[1];}else (arguments.length=4,aa=arguments[0],ua=arguments[3]);qa=this;Ma(ua,function(){var va,Da;va=originalToken.isMasterTokenBound()?this._masterToken:null;Da=originalToken.isUserIdTokenBound()?this._userIdToken:null;Dc(this._ctx,aa,ka,va,Da,!1,null,new cd(),{result:function(wa){Ma(ua,function(){return this.addServiceToken(wa);},qa);},error:function(wa){wa instanceof db && (wa=new vb("Failed to create and add empty service token to message.",wa));ua.error(wa);}});},qa);},getServiceTokens:function(){var V;V=[];V.push.apply(V,this._serviceTokens);return V;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(V,aa){var ua,va;if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(aa && !V)throw new vb("Peer master token cannot be null when setting peer user ID token.");if(aa && !aa.isBoundTo(V))throw new Ib(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + aa + "; mt " + V).setEntity(V).setUser(aa);try{ua=this._ctx.getMslStore().getServiceTokens(V,aa);}catch(Da){if(Da instanceof db)throw new vb("Invalid peer master token and user ID token combination despite proper check.",Da);throw Da;}for(var qa=this._peerServiceTokens.length - 1;0 <= qa;--qa){va=this._peerServiceTokens[qa];(va.isUserIdTokenBound() && !va.isBoundTo(aa) || va.isMasterTokenBound() && !va.isBoundTo(V)) && this._peerServiceTokens.slice(qa,1);}ua.forEach(function(Da){this.excludePeerServiceToken(Da.name,Da.isMasterTokenBound(),Da.isUserIdTokenBound());this._peerServiceTokens.push(Da);},this);this._peerUserIdToken=aa;this._peerMasterToken=V;return this;},addPeerServiceToken:function(V){if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer service tokens when not in peer-to-peer mode.");if(V.isMasterTokenBound() && !V.isBoundTo(this._peerMasterToken))throw new Ib(W.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(V.isUserIdTokenBound() && !V.isBoundTo(this._peerUserIdToken))throw new Ib(W.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(V.name,V.isMasterTokenBound(),V.isUserIdTokenBound());this._peerServiceTokens.push(V);return this;},addPeerServiceTokenIfAbsent:function(V){var ua;for(var aa=this._peerServiceTokens.length - 1;0 <= aa;--aa){ua=this._peerServiceTokens[aa];if(ua.name == V.name && ua.isMasterTokenBound() == V.isMasterTokenBound() && ua.isUserIdTokenBound() == V.isUserIdTokenBound())return this;}this.addPeerServiceToken(V);return this;},excludePeerServiceToken:function(){var V,aa,ua,va;if(1 == arguments.length){V=arguments[0];aa=V.name;ua=V.isMasterTokenBound();V=V.isUserIdTokenBound();}else (arguments.length=3,aa=arguments[0],ua=arguments[1],V=arguments[2]);for(var qa=this._peerServiceTokens.length - 1;0 <= qa;--qa){va=this._peerServiceTokens[qa];va.name == aa && va.isMasterTokenBound() == ua && va.isUserIdTokenBound() == V && this._peerServiceTokens.splice(qa,1);}return this;},deletePeerServiceToken:function(){var V,aa,ua,qa,va,Da;if(2 == arguments.length){V=arguments[0];aa=V.name;ua=V.isMasterTokenBound();qa=V.isUserIdTokenBound();va=arguments[1];}else (arguments.length=4,aa=arguments[0],ua=arguments[1],qa=arguments[2],va=arguments[3]);Da=this;Ma(va,function(){Dc(this._ctx,aa,ka,ua?this._peerMasterToken:null,qa?this._peerUserIdToken:null,!1,null,new cd(),{result:function(wa){Ma(va,function(){return this.addPeerServiceToken(wa);},Da);},error:function(wa){wa instanceof db && (wa=new vb("Failed to create and add empty peer service token to message.",wa));va.error(wa);}});},Da);},getPeerServiceTokens:function(){var V;V=[];V.push.apply(V,this._peerServiceTokens);return V;}});})();(function(){function ia(da,ka){return ka[da]?ka[da]:ka[""];}function ca(da){var ka;ka=da.builder.getKeyExchangeData();return ka && !da.ctx.isPeerToPeer()?ka.keyResponseData.masterToken:da.builder.getMasterToken();}mf=Bb.Class.create({init:function(da,ka,fa){da={ctx:{value:da,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:ka.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:fa,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,da);},isPrimaryMasterTokenAvailable:function(){return ca(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(da){try{return (this.builder.addServiceToken(da),!0);}catch(ka){if(ka instanceof Ib)return !1;throw ka;}},addPeerServiceToken:function(da){try{return (this.builder.addPeerServiceToken(da),!0);}catch(ka){if(ka instanceof Ib)return !1;throw ka;}},addUnboundPrimaryServiceToken:function(da,ka,fa,V,aa){var ua;ua=this;Ma(aa,function(){var qa;qa=ia(da,this.cryptoContexts);if(!qa)return !1;Dc(this.ctx,da,ka,null,null,fa,V,qa,{result:function(va){Ma(aa,function(){try{this.builder.addServiceToken(va);}catch(Da){if(Da instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",Da);throw Da;}return !0;},ua);},error:function(va){aa.error(va);}});},ua);},addUnboundPeerServiceToken:function(da,ka,fa,V,aa){var ua;ua=this;Ma(aa,function(){var qa;qa=ia(da,this.cryptoContexts);if(!qa)return !1;Dc(this.ctx,da,ka,null,null,fa,V,qa,{result:function(va){Ma(aa,function(){try{this.builder.addPeerServiceToken(va);}catch(Da){if(Da instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",Da);throw Da;}return !0;},ua);},error:function(va){aa.error(va);}});},ua);},addMasterBoundPrimaryServiceToken:function(da,ka,fa,V,aa){var ua;ua=this;Ma(aa,function(){var qa,va;qa=ca(this);if(!qa)return !1;va=ia(da,this.cryptoContexts);if(!va)return !1;Dc(this.ctx,da,ka,qa,null,fa,V,va,{result:function(Da){Ma(aa,function(){try{this.builder.addServiceToken(Da);}catch(wa){if(wa instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",wa);throw wa;}return !0;},ua);},error:function(Da){aa.error(Da);}});},ua);},addMasterBoundPeerServiceToken:function(da,ka,fa,V,aa){var ua;ua=this;Ma(aa,function(){var qa,va;qa=this.builder.getPeerMasterToken();if(!qa)return !1;va=ia(da,this.cryptoContexts);if(!va)return !1;Dc(this.ctx,da,ka,qa,null,fa,V,va,{result:function(Da){Ma(aa,function(){try{this.builder.addPeerServiceToken(Da);}catch(wa){if(wa instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",wa);throw wa;}return !0;},ua);},error:function(Da){aa.error(Da);}});},ua);},addUserBoundPrimaryServiceToken:function(da,ka,fa,V,aa){var ua;ua=this;Ma(aa,function(){var qa,va,Da;qa=ca(this);if(!qa)return !1;va=this.builder.getUserIdToken();if(!va)return !1;Da=ia(da,this.cryptoContexts);if(!Da)return !1;Dc(this.ctx,da,ka,qa,va,fa,V,Da,{result:function(wa){Ma(aa,function(){try{this.builder.addServiceToken(wa);}catch(ta){if(ta instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ta);throw ta;}return !0;},ua);},error:function(wa){aa.error(wa);}});},ua);},addUserBoundPeerServiceToken:function(da,ka,fa,V,aa){var ua;ua=this;Ma(aa,function(){var qa,va,Da;qa=this.builder.getPeerMasterToken();if(!qa)return !1;va=this.builder.getPeerUserIdToken();if(!va)return !1;Da=ia(da,this.cryptoContexts);if(!Da)return !1;Dc(this.ctx,da,ka,qa,va,fa,V,Da,{result:function(wa){Ma(aa,function(){try{this.builder.addPeerServiceToken(wa);}catch(ta){if(ta instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ta);throw ta;}return !0;},ua);},error:function(wa){aa.error(wa);}});},ua);},excludePrimaryServiceToken:function(){var da,ka,fa,V;if(1 == arguments.length){da=arguments[0];ka=da.name;fa=da.isMasterTokenBound();V=da.isUserIdTokenBound();}else (arguments.length=3,ka=arguments[0],fa=arguments[1],V=arguments[2]);for(var aa=this.builder.getServiceTokens(),ua=0;ua < aa.length;++ua){if((da=aa[ua],da.name == ka && da.isMasterTokenBound() == fa && da.isUserIdTokenBound() == V))return (this.builder.excludeServiceToken(ka,fa,V),!0);}return !1;},excludePeerServiceToken:function(){var da,ka,fa,V;if(1 == arguments.length){da=arguments[0];ka=da.name;fa=da.isMasterTokenBound();V=da.isUserIdTokenBound();}else (arguments.length=3,ka=arguments[0],fa=arguments[1],V=arguments[2]);for(var aa=this.builder.getPeerServiceTokens(),ua=0;ua < aa.length;++ua){if((da=aa[ua],da.name == ka && da.isMasterTokenBound() == fa && da.isUserIdTokenBound() == V))return (this.builder.excludePeerServiceToken(ka,fa,V),!0);}return !1;},deletePrimaryServiceToken:function(){var da,ka,fa,V,aa;if(2 == arguments.length){da=arguments[0];ka=da.name;fa=da.isMasterTokenBound();V=da.isUserIdTokenBound();aa=arguments[1];}else 4 == arguments.length && (ka=arguments[0],fa=arguments[1],V=arguments[2],aa=arguments[3]);Ma(aa,function(){var va;for(var ua=this.builder.getServiceTokens(),qa=0;qa < ua.length;++qa){va=ua[qa];if(va.name == ka && va.isMasterTokenBound() == fa && va.isUserIdTokenBound() == V){this.builder.deleteServiceToken(ka,fa,V,{result:function(){aa.result(!0);},error:function(Da){aa.error(Da);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var da,ka,fa,V,aa;if(2 == arguments.length){da=arguments[0];ka=da.name;fa=da.isMasterTokenBound();V=da.isUserIdTokenBound();aa=arguments[1];}else 4 == arguments.length && (ka=arguments[0],fa=arguments[1],V=arguments[2],aa=arguments[3]);Ma(aa,function(){var va;for(var ua=this.builder.getPeerServiceTokens(),qa=0;qa < ua.length;++qa){va=ua[qa];if(va.name == ka && va.isMasterTokenBound() == fa && va.isUserIdTokenBound() == V){this.builder.deletePeerServiceToken(ka,fa,V,{result:function(){aa.result(!0);},error:function(Da){aa.error(Da);}});return;}}return !1;},this);}});})();(function(){function ia(ca,da,ka,fa){Ma(fa,function(){var aa,ua,qa,va,Da,wa;function V(){Ma(fa,function(){var ta;if(wa >= ka.length){if(Da)throw Da;throw new Pb(W.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(ka));}ta=ka[wa];qa != ta.keyExchangeScheme?(++wa,V()):va.getCryptoContext(ca,ta,ua,aa,{result:fa.result,error:function(X){Ma(fa,function(){if(!(X instanceof db))throw X;Da=X;++wa;V();});}});});}aa=da.masterToken;ua=da.keyResponseData;if(!ua)return null;qa=ua.keyExchangeScheme;va=ca.getKeyExchangeFactory(qa);if(!va)throw new Pb(W.KEYX_FACTORY_NOT_FOUND,qa);wa=0;V();});}nf=ge.extend({init:function(ca,da,ka,fa,V,aa,ua){var qa;qa=this;eb(ua,function(){var ba;function va(){qa._ready=!0;qa._readyQueue.add(!0);}function Da(ha,na){var Ia;try{Ia=na.masterToken;ha.getTokenFactory().isMasterTokenRevoked(ha,Ia,{result:function(Fa){Fa?(qa._errored=new Oc(Fa,Ia).setUser(na.userIdToken).setUser(na.userAuthenticationData).setMessageId(na.messageId),va()):wa(ha,na);},error:function(Fa){Fa instanceof db && (Fa.setEntity(na.masterToken),Fa.setUser(na.userIdToken),Fa.setUser(na.userAuthenticationData),Fa.setMessageId(na.messageId));qa._errored=Fa;va();}});}catch(Fa){Fa instanceof db && (Fa.setEntity(na.masterToken),Fa.setUser(na.userIdToken),Fa.setUser(na.userAuthenticationData),Fa.setMessageId(na.messageId));qa._errored=Fa;va();}}function wa(ha,na){var Ia,Fa;try{Ia=na.masterToken;Fa=na.userIdToken;Fa?ha.getTokenFactory().isUserIdTokenRevoked(ha,Ia,Fa,{result:function(Ra){Ra?(qa._errored=new MslUserIdTokenException(Ra,Fa).setEntity(Ia).setUser(Fa).setMessageId(na.messageId),va()):ta(ha,na);},error:function(Ra){Ra instanceof db && (Ra.setEntity(na.masterToken),Ra.setUser(na.userIdToken),Ra.setUser(na.userAuthenticationData),Ra.setMessageId(na.messageId));qa._errored=Ra;va();}}):ta(ha,na);}catch(Ra){Ra instanceof db && (Ra.setEntity(na.masterToken),Ra.setUser(na.userIdToken),Ra.setUser(na.userAuthenticationData),Ra.setMessageId(na.messageId));qa._errored=Ra;va();}}function ta(ha,na){var Ia;try{Ia=na.masterToken;Ia.isExpired()?na.isRenewable() && 0 != na.keyRequestData.length?ha.getTokenFactory().isMasterTokenRenewable(ha,Ia,{result:function(Fa){Fa?(qa._errored=new Ib(Fa,"Master token is expired and not renewable.").setEntity(Ia).setUser(na.userIdToken).setUser(na.userAuthenticationData).setMessageId(na.messageId),va()):X(ha,na);},error:function(Fa){Fa instanceof db && (Fa.setEntity(na.masterToken),Fa.setUser(na.userIdToken),Fa.setUser(na.userAuthenticationData),Fa.setMessageId(na.messageId));qa._errored=Fa;va();}}):(qa._errored=new Ib(W.MESSAGE_EXPIRED,JSON.stringify(na)).setEntity(Ia).setUser(na.userIdToken).setUser(na.userAuthenticationData).setMessageId(na.messageId),va()):X(ha,na);}catch(Fa){Fa instanceof db && (Fa.setEntity(na.masterToken),Fa.setUser(na.userIdToken),Fa.setUser(na.userAuthenticationData),Fa.setMessageId(na.messageId));qa._errored=Fa;va();}}function X(ha,na){var Ia,Fa;try{Ia=na.masterToken;Fa=na.nonReplayableId;"number" === typeof Fa?Ia?ha.getTokenFactory().acceptNonReplayableId(ha,Ia,Fa,{result:function(Ra){Ra || (qa._errored=new Ib(W.MESSAGE_REPLAYED,JSON.stringify(na)).setEntity(Ia).setUser(na.userIdToken).setUser(na.userAuthenticationData).setMessageId(na.messageId));va();},error:function(Ra){Ra instanceof db && (Ra.setEntity(Ia),Ra.setUser(na.userIdToken),Ra.setUser(na.userAuthenticationData),Ra.setMessageId(na.messageId));qa._errored=Ra;va();}}):(qa._errored=new Ib(W.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(na)).setEntity(na.entityAuthenticationData).setUser(na.userIdToken).setUser(na.userAuthenticationData).setMessageId(na.messageId),va()):va();}catch(Ra){Ra instanceof db && (Ra.setEntity(na.masterToken),Ra.setEntity(na.entityAuthenticationData),Ra.setUser(na.userIdToken),Ra.setUser(na.userAuthenticationData),Ra.setMessageId(na.messageId));qa._errored=Ra;va();}}ba={_source:{value:da,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_charset:{value:ka,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:aa,writable:!1,enumerable:!1,configurable:!1},_header:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new jd(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ba);Qe(qa._source,aa,{result:function(ha){qa._json=ha;qa._jsonIndex=0;null === qa._json?(qa._errored=new yb(W.MESSAGE_DATA_MISSING),va()):Xe(ca,qa._json[qa._jsonIndex++],V,{result:function(na){var Ia;qa._header=na;if(qa._header instanceof Kc)(qa._keyxCryptoContext=null,qa._cryptoContext=null,va());else {Ia=qa._header;ia(ca,Ia,fa,{result:function(Fa){var Ra;try{qa._keyxCryptoContext=Fa;ca.isPeerToPeer() || !qa._keyxCryptoContext?qa._cryptoContext=Ia.cryptoContext:qa._cryptoContext=qa._keyxCryptoContext;try{Ra=Ia.masterToken;Ra && (ca.isPeerToPeer() || Ra.isVerified())?Da(ca,Ia):X(ca,Ia);}catch(Ta){Ta instanceof db && (Ta.setEntity(Ia.masterToken),Ta.setUser(Ia.userIdToken),Ta.setUser(Ia.userAuthenticationData),Ta.setMessageId(Ia.messageId));qa._errored=Ta;va();}}catch(Ta){Ta instanceof db && (Ta.setEntity(Ia.masterToken),Ta.setEntity(Ia.entityAuthenticationData),Ta.setUser(Ia.userIdToken),Ta.setUser(Ia.userAuthenticationData),Ta.setMessageId(Ia.messageId));qa._errored=Ta;va();}},error:function(Fa){Fa instanceof db && (Fa.setEntity(Ia.masterToken),Fa.setEntity(Ia.entityAuthenticationData),Fa.setUser(Ia.userIdToken),Fa.setUser(Ia.userAuthenticationData),Fa.setMessageId(Ia.messageId));qa._errored=Fa;va();}});}},error:function(na){qa._errored=na;va();}});},timeout:function(){qa._timedout=!0;va();},error:function(ha){qa._errored=ha;va();}});return this;},qa);},nextData:function(ca,da){var ka;ka=this;eb(da,function(){var V;function fa(aa){eb(aa,function(){var ua;if(this._jsonIndex < this._json.length)return ua=this._json[this._jsonIndex++];Qe(this._source,this._timeout,{result:function(qa){qa && qa.length && 0 < qa.length?(qa.forEach(function(va){this._json.push(va);}),fa(aa)):(this._eom=!0,aa.result(null));},timeout:function(){aa.timeout();},error:function(qa){aa.error(qa);}});},ka);}V=this.getMessageHeader();if(!V)throw new vb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;fa({result:function(aa){eb(da,function(){if(!aa)return null;if("object" !== typeof aa)throw new yb(W.MESSAGE_FORMAT_ERROR);jf(aa,this._cryptoContext,{result:function(ua){eb(da,function(){var qa,va,Da,wa;qa=V.masterToken;va=V.entityAuthenticationData;Da=V.userIdToken;wa=V.getUserAuthenticationData;if(ua.messageId != V.messageId)throw new Ib(W.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + ua.messageId + " header mid " + V.messageId).setEntity(qa).setEntity(va).setUser(Da).setUser(wa);if(ua.sequenceNumber != this._payloadSequenceNumber)throw new Ib(W.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + ua.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(qa).setEntity(va).setUser(Da).setUser(wa);++this._payloadSequenceNumber;ua.isEndOfMessage() && (this._eom=!0);qa=ua.data;this._payloads.push(qa);this._payloadIndex=-1;return qa;},ka);},error:function(ua){ua instanceof SyntaxError && (ua=new yb(W.JSON_PARSE_ERROR,"payloadchunk",ua));da.error(ua);}});},ka);},timeout:function(){da.timeout();},error:function(aa){da.error(aa);}});},ka);},isReady:function(ca,da){var fa;function ka(){eb(da,function(){if(this._aborted)return !1;if(this._timedout)da.timeout();else {if(this._errored)throw this._errored;return !0;}},fa);}fa=this;eb(da,function(){this._ready?ka():this._readyQueue.poll(ca,{result:function(V){eb(da,function(){if(V === Ab)return !1;ka();},fa);},timeout:function(){da.timeout();},error:function(V){da.error(V);}});},fa);},getMessageHeader:function(){return this._header instanceof nd?this._header:null;},getErrorHeader:function(){return this._header instanceof Kc?this._header:null;},getIdentity:function(){var ca,da;ca=this.getMessageHeader();if(ca){da=ca.masterToken;return da?da.identity:ca.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var ca;ca=this.getMessageHeader();return ca?ca.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(ca){this._closeSource=ca;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(ca,da,ka){var V;function fa(){eb(ka,function(){var ua,qa,va,Da;function aa(wa){eb(wa,function(){var ta,X,ba;if(qa && Da >= qa.length)return qa.subarray(0,Da);ta=-1;if(this._currentPayload){X=this._currentPayload.length - this._payloadOffset;if(!qa){ba=X;if(-1 != this._payloadIndex)for(var ha=this._payloadIndex;ha < this._payloads.length;++ha){ba+=this._payloads[ha].length;}0 < ba && (qa=new Uint8Array(ba));}X=Math.min(X,qa?qa.length - Da:0);0 < X && (ta=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + X),qa.set(ta,va),ta=X,va+=X,this._payloadOffset+=X);}-1 != ta?(Da+=ta,aa(wa)):this.nextData(da,{result:function(na){eb(wa,function(){if(this._aborted)return qa?qa.subarray(0,Da):new Uint8Array(0);this._currentPayload=na;this._payloadOffset=0;if(this._currentPayload)aa(wa);else return 0 == Da && 0 != ca?null:qa?qa.subarray(0,Da):new Uint8Array(0);},V);},timeout:function(){wa.timeout(qa?qa.subarray(0,Da):new Uint8Array(0));},error:function(na){eb(wa,function(){na instanceof db && (na=new Vb("Error reading the payload chunk.",na));if(0 < Da)return (V._readException=na,qa.subarray(0,Da));throw na;},V);}});},V);}if(this._aborted)return new Uint8Array(0);if(this._timedout)ka.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){ua=this._readException;this._readException=null;throw ua;}qa=-1 != ca?new Uint8Array(ca):Ab;va=0;Da=0;aa(ka);}},V);}V=this;eb(ka,function(){if(-1 > ca)throw new RangeError("read requested with illegal length " + ca);this._ready?fa():this._readyQueue.poll(da,{result:function(aa){aa === Ab?ka.result(!1):fa();},timeout:function(){ka.timeout(new Uint8Array(0));},error:function(aa){ka.error(aa);}});},V);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});of=function(ca,da,ka,fa,V,aa,ua){new nf(ca,da,ka,fa,V,aa,ua);};})();(function(){pf=Ed.extend({init:function(ia,ca,da,ka,fa,V,aa){var ua;ua=this;eb(aa,function(){var va,Da,wa;function qa(){ua._ready=!0;ua._readyQueue.add(!0);}va=me(ia.getMessageCapabilities(),ka.messageCapabilities);Da=null;va && (Da=Fe(va.compressionAlgorithms));va={_destination:{value:ca,writable:!1,enumerable:!1,configurable:!1},_charset:{value:da,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:va,writable:!1,enumerable:!1,configurable:!1},_header:{value:ka,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:Da,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:fa,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new jd(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,va);wa=Rb(JSON.stringify(ka),da);ca.write(wa,0,wa.length,V,{result:function(ta){try{ua._aborted?qa():ta < wa.length?(ua._timedout=!0,qa()):ca.flush(V,{result:function(X){ua._aborted || (ua._timedout=!X);qa();},timeout:function(){ua._timedout=!0;qa();},error:function(X){ua._errored=X;qa();}});}catch(X){ua._errored=X;qa();}},timeout:function(){ua._timedout=!0;qa();},error:function(ta){ua._errored=ta;qa();}});return this;},ua);},setCompressionAlgorithm:function(ia,ca,da){var fa;function ka(){fa.flush(ca,{result:function(V){eb(da,function(){if(!V)throw new Vb("flush() aborted");this._compressionAlgo=ia;return !0;},fa);},timeout:function(){da.timeout();},error:function(V){da.error(V);}});}fa=this;eb(da,function(){if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");if(this._compressionAlgo == ia)return !0;if(ia){if(!this._capabilities)return !1;for(var V=this._capabilities.compressionAlgorithms,aa=0;aa < V.length;++aa){if(V[aa] == ia){ka();return;}}return !1;}ka();},fa);},getMessageHeader:function(){return this._header instanceof nd?this._header:null;},getErrorMessage:function(){return this._header instanceof Kc?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(ia,ca){var da;da=this;eb(ca,function(){if(this._aborted)return !1;if(this._timedout)ca.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(ia,{result:function(ka){eb(ca,function(){ka && (this._currentPayload=null);return ka;},da);},timeout:function(){ca.timeout();},error:function(ka){ca.error(ka);}});}},da);},flush:function(ia,ca){var ka;function da(){eb(ca,function(){var fa,V,va;if(this._aborted)return !1;if(this._timedout)ca.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;fa=this.getMessageHeader();if(!fa)return !0;V=0;this._currentPayload && this._currentPayload.forEach(function(Da){V+=Da.length;});for(var aa=new Uint8Array(V),ua=0,qa=0;this._currentPayload && qa < this._currentPayload.length;++qa){va=this._currentPayload[qa];aa.set(va,ua);ua+=va.length;}hf(this._payloadSequenceNumber,fa.messageId,this._closed,this._compressionAlgo,aa,this._cryptoContext,{result:function(Da){eb(ca,function(){var wa;this._payloads.push(Da);wa=Rb(JSON.stringify(Da),this._charset);this._destination.write(wa,0,wa.length,ia,{result:function(ta){eb(ca,function(){if(this._aborted)return !1;ta < Da.length?ca.timeout():this._destination.flush(ia,{result:function(X){eb(ca,function(){if(this._aborted)return !1;if(X)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);ca.timeout();},ka);},timeout:function(){ca.timeout();},error:function(X){X instanceof db && (X=new Vb("Error encoding payload chunk [sequence number " + ka._payloadSequenceNumber + "].",X));ca.error(X);}});},ka);},timeout:function(ta){ca.timeout();},error:function(ta){ta instanceof db && (ta=new Vb("Error encoding payload chunk [sequence number " + ka._payloadSequenceNumber + "].",ta));ca.error(ta);}});},ka);},error:function(Da){Da instanceof db && (Da=new Vb("Error encoding payload chunk [sequence number " + ka._payloadSequenceNumber + "].",Da));ca.error(Da);}});}},ka);}ka=this;eb(ca,function(){this._ready?da():this._readyQueue.poll(ia,{result:function(fa){fa === Ab?ca.result(!1):da();},timeout:function(){ca.timeout();},error:function(fa){ca.error(fa);}});},ka);},write:function(ia,ca,da,ka,fa){eb(fa,function(){var V;if(this._aborted)return !1;if(this._timedout)fa.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Vb("Message output stream already closed.");if(0 > ca)throw new RangeError("Offset cannot be negative.");if(0 > da)throw new RangeError("Length cannot be negative.");if(ca + da > ia.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");V=ia.subarray(ca,ca + da);this._currentPayload.push(V);return V.length;}},this);}});Kd=function(ia,ca,da,ka,fa,V,aa){new pf(ia,ca,da,ka,fa,V,aa);};})();Vf=Bb.Class.create({sentHeader:function(ia){},receivedHeader:function(ia){}});Object.freeze({USERDATA_REAUTH:La.USERDATA_REAUTH,SSOTOKEN_REJECTED:La.SSOTOKEN_REJECTED});qf=Bb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(ia,ca,da,ka){},getCustomer:function(){},getKeyRequestData:function(ia){},updateServiceTokens:function(ia,ca,da){},write:function(ia,ca,da){},getDebugContext:function(){}});Bb.Class.create({getInputStream:function(ia){},getOutputStream:function(ia){}});(function(){var ua,qa,va,Da,wa,ta,X,ba,ha,na,Ia,Fa;function ia(Ra){return function(){Ra.abort();};}function ca(Ra,Ta){Object.defineProperties(this,{masterToken:{value:Ra,writable:!1,configurable:!1},ticket:{value:Ta,writable:!1,configurable:!1}});}function da(Ra,Ta){Object.defineProperties(this,{builder:{value:Ra,writable:!1,configurable:!1},msgCtx:{value:Ta,writable:!1,configurable:!1}});}function ka(Ra,Ta,ma){Object.defineProperties(this,{requestHeader:{value:Ra,writable:!1,configurable:!1},payloads:{value:Ta,writable:!1,configurable:!1},handshake:{value:ma,writable:!1,configurable:!1}});}function fa(Ra,Ta){Object.defineProperties(this,{requestHeader:{value:Ta.requestHeader,writable:!1,configurable:!1},payloads:{value:Ta.payloads,writable:!1,configurable:!1},handshake:{value:Ta.handshake,writable:!1,configurable:!1},response:{value:Ra,writable:!1,configurable:!1}});}function V(Ra){for(;Ra;){if(Ra instanceof $b)return !0;Ra=Ra instanceof db?Ra.cause:Ab;}return !1;}function aa(Ra,Ta,ma,za,Aa,Ja,Ca,Pa,Ga){lf(Ta,za,Aa,Ja,{result:function(Wa){ma && ma.sentHeader(Wa);Kd(Ta,Ca,Lb,Wa,null,null,Pa,{result:function(ab){Ra.setAbort(function(){ab.abort();});ab.close(Pa,{result:function(Ya){eb(Ga,function(){if(!Ya)throw new $b("sendError aborted.");return Ya;});},timeout:function(){Ga.timeout();},error:function(Ya){Ga.error(Ya);}});},timeout:function(){},error:function(ab){Ga.error(ab);}});},error:function(Wa){Ga.error(Wa);}});}ua=Ed.extend({close:function(Ra,Ta){Ta.result(!0);},write:function(Ra,Ta,ma,za,Aa){Ma(Aa,function(){return Math.min(Ra.length - Ta,ma);});},flush:function(Ra,Ta){Ta.result(!0);}});qa=Uf.extend({getUserMessage:function(Ra,Ta){return null;}});va=qf.extend({init:function(Ra){Object.defineProperties(this,{_appCtx:{value:Ra,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Ra,Ta,ma,za){this._appCtx.getUserAuthData(Ra,Ta,ma,za);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Ra){this._appCtx.getKeyRequestData(Ra);},updateServiceTokens:function(Ra,Ta,ma){this._appCtx.updateServiceTokens(Ra,Ta,ma);},write:function(Ra,Ta,ma){this._appCtx.write(Ra,Ta,ma);},getDebugContext:function(){return this._appCtx.getDebugContext();}});Da=va.extend({init:function za(Ta,ma){za.base.call(this,ma);Object.defineProperties(this,{_payloads:{value:Ta,writable:!1,enumerable:!1,configurable:!1}});},write:function(Ta,ma,za){var Ja;function Aa(Ca,Pa){var Ga;if(Ca == Ja._payloads.length)za.result(!0);else {Ga=Ja._payloads[Ca];Ta.setCompressionAlgorithm(Ga.compressionAlgo,ma,{result:function(Wa){Ta.write(Ga.data,0,Ga.data.length,ma,{result:function(ab){eb(za,function(){Ga.isEndOfMessage()?Aa(Ca + 1,Pa):Ta.flush(ma,{result:function(Ya){za.result(Ya);},timeout:function(){za.timeout();},error:function(Ya){za.error(Ya);}});},Ja);},timeout:function(ab){za.timeout(ab);},error:function(ab){za.error(ab);}});},timeout:function(){},error:function(Wa){za.error(Wa);}});}}Ja=this;Aa(0);}});wa=va.extend({init:function za(ma){za.base.call(this,ma);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(ma,za,Aa){Aa.result(!0);}});ta={};X=Bb.Class.create({init:function(ma){ma || (ma=new qa());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(ma){this._filterFactory=ma;},getNewestMasterToken:function(ma,za,Aa,Ja){var Ca;Ca=this;eb(Ja,function(){var Pa,Ga,Wa,ab,Ya;Pa=za.getMslStore();Ga=Pa.getMasterToken();if(!Ga)return null;Wa=Ga.uniqueKey();ab=this._masterTokenLocks[Wa];ab || (ab=new Wd(),this._masterTokenLocks[Wa]=ab);Ya=ab.readLock(Aa,{result:function(jb){eb(Ja,function(){var mb;if(jb === Ab)throw new $b("getNewestMasterToken aborted.");mb=Pa.getMasterToken();if(Ga.equals(mb))return new ca(Ga,jb);ab.unlock(jb);ab.writeLock(Aa,{result:function(ob){eb(Ja,function(){if(ob === Ab)throw new $b("getNewestMasterToken aborted.");delete this._masterTokenLocks[Wa];ab.unlock(ob);return this.getNewestMasterToken(ma,za,Aa,Ja);},Ca);},timeout:function(){Ja.timeout();},error:function(ob){Ja.error(ob);}});},Ca);},timeout:function(){Ja.timeout();},error:function(jb){Ja.error(jb);}});ma.setAbort(function(){Ya && (ab.cancel(Ya),Ya=Ab);});},Ca);},deleteMasterToken:function(ma,za){var Aa;if(za){Aa=this;setTimeout(function(){var Ja,Ca;Ja=za.uniqueKey();Ca=Aa._masterTokenLocks[Ja];Ca || (Ca=new Wd(),Aa._masterTokenLocks[Ja]=Ca);Ca.writeLock(-1,{result:function(Pa){ma.getMslStore().removeCryptoContext(za);delete Aa._masterTokenLocks[Ja];Ca.unlock(Pa);},timeout:function(){throw new vb("Unexpected timeout received.");},error:function(Pa){throw Pa;}});},0);}},releaseMasterToken:function(ma){var za;if(ma && ma.masterToken){za=ma.masterToken.uniqueKey();za=this._masterTokenLocks[za];if(!za)throw new vb("Master token read/write lock does not exist when it should.");za.unlock(ma.ticket);}},updateOutgoingCryptoContexts:function(ma,za,Aa){var Ja;Ja=ma.getMslStore();!ma.isPeerToPeer() && Aa && (Ja.setCryptoContext(Aa.keyResponseData.masterToken,Aa.cryptoContext),this.deleteMasterToken(ma,za.masterToken));},updateIncomingCryptoContexts:function(ma,za,Aa){var Ja,Ca;Ja=Aa.getMessageHeader();if(Ja){Ca=ma.getMslStore();if(Ja=Ja.keyResponseData)(Ca.setCryptoContext(Ja.masterToken,Aa.getKeyExchangeCryptoContext()),this.deleteMasterToken(ma,za.masterToken));}},storeServiceTokens:function(ma,za,Aa,Ja){var Ga,Wa;ma=ma.getMslStore();for(var Ca=[],Pa=0;Pa < Ja.length;++Pa){Ga=Ja[Pa];if(!Ga.isBoundTo(za) || !za.isVerified()){Wa=Ga.data;Wa && 0 == Wa.length?ma.removeServiceTokens(Ga.name,Ga.isMasterTokenBound()?za:null,Ga.isUserIdTokenBound()?Aa:null):Ca.push(Ga);}}0 < Ca.length && ma.addServiceTokens(Ca);},buildRequest:function(ma,za,Aa,Ja,Ca){var Pa;Pa=this;this.getNewestMasterToken(ma,za,Ja,{result:function(Ga){Ma(Ca,function(){var Wa,ab,Ya;Wa=Ga && Ga.masterToken;if(Wa){ab=Aa.getUserId();Ya=za.getMslStore();ab=(ab=ab?Ya.getUserIdToken(ab):null) && ab.isBoundTo(Wa)?ab:null;}else ab=null;Tc(za,Wa,ab,null,{result:function(jb){Ma(Ca,function(){jb.setNonReplayable(Aa.isNonReplayable());return {builder:jb,tokenTicket:Ga};});},error:function(jb){Ma(Ca,function(){this.releaseMasterToken(Ga);jb instanceof db && (jb=new vb("User ID token not bound to master token despite internal check.",jb));throw jb;},Pa);}});},Pa);},timeout:function(){Ca.timeout();},error:function(Ga){Ca.error(Ga);}});},buildResponse:function(ma,za,Aa,Ja,Ca,Pa){var Ga;Ga=this;kf(za,Ja,{result:function(Wa){eb(Pa,function(){Wa.setNonReplayable(Aa.isNonReplayable());if(!za.isPeerToPeer() && !Ja.keyResponseData)return {builder:Wa,tokenTicket:null};this.getNewestMasterToken(ma,za,Ca,{result:function(ab){eb(Pa,function(){var Ya,jb,mb;Ya=ab && ab.masterToken;if(Ya){jb=Aa.getUserId();mb=za.getMslStore();jb=(jb=jb?mb.getUserIdToken(jb):null) && jb.isBoundTo(Ya)?jb:null;}else jb=null;Wa.setAuthTokens(Ya,jb);return {builder:Wa,tokenTicket:ab};},Ga);},timeout:function(){Pa.timeout();},error:function(ab){Pa.error(ab);}});},Ga);},error:function(Wa){Pa.error(Wa);}});},buildErrorResponse:function(ma,za,Aa,Ja,Ca,Pa,Ga){var Ya;function Wa(jb,mb){eb(Ga,function(){var ob,rb;ob=Sc(Ca.messageId);rb=new Da(mb,Aa);Tc(za,null,null,ob,{result:function(sb){eb(Ga,function(){za.isPeerToPeer() && sb.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);sb.setNonReplayable(rb.isNonReplayable());return {errorResult:new da(sb,rb),tokenTicket:null};},Ya);},error:function(sb){Ga.error(sb);}});},Ya);}function ab(jb,mb){Ya.getNewestMasterToken(ma,za,Pa,{result:function(ob){eb(Ga,function(){var rb,sb,zb;rb=ob && ob.masterToken;sb=Sc(Ca.messageId);zb=new Da(mb,Aa);Tc(za,rb,null,sb,{result:function(xb){eb(Ga,function(){za.isPeerToPeer() && xb.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);xb.setNonReplayable(zb.isNonReplayable());return {errorResult:new da(xb,zb),tokenTicket:ob};},Ya);},error:function(xb){Ga.error(xb);}});},Ya);},timeout:function(){Ga.timeout();},error:function(ob){Ga.error(ob);}});}Ya=this;eb(Ga,function(){var jb,mb,ob,rb;jb=Ja.requestHeader;mb=Ja.payloads;ob=Ca.errorCode;switch(ob){case La.ENTITYDATA_REAUTH:case La.ENTITY_REAUTH:za.getEntityAuthenticationData(ob,{result:function(sb){eb(Ga,function(){if(!sb)return null;Wa(jb,mb);},Ya);},error:function(sb){Ga.error(sb);}});break;case La.USERDATA_REAUTH:case La.SSOTOKEN_REJECTED:Aa.getUserAuthData(ob,!1,!0,{result:function(sb){eb(Ga,function(){if(!sb)return null;ab(jb,mb);},Ya);},error:function(sb){Ga.error(sb);}});break;case La.USER_REAUTH:ab(jb,mb);break;case La.KEYX_REQUIRED:ob=Sc(Ca.messageId);rb=new Da(mb,Aa);Tc(za,null,null,ob,{result:function(sb){eb(Ga,function(){za.isPeerToPeer() && sb.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);sb.setRenewable(!0);sb.setNonReplayable(rb.isNonReplayable());return {errorResult:new da(sb,rb),tokenTicket:null};},Ya);},error:function(sb){Ga.error(sb);}});break;case La.EXPIRED:this.getNewestMasterToken(ma,za,Pa,{result:function(sb){eb(Ga,function(){var zb,xb,r,b;zb=sb && sb.masterToken;xb=jb.userIdToken;r=Sc(Ca.messageId);b=new Da(mb,Aa);Tc(za,zb,xb,r,{result:function(a){eb(Ga,function(){za.isPeerToPeer() && a.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);jb.masterToken.equals(zb) && a.setRenewable(!0);a.setNonReplayable(b.isNonReplayable());return {errorResult:new da(a,b),tokenTicket:sb};},Ya);},error:function(a){Ga.error(a);}},Ya);},Ya);},timeout:function(){Ga.timeout();},error:function(sb){Ga.error(sb);}});break;case La.REPLAYED:this.getNewestMasterToken(ma,za,Pa,{result:function(sb){eb(Ga,function(){var zb,xb,r,b;zb=sb && sb.masterToken;xb=jb.userIdToken;r=Sc(Ca.messageId);b=new Da(mb,Aa);Tc(za,zb,xb,r,{result:function(a){eb(Ga,function(){za.isPeerToPeer() && a.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);jb.masterToken.equals(zb)?(a.setRenewable(!0),a.setNonReplayable(!1)):a.setNonReplayable(b.isNonReplayable());return {errorResult:new da(a,b),tokenTicket:sb};},Ya);},error:function(a){Ga.error(a);}});},Ya);},timeout:function(){Ga.timeout();},error:function(sb){Ga.error(sb);}});break;default:return null;}},Ya);},cleanupContext:function(ma,za,Aa){switch(Aa.errorCode){case La.ENTITY_REAUTH:this.deleteMasterToken(ma,za.masterToken);break;case La.USER_REAUTH:(Aa=za.userIdToken,za.masterToken && Aa && ma.getMslStore().removeUserIdToken(Aa));}},send:function(ma,za,Aa,Ja,Ca,Pa,Ga){var ob;function Wa(rb,sb,zb){eb(Ga,function(){var xb;xb=Ca.getPeerUserIdToken();!za.isPeerToPeer() && !sb || za.isPeerToPeer() && !xb?(xb=Aa.getCustomer())?Ca.setCustomer(xb,{result:function(r){eb(Ga,function(){sb=Ca.getUserIdToken();ab(rb,sb,zb);},ob);},error:function(r){Ga.error(r);}}):ab(rb,sb,zb):ab(rb,sb,zb);},ob);}function ab(rb,sb,zb){eb(Ga,function(){var xb,r;xb=!zb && (!Aa.isEncrypted() || Ca.willEncryptPayloads()) && (!Aa.isIntegrityProtected() || Ca.willIntegrityProtectPayloads()) && (!Aa.isNonReplayable() || Ca.isNonReplayable() && rb);xb || Ca.setNonReplayable(!1);r=[];Ca.isRenewable() && (!rb || rb.isRenewable() || Aa.isNonReplayable())?Aa.getKeyRequestData({result:function(b){eb(Ga,function(){var c;for(var a=0;a < b.length;++a){c=b[a];r.push(c);Ca.addKeyRequestData(c);}Ya(rb,sb,xb,r);},ob);},error:function(b){Ga.error(b);}}):Ya(rb,sb,xb,r);},ob);}function Ya(rb,sb,zb,xb){eb(Ga,function(){var r;r=new mf(za,Aa,Ca);Aa.updateServiceTokens(r,!zb,{result:function(b){Ca.getHeader({result:function(a){eb(Ga,function(){var c,f;c=Aa.getDebugContext();c && c.sentHeader(a);c=Ca.getKeyExchangeData();this.updateOutgoingCryptoContexts(za,a,c);this.storeServiceTokens(za,rb,sb,a.serviceTokens);c=!za.isPeerToPeer() && c?c.cryptoContext:a.cryptoContext;if(ma.isAborted())throw new $b("send aborted.");f=null != this._filterFactory?this._filterFactory.getOutputStream(Ja):Ja;Kd(za,f,Lb,a,c,Pa,{result:function(k){ma.setAbort(function(){k.abort();});jb(k,a,zb);},timeout:function(){Ga.timeout();},error:function(k){Ga.error(k);}});},ob);},timeout:function(){Ga.timeout();},error:function(a){Ga.error(a);}});},error:function(b){Ga.error(b);}});},ob);}function jb(rb,sb,zb){var xb,r;if(zb)Aa.write(rb,Pa,{result:function(b){eb(Ga,function(){if(ma.isAborted())throw new $b("MessageOutputStream write aborted.");mb(rb,sb,zb);},ob);},timeout:function(){Ga.timeout();},error:function(b){Ga.error(b);}});else {xb=new ua();r=new cd();Kd(za,xb,Lb,sb,r,Pa,{result:function(b){Aa.write(b,Pa,{result:function(a){eb(Ga,function(){if(ma.isAborted())throw new $b("MessageOutputStream proxy write aborted.");b.close(Pa,{result:function(c){eb(Ga,function(){var f;if(!c)throw new $b("MessageOutputStream proxy close aborted.");f=b.getPayloads();mb(rb,sb,zb,f);},ob);},timeout:function(){Ga.timeout();},error:function(c){Ga.error(c);}});},ob);},timeout:function(){Ga.timeout();},error:function(a){Ga.error(a);}});},timeout:function(){Ga.timeout();},error:function(b){Ga.error(b);}});}}function mb(rb,sb,zb,xb){rb.close(Pa,{result:function(r){eb(Ga,function(){if(!r)throw new $b("MessageOutputStream close aborted.");xb || (xb=rb.getPayloads());return new ka(sb,xb,!zb);},ob);},timeout:function(){Ga.timeout();},error:function(r){Ga.error(r);}});}ob=this;eb(Ga,function(){var rb,sb,zb,xb;rb=Ca.getMasterToken();sb=Ca.getUserIdToken();zb=!1;if(Aa.getUserId()){xb=!sb;Aa.getUserAuthData(null,Ca.isRenewable(),xb,{result:function(r){eb(Ga,function(){r && (Ca.willEncryptHeader() && Ca.willIntegrityProtectHeader()?Ca.setUserAuthenticationData(r):zb=!0);Wa(rb,sb,zb);},ob);},error:function(r){Ga.error(r);}});}else Wa(rb,sb,zb);},ob);},receive:function(ma,za,Aa,Ja,Ca,Pa,Ga){var Wa;Wa=this;eb(Ga,function(){var ab,Ya,jb;if(ma.isAborted())throw new $b("receive aborted.");ab=[];Ca && (ab=Ca.keyRequestData.filter(function(){return !0;}));Ya=Aa.getCryptoContexts();jb=this._filterFactory?this._filterFactory.getInputStream(Ja):Ja;of(za,jb,Lb,ab,Ya,Pa,{result:function(mb){ma.setAbort(function(){mb.abort();});mb.isReady(Pa,{result:function(ob){eb(Ga,function(){var rb,sb,zb,xb;if(!ob)throw new $b("MessageInputStream aborted.");rb=mb.getMessageHeader();sb=mb.getErrorHeader();zb=Aa.getDebugContext();zb && zb.receivedHeader(rb?rb:sb);if(Ca && (zb=sb?sb.errorCode:null,rb || zb != La.FAIL && zb != La.TRANSIENT_FAILURE && zb != La.ENTITY_REAUTH && zb != La.ENTITYDATA_REAUTH)){zb=rb?rb.messageId:sb.messageId;xb=Sc(Ca.messageId);if(zb != xb)throw new Ib(W.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + xb + "; received " + zb);}za.getEntityAuthenticationData(null,{result:function(r){eb(Ga,function(){var b,a,c,f;b=r.getIdentity();if(rb){a=rb.entityAuthenticationData;c=rb.masterToken;a=c?rb.sender:a.getIdentity();if(c && c.isDecrypted() && c.identity != a || b == a)throw new Ib(W.UNEXPECTED_MESSAGE_SENDER,a);Ca && this.updateIncomingCryptoContexts(za,Ca,mb);b=rb.keyResponseData;za.isPeerToPeer()?(b=b?b.masterToken:rb.peerMasterToken,c=rb.peerUserIdToken,a=rb.peerServiceTokens):(b=b?b.masterToken:rb.masterToken,c=rb.userIdToken,a=rb.serviceTokens);f=Aa.getUserId();f && c && !c.isVerified() && za.getMslStore().addUserIdToken(f,c);this.storeServiceTokens(za,b,c,a);}else if((a=sb.entityAuthenticationData.getIdentity(),b == a))throw new Ib(W.UNEXPECTED_MESSAGE_SENDER,a);return mb;},Wa);},error:Ga.error});},Wa);},timeout:function(){Ga.timeout();},error:function(ob){Ga.error(ob);}});},timeout:function(){Ga.timeout();},error:function(mb){Ga.error(mb);}});},Wa);},sendReceive:function(ma,za,Aa,Ja,Ca,Pa,Ga,Wa,ab){var jb;function Ya(mb,ob){eb(ab,function(){Pa.setRenewable(ob);this.send(ma,za,Aa,Ca,Pa,Ga,{result:function(rb){eb(ab,function(){var sb;sb=rb.requestHeader.keyRequestData;Wa || rb.handshake || !sb.isEmpty()?this.receive(ma,za,Aa,Ja,rb.requestHeader,Ga,{result:function(zb){eb(ab,function(){ob && this.releaseRenewalLock(za,mb,zb);return new fa(zb,rb);},jb);},timeout:function(){eb(ab,function(){ob && this.releaseRenewalLock(za,mb,null);ab.timeout();},jb);},error:function(zb){eb(ab,function(){ob && this.releaseRenewalLock(za,mb,null);throw zb;},jb);}}):eb(ab,function(){ob && this.releaseRenewalLock(za,mb,null);return new fa(null,rb);},jb);},jb);},timeout:function(){eb(ab,function(){ob && this.releaseRenewalLock(za,mb,null);ab.timeout();},jb);},error:function(rb){eb(ab,function(){ob && this.releaseRenewalLock(za,mb,null);throw rb;},jb);}});},jb);}jb=this;eb(ab,function(){var mb;mb=new jd();this.acquireRenewalLock(ma,za,Aa,mb,Pa,Ga,{result:function(ob){Ya(mb,ob);},timeout:function(){ab.timeout();},error:function(ob){ob instanceof $b?ab.result(null):ab.error(ob);}});},jb);},acquireRenewalLock:function(ma,za,Aa,Ja,Ca,Pa,Ga){var Ya;function Wa(jb,mb,ob){eb(Ga,function(){var zb,xb;if(ma.isAborted())throw new $b("acquireRenewalLock aborted.");for(var rb=null,sb=0;sb < this._renewingContexts.length;++sb){zb=this._renewingContexts[sb];if(zb.ctx === za){rb=zb.queue;break;}}if(!rb)return (this._renewingContexts.push({ctx:za,queue:Ja}),!0);xb=rb.poll(Pa,{result:function(r){eb(Ga,function(){var b;if(r === Ab)throw new $b("acquireRenewalLock aborted.");rb.add(r);if(r === ta || r.isExpired())Wa(r,mb,ob);else {if(ob && !mb || mb && !mb.isBoundTo(r)){b=za.getMslStore().getUserIdToken(ob);mb=b && b.isBoundTo(r)?b:null;}Ca.setAuthTokens(r,mb);Ca.isRenewable() && r.equals(jb)?Wa(r,mb,ob):Aa.isRequestingTokens() && !mb?Wa(r,mb,ob):ab(r,mb);}},Ya);},timeout:function(){},error:function(r){}});ma.setAbort(function(){xb && (rb.cancel(xb),xb=Ab);});},Ya);}function ab(jb,mb){eb(Ga,function(){var sb;if(ma.isAborted())throw new $b("acquireRenewalLock aborted.");if(!jb || jb.isRenewable() || !mb && Aa.getUserId() || mb && mb.isRenewable()){for(var ob=null,rb=0;rb < this._renewingContexts.length;++rb){sb=this._renewingContexts[rb];if(sb.ctx === za){ob=sb.queue;break;}}if(!ob)return (this._renewingContexts.push({ctx:za,queue:Ja}),!0);}return !1;},Ya);}Ya=this;eb(Ga,function(){var jb,mb,ob;jb=Ca.getMasterToken();mb=Ca.getUserIdToken();ob=Aa.getUserId();Aa.isEncrypted() && !Ca.willEncryptPayloads() || Aa.isIntegrityProtected() && !Ca.willIntegrityProtectPayloads() || Ca.isRenewable() || !jb && Aa.isNonReplayable() || jb && jb.isExpired() || !(mb || !ob || Ca.willEncryptHeader() && Ca.willIntegrityProtectHeader()) || Aa.isRequestingTokens() && (!jb || ob && !mb)?Wa(jb,mb,ob):ab(jb,mb);},Ya);},releaseRenewalLock:function(ma,za,Aa){var Ga;for(var Ja,Ca,Pa=0;Pa < this._renewingContexts.length;++Pa){Ga=this._renewingContexts[Pa];if(Ga.ctx === ma){Ja=Pa;Ca=Ga.queue;break;}}if(Ca !== za)throw new vb("Attempt to release renewal lock that is not owned by this queue.");Aa?(Aa=Aa.messageHeader)?(Ca=Aa.keyResponseData)?za.add(Ca.masterToken):(ma=ma.isPeerToPeer()?Aa.peerMasterToken:Aa.masterToken)?za.add(ma):za.add(ta):za.add(ta):za.add(ta);this._renewingContexts.splice(Ja,1);}});rf=Bb.Class.create({init:function(){var ma;ma={_impl:{value:new X(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ma);},setFilterFactory:function(ma){this._impl.setFilterFactory(ma);},shutdown:function(){this._shutdown=!0;},receive:function(ma,za,Aa,Ja,Ca,Pa){var Ga;if(this._shutdown)throw new db("MslControl is shutdown.");Ga=new ba(this._impl,ma,za,Aa,Ja,Ca);setTimeout(function(){Ga.call(Pa);},0);return ia(Ga);},respond:function(ma,za,Aa,Ja,Ca,Pa,Ga){var Wa;if(this._shutdown)throw new db("MslControl is shutdown.");Wa=new ha(this._impl,ma,za,Aa,Ja,Ca,Pa);setTimeout(function(){Wa.call(Ga);},0);return ia(Wa);},error:function Aa(ma,za,Aa,Ja,Ca,Pa,Ga){var Wa;if(this._shutdown)throw new db("MslControl is shutdown.");Wa=new na(this._impl,ma,za,Aa,Ja,Ca,Pa);setTimeout(function(){Wa.call(Ga);},0);return ia(Wa);},request:function(ma,za){var Aa,Ja,Ca,Pa,Ga,Wa;if(this._shutdown)throw new db("MslControl is shutdown.");if(5 == arguments.length){Ja=arguments[2];Ca=Aa=null;Pa=arguments[3];Ga=arguments[4];if(ma.isPeerToPeer()){Ga.error(new vb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ja=null,Aa=arguments[2],Ca=arguments[3],Pa=arguments[4],Ga=arguments[5],!ma.isPeerToPeer())){Ga.error(new vb("This method cannot be used in trusted network mode."));return;}Wa=new Fa(this._impl,ma,za,Ja,Aa,Ca,null,0,Pa);setTimeout(function(){Wa.call(Ga);},0);return ia(Wa);}});ba=Bb.Class.create({init:function(ma,za,Aa,Ja,Ca,Pa){Object.defineProperties(this,{_ctrl:{value:ma,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:za,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Pa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ma){this._abortFunc=ma;},call:function(ma){var Ca;function za(Pa){eb(ma,function(){var Ga;Ga=Pa.messageHeader;if(!Ga)return Pa;this.setAbort(function(){Pa.abort();});Pa.mark(Number.MAX_VALUE);Pa.read(1,Ca._timeout,{result:function(Wa){eb(ma,function(){if(Wa && 0 == Wa.length)return null;if(Wa)return (Pa.reset(),Pa);Aa(Pa);},Ca);},timeout:function(){ma.timeout();},error:function(Wa){eb(ma,function(){var ab,Ya,jb;if(V(Wa))return null;ab=Ga?Ga.messageId:null;if(Wa instanceof Vb){Ya=W.MSL_COMMS_FAILURE;jb=Wa;}else (Ya=W.INTERNAL_EXCEPTION,jb=new vb("Error peeking into the message payloads."));aa(this,this._ctx,this._msgCtx.getDebugContext(),ab,Ya,null,this._output,this._timeout,{result:function(mb){ma.error(jb);},timeout:function(){ma.timeout();},error:function(mb){eb(ma,function(){if(V(mb))return null;throw new kc("Error peeking into the message payloads.",mb,Wa);},Ca);}});},Ca);}});},Ca);}function Aa(Pa){eb(ma,function(){Pa.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Pa.messageHeader,this._timeout,{result:function(Ga){eb(ma,function(){var Wa,ab,Ya,jb,mb;Wa=Ga.builder;ab=Ga.tokenTicket;Ya=Pa.messageHeader;jb=new wa(this._msgCtx);if(!this._ctx.isPeerToPeer() || Ya.isEncrypting() || Ya.keyResponseData)Ja(Ya,Wa,jb,ab);else {mb=new Fa(this._ctrl,this._ctx,jb,null,this._input,this._output,Ga,1,this._timeout);this.setAbort(function(){mb.abort();});mb.call(ma);}},Ca);},timeout:function(){ma.timeout();},error:function(Ga){eb(ma,function(){var Wa,ab,Ya,jb;if(V(Ga))return null;if(Ga instanceof db){Wa=Ga.messageId;ab=Ga.error;Ya=Pa.messageHeader.messageCapabilities;Ya=this._ctrl.messageRegistry.getUserMessage(ab,Ya?Ya.languages:null);jb=Ga;}else (Wa=requestHeader?requestHeader.messageId:null,ab=W.INTERNAL_EXCEPTION,Ya=null,jb=new vb("Error creating an automatic handshake response.",Ga));aa(this,this._ctx,this._msgCtx.getDebugContext(),Wa,ab,Ya,this._output,this._timeout,{result:function(mb){ma.error(jb);},timeout:function(){ma.timeout();},error:function(mb){eb(ma,function(){if(V(mb))return null;throw new kc("Error creating an automatic handshake response.",mb,Ga);},Ca);}});},Ca);}});},Ca);}function Ja(Pa,Ga,Wa,ab){eb(ma,function(){Ga.setRenewable(!1);this._ctrl.send(this._ctx,Wa,this._output,Ga,this._timeout,{result:function(Ya){eb(ma,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);return null;},Ca);},timeout:function(){eb(ma,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);ma.timeout();},Ca);},error:function(Ya){eb(ma,function(){var jb,mb,ob,rb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);if(V(Ya))return null;if(Ya instanceof db){jb=Ya.messageId;mb=Ya.error;ob=Pa?Pa.messageCapabilities:null;ob=this._ctrl.messageRegistry.getUserMessage(mb,ob?ob.languages:null);rb=Ya;}else Ya instanceof Vb?(jb=Pa?Pa.messageId:null,mb=W.MSL_COMMS_FAILURE,ob=null,rb=Ya):(jb=Pa?Pa.messageId:null,mb=W.INTERNAL_EXCEPTION,ob=null,rb=new vb("Error sending an automatic handshake response.",Ya));aa(this,this._ctx,this._msgCtx.getDebugContext(),jb,mb,ob,this._output,this._timeout,{result:function(sb){ma.error(rb);},timeout:function(){ma.timeout();},error:function(sb){eb(ma,function(){if(V(sb))return null;throw new kc("Error sending an automatic handshake response.",sb,Ya);},Ca);}});},Ca);}});},Ca);}Ca=this;eb(ma,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Pa){za(Pa);},timeout:function(){ma.timeout();},error:function(Pa){eb(ma,function(){var Ga,Wa,ab,Ya;if(V(Pa))return null;if(Pa instanceof db){Ga=Pa.messageId;Wa=Pa.error;ab=this._ctrl.messageRegistry.getUserMessage(Wa,null);Ya=Pa;}else (Ga=null,Wa=W.INTERNAL_EXCEPTION,ab=null,Ya=new vb("Error receiving the message header.",Pa));aa(this,this._ctx,this._msgCtx.getDebugContext(),Ga,Wa,ab,this._output,this._timeout,{result:function(jb){ma.error(Ya);},timeout:function(){ma.timeout();},error:function(jb){eb(ma,function(){if(V(jb))return null;throw new kc("Error receiving the message header.",jb,Pa);},Ca);}});},Ca);}});},Ca);}});ha=Bb.Class.create({init:function(ma,za,Aa,Ja,Ca,Pa,Ga){Object.defineProperties(this,{_ctrl:{value:ma,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:za,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_request:{value:Pa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ma){this._abortFunc=ma;},trustedNetworkExecute:function(ma,za,Aa){var Ja;Ja=this;eb(Aa,function(){var Ca,Pa;if(12 < za + 1)return !1;if(Ca=this._msgCtx.isIntegrityProtected() && !ma.willIntegrityProtectHeader()?W.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !ma.willEncryptPayloads()?W.RESPONSE_REQUIRES_ENCRYPTION:null){Pa=dd(ma.getMessageId());aa(this,this._ctx,this._msgCtx.getDebugContext(),Pa,Ca,null,this._output,this._timeout,{result:function(Ga){Aa.result(!1);},timeout:function(){Aa.timeout();},error:function(Ga){eb(Aa,function(){if(V(Ga))return !1;throw new kc("Response requires encryption or integrity protection but cannot be protected: " + Ca,Ga,null);},Ja);}});}else !this._msgCtx.getCustomer() || ma.getMasterToken() || ma.getKeyExchangeData()?(ma.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,ma,this._timeout,{result:function(Ga){Aa.result(!0);},timeout:function(){Aa.timeout();},error:function(Ga){Aa.error(Ga);}})):(Pa=dd(ma.getMessageId()),aa(this,this._ctx,this._msgCtx.getDebugContext(),Pa,W.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ga){Aa.result(!1);},timeout:function(){Aa.timeout();},error:function(Ga){eb(Aa,function(){if(V(Ga))return !1;throw new kc("Response wishes to attach a user ID token but there is no master token.",Ga,null);},Ja);}}));},Ja);},peerToPeerExecute:function(ma,za,Aa,Ja){var Pa;function Ca(Ga){eb(Ja,function(){var Wa;Wa=Ga.response;Wa.close();Wa=Wa.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Ga.requestHeader,Wa);this._ctrl.buildErrorResponse(this,this._ctx,ma,Ga,Wa,{result:function(ab){eb(Ja,function(){var Ya,jb;if(!ab)return !1;Ya=ab.errorResult;jb=ab.tokenTicket;this.peerToPeerExecute(Ya.msgCtx,Ya.builder,Aa,{result:function(mb){eb(Ja,function(){this._ctrl.releaseMasterToken(jb);return mb;},Pa);},timeout:function(){eb(Ja,function(){this._ctrl.releaseMasterToken(jb);Ja.timeout();},Pa);},error:function(mb){eb(Ja,function(){this._ctrl.releaseMasterToken(jb);throw mb;},Pa);}});},Pa);}});},Pa);}Pa=this;eb(Ja,function(){var Ga;if(12 < Aa + 2)return !1;if(null != ma.getCustomer() && null == za.getPeerMasterToken() && null == za.getKeyExchangeData()){Ga=dd(za.getMessageId());aa(this,this._ctx,ma.getDebugContext(),Ga,W.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Wa){Ja.result(!1);},timeout:function(){Ja.timeout();},error:function(Wa){eb(Ja,function(){if(V(Wa))return !1;throw new kc("Response wishes to attach a user ID token but there is no master token.",Wa,null);},Pa);}});}else this._ctrl.sendReceive(this._ctx,ma,this._input,this._output,za,this._timeout,!1,{result:function(Wa){eb(Ja,function(){var jb,mb,ob;function ab(){jb.read(32768,Pa._timeout,{result:function(rb){eb(Ja,function(){rb?ab():Ya();},Pa);},timeout:function(){Ja.timeout();},error:function(rb){Ja.error(rb);}});}function Ya(){eb(Ja,function(){var rb;rb=new Da(Wa.payloads,ma);this._ctrl.buildResponse(this,this._ctx,rb,mb,this._timeout,{result:function(sb){eb(Ja,function(){var zb;zb=sb.tokenTicket;this.peerToPeerExecute(rb,sb.builder,Aa,{result:function(xb){eb(Ja,function(){this._ctrl.releaseMasterToken(zb);return xb;},Pa);},timeout:function(){eb(Ja,function(){this._ctrl.releaseMasterToken(zb);Ja.timeout();},Pa);},error:function(xb){eb(Ja,function(){this._ctrl.releaseMasterToken(zb);throw xb;},Pa);}});},Pa);},timeout:function(){Ja.timeout();},error:function(sb){Ja.error(sb);}});},Pa);}jb=Wa.response;Aa+=2;if(!jb)return !0;mb=jb.getMessageHeader();if(mb){ob=Wa.payloads;ob=0 < ob.length && 0 < ob[0].data.length;if(Wa.handshake && ob)ab();else return !0;}else Ca(Wa);},Pa);},timeout:function(){Ja.timeout();},error:function(Wa){Ja.error(Wa);}});},Pa);},call:function(ma){var za;za=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(Aa){eb(ma,function(){var Ja,Ca;Ja=Aa.builder;Ca=Aa.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ja,3,{result:function(Pa){eb(ma,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);return Pa;},za);},timeout:function(){eb(ma,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);ma.timeout();},za);},error:function(Pa){eb(ma,function(){var Ga,Wa,ab,Ya;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);if(V(Pa))return !1;Ga=dd(Ja.getMessageId());if(Pa instanceof db){Wa=Pa.error;ab=this._request.messageCapabilities;ab=this._ctrl.messageRegistry.getUserMessage(Wa,ab?ab.languages:null);Ya=Pa;}else Pa instanceof Vb?(Wa=W.MSL_COMMS_FAILURE,ab=null,Ya=Pa):(Wa=W.INTERNAL_EXCEPTION,ab=null,Ya=new vb("Error sending the response.",Pa));aa(this,this._ctx,this._msgCtx.getDebugContext(),Ga,Wa,ab,this._output,this._timeout,{result:function(jb){ma.error(Ya);},timeout:function(){ma.timeout();},error:function(jb){eb(ma,function(){if(V(jb))return !1;throw new kc("Error sending the response.",jb,null);},za);}});},za);}}):this.trustedNetworkExecute(Ja,3,{result:function(Pa){eb(ma,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);return Pa;},za);},timeout:function(){eb(ma,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);ma.timeout();},za);},error:function(Pa){eb(ma,function(){var Ga,Wa,ab,Ya;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);if(V(Pa))return !1;Ga=dd(Ja.getMessageId());if(Pa instanceof db){Wa=Pa.error;ab=this._request.messageCapabilities;ab=this._ctrl.messageRegistry.getUserMessage(Wa,ab?ab.languages:null);Ya=Pa;}else Pa instanceof Vb?(Wa=W.MSL_COMMS_FAILURE,ab=null,Ya=Pa):(Wa=W.INTERNAL_EXCEPTION,ab=null,Ya=new vb("Error sending the response.",Pa));aa(this,this._ctx,this._msgCtx.getDebugContext(),Ga,Wa,ab,this._output,this._timeout,{result:function(jb){ma.error(Ya);},timeout:function(){ma.timeout();},error:function(jb){eb(ma,function(){if(V(jb))return !1;throw new kc("Error sending the response.",jb,null);},za);}});},za);}});},za);},timeout:function(){ma.timeout();},error:function(Aa){eb(ma,function(){var Ja,Ca,Pa,Ga;if(V(Aa))return !1;if(Aa instanceof db){Ja=Aa.messageId;Ca=Aa.error;Pa=this._request.messageCapabilities;Pa=this._ctrl.messageRegistry.getUserMessage(Ca,Pa?Pa.languages:null);Ga=Aa;}else (Ja=null,Ca=W.INTERNAL_EXCEPTION,Pa=null,Ga=new vb("Error building the response.",Aa));aa(this,this._ctx,this._msgCtx.getDebugContext(),Ja,Ca,Pa,this._output,this._timeout,{result:function(Wa){ma.error(Ga);},timeout:function(){ma.timeout();},error:function(Wa){eb(ma,function(){if(V(Wa))return null;throw new kc("Error building the response.",Wa,Aa);},za);}});},za);}});}});na=Bb.Class.create({init:function(ma,za,Aa,Ja,Ca,Pa,Ga){Object.defineProperties(this,{_ctrl:{value:ma,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:za,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Pa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ma){this._abortFunc=ma;},call:function(ma){var za;za=this;eb(ma,function(){var Aa,Ja;if(this._appError == ENTITY_REJECTED)Aa=this._request.masterToken?W.MASTERTOKEN_REJECTED_BY_APP:W.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)Aa=this._request.userIdToken?W.USERIDTOKEN_REJECTED_BY_APP:W.USER_REJECTED_BY_APP;else throw new vb("Unhandled application error " + this._appError + ".");Ja=this._request.messageCapabilities;Ja=this._ctrl.messageRegistry.getUserMessage(Aa,Ja?Ja.languages:null);aa(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,Aa,Ja,this._output,this._timeout,{result:function(Ca){ma.result(Ca);},timeout:ma.timeout,error:function(Ca){eb(ma,function(){if(V(Ca))return !1;if(Ca instanceof db)throw Ca;throw new vb("Error building the error response.",Ca);},za);}});},za);}});Ia={result:function(){},timeout:function(){},error:function(){}};Fa=Bb.Class.create({init:function(ma,za,Aa,Ja,Ca,Pa,Ga,Wa,ab){var Ya;if(Ga){Ya=Ga.builder;Ga=Ga.tokenTicket;}else Ga=Ya=null;Object.defineProperties(this,{_ctrl:{value:ma,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:za,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ca,writable:!0,enumerable:!1,configurable:!1},_output:{value:Pa,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Ya,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Ga,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ab,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Wa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ma){this._abortFunc=ma;},execute:function(ma,za,Aa,Ja,Ca){var Wa;function Pa(ab){function Ya(jb){eb(Ca,function(){var mb;mb=ab.response;return jb?jb:mb;},Wa);}eb(Ca,function(){var jb,mb;jb=ab.response;jb.close();mb=jb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,ab.requestHeader,mb);this._ctrl.buildErrorResponse(this,this._ctx,ma,ab,mb,Aa,{result:function(ob){eb(Ca,function(){var rb,sb,zb,xb;if(!ob)return jb;rb=ob.errorResult;sb=ob.tokenTicket;zb=rb.builder;rb=rb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(rb,zb,this._timeout,Ja,{result:function(r){eb(Ca,function(){this._ctrl.releaseMasterToken(sb);Ya(r);},Wa);},timeout:function(){eb(Ca,function(){this._ctrl.releaseMasterToken(sb);Ca.timeout();},Wa);},error:function(r){eb(Ca,function(){this._ctrl.releaseMasterToken(sb);Ca.error(r);},Wa);}});else {this._openedStreams && (this._input.close(),this._output.close(Aa,Ia));xb=new Fa(this._ctrl,this._ctx,rb,this._remoteEntity,null,null,{builder:zb,tokenTicket:sb},Ja,this._timeout);this.setAbort(function(){xb.abort();});xb.call({result:function(r){Ya(r);},timeout:function(){Ca.timeout();},error:function(r){Ca.error(r);}});}},Wa);},timeout:function(){Ca.timeout();},error:function(ob){Ca.error(ob);}});},Wa);}function Ga(ab){eb(Ca,function(){var mb,ob,rb,sb,zb;function Ya(){mb.read(32768,Wa._timeout,{result:function(xb){xb?Ya():jb();},timeout:function(){Ca.timeout();},error:function(xb){Ca.error(xb);}});}function jb(){eb(Ca,function(){var xb;xb=new Da(ab.payloads,ma);this._ctrl.buildResponse(this,this._ctx,ma,ob,Aa,{result:function(r){eb(Ca,function(){var b;b=r.tokenTicket;this.execute(xb,r.builder,this._timeout,Ja,{result:function(a){eb(Ca,function(){this._ctrl.releaseMasterToken(b);return a;},Wa);},timeout:function(){eb(Ca,function(){this._ctrl.releaseMasterToken(b);Ca.timeout();},Wa);},error:function(a){eb(Ca,function(){this._ctrl.releaseMasterToken(b);throw a;},Wa);}});},Wa);},timeout:function(){Ca.timeout();},error:function(r){Ca.error(r);}});},Wa);}mb=ab.response;ob=mb.getMessageHeader();rb=ab.payloads;rb=0 < rb.length && 0 < rb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!ab.handshake || !rb)return mb;this._openedStreams && (this._input.close(),this._output.close(Aa,Ia));sb=new Da(ab.payloads,ma);this._ctrl.buildResponse(this,this._ctx,ma,ob,Aa,{result:function(xb){eb(Ca,function(){var r;r=new Fa(this._ctrl,this._ctx,sb,this._remoteEntity,null,null,xb,Ja,this._timeout);this.setAbort(function(){r.abort();});r.call(Ca);},Wa);},timeout:function(){Ca.timeout();},error:function(xb){Ca.error(xb);}});}else if(ab.handshake && rb)Ya();else if(0 < ob.keyRequestData.length){zb=new wa(ma);this._ctrl.buildResponse(this,this._ctx,zb,ob,Aa,{result:function(xb){eb(Ca,function(){var r,b;r=xb.builder;b=xb.tokenTicket;mb.mark();mb.read(1,this._timeout,{result:function(a){eb(Ca,function(){function c(){mb.read(32768,Wa._timeout,{result:function(k){k?c():f();},timeout:function(){Ca.timeout();},error:function(k){Ca.error(k);}});}function f(){Wa.execute(zb,r,Wa._timeout,Ja,{result:function(k){eb(Ca,function(){this._ctrl.releaseMasterToken(b);return k;},Wa);},timeout:function(){eb(Ca,function(){this._ctrl.releaseMasterToken(b);Ca.timeout();},Wa);},error:function(k){eb(Ca,function(){this._ctrl.releaseMasterToken(b);throw k;},Wa);}});}if(a){if((mb.reset(),12 >= Ja + 1))(r.setRenewable(!1),this._ctrl.send(this,this._ctx,zb,this._output,r,this._timeout,{result:function(k){eb(Ca,function(){this.releaseMasterToken(b);return mb;},Wa);},timeout:function(){Ca.timeout();},error:function(k){Ca.error(k);}}));else return (this.releaseMasterToken(b),mb);}else c();},Wa);},timeout:function(){eb(Ca,function(){this.releaseMasterToken(b);Ca.timeout();},Wa);},error:function(a){eb(Ca,function(){this.releaseMasterToken(b);throw a;},Wa);}});},Wa);},timeout:function(){Ca.timeout();},error:function(xb){Ca.error(xb);}});}},Wa);}Wa=this;eb(Ca,function(){if(12 < Ja + 2)return null;this._ctrl.sendReceive(this,this._ctx,ma,this._input,this._output,za,Aa,!0,{result:function(ab){eb(Ca,function(){var Ya;if(!ab)return null;Ya=ab.response;Ja+=2;Ya.getMessageHeader()?Ga(ab):Pa(ab);},Wa);},timeout:function(){Ca.timeout();},error:function(ab){Ca.error(ab);}});},Wa);},call:function(ma){var Aa;function za(Ja,Ca,Pa){eb(ma,function(){this.execute(this._msgCtx,Ja,Pa,this._msgCount,{result:function(Ga){eb(ma,function(){this._ctrl.releaseMasterToken(Ca);this._openedStreams && this._output.close(Pa,Ia);Ga && Ga.closeSource(this._openedStreams);return Ga;},Aa);},timeout:function(){eb(ma,function(){this._ctrl.releaseMasterToken(Ca);this._openedStreams && (this._output.close(Pa,Ia),this._input.close());ma.timeout();},Aa);},error:function(Ga){eb(ma,function(){this._ctrl.releaseMasterToken(Ca);this._openedStreams && (this._output.close(Pa,Ia),this._input.close());if(V(Ga))return null;throw Ga;},Aa);}});},Aa);}Aa=this;eb(ma,function(){var Ja,Ca,Pa;Ja=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Ca=Date.now();Pa=this._remoteEntity.openConnection();this._output=Pa.output;this._input=Pa.input;-1 != Ja && (Ja=this._timeout - (Date.now() - Ca));this._openedStreams=!0;}catch(Ga){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Ia);this._input && this._input.close();if(V(Ga))return null;throw Ga;}this._builder?za(this._builder,this._tokenTicket,Ja):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Ga){eb(ma,function(){za(Ga.builder,Ga.tokenTicket,Ja);},Aa);},timeout:function(){eb(ma,function(){this._openedStreams && (this._output.close(this._timeout,Ia),this._input.close());ma.timeout();},Aa);},error:function(Ga){eb(ma,function(){this._openedStreams && (this._output.close(this._timeout,Ia),this._input.close());if(V(Ga))return null;throw Ga;},Aa);}});},Aa);}});})();(function(){pe=Bb.Class.create({init:function(ia){Object.defineProperties(this,{id:{value:ia,writable:!1,configurable:!1}});},toJSON:function(){var ia;ia={};ia.id=this.id;return ia;},equals:function(ia){return this === ia?!0:ia instanceof pe?this.id == ia.id:!1;},uniqueKey:function(){return this.id;}});sf=function(ia){var ca;ca=ia.id;if(!ca)throw new yb(W.JSON_PARSE_ERROR,JSON.stringify(ia));return new pe(ca);};})();Bb.Class.create({isNewestMasterToken:function(ia,ca,da){},isMasterTokenRevoked:function(ia,ca){},acceptNonReplayableId:function(ia,ca,da,ka){},createMasterToken:function(ia,ca,da,ka,fa){},isMasterTokenRenewable:function(ia,ca,da){},renewMasterToken:function(ia,ca,da,ka,fa){},isUserIdTokenRevoked:function(ia,ca,da,ka){},createUserIdToken:function(ia,ca,da,ka){},renewUserIdToken:function(ia,ca,da,ka){}});(function(){function ia(ca,da,ka,fa){this.sessiondata=ca;this.tokendata=da;this.signature=ka;this.verified=fa;}ic=Bb.Class.create({init:function(ca,da,ka,fa,V,aa,ua,qa,va,Da,wa){var ta;ta=this;Ma(wa,function(){var X,ba,ha,na,Ia;if(ka.getTime() < da.getTime())throw new vb("Cannot construct a master token that expires before its renewal window opens.");if(0 > fa || fa > Mb)throw new vb("Sequence number " + fa + " is outside the valid range.");if(0 > V || V > Mb)throw new vb("Serial number " + V + " is outside the valid range.");X=Math.floor(da.getTime() / 1E3);ba=Math.floor(ka.getTime() / 1E3);if(Da)ha=Da.sessiondata;else {na={};aa && (na.issuerdata=aa);na.identity=ua;na.encryptionkey=Db(qa.toByteArray());na.hmackey=Db(va.toByteArray());ha=Rb(JSON.stringify(na),Lb);}if(Da)return (Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:X,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ba,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:fa,writable:!1,configurable:!1},serialNumber:{value:V,writable:!1,configurable:!1},issuerData:{value:aa,writable:!1,configurable:!1},identity:{value:ua,writable:!1,configurable:!1},encryptionKey:{value:qa,writable:!1,configurable:!1},hmacKey:{value:va,writable:!1,configurable:!1},sessiondata:{value:ha,writable:!1,enumerable:!1,configurable:!1},verified:{value:Da.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Da.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Da.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Ia=ca.getMslCryptoContext();Ia.encrypt(ha,{result:function(Fa){Ma(wa,function(){var Ra,Ta;Ra={};Ra.renewalwindow=X;Ra.expiration=ba;Ra.sequencenumber=fa;Ra.serialnumber=V;Ra.sessiondata=Db(Fa);Ta=Rb(JSON.stringify(Ra),Lb);Ia.sign(Ta,{result:function(ma){Ma(wa,function(){Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:X,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ba,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:fa,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:V,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:aa,writable:!1,configurable:!1},identity:{value:ua,writable:!1,configurable:!1},encryptionKey:{value:qa,writable:!1,configurable:!1},hmacKey:{value:va,writable:!1,configurable:!1},sessiondata:{value:ha,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:ma,writable:!1,enumerable:!1,configurable:!1}});return this;},ta);},error:function(ma){wa.error(ma);}});},ta);},error:function(Fa){wa.error(Fa);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(ca){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(ca){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(ca){var da;if(this.sequenceNumber == ca.sequenceNumber)return this.expiration > ca.expiration;if(this.sequenceNumber > ca.sequenceNumber){da=this.sequenceNumber - Mb + 127;return ca.sequenceNumber >= da;}da=ca.sequenceNumber - Mb + 127;return this.sequenceNumber < da;},toJSON:function(){var ca;ca={};ca.tokendata=Db(this.tokendata);ca.signature=Db(this.signature);return ca;},equals:function(ca){return this === ca?!0:ca instanceof ic?this.serialNumber == ca.serialNumber && this.sequenceNumber == ca.sequenceNumber && this.expiration.getTime() == ca.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});Qc=function(ca,da,ka){Ma(ka,function(){var fa,V,aa,ua,qa;fa=ca.getMslCryptoContext();V=da.tokendata;aa=da.signature;if("string" !== typeof V || "string" !== typeof aa)throw new yb(W.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(da));try{ua=Gb(V);}catch(va){throw new db(W.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(da),va);}if(!ua || 0 == ua.length)throw new yb(W.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(da));try{qa=Gb(aa);}catch(va){throw new db(W.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(da),va);}fa.verify(ua,qa,{result:function(va){Ma(ka,function(){var Da,wa,ta,X,ba,ha,na,Ia,Fa,Ra;Da=Tb(ua,Lb);try{wa=JSON.parse(Da);ta=parseInt(wa.renewalwindow);X=parseInt(wa.expiration);ba=parseInt(wa.sequencenumber);ha=parseInt(wa.serialnumber);na=wa.sessiondata;}catch(Ta){if(Ta instanceof SyntaxError)throw new yb(W.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + Da,Ta);throw Ta;}if(!ta || ta != ta || !X || X != X || "number" !== typeof ba || ba != ba || "number" !== typeof ha || ha != ha || "string" !== typeof na)throw new yb(W.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + Da);if(X < ta)throw new db(W.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + Da);if(0 > ba || ba > Mb)throw new db(W.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + Da);if(0 > ha || ha > Mb)throw new db(W.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + Da);Ia=new Date(1E3 * ta);Fa=new Date(1E3 * X);try{Ra=Gb(na);}catch(Ta){throw new db(W.MASTERTOKEN_SESSIONDATA_INVALID,na,Ta);}if(!Ra || 0 == Ra.length)throw new db(W.MASTERTOKEN_SESSIONDATA_MISSING,na);va?fa.decrypt(Ra,{result:function(Ta){Ma(ka,function(){var ma,za,Aa,Ja,Ca,Pa;ma=Tb(Ta,Lb);try{za=JSON.parse(ma);Aa=za.issuerdata;Ja=za.identity;Ca=za.encryptionkey;Pa=za.hmackey;}catch(Ga){if(Ga instanceof SyntaxError)throw new yb(W.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ma,Ga);throw Ga;}if(Aa && "object" !== typeof Aa || !Ja || "string" !== typeof Ca || "string" !== typeof Pa)throw new yb(W.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ma);zc(Ca,rc,Hc,{result:function(Ga){zc(Pa,sc,Pc,{result:function(Wa){Ma(ka,function(){var ab;ab=new ia(Ta,ua,qa,va);new ic(ca,Ia,Fa,ba,ha,Aa,Ja,Ga,Wa,ab,ka);});},error:function(Wa){ka.error(new ub(W.MASTERTOKEN_KEY_CREATION_ERROR,Wa));}});},error:function(Ga){ka.error(new ub(W.MASTERTOKEN_KEY_CREATION_ERROR,Ga));}});});},error:function(Ta){ka.error(Ta);}}):(ta=new ia(null,ua,qa,va),new ic(ca,Ia,Fa,ba,ha,null,null,null,null,ta,ka));});},error:function(va){ka.error(va);}});});};})();(function(){function ia(ca,da,ka){this.tokendata=ca;this.signature=da;this.verified=ka;}ad=Bb.Class.create({init:function(ca,da,ka,fa,V,aa,ua,qa,va){var Da;Da=this;Ma(va,function(){var wa,ta,X,ba,ha,na,Ia;if(ka.getTime() < da.getTime())throw new vb("Cannot construct a user ID token that expires before its renewal window opens.");if(!fa)throw new vb("Cannot construct a user ID token without a master token.");if(0 > V || V > Mb)throw new vb("Serial number " + V + " is outside the valid range.");wa=Math.floor(da.getTime() / 1E3);ta=Math.floor(ka.getTime() / 1E3);X=fa.serialNumber;if(qa){ba=qa.tokendata;ha=qa.signature;na=qa.verified;X=fa.serialNumber;Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:wa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ta,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:X,writable:!1,configurable:!1},serialNumber:{value:V,writable:!1,configurable:!1},issuerData:{value:aa,writable:!1,configurable:!1},customer:{value:ua,writable:!1,configurable:!1},verified:{value:na,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ba,writable:!1,enumerable:!1,configurable:!1},signature:{value:ha,writable:!1,enumerable:!1,configurable:!1}});return this;}ba={};aa && (ba.issuerdata=aa);ba.identity=ua;ba=Rb(JSON.stringify(ba),Lb);Ia=ca.getMslCryptoContext();Ia.encrypt(ba,{result:function(Fa){Ma(va,function(){var Ra,Ta;Ra={};Ra.renewalwindow=wa;Ra.expiration=ta;Ra.mtserialnumber=X;Ra.serialnumber=V;Ra.userdata=Db(Fa);Ta=Rb(JSON.stringify(Ra),Lb);Ia.sign(Ta,{result:function(ma){Ma(va,function(){Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:wa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ta,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:fa.serialNumber,writable:!1,configurable:!1},serialNumber:{value:V,writable:!1,configurable:!1},issuerData:{value:aa,writable:!1,configurable:!1},customer:{value:ua,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:ma,writable:!1,enumerable:!1,configurable:!1}});return this;},Da);},error:function(ma){Ma(va,function(){ma instanceof db && ma.setEntity(fa);throw ma;},Da);}});},Da);},error:function(Fa){Ma(va,function(){Fa instanceof db && Fa.setEntity(fa);throw Fa;},Da);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(ca){return ca && ca.serialNumber == this.mtSerialNumber;},toJSON:function(){var ca;ca={};ca.tokendata=Db(this.tokendata);ca.signature=Db(this.signature);return ca;},equals:function(ca){return this === ca?!0:ca instanceof ad?this.serialNumber == ca.serialNumber && this.mtSerialNumber == ca.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});Rc=function(ca,da,ka,fa){Ma(fa,function(){var V,aa,ua,qa,va;V=ca.getMslCryptoContext();aa=da.tokendata;ua=da.signature;if("string" !== typeof aa || "string" !== typeof ua)throw new yb(W.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(da)).setEntity(ka);try{qa=Gb(aa);}catch(Da){throw new db(W.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(da),Da).setEntity(ka);}if(!qa || 0 == qa.length)throw new yb(W.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(da)).setEntity(ka);try{va=Gb(ua);}catch(Da){throw new db(W.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(da),Da).setEntity(ka);}V.verify(qa,va,{result:function(Da){Ma(fa,function(){var wa,ta,X,ba,ha,na,Ia,Fa,Ra,Ta;wa=Tb(qa,Lb);try{ta=JSON.parse(wa);X=parseInt(ta.renewalwindow);ba=parseInt(ta.expiration);ha=parseInt(ta.mtserialnumber);na=parseInt(ta.serialnumber);Ia=ta.userdata;}catch(ma){if(ma instanceof SyntaxError)throw new yb(W.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + wa,ma).setEntity(ka);throw ma;}if(!X || X != X || !ba || ba != ba || "number" !== typeof ha || ha != ha || "number" !== typeof na || na != na || "string" !== typeof Ia)throw new yb(W.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + wa).setEntity(ka);if(ba < X)throw new db(W.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + wa).setEntity(ka);if(0 > ha || ha > Mb)throw new db(W.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + wa).setEntity(ka);if(0 > na || na > Mb)throw new db(W.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + wa).setEntity(ka);Fa=new Date(1E3 * X);Ra=new Date(1E3 * ba);if(!ka || ha != ka.serialNumber)throw new db(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ha + "; mt " + JSON.stringify(ka)).setEntity(ka);try{Ta=Gb(Ia);}catch(ma){throw new db(W.USERIDTOKEN_USERDATA_INVALID,Ia,ma).setEntity(ka);}if(!Ta || 0 == Ta.length)throw new db(W.USERIDTOKEN_USERDATA_MISSING,Ia).setEntity(ka);Da?V.decrypt(Ta,{result:function(ma){Ma(fa,function(){var za,Aa,Ja,Ca,Pa;za=Tb(ma,Lb);try{Aa=JSON.parse(za);Ja=Aa.issuerdata;Ca=Aa.identity;}catch(Ga){if(Ga instanceof SyntaxError)throw new yb(W.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + za).setEntity(ka);throw Ga;}if(Ja && "object" !== typeof Ja || "object" !== typeof Ca)throw new yb(W.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + za).setEntity(ka);try{Pa=sf(Ca);}catch(Ga){throw new db(W.USERIDTOKEN_IDENTITY_INVALID,"userdata " + za,Ga).setEntity(ka);}Ca=new ia(qa,va,Da);new ad(ca,Fa,Ra,ka,na,Ja,Pa,Ca,fa);});},error:function(ma){Ma(fa,function(){ma instanceof db && ma.setEntity(ka);throw ma;});}}):(X=new ia(qa,va,Da),new ad(ca,Fa,Ra,ka,na,null,null,X,fa));});},error:function(Da){Ma(fa,function(){Da instanceof db && Da.setEntity(ka);throw Da;});}});});};})();(function(){function ia(da,ka){var fa,V,aa;fa=da.tokendata;if("string" !== typeof fa)throw new yb(W.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(da));try{V=Gb(fa);}catch(ua){throw new db(W.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(da),ua);}if(!V || 0 == V.length)throw new yb(W.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(da));try{aa=JSON.parse(Tb(V,Lb)).name;}catch(ua){if(ua instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(da),ua);throw ua;}if(!aa)throw new yb(W.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(da));return ka[aa]?ka[aa]:ka[""];}function ca(da,ka,fa){this.tokendata=da;this.signature=ka;this.verified=fa;}Jc=Bb.Class.create({init:function(da,ka,fa,V,aa,ua,qa,va,Da,wa){var ta;ta=this;Ma(wa,function(){var X,ba,ha,na,Ia;if(V && aa && !aa.isBoundTo(V))throw new vb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");X=V?V.serialNumber:-1;ba=aa?aa.serialNumber:-1;if(Da)return (Ia=Da.tokendata,Object.defineProperties(this,{ctx:{value:da,writable:!1,enumerable:!1,configurable:!1},name:{value:ka,writable:!1,configurable:!1},mtSerialNumber:{value:X,writable:!1,configurable:!1},uitSerialNumber:{value:ba,writable:!1,configurable:!1},data:{value:fa,writable:!1,configurable:!1},encrypted:{value:ua,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:qa,writable:!1,configurable:!1},verified:{value:Da.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ia,writable:!1,enumerable:!1,configurable:!1},signature:{value:Da.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(qa){ha=oe(qa,fa);ha.length < fa.length || (qa=null,ha=fa);}else (qa=null,ha=fa);na={};na.name=ka;-1 != X && (na.mtserialnumber=X);-1 != ba && (na.uitserialnumber=ba);na.encrypted=ua;qa && (na.compressionalgo=qa);if(ua && 0 < ha.length)va.encrypt(ha,{result:function(Fa){Ma(wa,function(){var Ra;na.servicedata=Db(Fa);Ra=Rb(JSON.stringify(na),Lb);va.sign(Ra,{result:function(Ta){Ma(wa,function(){Object.defineProperties(this,{ctx:{value:da,writable:!1,enumerable:!1,configurable:!1},name:{value:ka,writable:!1,configurable:!1},mtSerialNumber:{value:X,writable:!1,configurable:!1},uitSerialNumber:{value:ba,writable:!1,configurable:!1},data:{value:fa,writable:!1,configurable:!1},encrypted:{value:ua,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:qa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ta,writable:!1,enumerable:!1,configurable:!1}});return this;},ta);},error:function(Ta){Ma(wa,function(){Ta instanceof db && (Ta.setEntity(V),Ta.setUser(aa));throw Ta;});}});},ta);},error:function(Fa){Ma(wa,function(){Fa instanceof db && (Fa.setEntity(V),Fa.setUser(aa));throw Fa;});}});else {na.servicedata=Db(ha);Ia=Rb(JSON.stringify(na),Lb);va.sign(Ia,{result:function(Fa){Ma(wa,function(){Object.defineProperties(this,{ctx:{value:da,writable:!1,enumerable:!1,configurable:!1},name:{value:ka,writable:!1,configurable:!1},mtSerialNumber:{value:X,writable:!1,configurable:!1},uitSerialNumber:{value:ba,writable:!1,configurable:!1},data:{value:fa,writable:!1,configurable:!1},encrypted:{value:ua,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:qa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ia,writable:!1,enumerable:!1,configurable:!1},signature:{value:Fa,writable:!1,enumerable:!1,configurable:!1}});return this;},ta);},error:function(Fa){Ma(wa,function(){Fa instanceof db && (Fa.setEntity(V),Fa.setUser(aa));throw Fa;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(da){return da?da instanceof ic?da.serialNumber == this.mtSerialNumber:da instanceof ad?da.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var da;da={};da.tokendata=Db(this.tokendata);da.signature=Db(this.signature);return da;},equals:function(da){return this === da?!0:da instanceof Jc?this.name == da.name && this.mtSerialNumber == da.mtSerialNumber && this.uitSerialNumber == da.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});Dc=function(da,ka,fa,V,aa,ua,qa,va,Da){new Jc(da,ka,fa,V,aa,ua,qa,va,null,Da);};Hd=function(da,ka,fa,V,aa,ua){Ma(ua,function(){var qa,va,Da,wa,ta,X,ba,ha,na,Ia,Fa,Ra,Ta;!aa || aa instanceof bd || (aa=ia(ka,aa));qa=ka.tokendata;va=ka.signature;if("string" !== typeof qa || "string" !== typeof va)throw new yb(W.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ka)).setEntity(fa).setEntity(V);try{Da=Gb(qa);}catch(ma){throw new db(W.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(ka),ma).setEntity(fa).setEntity(V);}if(!Da || 0 == Da.length)throw new yb(W.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(ka)).setEntity(fa).setEntity(V);try{wa=Gb(va);}catch(ma){throw new db(W.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(ka),ma).setEntity(fa).setEntity(V);}ta=Tb(Da,Lb);try{X=JSON.parse(ta);ba=X.name;ha=X.mtserialnumber?parseInt(X.mtserialnumber):-1;na=X.uitserialnumber?parseInt(X.uitserialnumber):-1;Ia=X.encrypted;Fa=X.compressionalgo;Ra=X.servicedata;}catch(ma){if(ma instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"servicetokendata " + ta,ma).setEntity(fa).setEntity(V);throw ma;}if(!ba || "number" !== typeof ha || ha != ha || "number" !== typeof na || na != na || "boolean" !== typeof Ia || Fa && "string" !== typeof Fa || "string" !== typeof Ra)throw new yb(W.JSON_PARSE_ERROR,"servicetokendata " + ta).setEntity(fa).setEntity(V);if(X.mtserialnumber && 0 > ha || ha > Mb)throw new db(W.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ta).setEntity(fa).setEntity(V);if(X.uitserialnumber && 0 > na || na > Mb)throw new db(W.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ta).setEntity(fa).setEntity(V);if(-1 != ha && (!fa || ha != fa.serialNumber))throw new db(W.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + ha + "; mt " + fa).setEntity(fa).setEntity(V);if(-1 != na && (!V || na != V.serialNumber))throw new db(W.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + na + "; uit " + V).setEntity(fa).setEntity(V);Ia=!0 === Ia;if(Fa){if(!Mc[Fa])throw new db(W.UNIDENTIFIED_COMPRESSION,Fa);Ta=Fa;}else Ta=null;aa?aa.verify(Da,wa,{result:function(ma){Ma(ua,function(){var za,Aa;if(ma){try{za=Gb(Ra);}catch(Ja){throw new db(W.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ta,Ja).setEntity(fa).setEntity(V);}if(!za || 0 != Ra.length && 0 == za.length)throw new db(W.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ta).setEntity(fa).setEntity(V);if(Ia && 0 < za.length)aa.decrypt(za,{result:function(Ja){Ma(ua,function(){var Ca,Pa;Ca=Ta?Id(Ta,Ja):Ja;Pa=new ca(Da,wa,ma);new Jc(da,ba,Ca,-1 != ha?fa:null,-1 != na?V:null,Ia,Ta,aa,Pa,ua);});},error:function(Ja){Ma(ua,function(){Ja instanceof db && (Ja.setEntity(fa),Ja.setUser(V));throw Ja;});}});else {za=Ta?Id(Ta,za):za;Aa=new ca(Da,wa,ma);new Jc(da,ba,za,-1 != ha?fa:null,-1 != na?V:null,Ia,Ta,aa,Aa,ua);}}else (za="" == Ra?new Uint8Array(0):null,Aa=new ca(Da,wa,ma),new Jc(da,ba,za,-1 != ha?fa:null,-1 != na?V:null,Ia,Ta,aa,Aa,ua));});},error:function(ma){Ma(ua,function(){ma instanceof db && (ma.setEntity(fa),ma.setUser(V));throw ma;});}}):(qa="" == Ra?new Uint8Array(0):null,va=new ca(Da,wa,!1),new Jc(da,ba,qa,-1 != ha?fa:null,-1 != na?V:null,Ia,Ta,aa,va,ua));});};})();ac={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(ac);(function(){Gc=Bb.Class.create({init:function(ia){Object.defineProperties(this,{scheme:{value:ia,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(ia){return this === ia?!0:ia instanceof Gc?this.scheme == ia.scheme:!1;},toJSON:function(){var ia;ia={};ia.scheme=this.scheme;ia.authdata=this.getAuthData();return ia;}});gf=function(ia,ca,da,ka){Ma(ka,function(){var fa,V,aa;fa=da.scheme;V=da.authdata;if(!fa || !V)throw new yb(W.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(da));if(!ac[fa])throw new Hb(W.UNIDENTIFIED_USERAUTH_SCHEME,fa);aa=ia.getUserAuthenticationFactory(fa);if(!aa)throw new Hb(W.USERAUTH_FACTORY_NOT_FOUND,fa);aa.createData(ia,ca,V,ka);});};})();od=Bb.Class.create({init:function(ia){Object.defineProperties(this,{scheme:{value:ia,writable:!1,configurable:!1}});},createData:function(ia,ca,da,ka){},authenticate:function(ia,ca,da,ka){}});(function(){Uc=Gc.extend({init:function ka(ca,da){ka.base.call(this,ac.NETFLIXID);Object.defineProperties(this,{netflixId:{value:ca,writable:!1,configurable:!1},secureNetflixId:{value:da,writable:!1,configurable:!1}});},getAuthData:function(){var ca;ca={};ca.netflixid=this.netflixId;this.secureNetflixId && (ca.securenetflixid=this.secureNetflixId);return ca;},equals:function ka(da){return this === da?!0:da instanceof Uc?ka.base.call(this,da) && this.netflixId == da.netflixId && this.secureNetflixId == da.secureNetflixId:!1;}});tf=function(da){var ka,fa;ka=da.netflixid;fa=da.securenetflixid;if(!ka)throw new yb(W.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(da));return new Uc(ka,fa);};})();Wf=od.extend({init:function ca(){ca.base.call(this,ac.NETFLIXID);},createData:function(ca,da,ka,fa){Ma(fa,function(){return tf(ka);});},authenticate:function(ca,da,ka,fa){if(!(ka instanceof Uc))throw new vb("Incorrect authentication data type " + ka + ".");ca=ka.secureNetflixId;if(!ka.netflixId || !ca)throw new Hb(W.NETFLIXID_COOKIES_BLANK).setUser(ka);throw new Hb(W.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ka);}});(function(){pd=Gc.extend({init:function fa(da,ka){fa.base.call(this,ac.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:da,writable:!1,configurable:!1},password:{value:ka,writable:!1,configurable:!1}});},getAuthData:function(){var da;da={};da.email=this.email;da.password=this.password;return da;},equals:function fa(ka){return this === ka?!0:ka instanceof pd?fa.base.call(this,this,ka) && this.email == ka.email && this.password == ka.password:!1;}});uf=function(ka){var fa,V;fa=ka.email;V=ka.password;if(!fa || !V)throw new yb(W.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(ka));return new pd(fa,V);};})();Xf=od.extend({init:function da(){da.base.call(this,ac.EMAIL_PASSWORD);},createData:function(da,ka,fa,V){Ma(V,function(){return uf(fa);});},authenticate:function(da,ka,fa,V){if(!(fa instanceof pd))throw new vb("Incorrect authentication data type " + fa + ".");da=fa.password;if(!fa.email || !da)throw new Hb(W.EMAILPASSWORD_BLANK).setUser(fa);throw new Hb(W.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(fa);}});(function(){var V,aa,ua,qa,va,Da,wa,ta;function da(X,ba){return "<" + X + ">" + ba + "</" + X + ">";}function ka(X){return X.replace(/[<>&"']/g,function(ba){return va[ba];});}function fa(X){return encodeURIComponent(X).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}V=Ld={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};aa=Bb.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});ua=qe=aa.extend({init:function(X,ba,ha,na,Ia,Fa,Ra){var za;function Ta(Aa){Ma(Ra,function(){var Ja,Ca;try{Ja={};Ja.useridtoken=X;Ja.action=ba;Ja.nonce=ha;Ja.pin=Db(Aa);Ca=Rb(JSON.stringify(Ja),Lb);}catch(Pa){throw new yb(W.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Pa);}Ia.sign(Ca,{result:function(Pa){ma(Ca,Pa);},error:Ra.error});},za);}function ma(Aa,Ja){Ma(Ra,function(){Object.defineProperties(this,{_userIdToken:{value:X,writable:!1,enumerable:!1,configurable:!1},_action:{value:ba,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:ha,writable:!1,enumerable:!1,configurable:!1},_pin:{value:na,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Ja,writable:!1,enumerable:!1,configurable:!1}});return this;},za);}za=this;Ma(Ra,function(){Fa?ma(Fa.encoding,Fa.signature):Ia.encrypt(Rb(na,Lb),{result:function(Aa){Ta(Aa);},error:Ra.error});},za);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(X){return this === X?!0:X instanceof ua?this._action == X._action && this._nonce == X._nonce && this._pin == X._pin && this._userIdToken.equals(X._userIdToken):!1;}});qe.ACTION="userauth";qa=function(X,ba,ha,na,Ia){function Fa(Ta){Ma(Ia,function(){var ma,za,Aa,Ja,Ca,Pa;ma=Tb(ha,Lb);try{za=JSON.parse(ma);Aa=za.useridtoken;Ja=za.action;Ca=za.nonce;Pa=za.pin;}catch(Ga){if(Ga instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"MDX authdata " + ma,Ga);throw Ga;}if(!(Aa && "object" === typeof Aa && Ja && "string" === typeof Ja && Ca && "number" === typeof Ca && Pa) || "string" !== typeof Pa)throw new yb(W.JSON_PARSE_ERROR,"MDX authdata " + ma);Rc(X,Aa,ba,{result:function(Ga){Ma(Ia,function(){if(!Ga.isDecrypted())throw new Hb(W.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + ma);Ra(Ta,Ga,Ja,Ca,Pa);});},error:function(Ga){Ma(Ia,function(){if(Ga instanceof db)throw new Hb(W.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + ma,Ga);throw Ga;});}});});}function Ra(Ta,ma,za,Aa,Ja){Ma(Ia,function(){var Ca;Ca=Gb(Ja);Ta.decrypt(Ca,{result:function(Pa){Ma(Ia,function(){var Ga;Ga=Tb(Pa,Lb);new ua(ma,za,Aa,Ga,null,{encoding:ha,signature:na},Ia);});},error:Ia.error});});}Ma(Ia,function(){var Ta,ma;try{Ta=X.getMslStore().getCryptoContext(ba);ma=Ta?Ta:new jc(X,ba);}catch(za){if(za instanceof Oc)throw new Hb(W.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + Db(ha));throw za;}ma.verify(ha,na,{result:function(za){Ma(Ia,function(){if(!za)throw new ub(W.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + Db(ha));Fa(ma);});},error:Ia.error});});};va={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};Da=qd=aa.extend({init:function(X,ba,ha,na){var Ia,Fa;Ia=da("action",ka(X));Fa=da("nonce",ba.toString());ha=da("pin",ha);Ia=da("registerdata",Ia + Fa + ha);Ia=Rb(Ia,"utf-8");Object.defineProperties(this,{_action:{value:X,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:ba,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_signature:{value:na,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(X){return this === X?!0:X instanceof Da?this._action == X._action && this._nonce == X._nonce && this._pin == X._pin:!1;}});qd.ACTION="regpairrequest";wa=re=aa.extend({init:function(X,ba,ha,na,Ia,Fa){var ma;function Ra(za){Ma(Fa,function(){var Aa,Ja,Ca,Pa,Ga;Aa=Db(za);Ja=da("action",ka(X));Ca=da("nonce",ba.toString());Pa=da("pin",Aa);Ja=da("registerdata",Ja + Ca + Pa);Ga=Rb(Ja,"utf-8");Aa="action=" + fa(X) + "&nonce=" + fa(ba.toString()) + "&pin=" + fa(Aa);na.sign(Rb(Aa,"utf-8"),{result:function(Wa){Ta(Ga,Wa);},error:Fa.error});},ma);}function Ta(za,Aa){Ma(Fa,function(){Object.defineProperties(this,{_action:{value:X,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:ba,writable:!1,enumerable:!1,configurable:!1},_pin:{value:ha,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:za,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Aa,writable:!1,enumerable:!1,configurable:!1}});return this;},ma);}ma=this;Ma(Fa,function(){Ia?Ta(Ia.encoding,Ia.signature):na.encrypt(Rb(ha,"utf-8"),{result:function(za){Ra(za);},error:Fa.error});},ma);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(X){return this === X?!0:X instanceof wa?this._action == X._action && this._nonce == X._nonce && this._pin == X._pin:!1;}});re.ACTION=qd.ACTION;ta=function(X,ba,ha,na,Ia){Ma(Ia,function(){var Fa,Ra,Ta,ma,za,Aa,Ja;Fa=X.getMslStore().getCryptoContext(ba);Ra=Fa?Fa:new jc(X,ba);Fa=Tb(ha,"utf-8");Ta=new DOMParser().parseFromString(Fa,"application/xml");Fa=Ta.getElementsByTagName("action");ma=Ta.getElementsByTagName("nonce");Ta=Ta.getElementsByTagName("pin");za=Fa && 1 == Fa.length && Fa[0].firstChild?Fa[0].firstChild.nodeValue:null;Aa=ma && 1 == ma.length && ma[0].firstChild?parseInt(ma[0].firstChild.nodeValue):null;Ja=Ta && 1 == Ta.length && Ta[0].firstChild?Ta[0].firstChild.nodeValue:null;if(!za || !Aa || !Ja)throw new yb(W.XML_PARSE_ERROR,"MDX authdata " + Db(ha));Fa="action=" + fa(za) + "&nonce=" + fa(Aa.toString()) + "&pin=" + fa(Ja);Ra.verify(Rb(Fa,"utf-8"),na,{result:function(Ca){Ma(Ia,function(){var Pa;if(!Ca)throw new ub(W.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + Db(ha));Pa=Gb(Ja);Ra.decrypt(Pa,{result:function(Ga){Ma(Ia,function(){var Wa;Wa=Tb(Ga,"utf-8");new wa(za,Aa,Wa,null,{encoding:ha,signature:na},Ia);});},error:Ia.error});});},error:Ia.error});});};ed=Gc.extend({init:function Ta(ba,ha,na,Ia,Fa,Ra){var ma,za,Aa,Ja,Ca,Pa;Ta.base.call(this,ac.MDX);ma=null;za=null;Aa=null;if("string" === typeof na)(ba=V.MSL_LEGACY,Aa=na);else if(na instanceof Uint8Array)(ba=V.NTBA,za=na);else if(na instanceof ic)(ba=V.MSL,ma=na);else throw new TypeError("Controller token " + na + " is not a master token, encrypted CTicket, or MSL token construct.");Ja=na=null;Ca=null;if(Ra){Pa=Ra.controllerAuthData;na=Pa.getAction();Ja=Pa.getPin();Ra=Ra.userIdToken;Pa instanceof ua?Ca=Pa.getUserIdToken().customer:Ra && (Ca=Ra.customer);}Object.defineProperties(this,{mechanism:{value:ba,writable:!1,configurable:!1},action:{value:na,writable:!1,configurable:!1},targetPin:{value:ha,writable:!1,configurable:!1},controllerPin:{value:Ja,writable:!1,configurable:!1},customer:{value:Ca,writable:!1,configurable:!1},_masterToken:{value:ma,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:za,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Fa,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var ba,ha;ba={};switch(this.mechanism){case V.MSL:ha=JSON.parse(JSON.stringify(this._masterToken));ba.mastertoken=ha;break;case V.NTBA:ha=Tb(this._encryptedCTicket,"utf-8");ba.cticket=ha;break;case V.MSL_LEGACY:ba.cticket=this._mslTokens;break;default:throw new vb("Unsupported MDX mechanism.");}ba.pin=this.targetPin;ba.mdxauthdata=Db(this._controllerEncoding);ba.signature=Db(this._signature);return ba;},equals:function na(ha){return this === ha?!0:ha instanceof ed?na.base.call(this,ha) && (this._masterToken == ha._masterToken || this._masterToken && this._masterToken.equals(ha._masterToken)) && (this._encryptedCTicket == ha._encryptedCTicket || this._encryptedCTicket && Wb(this._encryptedCTicket,ha._encryptedCTicket)) && this._mslTokens == ha._mslTokens && Wb(this._controllerEncoding,ha._controllerEncoding) && Wb(this._signature,ha._signature):!1;}});vf=function(ha,na,Ia){function Fa(ma,za,Aa,Ja){Qc(ha,za,{result:function(Ca){Ma(Ia,function(){if(!Ca.isDecrypted())throw new Hb(W.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + na.toString());qa(ha,Ca,Aa,Ja,{result:function(Pa){Ma(Ia,function(){var Ga,Wa;Ga=Pa.getEncoding();Wa=Pa.getSignature();return new ed(ha,ma,Ca,Ga,Wa,{controllerAuthData:Pa,userIdToken:null});});},error:Ia.error});});},error:function(Ca){Ma(Ia,function(){if(Ca instanceof db)throw new Hb(W.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(na),Ca);throw Ca;});}});}function Ra(ma,za,Aa,Ja){Ma(Ia,function(){throw new Hb(W.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function Ta(ma,za,Aa,Ja){function Ca(Ga,Wa){Ma(Wa,function(){var ab,Ya;try{ab=Gb(Ga);}catch(jb){throw new Hb(W.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(na),jb);}if(!ab || 0 == ab.length)throw new Hb(W.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata " + JSON.stringify(na));try{Ya=JSON.parse(Tb(ab,"utf-8"));Qc(ha,Ya,{result:function(jb){Ma(Wa,function(){if(!jb.isDecrypted())throw new Hb(W.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + na.toString());return jb;});},error:function(jb){Ma(Wa,function(){if(jb instanceof db)throw new Hb(W.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(na),jb);throw jb;});}});}catch(jb){if(jb instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(na),jb);throw jb;}});}function Pa(Ga,Wa,ab){Ma(ab,function(){var Ya,jb;try{Ya=Gb(Ga);}catch(mb){throw new Hb(W.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(na),mb);}if(!Ya || 0 == Ya.length)throw new Hb(W.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata " + JSON.stringify(na));try{jb=JSON.parse(Tb(Ya,"utf-8"));Rc(ha,jb,Wa,{result:function(mb){Ma(ab,function(){if(!mb.isDecrypted())throw new Hb(W.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(na));return mb;});},error:function(mb){Ma(ab,function(){if(mb instanceof db)throw new Hb(W.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(na),mb);throw mb;});}});}catch(mb){if(mb instanceof SyntaxError)throw new yb(W.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(na),mb);throw mb;}});}Ma(Ia,function(){var Ga;Ga=za.split(",");if(3 != Ga.length || "1" != Ga[0])throw new Hb(W.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(na));Ca(Ga[1],{result:function(Wa){Pa(Ga[2],Wa,{result:function(ab){ta(ha,Wa,Aa,Ja,{result:function(Ya){Ma(Ia,function(){return new ed(ha,ma,za,Aa,Ja,{controllerAuthData:Ya,userIdToken:ab});});},error:function(Ya){Ma(Ia,function(){if(Ya instanceof Oc)throw new Hb(W.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(na),Ya);throw Ya;});}});},error:Ia.error});},error:Ia.error});});}Ma(Ia,function(){var ma,za,Aa,Ja,Ca;ma=na.pin;za=na.mdxauthdata;Aa=na.signature;if(!ma || "string" !== typeof ma || !za || "string" !== typeof za || !Aa || "string" !== typeof Aa)throw new yb(W.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(na));try{Ja=Gb(za);Ca=Gb(Aa);}catch(Pa){throw new Hb(W.MDX_CONTROLLERDATA_INVALID,"MDX authdata " + JSON.stringify(na),Pa);}if(na.mastertoken){za=na.mastertoken;if(!za || "object" !== typeof za)throw new yb(W.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(na));Fa(ma,za,Ja,Ca);}else if(na.cticket){za=na.cticket;if(!za || "string" !== typeof za)throw new yb(W.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(na));-1 == za.indexOf(",")?Ra(ma,za,Ja,Ca):Ta(ma,za,Ja,Ca);}else throw new Hb(W.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(na));});};})();(function(){var da,ka,fa;da=qe.ACTION;ka=qd.ACTION;fa=re.ACTION;wf=od.extend({init:function aa(){aa.base.call(this,ac.MDX);},createData:function(aa,ua,qa,va){vf(aa,qa,va);},authenticate:function(aa,ua,qa,va){if(!(qa instanceof ed))throw new vb("Incorrect authentication data type " + qa.getClass().getName() + ".");aa=qa.action;switch(qa.mechanism){case Ld.MSL:if(da != aa)throw new Hb(W.MDX_USERAUTH_ACTION_INVALID).setUser(qa);break;case Ld.NTBA:if(ka != aa)throw new Hb(W.MDX_USERAUTH_ACTION_INVALID).setUser(qa);break;case Ld.MSL_LEGACY:if(fa != aa)throw new Hb(W.MDX_USERAUTH_ACTION_INVALID).setUser(qa);}aa=qa.controllerPin;ua=qa.targetPin;if(!aa || !ua)throw new Hb(W.MDX_PIN_BLANK).setUser(qa);if(aa != ua)throw new Hb(W.MDX_PIN_MISMATCH).setUser(qa);aa=qa.customer;if(!aa)throw new Hb(W.MDX_USER_UNKNOWN).setUser(qa);if(va && (va=va.customer,!aa.equals(va)))throw new Hb(W.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer " + aa + "; uit customer " + va).setUser(qa);return aa;}});})();(function(){var da,ka,fa;da={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};ka=yf=Bb.Class.create({init:function(V,aa){Object.defineProperties(this,{email:{value:V,writable:!1,enumerable:!0,configurable:!1},password:{value:aa,writable:!1,enumerable:!0,configurable:!1}});}});fa=zf=Bb.Class.create({init:function(V,aa){Object.defineProperties(this,{netflixId:{value:V,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:aa,writable:!1,enumerable:!0,configurable:!1}});}});rd=Gc.extend({init:function Da(aa,ua,qa,va){var wa,ta,X,ba;Da.base.call(this,ac.SSO);wa=null;ta=null;X=null;ba=null;qa instanceof ka?(wa=qa.email,ta=qa.password):qa instanceof fa && (X=qa.netflixId,ba=qa.secureNetflixId);Object.defineProperties(this,{mechanism:{value:aa,writable:!1,configurable:!1},token:{value:ua,writable:!1,configurable:!1},email:{value:wa,writable:!1,configurable:!1},password:{value:ta,writable:!1,configurable:!1},netflixId:{value:X,writable:!1,configurable:!1},secureNetflixId:{value:ba,writable:!1,configurable:!1},profileGuid:{value:"undefined" === typeof va?null:va,writable:!1,configurable:!1}});},getAuthData:function(){var aa;aa={};aa.mechanism=this.mechanism;aa.token=Db(this.token);this.email && this.password?(aa.email=this.email,aa.password=this.password):this.netflixId && this.secureNetflixId && (aa.netflixid=this.netflixId,aa.securenetflixid=this.secureNetflixId);this.profileGuid && (aa.profileguid=this.profileGuid);return aa;},equals:function qa(ua){return this === ua?!0:ua instanceof rd?qa.base.call(this,ua) && this.mechanism == ua.mechanism && Wb(this.token,ua.token) && this.email == ua.email && this.password == ua.password && this.netflixId == ua.netflixId && this.secureNetflixId == ua.secureNetflixId && this.profileGuid == ua.profileGuid:!1;}});xf=function(ua){var qa,va,Da,wa,ta,X,ba,ha,na;qa=ua.mechanism;va=ua.token;if(!qa || !va || "string" !== typeof va)throw new yb(W.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(ua));if(!da[qa])throw new Hb(W.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata " + JSON.stringify(ua));Da=ua.email;wa=ua.password;ta=ua.netflixid;X=ua.securenetflixid;ba=ua.profileguid;if(Da && !wa || !Da && wa || ta && !X || !ta && X || Da && ta)throw new yb(W.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(ua));try{ha=Gb(va);}catch(Ia){throw new Hb(W.SSOTOKEN_INVALID,"SSO authdata " + JSON.stringify(ua),Ia);}Da && wa?na=new ka(Da,wa):ta && X && (na=new fa(ta,X));return new rd(qa,ha,na,ba);};})();Yf=od.extend({init:function ka(){ka.base.call(this,ac.SSO);},createData:function(ka,fa,V,aa){Ma(aa,function(){return xf(V);});},authenticate:function(ka,fa,V,aa){var ua,qa;if(!(V instanceof rd))throw new vb("Incorrect authentication data type " + V + ".");ka=V.token;fa=V.email;aa=V.password;ua=V.netflixId;qa=V.secureNetflixId;if(!ka || 0 == ka.length)throw new Hb(W.SSOTOKEN_BLANK);if(!(null === fa && null === aa || fa && aa))throw new Hb(W.EMAILPASSWORD_BLANK);if(!(null === ua && null === qa || ua && qa))throw new Hb(W.NETFLIXID_COOKIES_BLANK).setUser(V);throw new Hb(W.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(V);}});(function(){sd=Gc.extend({init:function aa(fa,V){aa.base.call(this,ac.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:fa,writable:!1,configurable:!1},profileGuid:{value:V,writable:!1,configurable:!1}});},getAuthData:function(){var fa;fa={};fa.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));fa.profileguid=this.profileGuid;return fa;},equals:function aa(V){return this == V?!0:V instanceof sd?aa.base.call(this,V) && this.userIdToken.equals(V.userIdToken) && this.profileGuid == V.profileGuid:!1;}});Af=function(V,aa,ua,qa){Ma(qa,function(){var va,Da;if(!aa)throw new Hb(W.USERAUTH_MASTERTOKEN_MISSING);va=ua.useridtoken;Da=ua.profileguid;if("object" !== typeof va || "string" !== typeof Da)throw new yb(W.JSON_PARSE_ERROR,"switch profile authdata " + JSON.stringify(ua));Rc(V,va,aa,{result:function(wa){Ma(qa,function(){if(!wa.isDecrypted())throw new Hb(W.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata " + JSON.stringify(ua));return new sd(wa,Da);});},error:function(wa){qa.error(new Hb(W.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata " + JSON.stringify(ua),wa));}});});};})();Zf=od.extend({init:function V(fa){V.base.call(this,ac.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:fa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(fa,V,aa,ua){Af(fa,V,aa,ua);},authenticate:function(fa,V,aa,ua){if(!(aa instanceof sd))throw new vb("Incorrect authentication data type " + aa + ".");V=aa.userIdToken;fa=aa.profileGuid;if(!fa)throw new Hb(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(aa);V=V.user;if(!V)throw new Hb(W.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(aa);fa=this._store.switchUsers(V,fa);if(!fa)throw new Hb(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(aa);if(ua && (ua=ua.user,!fa.equals(ua)))throw new Hb(W.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user " + fa + "; uit user " + ua).setUserAuthenticationData(aa);return fa;}});Object.freeze({ENTITY_REAUTH:La.ENTITY_REAUTH,ENTITYDATA_REAUTH:La.ENTITYDATA_REAUTH});$f=Bb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(fa,V){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(fa){},getUserAuthenticationFactory:function(fa){},getTokenFactory:function(){},getKeyExchangeFactory:function(fa){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Bf=Bb.Class.create({setCryptoContext:function(fa,V){},getMasterToken:function(){},getNonReplayableId:function(fa){},getCryptoContext:function(fa){},removeCryptoContext:function(fa){},clearCryptoContexts:function(){},addUserIdToken:function(fa,V){},getUserIdToken:function(fa){},removeUserIdToken:function(fa){},clearUserIdTokens:function(){},addServiceTokens:function(fa){},getServiceTokens:function(fa,V){},removeServiceTokens:function(fa,V,aa){},clearServiceTokens:function(){}});(function(){var fa;fa=Mc;oe=function(V,aa){var ua;ua={};switch(V){case fa.LZW:return De(aa,ua);case fa.GZIP:return gzip$compress(aa);default:throw new db(W.UNSUPPORTED_COMPRESSION,V);}};Id=function(V,aa,ua){switch(V){case fa.LZW:return Ee(aa);case fa.GZIP:return gzip$uncompress(aa);default:throw new db(W.UNSUPPORTED_COMPRESSION,V.name());}};})();Bf.extend({setCryptoContext:function(fa,V){},getMasterToken:function(){return null;},getNonReplayableId:function(fa){return 1;},getCryptoContext:function(fa){return null;},removeCryptoContext:function(fa){},clearCryptoContexts:function(){},addUserIdToken:function(fa,V){},getUserIdToken:function(fa){return null;},removeUserIdToken:function(fa){},clearUserIdTokens:function(){},addServiceTokens:function(fa){},getServiceTokens:function(fa,V){if(V){if(!fa)throw new db(W.USERIDTOKEN_MASTERTOKEN_NULL);if(!V.isBoundTo(fa))throw new db(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + V.mtSerialNumber + "; mt " + fa.serialNumber);}return [];},removeServiceTokens:function(fa,V,aa){if(aa && V && !aa.isBoundTo(V))throw new db(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + aa.masterTokenSerialNumber + "; mt " + V.serialNumber);},clearServiceTokens:function(){}});(function(){Cf=Bf.extend({init:function V(){V.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(V,aa){var ua;if(aa){ua=V.uniqueKey();this.masterTokens[ua]=V;this.cryptoContexts[ua]=aa;}else this.removeCryptoContext(V);},getMasterToken:function(){var V,aa,ua;V=null;for(aa in this.masterTokens){ua=this.masterTokens[aa];if(!V || ua.isNewerThan(V))V=ua;}return V;},getNonReplayableId:function(V){var aa;V=V.serialNumber;aa=this.nonReplayableIds[V] !== Ab?this.nonReplayableIds[V]:0;if(0 > aa || aa > Mb)throw new vb("Non-replayable ID " + aa + " is outside the valid range.");aa=aa == Mb?0:aa + 1;return this.nonReplayableIds[V]=aa;},getCryptoContext:function(V){return this.cryptoContexts[V.uniqueKey()];},removeCryptoContext:function(V){var aa,ua,qa,va;aa=V.uniqueKey();if(this.masterTokens[aa]){ua=V.serialNumber;for(qa in this.masterTokens){va=this.masterTokens[qa];if(!va.equals(V) && va.serialNumber == ua){delete this.masterTokens[aa];delete this.cryptoContexts[aa];return;}}Object.keys(this.userIdTokens).forEach(function(Da){Da=this.userIdTokens[Da];Da.isBoundTo(V) && this.removeUserIdToken(Da);},this);try{this.removeServiceTokens(null,V,null);}catch(Da){if(Da instanceof db)throw new vb("Unexpected exception while removing master token bound service tokens.",Da);throw Da;}delete this.nonReplayableIds[ua];delete this.masterTokens[aa];delete this.cryptoContexts[aa];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(V){for(var aa in V){delete V[aa];}},this);},addUserIdToken:function(V,aa){var ua,qa;ua=!1;for(qa in this.masterTokens){if(aa.isBoundTo(this.masterTokens[qa])){ua=!0;break;}}if(!ua)throw new db(W.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + aa.mtSerialNumber);this.userIdTokens[V]=aa;},getUserIdToken:function(V){return this.userIdTokens[V];},removeUserIdToken:function(V){var aa,ua,qa;aa=null;for(ua in this.masterTokens){qa=this.masterTokens[ua];if(V.isBoundTo(qa)){aa=qa;break;}}Object.keys(this.userIdTokens).forEach(function(va){if(this.userIdTokens[va].equals(V)){try{this.removeServiceTokens(null,aa,V);}catch(Da){if(Da instanceof db)throw new vb("Unexpected exception while removing user ID token bound service tokens.",Da);throw Da;}delete this.userIdTokens[va];}},this);},clearUserIdTokens:function(){for(var V in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[V]);}},addServiceTokens:function(V){V.forEach(function(aa){var ua,qa;if(aa.isMasterTokenBound()){ua=!1;for(qa in this.masterTokens){if(aa.isBoundTo(this.masterTokens[qa])){ua=!0;break;}}if(!ua)throw new db(W.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + aa.mtSerialNumber);}if(aa.isUserIdTokenBound()){ua=!1;for(var va in this.userIdTokens){if(aa.isBoundTo(this.userIdTokens[va])){ua=!0;break;}}if(!ua)throw new db(W.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + aa.uitSerialNumber);}},this);V.forEach(function(aa){var ua;if(aa.isUnbound())this.unboundServiceTokens[aa.uniqueKey()]=aa;else {if(aa.isMasterTokenBound()){ua=this.mtServiceTokens[aa.mtSerialNumber];ua || (ua={});ua[aa.uniqueKey()]=aa;this.mtServiceTokens[aa.mtSerialNumber]=ua;}aa.isUserIdTokenBound() && ((ua=this.uitServiceTokens[aa.uitSerialNumber]) || (ua={}),ua[aa.uniqueKey()]=aa,this.uitServiceTokens[aa.uitSerialNumber]=ua);}},this);},getServiceTokens:function(V,aa){var ua,qa,va;if(aa){if(!V)throw new db(W.USERIDTOKEN_MASTERTOKEN_NULL);if(!aa.isBoundTo(V))throw new db(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + aa.mtSerialNumber + "; mt " + V.serialNumber);}ua={};for(qa in this.unboundServiceTokens){va=this.unboundServiceTokens[qa];ua[va.uniqueKey()]=va;}if(V && (qa=this.mtServiceTokens[V.serialNumber]))for(var Da in qa){va=qa[Da];va.isUserIdTokenBound() || (ua[Da]=va);}if(aa && (aa=this.uitServiceTokens[aa.serialNumber]))for(var wa in aa){Da=aa[wa];Da.isBoundTo(V) && (ua[wa]=Da);}V=[];for(var ta in ua){V.push(ua[ta]);}return V;},removeServiceTokens:function(V,aa,ua){var qa,va,Da;if(ua && aa && !ua.isBoundTo(aa))throw new db(W.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ua.mtSerialNumber + "; mt " + aa.serialNumber);!V || aa || ua || Object.keys(this.unboundServiceTokens).forEach(function(wa){this.unboundServiceTokens[wa].name == V && delete this.unboundServiceTokens[wa];},this);if(aa && !ua && (qa=this.mtServiceTokens[aa.serialNumber])){Da=Object.keys(qa);Da.forEach(function(wa){var ta;ta=qa[wa];V && ta.name != V || delete qa[wa];},this);this.mtServiceTokens[aa.serialNumber]=qa;}ua && (va=this.uitServiceTokens[ua.serialNumber]) && (aa=Object.keys(va),aa.forEach(function(wa){var ta;ta=va[wa];V && ta.name != V || delete va[wa];},this),this.uitServiceTokens[ua.serialNumber]=va);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(V){for(var aa in V){delete V[aa];}},this);}});})();If=Tf.extend({init:function V(){V.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(V,aa){aa && V && V.length && (V=Db(V),this._contextMap[V]=aa);},getCryptoContext:function(V){return V && V.length?(V=Db(V),this._contextMap[V] || null):null;},removeCryptoContext:function(V){V && V.length && (V=Db(V),delete this._contextMap[V]);}});Df=Lf.extend({init:function Da(aa,ua,qa,va){Da.base.call(this,aa);Object.defineProperties(this,{_kde:{value:ua,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:qa,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:va,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(aa,ua){if(!(ua instanceof oc))throw new vb("Incorrect authentication data type " + JSON.stringify(ua) + ".");if(ua.identity != this.localIdentity)throw new xc(W.ENTITY_NOT_FOUND,"mgk " + ua.identity);return new Bd(aa,this.localIdentity,this._kde,this._kdh,this._kdw);}});ag=Mf.extend({init:function wa(ua,qa,va,Da){wa.base.call(this,ua);Object.defineProperties(this,{_kpe:{value:qa,writable:!1,enumerable:!1,configurable:!1},_kph:{value:va,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:Da,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ua,qa){if(!(qa instanceof tc))throw new vb("Incorrect authentication data type " + JSON.stringify(qa) + ".");if(qa.identity != this.localIdentity)throw new xc(W.ENTITY_NOT_FOUND,"psk " + qa.identity);return new Bd(ua,this.localIdentity,this._kpe,this._kph,this._kpw);}});cg=Cf.extend({init:function ba(qa,va,Da,wa,ta,X){ba.base.call(this);this._log=qa;this._esn=va;this._keyRequestData=Da;this._createKeyRequestData=wa;this._systemKeyName=ta;this._systemKeyWrapFormat=X;},setCryptoContext:function ta(va,Da,wa){var X;X=this;X._log.trace("Adding MasterToken",{SequenceNumber:va.sequenceNumber,SerialNumber:va.serialNumber,Expiration:va.expiration.getTime()});ta.base.call(this,va,Da);!wa && (va=X._createKeyRequestData) && (X._log.trace("Generating new keyx request data"),va().then(function(ba){X._keyRequestData=ba;},function(ba){X._log.error("Unable to generate new keyx request data","" + ba);}));},addUserIdToken:function ta(Da,wa){this._log.trace("Adding UserIdToken",{UserId:Da,SerialNumber:wa.serialNumber,MTSerialNumber:wa.mtSerialNumber,Expiration:wa.expiration.getTime()});ta.base.call(this,Da,wa);},addServiceTokens:function ta(wa){ta.base.call(this,wa.filter(function(X){return !bg[X.name];}));},getUserIdTokenKeys:function(){var wa,ta;wa=[];for(ta in this.userIdTokens){wa.push(ta);}return wa;},rekeyUserIdToken:function(wa,ta){this.userIdTokens[wa] && (this.userIdTokens[ta]=this.userIdTokens[wa],delete this.userIdTokens[wa]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(wa){var ta;ta=this;Ma(wa,function(){var X;X=ta.getMasterToken();X?ta.getKeysForStore(X,{result:function(ba){Ma(wa,function(){var ha,na,Ia;ha=ta.userIdTokens;na=Object.keys(ha).map(function(Fa){var Ra;Ra=ha[Fa];return {userId:Fa,userIdTokenJSON:ha[Fa].toJSON(),serviceTokenJSONList:ta.getServiceTokens(X,Ra).map(Ff)};});ba.esn=ta._esn;ba.masterTokenJSON=X.toJSON();ba.userList=na;Ia=ta._keyRequestData.storeData;Ia && Object.keys(Ia).forEach(function(Fa){ba[Fa]=Ia[Fa];});return ba;});},timeout:wa.timeout,error:wa.error}):wa.result(null);});},getKeysForStore:function(wa,ta){var X;X=this;Ma(ta,function(){var ba;ba=X.getCryptoContext(wa);ba={encryptionKey:ba.encryptionKey,hmacKey:ba.hmacKey};if(ba.encryptionKey && ba.hmacKey){if(X._systemKeyWrapFormat)X.wrapKeysWithSystemKey(ba,ta);else return ba;}else throw new db(W.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(wa,ta){var X;X=this;xe(this._systemKeyName,{result:function(ba){Ma(ta,function(){var ha,na,Ia,Fa;ha=wa.encryptionKey;na=wa.hmacKey;Ia=ha[fd];Fa=na[fd];if(Ia && Fa)return {wrappedEncryptionKey:Ia,wrappedHmacKey:Fa};Promise.resolve().then(function(){return Promise.all([Jb.wrapKey(X._systemKeyWrapFormat,ha,ba,ba.algorithm),Jb.wrapKey(X._systemKeyWrapFormat,na,ba,ba.algorithm)]);}).then(function(Ra){Ia=Db(Ra[0]);ha[fd]=Ia;Fa=Db(Ra[1]);na[fd]=Fa;ta.result({wrappedEncryptionKey:Ia,wrappedHmacKey:Fa});}).catch(function(Ra){ta.error(new db(W.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Ra));});});},timeout:ta.timeout,error:ta.error});},unwrapKeysWithSystemKey:function(wa,ta){var X;X=this;xe(this._systemKeyName,{result:function(ba){Ma(ta,function(){var ha,na;ha=Gb(wa.wrappedEncryptionKey);na=Gb(wa.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Jb.unwrapKey(X._systemKeyWrapFormat,ha,ba,ba.algorithm,rc,!1,Hc),Jb.unwrapKey(X._systemKeyWrapFormat,na,ba,ba.algorithm,sc,!1,Pc)]);}).then(function(Ia){var Fa;Fa=Ia[0];Ia=Ia[1];Fa[fd]=wa.wrappedEncryptionKey;Ia[fd]=wa.wrappedHmacKey;ta.result({encryptionKey:Fa,hmacKey:Ia});}).catch(function(Ia){ta.error(new db(W.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",Ia));});});},timeout:ta.timeout,error:ta.error});},loadStoreState:function(wa,ta,X,ba){var Ia,Fa;function ha(Ra,Ta){var ma;try{ma=X.userList.slice();}catch(za){}ma?(function Aa(){var Ja;Ja=ma.shift();Ja?Rc(ta,Ja.userIdTokenJSON,Ra,{result:function(Ca){try{Ia.addUserIdToken(Ja.userId,Ca);na(Ra,Ca,Ja.serviceTokenJSONList,{result:Aa,timeout:Aa,error:Aa});}catch(Pa){Aa();}},timeout:Aa,error:Aa}):Ta.result();})():Ta.result();}function na(Ra,Ta,ma,za){var Aa,Ja;try{Aa=ma.slice();}catch(Ca){}if(Aa){Ja=Ia.getCryptoContext(Ra);(function Pa(){var Ga;Ga=Aa.shift();Ga?Hd(ta,Ga,Ra,Ta,Ja,{result:function(Wa){Ia.addServiceTokens([Wa]);Pa();},timeout:function(){Pa();},error:function(){Pa();}}):za.result();})();}else za.result();}Ia=this;Fa=Ia._log;X.esn != Ia._esn?(Fa.error("Esn mismatch, starting fresh"),ba.error()):(function(Ra){var za,Aa,Ja,Ca;function Ta(){var Pa;if(!za && Aa && Ja && Ca){za=!0;Pa=new jc(ta,Aa,wa.esn,{rawKey:Ja},{rawKey:Ca});Ia.setCryptoContext(Aa,Pa,!0);Ra.result(Aa);}}function ma(Pa,Ga){Fa.error(Pa,Ga && "" + Ga);za || (za=!0,Ra.error());}X.masterTokenJSON?(Qc(ta,X.masterTokenJSON,{result:function(Pa){Aa=Pa;Ta();},timeout:function(){ma("Timeout parsing MasterToken");},error:function(Pa){ma("Error parsing MasterToken",Pa);}}),Ia._systemKeyWrapFormat?Ia.unwrapKeysWithSystemKey(X,{result:function(Pa){Ja=Pa.encryptionKey;Ca=Pa.hmacKey;Ta();},timeout:function(){ma("Timeout unwrapping keys");},error:function(Pa){ma("Error unwrapping keys",Pa);}}):Promise.resolve().then(function(){return Jb.encrypt({name:rc.name,iv:new Uint8Array(16)},X.encryptionKey,new Uint8Array(1));}).then(function(Pa){Ja=X.encryptionKey;}).catch(function(Pa){ma("Error loading encryptionKey");}).then(function(){return Jb.sign(sc,X.hmacKey,new Uint8Array(1));}).then(function(Pa){Ca=X.hmacKey;Ta();}).catch(function(Pa){ma("Error loading hmacKey");})):ma("Persisted store is corrupt");})({result:function(Ra){ha(Ra,ba);},timeout:ba.timeout,error:ba.error});}});bg={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};fd="$netflix$msl$wrapsys";dg=$f.extend({init:function(wa,ta,X,ba,ha,na){var Ia,Fa;Ia=new md([Mc.LZW]);Fa=new Of();Fa.addPublicKey(ta,X);ba[Ob.RSA]=new Nf(Fa);ta={};ta[ac.EMAIL_PASSWORD]=new Xf();ta[ac.NETFLIXID]=new Wf();ta[ac.MDX]=new wf();ta[ac.SSO]=new Yf();ta[ac.SWITCH_PROFILE]=new Zf();wa={_mslCryptoContext:{value:new Kf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ha,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:ba,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:ta,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:na,writable:!1,enumerable:!1,configurable:!1},_store:{value:wa,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,wa);},getTime:function(){return Date.now();},getRandom:function(){return new Ie();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(wa,ta){ta.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(wa){return this._entityAuthFactories[wa];},getUserAuthenticationFactory:function(wa){return this._userAuthFactories[wa];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(wa){return this._keyExchangeFactories.filter(function(ta){return ta.scheme == wa;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});ze=qf.extend({init:function(wa,ta,X,ba){this._log=wa;this._mslContext=ta;this._mslRequest=X;this._keyRequestData=ba;},getCryptoContexts:function(){return {};},isEncrypted:function(){return ! !this._mslRequest.encrypted;},isNonReplayable:function(){return ! !this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(wa,ta,X,ba){var ha,na;ha=this._mslRequest;na=this._mslContext;Ma(ba,function(){var Ia,Fa;if(wa || !ha.shouldSendUserAuthData)return null;if(ha.token){ha.email?Ia=new yf(ha.email,ha.password):ha.netflixId && (Ia=new zf(ha.netflixId,ha.secureNetflixId));Fa="undefined" === typeof ha.profileGuid?null:ha.profileGuid;return new rd(ha.mechanism,Rb(ha.token),Ia,Fa);}return ha.email?new pd(ha.email,ha.password):ha.netflixId?new Uc(ha.netflixId,ha.secureNetflixId):ha.mdxControllerToken?(Ia=new qd("regpairrequest",ha.mdxNonce,ha.mdxEncryptedPinB64,ha.mdxSignature).getEncoding(),new ed(na,ha.mdxPin,ha.mdxControllerToken,Ia,ha.mdxSignature)):ha.useNetflixUserAuthData?new Uc():ha.profileGuid?(Ia=ha.userId,Ia=na.getMslStore().userIdTokens[Ia],new sd(Ia,ha.profileGuid)):X && ha.sendUserAuthIfRequired?new Uc():null;});},getCustomer:function(){return null;},getKeyRequestData:function(wa){wa.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(wa,ta,X){var ba,ha,na,Ia,Fa,Ra;ba=this._log;ha=(this._mslRequest.serviceTokens || []).slice();na=this._mslContext;ta=na.getMslStore();Ia=wa.builder.getMasterToken();Fa=this.getUserId();Ra=ta.getUserIdToken(Fa);(function ma(){var za;za=ha.shift();if(za)try{za instanceof Jc?(wa.addPrimaryServiceToken(za),ma()):Hd(na,za,Ia,Ra,null,{result:function(Aa){try{wa.addPrimaryServiceToken(Aa);}catch(Ja){ba.warn("Exception adding service token","" + Ja);}ma();},timeout:function(){ba.warn("Timeout parsing service token");ma();},error:function(Aa){ba.warn("Error parsing service token","" + Aa);ma();}});}catch(Aa){ba.warn("Exception processing service token","" + Aa);ma();}else X.result(!0);})();},write:function(wa,ta,X){var ba;ba=Rb(this._mslRequest.body);wa.write(ba,0,ba.length,ta,{result:function(ha){ha != ba.length?X.error(new Vb("Not all data was written to output.")):wa.flush(ta,{result:function(){X.result(!0);},timeout:function(){X.timeout();},error:function(na){X.error(na);}});},timeout:function(){X.timeout();},error:function(ha){X.error(ha);}});},getDebugContext:function(){this._dc || (this._dc=new eg(this._log,this._mslRequest));return this._dc;}});eg=Vf.extend({init:function(wa,ta){this._log=wa;this._mslRequest=ta;},sentHeader:function(wa){this._log.trace("Sent MSL header",ye(this._mslRequest,wa),wa.serviceTokens && wa.serviceTokens.map(Gf).join("\n"));},receivedHeader:function(wa){var ta,X;ta=ye(this._mslRequest,wa);X=wa.errorCode;X?this._log.warn("Received MSL error header",ta,{errorCode:X,errorMessage:wa.errorMessage,internalCode:wa.internalCode}):this._log.trace("Received MSL header",ta);}});Ef={PSK:function(wa){return Sd(wa,Ob.PSK,ag,tc,ie,Fd);},MGK:function(wa){return Sd(wa,Ob.MGK,Df,oc,ie,Fd);},MGK_WITH_FALLBACK:function(wa){var ta,X;switch(wa.esnPrefix){case "GOOGEUR001":case "GOOGLEXX01":case "GOOGEST001":case "GOOGNEW001":ta="PSK";break;default:ta="MGK";}X=Ef[ta];if(!X)throw new db(W.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: " + ta);return X(wa);},MGK_JWE:function(wa){return Sd(wa,Ob.MGK,Df,oc,Te,he);},JWK_RSA:function(wa){return Td(wa,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Gd.JWK_RSA);},JWK_RSAES:function(wa){return Td(wa,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gd.JWK_RSAES);},JWEJS_RSA:function(wa){return Td(wa,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gd.JWEJS_RSA);}};nb.netflix=nb.netflix || ({});nb.netflix.msl={createMslClient:function(wa,ta){var X,ba,ha,na,Ia;X=wa.log;Ia=wa.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Qb && Qb.generateKey && Qb.importKey && Qb.unwrapKey))throw new db(W.INTERNAL_EXCEPTION,"No WebCrypto");cc=Qb.generateKey({name:"AES-CBC",length:128},!0,Hc).then?wd.V2014_02:wd.LEGACY;Ia("mslisik");return Jb.importKey("spki",wa.serverIdentityKeyData,Je,!1,["verify"]);}).then(function(Fa){return new Promise(function(Ra,Ta){Lc(Fa,{result:Ra,error:function(){Ta(new db(W.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(Fa){ba=Fa;if(Fa=Ef[wa.authenticationType])return (Ia("mslcc"),Fa(wa));throw new db(W.INTERNAL_EXCEPTION,"Invalid authenticationType: " + wa.authenticationType);}).then(function(Fa){var Ra;ha=new cg(X,wa.esn,Fa.keyRequestData,Fa.createKeyRequestData,wa.authenticationKeyNames.s,wa.systemKeyWrapFormat);na=new dg(ha,wa.serverIdentityId,ba,Fa.entityAuthFactories,Fa.entityAuthData,Fa.keyExchangeFactories);Ra=wa.storeState;if(Ra)return (Ia("mslss"),X.info("Loading store state"),new Promise(function(Ta,ma){ha.loadStoreState(wa,na,Ra,{result:Ta,timeout:Ta,error:Ta});}));X.info("No store state, starting fresh");}).then(function(){var Fa;Fa=new rf();Ia("msldone");ta.result(new Hf(X,Fa,na,ha,wa.ErrorSubCodes));}).catch(function(Fa){ta.error(Fa);});},IHttpLocation:Rf,MslIoException:Vb};(function(){var ab,Ya,jb,mb,ob,rb,sb,zb,xb;function wa(r){var b;b=0;return function(){return b < r.length?{done:!1,value:r[b++]}:{done:!0};};}function ta(r,b){var a,f;if(b)a:{a=Ya;r=r.split(".");for(var c=0;c < r.length - 1;c++){f=r[c];if(!((f in a)))break a;a=a[f];}r=r[r.length - 1];c=a[r];b=b(c);b != c && null != b && ab(a,r,{configurable:!0,writable:!0,value:b});}}function X(r){r={next:r};r[Symbol.iterator]=function(){return this;};return r;}function ba(r){var b;b="undefined" != typeof Symbol && Symbol.iterator && r[Symbol.iterator];return b?b.call(r):{next:wa(r)};}function ha(r){if(!(r instanceof Array)){r=ba(r);for(var b,a=[];!(b=r.next()).done;){a.push(b.value);}r=a;}return r;}function na(r,b){var c;r.prototype=jb(b.prototype);r.prototype.constructor=r;if(zb)zb(r,b);else for(var a in b){if("prototype" != a)if(Object.defineProperties){c=Object.getOwnPropertyDescriptor(b,a);c && Object.defineProperty(r,a,c);}else r[a]=b[a];}r.afc=b.prototype;}function Ia(){this.WW=!1;this.$E=null;this.Iza=void 0;this.yI=1;this.GXa=this.pwb=0;this.YT=null;}function Fa(r){if(r.WW)throw new TypeError("Generator is already running");r.WW=!0;}function Ra(r){this.If=new Ia();this.CWb=r;}function Ta(r,b){var a;Fa(r.If);a=r.If.$E;if(a)return ma(r,("return" in a)?a["return"]:function(c){return {value:c,done:!0};},b,r.If.return);r.If.return(b);return za(r);}function ma(r,b,a,c){var f,k;try{f=b.call(r.If.$E,a);if(!(f instanceof Object))throw new TypeError("Iterator result " + f + " is not an object");if(!f.done)return (r.If.WW=!1,f);k=f.value;}catch(m){return (r.If.$E=null,r.If.f_(m),za(r));}r.If.$E=null;c.call(r.If,k);return za(r);}function za(r){var b;for(;r.If.yI;){try{b=r.CWb(r.If);if(b)return (r.If.WW=!1,{value:b.value,done:!1});}catch(a){r.If.Iza=void 0;r.If.f_(a);}}r.If.WW=!1;if(r.If.YT){b=r.If.YT;r.If.YT=null;if(b.bNb)throw b.kN;return {value:b.return,done:!0};}return {value:void 0,done:!0};}function Aa(r){this.next=function(b){return r.RX(b);};this.throw=function(b){return r.f_(b);};this.return=function(b){return Ta(r,b);};this[Symbol.iterator]=function(){return this;};}function Ja(r,b){b=new Aa(new Ra(b));zb && r.prototype && zb(b,r.prototype);return b;}function Ca(r,b){return Object.prototype.hasOwnProperty.call(r,b);}function Pa(r,b){var a,c,f;r instanceof String && (r+="");a=0;c=!1;f={next:function(){var k;if(!c && a < r.length){k=a++;return {value:b(k,r[k]),done:!1};}c=!0;return {done:!0,value:void 0};}};f[Symbol.iterator]=function(){return f;};return f;}function Ga(r,b,a){var k;r instanceof String && (r=String(r));for(var c=r.length,f=0;f < c;f++){k=r[f];if(b.call(a,k,f,r))return {cqa:f,VE:k};}return {cqa:-1,VE:void 0};}function Wa(r,b,a){if(null == r)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return r + "";}ab="function" == typeof Object.defineProperties?Object.defineProperty:function(r,b,a){if(r == Array.prototype || r == Object.prototype)return r;r[b]=a.value;return r;};Ya=(function(r){var a;r=["object" == typeof globalThis && globalThis,r,"object" == typeof nb && nb,"object" == typeof self && self,"object" == typeof global && global];for(var b=0;b < r.length;++b){a=r[b];if(a && a.Math == Math)return a;}throw Error("Cannot find global object");})(this);ta("Symbol",function(r){var c;function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_" + (f || "") + "_" + c++,f);}function a(f,k){this.jeb=f;ab(this,"description",{configurable:!0,writable:!0,value:k});}if(r)return r;a.prototype.toString=function(){return this.jeb;};c=0;return b;});ta("Symbol.iterator",function(r){var c;if(r)return r;r=Symbol("Symbol.iterator");for(var b=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),a=0;a < b.length;a++){c=Ya[b[a]];"function" === typeof c && "function" != typeof c.prototype[r] && ab(c.prototype,r,{configurable:!0,writable:!0,value:function(){return X(wa(this));}});}return r;});jb="function" == typeof Object.create?Object.create:function(r){function b(){}b.prototype=r;return new b();};mb=(function(){var b;function r(){function a(){}new a();Reflect.construct(a,[],function(){});return new a() instanceof a;}if("undefined" != typeof Reflect && Reflect.construct){if(r())return Reflect.construct;b=Reflect.construct;return function(a,c,f){a=b(a,c);f && Reflect.setPrototypeOf(a,f.prototype);return a;};}return function(a,c,f){void 0 === f && (f=a);f=jb(f.prototype || Object.prototype);return Function.prototype.apply.call(a,f,c) || f;};})();if("function" == typeof Object.setPrototypeOf)ob=Object.setPrototypeOf;else {a:{rb={a:!0};sb={};try{sb.__proto__=rb;ob=sb.a;break a;}catch(r){}ob=!1;}ob=ob?function(r,b){r.__proto__=b;if(r.__proto__ !== b)throw new TypeError(r + " is not extensible");return r;}:null;}zb=ob;Ia.prototype.RX=function(r){this.Iza=r;};Ia.prototype.f_=function(r){this.YT={kN:r,bNb:!0};this.yI=this.pwb || this.GXa;};Ia.prototype.return=function(r){this.YT={return:r};this.yI=this.GXa;};Ra.prototype.RX=function(r){Fa(this.If);if(this.If.$E)return ma(this,this.If.$E.next,r,this.If.RX);this.If.RX(r);return za(this);};Ra.prototype.f_=function(r){Fa(this.If);if(this.If.$E)return ma(this,this.If.$E["throw"],r,this.If.RX);this.If.f_(r);return za(this);};ta("Reflect",function(r){return r?r:{};});ta("Reflect.construct",function(){return mb;});ta("Reflect.setPrototypeOf",function(r){return r?r:zb?function(b,a){try{return (zb(b,a),!0);}catch(c){return !1;}}:null;});ta("Object.setPrototypeOf",function(r){return r || zb;});xb="function" == typeof Object.assign?Object.assign:function(r,b){var c;for(var a=1;a < arguments.length;a++){c=arguments[a];if(c)for(var f in c){Ca(c,f) && (r[f]=c[f]);}}return r;};ta("Object.assign",function(r){return r || xb;});ta("Promise",function(r){var f,k;function b(m){var d;this.cQ=0;this.mZ=void 0;this.SO=[];this.f2a=!1;d=this.yla();try{m(d.resolve,d.reject);}catch(g){d.reject(g);}}function a(){this.VC=null;}function c(m){return m instanceof b?m:new b(function(d){d(m);});}if(r)return r;a.prototype.bSa=function(m){var d;if(null == this.VC){this.VC=[];d=this;this.cSa(function(){d.EEb();});}this.VC.push(m);};f=Ya.setTimeout;a.prototype.cSa=function(m){f(m,0);};a.prototype.EEb=function(){var m,g;for(;this.VC && this.VC.length;){m=this.VC;this.VC=[];for(var d=0;d < m.length;++d){g=m[d];m[d]=null;try{g();}catch(h){this.eub(h);}}}this.VC=null;};a.prototype.eub=function(m){this.cSa(function(){throw m;});};b.prototype.yla=function(){var d,g;function m(h){return function(l){g || (g=!0,h.call(d,l));};}d=this;g=!1;return {resolve:m(this.JYb),reject:m(this.Sva)};};b.prototype.JYb=function(m){var d;if(m === this)this.Sva(new TypeError("A Promise cannot resolve to itself"));else if(m instanceof b)this.J_b(m);else {a:switch(typeof m){case "object":d=null != m;break a;case "function":d=!0;break a;default:d=!1;}d?this.IYb(m):this.rYa(m);}};b.prototype.IYb=function(m){var d;d=void 0;try{d=m.then;}catch(g){this.Sva(g);return;}"function" == typeof d?this.K_b(d,m):this.rYa(m);};b.prototype.Sva=function(m){this.dab(2,m);};b.prototype.rYa=function(m){this.dab(1,m);};b.prototype.dab=function(m,d){if(0 != this.cQ)throw Error("Cannot settle(" + m + ", " + d + "): Promise already settled in state" + this.cQ);this.cQ=m;this.mZ=d;2 === this.cQ && this.nZb();this.FEb();};b.prototype.nZb=function(){var m;m=this;f(function(){var d;if(m.wSb()){d=Ya.console;"undefined" !== typeof d && d.error(m.mZ);}},1);};b.prototype.wSb=function(){var m,d,g;if(this.f2a)return !1;m=Ya.CustomEvent;d=Ya.Event;g=Ya.dispatchEvent;if("undefined" === typeof g)return !0;"function" === typeof m?m=new m("unhandledrejection",{cancelable:!0}):"function" === typeof d?m=new d("unhandledrejection",{cancelable:!0}):(m=Ya.document.createEvent("CustomEvent"),m.initCustomEvent("unhandledrejection",!1,!0,m));m.promise=this;m.reason=this.mZ;return g(m);};b.prototype.FEb=function(){if(null != this.SO){for(var m=0;m < this.SO.length;++m){k.bSa(this.SO[m]);}this.SO=null;}};k=new a();b.prototype.J_b=function(m){var d;d=this.yla();m.D4(d.resolve,d.reject);};b.prototype.K_b=function(m,d){var g;g=this.yla();try{m.call(d,g.resolve,g.reject);}catch(h){g.reject(h);}};b.prototype.then=function(m,d){var h,l,n;function g(q,p){return "function" == typeof q?function(u){try{h(q(u));}catch(t){l(t);}}:p;}n=new b(function(q,p){h=q;l=p;});this.D4(g(m,h),g(d,l));return n;};b.prototype.catch=function(m){return this.then(void 0,m);};b.prototype.D4=function(m,d){var h;function g(){switch(h.cQ){case 1:m(h.mZ);break;case 2:d(h.mZ);break;default:throw Error("Unexpected state: " + h.cQ);}}h=this;null == this.SO?k.bSa(g):this.SO.push(g);this.f2a=!0;};b.resolve=c;b.reject=function(m){return new b(function(d,g){g(m);});};b.race=function(m){return new b(function(d,g){for(var h=ba(m),l=h.next();!l.done;l=h.next()){c(l.value).D4(d,g);}});};b.all=function(m){var d,g;d=ba(m);g=d.next();return g.done?c([]):new b(function(h,l){var q,p;function n(u){return function(t){q[u]=t;p--;0 == p && h(q);};}q=[];p=0;do {q.push(void 0);p++;c(g.value).D4(n(q.length - 1),l);g=d.next();}while(!g.done);});};return b;});ta("Object.entries",function(r){return r?r:function(b){var a,c;a=[];for(c in b){Ca(b,c) && a.push([c,b[c]]);}return a;};});ta("Array.prototype.keys",function(r){return r?r:function(){return Pa(this,function(b){return b;});};});ta("Array.prototype.find",function(r){return r?r:function(b,a){return Ga(this,b,a).VE;};});ta("Object.is",function(r){return r?r:function(b,a){return b === a?0 !== b || 1 / b === 1 / a:b !== b && a !== a;};});ta("Array.prototype.includes",function(r){return r?r:function(b,a){var c,f,k;c=this;c instanceof String && (c=String(c));f=c.length;a=a || 0;for(0 > a && (a=Math.max(a + f,0));a < f;a++){k=c[a];if(k === b || Object.is(k,b))return !0;}return !1;};});ta("String.prototype.includes",function(r){return r?r:function(b,a){return -1 !== Wa(this,b,"includes").indexOf(b,a || 0);};});ta("Number.isNaN",function(r){return r?r:function(b){return "number" === typeof b && isNaN(b);};});ta("Math.tanh",function(r){return r?r:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});ta("Array.prototype.entries",function(r){return r?r:function(){return Pa(this,function(b,a){return [b,a];});};});ta("WeakMap",function(r){var m,d;function b(g){this.IW=(d+=Math.random() + 1).toString();if(g){g=ba(g);for(var h;!(h=g.next()).done;){h=h.value;this.set(h[0],h[1]);}}}function a(){}function c(g){var h;h=typeof g;return "object" === h && null !== g || "function" === h;}function f(g){var h;if(!Ca(g,m)){h=new a();ab(g,m,{value:h});}}function k(g){var h;h=Object[g];h && (Object[g]=function(l){if(l instanceof a)return l;Object.isExtensible(l) && f(l);return h(l);});}if((function(){var g,h,l;if(!r || !Object.seal)return !1;try{g=Object.seal({});h=Object.seal({});l=new r([[g,2],[h,3]]);if(2 != l.get(g) || 3 != l.get(h))return !1;l.delete(g);l.set(h,4);return !l.has(g) && 4 == l.get(h);}catch(n){return !1;}})())return r;m="$jscomp_hidden_" + Math.random();k("freeze");k("preventExtensions");k("seal");d=0;b.prototype.set=function(g,h){if(!c(g))throw Error("Invalid WeakMap key");f(g);if(!Ca(g,m))throw Error("WeakMap key fail: " + g);g[m][this.IW]=h;return this;};b.prototype.get=function(g){return c(g) && Ca(g,m)?g[m][this.IW]:void 0;};b.prototype.has=function(g){return c(g) && Ca(g,m) && Ca(g[m],this.IW);};b.prototype.delete=function(g){return c(g) && Ca(g,m) && Ca(g[m],this.IW)?delete g[m][this.IW]:!1;};return b;});ta("Map",function(r){var k,m;function b(){var d;d={};return d.$A=d.next=d.head=d;}function a(d,g){var h;h=d.kA;return X(function(){if(h){for(;h.head != d.kA;){h=h.$A;}for(;h.next != h.head;){return (h=h.next,{done:!1,value:g(h)});}h=null;}return {done:!0,value:void 0};});}function c(d,g){var h,l,n;h=g && typeof g;"object" == h || "function" == h?k.has(g)?h=k.get(g):(h="" + ++m,k.set(g,h)):h="p_" + g;l=d.Cz[h];if(l && Ca(d.Cz,h))for(d=0;d < l.length;d++){n=l[d];if(g !== g && n.key !== n.key || g === n.key)return {id:h,list:l,index:d,entry:n};}return {id:h,list:l,index:-1,entry:void 0};}function f(d){this.Cz={};this.kA=b();this.size=0;if(d){d=ba(d);for(var g;!(g=d.next()).done;){g=g.value;this.set(g[0],g[1]);}}}if((function(){var d,g,h,l;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{d=Object.seal({x:4});g=new r(ba([[d,"s"]]));if("s" != g.get(d) || 1 != g.size || g.get({x:4}) || g.set({x:4},"t") != g || 2 != g.size)return !1;h=g.entries();l=h.next();if(l.done || l.value[0] != d || "s" != l.value[1])return !1;l=h.next();return l.done || 4 != l.value[0].x || "t" != l.value[1] || !h.next().done?!1:!0;}catch(n){return !1;}})())return r;k=new WeakMap();f.prototype.set=function(d,g){var h;d=0 === d?0:d;h=c(this,d);h.list || (h.list=this.Cz[h.id]=[]);h.entry?h.entry.value=g:(h.entry={next:this.kA,$A:this.kA.$A,head:this.kA,key:d,value:g},h.list.push(h.entry),this.kA.$A.next=h.entry,this.kA.$A=h.entry,this.size++);return this;};f.prototype.delete=function(d){d=c(this,d);return d.entry && d.list?(d.list.splice(d.index,1),d.list.length || delete this.Cz[d.id],d.entry.$A.next=d.entry.next,d.entry.next.$A=d.entry.$A,d.entry.head=null,this.size--,!0):!1;};f.prototype.clear=function(){this.Cz={};this.kA=this.kA.$A=b();this.size=0;};f.prototype.has=function(d){return ! !c(this,d).entry;};f.prototype.get=function(d){return (d=c(this,d).entry) && d.value;};f.prototype.entries=function(){return a(this,function(d){return [d.key,d.value];});};f.prototype.keys=function(){return a(this,function(d){return d.key;});};f.prototype.values=function(){return a(this,function(d){return d.value;});};f.prototype.forEach=function(d,g){for(var h=this.entries(),l;!(l=h.next()).done;){l=l.value;d.call(g,l[1],l[0],this);}};f.prototype[Symbol.iterator]=f.prototype.entries;m=0;return f;});ta("Set",function(r){function b(a){this.cx=new Map();if(a){a=ba(a);for(var c;!(c=a.next()).done;){this.add(c.value);}}this.size=this.cx.size;}if((function(){var a,c,f,k;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});c=new r(ba([a]));if(!c.has(a) || 1 != c.size || c.add(a) != c || 1 != c.size || c.add({x:4}) != c || 2 != c.size)return !1;f=c.entries();k=f.next();if(k.done || k.value[0] != a || k.value[1] != a)return !1;k=f.next();return k.done || k.value[0] == a || 4 != k.value[0].x || k.value[1] != k.value[0]?!1:f.next().done;}catch(m){return !1;}})())return r;b.prototype.add=function(a){a=0 === a?0:a;this.cx.set(a,a);this.size=this.cx.size;return this;};b.prototype.delete=function(a){a=this.cx.delete(a);this.size=this.cx.size;return a;};b.prototype.clear=function(){this.cx.clear();this.size=0;};b.prototype.has=function(a){return this.cx.has(a);};b.prototype.entries=function(){return this.cx.entries();};b.prototype.values=function(){return this.cx.values();};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,c){var f;f=this;this.cx.forEach(function(k){return a.call(c,k,k,f);});};return b;});ta("String.prototype.endsWith",function(r){return r?r:function(b,a){var c;c=Wa(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var f=b.length;0 < f && 0 < a;){if(c[--a] != b[--f])return !1;}return 0 >= f;};});ta("String.prototype.repeat",function(r){return r?r:function(b){var a;a=Wa(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;){if((b & 1 && (c+=a),b>>>=1))a+=a;}return c;};});ta("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ta("Array.prototype.values",function(r){return r?r:function(){return Pa(this,function(b,a){return a;});};});ta("Object.values",function(r){return r?r:function(b){var a,c;a=[];for(c in b){Ca(b,c) && a.push(b[c]);}return a;};});ta("String.prototype.startsWith",function(r){return r?r:function(b,a){var c,f,k;c=Wa(this,b,"startsWith");b+="";f=c.length;k=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var m=0;m < k && a < f;){if(c[a++] != b[m++])return !1;}return m >= k;};});ta("Array.prototype.findIndex",function(r){return r?r:function(b,a){return Ga(this,b,a).cqa;};});ta("Array.from",function(r){return r?r:function(b,a,c){var f,k;a=null != a?a:function(d){return d;};f=[];k="undefined" != typeof Symbol && Symbol.iterator && b[Symbol.iterator];if("function" == typeof k){b=k.call(b);for(var m=0;!(k=b.next()).done;){f.push(a.call(c,k.value,m++));}}else for((k=b.length,m=0);m < k;m++){f.push(a.call(c,b[m],m));}return f;};});ta("String.fromCodePoint",function(r){return r?r:function(b){var f;for(var a="",c=0;c < arguments.length;c++){f=Number(arguments[c]);if(0 > f || 1114111 < f || f !== Math.floor(f))throw new RangeError("invalid_code_point " + f);65535 >= f?a+=String.fromCharCode(f):(f-=65536,a+=String.fromCharCode(f >>> 10 & 1023 | 55296),a+=String.fromCharCode(f & 1023 | 56320));}return a;};});ta("Number.parseInt",function(r){return r || parseInt;});ta("Number.isFinite",function(r){return r?r:function(b){return "number" !== typeof b?!1:!isNaN(b) && Infinity !== b && -Infinity !== b;};});(function(r){var a;function b(c){var f;if(a[c])return a[c].exports;f=a[c]={cqa:c,lOb:!1,exports:{}};r[c].call(f.exports,f,f.exports,b);f.lOb=!0;return f.exports;}a={};b.Vcc=r;b.c=a;b.d=function(c,f,k){b.HSb(c,f) || Object.defineProperty(c,f,{enumerable:!0,get:k});};b.r=function(c){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0});};b.t=function(c,f){var k;f & 1 && (c=b(c));if(f & 8 || f & 4 && "object" === typeof c && c && c.__esModule)return c;k=Object.create(null);b.r(k);Object.defineProperty(k,"default",{enumerable:!0,value:c});if(f & 2 && "string" != typeof c)for(var m in c){b.d(k,m,(function(d){return c[d];}).bind(null,m));}return k;};b.n=function(c){var f;f=c && c.__esModule?function(){return c["default"];}:function(){return c;};b.d(f,"a",f);return f;};b.HSb=function(c,f){return Object.prototype.hasOwnProperty.call(c,f);};b.p="";return b(b.bZb=565);})([function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(44);b.u8b=r;r=a(568);b.s0=r.s0;r=a(76);b.pt=r.pt;b.Sj=r.Sj;b.wy=r.wy;r=a(584);b.tAa=r.tAa;b.rd=r.rd;r=a(585);b.T=r.T;r=a(586);b.vbb=r.vbb;r=a(587);b.m5a=r.m5a;r=a(316);b.l=r.l;b.Sda=r.Sda;r=a(588);b.optional=r.optional;r=a(589);b.bn=r.bn;r=a(590);b.uI=r.uI;r=a(591);b.c_=r.c_;r=a(592);b.I7a=r.I7a;r=a(314);b.pea=r.pea;r=a(109);b.id=r.id;r=a(94);b.cs=r.cs;r=a(319);b.ocb=r.ocb;b.wbb=r.wbb;b.n5a=r.n5a;b.vcb=r.vcb;r=a(136);b.KN=r.KN;a=a(593);b.i5a=a.i5a;},function(r,b,a){var C,H;function c(){c=Object.assign || (function(K){for(var M,I=1,Q=arguments.length;I < Q;I++){M=arguments[I];for(var L in M){Object.prototype.hasOwnProperty.call(M,L) && (K[L]=M[L]);}}return K;});return c.apply(this,arguments);}function f(K,M){f=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(I,Q){I.__proto__=Q;}) || (function(I,Q){for(var L in Q){Object.prototype.hasOwnProperty.call(Q,L) && (I[L]=Q[L]);}});return f(K,M);}function k(K,M){function I(){this.constructor=K;}if("function" !== typeof M && null !== M)throw new TypeError("Class extends value " + String(M) + " is not a constructor or null");f(K,M);K.prototype=null === M?Object.create(M):(I.prototype=M.prototype,new I());}function m(K,M){var I,Q,L;I={};for(Q in K){Object.prototype.hasOwnProperty.call(K,Q) && 0 > M.indexOf(Q) && (I[Q]=K[Q]);}if(null != K && "function" === typeof Object.getOwnPropertySymbols){L=0;for(Q=Object.getOwnPropertySymbols(K);L < Q.length;L++){0 > M.indexOf(Q[L]) && Object.prototype.propertyIsEnumerable.call(K,Q[L]) && (I[Q[L]]=K[Q[L]]);}}return I;}function d(K,M,I,Q){var L,J,N;L=arguments.length;J=3 > L?M:null === Q?Q=Object.getOwnPropertyDescriptor(M,I):Q;if("object" === typeof Reflect && "function" === typeof Reflect.cs)J=Reflect.cs(K,M,I,Q);else for(var O=K.length - 1;0 <= O;O--){if(N=K[O])J=(3 > L?N(J):3 < L?N(M,I,J):N(M,I)) || J;}return (3 < L && J && Object.defineProperty(M,I,J),J);}function g(K,M){return function(I,Q){M(I,Q,K);};}function h(K,M){if("object" === typeof Reflect && "function" === typeof Reflect.Ic)return Reflect.Ic(K,M);}function l(K,M,I,Q){function L(J){return J instanceof I?J:new I(function(N){N(J);});}return new (I || (I=Promise))(function(J,N){function O(U){try{S(Q.next(U));}catch(Z){N(Z);}}function P(U){try{S(Q["throw"](U));}catch(Z){N(Z);}}function S(U){U.done?J(U.value):L(U.value).then(O,P);}S((Q=Q.apply(K,M || [])).next());});}function n(K,M){var L,J,N,O,P;function I(S){return function(U){return Q([S,U]);};}function Q(S){if(J)throw new TypeError("Generator is already executing.");for(;L;){try{if((J=1,N && (O=S[0] & 2?N["return"]:S[0]?N["throw"] || ((O=N["return"]) && O.call(N),0):N.next) && !(O=O.call(N,S[1])).done))return O;if((N=0,O))S=[S[0] & 2,O.value];switch(S[0]){case 0:case 1:O=S;break;case 4:return (L.label++,{value:S[1],done:!1});case 5:L.label++;N=S[1];S=[0];continue;case 7:S=L.bo.pop();L.$m.pop();continue;default:if(!(O=L.$m,O=0 < O.length && O[O.length - 1]) && (6 === S[0] || 2 === S[0])){L=0;continue;}if(3 === S[0] && (!O || S[1] > O[0] && S[1] < O[3]))L.label=S[1];else if(6 === S[0] && L.label < O[1])(L.label=O[1],O=S);else if(O && L.label < O[2])(L.label=O[2],L.bo.push(S));else {O[2] && L.bo.pop();L.$m.pop();continue;}}S=M.call(K,L);}catch(U){S=[6,U];N=0;}finally{J=O=0;}}if(S[0] & 5)throw S[1];return {value:S[0]?S[1]:void 0,done:!0};}L={label:0,Ac:function(){if(O[0] & 1)throw O[1];return O[1];},$m:[],bo:[]};return (P={next:I(0),"throw":I(1),"return":I(2)},"function" === typeof Symbol && (P[Symbol.iterator]=function(){return this;}),P);}function q(K,M){for(var I in K){"default" === I || Object.prototype.hasOwnProperty.call(M,I) || C(M,K,I);}}function p(K){var M,I,Q;M="function" === typeof Symbol && Symbol.iterator;I=M && K[M];Q=0;if(I)return I.call(K);if(K && "number" === typeof K.length)return {next:function(){K && Q >= K.length && (K=void 0);return {value:K && K[Q++],done:!K};}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(K,M){var I,Q,L;I="function" === typeof Symbol && K[Symbol.iterator];if(!I)return K;K=I.call(K);L=[];try{for(;(void 0 === M || 0 < M--) && !(Q=K.next()).done;){L.push(Q.value);}}catch(N){var J;J={error:N};}finally{try{Q && !Q.done && (I=K["return"]) && I.call(K);}finally{if(J)throw J.error;}}return L;}function t(){for(var K=[],M=0;M < arguments.length;M++){K=K.concat(u(arguments[M]));}return K;}function w(){var Q;for(var K=0,M=0,I=arguments.length;M < I;M++){K+=arguments[M].length;}K=Array(K);Q=0;for(M=0;M < I;M++){for(var L=arguments[M],J=0,N=L.length;J < N;(J++,Q++)){K[Q]=L[J];}}return K;}function v(K,M,I){if(I || 2 === arguments.length)for(var Q=0,L=M.length,J;Q < L;Q++){!J && (Q in M) || (J || (J=Array.prototype.slice.call(M,0,Q)),J[Q]=M[Q]);}return K.concat(J || M);}function x(K){return this instanceof x?(this.VE=K,this):new x(K);}function y(K,M,I){var P,S,U;function Q(Z){P[Z] && (S[Z]=function(ja){return new Promise(function(ya,ra){1 < U.push([Z,ja,ya,ra]) || L(Z,ja);});});}function L(Z,ja){var ya;try{ya=P[Z](ja);ya.value instanceof x?Promise.resolve(ya.value.VE).then(J,N):O(U[0][2],ya);}catch(ra){O(U[0][3],ra);}}function J(Z){L("next",Z);}function N(Z){L("throw",Z);}function O(Z,ja){(Z(ja),U.shift(),U.length) && L(U[0][0],U[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");P=I.apply(K,M || []);U=[];return (S={},Q("next"),Q("throw"),Q("return"),S[Symbol.asyncIterator]=function(){return this;},S);}function z(K){var I,Q;function M(L,J){I[L]=K[L]?function(N){return (Q=!Q)?{value:x(K[L](N)),done:"return" === L}:J?J(N):N;}:J;}return (I={},M("next"),M("throw",function(L){throw L;}),M("return"),I[Symbol.iterator]=function(){return this;},I);}function A(K){var Q,L;function M(J){L[J]=K[J] && (function(N){return new Promise(function(O,P){N=K[J](N);I(O,P,N.done,N.value);});});}function I(J,N,O,P){Promise.resolve(P).then(function(S){J({value:S,done:O});},N);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");Q=K[Symbol.asyncIterator];return Q?Q.call(K):(K="function" === typeof p?p(K):K[Symbol.iterator](),L={},M("next"),M("throw"),M("return"),L[Symbol.asyncIterator]=function(){return this;},L);}function B(K,M){Object.defineProperty?Object.defineProperty(K,"raw",{value:M}):K.raw=M;return K;}function E(K){var M;if(K && K.__esModule)return K;M={};if(null != K)for(var I in K){"default" !== I && Object.prototype.hasOwnProperty.call(K,I) && C(M,K,I);}H(M,K);return M;}function D(K){return K && K.__esModule?K:{default:K};}function F(K,M,I,Q){if("a" === I && !Q)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof M?K !== M || !Q:!M.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === I?Q:"a" === I?Q.call(K):Q?Q.value:M.get(K);}function G(K,M,I,Q,L){if("m" === Q)throw new TypeError("Private method is not writable");if("a" === Q && !L)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof M?K !== M || !L:!M.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === Q?L.call(K,I):L?L.value=I:M.set(K,I),I);}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return g;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return l;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return C;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return p;});a.d(b,"__read",function(){return u;});a.d(b,"__spread",function(){return t;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__spreadArray",function(){return v;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return E;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});C=Object.create?function(K,M,I,Q){void 0 === Q && (Q=I);Object.defineProperty(K,Q,{enumerable:!0,get:function(){return M[I];}});}:function(K,M,I,Q){void 0 === Q && (Q=I);K[Q]=M[I];};H=Object.create?function(K,M){Object.defineProperty(K,"default",{enumerable:!0,value:M});}:function(K,M){K["default"]=M;};},function(r,b,a){function c(){c=Object.assign || (function(C){for(var H,K=1,M=arguments.length;K < M;K++){H=arguments[K];for(var I in H){Object.prototype.hasOwnProperty.call(H,I) && (C[I]=H[I]);}}return C;});return c.apply(this,arguments);}function f(C,H){f=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(K,M){K.__proto__=M;}) || (function(K,M){for(var I in M){M.hasOwnProperty(I) && (K[I]=M[I]);}});return f(C,H);}function k(C,H){function K(){this.constructor=C;}f(C,H);C.prototype=null === H?Object.create(H):(K.prototype=H.prototype,new K());}function m(C,H){var K,M,I;K={};for(M in C){Object.prototype.hasOwnProperty.call(C,M) && 0 > H.indexOf(M) && (K[M]=C[M]);}if(null != C && "function" === typeof Object.getOwnPropertySymbols){I=0;for(M=Object.getOwnPropertySymbols(C);I < M.length;I++){0 > H.indexOf(M[I]) && Object.prototype.propertyIsEnumerable.call(C,M[I]) && (K[M[I]]=C[M[I]]);}}return K;}function d(C,H,K,M){var I,Q,L;I=arguments.length;Q=3 > I?H:null === M?M=Object.getOwnPropertyDescriptor(H,K):M;if("object" === typeof Reflect && "function" === typeof Reflect.cs)Q=Reflect.cs(C,H,K,M);else for(var J=C.length - 1;0 <= J;J--){if(L=C[J])Q=(3 > I?L(Q):3 < I?L(H,K,Q):L(H,K)) || Q;}return (3 < I && Q && Object.defineProperty(H,K,Q),Q);}function g(C,H){return function(K,M){H(K,M,C);};}function h(C,H){if("object" === typeof Reflect && "function" === typeof Reflect.Ic)return Reflect.Ic(C,H);}function l(C,H,K,M){function I(Q){return Q instanceof K?Q:new K(function(L){L(Q);});}return new (K || (K=Promise))(function(Q,L){function J(P){try{O(M.next(P));}catch(S){L(S);}}function N(P){try{O(M["throw"](P));}catch(S){L(S);}}function O(P){P.done?Q(P.value):I(P.value).then(J,N);}O((M=M.apply(C,H || [])).next());});}function n(C,H){var I,Q,L,J,N;function K(O){return function(P){return M([O,P]);};}function M(O){if(Q)throw new TypeError("Generator is already executing.");for(;I;){try{if((Q=1,L && (J=O[0] & 2?L["return"]:O[0]?L["throw"] || ((J=L["return"]) && J.call(L),0):L.next) && !(J=J.call(L,O[1])).done))return J;if((L=0,J))O=[O[0] & 2,J.value];switch(O[0]){case 0:case 1:J=O;break;case 4:return (I.label++,{value:O[1],done:!1});case 5:I.label++;L=O[1];O=[0];continue;case 7:O=I.bo.pop();I.$m.pop();continue;default:if(!(J=I.$m,J=0 < J.length && J[J.length - 1]) && (6 === O[0] || 2 === O[0])){I=0;continue;}if(3 === O[0] && (!J || O[1] > J[0] && O[1] < J[3]))I.label=O[1];else if(6 === O[0] && I.label < J[1])(I.label=J[1],J=O);else if(J && I.label < J[2])(I.label=J[2],I.bo.push(O));else {J[2] && I.bo.pop();I.$m.pop();continue;}}O=H.call(C,I);}catch(P){O=[6,P];L=0;}finally{Q=J=0;}}if(O[0] & 5)throw O[1];return {value:O[0]?O[1]:void 0,done:!0};}I={label:0,Ac:function(){if(J[0] & 1)throw J[1];return J[1];},$m:[],bo:[]};return (N={next:K(0),"throw":K(1),"return":K(2)},"function" === typeof Symbol && (N[Symbol.iterator]=function(){return this;}),N);}function q(C,H,K,M){void 0 === M && (M=K);C[M]=H[K];}function p(C,H){for(var K in C){"default" === K || H.hasOwnProperty(K) || (H[K]=C[K]);}}function u(C){var H,K,M;H="function" === typeof Symbol && Symbol.iterator;K=H && C[H];M=0;if(K)return K.call(C);if(C && "number" === typeof C.length)return {next:function(){C && M >= C.length && (C=void 0);return {value:C && C[M++],done:!C};}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.");}function t(C,H){var K,M,I;K="function" === typeof Symbol && C[Symbol.iterator];if(!K)return C;C=K.call(C);I=[];try{for(;(void 0 === H || 0 < H--) && !(M=C.next()).done;){I.push(M.value);}}catch(L){var Q;Q={error:L};}finally{try{M && !M.done && (K=C["return"]) && K.call(C);}finally{if(Q)throw Q.error;}}return I;}function w(){for(var C=[],H=0;H < arguments.length;H++){C=C.concat(t(arguments[H]));}return C;}function v(){var M;for(var C=0,H=0,K=arguments.length;H < K;H++){C+=arguments[H].length;}C=Array(C);M=0;for(H=0;H < K;H++){for(var I=arguments[H],Q=0,L=I.length;Q < L;(Q++,M++)){C[M]=I[Q];}}return C;}function x(C){return this instanceof x?(this.VE=C,this):new x(C);}function y(C,H,K){var N,O,P;function M(S){N[S] && (O[S]=function(U){return new Promise(function(Z,ja){1 < P.push([S,U,Z,ja]) || I(S,U);});});}function I(S,U){var Z;try{Z=N[S](U);Z.value instanceof x?Promise.resolve(Z.value.VE).then(Q,L):J(P[0][2],Z);}catch(ja){J(P[0][3],ja);}}function Q(S){I("next",S);}function L(S){I("throw",S);}function J(S,U){(S(U),P.shift(),P.length) && I(P[0][0],P[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");N=K.apply(C,H || []);P=[];return (O={},M("next"),M("throw"),M("return"),O[Symbol.asyncIterator]=function(){return this;},O);}function z(C){var K,M;function H(I,Q){K[I]=C[I]?function(L){return (M=!M)?{value:x(C[I](L)),done:"return" === I}:Q?Q(L):L;}:Q;}return (K={},H("next"),H("throw",function(I){throw I;}),H("return"),K[Symbol.iterator]=function(){return this;},K);}function A(C){var M,I;function H(Q){I[Q]=C[Q] && (function(L){return new Promise(function(J,N){L=C[Q](L);K(J,N,L.done,L.value);});});}function K(Q,L,J,N){Promise.resolve(N).then(function(O){Q({value:O,done:J});},L);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");M=C[Symbol.asyncIterator];return M?M.call(C):(C="function" === typeof u?u(C):C[Symbol.iterator](),I={},H("next"),H("throw"),H("return"),I[Symbol.asyncIterator]=function(){return this;},I);}function B(C,H){Object.defineProperty?Object.defineProperty(C,"raw",{value:H}):C.raw=H;return C;}function E(C){var H;if(C && C.__esModule)return C;H={};if(null != C)for(var K in C){Object.hasOwnProperty.call(C,K) && (H[K]=C[K]);}H.default=C;return H;}function D(C){return C && C.__esModule?C:{default:C};}function F(C,H){if(!H.has(C))throw new TypeError("attempted to get private field on non-instance");return H.get(C);}function G(C,H,K){if(!H.has(C))throw new TypeError("attempted to set private field on non-instance");H.set(C,K);return K;}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return g;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return l;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return q;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return u;});a.d(b,"__read",function(){return t;});a.d(b,"__spread",function(){return w;});a.d(b,"__spreadArrays",function(){return v;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return E;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});},function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Iv=b.GDa=b.FDa=b.oda=b.Hhb=b.Ihb=b.EDa=b.nda=b.Ghb=b.aHa=b.p1=b.g1=b.DDa=b.M=b.N=void 0;(function(f){f[f.em=7001]="UNKNOWN";f[f.ZMa=7002]="UNHANDLED_EXCEPTION";f[f.Bib=7003]="INIT_COMPONENT_LOG_TO_REMOTE";f[f.aib=7004]="HLS_NOT_SUPPORTED";f[f.Gda=7010]="INIT_ASYNCCOMPONENT";f[f.jFa=7011]="INIT_HTTP";f[f.xib=7014]="INIT_BADMOVIEID";f[f.Pib=7016]="INIT_NETFLIXID_MISSING";f[f.Oib=7017]="INIT_NETFLIXID_INVALID";f[f.Rib=7018]="INIT_SECURENETFLIXID_MISSING";f[f.kFa=7020]="INIT_PLAYBACK_LOCK";f[f.lFa=7022]="INIT_SESSION_LOCK";f[f.Qib=7029]="INIT_POSTAUTHORIZE";f[f.iFa=7031]="INIT_HEADER_MEDIA";f[f.V7b=7032]="HEADER_MISSING";f[f.U7b=7033]="HEADER_FRAGMENTS_MISSING";f[f.Sib=7034]="INIT_TIMEDTEXT_TRACK";f[f.i8b=7035]="INIT_LOAD_DOWNLOADED_MEDIA";f[f.j8b=7036]="INIT_STREAMS_NOT_AVAILABLE";f[f.reb=7037]="ASE_SESSION_ERROR";f[f.qeb=7038]="ASE_SEEK_THREW";f[f.seb=7039]="ASE_SKIPPED_THREW";f[f.Lib=7041]="INIT_CORE_OBJECTS1";f[f.Mib=7042]="INIT_CORE_OBJECTS2";f[f.Nib=7043]="INIT_CORE_OBJECTS3";f[f.f8b=7051]="INIT_COMPONENT_REQUESTQUOTA";f[f.$7b=7052]="INIT_COMPONENT_FILESYSTEM";f[f.bFa=7053]="INIT_COMPONENT_STORAGE";f[f.cFa=7054]="INIT_COMPONENT_STORAGELOCK";f[f.a8b=7055]="INIT_COMPONENT_LOGPERSIST";f[f.b8b=7056]="INIT_COMPONENT_NRDDPI";f[f.d8b=7057]="INIT_COMPONENT_PEPPERCRYPTO";f[f.ZEa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";f[f.Hda=7059]="INIT_COMPONENT_DEVICE";f[f.c8b=7062]="INIT_COMPONENT_NTBA";f[f.$Ea=7063]="INIT_COMPONENT_MSL";f[f.zib=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";f[f.YEa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";f[f.YB=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";f[f.e8b=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";f[f.yib=7069]="INIT_COMPONENT_ACCOUNT";f[f.Dib=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";f[f.Fib=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";f[f.Gib=7072]="INIT_COMPONENT_NRDP_MEDIA";f[f.Hib=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";f[f.Iib=7074]="INIT_COMPONENT_NRDP_REGISTRATION";f[f.Cib=7081]="INIT_COMPONENT_NRDP";f[f.Eib=7082]="INIT_COMPONENT_NRDP_DEVICE";f[f.hFa=7083]="INIT_COMPONENT_WEBCRYPTO";f[f.Kib=7084]="INIT_COMPONENT_VIDEO_PREPARER";f[f.h8b=7085]="INIT_CONGESTION_SERVICE";f[f.XEa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";f[f.dFa=7087]="INIT_COMPONENT_TRACKING_LOG";f[f.VEa=7088]="INIT_COMPONENT_BATTERY_MANAGER";f[f.UEa=7089]="INIT_COMPONENT_ASE";f[f.g8b=7090]="INIT_COMPONENT_VIDEO_CACHE";f[f.xK=7091]="INIT_COMPONENT_DRM_CACHE";f[f.Aib=7092]="INIT_COMPONENT_DRM";f[f.Jib=7093]="INIT_COMPONENT_PREFETCH_EVENTS";f[f.WEa=7094]="INIT_COMPONENT_FTL";f[f.aFa=7095]="INIT_COMPONENT_PREPARE_MODEL";f[f.eFa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";f[f.fFa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";f[f.gFa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";f[f.DK=7111]="MANIFEST";f[f.Ceb=7112]="AUTHORIZE_UNKNOWN";f[f.AGa=7117]="MANIFEST_VERIFY";f[f.$lb=7120]="START";f[f.AK=7121]="LICENSE";f[f.tfa=7122]="RELEASE";f[f.rLa=7123]="STOP";f[f.L7b=7124]="FPSAPPDATA";f[f.Pda=7125]="KEEPALIVE";f[f.I6b=7126]="DEACTIVATE";f[f.w$b=7127]="SYNC_DEACTIVATE_LINKS";f[f.G5b=7130]="ACTIVATE";f[f.Qkb=7131]="PING";f[f.S8b=7133]="NETFLIXID";f[f.Dhb=7134]="ENGAGE";f[f.pjb=7135]="LOGIN";f[f.gmb=7136]="SWITCH_PROFILES";f[f.ojb=7137]="LOGBLOB";f[f.xkb=7138]="PAUSE";f[f.Ilb=7139]="RESUME";f[f.pLa=7140]="SPLICE";f[f.U6b=7141]="DOWNLOAD_EVENT";f[f.Reb=7142]="BIND";f[f.vkb=7143]="PAIR";f[f.Seb=7144]="BIND_DEVICE";f[f.Thb=7145]="GENERATE_SCREENSHOTS";f[f.Ukb=7202]="PLAY_INIT_EXCEPTION";f[f.t8b=7301]="MEDIA_DOWNLOAD";f[f.A9b=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";f[f.B9b=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";f[f.Fea=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";f[f.$kb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";f[f.sIa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";f[f.alb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";f[f.Gea=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";f[f.C9b=7337]="PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED";f[f.Zkb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";f[f.wIa=7351]="PLAY_MSE_NOTSUPPORTED";f[f.rIa=7353]="PLAY_MSE_DECODER_TIMEOUT";f[f.Hea=7355]="PLAY_MSE_SOURCEADD";f[f.qIa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";f[f.mS=7357]="PLAY_MSE_GENERATEKEYREQUEST";f[f.F9b=7358]="PLAY_MSE_PARSECHALLENGE";f[f.z9b=7359]="PLAY_MSE_ADDKEY";f[f.I9b=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";f[f.vIa=7361]="PLAY_MSE_EVENT_ERROR";f[f.MK=7362]="PLAY_MSE_SETMEDIAKEYS";f[f.Gr=7363]="PLAY_MSE_EVENT_KEYERROR";f[f.clb=7364]="PLAY_MSE_EME_SESSION_CLOSE";f[f.dlb=7365]="PLAY_MSE_GETCURRENTTIME";f[f.elb=7367]="PLAY_MSE_SETCURRENTTIME";f[f.flb=7371]="PLAY_MSE_SOURCEAPPEND";f[f.G9b=7373]="PLAY_MSE_SOURCEAPPEND_INIT";f[f.jlb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";f[f.ilb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";f[f.hlb=7377]="PLAY_MSE_UNEXPECTED_REWIND";f[f.H9b=7379]="PLAY_MSE_SOURCE_EOS";f[f.glb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";f[f.xIa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";f[f.E9b=7385]="PLAY_MSE_KEYSESSION_UPDATE";f[f.Vkb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";f[f.Wkb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";f[f.Xkb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";f[f.tIa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";f[f.blb=7395]="PLAY_MSE_EME_MISSING_PSSH";f[f.D9b=7396]="PLAY_MSE_EME_MISSING_CERT";f[f.uIa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";f[f.Ykb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";f[f.D1=7399]="PLAY_MSE_SET_LICENSE_ERROR";f[f.oDa=7400]="EXTERNAL";f[f.C1=7500]="PAUSE_TIMEOUT";f[f.h1=7502]="INACTIVITY_TIMEOUT";f[f.Beb=7510]="AUTHORIZATION_EXPIRED";f[f.K6b=7520]="DECRYPT_AUDIO";f[f.vhb=7700]="EME_INVALID_KEYSYSTEM";f[f.$Ca=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";f[f.oR=7702]="EME_CREATE_MEDIAKEYS_FAILED";f[f.M0=7703]="EME_GENERATEREQUEST_FAILED";f[f.iDa=7704]="EME_UPDATE_FAILED";f[f.fDa=7705]="EME_KEYSESSION_ERROR";f[f.eDa=7706]="EME_KEYMESSAGE_EMPTY";f[f.zhb=7707]="EME_REMOVE_FAILED";f[f.xhb=7708]="EME_LOAD_FAILED";f[f.rhb=7709]="EME_CREATE_SESSION_FAILED";f[f.lda=7710]="EME_LDL_RENEWAL_ERROR";f[f.cDa=7711]="EME_INVALID_INITDATA_DATA";f[f.dDa=7712]="EME_INVALID_LICENSE_DATA";f[f.whb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";f[f.d7b=7714]="EME_MEDIAKEYS_GENERIC_ERROR";f[f.ZCa=7716]="EME_CLOSE_FAILED";f[f.gDa=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";f[f.Bhb=7718]="EME_SET_SERVER_CERTIFICATE";f[f.Rkb=7800]="PLAYDATA_STORE_FAILURE";f[f.y9b=7801]="PLAYDATA_SEND_FAILURE";f[f.UQ=7900]="BRANCH_PLAY_FAILURE";f[f.VQ=7901]="BRANCH_QUEUE_FAILURE";f[f.AAa=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";f[f.Zeb=7903]="BRANCH_CHOICE_MAP_MISSING";f[f.X8b=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";f[f.Y8b=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";f[f.Dkb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.N || (b.N={}));(function(f){f[f.em=1001]="UNKNOWN";f[f.Qk=1003]="EXCEPTION";f[f.Vib=1004]="INVALID_DI";f[f.veb=1011]="ASYNCLOAD_EXCEPTION";f[f.web=1013]="ASYNCLOAD_TIMEOUT";f[f.H5b=1015]="ASYNCLOAD_BADCONFIG";f[f.teb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";f[f.ueb=1017]="ASYNCLOAD_COMPONENT_MISSING";f[f.PR=1101]="HTTP_UNKNOWN";f[f.Bda=1102]="HTTP_XHR";f[f.MR=1103]="HTTP_PROTOCOL";f[f.LR=1104]="HTTP_OFFLINE";f[f.OR=1105]="HTTP_TIMEOUT";f[f.mF=1106]="HTTP_READTIMEOUT";f[f.XB=1107]="HTTP_ABORT";f[f.wEa=1108]="HTTP_PARSE";f[f.sEa=1110]="HTTP_BAD_URL";f[f.NR=1111]="HTTP_PROXY";f[f.hea=1203]="MSE_AUDIO";f[f.iea=1204]="MSE_VIDEO";f[f.Djb=1250]="MSE_MEDIA_ERR_BASE";f[f.w8b=1251]="MSE_MEDIA_ERR_ABORTED";f[f.z8b=1252]="MSE_MEDIA_ERR_NETWORK";f[f.x8b=1253]="MSE_MEDIA_ERR_DECODE";f[f.A8b=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";f[f.y8b=1255]="MSE_MEDIA_ERR_ENCRYPTED";f[f.tt=1260]="EME_MEDIA_KEYERR_BASE";f[f.j7b=1261]="EME_MEDIA_KEYERR_UNKNOWN";f[f.e7b=1262]="EME_MEDIA_KEYERR_CLIENT";f[f.i7b=1263]="EME_MEDIA_KEYERR_SERVICE";f[f.h7b=1264]="EME_MEDIA_KEYERR_OUTPUT";f[f.g7b=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";f[f.f7b=1266]="EME_MEDIA_KEYERR_DOMAIN";f[f.k7b=1269]="EME_MEDIA_UNAVAILABLE_CDM";f[f.uhb=1270]="EME_INTERNAL_ERROR";f[f.qhb=1271]="EME_CLOSED_BY_APPLICATION";f[f.yhb=1272]="EME_RELEASE_ACKNOWLEDGED";f[f.bDa=1273]="EME_HARDWARE_CONTEXT_RESET";f[f.Ahb=1274]="EME_RESOURCE_EVICTED";f[f.thb=1280]="EME_ERROR_NODRMSESSSION";f[f.shb=1281]="EME_ERROR_NODRMREQUESTS";f[f.a7b=1282]="EME_ERROR_INDIV_FAILED";f[f.b7b=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";f[f.Chb=1284]="EME_TIMEOUT_MESSAGE";f[f.l7b=1285]="EME_TIMEOUT_KEYCHANGE";f[f.hDa=1286]="EME_UNDEFINED_DATA";f[f.pK=1287]="EME_INVALID_STATE";f[f.c7b=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";f[f.aDa=1289]="EME_EMPTY_DATA";f[f.pR=1290]="EME_TIMEOUT";f[f.M8b=1303]="NCCP_METHOD_NOT_SUPPORTED";f[f.P8b=1305]="NCCP_PARSEXML";f[f.mlb=1309]="PROCESS_EXCEPTION";f[f.O8b=1311]="NCCP_NETFLIXID_MISSING";f[f.Q8b=1312]="NCCP_SECURENETFLIXID_MISSING";f[f.J8b=1313]="NCCP_HMAC_MISSING";f[f.I8b=1315]="NCCP_HMAC_MISMATCH";f[f.H8b=1317]="NCCP_HMAC_FAILED";f[f.G8b=1321]="NCCP_CLIENTTIME_MISSING";f[f.F8b=1323]="NCCP_CLIENTTIME_MISMATCH";f[f.aEa=1331]="GENERIC";f[f.Xjb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";f[f.Yjb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";f[f.R8b=1341]="NCCP_TRANSACTION";f[f.K8b=1343]="NCCP_INVALID_DRMTYPE";f[f.L8b=1344]="NCCP_INVALID_LICENCE_RESPONSE";f[f.N8b=1345]="NCCP_MISSING_PAYLOAD";f[f.O9b=1346]="PROTOCOL_NOT_INITIALIZED";f[f.N9b=1347]="PROTOCOL_MISSING_FIELD";f[f.M9b=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";f[f.kC=1402]="STORAGE_NODATA";f[f.g$b=1403]="STORAGE_EXCEPTION";f[f.o$b=1405]="STORAGE_QUOTA_NOT_GRANTED";f[f.p$b=1407]="STORAGE_QUOTA_TO_SMALL";f[f.tLa=1411]="STORAGE_LOAD_ERROR";f[f.bmb=1412]="STORAGE_LOAD_TIMEOUT";f[f.uLa=1414]="STORAGE_SAVE_ERROR";f[f.emb=1415]="STORAGE_SAVE_TIMEOUT";f[f.Cfa=1417]="STORAGE_DELETE_ERROR";f[f.sLa=1418]="STORAGE_DELETE_TIMEOUT";f[f.n$b=1421]="STORAGE_FS_REQUESTFILESYSTEM";f[f.k$b=1423]="STORAGE_FS_GETDIRECTORY";f[f.m$b=1425]="STORAGE_FS_READENTRIES";f[f.h$b=1427]="STORAGE_FS_FILEREAD";f[f.j$b=1429]="STORAGE_FS_FILEWRITE";f[f.i$b=1431]="STORAGE_FS_FILEREMOVE";f[f.l$b=1432]="STORAGE_FS_PARSEJSON";f[f.dmb=1451]="STORAGE_NO_LOCALSTORAGE";f[f.cmb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";f[f.d9b=1501]="NTBA_UNKNOWN";f[f.c9b=1502]="NTBA_EXCEPTION";f[f.Z8b=1504]="NTBA_CRYPTO_KEY";f[f.a9b=1506]="NTBA_CRYPTO_OPERATION";f[f.$8b=1508]="NTBA_CRYPTO_KEYEXCHANGE";f[f.b9b=1515]="NTBA_DECRYPT_UNSUPPORTED";f[f.gCa=1553]="DEVICE_NO_ESN";f[f.fCa=1555]="DEVICE_ERROR_GETTING_ESN";f[f.Lhb=1701]="FORMAT_UNKNOWN";f[f.ODa=1713]="FORMAT_XML";f[f.Mhb=1715]="FORMAT_XML_CONTENT";f[f.Khb=1721]="FORMAT_BASE64";f[f.R0=1723]="FORMAT_DFXP";f[f.jib=1801]="INDEXDB_OPEN_EXCEPTION";f[f.SEa=1802]="INDEXDB_NOT_SUPPORTED";f[f.iib=1803]="INDEXDB_OPEN_ERROR";f[f.TEa=1804]="INDEXDB_OPEN_NULL";f[f.hib=1805]="INDEXDB_OPEN_BLOCKED";f[f.kib=1807]="INDEXDB_OPEN_TIMEOUT";f[f.gib=1808]="INDEXDB_INVALID_STORE_STATE";f[f.i1=1809]="INDEXDB_ACCESS_EXCEPTION";f[f.Njb=1901]="MSL_UNKNOWN";f[f.Gjb=1911]="MSL_INIT_NO_MSL";f[f.LGa=1913]="MSL_INIT_ERROR";f[f.Hjb=1915]="MSL_INIT_NO_WEBCRYPTO";f[f.Ejb=1931]="MSL_ERROR";f[f.Mjb=1933]="MSL_REQUEST_TIMEOUT";f[f.Ljb=1934]="MSL_READ_TIMEOUT";f[f.Fjb=1935]="MSL_ERROR_HEADER";f[f.B8b=1936]="MSL_ERROR_ENVELOPE";f[f.C8b=1937]="MSL_ERROR_MISSING_PAYLOAD";f[f.KGa=1957]="MSL_ERROR_REAUTH";f[f.aga=2103]="WEBCRYPTO_MISSING";f[f.Gmb=2105]="WEBCRYPTOKEYS_MISSING";f[f.Hmb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";f[f.q6b=2200]="CACHEDDATA_PARSEJSON";f[f.XAa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";f[f.r6b=2202]="CACHEDDATA_UPGRADE_FAILED";f[f.UB=2203]="CACHEDDATA_INVALID_FORMAT";f[f.E5b=3E3]="ACCOUNT_CHANGE_INFLIGHT";f[f.F5b=3001]="ACCOUNT_INVALID";f[f.T6b=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";f[f.S6b=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";f[f.Q6b=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";f[f.R6b=3201]="DOWNLOADED_LICENSE_UNUSEABLE";f[f.P6b=3202]="DOWNLOADED_LICENSE_EXCEPTION";f[f.q$b=3300]="STORAGE_VA_LOAD_ERROR";f[f.r$b=3301]="STORAGE_VA_LOAD_TIMEOUT";f[f.u$b=3302]="STORAGE_VA_SAVE_ERROR";f[f.v$b=3303]="STORAGE_VA_SAVE_TIMEOUT";f[f.s$b=3304]="STORAGE_VA_REMOVE_ERROR";f[f.t$b=3305]="STORAGE_VA_REMOVE_TIMEOUT";f[f.Cea=3077]="PBO_DEVICE_EOL_WARNING";f[f.kIa=3078]="PBO_DEVICE_EOL_FINAL";f[f.nIa=3100]="PBO_DEVICE_RESET";f[f.mIa=3101]="PBO_DEVICE_RELOAD";f[f.lIa=3102]="PBO_DEVICE_EXIT";f[f.Okb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";f[f.ykb=5005]="PBO_ACCOUNT_ON_HOLD";f[f.Ckb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";f[f.oIa=5007]="PBO_INCORRECT_PIN";f[f.Lkb=5008]="PBO_MOBILE_ONLY";f[f.Pkb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";f[f.Hkb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";f[f.Akb=5059]="PBO_BLACKLISTED_IP";f[f.zkb=5070]="PBO_AGE_VERIFICATION_REQUIRED";f[f.Bkb=5080]="PBO_CHOICE_MAP_ERROR";f[f.Mkb=5090]="PBO_RESTRICTED_TO_TESTERS";f[f.Jkb=5091]="PBO_MALFORMED_REQUEST";f[f.Ikb=5092]="PBO_INVALID_SERVICE_VERSION";f[f.Kkb=5093]="PBO_MDX_INVALID_CTICKET";f[f.Gkb=5094]="PBO_FREE_PREVIEW_ENDED";f[f.Nkb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";f[f.Fkb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";f[f.Ekb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";f[f.kgb=5100]="DECODER_TIMEOUT_BUFFERING";f[f.mgb=5101]="DECODER_TIMEOUT_PRESENTING";f[f.lgb=5102]="DECODER_TIMEOUT_PLAYING";f[f.bhb=5200]="DOWNLOADER_IO_ERROR";f[f.zAa=5300]="BRANCHING_SEGMENT_NOTFOUND";f[f.Veb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";f[f.V5b=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";f[f.Dca=5303]="BRANCHING_ASE_UNINITIALIZED";f[f.R5b=5304]="BRANCHING_ASE_FAILURE";f[f.S5b=5305]="BRANCHING_MOMENT_FAILURE";f[f.Teb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";f[f.U5b=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";f[f.Web=5308]="BRANCHING_SEEK_THREW";f[f.T5b=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";f[f.Ueb=5310]="BRANCHING_PLAY_TIMEDOUT";f[f.Xeb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";f[f.Yeb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";f[f.fmb=5500]="STUDIO_MUXED_MANIFEST";f[f.cea=5600]="MANIFEST_HYDRATION_FAILURE";f[f.Deb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";f[f.Eeb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";})(c=b.M || (b.M={}));(function(f){f[f.f6b=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";f[f.W5b=5005]="BR_ACCOUNT_ON_HOLD";f[f.$5b=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";f[f.c6b=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";f[f.Z5b=5059]="BR_BLACKLISTED_IP";f[f.X5b=5070]="BR_AGE_VERIFICATION_REQUIRED";f[f.d6b=2204]="BR_PLAYBACK_CONTEXT_CREATION";f[f.a6b=2205]="BR_DRM_LICENSE_AQUISITION";f[f.e6b=2206]="BR_PLAYBACK_SERVICE_ERROR";f[f.b6b=2207]="BR_ENDPOINT_ERROR";f[f.Y5b=2208]="BR_AUTHORIZATION_ERROR";})(b.DDa || (b.DDa={}));b.g1={ffb:"400",Q$b:"401",DIa:"413"};b.p1={J7b:1,J$b:2,o7b:3,P$b:4,m8b:5,n7b:6,Ufa:7,q7b:8,W9b:9,d$b:10};(function(f){f[f.w9b=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";f[f.x9b=98]="PAIRING_UNKNOWN_ERROR";})(b.aHa || (b.aHa={}));b.Ghb=function(f){return 7100 <= f && 7200 > f;};b.nda=function(f,k){return f == a.C1 || f == a.h1 || f == a.Fea && 432E5 <= k;};b.EDa=function(f){return 1100 <= f && 1199 >= f;};b.Ihb=function(f){return 1300 <= f && 1399 >= f;};b.Hhb=function(f){return 1900 <= f && 1999 >= f;};b.oda=function(f,k){return 1 <= f && 9 >= f?k + f:k;};b.FDa=function(f){return (0,b.oda)(f,c.Djb);};b.GDa=function(f){return (0,b.oda)(f,c.tt);};b.Iv=function(f){var k,m,d;k={};m=f.errorExternalCode || f.uf;d=f.errorDetails || f.yb;k.ErrorSubCode=f.errorSubCode || f.ta || c.em;m && (k.ErrorExternalCode=m);d && (k.ErrorDetails=d);return k;};},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(2);f=a(143);k=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);return d;})(Error);b.assert=function(m,d){if(!m)try{throw new k(d || "Assertion failed");}catch(g){throw (f.gn.I.error("Assertion failed",{value:m,message:d,stack:g.stack}),g);}};},function(r,b,a){var k;function c(){return k.ES.apply(this,arguments) || this;}function f(m){return new k.ut(m,b.la);}Object.defineProperty(b,"__esModule",{value:!0});b.eb=b.IEa=b.rea=b.zo=b.la=b.zF=b.timestamp=b.tLb=b.C9=b.Bh=b.Nc=b.L7a=b.ZQb=b.umb=void 0;k=a(320);na(c,k.ES);b.umb=c;b.ZQb=function(m){return new k.ut(m,b.zF);};b.L7a=function(m){return new k.ut(m * b.zo.zg,b.zF);};b.Nc=f;b.Bh=function(m){return new k.ut(m,b.zo);};b.C9=function(m){return new k.ut(m,b.rea);};b.tLb=function(m){return new k.ut(m,b.IEa);};b.timestamp=function(m){return f(m);};b.zF=new c(1,"\u03bcs");b.la=new c(1E3,"ms",b.zF);b.zo=new c(1E3 * b.la.zg,"s",b.zF);b.rea=new c(60 * b.zo.zg,"min",b.zF);b.IEa=new c(60 * b.rea.zg,"hr",b.zF);b.eb=f(0);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={LW:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nR=b.ub=b.Xda=b.Uj=void 0;r=b.Uj || (b.Uj={});r[r.Jhb=0]="FATAL";r[r.Rf=1]="ERROR";r[r.$fa=2]="WARN";r[r.Fda=3]="INFO";r[r.qMa=4]="TRACE";r[r.ia=5]="DEBUG";b.Xda="LogFieldBuilderFactorySymbol";b.ub="LoggerFactorySymbol";b.nR={};},function(r,b,a){var c,f,k,m,d,g,h,l;Object.defineProperty(b,"__esModule",{value:!0});b.pa=b.aKa=b.ZV=b.Qh=b.aj=b.log=b.cg=b.BN=b.wSa=b.Wr=b.UC=b.Wc=b.Vub=b.Lja=b.Tub=b.Uub=b.uj=b.wQ=b.C_=b.bi=b.Oc=b.za=void 0;c=a(200);r=a(7);f=a(26);k=a(78);m=a(77);d=a(36);g=a(30);h=a(142);l=a(38);a=a(48);b.za=c.cc.get(l.di);b.Oc=c.cc.get(a.Yj);b.bi=c.cc.get(k.Xv);b.C_=b.bi.encode.bind(b.bi);b.wQ=b.bi.decode.bind(b.bi);b.uj=c.cc.get(m.Ux);b.Uub=b.uj.encode.bind(b.uj);b.Tub=b.uj.decode.bind(b.uj);b.Lja=b.uj.vH.bind(b.uj);b.Vub=b.uj.acb.bind(b.uj);b.Wc=c.cc.get(d.Ii);b.UC=function(n){n=(0,g.Ue)(n)?(0,b.wQ)(n):n;return b.Wc.encode(n);};b.Wr=b.Wc.decode.bind(b.Wc);b.wSa=function(n){return (0,b.C_)((0,b.Wr)(n));};b.BN=function(){return c.cc.get(f.Zx);};b.cg=c.cc.get(r.ub);b.log=b.cg.mb("General");b.aj=function(n,q){return b.cg.mb(n,void 0,q);};b.Qh=function(n,q,p){return b.cg.mb(q,n,p);};b.ZV=function(n,q,p,u){return b.cg.mb(n,void 0,u,q,p);};b.aKa=function(n,q,p){return c.cc.get(h.rS)(n,q,p).m_();};b.pa=c.cc;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.pS=b.bEa=b.ANa=void 0;r=a(2);r.__exportStar(a(355),b);r.__exportStar(a(117),b);r.__exportStar(a(21),b);r.__exportStar(a(750),b);r.__exportStar(a(751),b);r.__exportStar(a(752),b);r.__exportStar(a(753),b);r.__exportStar(a(754),b);r.__exportStar(a(755),b);r.__exportStar(a(756),b);c=r.__importDefault(a(757));b.ANa=c.default;c=r.__importDefault(a(758));b.bEa=c.default;a=r.__importDefault(a(364));b.pS=a.default;},function(r){var b;b={Ea:function(a){return "number" === typeof a;},Rh:function(a){return "object" === typeof a;},Ue:function(a){return "string" === typeof a;},ka:function(a){return "undefined" === typeof a;},Dcc:function(a){return "boolean" === typeof a;},kd:function(a){return "function" === typeof a;},Kb:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},hUb:function(a){var c,f;f=[];if(!b.Rh(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && f.push([c,a[c]]);}return f;}};b.sf=b.forEach=function(a,c,f){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var k=0,m=a.length;k < m;k++){c.call(f,a[k],k,a);}else for(k in a){b.has(a,k) && c.call(f,a[k],k,a);}return a;};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jra=b.localStorage=b.kMb=b.indexedDB=b.r1=b.nq=b.dC=b.cC=b.URL=b.u1=b.s1=b.$Ga=b.n1=b.wF=b.xF=b.Ip=b.wo=b.Vj=b.lea=b.$B=b.jMa=b.kK=b.HF=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.ez=b.$jb=b.Be=b.Ov=b.NHa=b.Pv=b.t1=b.eC=void 0;r=nb;b.Oe=r.navigator;b.eC=null === b.Oe || void 0 === b.Oe?void 0:b.Oe.userAgent;b.t1=r.location;b.Pv=r.screen;b.NHa=r.devicePixelRatio;b.Ov=r.performance;b.Be=r.document;b.$jb=b.Be.documentElement;b.ez=Array.prototype;b.sort=b.ez.sort;b.map=b.ez.map;b.slice=b.ez.slice;b.every=b.ez.every;b.reduce=b.ez.reduce;b.filter=b.ez.filter;b.forEach=b.ez.forEach;b.pop=b.ez.pop;b.HF=Object.create;b.kK=Date.now;b.jMa=String.fromCharCode;b.$B=Math.floor;b.lea=Math.ceil;b.Vj=Math.round;b.wo=Math.max;b.Ip=Math.min;b.xF=Math.random;b.wF=Math.abs;b.n1=Math.pow;b.$Ga=Math.sqrt;b.s1=r.escape;b.u1=r.unescape;b.URL=r.URL || r.webkitURL;b.cC=r.MediaSource || r.WebKitMediaSource;b.dC=r.webkitCrypto || r.msCrypto || r.crypto;b.nq=b.dC && (b.dC.webkitSubtle || b.dC.subtle);b.r1=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.kMb=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.Jra=a || "noex";}},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FK=b.m1=b.qfb=b.lfb=b.nfb=b.ofb=b.NAa=b.kfb=b.mfb=b.MAa=b.pfb=b.wfb=b.ufb=b.vfb=b.tfb=b.mhb=b.lhb=b.khb=b.ujb=b.vjb=b.ky=b.GGa=b.HGa=b.EK=b.SCa=b.ohb=b.jda=b.L0=b.nkb=b.Wlb=b.CGa=b.efb=b.dCa=b.B1=b.GF=b.A1=b.BGa=b.jy=b.dfb=b.yAa=b.jjb=b.Dmb=b.tjb=b.sjb=b.Plb=b.Olb=b.cm=b.$e=b.SKa=b.Al=void 0;b.ufa=void 0;b.Al=function(){};b.SKa=function(){return !0;};b.$e={aa:!0};b.cm=1E3;b.Olb=86400;b.Plb=604800;b.sjb=1E4;b.tjb=1E7;b.Dmb=1.5;b.jjb=.128;b.yAa=7.8125;b.dfb=128;b.jy=145152E5;b.BGa=1E5;b.A1="$netflix$player$order";b.GF=-1;b.B1=1;b.dCa=["en-US"];b.efb=8;b.CGa=65535;b.Wlb=65536;b.nkb=Number.MAX_VALUE;b.L0="playready";b.jda="widevine";b.ohb="fps";b.SCa="clearkey";b.EK='audio/mp4; codecs="mp4a.40.5"';b.HGa='audio/mp4; codecs="mp4a.40.42"';b.GGa='audio/mp4; codecs="mp4a.a6"';b.ky='video/mp4; codecs="avc1.640028"';b.vjb='video/mp4; codecs="hev1.2.6.L153.B0"';b.ujb='video/mp4; codecs="dvhe.01000000"';b.khb="9A04F079-9840-4286-AB92-E65BE0885F95";b.lhb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.mhb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.tfb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.vfb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.ufb="4E657466-6C69-7846-7261-6D6552617465";b.wfb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.pfb="mp4a";b.MAa="enca";b.mfb="ec-3";b.kfb="avc1";b.NAa="encv";b.ofb="hvcC";b.nfb="hev1";b.lfb="dvhe";b.qfb="vp09";b.m1=0;b.FK=1;b.ufa="position:relative;width:100%;height:100%;overflow:hidden";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jn={Sac:"casttv",Hka:"chrome",Wac:"chromecast",rq:"edge",wWa:"edgeoss",VXa:"firefox",wcc:"ie",opera:"opera",T9a:"safari",zbb:"tesla"};b.xo={U3:"android",F1a:"ios",zTa:"chromeos",d3a:"linux",F3a:"mac",Bza:"windows"};b.f1={Oxb:"computer",phone:"phone",P1b:"tablet"};b.ad="ConfigSymbol";},function(r,b,a){var k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E;function c(D){return (D=b.config.m3b[f(D)])?D:{};}function f(D){if(D)return 0 <= D.indexOf("billboard")?"billboard":0 <= D.toLowerCase().indexOf("preplay")?"preplay":0 <= D.indexOf("embedded")?"embedded":0 <= D.indexOf("content-sampling")?"content-sampling":0 <= D.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= D.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= D.indexOf("standard")?"standard":0 <= D.indexOf("branching")?"branching":D;}Object.defineProperty(b,"__esModule",{value:!0});b.Sxb=b.Txb=b.iUa=b.ela=b.Rxb=b.jUa=b.Qxb=b.kUa=b.dla=b.config=void 0;k=a(12);m=a(49);d=a(8);g=a(41);h=a(22);a(30);l=a(26);n=a(45);q=a(24);a(7);p=a(11);u=a(18);t=a(171);w=a(50);v=a(87);x=a(110);y=a(52);z=a(5);A=a(35);B=a(19);E=a(123);b.kUa=function(D,F){var ra,Y,pa,T,R,ea,sa,la,Ka;function G(Ua,$a){(0,q.ve)(Ua,function(Za,cb){(0,u.kd)(cb)?$a[Za]=cb.call(void 0,$a[Za]):(0,u.Rh)(cb) && ($a[Za]=$a[Za] || ({}),G(cb,$a[Za]));});}function C(Ua,$a,Za,cb){for(var Va=[],Qa=3;Qa < arguments.length;++Qa){Va[Qa - 3]=arguments[Qa];}return function(xa){(0,u.Zc)(xa) && (Za=xa);(0,h.jb)((0,u.kd)(Ua));return Ua.apply(void 0,[$a,Za].concat(ha(Va)));};}function H(Ua){Ua=Ua.toLowerCase();T.hasOwnProperty(Ua) && (pa[Ua]=T[Ua],R[Ua]=T[Ua]);return Ua;}function K(Ua,$a,Za){var cb;Ua=Ua.toLowerCase();if(pa.hasOwnProperty(Ua)){cb=pa[Ua];try{cb=Za?Za(cb):cb;}catch(Va){cb=void 0;}if(void 0 !== cb)return cb;(0,h.jb)(!1);d.log.error("Invalid configuration value. Name: " + Ua);}return $a;}function M(Ua,$a,Za,cb){return K(Ua,$a,function(Va){(0,u.Ue)(Va) && (Va=(0,q.Ie)(Va));if((0,u.U1a)(Va,Za,cb))return Va;});}function I(Ua,$a,Za,cb){return K(Ua,$a,function(Va){(0,u.Ue)(Va) && (Va=(0,q.Ie)(Va));if((0,u.tA)(Va,Za,cb))return Va;});}function Q(Ua,$a,Za,cb){return K(Ua,$a,function(Va){(0,u.Ue)(Va) && (Va=parseFloat(Va));if((0,u.Ea)(Va,Za,cb))return Va;});}function L(Ua,$a,Za){return K(Ua,$a,function(cb){if(Za?Za.test(cb):(0,u.Ue)(cb))return cb;});}function J(Ua,$a){return K(Ua,$a,function(Za){if("true" == Za || !0 === Za)return !0;if("false" == Za || !1 === Za)return !1;});}function N(Ua,$a){return K(Ua,$a,function(Za){if((0,u.Ue)(Za))return JSON.parse((0,p.u1)(Za));if((0,u.Rh)(Za))return Za;});}function O(Ua,$a,Za,cb,Va,Qa){var xa;Ua=Ua.toLowerCase();pa.hasOwnProperty(Ua) && (xa=pa[Ua]);if(!(0,u.Zc)(xa))return $a;if((0,u.Ue)(xa))if(xa[0] !== Za)xa=cb(xa);else try{xa=JSON.parse((0,p.u1)(xa));}catch(Ea){xa=void 0;}if(void 0 === xa)return $a;for(Ua=0;Ua < Va.length;Ua++){if(!Va[Ua](xa))return $a;}return Qa?Qa(xa):xa;}function P(Ua,$a,Za,cb,Va){return O(Ua,$a,"[",function(Qa){Qa=Qa.split("|");for(var xa=Qa.length;xa--;){Qa[xa]=(0,q.Ie)(Qa[xa]);}return Qa;},[function(Qa){return (0,u.isArray)(Qa) && 0 < Qa.length;},function(Qa){for(var xa=Qa.length;xa--;){if(!(0,u.tA)(Qa[xa],Za,cb))return !1;}return !0;},function(Qa){return void 0 === Va || Qa.length >= Va;}]);}function S(Ua,$a){return O(Ua,$a,"[",function(Za){Za=(0,u.isArray)(Za)?Za:Za.split("|");for(var cb=Za.length;cb--;){try{Za[cb]=JSON.parse((0,p.u1)(Za[cb]));}catch(Va){Za=void 0;break;}}return Za;},[function(Za){return (0,u.isArray)(Za) && 0 < Za.length;},function(Za){for(var cb=Za.length;cb--;){if(!(0,u.Zc)(Za[cb]) || !(0,u.Rh)(Za[cb]))return !1;}return !0;}]);}function U(Ua,$a){var Za;Za=Z(Ua,[]);return Za && 0 < Za.length?(0,E.fo)(Za):S(Ua,$a);}function Z(Ua,$a,Za,cb){return O(Ua,$a,"[",function(Va){return (0,u.isArray)(Va)?Va:Va.split("|");},[function(Va){return (0,u.isArray)(Va) && 0 < Va.length;},function(Va){for(var Qa=Va.length;Qa--;){if(Za?!Za.test(Va[Qa]):!(0,u.uA)(Va[Qa]))return !1;}return !0;},function(Va){return void 0 === cb || Va.length >= cb;}]);}function ja(Ua,$a,Za){return O(Ua,$a,"{",function(cb){var Va,xa,Ea;Va={};cb=cb.split(";");for(var Qa=cb.length;Qa--;){xa=cb[Qa];Ea=xa.indexOf(":");if(0 >= Ea)return;Va[xa.substring(0,Ea)]=xa.substring(Ea + 1);}return Va;},[function(cb){return (0,u.Rh)(cb) && 0 < Object.keys(cb).length;},function(cb){if(Za)for(var Va in cb){if(!Za.test(cb[Va]))return !1;}return !0;}],function(cb){var Va;Va={};(0,q.ac)(Va,$a);(0,q.ac)(Va,cb);return Va;});}function ya(Ua){var $a;$a=[];(0,q.ve)(Ua,function(Za,cb){var Va;try{Va="videoapp" === Za.toLowerCase()?"[object object]":JSON.stringify(cb);}catch(Qa){Va="cantparse";}$a.push(Za + "=" + Va);});return $a.join("\n");}ra=/^[0-9]+[%]?$/;Y=/^[0-9]*$/;R={};ea=d.pa.get(g.kn);sa=d.pa.get(x.JF);(function(Ua){function $a(Za){Za.split(",").forEach(function(cb){var Va;Va=cb.indexOf("=");0 < Va && (pa[cb.substring(0,Va).toLowerCase()]=cb.substring(Va + 1));});}pa={};(0,q.ac)(pa,Ua);D && D.length && p.forEach.call(D,function(Za){(0,u.Ue)(Za)?$a(Za):(0,u.Rh)(Za) && (0,q.ac)(pa,Za,{sO:!0});});T=(0,q.ac)({},(0,m.d7)(),{sO:!0});if(Ua=(0,m.u8a)().cadmiumconfig)(d.log.info("Config cookie loaded",Ua),$a(Ua));if(d.pa.get(A.Cl).S3 || pa.istestaccount)((0,q.ac)(pa,T),R=T);})(F);b.config={};la={jEb:C(J,H("enableXHEAAC"),!1),GWa:C(J,H("enableDDPlus20"),!0),FWa:C(J,H("enableDDPlus"),!0),zV:C(J,H("enableDDPlusAtmos"),!1),QDb:C(J,H("enableLSSDH"),!0),KDb:C(J,H("enableHEVC"),!1),D6a:C(J,H("overrideEnableHEVC"),!1),Ema:C(J,H("enableHDR"),!1),C6a:C(J,H("overrideEnableHDR"),!1),B6a:C(J,H("overrideEnableDV"),!1),cN:C(J,H("enableAVCHigh"),sa.cN),HI:C(J,H("overrideEnableAVCHigh"),sa.HI),hEb:C(J,H("enableVP9"),!1),E6a:C(J,H("overrideEnableVP9"),!1),DDb:C(J,H("enableAV1"),!1),A6a:C(J,H("overrideEnableAV1"),!1),dUb:C(J,H("overrideEnableXHEAAC"),!1),YDb:C(J,H("enablePRK"),!1),IDb:C(J,H("enableDV"),!1),LDb:C(J,H("enableHWDRM"),!1),ODb:C(J,H("enableImageSubs"),!0),n4b:C(J,H("useLegacySubs"),!1),HG:C(U,H("audioProfiles"),sa.HG),mbc:C(J,H("disableHD"),!1),fEb:C(J,H("enableUHD"),!0),Nba:C(I,"videoCapabilityDetectorType",l.pj.Fv),vja:C(I,"audioCapabilityDetectorType",l.Cv.Fv),en:C(U,H("videoProfiles"),sa.en),nRa:C(U,H("additionalVideoProfiles"),[]),Prb:C(Z,H("timedTextProfiles"),sa.xv),xv:function(){return la.Prb().filter(function(Ua){return Ua === n.Dl.Yca?la.QDb():Ua === n.Dl.JK?la.ODb():!0;});},endpoint:C(J,H("endpoint"),!1),version:C(L,"version","unknown"),K$a:C(J,H("setMediaKeysEarly"),!1),Pdc:C(J,H("nrdpPersistCookiesToIndexDB"),!1),mdb:C(J,H("useHdcpLevelOnCast"),!1),MDb:C(J,H("enableHdcp"),!1),sx:C(J,H("prepareCadmium"),!1),osb:C(J,H("acceptManifestOnPrepareItemParams"),!0),DVb:C(N,"ppmconfig",{maxNumberTitlesScheduled:1}),kVb:C(J,H("playerPredictionModelV2"),!0),BV:C(J,H("enableLdlPrefetch"),!1),MWa:C(J,H("enableMediaPrefetch"),!1),SDb:C(J,H("enableManifestCache"),!0),$Bb:C(J,H("deleteCachedManifestOnPlayback"),!1),ZBb:C(J,H("deleteCachedManifestOnCreate"),!1),dCb:C(J,H("deleteOtherManifestCacheOnCreate"),!1),cCb:C(J,H("deleteOtherLdlCacheOnCreate"),!1),fec:C(I,H("periodicPrepareLogsIntervalMilliseconds"),36E5),ZVb:C(I,H("prepareManifestCacheMaxCount"),50),XVb:C(I,H("prepareLdlCacheMaxCount"),30),P7a:C(I,H("prepareManifestExpiryMilliseconds"),12E5),YVb:C(I,H("prepareLdlExpiryMilliseconds"),78E4),RVb:C(I,H("prefetcherMaxWishlistSize"),10),QVb:C(I,H("prefetcherBudgetInBytes"),Infinity),SVb:C(J,H("prefetcherOverrideItemPriority"),!0),WVb:C(L,H("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),yfc:C(N,"videoApp"),NE:C(N,"storageRules"),u6:C(J,"ftlEnabled",sa.u6),eqa:C(I,H("imageSubsResolution"),0),SLb:C(I,H("imageSubsMaxBuffer"),sa.nQb.da(y.Dv),0),HU:C(J,H("captureBatteryStatus"),!1),WGb:C(I,H("getBatteryApiTimeoutMilliseconds"),5E3),Im:C(L,H("keySystemId"),sa.Im),I2a:C(Z,H("keySystemList"),void 0,void 0),cRb:C(I,H("hdcpGlobalTimeout1"),1E4),dRb:C(I,H("hdcpGlobalTimeout2"),1E4),tdc:C(I,H("hdcpQueryTimeout1"),1E3),udc:C(I,H("hdcpQueryTimeout2"),1E3),M4a:C(I,H("hdcpQueryTimeout2"),100),eRb:C(J,H("microsoftHwdrmRequiresHevc"),!1),Qsa:C(J,H("microsoftClearLeadRequiresSwdrm"),!1),$Qb:C(J,H("microsoftEnableDeviceInfo"),!1),aRb:C(J,H("microsoftEnableHardwareInfo"),!1),bRb:C(J,H("microsoftEnableHardwareReset"),!1),k4b:C(J,H("useHevcCodecForDolbyVision"),!1),UDb:C(J,H("enableMediaCapabilities"),!1),CVb:C(J,H("powerEfficientForVideo"),!1),VDb:C(J,H("enableMediaCapabilitiesSourceBufferCheck"),!1),tPb:C(J,"logMediaPipelineStatus",!1),aZ:C(J,H("renderDomDiagnostics"),!0),t3a:function(){return -1;},qO:C(M,H("logDisplayMaxEntryCount"),sa.qO,-1),zPb:C(M,H("logToConsoleLevel"),-1),Jac:C(M,H("bladerunnerCmdHistorySize"),10),Lw:function(){return ea.Lw;},Ora:C(J,"logErrorIfEsnNotProvided",!0),Lma:C(J,"enforceSinglePlayback",sa.Lma),M5:C(J,"enforceSingleSession",sa.M5),Tka:C(J,"closeOtherPlaybacks",!0),dub:C(I,"asyncLoadTimeout",15E3,1),HPb:C(I,"mainThreadMonitorPollRate",0),Odc:C(J,"nrdpAlwaysShowUIOverlay",!1),Qdc:C(J,"nrdpValidateSSOTokens",!0),Nec:C(J,"showNrdpDebugBadging",!1),Rba:function(){return ea.Rba;},hA:function(){return ea.hA;},wM:function(){return ea.wM;},TJ:function(){return ea.TJ;},Ddb:C(I,H("verbosePlaybackInfoDenominator"),0),caa:C(J,"renderTimedText",!0),EVb:C(J,"preBufferTimedText",!0),aFb:C(J,"fatalOnTimedTextLoadError",!0),tya:C(ja,"timedTextStyleDefaults",{}),kba:C(ja,"timedTextStyleOverrides",{}),sya:C(ja,"timedTextFontFamilyMapping",sa.sya || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),lQ:C(I,"timedTextSimpleFallbackThreshold",sa.lQ.da(y.Dv)),VN:C(Z,H("imscLanguageList"),sa.VN,[]),Jla:C(L,H("customDfxpUrl")),eEb:C(J,H("enableSubtitleTrackerLogging"),!1),MZb:C(J,H("sendSubtitleQoeLogblobOnMidplay"),!1),tka:C(P,"cdnIdWhiteList",[]),ska:C(P,"cdnIdBlackList",[]),Ena:C(L,H("forceAudioTrack")),NRb:C(J,"muteVolumeOnPlaybackClose",!0),Rdc:C(L,"nrdpVolumeControlType","VOLUME_STREAM"),Ina:C(L,H("forceTimedTextTrack")),uQb:C(I,H("maxRetriesTimedTextDownload"),0),m2b:C(I,H("timedTextRetryInterval"),8E3),U0b:C(L,"storageType","idb",/^(none|fs|idb|ls)$/),p3a:C(I,"lockExpiration",1E4),rPb:C(I,"lockRefresh",3E3),owb:C(J,"captureUnhandledExceptions",!0),RLb:C(J,"ignoreUnhandledExceptionDuringPlayback",!0),p3b:C(J,"unhandledExceptionsArePlaybackErrors",!1),Acb:C(L,"unhandledExceptionSource",""),hWb:C(J,"preserveLastFrame",!1),lRb:C(I,"minBufferingTimeInMilliseconds",4E3),DWb:C(I,"progressBackwardsGraceTimeMilliseconds",4E3),EWb:C(I,"progressBackwardsMinPercent",10),fvb:C(L,H("bookmarkIgnoreBeginning"),"0",ra),gvb:C(L,H("bookmarkIgnoreEnd"),"5%",ra),hvb:C(L,H("bookmarkIgnoreEndForBranching"),"60000",ra),vO:C(I,"maxParallelConnections",3),gwa:C(J,"reportThroughputInLogblobs",!0),ix:C(I,"minAudioMediaRequestDuration",16E3),jRb:C(I,"minAudioMediaRequestDurationBranching",0),OA:C(I,"minVideoMediaRequestDuration",4E3),rRb:C(I,"minVideoMediaRequestDurationVariableGOP",0),pRb:C(I,"minVideoMediaRequestDurationBranching",0),r9:C(I,"minAudioMediaRequestSizeBytes",0),A9:C(I,"minVideoMediaRequestSizeBytes",0),kDb:C(J,"droppedFrameRateFilterEnabled",!1),lDb:C(I,"droppedFrameRateFilterMaxObservation",60,10,1E3),nDb:C(function(Ua,$a,Za,cb,Va,Qa){return O(Ua,$a,"[",function(xa){xa=xa.split(";");for(var Ea=xa.length;Ea--;){xa[Ea]=xa[Ea].split("|");for(var Na=xa[Ea].length;Na--;){xa[Ea][Na]=(0,q.Ie)(xa[Ea][Na]);}}return xa;},[function(xa){return (0,u.isArray)(xa) && 0 < xa.length;},function(xa){for(var Ea=xa.length;Ea-- && void 0 !== xa;){if(!(0,u.isArray)(xa[Ea]))return !1;for(var Na=xa[Ea].length;Na--;){if(!(0,u.tA)(xa[Ea][Na],Za,cb))return !1;}}return !0;},function(xa){if(void 0 !== Va)for(var Ea=xa.length;Ea--;){if(Va !== xa[Ea].length)return !1;}return !0;},function(xa){return void 0 === Qa || xa.length >= Qa;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),xbc:C(J,"droppedFrameRateFilterWithoutRebufferEnabled",!0),mDb:C(I,"droppedFrameRateFilterMinHeight",384),oDb:C(P,"droppedFramesPercentilesList",[]),fRb:C(J,"microsoftScreenSizeFilterEnabled",!1),eOb:C(J,"keyStatusFilterEnabled",!1),v0a:C(I,"hdcpEngagementWaitTime",0),l3b:C(J,"uiLabelFilterEnabled",!0),k3b:C(N,"uiLabelFilter",{}),UBb:C(I,H("defaultVolume"),100,0,100),xsa:C(I,H("maxPlaybackRate"),2,0,16),UVa:C(J,"disableVideoRightClickMenu",!1),v9:C(I,"minDecoderBufferMilliseconds",1E3,0,k.jy),GI:C(I,"optimalDecoderBufferMilliseconds",5E3,0,k.jy),p6a:C(I,"optimalDecoderBufferMillisecondsBranching",3E3,0,k.jy),gE:C(I,"minimumTimeBeforeBranchDecision",3E3,0,k.jy),Z4a:C(I,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,k.jy),FA:C(I,"maxDecoderBufferMilliseconds",sa.FA.da(z.la),0,k.jy),vVa:C(I,"decoderTimeoutMilliseconds",1E4,1),z5a:C(I,"noRenderTimeoutMilliseconds",0),HCb:C(J,"disgardMediaOnAppend",!1),Gtb:C(J,"appendMediaBeforeInit",!1),zUb:C(I,"pauseTimeoutLimitMilliseconds",18E5),gqa:C(I,"inactivityMonitorInterval",3E4,0),nsb:C(P,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),fN:C(J,"enableTrickPlay",!1),gtb:C(P,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),W2b:C(I,"trickPlayHighResolutionBitrateThreshold",1E3),X2b:C(I,"trickPlayHighResolutionThresholdMilliseconds",1E4),$2b:C(Q,"trickplayBufferFactor",.5),V2b:C(I,"trickPlayDownloadRetryCount",1),osa:C(L,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),kta:C(L,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),GEa:C(N,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),i4a:C(M,"maxIQRSamples",Infinity),U4a:C(M,"minIQRSamples",5),tdb:C(J,"useResourceTimingAPI",!1),NLb:C(J,"ignoreFirstByte",!0),Jsa:C(J,"mediaRequestAsyncLoadStart",sa.Jsa),v4b:C(J,"useXHROnLoadStart",!1),bna:C(P,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),S4:C(I,"connectTimeoutMilliseconds",8E3,500),pta:C(I,"noProgressTimeoutMilliseconds",8E3,500),o4b:C(J,"useOnLineApi",!1),Sbb:C(I,"timedTextDownloadRetryCountBeforeCdnSwitch",3),Gdc:C(I,"netflixRequestExpiryTimeout",0),m5b:C(J,"webkitDecodedFrameCountIncorrectlyReported",!1),sZb:C(I,"seekBackOnAudioTrackChangeMilliseconds",8E3),xUb:C(J,"pausePlaybackOnAudioSwitch",!0),bba:C(Z,H("supportedAudioTrackTypes"),[],void 0,1),S7:C(I,"initialLogFlushTimeout",5E3),w7a:C(L,"playdataPersistKey",ea.Lw?"unsentplaydatatest":"unsentplaydata"),Uwa:C(J,"sendPersistedPlaydata",!0),fVb:C(I,"playdataPersistIntervalMilliseconds",4E3),gec:C(I,"playdataSendDelayMilliseconds",1E4),Caa:C(J,"sendPlaydataBackupOnInit",!0),wPb:C(Z,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),N4a:C(J,"midplayEnabled",!0),p9:C(I,"midplayIntervalMilliseconds",3E5),O4a:C(P,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),C5:C(I,"downloadReportDenominator",0),ZCb:C(I,"downloadReportInterval",3E5),s3a:C(I,"logConfigApplyDenominator",0),FSa:C(ja,H("bookmarkByMovieId"),{}),TV:C(J,H("forceLimitedDurationLicense"),!1),YD:C(I,H("licenseRenewalRequestDelay"),0),wua:C(I,H("persistedReleaseDelay"),1E4),Occ:C(J,H("limitedDurationFlagOverride"),void 0),U9a:C(I,"safariPlayPauseWorkaroundDelay",100),x5b:C(I,"workaroundValueForSeekIssue",1200),oka:C(J,H("callEndOfStream"),sa.oka),JUb:C(J,"performRewindCheck",!0),cFb:C(J,"fatalOnUnexpectedSeeking",!0),bFb:C(J,"fatalOnUnexpectedSeeked",!0),H_b:C(J,H("setVideoElementSize")),pxb:C(J,H("clearVideoSrc"),!0),GVa:C(I,H("delayPlayPause"),0),Cp:C(J,H("useTypescriptEme"),!1),kdb:C(J,H("useEncryptedEvent"),!0),uV:C(L,H("drmPersistKey"),"unsentDrmData"),c8a:C(J,H("promiseBasedEme"),!1),nwb:C(J,"captureKeyStatusData",!1),K7:C(J,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),zSb:C(J,H("nudgeSourceBuffer"),!1),Kwa:C(M,H("seekDelta"),1),zY:C(J,H("preciseSeeking"),!1),HVb:C(J,H("preciseSeekingOnTwoCoreDevice"),!1),FVa:C(ja,H("delayErrorHandling")),gcb:C(J,"trackingLogEnabled",!1),hcb:C(function(Ua,$a){var Za;Za=ja(Ua,$a,void 0);Za && Object.entries(Za).forEach(function(cb){var Va;Va=ba(cb);cb=Va.next().value;Va=Va.next().value;"true" === Va?Za[cb]=!0:"false" === Va && (Za[cb]=!1);});return Za;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),yya:C(L,"trackingLogPath","/customerevents/track/debug"),M2b:C(P,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),il:C(L,"esn",""),AXa:C(L,"fesn",""),$Db:C(J,H("enablePerformanceLogging"),!1),IWa:C(J,H("enableEmeVerboseLogging"),!1),RDb:C(J,"enableLastChunkLogging",!1),appId:C(L,"appId","",Y),sessionId:C(L,"sessionId","",Y),uka:C(L,"cdnProxyUrl"),s4b:C(J,"usePlayReadyHeaderObject",!1),eYa:C(I,"forceXhrErrorResponseCode",void 0),rq:{Ddc:C(L,"mslApiPath","/msl/"),lec:C(L,"proxyPath",""),Kx:C(L,"uiVersion"),zba:C(L,"uiPlatform"),Tac:function(){return "0";},Tua:C(Z,"preferredLanguages",k.dCa,/^[a-zA-Z-]{2,5}$/,1),YFb:C(L,H("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),A1b:C(J,"supportPreviewContentPin",!0),B1b:C(J,"supportWatermarking",!0),i0b:C(J,"showAllSubDubTracks",!1),Lbc:C(J,H("failOnGuidMismatch"),!1)},U$:{enabled:C(J,"qcEnabled",!1),op:C(L,"qcPackageId","")},ht:C(J,"useRangeHeader",!1),CV:C(J,"enableMilestoneEventList",!0),nM:C(L,"authenticationType",ea.Lw?sa.nSa:sa.nM),mSa:C(ja,"authenticationKeyNames",(0,q.ac)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),M1b:C(L,"systemKeyWrapFormat"),aMb:C(J,"includeNetflixIdUserAuthData",!0),b0b:C(J,"shouldSendUserAuthData",!0),Xwa:C(J,"sendUserAuthIfRequired",sa.Xwa),Y_b:C(J,"shouldClearUserData",!1),vQ:C(J,"usesMsl",!0),IRb:C(J,"mslDeleteStore",!1),KRb:C(J,"mslPersistStore",!0),ryb:C(J,"correctNetworkForShortTitles",!0),BVb:C(J,"postplayHighInitBitrate",!1),G1b:C(J,"supportsUnequalizedDownloadables",!0),qVa:C(I,H("debugAseDenominator"),100),Z3:C(I,"aseAudioBufferSizeBytes",sa.Z3.da(y.Dv)),c4:C(I,"aseVideoBufferSizeBytes",sa.c4.da(y.Dv)),jx:C(I,"minInitVideoBitrate",560),Vsa:C(I,"minHCInitVideoBitrate",560),HA:C(I,"maxInitVideoBitrate",Infinity),IX:C(I,"minInitAudioBitrate",0),HX:C(I,"minHCInitAudioBitrate",0),tX:C(I,"maxInitAudioBitrate",65535),q9:C(I,"minAcceptableVideoBitrate",235),qI:C(I,"minRequiredBuffer",3E4),Bj:C(I,"minPrebufSize",7800),u9:C(I,"minCheckBufferingCompleteInterval",999999),Hva:C(Q,"rebufferingFactor",1),Cs:C(I,"maxBufferingTime",2600),iza:C(J,"useMaxPrebufSize",!0),cE:C(I,"maxPrebufSize",45E3),zsa:C(I,"maxRebufSize",Infinity),P7:C(S,"initialBitrateSelectionCurve",null),m1a:C(I,"initSelectionLowerBound",560),n1a:C(I,"initSelectionUpperBound",1050),hba:C(I,"throughputPercentForAudio",15),Ija:C(I,"bandwidthMargin",10),Jja:C(J,"bandwidthMarginContinuous",!1),Kja:C(S,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),gla:C(I,"conservBandwidthMargin",20),iya:C(J,"switchConfigBasedOnInSessionTput",!1),QU:C(I,"conservBandwidthMarginTputThreshold",0),hla:C(S,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),sbb:C(J,"switchAlgoBasedOnHistIQR",!1),PE:C(L,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),ysa:C(M,"maxPlayerStateToSwitchConfig",-1),Zra:C(L,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),Ida:C(Q,"IQRThreshold",.5),Wpa:C(L,"histIQRCalcToUse","simple"),Lu:C(I,"maxTotalBufferLevelPerSession",0),H5:C(J,"enableCombinedPlaygraphs",!0),I5:C(J,"enableDiscontiguousBuffering",!1),Gna:C(P,"forceImmediateTransitionTypeForTitles",[]),Fna:C(I,"forceImmediateTransitionExitZone",0),eza:C(J,"useBufferSizeLimiter",!1),hza:C(J,"useLegacyFragmentRounding",!1),vza:C(J,"waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!0),D0a:C(I,"highWatermarkLevel",3E4),$bb:C(I,"toStableThreshold",3E4),nba:C(I,"toUnstableThreshold",sa.nba.da(z.la)),Cxa:C(J,"skipBitrateInUpswitch",!0),Aza:C(I,"watermarkLevelForSkipStart",8E3),Qpa:C(I,"highStreamRetentionWindow",9E4),$ra:C(I,"lowStreamTransitionWindow",51E4),Spa:C(I,"highStreamRetentionWindowUp",3E5),csa:C(I,"lowStreamTransitionWindowUp",3E5),Rpa:C(I,"highStreamRetentionWindowDown",6E5),bsa:C(I,"lowStreamTransitionWindowDown",0),Ppa:C(Q,"highStreamInfeasibleBitrateFactor",.5),AA:C(I,"lowestBufForUpswitch",15E3),L8:C(I,"lockPeriodAfterDownswitch",15E3),esa:C(I,"lowWatermarkLevel",25E3),BA:C(I,"lowestWaterMarkLevel",2E4),fsa:C(J,"lowestWaterMarkLevelBufferRelaxed",!1),Isa:C(Q,"mediaRate",1),b9:C(I,"maxTrailingBufferLen",1E4),jU:C(I,"audioBufferTargetAvailableSize",262144),F_:C(I,"videoBufferTargetAvailableSize",1048576),v4a:C(I,"maxVideoTrailingBufferSize",8388608),d4a:C(I,"maxAudioTrailingBufferSize",393216),c6:C(Q,"fastUpswitchFactor",3),cna:C(Q,"fastDownswitchFactor",1),IA:C(I,"maxMediaBufferAllowed",24E4),Axa:C(J,"simulatePartialBlocks",!0),pab:C(J,"simulateBufferFull",!0),ila:C(J,"considerConnectTime",!1),fla:C(Q,"connectTimeMultiplier",1),z3a:C(I,"lowGradeModeEnterThreshold",12E4),A3a:C(I,"lowGradeModeExitThreshold",9E4),f4a:C(I,"maxDomainFailureWaitDuration",3E4),c4a:C(I,"maxAttemptsOnFailure",18),oXa:C(J,"exhaustAllLocationsForFailure",!0),l4a:C(I,"maxNetworkErrorsDuringBuffering",20),U8:C(I,"maxBufferingTimeAllowedWithNetworkError",12E4),wXa:C(I,"fastDomainSelectionBwThreshold",2E3),Fbb:C(I,"throughputProbingEnterThreshold",4E4),Gbb:C(I,"throughputProbingExitThreshold",34E3),n3a:C(I,"locationProbingTimeout",1E4),EXa:C(I,"finalLocationSelectionBwThreshold",1E4),Dbb:C(Q,"throughputHighConfidenceLevel",.75),Ebb:C(Q,"throughputLowConfidenceLevel",.4),OWa:C(J,"enablePerfBasedLocationSwitch",!1),dv:C(J,"probeServerWhenError",!0),bva:C(I,"probeRequestTimeoutMilliseconds",8E3),az:C(J,"allowSwitchback",!0),TI:C(I,"probeDetailDenominator",100),V8:C(I,"maxDelayToReportFailure",300),Lra:C(I,"locationStatisticsUpdateInterval",6E4),EUa:C(J,"countGapInBuffer",!1),tRa:C(J,"allowCallToStreamSelector",!0),NSa:C(I,"bufferThresholdForAbort",1E4),Asa:C(I,"maxResponsesInitialTput",6),J5:C(J,"enableInitialTputLogging",!1),zua:C(I,"pipelineScheduleTimeoutMs",2),JA:C(I,"maxPartialBuffersAtBufferingStart",2),Bsa:C(I,"maxStreamingSkew",4E3),wsa:C(I,"maxPendingBufferPercentage",10),x7:C(I,"headerRequestSize",4096),Sma:C(J,"estimateHeaderSize",!1),FX:C(I,"minBufferLenForHeaderDownloading",1E4),jZ:C(I,"reserveForSkipbackBufferMs",1E4),zta:C(I,"numExtraFragmentsAllowed",2),Sq:C(J,"pipelineEnabled",!1),yab:C(I,"socketReceiveBufferSize",0),g4:C(I,"audioSocketReceiveBufferSize",32768),AQ:C(I,"videoSocketReceiveBufferSize",65536),Npa:C(I,"headersSocketReceiveBufferSize",32768),Eba:C(I,"updatePtsIntervalMs",1E3),Vja:C(I,"bufferTraceDenominator",100),qM:C(I,"bufferLevelNotifyIntervalMs",2E3),kM:C(I,"aseReportDenominator",0),a4:C(I,"aseReportIntervalMs",3E5),EDb:C(J,"enableAbortTesting",!1),lsb:C(I,"abortRequestFrequency",8),$xa:C(I,"streamingStatusIntervalMs",2E3),YA:C(I,"prebufferTimeLimit",24E4),t9:C(I,"minBufferLevelForTrackSwitch",2E3),rua:C(I,"penaltyFactorForLongConnectTime",2),Xra:C(I,"longConnectTimeThreshold",200),Uia:C(I,"additionalBufferingLongConnectTime",2E3),Via:C(I,"additionalBufferingPerFailure",8E3),SY:C(I,"rebufferCheckDuration",6E4),LWa:C(J,"enableLookaheadHints",!1),w3a:C(I,"lookaheadFragments",2),Pz:C(J,"enableOCSideChannel",!0),y1:C(N,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),Ncb:C(J,"updateDrmRequestOnNetworkFailure",!1),EVa:C(J,"deferAseScheduling",!1),e4a:C(I,"maxDiffAudioVideoEndPtsMs",16E3),o5:C(I,"defaultHeaderCacheSize",4),n5:C(I,"defaultHeaderCacheDataPrefetchMs",8E3),xI:C(J,"neverWipeHeaderCache",!0),jta:C(I,"networkFailureResetWaitMs",2E3),ita:C(I,"networkFailureAbandonMs",6E4),a9:C(I,"maxThrottledNetworkFailures",3),gba:C(I,"throttledNetworkFailureThresholdMs",200),dsa:C(M,"lowThroughputThreshold",400),Xma:C(J,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),f5a:C(J,"mp4ParsingInNative",!1),Aab:C(J,"sourceBufferInOrderAppend",!0),AE:C(J,"requireAudioStreamToEncompassVideo",!0),sRa:C(J,"allowAudioToStreamPastVideo",!0),ti:C(J,"enableManagerDebugTraces",!1),M3a:C(I,"managerDebugMessageInterval",1E3),L3a:C(I,"managerDebugMessageCount",20),M5a:C(J,"notifyManifestCacheEom",!1),Uja:C(I,"bufferThresholdToSwitchToSingleConnMs",18E4),Tja:C(I,"bufferThresholdToSwitchToParallelConnMs",12E4),x$:C(I,"periodicHistoryPersistMs",3E5),saa:C(I,"saveVideoBitrateMs",18E4),JRa:C(J,"appendMediaRequestOnComplete",!0),Tba:C(J,"waitForDrmToAppendMedia",!1),m6:C(J,H("forceAppendHeadersAfterDrm"),!1),aXb:C(J,H("reappendRequestsOnSkip"),!1),PRb:C(I,"netIntrStoreWindow",36E3),mRb:C(I,"minNetIntrDuration",8E3),YEb:C(I,"fastHistoricBandwidthExpirationTime",10368E3),Mub:C(I,"bandwidthExpirationTime",5184E3),VEb:C(I,"failureExpirationTime",86400),nLb:C(I,"historyTimeOfDayGranularity",4),HEb:C(J,"expandDownloadTime",!1),yRb:C(I,"minimumMeasurementTime",500),xRb:C(I,"minimumMeasurementBytes",131072),d2b:C(I,"throughputMeasurementTimeout",2E3),pMb:C(I,"initThroughputMeasureDataSize",262144),e2b:C(L,"throughputPredictor","ewma"),c2b:C(I,"throughputMeasureWindow",5E3),h2b:C(I,"throughputWarmupTime",5E3),b2b:C(I,"throughputIQRMeasureWindow",5E3),gjb:C(I,"IQRBucketizerWindow",15E3),Vxb:C(I,"connectTimeHalflife",10),KYb:C(I,"responseTimeHalflife",10),mLb:C(I,"historicBandwidthUpdateInterval",2E3),wRb:C(I,"minimumBufferToStopProbing",1E4),Jwa:C(L,"secondThroughputEstimator","none"),b$a:C(M,"secondThroughputMeasureWindowInMs",Infinity),JDb:C(Z,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),oFb:C(N,"filterDefinitionOverrides",{}),LBb:C(L,"defaultFilter","throughput-ewma"),qZb:C(L,"secondaryFilter","none"),MBb:C(N,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),NX:C(J,"needMinimumNetworkConfidence",!0),Nja:C(J,"biasTowardHistoricalThroughput",!0),Lia:C(J,"addHeaderDataToNetworkMonitor",!1),Lxa:C(J,"startMonitorOnLoadStart",!1),fwa:C(J,"reportFailedRequestsToNetworkMonitor",!1),W8:C(M,"maxFastPlayBufferInMs",Infinity),tsa:C(M,"maxFastPlayBitThreshold",Infinity),fja:C(J,"appendFirstHeaderOnComplete",!0),Stb:C(L,"ase_stream_selector","optimized"),qqa:C(L,"initBitrateSelectorAlgorithm","default"),$ja:C(L,"bufferingSelectorAlgorithm","default"),rVa:C(L,"ase_ls_failure_simulation",""),Mla:C(J,"ase_dump_fragments",!1),Ola:C(I,"ase_location_history",0),Pla:C(I,"ase_throughput",0),tVa:C(J,"ase_simulate_verbose",!1),xVb:C(I,"pollingPeriod",150),kPb:C(I,"loadTimeMs",18E4),XPb:C(I,"marginTimeMs",1E4),koa:C(J,"getDeviceIdFromBindDevice",!1),Kia:C(J,"addFailedLogBlobsToQueue",!0),m3b:{"content-sampling":{Cs:C(I,"contentSamplingMaxBufferingTime",3E3),GP:C(L,"contentSamplingSelectStartingVMAFMethod","fallback"),$T:C(J,"contentSamplingActivateSelectStartingVMAF",!0),Qu:C(I,"contentSamplingMinStartingVideoVMAF",80),EX:C(I,"contentSamplingMinAcceptableVMAF",70),pI:C(I,"contentSamplingMinAllowedVmaf",60)},billboard:{jx:C(I,"billboardMinInitVideoBitrate",1050),HA:C(I,"billboardMaxInitVideoBitrate",null),Bj:C(I,"billboardMinPrebufSize",null),cE:C(I,"billboardMaxPrebufSize",null),Cs:C(I,"billboardMaxBufferingTime",null),JA:C(I,"billboardMaxPartialBuffersAtBufferingStart",null),BA:C(I,"billboardLowestWaterMarkLevel",6E3),AA:C(I,"billboardLowestBufForUpswitch",25E3),PE:C(L,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{jx:C(I,"preplayMinInitVideoBitrate",1050),HA:C(I,"preplayMaxInitVideoBitrate",null),Bj:C(I,"preplayMinPrebufSize",null),cE:C(I,"preplayMaxPrebufSize",null),Cs:C(I,"preplayMaxBufferingTime",null),JA:C(I,"preplayMaxPartialBuffersAtBufferingStart",null),BA:C(I,"preplayLowestWaterMarkLevel",6E3),AA:C(I,"preplayLowestBufForUpswitch",25E3)},embedded:{jx:C(I,"embeddedMinInitVideoBitrate",1050),HA:C(I,"embeddedMaxInitVideoBitrate",null),Bj:C(I,"embeddedMinPrebufSize",null),cE:C(I,"embeddedMaxPrebufSize",null),Cs:C(I,"embeddedMaxBufferingTime",null),JA:C(I,"embeddedMaxPartialBuffersAtBufferingStart",null),BA:C(I,"embeddedLowestWaterMarkLevel",6E3),AA:C(I,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{jx:C(I,"videoMerchBobHorizontalMinInitVideoBitrate",null),HA:C(I,"videoMerchBobHorizontalMaxInitVideoBitrate",null),Bj:C(I,"videoMerchBobHorizontalMinPrebufSize",null),cE:C(I,"videoMerchBobHorizontalMaxPrebufSize",null),Cs:C(I,"videoMerchBobHorizontalMaxBufferingTime",null),JA:C(I,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),BA:C(I,"videoMerchBobHorizontalLowestWaterMarkLevel",null),AA:C(I,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{jx:C(I,"miniModalHorizontalMinInitVideoBitrate",null),HA:C(I,"miniModalHorizontalMaxInitVideoBitrate",null),Bj:C(I,"miniModalHorizontalMinPrebufSize",null),cE:C(I,"miniModalHorizontalMaxPrebufSize",null),Cs:C(I,"miniModalHorizontalMaxBufferingTime",500),JA:C(I,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),BA:C(I,"miniModalHorizontalLowestWaterMarkLevel",null),AA:C(I,"miniModalHorizontalLowestBufForUpswitch",null)}},iEb:C(J,"enableVerbosePlaydelayLogging",!1),cEb:C(J,"enableSeamless",!1),Vpa:C(I,"hindsightDenominator",0),Upa:C(I,"hindsightDebugDenominator",0),B7:C(N,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),DV:C(J,"enableSessionHistoryReport",!1),Ama:C(I,"earlyStageEstimatePeriod",1E4),W2a:C(I,"lateStageEstimatePeriod",3E4),Y8:C(I,"maxNumSessionHistoryStored",30),z9:C(I,"minSessionHistoryDuration",3E4),dx:C(I,"maxActiveRequestsPerSession",3),S8:C(I,"maxActiveRequestsSABCell100",2),Gra:C(J,"limitAudioDiscountByMaxAudioBitrate",!0),je:C(N,"browserInfo",{}),Bvb:C(I,H("busyGracePeriod"),199),NZb:C(J,H("sendTransitionLogblob"),!0),uDb:C(J,H("editVideoFragments"),!0),F5:C(J,H("earlyAppendSingleChildBranch"),!0),bMb:C(J,H("includeSegmentInfoOnLogblobs"),!0),NEb:C(J,"exposeTestData",!1),MEb:C(J,H("exposeErrorData"),!1),Qla:C(J,"declareBufferingCompleteAtSegmentEnd",!0),GG:C(J,"applyProfileTimestampOffset",!1),qm:C(J,"applyProfileStreamingOffset",!1),xtb:C(J,H("allowSmallSeekDelta"),!1),w0b:C(I,H("smallSeekDeltaThresholdMilliseconds"),t.Q1),HDb:C(J,"enableCDMAttestedDescriptors",!1),gaa:C(J,"requireDownloadDataAtBuffering",!1),haa:C(J,"requireSetupConnectionDuringBuffering",!1),Kva:C(J,"recordFirstFragmentOnSubBranchCreate",!1),ovb:C(J,"branchingAudioTrackFrameDropSmallSeekFix",!0),cYa:C(J,"forceL3WidevineCdm",!1),odb:C(J,"useMobileVMAF",!1),NVa:C(L,"desiredVMAFTypeMobile","phone_plus_lts"),OVa:C(L,"desiredVMAFTypeNonMobile","plus_lts"),$T:C(J,"activateSelectStartingVMAF",!1),Qu:C(I,"minStartingVideoVMAF",1),EX:C(I,"minAcceptableVMAF",1),pI:C(I,"minAllowedVmaf",1),Btb:C(J,"alwaysNotifyEOSForPlaygraph",!0),eN:C(J,"enableNewAse",!0),B_:C(J,"useNewApi",!0),NDb:C(J,"enableHudsonFieldTest",!1),CLb:C(Z,"hudsonTitles",["81127954","70125931","80158148"]),rQb:C(I,"maxPartialBuffersAtHudson",1),FSb:C(I,"numberOfChunksPerSegment",4),Q1b:C(I,"targetContentLatency",1E4),R1b:C(I,"targetLongContentLatency",3E4),zRb:C(I,"minimumTimeDelay",1),Gma:C(J,"enableWsslEstimate",!1),T8:C(I,"maxAllowedOutstandingRequests",4),fM:C(J,"alwaysRunUnderflowTimer",!0),Wsa:C(I,"minStreamableConcurrencyWindow",3E3),Xxa:C(Q,"streamableConcurrencyFactor",.3),CU:C(I,"bufferingConcurrencyWindow",7800),q0b:C(J,"singleStreamablePerBranch",!0),L5:C(J,"enableResolutionVMAFStreamFilter",!1),laa:C(N,"resolutionVMAFCappingRuleList",{}),tua:C(M,"percentCapTitlesForResolutionVMAFStreamFilter",100),DCb:C(J,"disableSkipping",!1),Gba:C(J,"useHLSPlayer",sa.Gba),fza:C(J,H("useExitZones"),!0),vYb:C(J,"requestSegmentVmaf",!1),ZO:C(N,"perFragmentVMAFConfig",{enabled:!1})};Ka=!0;b.dla=function(Ua){var $a,Za,cb;$a=d.pa.get(B.md).id;if(0 < b.config.s3a && 0 === $a % b.config.s3a)try{Za=d.pa.get(w.ln);cb=d.pa.get(v.iy).$t("config","info",{params:Ua});Za.Jc(cb);}catch(Va){d.log.error("Failed to log config$apply",Va);}nb._cad_global.config=b.config;(0,h.jb)(Ua);Ua && (pa=(0,q.ac)({},Ua,{sO:!0}),(0,q.ac)(pa,R,{sO:!0}),G(la,b.config),pa.istestaccount && d.log.trace("Config applied for",ya(Ka?pa:Ua)),Ka=!1);};(0,b.dla)(pa);};b.Qxb=function(D,F){return (0,u.Ue)(D) && "%" == D[D.length - 1]?(0,p.Vj)(parseFloat(D) * F / 100):D | 0;};b.jUa=function(D){var F;if(D){D=(0,q.ac)({},b.config);F={GI:b.config.p6a};return (0,q.ac)(D,F,{TA:!0});}return b.config;};b.Rxb=function(D){var F;F=(0,q.ac)({},b.config);D=c(D);return (0,q.ac)(F,D,{TA:!0});};b.ela=function(D){D=c(D);return (0,q.ac)({},a(184)(D),{TA:!0});};b.iUa=function(D,F,G){G=! !G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));D={ix:D?b.config.jRb:b.config.ix,OA:D?b.config.pRb:G?b.config.rRb:b.config.OA,F5:!F};return (0,q.ac)({},a(184)(D),{TA:!0});};b.Txb=c;b.Sxb=f;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Pe=b.hb=b.Cf=b.Tb=b.ea=b.Lda=b.MF=b.Fa=void 0;(function(c){c.l3a="loadedtracks";c.k3a="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.oq="currenttimechanged";c.Fcb="unthrottledcurrenttimechanged";c.Yja="bufferedtimechanged";c.tWa="durationchanged";c.Jdb="videosizechanged";c.Z6a="pausedchanged";c.Lua="playingchanged";c.YWa="endedchanged";c.sM="busychanged";c.i4="audiotracklistchanged";c.rm="audiotrackchanged";c.yv="timedtexttracklistchanged";c.$l="timedtexttrackchanged";c.s_="trickplayframeschanged";c.k5a="mutedchanged";c.Odb="volumechanged";c.vxa="showsubtitle";c.Xva="removesubtitle";c.l5b="watermark";c.Yqa="isReadyToTransition";c.WN="inactivated";c.D1a="internalPlaybackError";c.yZb="segmentmaploaded";c.zZb="segmentpresenting";c.pSa="autoplaywasallowed";c.k4="autoplaywasblocked";})(b.Fa || (b.Fa={}));(b.MF || (b.MF={})).sZ="playgraphsegmenttransition";b.Lda=a;a.q$a="serverTimeChanged";(function(c){c.jM="aseReport";c.Cja="autoplayWasAllowed";c.oi="autoplayWasBlocked";c.kz="bufferUnderrun";c.closed="closed";c.qg="closing";c.oq="currentTimeChanged";c.gH="downloadComplete";c.WN="inactivated";c.Y2a="licenseAdded";c.kX="licensed";c.mX="locationSelected";c.ksa="manifestClosing";c.hI="manifestPresenting";c.h9="mediaBufferChanged";c.P9="nextBranchingSegmentChosen";c.Uq="playbackStart";c.Pm="playbackReady";c.Gk="repositioned";c.$I="repositioning";c.V9a="safePlayRequested";c.kJ="segmentPresenting";c.wZ="serverSwitch";c.lab="shouldUpdateVideoDiagInfo";c.fQ="subtitleError";c.oya="throttledMediaTimeChanged";c.Gcb="unthrottledMediaTimeChanged";c.kQ="timedTextRebuffer";c.yv="timedTextTrackListChanged";c.s_="trickPlayFramesChanged";c.Yya="updateNextBranchingSegmentWeights";c.z4b="userInitiatedPause";c.xdb="userInitiatedResume";c.icb="tracksHydrated";})(b.ea || (b.ea={}));(function(c){c[c.KK=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.te=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.Tb || (b.Tb={}));(function(c){c[c.te=1]="NORMAL";c[c.xd=2]="BUFFERING";c[c.qLa=3]="STALLED";})(b.Cf || (b.Cf={}));(function(c){c[c.Uf=1]="WAITING";c[c.Lc=2]="PLAYING";c[c.qh=3]="PAUSED";c[c.xr=4]="ENDED";})(b.hb || (b.hb={}));(function(c){c[c.fy=0]="INITIAL";c[c.iC=1]="SEEK";c[c.a2=2]="TRACK_CHANGED";c[c.SK=3]="SEGMENT_CHANGED";c[c.Q0=4]="FORCE_REBUFFER";})(b.Pe || (b.Pe={}));},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(351),b);},function(r,b,a){b=a(116);b.NBb=0;r.exports={EventEmitter:b,gi:a(746)};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.kd=b.Cqa=b.uA=b.Ue=b.fra=b.fNb=b.UMb=b.Uqa=b.tA=b.U1a=b.Ea=b.cra=b.isArray=b.q2a=b.Rh=b.Zc=b.is=void 0;r=a(199);b.is=r.oF;b.Zc=function(c){return b.is.Ng(c);};b.Rh=function(c){return b.is.gM(c);};b.q2a=function(c){return b.is.zia(c);};b.isArray=function(c){return b.is.bz(c);};b.cra=function(c){return b.is.zRa(c);};b.Ea=function(c,f,k){return b.is.Oi(c,f,k);};b.U1a=function(c,f,k){return b.is.dja(c,f,k);};b.tA=function(c,f,k){return b.is.dU(c,f,k);};b.Uqa=function(c){return b.is.WT(c);};b.UMb=function(c){return b.is.jsb(c);};b.fNb=function(c){return b.is.ksb(c);};b.fra=function(c){return b.is.ARa(c);};b.Ue=function(c){return b.is.$p(c);};b.uA=function(c){return b.is.Bn(c);};b.Cqa=function(c){return b.is.VT(c);};b.kd=function(c){return b.is.K3(c);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.md="ApplicationSymbol";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ia=!1;},function(r,b){function a(c,f){var k,m,d,g,h;if(c && f){k=Math;m=k.abs;g=Math.abs(c);for(d=Math.abs(f);d;){h=d;d=g % d;g=h;}c=m.call(k,c * f / g);}else c=0;return c;}Object.defineProperties(b,{__esModule:{value:!0}});b.O=void 0;r=(function(){function c(f,k){"object" === typeof f?(this.mc=f.pc,this.ob=f.W):(this.mc=f,this.ob=k);isFinite(this.mc) || (this.ob=1);}c.compare=function(f,k){return f.Kl(k);};c.abs=function(f){return new c(Math.abs(f.mc),f.ob);};c.Na=function(f){return 0 === f?c.eb:new c(f,1E3);};c.k_=function(f,k){return Math.floor(1E3 * f / k);};c.dta=function(f,k){return Math.floor(f * k / 1E3);};c.max=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(m,d){return m.greaterThan(d)?m:d;});};c.min=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(m,d){return m.lessThan(d)?m:d;});};Object.defineProperties(c.prototype,{pc:{get:function(){return this.mc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{W:{get:function(){return this.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return c.k_(this.mc,this.ob);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{NI:{get:function(){return 1E3 * this.mc / this.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{fJ:{get:function(){var f;f=this.NI;return 0 > f?Math.ceil(f):Math.floor(f);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Bh:{get:function(){return this.mc / this.ob;},enumerable:!1,configurable:!0}});c.prototype.eg=function(f){f/=this.ob;return new c(Math.floor(this.mc * f),Math.floor(this.ob * f));};c.prototype.add=function(f){var k;if(this.ob === f.ob)return new c(this.mc + f.mc,this.ob);k=a(this.ob,f.ob);return new c(this.mc * k / this.ob + f.mc * k / f.ob,k);};c.prototype.Ka=function(f){var k;if(this.ob === f.ob)return new c(this.mc - f.mc,this.ob);k=a(this.ob,f.ob);return new c(this.mc * k / this.ob - f.mc * k / f.ob,k);};c.prototype.vI=function(f){return new c(this.mc * f,this.ob);};c.prototype.Ml=function(f){var k;if("number" === typeof f){k=a(this.mc,f);return k !== this.mc?this.eg(k / this.mc * this.ob).Ml(f):new c(this.mc / f,this.ob);}if(this.ob === f.ob)return this.mc / f.mc;k=a(this.ob,f.ob);return this.mc * k / this.ob / (f.mc * k / f.ob);};c.prototype.TVa=function(f){var k;if(this.ob === f.ob)return new c(Math.abs(this.mc - f.mc),this.ob);k=a(this.ob,f.ob);return new c(Math.abs(this.mc * k / this.ob - f.mc * k / f.ob),k);};c.prototype.Jva=function(){return new c(this.ob,this.mc);};c.prototype.compare=function(f,k){var m;if(this.ob === k.ob)return f(this.mc,k.mc);m=a(this.ob,k.ob);return f(this.mc * m / this.ob,k.mc * m / k.ob);};c.prototype.Kl=function(f){var k;if(this.ob === f.ob)return this.pc === f.mc?0:this.mc - f.mc;k=a(this.ob,f.ob);return this.mc * k / this.ob - f.mc * k / f.ob;};c.prototype.equal=function(f){return this.compare(function(k,m){return k === m;},f);};c.prototype.V9=function(f){return this.compare(function(k,m){return k !== m;},f);};c.prototype.lessThan=function(f){return this.compare(function(k,m){return k < m;},f);};c.prototype.greaterThan=function(f){return this.compare(function(k,m){return k > m;},f);};c.prototype.mO=function(f){return this.compare(function(k,m){return k <= m;},f);};c.prototype.ms=function(f){return this.compare(function(k,m){return k >= m;},f);};c.prototype.isFinite=function(){return ! !this.ob && isFinite(this.mc);};c.prototype.i7=function(f){return a(this.W,f);};c.prototype.toJSON=function(){return {ticks:this.mc,timescale:this.ob};};c.prototype.toString=function(){return this.mc + "/" + this.ob;};c.prototype.$d=function(){return this.mc + "/" + this.ob + " (" + this.U + "ms)";};c.eb=new c(0,1E3);c.ox=new c(1,1E3);c.ND=new c(Infinity,1);return c;})();b.O=r;},function(r,b,a){function c(f,k){return b.Po.assert(f,k);}Object.defineProperty(b,"__esModule",{value:!0});b.wBb=b.Lla=b.pBb=b.tBb=b.PM=b.cV=b.sBb=b.uBb=b.QM=b.pVa=b.rBb=b.qBb=b.jb=b.Po=b.vBb=b.Oeb=void 0;r=a(8);a=a(97);b.Oeb=function(){c(!1);};b.vBb=!0;b.Po=r.pa.get(a.Ev);b.jb=c;b.qBb=function(f,k){return b.Po.Vtb(f,k);};b.rBb=function(f,k){return b.Po.Wtb(f,k);};b.pVa=function(f,k){return b.Po.d4(f,k);};b.QM=function(f,k){return b.Po.bub(f,k);};b.uBb=function(f,k){return b.Po.$tb(f,k);};b.sBb=function(f,k){return b.Po.qja(f,k);};b.cV=function(f,k){return b.Po.Ytb(f,k);};b.PM=function(f,k){return b.Po.aub(f,k);};b.tBb=function(f,k){return b.Po.Ztb(f,k);};b.pBb=function(f,k){return b.Po.Utb(f,k);};b.Lla=function(f,k){return b.Po.Xtb(f,k);};b.wBb=function(){return b.Po.JMb();};},function(r,b,a){function c(){c=Object.assign || (function(C){for(var H,K=1,M=arguments.length;K < M;K++){H=arguments[K];for(var I in H){Object.prototype.hasOwnProperty.call(H,I) && (C[I]=H[I]);}}return C;});return c.apply(this,arguments);}function f(C,H){f=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(K,M){K.__proto__=M;}) || (function(K,M){for(var I in M){M.hasOwnProperty(I) && (K[I]=M[I]);}});return f(C,H);}function k(C,H){function K(){this.constructor=C;}f(C,H);C.prototype=null === H?Object.create(H):(K.prototype=H.prototype,new K());}function m(C,H){var K,M,I;K={};for(M in C){Object.prototype.hasOwnProperty.call(C,M) && 0 > H.indexOf(M) && (K[M]=C[M]);}if(null != C && "function" === typeof Object.getOwnPropertySymbols){I=0;for(M=Object.getOwnPropertySymbols(C);I < M.length;I++){0 > H.indexOf(M[I]) && Object.prototype.propertyIsEnumerable.call(C,M[I]) && (K[M[I]]=C[M[I]]);}}return K;}function d(C,H,K,M){var I,Q,L;I=arguments.length;Q=3 > I?H:null === M?M=Object.getOwnPropertyDescriptor(H,K):M;if("object" === typeof Reflect && "function" === typeof Reflect.cs)Q=Reflect.cs(C,H,K,M);else for(var J=C.length - 1;0 <= J;J--){if(L=C[J])Q=(3 > I?L(Q):3 < I?L(H,K,Q):L(H,K)) || Q;}return (3 < I && Q && Object.defineProperty(H,K,Q),Q);}function g(C,H){return function(K,M){H(K,M,C);};}function h(C,H){if("object" === typeof Reflect && "function" === typeof Reflect.Ic)return Reflect.Ic(C,H);}function l(C,H,K,M){function I(Q){return Q instanceof K?Q:new K(function(L){L(Q);});}return new (K || (K=Promise))(function(Q,L){function J(P){try{O(M.next(P));}catch(S){L(S);}}function N(P){try{O(M["throw"](P));}catch(S){L(S);}}function O(P){P.done?Q(P.value):I(P.value).then(J,N);}O((M=M.apply(C,H || [])).next());});}function n(C,H){var I,Q,L,J,N;function K(O){return function(P){return M([O,P]);};}function M(O){if(Q)throw new TypeError("Generator is already executing.");for(;I;){try{if((Q=1,L && (J=O[0] & 2?L["return"]:O[0]?L["throw"] || ((J=L["return"]) && J.call(L),0):L.next) && !(J=J.call(L,O[1])).done))return J;if((L=0,J))O=[O[0] & 2,J.value];switch(O[0]){case 0:case 1:J=O;break;case 4:return (I.label++,{value:O[1],done:!1});case 5:I.label++;L=O[1];O=[0];continue;case 7:O=I.bo.pop();I.$m.pop();continue;default:if(!(J=I.$m,J=0 < J.length && J[J.length - 1]) && (6 === O[0] || 2 === O[0])){I=0;continue;}if(3 === O[0] && (!J || O[1] > J[0] && O[1] < J[3]))I.label=O[1];else if(6 === O[0] && I.label < J[1])(I.label=J[1],J=O);else if(J && I.label < J[2])(I.label=J[2],I.bo.push(O));else {J[2] && I.bo.pop();I.$m.pop();continue;}}O=H.call(C,I);}catch(P){O=[6,P];L=0;}finally{Q=J=0;}}if(O[0] & 5)throw O[1];return {value:O[0]?O[1]:void 0,done:!0};}I={label:0,Ac:function(){if(J[0] & 1)throw J[1];return J[1];},$m:[],bo:[]};return (N={next:K(0),"throw":K(1),"return":K(2)},"function" === typeof Symbol && (N[Symbol.iterator]=function(){return this;}),N);}function q(C,H,K,M){void 0 === M && (M=K);C[M]=H[K];}function p(C,H){for(var K in C){"default" === K || H.hasOwnProperty(K) || (H[K]=C[K]);}}function u(C){var H,K,M;H="function" === typeof Symbol && Symbol.iterator;K=H && C[H];M=0;if(K)return K.call(C);if(C && "number" === typeof C.length)return {next:function(){C && M >= C.length && (C=void 0);return {value:C && C[M++],done:!C};}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.");}function t(C,H){var K,M,I;K="function" === typeof Symbol && C[Symbol.iterator];if(!K)return C;C=K.call(C);I=[];try{for(;(void 0 === H || 0 < H--) && !(M=C.next()).done;){I.push(M.value);}}catch(L){var Q;Q={error:L};}finally{try{M && !M.done && (K=C["return"]) && K.call(C);}finally{if(Q)throw Q.error;}}return I;}function w(){for(var C=[],H=0;H < arguments.length;H++){C=C.concat(t(arguments[H]));}return C;}function v(){var M;for(var C=0,H=0,K=arguments.length;H < K;H++){C+=arguments[H].length;}C=Array(C);M=0;for(H=0;H < K;H++){for(var I=arguments[H],Q=0,L=I.length;Q < L;(Q++,M++)){C[M]=I[Q];}}return C;}function x(C){return this instanceof x?(this.VE=C,this):new x(C);}function y(C,H,K){var N,O,P;function M(S){N[S] && (O[S]=function(U){return new Promise(function(Z,ja){1 < P.push([S,U,Z,ja]) || I(S,U);});});}function I(S,U){var Z;try{Z=N[S](U);Z.value instanceof x?Promise.resolve(Z.value.VE).then(Q,L):J(P[0][2],Z);}catch(ja){J(P[0][3],ja);}}function Q(S){I("next",S);}function L(S){I("throw",S);}function J(S,U){(S(U),P.shift(),P.length) && I(P[0][0],P[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");N=K.apply(C,H || []);P=[];return (O={},M("next"),M("throw"),M("return"),O[Symbol.asyncIterator]=function(){return this;},O);}function z(C){var K,M;function H(I,Q){K[I]=C[I]?function(L){return (M=!M)?{value:x(C[I](L)),done:"return" === I}:Q?Q(L):L;}:Q;}return (K={},H("next"),H("throw",function(I){throw I;}),H("return"),K[Symbol.iterator]=function(){return this;},K);}function A(C){var M,I;function H(Q){I[Q]=C[Q] && (function(L){return new Promise(function(J,N){L=C[Q](L);K(J,N,L.done,L.value);});});}function K(Q,L,J,N){Promise.resolve(N).then(function(O){Q({value:O,done:J});},L);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");M=C[Symbol.asyncIterator];return M?M.call(C):(C="function" === typeof u?u(C):C[Symbol.iterator](),I={},H("next"),H("throw"),H("return"),I[Symbol.asyncIterator]=function(){return this;},I);}function B(C,H){Object.defineProperty?Object.defineProperty(C,"raw",{value:H}):C.raw=H;return C;}function E(C){var H;if(C && C.__esModule)return C;H={};if(null != C)for(var K in C){Object.hasOwnProperty.call(C,K) && (H[K]=C[K]);}H.default=C;return H;}function D(C){return C && C.__esModule?C:{default:C};}function F(C,H){if(!H.has(C))throw new TypeError("attempted to get private field on non-instance");return H.get(C);}function G(C,H,K){if(!H.has(C))throw new TypeError("attempted to set private field on non-instance");H.set(C,K);return K;}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return g;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return l;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return q;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return u;});a.d(b,"__read",function(){return t;});a.d(b,"__spread",function(){return w;});a.d(b,"__spreadArrays",function(){return v;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return E;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});},function(r,b,a){var c,f,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.DUa=b.fYa=b.Yo=b.Yf=b.wd=b.ax=b.trim=b.GW=b.fbb=b.uva=b.jUb=b.Ie=b.WRa=b.jTa=b.ac=b.ve=void 0;c=a(22);f=a(30);k=a(11);m=a(18);b.ve=function(d,g){for(var h in d){d.hasOwnProperty(h) && g(h,d[h]);}};b.ac=b.ac || (function(d,g,h){var l,n,q;if(g)if(h){l=h.sO;n=h.prefix;q=h.TA;(0,b.ve)(g,function(p,u){if(!q || (0,f.Zc)(u))d[(n || "") + (l?p.toLowerCase():p)]=u;});}else (0,b.ve)(g,function(p,u){d[p]=u;});return d;});b.jTa=function(d,g,h,l){var n;if(d){n=d[g];(0,m.kd)(n) && (h=n.apply(d,k.slice.call(arguments,3)));}return h;};b.WRa=function(d){for(var g={},h=d.length;h--;){g[d[h]]=!0;}return g;};b.Ie=b.Ie || (function(d){return parseInt(d,10);});b.jUb=function(d){return (/^true$/i).test(d);};b.uva=function(d,g){return (0,k.Vj)(d + (0,k.xF)() * (g - d));};b.fbb=function(d){return JSON.stringify(d,null,"  ");};b.GW=(function(){var g,h;function d(l){(0,c.jb)(void 0 !== g[l]);return g[l];}g={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};h=/[&'"<>]/g;return function(l){return l.replace(h,d);};})();b.trim=(function(){var d;d=/^\s+|\s+$/gm;return function(g){return g.replace(d,"");};})();b.ax=function(d){return Array.isArray(d)?d:[d];};b.wd=b.wd || (function(d){var g,h,l;if(d){g=d.stack;h=d.number;l=d.message;l || (l="" + d);g?(d="" + g,0 != d.indexOf(l) && (d=l + "\n" + d)):d=l;h && (d+="\nnumber:" + h);return d;}});b.Yf=function(d){return (0,m.Ea)(d)?d.toFixed(0):"";};b.Yo=function(d){return (0,m.Ea)(d)?(d / 1E3).toFixed(0):"";};b.fYa=function(d){return (0,m.Ea)(d)?d.toFixed():"";};b.DUa=function(d){for(var g=[],h=0;h < d.length;h++){g[h]=d[h];}return g;};},function(r,b,a){var f;function c(k){return k.filter(function(m,d){return k.indexOf(m) === d;});}Object.defineProperties(b,{__esModule:{value:!0}});b.U9=b.rKb=b.syb=b.flatten=b.S4a=b.Dxb=b.Y3=b.Ot=b.URa=b.RRa=b.SRa=b.fq=b.TRa=b.ie=void 0;f=a(2);b.ie=function(k,m){for(var d=0;d < k.length;d++){if(m(k[d],d,k))return k[d];}};b.TRa=function(k,m){for(var d=k.length - 1;0 <= d;--d){if(m(k[d],d,k))return k[d];}};b.fq=function(k,m){var d;d=-1;return k.some(function(g,h,l){d=h;return m(g,h,l);})?d:-1;};b.SRa=function(k,m){for(var d=k.length - 1;0 <= d;d--){if(m(k[d],d,k))return d;}return -1;};b.RRa=c;b.URa=function(k,m){m=k.indexOf(m);if(-1 === m)return !1;k.splice(m,1);return !0;};b.Ot=function(k,m,d){return d?k.filter(function(g){return !m.some(function(h){return d(g,h);});}):k.filter(function(g){return -1 === m.indexOf(g);});};b.Y3=function(k,m){return c(k.concat(m));};b.Dxb=function(k){return function(m,d){return k(m) - k(d);};};b.S4a=function(k){return function(m,d){return k(m) < k(d)?m:d;};};b.flatten=function(k){var m;return (m=[]).concat.apply(m,f.__spread(k));};b.syb=function(k,m){void 0 === m && (m=function(d){return d;});return k.reduce(function(d,g){g=m(g);return (void 0 === d[g]?d[g]=1:++d[g],d);},{});};b.rKb=function(k,m){return k.reduce(function(d,g){var h;h=m(g);return (void 0 === d[h]?d[h]=[g]:d[h].push(g),d);},{});};b.U9=function(k){return null !== k && void 0 !== k;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zx=b.pNa=b.Emb=b.Tj=b.ue=b.pj=b.Cv=b.Xj=void 0;(function(a){a[a.Audio=0]="Audio";a[a.iNa=1]="Video";})(b.Xj || (b.Xj={}));(function(a){a[a.Fv=0]="Default";a[a.ly=1]="Microsoft";})(b.Cv || (b.Cv={}));(function(a){a[a.Fv=0]="Default";a[a.Sca=1]="Cast";a[a.iK=2]="Chrome";a[a.ly=3]="Microsoft";})(b.pj || (b.pj={}));(function(a){a[a.xS=0]="SD";a[a.U0=1]="HD";a[a.XK=2]="UHD";a[a.qt=3]="DV";a[a.ey=4]="HDR10";a[a.PB=5]="AVCHigh";a[a.nC=6]="VP9";a[a.yl=7]="AV1";})(b.ue || (b.ue={}));(function(a){a[a.rF=0]="Level_1_4";a[a.Kv=1]="Level_2_2";})(b.Tj || (b.Tj={}));b.Emb=function(){};(function(a){a[a.T9b=0]="Platform";a[a.H6b=1]="CurrentTitle";})(b.pNa || (b.pNa={}));b.Zx="DeviceCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ig="IsTypeSymbol";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={g6b:{Tv:0,f$b:1,name:["STARTUP","STEADY"]},V0:{Gh:0,e$b:1,Amb:2,name:["STARTING","STABLE","UNSTABLE"]},Wa:{Xb:0,Pb:1,name:["AUDIO","VIDEO"]},zl:{Xb:0,Pb:1,name:["AUDIO","VIDEO"]},Fh:{URL:0,OF:1,LOCATION:2,oy:3,name:["URL","SERVER","LOCATION","NETWORK"]},Sf:{HAVE_NOTHING:0,WB:1,dy:2,uK:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},uy:{N5b:0,K7b:1,K9b:2,T8b:3,s9b:4,H$b:5,M7b:6,s8b:7,Tv:8,Rf:9,Iea:10,llb:11,Cca:12,njb:13,mjb:14,Tlb:15,Slb:16,rjb:17,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded").split(" ")},m7b:{oy:0,J6b:1,name:["NETWORK","DECODE"]},c$b:{L6b:"delayedSeamless",W7b:"hideLongTransition"}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jg="UtilitiesSymbol";},function(r,b,a){var m,d;function c(g){return null !== g && void 0 !== g;}function f(g){return typeof g == b.sMa;}function k(g,h,l){var n,q,p;if(h)if(l){n=l.sO;q=l.prefix;p=l.TA;(0,d.ve)(h,function(u,t){if(!p || c(t))g[(q || "") + (n?u.toLowerCase():u)]=t;});}else (0,d.ve)(h,function(u,t){g[u]=t;});return g;}Object.defineProperty(b,"__esModule",{value:!0});b.M=b.wd=b.GW=b.qN=b.ZG=b.createElement=b.Vt=b.VRa=b.M4=b.SP=b.ac=b.Jp=b.Ie=b.uA=b.Ue=b.Rh=b.Zc=b.rMa=b.rmb=b.smb=b.sMa=b.ZE=b.Yba=b.mt=b.JQ=b.IQ=b.Pk=b.n1=b.wF=b.xF=b.Ip=b.wo=b.Vj=b.lea=b.$B=b.kK=b.skb=b.HF=b.cm=b.Al=void 0;m=a(11);d=a(24);b.Al=function(){};b.cm=1E3;b.HF=Object.create;b.skb=Object.keys;b.kK=Date.now;b.$B=Math.floor;b.lea=Math.ceil;b.Vj=Math.round;b.wo=Math.max;b.Ip=Math.min;b.xF=Math.random;b.wF=Math.abs;b.n1=Math.pow;b.Pk="$attributes";b.IQ="$children";b.JQ="$name";b.mt="$text";b.Yba="$parent";b.ZE="$sibling";b.sMa="string";b.smb="number";b.rmb="function";b.rMa="object";b.Zc=c;b.Rh=function(g){return typeof g == b.rMa;};b.Ue=f;b.uA=function(g){return f(g) && g;};b.Ie=function(g){return parseInt(g,10);};b.Jp=function(g,h,l){return g >= h?g <= l?g:l:h;};b.ac=k;b.SP=function(g){return k({},g);};b.M4=function(g){var n;for(var h=0;h < arguments.length;++h){;}h=0;for(var l=arguments.length;h < l;){n=arguments[h++];if(c(n))return n;}};b.VRa=function(g,h){for(var l,n=!0,q;n;){for((n=!1,l=g.length);--l;){q=g[l];q[h] < g[l - 1][h] && (g[l]=g[l - 1],g[l - 1]=q,n=!0);}}};b.Vt=function(g,h){if(g.length == h.length){for(var l=g.length;l--;){if(g[l] != h[l])return !1;}return !0;}return !1;};b.createElement=function(g,h,l,n){var q;q=m.Be.createElement(g);h && (q.style.cssText=h);l && (q.innerHTML=l);n && (0,d.ve)(n,function(p,u){q.setAttribute(p,u);});return q;};b.ZG=function(g){var h;h="";(0,d.ve)(g,function(l,n){h+=(h?";":"") + l + ":" + n;});return h;};b.qN=function(g,h,l){var n;if(g / h > l){n=(0,b.Vj)(h * l);g=h;}else (n=g,g=(0,b.Vj)(g / l));return {width:n,height:g};};b.GW=(function(){var h,l;function g(n){return h[n];}h={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};l=/[&'"<>]/g;return function(n){return n.replace(l,g);};})();b.wd=function(g){var h,l;if(g){h=g.stack;l=g.number;g="" + g;h?(h="" + h,0 != h.indexOf(g) && (h=g + "\n" + h)):h=g;l && (h+="\nnumber:" + l);return h;}};b.M={em:1001,Qk:1003,Lhb:1701,ODa:1713,Mhb:1715,Khb:1721,R0:1723};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oh="AsyncComponentLoaderSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(146);b.ia=!1;r=(function(){function f(k,m,d,g,h){this.na=k;this.type=m;this.byteOffset=d;this.byteLength=g;this.parent=h;this.Xa={};this.eo=g;}f.Mn=function(k,m){var g,l;function d(n){n && n.Mn && (n=n.Mn(m),n.length && (g=g.concat(n)));}g=[];k.type === m && g.push(k);if(k.Xa)for(var h in k.Xa){l=k.Xa[h];Array.isArray(l) && l.forEach(d);}return g;};f.Mt=function(k,m){void 0 === k.Xa[m.type] && (k.Xa[m.type]=[]);k.Xa[m.type].push(m);};f.Nl=function(k,m){return f.Mn(k,m)[0];};Object.defineProperties(f.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{u:{get:function(){return this.na;},enumerable:!0,configurable:!0}});f.prototype.zc=function(){var k;k=this.na.Ca();this.version=k >> 24;this.flags=k & 16777215;};f.prototype.Mt=function(k){f.Mt(this,k);};f.prototype.Mn=function(k){return f.Mn(this,k);};f.prototype.Nl=function(k){return f.Nl(this,k);};f.prototype.parse=function(){return !0;};f.prototype.ju=function(){return !0;};f.prototype.ai=function(k){if((k=this.Xa[k]) && Array.isArray(k) && 1 === k.length)return k[0];};f.prototype.Je=function(k,m){m=void 0 === m?this.na.offset:m;c.assert(m >= this.startOffset + 8 && m + k <= this.startOffset + this.eo,"Removal range [0x" + m.toString(16) + "-0x" + (m + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.eo).toString(16) + ")");this.na.Je(k,m,this);};f.prototype.kv=function(k,m,d){d=void 0 === d?this.na.offset:d;c.assert(d >= this.startOffset + 8 && d + k <= this.startOffset + this.eo,"Removal range [0x" + d.toString(16) + "-0x" + (d + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.eo).toString(16) + ")");this.na.kv(k,m,d,this);};f.prototype.RY=function(k,m,d){if(1 < d){for(var g=[];0 < d--;){g.push(this.GT(k,m));}return g;}return this.GT(k,m);};f.prototype.hj=function(k){var m,d;d=this;void 0 === m && (m={});k.forEach(function(g){var h,l;if("offset" === g.type){h=g.offset;if(0 < h % 8)throw Error("Requested offset " + g.offset + "is not an even byte multiple");d.na.offset+=h / 8;}else for(h in g){l=g[h];m[h]="string" === typeof l?d.RY(l):d.RY(l.type,l.length,l.mja);}});return m;};f.prototype.GT=function(k,m){var d;d=this.byteLength - this.na.offset + this.startOffset;"undefined" === typeof m && (m=d);switch(k){case "int8":k=this.na.sb();break;case "int64":k=this.na.Wd();break;case "int32":k=this.na.Ca();break;case "int16":k=this.na.$c();break;case "string":k=this.na.yva(Math.min(m,d));break;default:throw Error("Invalid type: " + k);}return k;};f.Ra=!1;return f;})();b.Fc=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(153);b.ia=!1;r=(function(){function f(k,m,d,g,h){this.na=k;this.type=m;this.byteOffset=d;this.byteLength=g;this.parent=h;this.Xa={};this.eo=g;}f.Mn=function(k,m){var g,l;function d(n){n && n.Mn && (n=n.Mn(m),n.length && (g=g.concat(n)));}g=[];k.type === m && g.push(k);if(k.Xa)for(var h in k.Xa){l=k.Xa[h];Array.isArray(l) && l.forEach(d);}return g;};f.Mt=function(k,m){void 0 === k.Xa[m.type] && (k.Xa[m.type]=[]);k.Xa[m.type].push(m);};f.Nl=function(k,m){return f.Mn(k,m)[0];};Object.defineProperties(f.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{u:{get:function(){return this.na;},enumerable:!0,configurable:!0}});f.prototype.zc=function(){var k;k=this.na.Ca();this.version=k >> 24;this.flags=k & 16777215;};f.prototype.Mt=function(k){f.Mt(this,k);};f.prototype.Mn=function(k){return f.Mn(this,k);};f.prototype.Nl=function(k){return f.Nl(this,k);};f.prototype.parse=function(){return !0;};f.prototype.ju=function(){return !0;};f.prototype.ai=function(k){if((k=this.Xa[k]) && Array.isArray(k) && 1 === k.length)return k[0];};f.prototype.Je=function(k,m){m=void 0 === m?this.na.offset:m;c.assert(m >= this.startOffset + 8 && m + k <= this.startOffset + this.eo,"Removal range [0x" + m.toString(16) + "-0x" + (m + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.eo).toString(16) + ")");this.na.Je(k,m,this);};f.prototype.kv=function(k,m,d){d=void 0 === d?this.na.offset:d;c.assert(d >= this.startOffset + 8 && d + k <= this.startOffset + this.eo,"Removal range [0x" + d.toString(16) + "-0x" + (d + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.eo).toString(16) + ")");this.na.kv(k,m,d,this);};f.prototype.RY=function(k,m,d){if(1 < d){for(var g=[];0 < d--;){g.push(this.GT(k,m));}return g;}return this.GT(k,m);};f.prototype.hj=function(k){var m,d;d=this;void 0 === m && (m={});k.forEach(function(g){var h,l;if("offset" === g.type){h=g.offset;if(0 < h % 8)throw Error("Requested offset " + g.offset + "is not an even byte multiple");d.na.offset+=h / 8;}else for(h in g){l=g[h];m[h]="string" === typeof l?d.RY(l):d.RY(l.type,l.length,l.mja);}});return m;};f.prototype.GT=function(k,m){var d;d=this.byteLength - this.na.offset + this.startOffset;"undefined" === typeof m && (m=d);switch(k){case "int8":k=this.na.sb();break;case "int64":k=this.na.Wd();break;case "int32":k=this.na.Ca();break;case "int16":k=this.na.$c();break;case "string":k=this.na.yva(Math.min(m,d));break;default:throw Error("Invalid type: " + k);}return k;};f.Ra=!1;return f;})();b.Fc=r;},function(r,b,a){var m,d;function c(g,h){return g && g.Hu && (h || !1 !== g.lu);}function f(g,h,l){return !m.Ea(g) || g < h?h:g > l?l:g;}function k(g){if(!(this instanceof k))return new k(g);this.Ke=m.Ea(g)?g:void 0;}m=a(10);d=new (a(6).default.Console)("ASEJS_STREAM_SELECTOR","media|asejs");r.exports={console:d,debug:!1,assert:function(g,h){if(!g)throw (g=h?" : " + h:"",d.error("Assertion failed" + g),Error("ASEJS_STREAM_SELECTOR assertion failed" + g));},YH:c,sna:function(g,h,l){var q,p,u,t;function n(w){var v;v=g[w];if(!v.Hu || l && !l(v,w))return !1;t=w;return !0;}q=g.length;p=0;u=q;m.isArray(h) && (p=f(h[0],0,q),u=f(h[1],0,q),h=h[2]);h=f(h,p - 1,u);for(q=h - 1;q >= p;--q){if(n(q))return t;}for(q=h + 1;q < u;++q){if(n(q))return t;}return -1;},GRb:function(g,h){return Math.floor(g / (125 * h) * 1E3);},Dvb:function(g,h){return Math.ceil(g / 1E3 * h * 125);},Ecc:function(g,h){return !g.slice(h + 1).some(c);},Mp:k,ie:function(g,h){var l;return g.some(function(n,q,p){l=n;return h(n,q,p);})?l:void 0;},fq:function(g,h){var l;return g.some(function(n,q,p){l=q;return h(n,q,p);})?l:-1;},G4:f};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cl="PlatformSymbol";b.fC="PlatformMutableSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ii="Base64EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uca="ConfigurableInputsSymbol";b.fm="ValidatingConfigurableInputsSymbol";b.r0="ConfigNameSymbol";b.RR="InitParamsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.di="ClockSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wNa="WindowTimersSymbol";b.pF="JSONSymbol";b.bNa="UserAgentSymbol";b.LK="NavigatorSymbol";b.Rjb="MediaSourceSymbol";b.eGa="LocationSymbol";b.lCa="DateSymbol";b.Rea="PerformanceSymbol";b.qS="PlatformExtraInfoSymbol";},function(r,b,a){var f;function c(k,m,d,g,h,l,n,q,p,u,t,w){this.code=void 0 === k?f.N.em:k;this.Ec=m;this.Nd=d;this.Kn=g;this.PA=h;this.message=l;this.details=n;this.data=q;this.sk=p;this.dVb=u;this.alert=t;this.Zia=w;this.aa=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.od=void 0;f=a(3);c.wd=function(k){var m,d,g;if(k){m=k.stack;d=k.number;g=k.message;g || (g="" + k);m?(k="" + m,0 !== k.indexOf(g) && (k=g + "\n" + k)):k=g;d && (k+="\nnumber:" + d);return k;}return "";};c.prototype.jV=function(k){this.details=c.wd(k);this.data=k;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.Ec,extCode:this.Nd,edgeCode:this.Kn,mslCode:this.PA,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.sk,playbackServiceError:this.dVb};};c.Nna=function(k,m){return new c(k,f.M.Qk,void 0,void 0,void 0,void 0,m.message,m.stack);};c.Ydb=function(k,m){return new c(k,m,void 0,void 0,void 0,void 0,void 0,void 0);};c.u5b=function(k,m,d){return new c(k,m,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.od=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kn=b.Nv=b.cy=void 0;(function(a){a[a.vMa=0]="Test";a[a.AFa=1]="Int";a[a.hmb=2]="Staging";a[a.Alb=3]="Prod";})(b.cy || (b.cy={}));(function(a){a[a.sS=0]="PreferMsl";a[a.BKa=1]="PreferNoMsl";a[a.mkb=2]="NoMsl";})(b.Nv || (b.Nv={}));b.kn="GeneralConfigSymbol";},function(r,b,a){var c,f,k,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.FRb=b.platform=b.Zi=b.Vb=b.wIb=b.oW=b.DH=b.IPb=b.RF=b.ee=b.qo=b.Rj=b.HK=b.zt=b.TF=void 0;c=a(2);c.__exportStar(a(172),b);c.__exportStar(a(351),b);c.__exportStar(a(718),b);c.__exportStar(a(719),b);c.__exportStar(a(720),b);f=a(99);Object.defineProperties(b,{TF:{enumerable:!0,get:function(){return f.TF;}}});Object.defineProperties(b,{zt:{enumerable:!0,get:function(){return f.zt;}}});Object.defineProperties(b,{HK:{enumerable:!0,get:function(){return f.HK;}}});c.__exportStar(a(731),b);c.__exportStar(a(355),b);c.__exportStar(a(219),b);c.__exportStar(a(21),b);c.__exportStar(a(356),b);k=a(357);Object.defineProperties(b,{Rj:{enumerable:!0,get:function(){return k.Rj;}}});Object.defineProperties(b,{qo:{enumerable:!0,get:function(){return k.qo;}}});m=a(56);Object.defineProperties(b,{ee:{enumerable:!0,get:function(){return m.ee;}}});d=a(221);Object.defineProperties(b,{RF:{enumerable:!0,get:function(){return d.RF;}}});c.__exportStar(a(222),b);b.IPb=function(h){b.platform.LW(h);return a(745).NGa;};b.DH=function(h){b.platform.LW(h);return Promise.resolve().then(function(){return c.__importStar(a(256));}).then(function(l){return l.DH();});};b.oW=function(h,l){b.platform.LW(h);return Promise.resolve().then(function(){return c.__importStar(a(419));}).then(function(n){return n.oW(l);});};b.wIb=function(){return a(225);};r=c.__importDefault(a(28));b.Vb=r.default;r=a(967);b.Zi=r.Zi;r=c.__importDefault(a(6));b.platform=r.default;g=a(968);b.FRb=function(){return {Er:g.Er};};},function(r,b,a){var m,d,g;function c(h){var l,n,q,t;q=Object.getOwnPropertyNames(h);for(h=Object.getPrototypeOf(h);h !== Object.prototype;){try{for(var p=(l=void 0,m.__values(Object.getOwnPropertyNames(h))),u=p.next();!u.done;u=p.next()){t=u.value;-1 === q.indexOf(t) && q.push(t);}}catch(w){l={error:w};}finally{try{u && !u.done && (n=p.return) && n.call(p);}finally{if(l)throw l.error;}}h=Object.getPrototypeOf(h);}return q;}function f(h,l,n,q,p){var u;Object.getOwnPropertyNames(h).filter(function(t){return p(t) && (n || !Object.prototype.hasOwnProperty.call(l,t)) && (q || !((t in l)));}).forEach(function(t){u=Object.getOwnPropertyDescriptor(h,t);void 0 !== u && Object.defineProperty(l,t,u);});}function k(h,l,n,q){var p,u;p=[];n || (p=Object.getOwnPropertyNames(l));q || (p=c(l));u=Object.getPrototypeOf(h);null !== u && u !== Object.prototype && k(u,l,n,q);f(h,l,!0,!0,function(t){return "constructor" !== t && -1 === p.indexOf(t);});}Object.defineProperties(b,{__esModule:{value:!0}});b.Bf=b.qyb=void 0;m=a(2);d=a(4);b.qyb=k;g=Object.getOwnPropertyNames(Function);b.Bf=function(h,l,n,q){void 0 === n && (n=!0);void 0 === q && (q=!0);q || d.assert(!n);h.prototype?(k(h.prototype,l.prototype,n,q),f(h,l,n,q,function(p){return -1 === g.indexOf(p);})):f(h,l.prototype,n,q,function(p){return -1 === g.indexOf(p);});return l;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bC="named";b.q1="name";b.DS="unmanaged";b.dIa="optional";b.QR="inject";b.uF="multi_inject";b.nMa="inversify:tagged";b.oMa="inversify:tagged_props";b.Bea="inversify:paramtypes";b.Bgb="design:paramtypes";b.nS="post_construct";},function(r,b){function a(){}function c(){}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.Dl=b.ze=b.P=void 0;b.P=f;f.tK="playready-h264mpl30-dash";f.jF="playready-h264mpl31-dash";f.vda="playready-h264mpl40-dash";f.hEa="playready-h264hpl22-dash";f.tR="playready-h264hpl30-dash";f.uR="playready-h264hpl31-dash";f.uda="playready-h264hpl40-dash";f.Vfa="vp9-profile0-L21-dash-cenc";f.GS="vp9-profile0-L30-dash-cenc";f.HS="vp9-profile0-L31-dash-cenc";f.g2="vp9-profile0-L40-dash-cenc";f.Xhb="hevc-main10-L30-dash-cenc";f.Yhb="hevc-main10-L31-dash-cenc";f.Zhb="hevc-main10-L40-dash-cenc";f.$hb="hevc-main10-L41-dash-cenc";f.HR="hevc-main10-L50-dash-cenc";f.JR="hevc-main10-L51-dash-cenc";f.W0="hevc-main10-L30-dash-cenc-prk";f.Y0="hevc-main10-L31-dash-cenc-prk";f.$0="hevc-main10-L40-dash-cenc-prk";f.b1="hevc-main10-L41-dash-cenc-prk";f.X0="hevc-main10-L30-dash-cenc-prk-do";f.Z0="hevc-main10-L31-dash-cenc-prk-do";f.a1="hevc-main10-L40-dash-cenc-prk-do";f.c1="hevc-main10-L41-dash-cenc-prk-do";f.IR="hevc-main10-L50-dash-cenc-prk-do";f.KR="hevc-main10-L51-dash-cenc-prk-do";f.v0="hevc-dv5-main10-L30-dash-cenc-prk";f.x0="hevc-dv5-main10-L31-dash-cenc-prk";f.iR="hevc-dv5-main10-L40-dash-cenc-prk";f.A0="hevc-dv5-main10-L41-dash-cenc-prk";f.C0="hevc-dv5-main10-L50-dash-cenc-prk";f.E0="hevc-dv5-main10-L51-dash-cenc-prk";f.w0="hevc-dv5-main10-L30-dash-cenc-prk-do";f.y0="hevc-dv5-main10-L31-dash-cenc-prk-do";f.z0="hevc-dv5-main10-L40-dash-cenc-prk-do";f.B0="hevc-dv5-main10-L41-dash-cenc-prk-do";f.D0="hevc-dv5-main10-L50-dash-cenc-prk-do";f.F0="hevc-dv5-main10-L51-dash-cenc-prk-do";f.wR="hevc-hdr-main10-L30-dash-cenc-prk";f.yR="hevc-hdr-main10-L31-dash-cenc-prk";f.vK="hevc-hdr-main10-L40-dash-cenc-prk";f.BR="hevc-hdr-main10-L41-dash-cenc-prk";f.DR="hevc-hdr-main10-L50-dash-cenc-prk";f.FR="hevc-hdr-main10-L51-dash-cenc-prk";f.xR="hevc-hdr-main10-L30-dash-cenc-prk-do";f.zR="hevc-hdr-main10-L31-dash-cenc-prk-do";f.AR="hevc-hdr-main10-L40-dash-cenc-prk-do";f.CR="hevc-hdr-main10-L41-dash-cenc-prk-do";f.ER="hevc-hdr-main10-L50-dash-cenc-prk-do";f.GR="hevc-hdr-main10-L51-dash-cenc-prk-do";f.Nza="av1-main-L20-dash-cbcs-prk";f.Oza="av1-main-L21-dash-cbcs-prk";f.NB="av1-main-L30-dash-cbcs-prk";f.OB="av1-main-L31-dash-cbcs-prk";f.$_="av1-main-L40-dash-cbcs-prk";f.a0="av1-main-L41-dash-cbcs-prk";f.b0="av1-main-L50-dash-cbcs-prk";f.c0="av1-main-L51-dash-cbcs-prk";f.Jca=[f.tK,f.jF,f.vda];f.cca=[f.tR,f.uR,f.uda];f.Jza=[f.GS,f.HS,f.g2];f.Nca=[f.W0,f.Y0,f.$0,f.b1,f.HR,f.JR];f.Mca=[f.X0,f.Z0,f.a1,f.c1,f.IR,f.KR];f.Lca=[f.wR,f.yR,f.vK,f.BR,f.DR,f.FR];f.Kca=[f.xR,f.zR,f.AR,f.CR,f.ER,f.GR];f.dBa=[f.v0,f.iR,f.C0,f.x0,f.A0,f.E0];f.cBa=[f.w0,f.z0,f.D0,f.y0,f.B0,f.F0];f.Gfb=[f.NB,f.OB,f.$_,f.a0,f.b0,f.c0];b.ze=c;c.kF="heaac-2-dash";c.jEa="heaac-5.1-dash";c.lF="heaac-2hq-dash";c.VF="xheaac-dash";c.fR="ddplus-2.0-dash";c.Vca="ddplus-5.1-dash";c.gR="ddplus-atmos-dash";b.Dl=a;a.Vlb="simplesdh";a.Yca="dfxp-ls-sdh";a.REa="imsc1.1";a.i2="webvtt-lssdh-ios8";a.JK="nflx-cmisc";},function(r,b,a){var m,d,g;function c(h){return function(l,n){return l.Eva(n,h);};}function f(h,l){return h.V$.OWb[l] || k(h,l);}function k(h,l){h=h.nA.data[l];switch(typeof h){case "undefined":break;case "string":case "number":case "boolean":return h.toString();default:return JSON.stringify(h);}}Object.defineProperty(b,"__esModule",{value:!0});b.dz=b.Nva=b.object=b.yEb=b.url=b.ga=b.nl=b.Mya=b.IMb=b.BJ=b.string=b.CB=b.cd=b.PD=b.config=void 0;m=a(52);d=a(5);g=a(140);b.config=function(h,l,n){n=void 0 === n?!1:n;return function(q,p,u){var t,w;t=void 0 !== l?l:p;w=u.get;void 0 !== w && (u.get=function(){var v;if(!this.zNb(p))return this.xJb(p);a:{v=(this.vtb || n?f:k)(this,t.toString());if(void 0 !== v)if((v=h(this.VX,v),v instanceof g.Kp))this.iYa(t,v);else break a;v=w.bind(this)();}this.H9a(p,v);return v;});return u;};};b.PD=function(h,l){return h.x8a(l);};b.cd=function(h,l){return h.xva(l);};b.CB=function(h,l){return h.Yq(l);};b.string=function(h,l){return h.Eva(l);};b.BJ=function(h,l){return h.Xh(l,b.string);};b.IMb=function(h,l){return h.Xh(l,b.PD);};b.Mya=function(h,l){return h.Xh(l,b.CB);};b.nl=function(h,l){h=h.Yq(l);return h instanceof g.Kp?h:(0,d.Nc)(h);};b.ga=function(h,l){h=h.Yq(l);return h instanceof g.Kp?h:(0,m.ga)(h);};b.url=c(/^\S+$/);b.yEb=function(h){return function(l,n){return l.w8a(n,h);};};b.object=function(){return function(h,l){return h.y8a(l);};};b.Nva=c;b.dz=function(h,l){return function(n,q){return n.Xh(q,h,l);};};},function(r,b,a){var k,m,d,g;function c(h,l){var n;n=g.call(this,h,l) || this;n.lUa=l;n.debug=h.debug;n.wa=h.cg.mb(n.lUa);return n;}function f(h,l){this.lUa=l;this.jva={};this.nA=h.nA;this.VX=h.VX;this.V$=h.V$;}Object.defineProperty(b,"__esModule",{value:!0});b.af=b.WQ=b.pMa=void 0;r=a(1);k=a(613);m=a(0);d=a(140);b.pMa="isTestAccount";f.prototype.iYa=function(){};f.prototype.H9a=function(h,l){this.jva[h]=[l,this.nA.naa];};f.prototype.zNb=function(h){return k.Aea.of(this.jva[h]).map(function(l){return l[1];}).or(-1) < this.nA.naa;};f.prototype.xJb=function(h){return k.Aea.of(this.jva[h]).map(function(l){return l[0];}).or(function(){throw Error("Invalid State Error");});};Ya.Object.defineProperties(f.prototype,{vtb:{configurable:!0,enumerable:!0,get:function(){var h,l;if(this && this.nA && this.nA.data){h=this.nA.data[b.pMa];"undefined" !== typeof h && (l=h.toString());h=this.VX.xva(l);h=h instanceof d.Kp?!1:h;}else h=!1;return h;}}});g=f;g=r.__decorate([(0,m.T)(),r.__param(0,(0,m.bn)()),r.__param(1,(0,m.bn)())],g);b.WQ=g;na(c,g);c.prototype.iYa=function(h,l){this.wa.error("Invalid configuration value.",{name:h},l);this.debug.assert(!1);};a=c;a=r.__decorate([r.__param(0,(0,m.bn)()),r.__param(1,(0,m.bn)())],a);b.af=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yj="SchedulerSymbol";},function(r,b,a){var h,l,n,q,p,u,t,w;function c(){var v,x;if(v=b.d7.TPa)return v;v=u.t1.search.substr(1);x=v.indexOf("#");0 <= x && (v=v.substr(0,x));v=f(v);return b.d7.TPa=v;}function f(v){for(var x=/[+]/g,y=(v || "").split("&"),z={},A,B=0;B < y.length;B++){v=(0,q.trim)(y[B]);A=v.indexOf("=");0 <= A?z[decodeURIComponent(v.substr(0,A).replace(x,"%20")).toLowerCase()]=decodeURIComponent(v.substr(A + 1).replace(x,"%20")):z[v.toLowerCase()]=null;}return z;}function k(v){return (v=(/function (.{1,})\(/).exec(v.toString())) && 1 < v.length?v[1]:"";}function m(v){return k(v.constructor);}function d(v){return u.sort.call(v,function(x,y){return x - y;});}function g(v){for(var x=0,y=v.length;y--;){x+=v[y];}return x;}Object.defineProperty(b,"__esModule",{value:!0});b.zVb=b.FH=b.rZa=b.q8=b.wVb=b.d2a=b.rfb=b.sfb=b.TFb=b.Ut=b.Nxb=b.qN=b.lFb=b.FI=b.Heb=b.PQ=b.Ieb=b.d0=b.Geb=b.EMb=b.ZG=b.bWb=b.Dta=b.foa=b.getFunctionName=b.QO=b.lY=b.d7=b.pJb=b.u8a=b.hRa=b.sUa=b.UWb=b.Vt=b.ZTa=void 0;h=a(12);l=a(22);n=a(8);q=a(24);p=a(30);u=a(11);t=a(18);w=a(55);b.ZTa=function(v,x){if(v === x)return !0;if(!v || !x)return !1;for(var y in v){if(v.hasOwnProperty(y) && (!x.hasOwnProperty(y) || v[y] !== x[y]))return !1;}return !0;};b.Vt=b.Vt || (function(v,x){if(v.length == x.length){for(var y=v.length;y--;){if(v[y] != x[y])return !1;}return !0;}return !1;});b.UWb=function(v){var x;if(v){x=v.length;if(x)return (x=(0,q.uva)(0,x - 1),v[x]);}};b.sUa=function(v,x){if(v.length != x.length)return !1;v.sort();x.sort();for(var y=v.length;y--;){if(v[y] !== x[y])return !1;}return !0;};b.hRa=function(v,x,y){function z(){v.removeEventListener(x,z);y.apply(this,arguments);}v.addEventListener(x,z);};b.u8a=function(){var v,x,y,z,A,B;v=u.Be.cookie.split("; ");x=v.length;A={};for(y=0;y < x;y++){if(z=(0,q.trim)(v[y])){B=z.indexOf("=");0 < B && (A[z.substr(0,B)]=z.substr(B + 1));}}return A;};b.pJb=c;b.d7=Object.assign(c,{TPa:void 0});b.lY=f;b.QO=function(v){var x;x="";(0,q.ve)(v,function(y,z){x && (x+="&");(0,l.jb)((0,p.Ue)(z) || (0,t.Ea)(z) || (0,t.Cqa)(z));x+=encodeURIComponent(y) + "=" + encodeURIComponent(z);});return x;};b.getFunctionName=k;b.foa=m;b.Dta=function(v){var x;x="";(0,t.isArray)(v) || (0,t.cra)(v)?x=u.reduce.call(v,function(y,z){return y + (32 <= z && 128 > z?(0,u.jMa)(z):".");},""):(0,p.Ue)(v)?x=v:(0,q.ve)(v,function(y,z){x+=(x?", ":"") + "{" + y + ": " + ((0,t.kd)(z)?k(z) || "function":z) + "}";});return "[" + m(v) + " " + x + "]";};b.bWb=function(v,x){v.firstChild?v.insertBefore(x,v.firstChild):v.appendChild(x);};b.ZG=b.ZG || (function(v){var x;x="";(0,q.ve)(v,function(y,z){x+=(x?";":"") + y + ":" + z;});return x;});b.EMb=function(v,x){var y;y=v[0];if(x <= y[0])return y.slice(1);for(var z=1,A;A=v[z++];){if(x <= A[0]){v=(x - y[0]) / (A[0] - y[0]);x=[];for(z=1;z < y.length;z++){x.push((y[z] || 0) + v * ((A[z] || 0) - (y[z] || 0)));}return x;}y=A;}return y.slice(1);};b.Geb=function(v,x){var A;for(var y={},z=0;z < x.length;z++){A=x[z];if("string" != typeof A && "number" != typeof A)return !1;y[x[z]]=1;}for(z=0;z < v.length;z++){if((A=v[z],!y[A]))return !1;}return !0;};b.d0=d;b.Ieb=g;b.PQ=function(v,x){var y,z,A,B;y=-1;z=v.length;if(1 === arguments.length){for(;++y < z && !(null != (A=v[y]) && A <= A);){A=void 0;}for(;++y < z;){null != (B=v[y]) && B > A && (A=B);}}else {for(;++y < z && !(null != (A=x.call(v,v[y],y)) && A <= A);){A=void 0;}for(;++y < z;){null != (B=x.call(v,v[y],y)) && B > A && (A=B);}}return A;};b.Heb=function(v,x){var y,z,A,B;y=-1;z=v.length;if(1 === arguments.length){for(;++y < z && !(null != (A=v[y]) && A <= A);){A=void 0;}for(;++y < z;){null != (B=v[y]) && A > B && (A=B);}}else {for(;++y < z && !(null != (A=x.call(v,v[y],y)) && A <= A);){A=void 0;}for(;++y < z;){null != (B=x.call(v,v[y],y)) && A > B && (A=B);}}return A;};b.FI=function(v){return (0,t.kd)(v.then)?v:new Promise(function(x,y){v.oncomplete=function(){x(v.result);};v.onerror=function(){y(v.error);};});};b.lFb=function(v,x){var z,A,B,E,D,F;function y(G){0 > z.indexOf(G) && (0,t.Ea)(G) && z.push(G);}v=v.slice();d(v);z=[];if(!x || !x.length)return v;if(!v.length)return [];A=x.length;try{for(;A--;){E="" + x[A];D=(0,p.Ie)(E);switch(E[E.length - 1]){case "-":for(B=v.length;B--;){F=v[B];if(F < D){y(F);break;}}break;case "+":for(B=0;B < v.length;B++){if((F=v[B],F > D)){y(F);break;}}break;default:0 <= v.indexOf(D) && y(D);}}}catch(G){}z.length || z.push(v[0]);d(z);return z;};b.qN=b.qN || (function(v,x,y){var z;if(v / x > y){z=(0,u.Vj)(x * y);v=x;}else (z=v,v=(0,u.Vj)(v / y));return {width:z,height:v};});b.Nxb=function(v,x,y){for(var z=[],A=0;A < x;A++){z.push((0,u.n1)(v[A] - y,2));}return (0,u.$Ga)(g(z) / z.length);};b.Ut=function(v,x){var y;y=v.length;x=(y - 1) * x + 1;if(1 === x)return v[0];if(x == y)return v[y - 1];y=(0,u.$B)(x);return v[y - 1] + (x - y) * (v[y] - v[y - 1]);};b.TFb=function(v,x){if(!(0,t.isArray)(v))throw Error("boxes is not an array");if(0 >= v.length)throw Error("There are no boxes in boxes");x=(0,t.isArray)(x)?x:[x];for(var y=v.length,z=0;z < y;z++){for(var A=0;A < x.length;A++){if(v[z].type == x[A])return v[z];}}throw Error("Box not found " + x);};b.sfb=function(v){return v.xHb("trak/mdia/minf/stbl/stsd/" + h.MAa + "|" + h.NAa).children.filter(function(x){return "sinf" == x.type && x.Mbc.schm.Bec == w.Xx;})[0].xHb("schi/tenc").wj;};b.rfb=function(v){var y;function x(z,A){var B;B=y[z];y[z]=y[A];y[A]=B;}y=new Uint8Array(v);x(0,3);x(1,2);x(4,5);x(6,7);return y;};b.d2a=function(){return (0,t.kd)(u.Oe.requestMediaKeySystemAccess);};b.wVb=function(v){return function(x){return x && x[v];};};(0,t.kd)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(v,x){var y,z;void 0 === v && (v=0);void 0 === x && (x=this.byteLength);v=Math.floor(v);x=Math.floor(x);0 > v && (v+=this.byteLength);0 > x && (x+=this.byteLength);v=Math.min(Math.max(0,v),this.byteLength);x=Math.min(Math.max(0,x),this.byteLength);if(0 >= x - v)return new ArrayBuffer(0);y=new ArrayBuffer(x - v);z=new Uint8Array(y);v=new Uint8Array(this,v,x - v);z.set(v);return y;});b.q8=function(v){return v && 0 == v.toLowerCase().indexOf("https");};b.rZa=function(){var v,x;v=new ArrayBuffer(4);x=new Uint8Array(v);v=new Uint32Array(v);x[0]=161;x[1]=178;x[2]=195;x[3]=212;return 3569595041 == v[0]?"LE":2712847316 == v[0]?"BE":"undefined";};b.FH=function(){var v,x,y;try{v=/playercore.*js/;x=u.Ov.getEntries("resource").filter(function(z){return null !== v.exec(z.name);});if(x && 0 < x.length){y=(0,u.Vj)(x[0].duration);return JSON.stringify(y);}}catch(z){}};b.zVb=function(v,x,y){if(v && v.length){if(y && y.Ywb)try{v.forEach(function(z,A){var B;B=(A=y.Ywb[A]) && A.media;B && (0,p.Ue)(B)?(!1,B=(0,n.Wr)(B).buffer,z.media={arrayBuffer:B,length:B.byteLength,stream:x,uc:A.cdn}):n.log.warn("chunk not in cache",z.Uh);});}catch(z){n.log.error("error reading cached chunks",z);}else n.log.warn("chunks not available in cached stream",y.type);}else n.log.warn("chunks not available in mediabuffer",y.type);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vda="LogBatcherConfigSymbol";b.ln="LogBatcherSymbol";b.hGa="LogBatcherProviderSymbol";},function(r,b,a){var f,k,m,d,g;function c(){return f.cc.get(m.md).xA.da(g.la);}Object.defineProperty(b,"__esModule",{value:!0});b.uxb=b.K4=b.MTa=b.sxb=b.txb=b.J4=b.mk=void 0;f=a(200);k=a(38);m=a(19);d=a(81);g=a(5);b.mk=function(){return f.cc.get(m.md).Zb().da(g.la);};b.J4=function(){return f.cc.get(k.di).jf.da(g.zo);};b.txb=function(){return f.cc.get(m.md).xA.da(g.zo);};b.sxb=function(){return f.cc.get(d.gy).zz();};b.MTa=c;b.K4=function(){return f.cc.get(k.di).jf.da(g.la);};b.uxb=function(){return c();};},function(r,b,a){var k;function c(){return k.ES.apply(this,arguments) || this;}function f(m){return new k.ut(m,b.cF);}Object.defineProperty(b,"__esModule",{value:!0});b.eb=b.xHa=b.Qda=b.Dv=b.cF=b.QQb=b.kOb=b.ga=b.iz=b.Efb=void 0;k=a(320);na(c,k.ES);b.Efb=c;b.iz=f;b.ga=function(m){return new k.ut(m,b.Dv);};b.kOb=function(m){return new k.ut(m,b.Qda);};b.QQb=function(m){return new k.ut(m,b.xHa);};b.cF=new c(1,"b");b.Dv=new c(8 * b.cF.zg,"B",b.cF);b.Qda=new c(1024 * b.Dv.zg,"KB",b.cF);b.xHa=new c(1024 * b.Qda.zg,"MB",b.cF);b.eb=f(0);},function(r,b,a){var c,f;c=a(131);f=a(185);r.exports=function(k){return function h(d,g){switch(arguments.length){case 0:return h;case 1:return f(d)?h:c(function(l){return k(d,l);});default:return f(d) && f(g)?h:f(d)?c(function(l){return k(l,g);}):f(g)?c(function(l){return k(d,l);}):k(d,g);}};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pn="PboCommandContextSymbol";},function(r,b,a){var f;function c(k){var m;m=k.getConfiguration();return [b.wK,b.Dfa,b.T1].find(function(d){var g;return null === (g=m.videoCapabilities) || void 0 === g?void 0:g.some(function(h){return h.robustness === d;});});}Object.defineProperty(b,"__esModule",{value:!0});b.Moa=b.yoa=b.Coa=b.wK=b.Dfa=b.T1=b.sNa=b.tNa=b.pIa=b.P0=b.Xx=void 0;f=a(18);b.Xx="cenc";b.P0="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.pIa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.tNa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.sNa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.T1="SW_SECURE_CRYPTO";b.Dfa="SW_SECURE_DECODE";b.wK="HW_SECURE_DECODE";b.Coa=c;b.yoa=function(k){var m;if(k){m=null === k || void 0 === k?void 0:k.keySystem;(k=c(k)) && (m+="." + k);return m;}return "n/a";};b.Moa=function(k){var m,h;try{for(var d=/\(([^)]+)\)/g,g;g=d.exec(k);){h=Number(g[1]);(0,f.Ea)(h) && (m=h);}}catch(l){}return m;};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.xfa=b.ee=void 0;c=a(2);f=a(738);(function(k){k[k.xp=0]="startPlayback";k[k.tq=1]="endPlayback";k[k.oo=2]="underflow";})(b.ee || (b.ee={}));r=(function(){function k(m){this.config=m;this.sP=[];}k.prototype.sh=function(m){var d,g;g=c.__read(this.config.u5.filter(function(h){return h.si === m.si;}),1)[0];(null !== (d=null === g || void 0 === g?void 0:g.enabled) && void 0 !== d?d:m.enabled)?this.sP.push(m):m.Ib && m.Ib();};k.prototype.Qn=function(m){var d,g,h,q,p;g={};h=[];try{for(var l=c.__values(this.sP),n=l.next();!n.done;n=l.next()){q=n.value;try{p=q.Qn({cj:m});p && (q.kx?g[q.kx]=p:g=c.__assign(c.__assign({},g),p));}catch(t){h.push(t);}}}catch(t){var u;u={error:t};}finally{try{n && !n.done && (d=l.return) && d.call(l);}finally{if(u)throw u.error;}}h.length && (g["rpt-error"]=new f.Sza("Reporting error",h));return g;};return k;})();b.xfa=r;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(1);r.__exportStar(a(739),b);r.__exportStar(a(173),b);r.__exportStar(a(740),b);r.__exportStar(a(741),b);r.__exportStar(a(742),b);r.__exportStar(a(743),b);r.__exportStar(a(361),b);r.__exportStar(a(744),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.chb="Cannot apply @injectable decorator multiple times.";b.dhb="Metadata key was used more than once in a parameter:";b.hS="NULL argument";b.GFa="Key Not Found";b.leb="Ambiguous match found for serviceIdentifier:";b.Ffb="Could not unbind serviceIdentifier:";b.ckb="No matching bindings found for serviceIdentifier:";b.Ajb="Missing required @injectable annotation in:";b.Bjb="Missing required @inject or @multiInject annotation in:";b.zmb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.Ifb="Circular dependency found:";b.V8b="Sorry, this feature is not fully implemented yet.";b.Tib="Invalid binding type:";b.ekb="No snapshot available to restore.";b.Xib="Invalid return type in middleware. Middleware must return!";b.Wib="Value provided to function binding must be a function!";b.Zib="The toSelf function can only be applied when a constructor is used as service identifier";b.Uib="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.neb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.Xfb="Invalid Container constructor argument. Container options must be an object.";b.Vfb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.Ufb="Invalid Container option. Auto bind injectable must be a boolean";b.Wfb="Invalid Container option. Skip base check must be a boolean";b.Ojb="Cannot apply @postConstruct decorator multiple times in the same class";b.klb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.Jfb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.Zlb="Maximum call stack size exceeded";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kp=b.f1b=b.X5a=void 0;b.X5a=function(a,c){return a - c;};b.f1b=function(a,c){return a.localeCompare(c);};b.kp=function(a,c){var f;f=Object.getOwnPropertyDescriptor(a,c);f && Object.defineProperty(a,c,{configurable:f.configurable,enumerable:!1,value:f.value,writable:f.writable});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fra=b.hi=void 0;(function(a){a[a.Lp=0]="STANDARD";a[a.vo=1]="LIMITED";})(b.hi || (b.hi={}));b.Fra=function(a){return ["STANDARD","LIMITED"][a];};},function(r,b,a){var f,k;function c(m,d){var g;g=b.yo[0];g == d && (g=b.yo[1]);g?g.close(function(){c(m,d);}):m && m(f.$e);}Object.defineProperty(b,"__esModule",{value:!0});b.KJa=b.JJa=b.Xea=b.Yea=b.gC=b.$ea=b.Zea=b.cfa=b.bfa=b.yo=b.dfa=b.afa=void 0;f=a(12);k=a(22);b.afa=c;b.dfa=function(m,d){switch(m){case b.Zea:b.bfa.push(d);return;case b.$ea:b.cfa.push(d);return;}(0,k.jb)(!1);};b.yo=[];b.bfa=[];b.cfa=[];b.Zea=1;b.$ea=3;b.gC={index:0,e5a:void 0,xna:void 0};b.Yea="network";b.Xea="media";b.JJa="timedtext";b.KJa="playback";},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.o7=b.ls=b.p7=b.ED=b.Pl=b.we=void 0;r=a(73);c=a(63);f=a(11);b.we=new r.Rk();b.Pl=1;b.ED=2;b.p7=3;b.ls=4;b.o7=5;(0,c.Xf)(function(){var m,d,g;function k(h,l){if(d)d.on(h,l);else nb.addEventListener(h,l);}m=nb.jQuery;d=m && m(nb);m=(m=nb.netflix) && m.cadmium && m.cadmium.addBeforeUnloadHandler;g=f.Be.hidden;m?m(function(h){b.we.Hc(b.Pl,h);}):k("beforeunload",function(h){b.we.Hc(b.Pl,h);});k("keydown",function(h){b.we.Hc(b.ED,h);});k("resize",function(){b.we.Hc(b.p7);});f.Be.addEventListener("visibilitychange",function(){g !== f.Be.hidden && (g=f.Be.hidden,b.we.Hc(b.ls));});});(function(){nb.addEventListener("error",function(k){b.we.Hc(b.o7,k);return !0;});})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xf=void 0;b.Xf=function(a){return setTimeout(a,0);};},function(r,b){var c,f;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.uo=b.Ma=b.Zj=void 0;(function(k){k[k.Lp=0]="STANDARD";k[k.vo=1]="LIMITED";k[k.J9b=2]="PREVIEW";})(c || (c={}));(function(k){k[k.HAVE_NOTHING=0]="HAVE_NOTHING";k[k.HAVE_METADATA=1]="HAVE_METADATA";k[k.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";k[k.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";k[k.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(f || (f={}));(function(k){k.zeb="asl_start";k.xeb="asl_comp";k.I5b="asl_exc";k.yeb="asl_fail";k.amb="stf_creat";k.oib="idb_open";k.lib="idb_block";k.vib="idb_upgr";k.uib="idb_succ";k.mib="idb_error";k.nib="idb_invalid_state";k.qib="idb_open_timeout";k.sib="idb_open_wrkarnd";k.tib="idb_storelen_exc";k.pib="idb_open_exc";k.rib="idb_timeout_invalid_storelen";k.Ijb="msl_load_data";k.Kjb="msl_load_no_data";k.Jjb="msl_load_failed";})(r=b.Zj || (b.Zj={}));(function(k){k.Eea="PlaybackRequestStart";k.Dea="PlaybackRequestEnd";k.M1="RequestPrefetchManifestStart";k.L1="RequestPrefetchManifestEnd";k.K1="RequestManifestStart";k.J1="RequestManifestEnd";k.I1="RequestLicenseStart";k.H1="RequestLicenseEnd";k.aR="RequestTimedTextUrlStart";k.$Q="RequestTimedTextUrlEnd";k.ZQ="RequestAudioUrlStart";k.YQ="RequestAudioUrlEnd";k.cR="RequestVideoUrlStart";k.bR="RequestVideoUrlEnd";k.eca="AppendBufferStart";k.dca="AppendBufferEnd";k.zfa="SetMediaKeysStart";k.yfa="SetMediaKeysEnd";k.T0="GenerateChallengeStart";k.S0="GenerateChallengeEnd";k.Y_="ApplyLicenseStart";k.X_="ApplyLicenseEnd";})(b.Ma || (b.Ma={}));b.uo=a;a.Rda=c;a.BUa=function(k){return ["STANDARD","LIMITED","PREVIEW"][k];};a.Zj=r;a.d1=f;},function(r,b){function a(c){var f;f=Error.call(this,"TimeoutError");this.message=f.message;("stack" in f) && (this.stack=f.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.sy=b.Ir=void 0;na(a,Error);b.Ir=a;b.sy="PromiseTimerSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);r=(function(){function f(k,m){this.key=k;this.value=m;}f.prototype.toString=function(){return this.key === c.bC?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return f;})();b.Metadata=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(149),b);r.__exportStar(a(818),b);r.__exportStar(a(178),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bg={Ura:"logblob",oa:"manifest",IOb:"licensedmanifest",bh:"license",events:"events",bind:"bind",dua:"pair",ping:"ping",config:"config"};b.hC={Klb:"reqAttempt",Llb:"reqName",xfb:"browsername",Cfb:"browserversion",qkb:"osname",rkb:"osversion",cgb:"clienttype",ymb:"uiversion"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hv="EmeConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vt="MediaKeySystemAccessServicesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QF="TimingApiSymbol";b.dS="MilestoneTimingApiSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qv="PboConfigSymbol";},function(r,b,a){var f,k;function c(){var m,d;m=this;this.Dt={};this.on=function(g,h,l){m.addListener(g,h,l);};this.addListener=function(g,h,l){m.Dt && (m.Dt[g]=m.Dt[g] || new k.nfa(!0)).add(h,l);};this.removeListener=function(g,h){m.Dt && m.Dt[g] && m.Dt[g].removeAll(h);};this.qoa=function(g){return m.Dt && m.Dt[g]?m.Dt[g].flatten():[];};d=this;this.Hc=function(g,h,l){var n;if(d.Dt){n=d.qoa(g);for(g={aK:0};g.aK < n.length;(g={aK:g.aK},g.aK++)){l?(function(q){return function(){var p;p=n[q.aK];(0,f.Xf)(function(){p(h);});};})(g)():n[g.aK].call(this,h);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Rk=void 0;f=a(63);k=a(339);c.prototype.Mh=function(){this.Dt=void 0;};b.Rk=c;},function(r,b,a){var l,n,q,p,u,t,w,v,x,y,z,A,B,E,D,F;function c(G){var C,H,K,M;C=G.url.split("?");H=C[0];K="sc=" + G.oZb;M=G.YSa?"random=" + (1E17 * (0,z.xF)()).toFixed(0):"";H=C[1]?H + ("?" + C[1] + "&" + K):H + ("?" + K);H+=M?"&" + M:"";G.uc && !(0,p.q8)(H) && (G=n.config && n.config.uka) && (H=G.replace("{URL}",H).replace("{EURL}",encodeURIComponent(H)));return H;}function f(G){var C,H,K,M;C=G.url.split("?");H=C[0];K="bb_reason=" + G.reason;M=G.YSa?"random=" + (1E17 * (0,z.xF)()).toFixed(0):"";H=C[1]?H + ("?" + C[1] + "&" + K):H + ("?" + K);H+=M?"&" + M:"";G.uc && !(0,p.q8)(H) && (G=n.config && n.config.uka) && (H=G.replace("{URL}",H).replace("{EURL}",encodeURIComponent(H)));return H;}function k(G,C){var H,K,M;H=G.url.split("?");K=H[0];M=m(G);M && (C.Ks=M,(void 0 === G.ht?n.config.ht:G.ht)?(G.headers=G.headers || ({}),G.headers.Range="bytes=" + M):(C.Ks=M,K="/" == K[K.length - 1]?K + "range/":K + "/range/",K+=M));M=G.YSa?"random=" + (1E17 * (0,z.xF)()).toFixed(0):"";n.config.Pz && G.Paa && (M="sc=" + G.Paa + (M?"&" + M:""));K=H[1]?K + ("?" + H[1] + (M?"&" + M:"")):K + (M?"?" + M:"");G.uc && !(0,p.q8)(K) && (G=n.config && n.config.uka) && (K=G.replace("{URL}",K).replace("{EURL}",encodeURIComponent(K)));C.url=K;}function m(G){var C;C=G.offset;if(void 0 !== C)return ((0,x.cV)(C),void 0 !== G.length?(G=G.offset + G.length - 1,(0,x.cV)(G),C + "-" + G):C + "-");}function d(){return !1 !== z.Oe.onLine;}function g(G,C,H,K){var M,I;M=K.Oua;I=K.headers;G.open(M?"POST":"GET",C,!H);switch(K.responseType){case b.HW:G.responseType="arraybuffer";break;case b.Zpa:(0,y.jTa)(G,"overrideMimeType",void 0,"text/xml");}M && (C={"Content-Type":(0,t.Ue)(M)?"text/plain":"application/x-octet-stream"},I=I?(0,t.ac)(C,I):C);I && (0,y.ve)(I,function(Q,L){G.setRequestHeader(Q,L);});K.withCredentials && (G.withCredentials=!0);void 0 !== G.msCaching && (G.msCaching="disabled");M?G.send(M):G.send();}function h(G,C){switch(C.type){case b.HW:return G.response || new ArrayBuffer(0);case b.Zpa:return G.responseXML;default:return G.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.HW=b.Zpa=b.Ypa=b.$pa=b.E7=b.J0a=b.I0a=b.C7=b.Kmb=b.Lmb=b.yLb=b.D7=b.vLb=b.wLb=b.uLb=b.xLb=b.mf=void 0;l=a(73);n=a(14);q=a(12);p=a(49);u=a(51);t=a(30);w=a(3);v=a(8);x=a(22);y=a(24);z=a(11);A=a(63);B=a(18);E=a(31);D={qn:1,W$b:2,Qeb:3};b.mf=(function(){var K,M,I,Q;function G(L){var J;try{J=L.url;(0,B.fra)(J)?0 === J.indexOf("https")?Q.ssl++:0 === J.indexOf("http")?Q["non-ssl"]++:Q.invalid++:Q.invalid++;}catch(N){}}function C(){M.Hc(b.J0a);M.Hc(b.$pa);}function H(){M.Hc(b.E7);M.Hc(b.$pa);}K=(0,v.aj)("Http");M=new l.Rk();I=0;Q={ssl:0,"non-ssl":0,invalid:0};v.pa.get(E.oh).register(w.N.jFa,function(L){n.config.o4b && (nb.addEventListener("online",C),nb.addEventListener("offline",H),b.D7=d);L(q.$e);});return {addEventListener:M.addListener,removeEventListener:M.removeListener,download:function(L,J){var ra,Y,pa,T,R,ea,sa,la,Ka,Ua,$a;function N(){var Za;N=t.Al;$a && (clearTimeout($a),$a=null);M.removeListener(b.E7,U);Ka && (Ka.onloadstart=null,Ka.onreadystatechange=null,Ka.onprogress=null,Ka.onerror=null,Ka.onload=null,Ka=Ka.onabort=null);la.aa?!1:la.ta != w.M.XB?ra.warn("Download failed",Y,(0,w.Iv)(la)):ra.trace("Download aborted",Y);Za=pa;pa=void 0;for(var cb=Za.length;cb--;){(function(){var Va;Va=Za[cb];(0,A.Xf)(function(){Va(la);});})();}M.Hc(b.I0a,la,!0);}function O(){$a && (clearTimeout($a),$a=null);$a=setTimeout(Z,Ua?sa:ea);}function P(Za,cb,Va,Qa){var xa,Ea;la.aa=!1;la.ta=Za;xa=(0,u.mk)();Ea=la.Km;Ea.Ci=Ea.Ci || xa;Ea.vp=Ea.vp || xa;0 < cb && (la.tk=la.uf=cb);Va && (la.yb=Va);Qa && (la.BE=Qa);Za !== w.M.LR && Za !== w.M.mF && Za !== w.M.OR || !Ka || (Ka.onabort=null,ja());N();}function S(Za){var cb,Va;try{Va=Za.getResponseHeader("X-Netflix.Retry.Server.Policy");Va && (cb=JSON.parse(Va));}catch(Qa){!1;}return cb;}function U(){(0,b.D7)() || P(w.M.LR);}function Z(){P(Ua?w.M.mF:w.M.OR);}function ja(){try{Ka && Ka.abort();}catch(Za){}}function ya(){P(w.M.XB);}(0,x.jb)(J);ra=L.j && L.j.log && (0,v.Qh)(L.j,"Http") || K;Y={Num:I++};pa=[J];T={};ea=L.S4 || n.config.S4;sa=L.pta || n.config.pta;G(L);!1;la=(function(){var Za,cb,Va;Za=t.Al;cb=t.Al;Va=t.Al;return {request:L,type:L.responseType,Km:T,abort:ja,timeout:Z,Gia:function(Qa){N !== t.Al && ((0,x.jb)(pa,"Callback should be added before download starts."),pa && pa.unshift(Qa));},f$:function(Qa){Va(Qa);},h$:function(Qa){Za(Qa);},$n:function(Qa){cb(Qa);},n_b:function(Qa){Va=Qa;},t_b:function(Qa){Za=Qa;},e_b:function(Qa){cb=Qa;}};})();(0,A.Xf)(function(){var Za,cb;if((0,B.fra)(L.url))try{if((k(L,la),R=la.url,(0,x.QM)(R),Y.Url=R,(0,b.D7)())){!1;Ka=new XMLHttpRequest();Za=n.config.v4b && "undefined" != typeof Ka.onloadstart;Za && (Ka.onloadstart=function(){var Va;Va=(0,u.mk)();T.$q=Va;la.f$({mediaRequest:L,timestamp:Va});});Ka.onreadystatechange=function(){if(2 == Ka.readyState){Ua=!0;T.Ci=(0,u.mk)();Ka.onreadystatechange=null;O();!1;for(var Va=la,Qa=Ka.getAllResponseHeaders().split("\n"),xa=Qa.length,Ea,Na,Xa={};xa--;){if(Ea=Qa[xa])(Na=Ea.indexOf(": "),1 <= Na && Na < Ea.length - 1 && (Xa[Ea.substr(0,Na)]=Ea.substr(Na + 2)));}Va.headers=Xa;la.h$({timestamp:T.Ci,connect:!0,mediaRequest:L,start:T.$q,rt:[T.Ci - T.$q]});}};Ka.onprogress=function(Va){Ua=!0;T.lla=Va.loaded;O();Va={mediaRequest:L,bytes:Va.loaded,timestamp:(0,u.mk)(),bytesLoaded:Va.loaded};la.h$(Va);};Ka.onload=function(){var Va;if(N !== t.Al){(0,x.jb)(void 0 === T.vp);T.vp=(0,u.mk)();T.Ci=T.Ci || T.vp;if(200 <= Ka.status && 299 >= Ka.status){Va=h(Ka,la);la.parsed=!1;la.content=Va;la.aa=!0;}else Ka.status == F?P(w.M.NR,Ka.status):P(w.M.MR,Ka.status,Ka.response,S(Ka));N();}};Ka.onabort=ya;Ka.onerror=function(){var Va,Qa;Va=Ka.status;"undefined" !== typeof n.config.eYa && (Va=n.config.eYa);if(0 < Va){if(Va == F)P(w.M.NR,Va);else {try{Qa=Ka.responseText;}catch(xa){}P(w.M.MR,Va,Qa,S(Ka));}}else P(w.M.PR);};cb=(0,u.mk)();g(Ka,R,!1,L);M.Hc(b.C7,la,!0);Za || (T.$q=cb,la.f$({mediaRequest:L,timestamp:cb}));O();M.addListener(b.E7,U);}else (0,A.Xf)(P.bind(void 0,w.M.LR));}catch(Va){ra.error("Exception starting download",Va,Y);P(w.M.Bda,void 0,(0,t.wd)(Va));}else P(w.M.sEa);});return la;},ic:Q,Ndc:function(L){var J;J=new XMLHttpRequest();L=f(L);J.open("HEAD",L);J.onreadystatechange=function(){2 == J.readyState && !1;};J.send();},k0b:function(L){var J;J=new XMLHttpRequest();L=c(L);J.open("HEAD",L);J.onreadystatechange=function(){2 == J.readyState && !1;};J.send();},qWb:function(L){var J,N,O;J=new XMLHttpRequest();N=L.url;O=L.nWb;J.open("HEAD",N);J.timeout=Math.max(2 * O.oPb,n.config.bva);J.onreadystatechange=function(){2 == J.readyState && (!1,O && O.MO({url:N}));};J.ontimeout=J.onerror=function(){!1;O && O.wta({url:N});};J.send();},Hlb:D};})();b.xLb=c;b.uLb=f;b.wLb=k;b.vLb=m;b.D7=q.SKa;b.yLb=d;b.Lmb=g;b.Kmb=h;b.C7=1;b.I0a=2;b.J0a=3;b.E7=4;b.$pa=5;b.Ypa=1;b.Zpa=2;b.HW=3;F=420;nb._cad_global.http=b.mf;},function(r,b,a){var f,k,m,d,g;function c(h,l,n){this.context=h;this.errorCode=l;this.QYb=n;}Object.defineProperty(b,"__esModule",{value:!0});b.Ji=void 0;r=a(1);f=a(0);k=a(523);m=a(5);d=a(40);g=a(41);c.prototype.send=function(h,l,n,q,p,u){var t;t=this;u=void 0 === u?g.Nv.sS:u;return this.CHb(h,l,n,u,q,p).then(function(w){return t.context.KCb.send(w.context,w.request);});};c.prototype.CHb=function(h,l,n,q,p,u){var t,w;try{t=this.context.qYb.create(this.context.lA.zz(),l.url,n,p,q);w=this.wvb(l,h,q,u);return Promise.resolve({context:w,request:t});}catch(v){return Promise.reject(v);}};c.prototype.wvb=function(h,l,n,q){return {mf:this.context.mf,log:l,Gn:h.name,url:this.context.g4b((0,k.XSa)(this.context.Kh,this.context.Vh,h.name,n)),uwa:this.QYb,timeout:(0,m.Bh)(59),headers:(0,k.WSa)(this.context.Vh,this.context.fH),up:h.up,avb:q};};c.prototype.Pn=function(h){return h instanceof d.od?h:(0,k.Pn)(this.errorCode,h);};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.bn)()),r.__param(1,(0,f.bn)()),r.__param(2,(0,f.bn)())],a);b.Ji=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pt={Request:"Request",Hfa:"Singleton",e2:"Transient"};b.Sj={NBa:"ConstantValue",OBa:"Constructor",YCa:"DynamicValue",sda:"Factory",Function:"Function",Instance:"Instance",ijb:"Invalid",PKa:"Provider"};b.wy={GBa:"ClassProperty",PBa:"ConstructorArgument",Wfa:"Variable"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ux="Base16EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xv="Utf8EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dMa="StorageValidatorSymbol";b.QB="AppStorageFactorySymbol";},function(r,b,a){var f,k,m;function c(d,g){this.gw=g?[g]:[];this.gha="$op$" + m++;this.G=d;}Object.defineProperty(b,"__esModule",{value:!0});b.ec=void 0;f=a(12);k=a(22);m=0;c.prototype.addListener=function(d,g){var h;h=this;(0,k.Lla)(d);(0,k.jb)(0 > this.gw.indexOf(d));d[f.A1 + this.gha]=g;this.gw=this.gw.slice();this.gw.push(d);this.gw.sort(function(l,n){return h.y0b(l,n);});};c.prototype.removeListener=function(d){var g;(0,k.Lla)(d);this.gw=this.gw.slice();0 <= (g=this.gw.indexOf(d)) && this.gw.splice(g,1);};c.prototype.set=function(d,g){if(this.G !== d){g={oldValue:this.G,newValue:d,Am:g};this.G=d;d=this.gw;for(var h=d.length,l=0;l < h;l++){d[l](g);}}};c.prototype.when=function(d){var g;g=this;return new Promise(function(h){function l(n){if(d(n.newValue))return (g.removeListener(l),h(n.newValue));}if(d(g.G))return h(g.G);g.addListener(l);});};c.prototype.y0b=function(d,g){return (d[f.A1 + this.gha] || 0) - (g[f.A1 + this.gha] || 0);};Ya.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.G;}}});b.ec=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gy="IdProviderSymbol";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Av=void 0;r=(function(){function a(c){this.cf=c;}a.prototype.jxa=function(c){this.cf=c;};a.prototype.FTa=function(){this.cf=void 0;};a.prototype.UV=function(c){return this.cf && this.cf.k$ && this.cf.k$(c);};a.prototype.sN=function(c){this.cf && this.cf.UA && this.cf.UA(c);};a.prototype.rD=function(c){this.cf && this.cf.DI && this.cf.DI(c);};a.prototype.uH=function(c){this.cf && this.cf.EI && this.cf.EI(c);};a.prototype.gYa=function(c){this.cf && this.cf.$ta && this.cf.$ta(c);};a.prototype.pu=function(c){this.cf && this.cf.Ek && this.cf.Ek(c);};a.prototype.q6=function(c){this.cf && this.cf.fY && this.cf.fY(c);};a.prototype.rN=function(c,f,k){this.cf && this.cf.eY && this.cf.eY(c,f,k);};return a;})();b.Av=r;r.prototype.k$=r.prototype.UV;r.prototype.UA=r.prototype.sN;r.prototype.DI=r.prototype.rD;r.prototype.EI=r.prototype.uH;r.prototype.Ek=r.prototype.pu;r.prototype.fY=r.prototype.q6;r.prototype.eY=r.prototype.rN;r.prototype.$ta=r.prototype.gYa;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(146);b.Bo=function(f){c.assert("number" === typeof f);return String.fromCharCode(f >>> 24 & 255) + String.fromCharCode(f >>> 16 & 255) + String.fromCharCode(f >>> 8 & 255) + String.fromCharCode(f & 255);};b.VS=function(f){return f.charCodeAt(3) + (f.charCodeAt(2) << 8) + (f.charCodeAt(1) << 16) + (f.charCodeAt(0) << 24);};b.Fnb=function(f,k){return Math.floor(1E3 * f / k);};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(m){f.prototype.parse.call(this,m);this.jc=this.hj([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{rLb:"int32"},{O4b:"int32"},{offset:32,type:"offset"},{hGb:"int16"},{Lxb:{type:"int8",mja:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};k.Ra=!0;return k;})(a(230).default);b.default=r;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Yb="avc1";return k;})(r);b.lca=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Yb="avc2";return k;})(r);b.mca=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Yb="avc3";return k;})(r);b.nca=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Yb="avc4";return k;})(r);b.oca=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Yb="hvc1";return k;})(r);b.Cda=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Yb="hev1";return k;})(r);b.wda=a;r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Yb="av01";return k;})(r);b.Feb=r;},function(r){r.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(r,b,a){var f,k,m,d;function c(g,h,l){var n,q,t;h=f.__assign({},null === (q=null === g || void 0 === g?void 0:g.context) || void 0 === q?void 0:q.call(g,{Z5a:h,No:l}));if((null === g || void 0 === g?0:g.No) && l)if(!0 === g.No)h.args=l;else {q={};h.args=q;try{for(var p=f.__values(g.No),u=p.next();!u.done;u=p.next()){t=u.value;q[t]=l[t];}}catch(v){var w;w={error:v};}finally{try{u && !u.done && (n=p.return) && n.call(p);}finally{if(w)throw w.error;}}}return h;}Object.defineProperties(b,{__esModule:{value:!0}});b.Vv=b.spa=b.Sb=void 0;f=a(2);k=a(20);m=f.__importDefault(a(6));d=a(9);b.Sb=function(g){return function(h,l,n){var q;q=n.value;n.value=function(){var p,u,t,w,v,x;u=b.spa(this);if(u)(t=c(g,this,arguments),w=null !== (p=null === g || void 0 === g?void 0:g.methodName) && void 0 !== p?p:String(l),v=u.cU(w,t,null === g || void 0 === g?void 0:g.fl,null === g || void 0 === g?void 0:g.scc));p=null === u || void 0 === u?void 0:u.Hla;u && (u.Hla=v);try{x=null === q || void 0 === q?void 0:q.apply(this,arguments);d.Xqa(x) && (x=x.then(function(z){v && (null === g || void 0 === g?0:g.return) && (v.data.resolve=z);return z;},function(z){v && (v.data.reject="" + z);return Promise.reject(z);}));return x;}catch(z){var y;y=z;throw z;}finally{u && (u.Hla=p);v && (v.data || (v.data={}),y?(v.data.error="" + y,null === u || void 0 === u?void 0:u.Wxb(v)):(null === g || void 0 === g?0:g.return) && !d.Xqa(x) && (v.data.lRet=x));}};};};b.spa=function(g){if(null === g || void 0 === g?0:g.ega)return g.ega;};r=(function(){function g(h){this.Kq=[];this.W2=!1;this.fha={};this.J=f.__assign({LA:10},h);Object.defineProperties(h.Rq,{ega:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(g.prototype,{source:{get:function(){return this.J.source;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !this.W2;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{YNb:{get:function(){return f.__spread(this.Kq);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{oLb:{get:function(){return this.fha;},enumerable:!1,configurable:!0}});g.prototype.uw=function(h){var l,n;if(!this.W2){n=null === (l=b.spa(this.J.Rq)) || void 0 === l?void 0:l.Hla;n && (n.data=f.__assign(f.__assign({},n.data),h));}};g.prototype.cU=function(h,l,n,q){var p,u,t,w;if(!this.W2){t=!1;w=null === (u=(p=this.J).Wia) || void 0 === u?void 0:u.call(p,this.J.Rq);p=c({},this.J.Rq);l=f.__assign(f.__assign(f.__assign({},w),p),l);w=0 < Object.keys(l).length;l={methodName:h,data:w?l:void 0,time:m.default.time.fa()};q && this.fha[h]++;n && this.Kq.length && (n=this.Kq[this.Kq.length - 1],n.methodName === h && (n.data=n.data || ({}),n.data.dedup=n.data.dedup || ({hitCount:1}),n.data.dedup.hitCount++,n.data.dedup.lJournal=l,t=!0));this.Xxb(l);t || this.Kq.push(l);this.Kq.length > this.J.LA && this.Kq.shift();return l;}};g.prototype.Xxb=function(h){var l;k.ia && (null === (l=this.J.console) || void 0 === l?void 0:l.trace(this.J.source + "::" + h.methodName,h.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.J,h);};g.prototype.Wxb=function(h){var l;k.ia && (null === (l=this.J.console) || void 0 === l?void 0:l.error(this.J.source + "::" + h.methodName,h.data));};g.prototype.Ib=function(){Object.defineProperties(this.J.Rq,{ega:{enumerable:!1,value:null,configurable:!0}});this.W2=!0;this.clear();};g.prototype.clear=function(){this.Kq=[];this.fha={};};return g;})();b.Vv=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iy="LogMessageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hp={start:"start",stop:"stop",$W:"keepAlive",gN:"engage",splice:"splice"};b.pda="EventPboCommandFactorySymbol";b.ZLa="StartEventPboCommandSymbol";b.cMa="StopEventPboCommandSymbol";b.IFa="KeepAliveEventPboCommandSymbol";b.ULa="SpliceEventPboCommandSymbol";b.yDa="EngageEventPboCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hy=b.ResponseType=void 0;b.ResponseType={Text:1,X$b:2,gfb:3};b.hy="LegacyHttpSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(153);b.Bo=function(f){c.assert("number" === typeof f);return String.fromCharCode(f >>> 24 & 255) + String.fromCharCode(f >>> 16 & 255) + String.fromCharCode(f >>> 8 & 255) + String.fromCharCode(f & 255);};b.VS=function(f){return f.charCodeAt(3) + (f.charCodeAt(2) << 8) + (f.charCodeAt(1) << 16) + (f.charCodeAt(0) << 24);};b.Fnb=function(f,k){return Math.floor(1E3 * f / k);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ki={audio:"audio",video:"video",lba:"timedtext",Eya:"trickplay"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$x="DeviceFactorySymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.mj=b.okb=b.Jp=void 0;c=a(18);b.Jp=b.Jp || (function(f,k,m){return f >= k?f <= m?f:m:k;});b.okb=function(f,k,m,d,g){return (f - k) * (g - d) / (m - k) + d;};b.mj=function(f){if((0,c.Ea)(f))return (f / 1E3).toFixed(3);};},function(r,b,a){var k,m;function c(d,g,h,l,n){var q,p,t;q={};p="number" === typeof n;n=void 0 !== n && p?n.toString():h;if(p && void 0 !== h)throw Error(k.Uib);Reflect.Jpa(d,g) && (q=Reflect.getMetadata(d,g));h=q[n];if(Array.isArray(h)){p=0;for(var u=h;p < u.length;p++){t=u[p];if(t.key === l.key)throw Error(k.dhb + " " + t.key.toString());}}else h=[];h.push(l);q[n]=h;Reflect.r5(d,q,g);}function f(d,g){return function(h,l){g(h,l,d);};}Object.defineProperty(b,"__esModule",{value:!0});k=a(58);m=a(44);b.FJ=function(d,g,h,l){c(m.nMa,d,g,l,h);};b.b_=function(d,g,h){c(m.oMa,d.constructor,g,h);};b.cs=function(d,g,h){"number" === typeof h?(d=[f(h,d)],Reflect.cs(d,g)):"string" === typeof h?Reflect.cs([d],g,h):Reflect.cs([d],g);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yFa="Injector";b.jy=145152E5;b.uS="ProfileSymbol";},function(r,b,a){var f,k;function c(m,d,g,h,l){m=void 0 === m?f.N.em:m;return k.od.call(this,m,d,g,void 0,void 0,h,k.od.wd(l),l) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ph=void 0;f=a(3);k=a(40);na(c,k.od);b.ph=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pCa="DebugConfigSymbol";b.Ev="DebugSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qda="EventSourceSymbol";b.tda="GlobalEventSourceSymbol";b.G0="DebugEventSourceSymbol";b.BCa="DiagnosticsEventSourceSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(721),b);r.__exportStar(a(722),b);r.__exportStar(a(723),b);r.__exportStar(a(724),b);r.__exportStar(a(725),b);r.__exportStar(a(726),b);r.__exportStar(a(727),b);r.__exportStar(a(728),b);r.__exportStar(a(353),b);r.__exportStar(a(354),b);r.__exportStar(a(729),b);r.__exportStar(a(730),b);r.__exportStar(a(218),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CF="6674654e-696c-5078-6966-665374726d21";b.DF="6674654e-696c-4878-6165-6465722e7632";b.fS="6674654e-696c-5078-6966-66496e646578";b.ny="6674654e-696c-4d78-6f6f-6653697a6573";b.my="6674654e-696c-5378-6565-6b506f696e74";b.kS="cedb7489-e77b-514c-84f9-7148f9882554";b.jS="524f39a2-9b5a-144f-a244-6c427c648df4";b.BF="6674654e-696c-4678-7261-6d6552617465";},function(r,b,a){var c,f,k,m,d,g,h,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.hn=void 0;c=a(2);f=a(4);k=c.__importDefault(a(28));m=c.__importDefault(a(126));d=a(381);g=a(21);r=a(43);h=a(177);l=a(237);a=a(102);n=(function(q){function p(u,t){var w;w=q.call(this,u,t) || this;p.Fb(w,u,t);return w;}c.__extends(p,q);p.Fb=function(u,t,w,v){var x;h.Bv.Fb(u,t,w);u.Qe=w.index;u.oL=w.Za;u.$v=w.tb;u.fsb=w.xb?w.xb:t.xb;u.mJ=w.mJ;u.Loa=v;u.$Oa=! !w.Lq;u.YPa=null !== (x=w.region) && void 0 !== x?x:0;u.xOa=! !w.yna;u.ZOa=! !w.Zw;u.Od=void 0 === w.r6 || void 0 === w.Jna || w.r6 === w.Za && w.Jna === w.tb?u:new l.SB(u,{Za:w.r6,tb:w.Jna});u.zpb=w.cta;u.Wmb=w.mi;u.Mob=t.WKb;u.Sp=w.ya?u.D5a(w.ya):void 0;u.tQa=w.uv;u.gf=!1;};p.YUa=function(u){for(var t=new Uint32Array(u.length),w=new Uint32Array(u.length),v=new Uint8Array(u.length),x=new Uint8Array(u.length),y=0,z,A,B=0;B < u.length;++B){z=u[B];A=z.Qc;t[B]=z.$v - z.oL;w[B]=A;v[B]=z.stream.Pf;void 0 !== z.xb && null !== z.xb && (x[B]=z.xb);y+=A;}return new d.Gfa(t,w,v,x,u.length?u[0].W:1E3,y);};Object.defineProperties(p.prototype,{SD:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{index:{get:function(){return this.Qe;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{xb:{get:function(){return this.fsb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{CSa:{get:function(){return 8 * this.ga / this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Za:{get:function(){return this.oL;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{tb:{get:function(){return this.$v;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Hj:{get:function(){var u,t;return null !== (t=null === (u=this.Loa) || void 0 === u?void 0:u.call(this)) && void 0 !== t?t:0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Lq:{get:function(){return this.$Oa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{region:{get:function(){return this.YPa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{yna:{get:function(){return this.xOa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Zw:{get:function(){return this.ZOa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{cta:{get:function(){return this.zpb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{mi:{get:function(){return this.Wmb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ya:{get:function(){return this.Sp;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{uv:{get:function(){return this.tQa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{r6:{get:function(){return this.Od.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Jna:{get:function(){return this.Od.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{gGb:{get:function(){return this.Od.eu;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{tN:{get:function(){return this.Od.zd;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{t6:{get:function(){return this.Od.pe;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{s6:{get:function(){return this.Od.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Kna:{get:function(){return this.Od.gd;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{fGb:{get:function(){return this.Od.Mc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{sD:{get:function(){var u;u=this.gGb;f.assert(u);return u / this.stream.va.pc;},enumerable:!1,configurable:!0}});p.prototype.Y3a=function(){this.$Oa=!0;};p.prototype.x_b=function(u){this.mJ={ce:u.bZa(),get o8() {return u.vv;}};};p.prototype.QP=function(u){this.tQa=u;};p.prototype.u_b=function(u,t,w){this.YPa=u;this.xOa=t;this.ZOa=w;};p.prototype.Lk=function(u){var t,w;void 0 === u && (u={});t=this.stream.va.pc;w=this.Sp || ({start:0,end:this.sD});u=this.D5a(u);this.Od && this.Od !== this || (this.Od=new l.SB(this,this));u.start > w.start && (this.oL=this.Od.Za + u.start * t);u.end < w.end && (this.$v=this.Od.Za + u.end * t);this.Sp=u;};p.prototype.wma=function(u){void 0 === u && (u=1);this.Sp?this.Lk({start:this.Sp.start + u,end:this.Sp.end}):this.Lk({start:u});};p.prototype.xma=function(u){this.Sp?this.Lk({start:this.Sp.start,end:(this.Sp.end || 0) - u}):this.Lk({start:0,end:-u});};p.prototype.vma=function(){this.Lk({start:0,end:0});};p.prototype.y_b=function(u){this.Sp || this.Lk();this.Sp.xxa=u;};p.prototype.PXa=function(u){var w;if(!(u < this.$ || u >= this.La) && this.mi && this.mi.length){u=new g.O(u + 1 - this.$,1E3).Ml(this.stream.va);for(var t=this.mi.length - 1;0 <= t;--t){w=this.mi[t];if(w.sl <= u)return w;}return {sl:0,Fd:this.Kna};}};p.prototype.GFb=function(u){var w;if(!(u < this.$ || u >= this.La) && this.mi && this.mi.length){u=new g.O(u + 1 - this.$,1E3).Ml(this.stream.va);for(var t=this.mi.length - 1;0 <= t;--t){w=this.mi[t];if(w.sl <= u)return w;}return {sl:0,Fd:this.Kna};}};p.prototype.HXa=function(u,t){var w,v,x;if(!(u < this.$ || u >= this.La)){if(!t && this.Mob)return {sl:0,Fd:this.$};w=this.va.pc;v=this.va.W;x=Math.floor(this.eu / w);u=Math.min((t?Math.ceil:Math.floor)((g.O.dta(u,v) - this.Za + (t?-1:1) * (v / 1E3 - 1)) / w),x);w=g.O.k_(this.Za + u * w,v);return u === x?void 0:{sl:u,Fd:w};}};p.prototype.pna=function(u){return this.mediaType === k.default.Wa.Pb?this.PXa(u):this.HXa(u,!1);};p.prototype.ona=function(u){return this.mediaType === k.default.Wa.Pb?this.GFb(u):this.HXa(u,!0);};p.prototype.R3=function(u){this.Qc+=u.ga;this.$v=u.tb;this.Sp && (this.Od=new l.SB(this,{Za:this.r6,tb:this.$v}),this.Sp.end=this.sD);};p.prototype.toString=function(){return "[" + this.Ta + ", " + this.bitrate + "kbit/s, c:" + (this.gd + "-" + this.Mc + ",p:") + (this.zd + "-" + this.pe + ",d:" + this.duration + "]");};p.prototype.toJSON=function(){var u;u=h.Bv.prototype.toJSON.call(this);m.default({index:this.index,startPts:this.$,endPts:this.La,"contentStartTicks:":this.Za,contentEndTicks:this.tb,contentStartPts:this.gd,contentEndPts:this.Mc,fragmentStartPts:this.tN !== this.$?this.tN:void 0,fragmentEndPts:this.t6 !== this.La?this.t6:void 0,edit:this.ya},u);return u;};p.prototype.OXa=function(u){var w;if(this.mi)for(var t=0;t < this.mi.length;++t){if(this.mi[t].sl === u)w=this.mi[t].offset;}return w;};p.prototype.D5a=function(u){var t;t=u.start || 0;return {start:t,end:void 0 === u.end?this.sD:Math.min(this.sD,Math.max(t,0 > u.end?this.sD + u.end:u.end)),xxa:u.xxa,m0b:u.m0b};};return p;})(h.Bv);b.hn=n;r.Bf(a.Sx,n);r.Bf(a.RB,n);},function(r,b,a){var d;function c(g,h){return void 0 === g?void 0:0 === g?d.O.eb:new d.O(g,h);}function f(g,h){return g && Math.floor(d.O.k_(g,h));}function k(g,h){return void 0 === g || void 0 === h?void 0:g + h;}function m(g,h){return void 0 === g || void 0 === h?void 0:g - h;}Object.defineProperties(b,{__esModule:{value:!0}});b.RB=b.Sx=void 0;d=a(21);r=(function(){function g(){}Object.defineProperties(g.prototype,{eu:{get:function(){return m(this.tb,this.Za) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{mVb:{get:function(){return k(this.Za,this.Hj);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{iVb:{get:function(){return k(this.tb,this.Hj);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{jH:{get:function(){return c(this.eu,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Xc:{get:function(){return c(this.Za,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Td:{get:function(){return c(this.tb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Pg:{get:function(){return c(this.mVb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ye:{get:function(){return c(this.iVb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{lva:{get:function(){return c(this.Hj,this.W);},enumerable:!1,configurable:!0}});return g;})();b.Sx=r;r=(function(){function g(){}Object.defineProperties(g.prototype,{duration:{get:function(){return m(this.La,this.$) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$:{get:function(){return f(k(this.Za,this.Hj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{La:{get:function(){return f(k(this.tb,this.Hj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{gv:{get:function(){return f(this.Hj,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{nk:{get:function(){return f(this.Za,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{gd:{get:function(){return f(this.Za,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Mc:{get:function(){return f(this.tb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{zd:{get:function(){return f(k(this.Za,this.Hj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{pe:{get:function(){return f(k(this.tb,this.Hj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{fs:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{cB:{get:function(){return this.$;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{vx:{get:function(){return this.La;},enumerable:!1,configurable:!0}});return g;})();b.RB=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QQ=b.Keb=b.sca=b.tca=void 0;(function(a){a[a.oWa=0]="downloading";a[a.eDb=1]="downloaded";a[a.gf=2]="appended";a[a.buffered=3]="buffered";a[a.qP=4]="removed";a[a.qfc=5]="unused";})(b.tca || (b.tca={}));(function(a){a[a.waiting=1]="waiting";a[a.Udc=2]="ondeck";a[a.oWa=4]="downloading";a[a.eDb=8]="downloaded";a[a.PW=6]="inprogress";})(b.sca || (b.sca={}));b.Keb="AseBufferViewSymbol";b.QQ="AseBufferAccountingSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oea=b.nn=void 0;r=b.nn || (b.nn={});r.IF="PRE_FETCH";r.Blb="QC";r.Lp="STANDARD";r.S1="SUPPLEMENTAL";r.O6b="DOWNLOAD";b.Oea="PboManifestCommandSymbol";},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.$_a=b.Ccb=b.Tu=b.o9=b.H4a=void 0;r=a(975);c=a(978);f=a(999);a=a(1003);b.H4a=r;b.o9=function(k,m){return (0,b.H4a)(function(d,g){return void 0 !== g?g:d;},k,m);};b.Tu=c;b.Ccb=f;b.$_a=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CF="6674654e-696c-5078-6966-665374726d21";b.DF="6674654e-696c-4878-6165-6465722e7632";b.fS="6674654e-696c-5078-6966-66496e646578";b.ny="6674654e-696c-4d78-6f6f-6653697a6573";b.my="6674654e-696c-5378-6565-6b506f696e74";b.kS="cedb7489-e77b-514c-84f9-7148f9882554";b.jS="524f39a2-9b5a-144f-a244-6c427c648df4";b.BF="6674654e-696c-4678-7261-6d6552617465";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(m){f.prototype.parse.call(this,m);this.jc=this.hj([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{rLb:"int32"},{O4b:"int32"},{offset:32,type:"offset"},{hGb:"int16"},{Lxb:{type:"int8",mja:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};k.Ra=!0;return k;})(a(270).default);b.default=r;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Yb="avc1";return k;})(r);b.lca=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Yb="avc2";return k;})(r);b.mca=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Yb="avc3";return k;})(r);b.nca=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Yb="avc4";return k;})(r);b.oca=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Yb="hvc1";return k;})(r);b.Cda=a;r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Yb="hev1";return k;})(r);b.wda=r;},function(r,b){var c;function a(f,k){var m;m=this;this.Vga=[];c.forEach(function(d){(d=d(f,k)) && m.Vga.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.yF=b.wHa=void 0;c=[];a.prototype.sv=function(f){var d;for(var k=[],m=this.Vga.length;m--;){d=this.Vga[m];d.sv(f) && k.push(d.nN);}if(k.length)return k;};b.wHa=a;b.yF=function(f){c.push(f);};},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JF="PlatformConfigDefaultsSymbol";},function(r,b,a){var f,k,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.nK=b.Lb=void 0;f=a(138);k=a(40);m=a(3);c.ooa=function(d){if(d){if(d.includes(b.nK.vE))return f.so.vE;if(d.includes("fps"))return f.so.rH;if(d.includes(b.nK.Wba))return f.so.Wba;}throw new k.od(m.N.vhb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.hZa=function(d){switch(d){case f.so.vE:return b.nK.vE;case f.so.rH:return b.nK.rH;default:return b.nK.Wba;}};b.Lb=c;c.qy="com.microsoft.playready";c.Yd="com.microsoft.playready.hardware";c.KF="com.microsoft.playready.software";c.Phb="com.apple.fps.2_0";c.vNa="com.widevine.alpha";c.vlb="com.microsoft.playready.recommendation.3000";c.GJa="com.microsoft.playready.recommendation.2000";b.nK={rH:"fairplay",Wba:"widevine",vE:"playready"};},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Hd=void 0;f=a(26);c.dVa=function(k){var m;m={};m[f.ue.xS]=c.sR;m[f.ue.U0]=c.sR;m[f.ue.XK]=c.vR;m[f.ue.ey]=c.ey;m[f.ue.qt]=k || c.qt;m[f.ue.PB]=c.sR;m[f.ue.nC]=c.FS;m[f.ue.yl]=c.yl;return m;};b.Hd=c;c.Tsa='video/mp4; codecs="avc1.4d0028"';c.sR="avc1.4d0028";c.vR="hev1.1.6.L93.B0";c.u0="dvhe.05.01";c.$ca="dvhe.05.04";c.ada="dvhe.05.05";c.bda="dvhe.05.06";c.cda="dvhe.05.07";c.dda="dvhe.05.09";c.qt=c.u0;c.ey=c.vR;c.V_="mp4a.40.2";c.VF="mp4a.40.42";c.ggb="ec-3";c.FS="vp09.00.11.08.02";c.yl="av01.0.04M.08";c.$fb=[c.dda,c.cda,c.bda,c.ada,c.$ca,c.u0];},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.lC=void 0;r=a(1);a=a(0);c.prototype.format=function(k,m){var g;for(var d=1;d < arguments.length;++d){;}g=Array.prototype.slice.call(arguments,1);return k.replace(/{(\d+)}/g,function(h,l){return "undefined" != typeof g[l]?g[l]:h;});};c.prototype.cbb=function(k){for(var m=k.length,d=new Uint16Array(m),g=0;g < m;g++){d[g]=k.charCodeAt(g);}return d.buffer;};c.prototype.fbb=function(k){return JSON.stringify(k,null,"  ");};f=c;f=r.__decorate([(0,a.T)()],f);b.lC=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UK="ThrottleFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CK="LoggerSinksSymbol";},function(r){var h,l,n,q;function b(){b.Fb.call(this);}function a(p){if("function" !== typeof p)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof p);}function c(p,u,t,w){var v,x;a(t);v=p.Ih;if(void 0 === v)(v=p.Ih=Object.create(null),p.bG=0);else {void 0 !== v.Kdc && (p.emit("newListener",u,t.listener?t.listener:t),v=p.Ih);x=v[u];}void 0 === x?(v[u]=t,++p.bG):("function" === typeof x?x=v[u]=w?[t,x]:[x,t]:w?x.unshift(t):x.push(t),t=void 0 === p.uT?b.NBb:p.uT,0 < t && x.length > t && !x.i5b && (x.i5b=!0,t=Error("Possible EventEmitter memory leak detected. " + x.length + " " + String(u) + " listeners added. Use emitter.setMaxListeners() to increase limit"),t.name="MaxListenersExceededWarning",t.fu=p,t.type=u,t.count=x.length,console && console.warn && console.warn(t)));return p;}function f(){if(!this.TXa)return (this.target.removeListener(this.type,this.Zdb),this.TXa=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function k(p,u,t){p={TXa:!1,Zdb:void 0,target:p,type:u,listener:t};u=f.bind(p);u.listener=t;return p.Zdb=u;}function m(p){var u;u=this.Ih;if(void 0 !== u){p=u[p];if("function" === typeof p)return 1;if(void 0 !== p)return p.length;}return 0;}function d(p,u,t){"function" === typeof p.on && g(p,"error",u,t);}function g(p,u,t,w){if("function" === typeof p.on){if(w.once)p.once(u,t);else p.on(u,t);}else if("function" === typeof p.addEventListener)p.addEventListener(u,function y(x){w.once && p.removeEventListener(u,y);t(x);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof p);}h="object" === typeof Reflect?Reflect:null;l=h && "function" === typeof h.apply?h.apply:function(p,u,t){return Function.prototype.apply.call(p,u,t);};n=Number.isNaN || (function(p){return p !== p;});r.exports=b;r.exports.once=function(p,u){return new Promise(function(t,w){function v(y){p.removeListener(u,x);w(y);}function x(){"function" === typeof p.removeListener && p.removeListener("error",v);t([].slice.call(arguments));}g(p,u,x,{once:!0});"error" !== u && d(p,v,{once:!0});});};b.EventEmitter=b;b.prototype.Ih=void 0;b.prototype.bG=0;b.prototype.uT=void 0;q=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return q;},set:function(p){if("number" !== typeof p || 0 > p || n(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + p + ".");q=p;}});b.Fb=function(){if(void 0 === this.Ih || this.Ih === Object.getPrototypeOf(this).Ih)(this.Ih=Object.create(null),this.bG=0);this.uT=this.uT || void 0;};b.prototype.setMaxListeners=function(p){if("number" !== typeof p || 0 > p || n(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + p + ".");this.uT=p;return this;};b.prototype.emit=function(p){var w,v;for(var u=[],t=1;t < arguments.length;t++){u.push(arguments[t]);}w="error" === p;t=this.Ih;if(void 0 !== t)w=w && void 0 === t.error;else if(!w)return !1;if(w){0 < u.length && (v=u[0]);if(v instanceof Error)throw v;u=Error("Unhandled error." + (v?" (" + v.message + ")":""));u.context=v;throw u;}t=t[p];if(void 0 === t)return !1;if("function" === typeof t)l(t,this,u);else {v=t.length;w=Array(v);for(var x=0;x < v;++x){w[x]=t[x];}for(t=0;t < v;++t){l(w[t],this,u);}}return !0;};b.prototype.addListener=function(p,u){return c(this,p,u,!1);};b.prototype.on=b.prototype.addListener;b.prototype.AY=function(p,u){return c(this,p,u,!0);};b.prototype.once=function(p,u){a(u);this.on(p,k(this,p,u));return this;};b.prototype.R7a=function(p,u){a(u);this.AY(p,k(this,p,u));return this;};b.prototype.removeListener=function(p,u){var t,w,v,x,y;a(u);w=this.Ih;if(void 0 === w)return this;v=w[p];if(void 0 === v)return this;if(v === u || v.listener === u)0 === --this.bG?this.Ih=Object.create(null):(delete w[p],w.removeListener && this.emit("removeListener",p,v.listener || u));else if("function" !== typeof v){x=-1;for(t=v.length - 1;0 <= t;t--){if(v[t] === u || v[t].listener === u){y=v[t].listener;x=t;break;}}if(0 > x)return this;if(0 === x)v.shift();else {for(;x + 1 < v.length;x++){v[x]=v[x + 1];}v.pop();}1 === v.length && (w[p]=v[0]);void 0 !== w.removeListener && this.emit("removeListener",p,y || u);}return this;};b.prototype.SA=b.prototype.removeListener;b.prototype.removeAllListeners=function(p){var u,t,w;u=this.Ih;if(void 0 === u)return this;if(void 0 === u.removeListener)return (0 === arguments.length?(this.Ih=Object.create(null),this.bG=0):void 0 !== u[p] && (0 === --this.bG?this.Ih=Object.create(null):delete u[p]),this);if(0 === arguments.length){t=Object.keys(u);for(u=0;u < t.length;++u){w=t[u];"removeListener" !== w && this.removeAllListeners(w);}this.removeAllListeners("removeListener");this.Ih=Object.create(null);this.bG=0;return this;}t=u[p];if("function" === typeof t)this.removeListener(p,t);else if(void 0 !== t)for(u=t.length - 1;0 <= u;u--){this.removeListener(p,t[u]);}return this;};b.prototype.listeners=function(p){var u;u=this.Ih;if(void 0 === u)p=[];else if((p=u[p],void 0 === p))p=[];else if("function" === typeof p)p=[p.listener || p];else {u=Array(p.length);for(var t=0;t < u.length;++t){u[t]=p[t].listener || p[t];}p=u;}return p;};b.listenerCount=function(p,u){return "function" === typeof p.listenerCount?p.listenerCount(u):m.call(p,u);};b.prototype.listenerCount=m;},function(r,b,a){var n;function c(q,p){if(q.length == p.length && 1 < q.length){for(var u=q.length,t=0,w=d(q),v=d(p),x=0;x < u;x++){t+=q[x] * p[x];}return (t - w * v / u) / u;}return !1;}function f(q){if(!Array.isArray(q) || 2 > q.length)return !1;q=k(q);return Math.sqrt(q);}function k(q){var p;if(!Array.isArray(q) || 2 > q.length)return !1;p=m(q);return d(q.map(function(u){return (u - p) * (u - p);})) / (q.length - 1);}function m(q){return Array.isArray(q) && q.length?d(q) / q.length:!1;}function d(q){return Array.isArray(q)?q.reduce(function(p,u){return p + u;},0):!1;}function g(q,p,u){return Math.max(Math.min(q,u),p);}function h(q,p){return "number" === typeof q?q:p;}function l(q){return 1 / (1 + Math.exp(-q));}n=a(10);r.exports={Ya:function(q,p,u){try{q.emit(p,u);}catch(t){q.Vk("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",t,"Event:",u);}},fD:function(){var q,p,u;q=Array.prototype.concat.apply([],arguments);p=q.reduce(function(t,w){return t + w.byteLength;},0);u=new Uint8Array(p);q.reduce(function(t,w){u.set(new Uint8Array(w),t);return t + w.byteLength;},0);return u.buffer;},G4:g,dxb:function(q,p,u,t){return {min:g(h(q.min,p),u,t),max:g(h(q.max,p),u,t),pz:g(q.pz || 6E4,0,6E5),nTa:g(q.nTa || 0,-3E5,3E5),scale:g(q.scale || 6E4,0,3E5),Y9a:g(q.Y9a || 0,-3E5,3E5),gamma:g(q.gamma || 1,.1,10)};},ve:function(q,p){void 0 !== q && n.hUb(q).forEach(function(u){p(u[0],u[1]);});},jXa:function(q,p,u){return q.min + (q.max - q.min) * (1 - Math.pow(l(6 * (p - (q.pz + (q.nTa || 0) * (1 - u))) / (q.scale + (q.Y9a || 0) * (1 - u))),q.gamma));},BEb:function(q,p){return q.min + (q.max - q.min) * Math.pow(l(6 * (p - q.pz) / q.scale),q.gamma);},fcc:d,RGb:m,gKb:k,dcc:f,Ybc:c,Xbc:function(q,p){var u;if(q.length == p.length){u=c(q,p);q=f(q);p=f(p);if(0 < q && 0 < p)return u / (q * p);}return !1;},Nq:function(q,p,u){return p.$Ua?p.$Ua(u):new q.Console("ASEJS","media|asejs",p.prefix?p.prefix + " " + u:u);},wZb:function(q){return q.length?"{" + q + "} ":"";},jZb:function(q,p,u){return {min:q.min * u + (1 - u) * p.min,max:q.max * u + (1 - u) * p.max,pz:q.pz * u + (1 - u) * p.pz,scale:q.scale * u + (1 - u) * p.scale,gamma:q.gamma * u + (1 - u) * p.gamma};},tanh:Math.tanh || (function(q){var p;p=Math.exp(+q);q=Math.exp(-q);return Infinity == p?1:Infinity == q?-1:(p - q) / (p + q);}),wxa:l,Mq:function(q){var p;p=q.Ua.ib.H.id;return {$:q.$,duration:q.duration,offset:q.offset,ga:q.ga,bitrate:q.bitrate,profile:q.profile,dd:q.dd,ha:p,Ta:q.Ta,Qd:q.Qd,location:q.location,wi:q.wi,nk:q.nk,rx:{ib:{H:{id:p}}}};}};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(228);c=a(147);b.ehb=c;c=a(374);b.WK=c;c=a(378);b.wub=c;b.V1=r.Oq.Xa.sidx;r=a(797);b.Er=r.Er;r=a(236);b.Cr=r.Cr;r=a(801);b.Dr=r.Dr;b.EA=r.EA;r=a(802);b.zK=r.zK;r=a(83);b.Bo=r.Bo;a=a(803);b.Xj=a.Xj;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.h0=b.Qj=void 0;c=a(2);r=c.__importDefault(a(17));f=c.__importStar(a(10));k=r.default.gi;m=c.__importDefault(a(6));d=m.default.Br;g=a(174);h=c.__importDefault(a(145));l=a(9);r=a(43);n=a(240);q=a(177);(function(u){u[u.akb=0]="NOTHING_APPENDED";u[u.wkb=1]="PARTIAL";u[u.Yx=2]="COMPLETE";u[u.Rf=3]="ERROR";})(p=b.Qj || (b.Qj={}));a=(function(u){function t(w,v,x,y,z,A,B){v=u.call(this,v,x) || this;n.eK.Fb(v,w,y,z,A,B);q.Bv.Fb(v,w,y);v.Pmb=w.url || y.url;v.dga=y.responseType;v.Omb=y.Paa;void 0 === v.dga && (v.dga=d.Rc && !d.Rc.lZ.yS?0:1);v.Mi=new k();v.Mi.on(v,d.Ne.aIa,v.Kha);v.Mi.on(v,d.Ne.$Ha,v.mqb);v.Mi.on(v,d.Ne.bIa,v.pqb);v.Mi.on(v,d.Ne.iS,v.Jha);v.Mi.on(v,d.Ne.FF,v.vT);v.$K=!1;v.bf=!1;v.lm=!1;v.Ho=!1;v.eT=!1;v.krb=y.cJ;v.Is=0;return v;}c.__extends(t,u);Object.defineProperties(t.prototype,{active:{get:function(){return this.bf;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Iva:{get:function(){return this.lm;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{complete:{get:function(){return !this.$K && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{aborted:{get:function(){return this.$K;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Qqa:{get:function(){return this.Ho && !this.eT;},enumerable:!1,configurable:!0}});t.prototype.Fb=function(w){n.eK.prototype.Fb.call(this,w);this.ng || !this.hf.Lia && this.dd || (this.ng=h.default.instance(),this.active && (this.ng.wP(m.default.time.fa(),this.fZ),this.lm && (m.default.time.fa(),this.connect && 0 < this.Ns.length && this.ng.$y(this.Ns[0]))));};t.prototype.Eu=function(){return this.gf || 1 !== this.responseType?5 === this.readyState:3 <= this.readyState;};t.prototype.FG=function(w,v,x,y){this.gf=w.appendBuffer(this.response,y || l.Mq(this));return {status:this.gf?p.Yx:p.Rf};};t.prototype.UO=function(){(this.Ho=d.prototype.open.call(this,this.Pmb,{start:this.offset,end:this.offset + this.ga - 1},this.dga,{},void 0,void 0,this.Omb)) && this.UV(this);return this.Ho;};t.prototype.abort=function(){var w;if(this.aborted)return !0;w=this.bf;this.ng && w && this.ng.eZ(m.default.time.fa(),this.lm,{requestId:this.O2(),vi:this.Qd,type:this.mediaType});this.$K=!0;this.lm=this.bf=!1;d.prototype.abort.call(this);this.rN(this,w,this.Qqa);return !0;};t.prototype.fd=function(){7 !== this.readyState && 5 !== this.readyState && (this.I.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this.toString()),this.abort());this.Mi && this.Mi.clear();u.prototype.fd.call(this);};t.prototype.Kha=function(){var w;w=this.xf || this.loadTime;g.Vx.instance().push(m.default.time.fa() - w);this.bf || (this.bf=!0,this.Gu=this.track.Gu(),this.stream.J.$3a || this.ng && this.ng.wP(w,{requestId:this.O2(),vi:this.Qd,type:this.mediaType}),this.sN(this),this.bv=this.xf);};t.prototype.mqb=function(){var w,v,x;w=this.xf || this.tna;v=this.connect;x=this.Ns;g.Vx.instance().push(m.default.time.fa() - w);this.bf || (this.bf=!0);this.lm || (this.lm=!0,this.stream.J.$3a && this.ng && this.ng.wP(w,{requestId:this.O2(),vi:this.Qd,type:this.mediaType}),v && 0 < x.length && this.ng && this.ng.$y(x[0]),this.rD(this),this.bv=w);};t.prototype.pqb=function(){var w,v,x;w=this;v=this.xf;x=this.bytesReceived - this.Is;g.Vx.instance().push(m.default.time.fa() - v);this.lm || (this.lm=!0);this.ng && (void 0 === this.bv || this.ng.vw(x,this.bv,v,this.fZ),this.Ns && this.Ns.length && this.Ns.forEach(function(y){w.ng.Yy(y);}));this.uH(this);this.bv=v;this.Is=this.bytesReceived;};t.prototype.Jha=function(){var w,v,x;w=this;v=this.xf;x=this.bytesReceived - this.Is;g.Vx.instance().push(m.default.time.fa() - v);this.ng && (0 < x && this.ng.vw(x,this.bv,v,this.fZ),this.Ns && this.Ns.length && this.Ns.forEach(function(y){w.ng.Yy(y);}),this.ng.eZ(v,this.lm,this.fZ));this.lm=this.bf=!1;this.eT=!0;this.pu(this);this.bv=v;this.Is=this.bytesReceived;this.fd();};t.prototype.O2=function(){var w,v;w=(w=this.stream)?w.toString():this.url;v=this.y4;v && (w+=",range " + v.start + "-" + v.end);return w;};Object.defineProperties(t.prototype,{fZ:{get:function(){return {requestId:this.O2(),vi:this.Qd,type:this.mediaType,cJ:this.krb};},enumerable:!1,configurable:!0}});t.prototype.vT=function(){var w,v,x,y;this.I.warn("AseMediaRequest._onError:",this.toString());w=this.xf;v=this.status;x=this.vh;y=this.Cj;g.Vx.instance().push(m.default.time.fa() - w);this.complete?this.I.warn("Error on a done request " + this.toString() + ", failurecode: " + x):this.aborted?this.I.warn("Error on an aborted request " + this.toString() + ", failurecode: " + x):f.Ea(x)?(this.ng && this.hf && this.hf.fwa && this.loadTime && void 0 === v && this.ng.vw(this.Is?this.bytesReceived - this.Is:this.bytesReceived,this.bv?this.bv:this.loadTime,w,this.fZ),this.q6(this)):this.I.warn("ignoring undefined request error (nativecode: " + y + ")");};return t;})(d);b.h0=a;r.Bf(n.eK,a,!1);r.Bf(q.Bv,a,!1);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vF="ManifestFetcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UF="VideoPreparerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OK=b.NF=void 0;r=b.NF || (b.NF={});r.Y7b="ident";r.bea="main";r.mBa="credits";b.OK="PlaygraphHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fo=void 0;b.fo=function(a,c){return [].concat.apply([],ha(a)).map(function(f){return Object.assign({name:f},null !== c && void 0 !== c?c:{});});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RCa="DrmServicesSymbol";b.K0="DrmServicesProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dK="ApiInfoSymbol";},function(r,b){function a(c,f){var k;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,f);Object.getOwnPropertyNames(c).forEach(function(m){k=Object.getOwnPropertyDescriptor(c,m);void 0 !== k && Object.defineProperty(f,m,k);});}Object.defineProperties(b,{__esModule:{value:!0}});b.default=a;},function(r,b,a){var c,f,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Gp=void 0;c=a(2);f=c.__importDefault(a(28));k=c.__importDefault(a(6));m=a(808);r=(function(){function d(g){this.ZK=g;this.gg=[];this.console=new k.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(d,{instance:{get:function(){var g;if(void 0 === d.BL){g=a(6).default;d.BL=new d(g.mK);}return d.BL;},enumerable:!1,configurable:!0}});d.reset=function(){d.BL=void 0;};d.prototype.au=function(g,h,l,n,q,p){var u,t,w,v;u=!1;t=p.Q_b?this.CFb(l,h,g,p.R_b):-1;if(-1 === t){w={track:this.jAb(l,n,g,q,p),Gj:l,K:h,o8a:g,kP:[],So:!1,UM:!1};this.gg.push(w);v=function(){w.So=!0;w.track.removeListener("created",v);};w.track.on("created",v);u=!1;}else (u=!0,w=this.gg[t]);g=new m.jLa(this.console,w.track,w.So,u);w.kP.push(g);return g;};d.prototype.TM=function(g){var h,l;g.qq();h=this.h6(function(n){return n.track === g.track;});if(-1 !== h){if((h=this.gg[h],1 === h.kP.length))(h.track.qq(),h.UM=!0);else {l=h.kP.indexOf(g);0 <= l && h.kP.splice(l,1);}}else g.track.qq();};d.prototype.tg=function(){this.ZK.tg();};d.prototype.jAb=function(g,h,l,n,q){var p,u,t;p=this;u=!1;g?1 === l?(g=!1,h=1,q.Sq?(g=!0,h=q.vO):q.dx && 2 < q.dx && (g=!0,h=q.dx),g={type:this.ZK.Pb,openRange:!g,pipeline:g,connections:h,socketBufferSize:q.AQ,minRequestSize:q.CO}):0 === l?(u=q.Sq && (q.q4b || h && q.r4b),g={type:this.ZK.Xb,openRange:!u,pipeline:u,connections:1,socketBufferSize:q.g4,minRequestSize:q.CO}):g={type:q.BCb?this.ZK.Pb:this.ZK.Vhb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:q.Npa,minRequestSize:q.CO}:g={type:0 === l?f.default.Wa.Xb:f.default.Wa.Pb,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0 === l?q.g4:q.AQ,minRequestSize:q.CO};t=new this.ZK(g,n);t.on("transportreport",function(w){var v;v=p.h6(function(x){return x.track === t;});-1 !== v && (v=p.gg[v],v.kP.length && v.kP[0].emit("transportreport",w));});t.on("destroyed",function(){var w;w=p.h6(function(v){return v.track === t;});-1 !== w && p.gg.splice(w,1);t.removeAllListeners();});if(u && q.p4b || q.sdb)t.on("pipelinedisabled",function(){q.sdb && 1 === t.config.type?t.$$(c.__assign(c.__assign({},t.config),{socketBufferSize:q.sRb,pipeline:!1,openRange:!0,connections:1})):t.$$(c.__assign(c.__assign({},t.config),{pipeline:!1,openRange:!0}));});return t;};d.prototype.CFb=function(g,h,l,n){return this.h6(function(q){return !q.UM && (!n && q.track.config.Xdc || !g?!q.Gj && q.o8a === l:q.Gj && q.K === h && q.o8a === l);});};d.prototype.h6=function(g){for(var h=0;h < this.gg.length;++h){if(g(this.gg[h]))return h;}return -1;};return d;})();b.Gp=r;},function(r,b,a){(function(c,f){function k(m,d,g,h){this.console=new m("ASEJS_PROGRESS","media|asejs");this.now=d;this.v$a=this.H0b=m=this.now();this.P5=m + g;this.KUb=g;this.oVa=m + h;this.debug=!1;this.counter=this.GA=0;this.Gw=1E4;this.Nbb=g / 100;this.Pbb=m;this.Obb=1 * this.Nbb / 4;this.iba=0;this.dV="";this.Ig(m,"progress tracking start");}k.prototype.constructor=k;k.prototype.Ig=function(m,d){var g,h;g=((m - this.v$a) / 1E3).toFixed(3);g=("     ").slice(g.length - 4) + g;h=c.VQb();this.console.info(g + (" " + ((this.oVa - m) / 1E3).toFixed(3)) + (" " + Math.round(this.Gw)) + (" M:(" + Math.floor(h.qcc / 1024 / 1024) + " MB/" + Math.floor(h.A0a / 1024 / 1024) + " MB) ") + this.dV + d);};k.prototype.yrb=function(m){var d;d=this.now();this.dV=m?m + ": ":m;this.GA=0;this.v$a=d;this.Ig(d,"starting");};k.prototype.Wrb=function(m){var d,g;this.counter++;if(!(this.counter < this.Gw)){this.counter=0;d=this.now();g=d - (this.Pbb + this.Nbb);this.Pbb=d;this.iba=.9 * this.iba + .1 * g;this.iba > this.Obb?(this.Gw*=.875,this.Gw=Math.max(1,this.Gw)):this.iba < -this.Obb && (this.Gw*=1.5,this.Gw=Math.min(this.Gw,1E5));if(d >= this.oVa)throw (this.Ig("Execution deadline exceeded after " + (d - this.H0b) + " ms" + this.dV),Error("Execution deadline exceeded" + this.dV));g=c.VQb();this.GA=Math.max(this.GA,g.A0a);if(7516192768 < g.A0a)throw Error("Heap total limit exceeded" + this.dV);if(!(d <= this.P5)){for(;d > this.P5;){this.P5+=this.KUb;}this.Ig(d,m);}}};k.Fb=function(m,d,g,h){f.yE=new k(m,d,g || 5E3,h || 33E5);};k.cxa=function(m){f.yE && f.yE.yrb(m);};k.update=function(m){f.yE && f.yE.Wrb(m);};k.UZa=function(){if(f.yE)return f.yE.GA;};k.now=function(){return f.yE?f.yE.now():Date.now();};r.exports=k;}).call(this,a(253),a(198));},function(r){var b;b={LW:function(a){for(var c in a){a.hasOwnProperty(c) && (b[c]=a[c]);}}};r.exports=b;},function(r,b,a){var d,g;function c(h){return h instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(h);}function f(h){return d.Ue(h);}function k(h){return d.Ea(h);}function m(h){return !c(h) && !f(h) && !k(h) && !Array.isArray(h) && d.Rh(h);}d=a(10);g={fF:0,R1:1,fkb:2,x1:3,em:4};r.exports={tpa:function(h){return c(h)?g.fF:f(h)?g.R1:k(h)?g.fkb:m(h)?g.x1:g.em;},a8:c,Ue:f,Ea:k,Rh:m,Ar:g};},function(r,b,a){var c;c=a(185);r.exports=function(f){return function d(m){return 0 === arguments.length || c(m)?d:f.apply(this,arguments);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.d2=void 0;b.Np={NK:"PRIMARY",fca:"ASSISTIVE",fBa:"COMMENTARY",NONE:"NONE"};b.d2={assistive:b.Np.fca,closedcaptions:b.Np.fca,directorscommentary:b.Np.fBa,commentary:b.Np.fBa,subtitles:b.Np.NK,primary:b.Np.NK,none:b.Np.NONE};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GK="ManifestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sk=void 0;r=b.Sk || (b.Sk={});r.So="created";r.Fx="started";r.gQ="succeeded";r.iu="failed";r.Lh="cancelled";r.mwb="cancelled_on_start";r.rka="cancelled_not_encrypted";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jv=void 0;r=b.Jv || (b.Jv={});r[r.i6b=8]="Backspace";r[r.K$b=9]="Tab";r[r.t7b=13]="Enter";r[r.C$b=16]="Shift";r[r.G6b=17]="Ctrl";r[r.L5b=18]="Alt";r[r.R9b=19]="PauseBreak";r[r.z6b=20]="CapsLock";r[r.v7b=27]="Escape";r[r.E$b=32]="Space";r[r.Q9b=33]="PageUp";r[r.P9b=34]="PageDown";r[r.s7b=35]="End";r[r.X7b=36]="Home";r[r.n8b=37]="LeftArrow";r[r.R$b=38]="UpArrow";r[r.Y9b=39]="RightArrow";r[r.$6b=40]="DownArrow";r[r.k8b=45]="Insert";r[r.X6b=46]="Delete";r[r.$$b=48]="Zero";r[r.t9b=49]="One";r[r.N$b=50]="Two";r[r.L$b=51]="Three";r[r.P7b=52]="Four";r[r.N7b=53]="Five";r[r.D$b=54]="Six";r[r.B$b=55]="Seven";r[r.r7b=56]="Eight";r[r.e9b=57]="Nine";r[r.C5b=65]="A";r[r.M5b=66]="B";r[r.p6b=67]="C";r[r.fgb=68]="D";r[r.E=69]="E";r[r.w7b=70]="F";r[r.Q7b=71]="G";r[r.T7b=72]="H";r[r.fib=73]="I";r[r.l8b=74]="J";r[r.Oda=75]="K";r[r.kjb=76]="L";r[r.r8b=77]="M";r[r.Wjb=78]="N";r[r.r9b=79]="O";r[r.v9b=80]="P";r[r.Q=81]="Q";r[r.V9b=82]="R";r[r.Mlb=83]="S";r[r.qmb=84]="T";r[r.O$b=85]="U";r[r.S$b=86]="V";r[r.U$b=87]="W";r[r.cga=88]="X";r[r.Y$b=89]="Y";r[r.Z$b=90]="Z";r[r.o8b=91]="LeftWindowKey";r[r.Z9b=92]="RightWindowKey";r[r.z$b=93]="SelectKey";r[r.h9b=96]="Numpad0";r[r.i9b=97]="Numpad1";r[r.j9b=98]="Numpad2";r[r.k9b=99]="Numpad3";r[r.l9b=100]="Numpad4";r[r.m9b=101]="Numpad5";r[r.n9b=102]="Numpad6";r[r.o9b=103]="Numpad7";r[r.p9b=104]="Numpad8";r[r.q9b=105]="Numpad9";r[r.E8b=106]="Multiply";r[r.K5b=107]="Add";r[r.F$b=109]="Subtract";r[r.W6b=110]="DecimalPoint";r[r.Z6b=111]="Divide";r[r.x7b=112]="F1";r[r.B7b=113]="F2";r[r.C7b=114]="F3";r[r.D7b=115]="F4";r[r.E7b=116]="F5";r[r.F7b=117]="F6";r[r.G7b=118]="F7";r[r.H7b=119]="F8";r[r.I7b=120]="F9";r[r.y7b=121]="F10";r[r.z7b=122]="F11";r[r.A7b=123]="F12";r[r.g9b=144]="NumLock";r[r.x$b=145]="ScrollLock";r[r.A$b=186]="SemiColon";r[r.u7b=187]="Equals";r[r.C6b=188]="Comma";r[r.V6b=189]="Dash";r[r.S9b=190]="Period";r[r.O7b=191]="ForwardSlash";r[r.M$b=192]="Tilde";r[r.u9b=219]="OpenBracket";r[r.h6b=220]="BackSlash";r[r.B6b=221]="CloseBracket";r[r.U9b=222]="Quote";},function(r,b,a){var g;function c(h){return "function" === typeof h?h.name:"symbol" === typeof h?h.toString():h;}function f(h,l){return null === h.VA?!1:h.VA.Sg === l?!0:f(h.VA,l);}function k(h){function l(n,q){var p;void 0 === q && (q=[]);p=c(n.Sg);q.push(p);return null !== n.VA?l(n.VA,q):q;}return l(h).reverse().join(" --\x3e ");}function m(h){h.Fka.forEach(function(l){if(f(l,l.Sg))throw (l=k(l),Error(g.Ifb + " " + l));m(l);});}function d(h){var l;if(h.name)return h.name;h=h.toString();l=h.match(/^function\s*([^\s(]+)/);return l?l[1]:"Anonymous function: " + h;}Object.defineProperty(b,"__esModule",{value:!0});g=a(58);b.KN=c;b.e3a=function(h,l,n){var q;q="";h=n(h,l);0 !== h.length && (q="\nRegistered bindings:",h.forEach(function(p){var u;u="Object";null !== p.Gm && (u=d(p.Gm));q=q + "\n " + u;p.WG.K4a && (q=q + " - " + p.WG.K4a);}));return q;};b.$wb=m;b.LOb=function(h,l){var n,q;if(l.ara() || l.Oqa()){n="";q=l.KIb();l=l.uHb();null !== q && (n+=q.toString() + "\n");null !== l && l.forEach(function(p){n+=p.toString() + "\n";});return " " + h + "\n " + h + " - " + n;}return " " + h;};b.getFunctionName=d;},function(r,b,a){var f,k,m,d;function c(g,h){var l,n,q,p,u,t;l=g.DA;n=g.DO;g=g.WO;q=h.DA;p=h.DO;h=h.WO;u=void 0 === l || void 0 === q;t=u || void 0 === n || void 0 === p;return u || l > q || l === q && (t || n > p) || l === q && n === p && (t || void 0 === g || void 0 === h || g >= h);}Object.defineProperty(b,"__esModule",{value:!0});b.yN=b.xN=b.zN=b.PNb=b.K1a=b.UW=void 0;f=a(5);k=a(111);m=a(45);d=a(123);b.UW=function(g,h,l,n){return c({DA:g.XTb,DO:g.YTb,WO:g.ZTb},{DA:h,DO:l,WO:n});};b.K1a=function(g,h){return c({DA:g.iq},{DA:h});};b.PNb=c;b.zN=function(){return {version:"6.0034.519.911",G9:!0,uN:!0,ima:"browser",BVa:["en-US"],Tra:"",kV:"cadmium",ydb:!0,S3:!0,XY:!1};};b.xN=function(){return {HG:(0,d.fo)([m.ze.kF,m.ze.lF]),en:(0,d.fo)([m.P.tK,m.P.jF,m.P.tR,m.P.uR,m.P.GS,m.P.HS]),Im:k.Lb.vNa,FA:(0,f.Nc)(31E3)};};b.yN=function(g){return {O0:g.Xo};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TCa=b.so=void 0;r=b.so || (b.so={});r[r.vE=0]="playready";r[r.Wba=1]="widevine";r[r.rH=2]="fairplay";r[r.$ac=3]="clearkey";b.TCa="DrmTypeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aS="MediaKeysStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z1=b.Kp=void 0;b.Kp=function(){};b.Z1="StringObjectReaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mMa="SystemRandomSymbol";b.N1="RandomGeneratorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rS="PlayerErrorFactorySymbol";},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.gn=void 0;c=a(2).__importDefault(a(6));f=a(117);r=(function(){function k(m){this.I=new c.default.Console("ASEJS","media|asejs","(" + m + ")");this.Bha=[];}k.prototype.Cq=function(m){this.Bha[m] || (this.Bha[m]=f.Nq(c.default,this.I,"[" + m + "]"));return this.Bha[m];};return k;})();b.gn=new r(0);},function(r,b,a){function c(f,k){this.aM=f;this.jk=Math.floor((f + k - 1) / k);this.Jd=k;this.reset();}a(4);c.prototype.shift=function(){this.Sd.shift();this.rw.shift();};c.prototype.px=function(f){return this.bTa(this.Sd[f],f);};c.prototype.update=function(f,k){this.Sd[f]=(this.Sd[f] || 0) + k;};c.prototype.push=function(){this.Sd.push(0);this.rw.push(0);this.Db+=this.Jd;};c.prototype.add=function(f,k,m){var d,g,h;if(null === this.Db){d=Math.max(Math.floor((m - k + this.Jd - 1) / this.Jd),1);for(this.Db=k;this.Sd.length < d;){this.push();}}for(;this.Db <= m;){this.push();this.Sd.length > this.jk && this.shift();}if(null === this.Ao || k < this.Ao)this.Ao=k;if(k > this.Db - this.Jd)this.update(this.Sd.length - 1,f);else if(k == m)(d=this.Sd.length - Math.max(Math.ceil((this.Db - m) / this.Jd),1),0 <= d && this.update(d,f));else for(d=1;d <= this.Sd.length;++d){g=this.Db - d * this.Jd;h=g + this.Jd;if(!(g > m)){if(h < k)break;this.update(this.Sd.length - d,Math.round(f * (Math.min(h,m) - Math.max(g,k)) / (m - k)));}}for(;this.Sd.length > this.jk;){this.shift();}};c.prototype.start=function(f){null === this.Ao && (this.Ao=f);null === this.Db && (this.Db=f);};c.prototype.stop=function(f){var k,m;if(null !== this.Db)if(f - this.Db > 10 * this.aM)this.reset();else {for(;this.Db <= f;){this.push();this.Sd.length > this.jk && this.shift();}k=this.Sd.length - Math.ceil((this.Db - this.Ao) / this.Jd);m=this.Sd.length - Math.ceil((this.Db - f) / this.Jd);if(0 <= m)if((0 > k && (this.Ao=this.Db - this.Jd * this.Sd.length,k=0),k === m))this.rw[k]+=f - this.Ao;else if(m > k)for((this.rw[k]+=(this.Db - this.Ao) % this.Jd,this.rw[m]+=this.Jd - (this.Db - f) % this.Jd,f=k + 1);f < m;++f){this.rw[f]=this.Jd;}this.Ao=null;}};c.prototype.bTa=function(f,k){k=this.Tna(k);return 0 === k?null:8 * f / k;};c.prototype.Tna=function(f){var k;k=this.rw[f];null !== this.Ao && (f=this.Db - (this.Sd.length - f - 1) * this.Jd,f > this.Ao && (k=f - this.Ao <= this.Jd?k + (f - this.Ao):this.Jd));return k;};c.prototype.get=function(f,k){var m,d;m=this.Sd.map(this.bTa,this);if("last" === f)for(f=0;f < m.length;++f){null === m[f] && (m[f]=0 < f?m[f - 1]:0);}else if("average" === f){k=1 - Math.pow(.5,1 / ((k || 2E3) / this.Jd));for(f=0;f < m.length;++f){null === m[f]?m[f]=Math.floor(d || 0):d=void 0 !== d?k * m[f] + (1 - k) * d:m[f];}}return m;};c.prototype.reset=function(){this.hha || (this.Sd=[],this.rw=[],this.Ao=this.Db=null);};c.prototype.setInterval=function(f){this.jk=Math.floor((f + this.Jd - 1) / this.Jd);};r.exports=c;},function(r,b,a){var k,m,d,g,h,l,n,q,p,u;function c(t){var w;if(!t.sia){w=t.R_a();t.Eo.DG(w.default.Ha,t.$j);t.Eo.XJ(w.Du?w.Du.w$:void 0,w.Du?w.Du.sampleSize:void 0);k.Kb(t.Vc) || (t.sia=!0);}}function f(t,w,v){var x;this.J=v;this.Zp={};this.tL=v.tL;this.rOa=new g(this.tL);this.cT=new l(!0);this.IS=new l(!1);this.xqb=v.o$;this.Oob=v.OLb;this.Pob=v.PLb;v.NWa && (this.OL=new n(this.J));v.J5 && (this.vC=new q(v.Asa));this.reset();this.tPa=t;this.Eo=w;this.VOa=m.np.name();this.Eo.Jaa(this.VOa);this.WF=0;this.JS=[];m.events.on("networkchange",(function(y){this.VOa=y;this.Eo.Jaa(y);}).bind(this));x=v.Pla;x && (x={confidence:d.Sf.uK,Sa:{Ha:parseInt(x,10),kj:0},Ij:{Jub:0,kj:0},Cu:{Jub:0,kj:0}},this.get=function(){return x;});u=this;}k=a(10);m=a(6).default;d=a(28).default;a(9);b=a(17).EventEmitter;g=a(365).TDa;h=new m.Console("ASEJS_NETWORK_MONITOR","media|asejs");l=a(766).wDa;n=a(768).AIa;q=a(769).xFa;p=a(144);u=void 0;f.prototype.constructor=f;f.prototype=Object.create(b.prototype);f.instance=function(){return u;};f.reset=function(){u && u.reset();};Object.defineProperties(f.prototype,{startTime:{get:function(){return this.Ef;}},confidence:{get:function(){return this.$j;}},aq:{get:function(){return this.WF;}},MQa:{get:function(){return this.JS;}}});f.prototype.Nnb=function(){var t,w,v,x;t=this.J;w=t.cob.concat(t.lob);v=t.Uga;x=this.rOa;return w.reduce(function(y,z){y[z]=x.create(z,v);return y;},{});};f.prototype.reset=function(){var t,w,v,x;t=this.J.Uga;w=this.rOa;v=this.J;this.location=null;this.Zp=this.Nnb();if(this.J.QWa){x=this.J.Hbb;this.Zp.g2b=new p(x.numB * x.bSizeMs,x.bSizeMs);}this.cT.reset();this.IS.reset();this.Sy=w.create("respconn-ewma",t);this.Iy=w.create("respconn-ewma",t);this.OL && this.OL.reset();this.vC && this.vC.reset();this.$j=d.Sf.HAVE_NOTHING;this.Xrb=(function(){c(this);}).bind(this);this.I3=void 0;this.wC=this.Qc=this.Vc=this.Ef=null;this.pC=this.D3=0;this.Kqb=!1;v.w9a && (this.WF=0,this.JS=[]);};f.prototype.OP=function(t){var w;w=this.Zp;if(t !== this.location){k.ka(this.I3) || (clearInterval(this.I3),this.I3=void 0);k.Kb(this.location) && (this.D3=0,this.Ef=null);if(!k.Kb(t)){this.$j=d.Sf.HAVE_NOTHING;for(var v in w){w[v] && w[v].reset && w[v].reset();}this.Sy.reset();this.Iy.reset();}k.Kb(this.Ef) || (this.D3+=(k.Kb(this.Vc)?m.time.fa():this.Vc) - this.Ef);this.Vc=this.Ef=null;this.Qc=0;this.location=t;this.Eo.OP(t);}};f.prototype.Jaa=function(t){this.Eo.Jaa(t);};f.prototype.Fsb=function(t){this.Zp.QoEEvaluator?h.warn("monitor (QoEEvaluator) already existed."):this.Zp.QoEEvaluator=t;};f.prototype.TXb=function(){delete this.Zp.QoEEvaluator;};f.prototype.vw=function(t,w,v,x){var y,z;this.J2a=Math.max(this.J2a || 0,v);y=this.J;z=this.Zp;if(!0 === x.HQ)(x=z["throughput-wssl"]) && x.add(t,w,v,!0);else if(k.ka(w))h.warn("addDataReceived called with undefined start time");else {this.OL && this.OL.vw(t,w,v,x);if(x.cJ)if(this.Oob){if(x.cJ.a4a(t,w,v,this.xqb))return;}else if(this.Pob && x.cJ.m8())return;y.kob && 10 > v - w?w=v - 10:0 === v - w && (w=v - 1);this.vC && this.vC.vw(t,w,v);this.cT.vw(t,w,v,x);this.IS.vw(t,w,v,x);for(var A in z){z[A] && z[A].add && z[A].add(t,w,v);}this.$j=Math.max(this.$j,d.Sf.WB);k.Kb(this.Ef) && (this.Ef=w,this.Vc=null,this.sia=!1,this.Qc=0);k.Kb(this.Vc) || (w > this.Vc && (this.Ef+=w - this.Vc),this.Vc=null,this.sia=!1);this.Qc+=t;this.$j < d.Sf.dy && (v - this.Ef > y.xpb || this.Qc > y.wpb) && (this.$j=d.Sf.dy);this.$j < d.Sf.uK && (v - this.Ef > y.Nqb || this.Qc > y.Mqb) && (!this.Kqb || this.pC > y.vpb) && (this.$j=d.Sf.uK,c(this),this.I3=setInterval(this.Xrb,y.gpb));k.Kb(this.wC) || (w - this.wC > y.uPa?this.tPa.E1a(this.wC,w):v - w > y.uPa && this.tPa.E1a(w,v));this.wC=Math.max(v,this.wC);}};f.prototype.$y=function(t){this.Sy.add(t);this.Eo.$y(t);};f.prototype.Yy=function(t){this.Iy.add(t);this.Eo.Yy(t);};f.prototype.start=function(t){var w;k.Kb(this.wC) && !k.Kb(this.Vc) && (this.wC=t);w=this.Zp;if(this.J.Lxa)for(var v in w){w[v] && w[v].start && w[v].start(t);}};f.prototype.stop=function(t){var w,v;w=this.Zp;for(v in w){w[v] && w[v].stop && w[v].stop(t);}this.Vc=k.Kb(this.Vc)?t:Math.min(this.Vc,t);this.wC=null;};f.prototype.flush=function(){var t,w;t=this.Zp;for(w in t){t[w] && t[w].flush && t[w].flush();}};f.prototype.fail=function(){this.Ef=null;};f.prototype.sZa=function(){var t,w;t=this.Zp.entropy;if(t){w=t.Ivb();t.reset();}return w;};f.prototype.R_a=function(){var t,w,v,x,y,z,A;t=m.time.fa();w={};v=this.Zp;x=this.J;y=x.Snb;z=x.trb;for(A in v){v[A] && v[A].get && (w[A]=v[A].get(t),"iqr" === v[A].type && (w.Du=w[A]),"tdigest" === v[A].type && (w.Nk=w[A]),"wssl" === v[A].type && (w.HQ=w[A]));}w.cdnavtp=this.cT.uu();w.activecdnavtp=this.IS.uu();w.default=y && w[y]?w[y]:w["throughput-ewma"];"none" !== x.Jwa && "none" !== z && (w.c$a=z && w[z]?w[z]:w["throughput-sw"]);return w;};f.prototype.a7=function(){return this.OL?this.OL.a7():void 0;};f.prototype.S6=function(){return this.vC?this.vC.S6():void 0;};f.prototype.get=function(){var t,w,v,x,y,z;t=this.R_a();w=t.default;v=this.Sy.get();x=this.Iy.get();y=this.J;if(t.c$a){z=t.c$a;w=k.Ea(w.Ha) && k.Ea(z.Ha) && w.Ha > z.Ha && 0 < z.Ha?z:w;}t.confidence=this.$j;t.Sa=w;!y.Gma || !w || k.Kb(w.Ha) || isNaN(w.Ha) || !t.HQ || k.Kb(t.HQ.Ha) || isNaN(t.HQ.Ha) || ("max" === y.beb?t.Sa.Ha=Math.max(t.HQ.Ha,w.Ha):"sum" === y.beb && (t.Sa.Ha+=t.HQ.Ha));t.Ij=v;t.Cu=x;this.J.QWa && (w=this.J.Hbb,t.lfc=this.Zp.g2b.get(w.fillS,w.fillHl));w=this.D3 + !k.Kb(this.Ef)?(k.Kb(this.Vc)?m.time.fa():this.Vc) - this.Ef:0;t.time=w;return t;};f.prototype.YJb=function(){var t,w,v;t={};w=this.get(!0);if(w.confidence && w.Sa){t.aseavtp=Number(w.Sa.Ha).toFixed(2);t.asevartp=Number(w.Sa.kj).toFixed(2);if(w.Du){v=w.Du.w$;!v || isNaN(v.Tl) || isNaN(v.Sl) || isNaN(v.Fk) || (t.aseniqr=0 < v.Fk?Number((v.Tl - v.Sl) / v.Fk).toFixed(2):-1,t.aseiqr=Number(v.Tl - v.Sl).toFixed(2),t.asemedtp=Number(v.Fk).toFixed(2));t.iqrsamples=w.Du.sampleSize;}w.Nk && w.Nk.$z && (t.tdigest=w.Nk.$z());}return t;};f.prototype.wP=function(t,w){var v;v=w.requestId;1 === ++this.WF && (this.emit("active",t),this.start(t));v && this.JS.push(v);this.cT.wP(t,w);this.IS.wP(t,w);};f.prototype.eZ=function(t,w,v){w=v.requestId;--this.WF;this.J.w9a && (this.WF=Math.max(this.WF,0));0 === this.WF && (this.stop(t),this.emit("inactive",t));w && (w=this.JS.indexOf(w),0 <= w && this.JS.splice(w,1));this.cT.eZ(t,v);this.IS.eZ(t,v);this.vC && this.vC.fMb(v.type);};r.exports=f;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);return m;})(Error);b.assert=function(k,m){if(!k)throw new f(m || "Assertion failed");};},function(r){var c,f;function b(){var k,m;if(DataView.prototype && DataView.prototype.vu && !f){try{k=new ArrayBuffer(4);m=new DataView(k);m.Fq(0,4,1);}catch(d){return;}try{k=new ArrayBuffer(4);m=new DataView(k);m.Fq(1,2,2);}catch(d){DataView.prototype.Fq=a(DataView.prototype.Fq,DataView.prototype.getUint8,Uint8Array);DataView.prototype.cA=a(DataView.prototype.cA,DataView.prototype.getUint16,Uint16Array);DataView.prototype.vu=a(DataView.prototype.vu,DataView.prototype.getUint32,Uint32Array);DataView.prototype.BH=a(DataView.prototype.BH,DataView.prototype.getInt8,Int8Array);DataView.prototype.zH=a(DataView.prototype.zH,DataView.prototype.getInt16,Int16Array);DataView.prototype.AH=a(DataView.prototype.AH,DataView.prototype.getInt32,Int32Array);}c.wpa=function(d,g,h,l,n){return h?d.Fq(g,h,l || 1,n):new Uint8Array(0);};c.upa=function(d,g,h,l,n){return h?d.cA(g,h,l || 2,n):new Uint16Array(0);};c.vpa=function(d,g,h,l,n){return h?d.vu(g,h,l || 4,n):new Uint32Array(0);};c.jIb=function(d,g,h,l,n){return h?d.BH(g,h,l || 1,n):new Int8Array(0);};c.hIb=function(d,g,h,l,n){return h?d.zH(g,h,l || 2,n):new Int16Array(0);};c.iIb=function(d,g,h,l,n){return h?d.AH(g,h,l || 4,n):new Int32Array(0);};f=!0;}}function a(k,m,d){return function(g,h,l,n){var q;l=l || d.BYTES_PER_ELEMENT;if(g + h * l > this.byteLength){q=new d(h);q.set(k.call(this,g,h - 1,l,n));q[h - 1]=m.call(this,g + (h - 1 * l),n);return q;}return k.call(this,g,h,l,n);};}c={Fq:function(k,m,d,g,h){var l;l=new Uint8Array(d);g=g || 1;for(var n=0;n < d;(++n,m+=g)){l[n]=k.getUint8(m,h);}return l;},cA:function(k,m,d,g,h){var l;l=new Uint16Array(d);g=g || 2;for(var n=0;n < d;(++n,m+=g)){l[n]=k.getUint16(m,h);}return l;},vu:function(k,m,d,g,h){var l;l=new Uint32Array(d);g=g || 4;for(var n=0;n < d;(++n,m+=g)){l[n]=k.getUint32(m,h);}return l;},BH:function(k,m,d,g,h){var l;l=new Int8Array(d);g=g || 1;for(var n=0;n < d;(++n,m+=g)){l[n]=k.getInt8(m,h);}return l;},zH:function(k,m,d,g,h){var l;l=new Int16Array(d);g=g || 2;for(var n=0;n < d;(++n,m+=g)){l[n]=k.getInt16(m,h);}return l;},AH:function(k,m,d,g,h){var l;l=new Int32Array(d);g=g || 4;for(var n=0;n < d;(++n,m+=g)){l[n]=k.getInt32(m,h);}return l;},LEb:b};f=!1;c.loa=function(){return f;};b();r.exports=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(231);r=(function(){function k(m,d,g){this.tag=m;this.view=d;this.u=g;this.startOffset=g.offset;}k.PY=function(m,d){var g,h;g=m.sb();h=m.Bva();m=new (f.pq[g] || k)(g,m.ioa(h),m);m.parse(d);return m;};Object.defineProperties(k.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});k.prototype.parse=function(){this.u.offset=this.startOffset + this.length;this.u.Vn=0;return !0;};k.prototype.KV=function(m){var d;d=[];this.tag === m && d.push(this);if(this.pq)for(var g=0;g < this.pq.length;g++){d=c.__spreadArrays(d,this.pq[g].KV(m));}return d;};k.prototype.Nl=function(m){for(m=this.KV(m);0 < m.length;){return m[0];}};k.prototype.FT=function(){for(this.pq=[];this.u.offset < this.startOffset + this.length;){this.pq.push(k.PY(this.u,this));}};return k;})();b.gF=r;r.prototype.skip=r.prototype.parse;},function(r,b,a){var c,f,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Tk=b.Efa=void 0;c=a(21);(function(d){d[d.absolute=0]="absolute";d[d.R8a=1]="relative";})(f=b.Efa || (b.Efa={}));m=(function(){function d(g,h){this.type=g;this.timestamp=h;}d.prototype.toString=function(){return "timeStamp: " + this.timestamp + ", type: " + f[this.type];};Object.defineProperties(d,{eb:{get:function(){k || (k=new d(f.R8a,c.O.eb));return k;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){}d.DQ=function(g){return new m(f.absolute,g);};Object.defineProperties(d,{g5b:{get:function(){return m.eb;},enumerable:!1,configurable:!0}});d.YJ=function(g){return new m(f.R8a,g);};d.xza=new m(f.absolute,c.O.ND);return d;})();b.Tk=r;},function(r,b,a){var k,m,d,g,h,l,n;function c(q){return q && "function" === typeof q.Mh?!0:!1;}function f(q){return c(q) && (q=typeof q.$Mb,"boolean" === q || "undefined" === q)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.egb=b.OEb=b.ZMb=b.Jeb=b.AsyncIterator=void 0;k=a(2);m=a(20);g=(function(){function q(p){var u;u=this;this.Lob=p;this.mT=!1;this.Qqb=function(t){return u.uWb(t);};this.IUa();}q.VNb=function(p,u){function t(){var w;w=p.next();w.then(function(v){f(p) && p.$Mb || u(v);});w.then(function(v){return !v.done && t();});}t();};Object.defineProperties(q.prototype,{sA:{get:function(){return this.mT;},enumerable:!1,configurable:!0}});q.qZa=function(){return new h([]);};q.mpa=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(q.prototype,{aO:{get:function(){return this.gm || !1;},enumerable:!1,configurable:!0}});q.prototype.Mh=function(){this.cancel();};q.prototype.cancel=function(){this.HPa();this.gm=!0;return this.sga;};q.prototype.next=function(){return this.gm?this.sga:Promise.race([this.sga,this.Lob()]).then(this.Qqb);};q.prototype.uWb=function(p){p.done && (this.mT=!0,this.Mh());this.aO || (this.HPa(),this.IUa());return p;};q.prototype.IUa=function(){var p;p=this;this.sga=new Promise(function(u){p.HPa=function(){u({done:!0});};});};return q;})();b.AsyncIterator=g;h=(function(q){function p(u){var t;t=q.call(this,function(){return t.MIb();}) || this;t.dz=u;t.index=0;return t;}k.__extends(p,q);p.prototype.Mh=function(){c(this.dz) && this.dz.Mh();q.prototype.Mh.call(this);};p.prototype.MIb=function(){return this.dz.length > this.index?Promise.resolve({value:this.dz[this.index++],done:!1}):Promise.resolve({done:!0});};return p;})(g);b.Jeb=h;b.ZMb=c;b.OEb=f;l=(function(q){function p(u,t,w){var v;v=q.call(this,function(){return v.lta();}) || this;v.console=t;v.El=w;v.hva=!1;Array.isArray(u)?v.wT=new h(u):v.wT=u;return v;}k.__extends(p,q);p.prototype.wWb=function(u){var t;this.hva=!1;t=this.console;m.ia && t && t.trace("CompoundIterator: processNextOuterIterator");if(u.done)return u;u=u.value;if(this.DL)return (c(u) && u.Mh(),g.mpa());Array.isArray(u)?this.El=new h(u):this.El=u;return this.lta();};p.prototype.vWb=function(u){var t;t=this.console;m.ia && t && t.trace("CompoundIterator: processNextInnerResult",this.DL,u.done);if(!u.done || this.DL)return u;this.El=void 0;return this.lta();};p.prototype.Mh=function(){var u;u=this.console;m.ia && u && u.trace("CompoundIterator: dispose");this.DL=!0;q.prototype.Mh.call(this);c(this.wT) && this.wT.Mh();c(this.El) && this.El.Mh();};p.prototype.toString=function(){return "CompoundIterator " + this.DL + " " + this.wT + " " + this.El;};p.prototype.lta=function(){var u,t;u=this;t=this.console;m.ia && t && t.trace("CompoundIterator: nextImpl");if(this.El)return (m.ia && t && t.trace("CompoundIterator: getNextInner"),this.El.next().then(function(w){return u.vWb(w);}));this.hva=!0;m.ia && t && t.trace("CompoundIterator: getNextOuter");return this.wT.next().then(function(w){return u.wWb(w);});};return p;})(g);b.egb=l;b.map=function(q,p,u){return new n(q,p,u);};n=(function(q){function p(u,t,w){var v;v=q.call(this,function(){return v.yob();}) || this;v.source=u;v.nsa=t;v.Pxb=w;return v;}k.__extends(p,q);p.prototype.Mh=function(){c(this.source) && this.source.Mh();q.prototype.Mh.call(this);};p.prototype.yob=function(){var u,t,w;u=this.Pxb;t=this.nsa;w=this.source;m.ia && u && u.trace("MappedIterator: Requesting next");return w.next().then(function(v){return v.done?v:t(v.value);});};return p;})(g);b.flatten=function(q,p,u){return new l(q,p,u);};},function(r,b,a){var k,m,d,g,h,l,n,q;function c(p,u,t,w){var v;return u === h.Mv.qV?(u=m.O.eb,(null === w || void 0 === w?void 0:w.Hec) === q.end && (u=m.O.Na(null !== (v=t.xQ.ma.V[p].Ba) && void 0 !== v?v:0),d.assert(0 < u.U,"EndTime must be non null")),t.cp.XM({offset:u,ha:p}).ha):t.cp.tQ({offset:m.O.eb,ha:p}).ha;}function f(p,u,t){return u === h.Mv.Rya?t.cp.tQ(p):t.cp.XM(p);}Object.defineProperties(b,{__esModule:{value:!0}});b.rE=void 0;k=a(2);m=a(21);d=a(4);r=a(896);g=a(257);h=a(182);l=a(42);n=a(900);a=g.R9a();a=r.VSa()({X3a:"combinedPlaygraph",nZ:{fA:a()({map:f,bD:n.c2a}),Zf:a()({map:function(p,u,t,w){var v;v=(null === w || void 0 === w?0:w.er)?n.Q6(p,w.er):p.position;u=f(v,u,t);p=n.Ska(p,null === w || void 0 === w?void 0:w.er);(null === w || void 0 === w?0:w.er)?n.E$a(p,w.er,u):p.position=u;return p;},bD:function(p,u,t){return (null === t || void 0 === t?0:t.er)?n.Q6(p,t.er):n.Zf(p);}}),Dza:a()({map:function(p,u,t,w){if(u === h.Mv.qV)return p.inner;u=n.Ska(p,null === w || void 0 === w?void 0:w.er);u.inner || (u.inner=p);return u;},bD:function(p,u,t){return (null === t || void 0 === t?0:t.er)?"object" === typeof n.Q6(p,t.er):"object" === typeof p;}}),ha:a()({map:c,bD:n.h2a}),waa:a()({map:function(p,u,t,w){u=c(p.ha,u,t,w);return k.__assign(k.__assign({},p),{ha:u});},bD:n.o0a}),vUa:a()({map:function(p,u,t){u === h.Mv.qV?(p=l.FM(t.xQ.ma,p.S,p.ym,{a$a:!0}),d.assert(void 0 !== p,"Graph position must exist in ux playgraph"),p=t.cp.XM(p),u=p.ha,p=p.offset,u=t.Kg.ma.V[u],t=u.S,u=u.Aa,p=m.O.Na(u).add(p)):(p=l.FM(t.Kg.ma,p.S,p.ym,{a$a:!0}),d.assert(void 0 !== p,"Graph position must exist in combined playgraph"),p=t.cp.tQ(p),u=p.ha,p=p.offset,u=t.xQ.ma.V[u],t=u.S,u=u.Aa,p=m.O.Na(u).add(p));return {ym:p,S:t};},bD:n.N1a}),lvb:a()({bD:n.J1a,map:function(p,u,t){var w,v,x,y,z;if(u === h.Mv.qV){u={ha:p.H.id,offset:m.O.eb};x=t.cp.XM(u);u=t.Kg.ma.V[x.ha];t=t.xQ.ma.V[p.H.id];y=u.Ba;z=u.Aa;y=null !== (w=y && y - z) && void 0 !== w?w:0;t=p.Fe.add(m.O.Na(u.Aa - t.Aa));return {Fe:t,qE:p.Gs.add(m.O.Na(y)),Gs:p.Gs,H:{id:x.ha,Nf:m.O.Na(u.Aa),$i:m.O.Na(null !== (v=u.Ba) && void 0 !== v?v:0)}};}u={ha:p.H.id,offset:m.O.eb};v=t.cp.tQ(u);z=t.F5a.T9;u=z.V[p.H.id];x=t.xQ.ma.V[v.ha];w=m.O.Na(null !== (y=x.Ba && x.Ba - x.Aa) && void 0 !== y?y:0);x.Ba && Infinity !== x.Ba || (y=t.cp.tIb(v),z=z.V[y],z.Ba && (w=t.cp.tQ({ha:y,offset:m.O.Na(z.Ba - z.Aa)}).offset));y=p.Gs.Ka(v.offset);z=y.add(w);t=p.Fe.add(m.O.Na(x.Aa - u.Aa));p=m.O.Na(x.Aa);u=w.add(p);return {Fe:t,qE:z,Gs:y,H:{id:v.ha,Nf:p,$i:u}};}})}});(function(p){p[p.Gac=0]="beginning";p[p.end=1]="end";})(q || (q={}));b.rE=a;},function(r,b,a){var c,f,k;c=a(131);f=a(53);k=a(185);r.exports=function(m){return function n(g,h,l){switch(arguments.length){case 0:return n;case 1:return k(g)?n:f(function(q,p){return m(g,q,p);});case 2:return k(g) && k(h)?n:k(g)?f(function(q,p){return m(q,h,p);}):k(h)?f(function(q,p){return m(g,q,p);}):c(function(q){return m(g,h,q);});default:return k(g) && k(h) && k(l)?n:k(g) && k(h)?f(function(q,p){return m(q,p,l);}):k(g) && k(l)?f(function(q,p){return m(q,h,p);}):k(h) && k(l)?f(function(q,p){return m(g,q,p);}):k(g)?c(function(q){return m(q,h,l);}):k(h)?c(function(q){return m(g,q,l);}):k(l)?c(function(q){return m(g,h,q);}):m(g,h,l);}};};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);return m;})(Error);b.assert=function(k,m){if(!k)throw new f(m || "Assertion failed");};},function(r){var c,f;function b(){var k,m;if(DataView.prototype && DataView.prototype.vu && !f){try{k=new ArrayBuffer(4);m=new DataView(k);m.Fq(0,4,1);}catch(d){return;}try{k=new ArrayBuffer(4);m=new DataView(k);m.Fq(1,2,2);}catch(d){DataView.prototype.Fq=a(DataView.prototype.Fq,DataView.prototype.getUint8,Uint8Array);DataView.prototype.cA=a(DataView.prototype.cA,DataView.prototype.getUint16,Uint16Array);DataView.prototype.vu=a(DataView.prototype.vu,DataView.prototype.getUint32,Uint32Array);DataView.prototype.BH=a(DataView.prototype.BH,DataView.prototype.getInt8,Int8Array);DataView.prototype.zH=a(DataView.prototype.zH,DataView.prototype.getInt16,Int16Array);DataView.prototype.AH=a(DataView.prototype.AH,DataView.prototype.getInt32,Int32Array);}c.wpa=function(d,g,h,l,n){return h?d.Fq(g,h,l || 1,n):new Uint8Array(0);};c.upa=function(d,g,h,l,n){return h?d.cA(g,h,l || 2,n):new Uint16Array(0);};c.vpa=function(d,g,h,l,n){return h?d.vu(g,h,l || 4,n):new Uint32Array(0);};c.jIb=function(d,g,h,l,n){return h?d.BH(g,h,l || 1,n):new Int8Array(0);};c.hIb=function(d,g,h,l,n){return h?d.zH(g,h,l || 2,n):new Int16Array(0);};c.iIb=function(d,g,h,l,n){return h?d.AH(g,h,l || 4,n):new Int32Array(0);};f=!0;}}function a(k,m,d){return function(g,h,l,n){var q;l=l || d.BYTES_PER_ELEMENT;if(g + h * l > this.byteLength){q=new d(h);q.set(k.call(this,g,h - 1,l,n));q[h - 1]=m.call(this,g + (h - 1 * l),n);return q;}return k.call(this,g,h,l,n);};}c={Fq:function(k,m,d,g,h){var l;l=new Uint8Array(d);g=g || 1;for(var n=0;n < d;(++n,m+=g)){l[n]=k.getUint8(m,h);}return l;},cA:function(k,m,d,g,h){var l;l=new Uint16Array(d);g=g || 2;for(var n=0;n < d;(++n,m+=g)){l[n]=k.getUint16(m,h);}return l;},vu:function(k,m,d,g,h){var l;l=new Uint32Array(d);g=g || 4;for(var n=0;n < d;(++n,m+=g)){l[n]=k.getUint32(m,h);}return l;},BH:function(k,m,d,g,h){var l;l=new Int8Array(d);g=g || 1;for(var n=0;n < d;(++n,m+=g)){l[n]=k.getInt8(m,h);}return l;},zH:function(k,m,d,g,h){var l;l=new Int16Array(d);g=g || 2;for(var n=0;n < d;(++n,m+=g)){l[n]=k.getInt16(m,h);}return l;},AH:function(k,m,d,g,h){var l;l=new Int32Array(d);g=g || 4;for(var n=0;n < d;(++n,m+=g)){l[n]=k.getInt32(m,h);}return l;},LEb:b};f=!1;c.loa=function(){return f;};b();r.exports=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(271);r=(function(){function k(m,d,g){this.tag=m;this.view=d;this.u=g;this.startOffset=g.offset;}k.PY=function(m,d){var g,h;g=m.sb();h=m.Bva();m=new (f.pq[g] || k)(g,m.ioa(h),m);m.parse(d);return m;};Object.defineProperties(k.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});k.prototype.parse=function(){this.u.offset=this.startOffset + this.length;this.u.Vn=0;return !0;};k.prototype.KV=function(m){var d;d=[];this.tag === m && d.push(this);if(this.pq)for(var g=0;g < this.pq.length;g++){d=c.__spreadArrays(d,this.pq[g].KV(m));}return d;};k.prototype.Nl=function(m){for(m=this.KV(m);0 < m.length;){return m[0];}};k.prototype.FT=function(){for(this.pq=[];this.u.offset < this.startOffset + this.length;){this.pq.push(k.PY(this.u,this));}};return k;})();b.gF=r;r.prototype.skip=r.prototype.parse;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oJa="PboPlaydataServicesSymbol";b.oS="PboPlaydataServicesProviderSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.lK=b.fhb=void 0;c=a(26);b.fhb=function(){this.HG=[];this.en=[];this.nRa=[];this.vja=c.Cv.Fv;this.Nba=c.pj.Fv;};b.lK="DeviceCapabilitiesConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zS="SourceBufferTypeProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eS="MslProviderSymbol";},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.PPb=b.V6a=b.oUb=b.cZa=b.wUb=b.ZE=b.Yba=b.mt=b.JQ=b.IQ=b.Pk=void 0;c=a(24);f=a(22);b.Pk="$attributes";b.IQ="$children";b.JQ="$name";b.mt="$text";b.Yba="$parent";b.ZE="$sibling";b.wUb=/^\s*<\?xml.*\?>/i;b.cZa=function(k,m,d){for(var g=2;g < arguments.length;++g){;}for(g=1;(m=arguments[g++]) && (k=k[m]);){;}return k;};b.oUb=function(k,m){var d;k?d=(0,c.Ie)(k[b.mt]):void 0 !== m && (d=m);(0,f.cV)(d);return d;};b.V6a=function(k,m){var d;k?d=k[b.mt]:void 0 !== m && (d=m);(0,f.pVa)(d);return d;};b.PPb=function(k,m){var d;d={};d[b.Pk]=k;d[b.mt]=m;return d;};},function(r){function b(m,d){return m.some(function(g){return g.id === d;});}function a(m,d){return m.filter(c.bind(null,d)).map(f).reduce(k,0);}function c(m,d){return m.id === d.id && m.displayTime + m.duration === d.displayTime;}function f(m){return m.duration;}function k(m,d){return m + d;}r.exports={Exb:function(m,d,g){for(var h=0;h < m.length;h++){if(m[h] !== d[h])return (g.error("indexId mismatch in sidx",{sIndexId:m,mIndexId:d}),!1);}return !0;},zla:function(m,d,g){var h;h={};h.displayTime=m.displayTime;h.duration=m.duration;h.originX=m.PTb;h.originY=m.QTb;h.sizeX=m.r0b;h.sizeY=m.s0b;h.imageData=d;h.id=m.PH;h.rootContainerExtentX=g.SYb;h.rootContainerExtentY=g.TYb;return h;},noa:function(m,d){return "o_" + m + "s_" + d;},H4b:function(m,d){d("P" === String.fromCharCode(m[1]));d("N" === String.fromCharCode(m[2]));d("G" === String.fromCharCode(m[3]));},Zc:function(m){return "undefined" !== typeof m;},Fec:b,ybc:a,gW:function(m,d){var g,h;g=Object.create({});for(h in m){g[h]=m[h];}m instanceof Error && (g.message=m.message,g.stack=m.stack);g.errorString=d;return g;},assert:function(m,d){if(!m)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},S0a:function(m){return m && 0 < m.entries.length && 0 === m.images.length;},r1b:function(m,d){for(var g=d.entries.length,h,l=0;l < g;l++){if((h=d.entries[l],h.displayTime <= m && h.displayTime + h.duration >= m))return !0;}return !1;},s1b:function(m,d,g){for(var h=g.entries.length,l,n,q=0;q < h;q++){l=g.entries[q];n=l.displayTime;l=n + l.duration;if(d < n)break;if(n <= m && l >= m || n > m && n <= d)return !0;}return !1;},nUa:function(m){return m.map(function(d,g){d.duration+=a(m.slice(g + 1),d);return d;}).reduce(function(d,g){b(d,g.id) || d.push(g);return d;},[]);},epa:function(m){return m.reduce(function(d,g){return d + g.entries.reduce(function(h,l){return l.dqa + h;},0);},0);},SCb:function(m,d){return m && m.xx <= d && m.Wq >= d;},SHb:function(m){if(m)return m.endTime;},sIb:function(m){try{return String.fromCharCode.apply(String,m);}catch(d){}return "";}};},function(r,b,a){var f,k;function c(m){switch(m){case f.M.MR:return "http";case f.M.OR:return "connectiontimeout";case f.M.mF:return "readtimeout";case f.M.wEa:return "corruptcontent";case f.M.XB:return "abort";case f.M.PR:case f.M.Bda:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.Yoa=b.Noa=b.Joa=void 0;f=a(3);k=a(11);b.Joa=c;b.Noa=function(m,d){m={errorcode:m + (d.errorCode || f.N.em)};d.ta && (m.errorsubcode=d.ta);d.uf && (m.errorextcode=d.uf);d.Oma && (m.erroredgecode=d.Oma);d.yb && (m.errordetails=d.yb);d.tk && (m.httperr=d.tk);d.J9 && (m.aseneterr=d.J9);d.pH && (m.errordata=d.pH);d.AX && (m.mediaerrormessage=d.AX);(d=c(Number(d.ta))) && (m.nwerr=d);return m;};b.Yoa=function(){return {screensize:k.Pv.width + "x" + k.Pv.height,screenavailsize:k.Pv.availWidth + "x" + k.Pv.availHeight,clientsize:nb.innerWidth + "x" + nb.innerHeight,devicePixelRatio:k.NHa};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LF="PlaygraphConfigSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Pt=b.Leb=void 0;b.Leb=a;b.Pt=new a();},function(r,b,a){var f,k,m;function c(d,g,h,l){g=m.Ji.call(this,d,g,l) || this;g.context=d;g.Vma=h;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.wr=void 0;r=a(1);f=a(0);k=a(68);m=a(75);a(192);na(c,m.Ji);c.prototype.tg=function(d,g){var h,l;h=this;l=this.v4(g);!1;!1;return this.send(d,{url:g.href,name:k.Bg.events,up:k.Bg.events + "/" + this.Vma},l).then(function(){return g;}).catch(function(n){throw h.Pn(n);});};c.prototype.yq=function(d,g,h){var l,n,q;l=this;n=this.v4(h);!1;!1;q={url:g.jW("events").href,name:k.Bg.events,up:k.Bg.events + "/" + this.Vma};return this.send(d,q,n).then(function(p){g.XQa(p.result.links);return h;}).catch(function(p){throw l.Pn(p);});};c.prototype.v4=function(d){return {event:this.Vma,xid:d.ca,position:d.position || 0,clientTime:d.JU,sessionStartTime:d.xZ,videoTrackId:d.BQ,audioTrackId:d.Dn,timedTextTrackId:d.mQ,mediaId:d.xO,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.yvb(d.sY),sessionParams:d.Vm,mdxControllerEsn:d.Dsa};};c.prototype.cka=function(d){return {downloadableId:d.Dc,duration:d.duration};};c.prototype.yvb=function(d){var g;g={total:d.total,audio:d.audio.map(this.cka),video:d.video.map(this.cka),text:d.text.map(this.cka)};d.total !== d.NJ && (g.totalContentTime=d.NJ);return g;};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.bn)()),r.__param(1,(0,f.bn)()),r.__param(2,(0,f.bn)()),r.__param(3,(0,f.bn)())],a);b.wr=a;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z;function c(A){var B,E;B=this;this.C$=new z.ffa();this.createPlaygraphPlayer=function(D,F,G){var C;D=w.jKa.encode(D);C=d.pa.get(v.GK);G=G?C.create(G):void 0;C=d.pa.get(p.ifa).create(D);return C.LAb(D.Pd,B.C$.msa(B.lSa(F,C.J6())),G);};this.closeAllPlayers=function(D){D=void 0 === D?function(){}:D;(0,m.afa)(D);};this.init=function(D){B.SC.pO(function(F){F.aa?(k.config.Caa?B.JZb().then(function(){(0,f.DJa)();}).catch(function(G){d.log.error("Unable to initialize the playdata services",G);}):Promise.resolve()).then(function(){Object.assign(B,c.gU);D(Object.assign({success:!0},c.gU));}):D({success:!1,error:(0,d.aKa)(F.errorCode || h.N.Gda,F)});});};this.applyConfig=function(D){B.Qcb(D);(0,k.dla)(D);};this.prepare=function(D,F){var G;D=B.N7a.kCb(D) || [];G=new Set();D=D.filter(function(C){var H;H=G.has(C.K);G.add(C.K);return !H;});if(k.config.sx && B.Gd)try{B.Gd.OI(D,F);}catch(C){d.log.warn("Prepare call failed",C);}};this.ppmUpdate=function(D){nb._cad_global.playerPredictionModel?(D=B.N7a.mCb(D)) && nb._cad_global.playerPredictionModel.update(D):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(D){(0,d.BN)().VZ().then(function(F){return D(F.result);}).catch(function(){return D(!1);});};this.supportsUltraHd=function(D){(0,d.BN)().WZ().then(D).catch(function(){return D(!1);});};this.supportsDolbyAtmos=function(D){(0,d.BN)().TZ().then(D).catch(function(){return D(!1);});};this.supportsDolbyVision=function(D){(0,d.BN)().cba().then(function(F){return D(F.result);}).catch(function(){return D(!1);});};this.close=function(){};this.deviceThroughput=function(){var D;D=d.pa.get(n.w1).tla();return D?Promise.resolve(D.uu()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var D;D=d.pa.get(n.w1).tla();return D?Promise.resolve(D.QIb()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return k.config.cEb;};this.Qcb(A);d.pa.get(y.Wza);this.N7a=d.pa.get(g.FJa);this.SC=d.pa.get(t.oh);E=d.pa.get(x.AJa).apply();(0,k.kUa)([A],E);this.Gd=d.pa.get(u.UF);(0,d.BN)().WZ();}Object.defineProperty(b,"__esModule",{value:!0});b.YK=void 0;f=a(304);k=a(14);m=a(61);d=a(8);g=a(514);h=a(3);l=a(37);n=a(290);q=a(156);p=a(309);u=a(121);t=a(31);w=a(57);v=a(133);x=a(321);y=a(492);z=a(558);c.prototype.lSa=function(A,B){var E,D,F,G;A=void 0 === A?{}:A;G=null !== (D=null === (E=A.playbackState) || void 0 === E?void 0:E.currentTime) && void 0 !== D?D:B.Aa;return Object.assign(Object.assign({startPts:G,uiPlayStartTime:Date.now()},A),{endPts:null !== (F=B.Ba) && void 0 !== F?F:void 0,isPlaygraph:!0});};c.prototype.Qcb=function(A){d.pa.get(l.RR).WQb(A);};c.prototype.JZb=function(){return d.pa.get(q.oS)().catch(function(A){d.log.error("Unable to initialize the playdata services",A);throw A;}).then(function(A){return A.send(Infinity);}).catch(function(A){d.log.error("Unable to send deferred playdata",A);});};b.YK=c;c.gU={};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TB="BrowserInfoSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.Voa=function(){return this.buffer.length - this.position;};a.prototype.fB=function(){return this.buffer[this.position++];};a.prototype.Xh=function(c){var f;f=this.position;this.position+=c;return this.LNb(this.buffer)?this.buffer.subarray(f,this.position):this.buffer.slice(f,this.position);};a.prototype.LNb=function(c){return void 0 !== c.subarray;};a.prototype.Xq=function(c){for(var f=0;c--;){f=256 * f + this.buffer[this.position++];}return f;};a.prototype.zva=function(c){for(var f="";c--;){f+=String.fromCharCode(this.buffer[this.position++]);}return f;};a.prototype.Ah=function(){return this.Xq(2);};a.prototype.Yq=function(){return this.Xq(4);};a.prototype.mP=function(){return this.Xq(8);};a.prototype.yx=function(c){for(var f,k="";c--;){f=this.fB();k+=("0123456789ABCDEF")[f >>> 4] + ("0123456789ABCDEF")[f & 15];}return k;};a.prototype.Cva=function(c){for(var f=0,k=0;k < c;k++){f+=this.fB() << (k << 3);}return f;};a.prototype.lP=function(){return this.Cva(4);};a.prototype.S_=function(c){this.GQ(c,2);};a.prototype.MB=function(c){this.GQ(c,4);};a.prototype.Xba=function(c){this.buffer[this.position++]=c;};a.prototype.GQ=function(c,f){this.position+=f;for(var k=1;k <= f;k++){this.buffer[this.position - k]=c & 255;c=Math.floor(c / 256);}};a.prototype.LB=function(c){for(var f=0;f < c.length;f++){this.buffer[this.position++]=c.charCodeAt(f);}};a.prototype.R_=function(c){for(var f=c.length,k=0;k < f;k++){this.buffer[this.position++]=c[k];}};a.prototype.FQ=function(c,f){this.R_(c.Xh(f));};a.prototype.aeb=function(c){c=new a(c);for(var f,k;;){if((f=c.Voa(),k=f >>> 14))(k=Math.min(4,k),this.Xba(192 | k),this.FQ(c,16384 * k));else {128 > f?this.Xba(f):this.GQ(f | 32768,2);this.FQ(c,f);break;}}};a.prototype.t8a=function(){var k;for(var c=[],f=new a(c);;){k=this.fB();if(k & 128){if(128 == (k & 192))(k&=63,k=(k << 8) + this.fB(),f.FQ(this,k));else if((k&=63,0 < k && 4 >= k)){f.FQ(this,16384 * k);continue;}else throw Error("bad asn1");}else f.FQ(this,k);break;}return new Uint8Array(c);};return a;})();b.jR=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.o0="CannedChallengeProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bLa="ReportSyncSymbol";b.$Ka="ReportApiErrorSyncSymbol";b.XDa="FtlProbeConfigSymbol";b.ZDa="FtlProbeSymbol";},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.TKa=b.Q1=b.O6=void 0;c=a(42);f=a(3);b.O6=function(k){return k === c.Vb.zl.Xb?f.M.hea:f.M.iea;};b.Q1=50;b.TKa=1E3;},function(r,b){function a(c){var f;f={profile:c.spoofedProfile || c.profile,Mna:c.max_framerate_value,Lna:c.max_framerate_scale,maxWidth:c.maxWidth,maxHeight:c.maxHeight,RUb:c.pixelAspectX,SUb:c.pixelAspectY,channels:c.channels,sampleRate:c.channels?48E3:void 0};c.spoofedProfile && (f.Ydc=c.profile);return f;}Object.defineProperties(b,{__esModule:{value:!0}});b.XZa=b.WZa=void 0;b.WZa=function(c,f,k){var m;m=[{},{}];(0 === k?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(d,g){c[d].some(function(h,l){return l === f[g]?(m[g]=a(h),!0):!1;});});return m;};b.XZa=a;},function(r,b){function a(c){return c && "object" === typeof c?Array.isArray(c)?c.map(a):Object.keys(c).reduce(function(f,k){f[k]=a(c[k]);return f;},{}):c;}Object.defineProperty(b,"__esModule",{value:!0});b.ry=void 0;r=(function(){function c(f){f && (this.qJ(f.Pd),this.rxa(f.ce),this.lxa(f.V));}c.prototype.qJ=function(f){this.Pd=f;return this;};c.prototype.rxa=function(f){this.ce=f;return this;};c.prototype.L$a=function(f){this.Cd=f;return this;};c.prototype.Yk=function(f,k){this.V || (this.V={});this.V[f]=a(k);return this;};c.prototype.lxa=function(f,k){void 0 === k && (k=function(){return !0;});this.V={};this.gRa(f,k);};c.prototype.gRa=function(f,k){var m;m=this;void 0 === k && (k=function(){return !0;});Object.keys(f).filter(function(d){return k(f[d]);}).forEach(function(d){return m.Yk(d,f[d]);});};c.prototype.ZKb=function(f){var k;return !(null === (k=this.V) || void 0 === k || !k[f]);};c.prototype.ri=function(){var f;if(!this.V)throw Error("Invalid playgraph - `segments` is not defined");if(!this.Pd)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.V[this.Pd])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");f={Pd:this.Pd,V:this.V};this.ce && (f.ce=this.ce);this.Cd && (f.Cd=this.Cd);return f;};return c;})();b.ry=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Vx=void 0;c=a(224);f=a(4);r=(function(){function k(m){this.config=m;this.reset();}k.instance=function(){f.assert(void 0 !== k.BL);return k.BL;};k.Uxb=function(m){k.BL=new k(m);};k.prototype.push=function(m){this.Nk && this.Nk.push(m);};k.prototype.zb=function(){if(this.Nk)return (this.Nk.wz(),this.Nk.Fj([.25,.5,.75,.9,.95,.99]).map(function(m){return m?parseFloat(m.toFixed(1)):0;}));};k.prototype.reset=function(){this.config.PWa && this.config.Nda && (this.Nk=new c.G$b(this.config.Nda.c,this.config.Nda.maxc));};return k;})();b.Vx=r;},function(r){(function(){var R8;R8=2;function b(){var a00;a00=2;for(;a00 !== 5;){switch(a00){case 2:this.FC=this.Qc=0;this.Db=this.Ef=void 0;a00=5;break;}}}for(;R8 !== 8;){switch(R8){case 2:b.prototype.start=function(a){var b00;b00=2;for(;b00 !== 1;){switch(b00){case 2:this.Ef?a < this.Ef?(this.FC+=this.Ef - a,this.Ef=a):a > this.Db && (this.Db=this.Ef=a):this.Db=this.Ef=a;b00=1;break;}}};b.prototype.stop=function(a){var c00;c00=2;for(;c00 !== 1;){switch(c00){case 2:this.Db && a > this.Db && (this.FC+=a - this.Db,this.Db=a);c00=1;break;}}};b.prototype.add=function(a,c,f){var d00;d00=2;for(;d00 !== 4;){switch(d00){case 2:this.start(c);this.stop(f);this.Qc+=a;d00=4;break;}}};b.prototype.get=function(){var e00;e00=2;for(;e00 !== 1;){switch(e00){case 2:return {Ha:this.FC?Math.floor(8 * this.Qc / this.FC):null,lD:this.FC?this.FC:0};break;}}};r.exports=b;R8=9;break;case 9:var I3p="1";I3p+="SIY";I3p+="bZ";I3p+="rNJ";I3p+="Cp9";I3p;R8=8;break;}}})();},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(32);r=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.parse=function(d){d=k.prototype.parse.call(this,d);this.u.offset+=8;this.wka=this.u.$c();this.Bwa=this.u.$c();this.u.offset+=4;this.samplerate=this.u.$c();this.u.offset+=2;f.ia && this.u.console.trace("MP4AudioSampleEntry: channelcount: " + this.wka + ", samplesize: " + this.Bwa + ", samplerate: " + this.samplerate);return d;};m.Ra=!1;return m;})(a(230).default);b.default=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Bv=void 0;a(4);r=(function(){function c(f,k){c.Fb(this,f,k);}c.Fb=function(f,k,m){f.pd=k;f.Qc=m.ga;f.Re=m.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.pd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ga:{get:function(){return this.Qc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Re;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{R:{get:function(){return this.pd.R;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{K:{get:function(){return this.pd.K;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.pd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Ta:{get:function(){return this.pd.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.pd.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.pd.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{W:{get:function(){return this.pd.W;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{FO:{get:function(){return this.pd.FO;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{va:{get:function(){return this.pd.va;},enumerable:!1,configurable:!0}});c.prototype.toJSON=function(){return {movieId:this.K,streamId:this.Ta,offset:this.offset,bytes:this.ga};};return c;})();b.Bv=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Qfa=b.rn=void 0;c=a(149);(function(k){k[k.pending=0]="pending";k[k.qaa=1]="running";k[k.complete=2]="complete";k[k.UM=3]="destroyed";})(f=b.rn || (b.rn={}));r=(function(){function k(m,d){void 0 === d && (d=0);this.name=m;this.priority=d;this.bd=f.pending;}Object.defineProperties(k.prototype,{state:{get:function(){return this.bd;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{OMb:{get:function(){return this.bd === f.pending || this.bd === f.qaa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Me:{get:function(){return this.qw;},enumerable:!1,configurable:!0}});k.prototype.cub=function(m){var d;null === (d=this.qw) || void 0 === d?void 0:d.Yva(this);this.qw=m;};k.prototype.Bx=function(){this.bd=f.qaa;this.tg();this.Q9() === c.Tk.xza && (this.bd=f.complete);};k.prototype.Ib=function(){var m;this.bd=f.UM;null === (m=this.qw) || void 0 === m?void 0:m.Yva(this);};return k;})();b.Qfa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Y1=void 0;r=(function(){function a(c){this.parent=c;}Object.defineProperties(a.prototype,{M2a:{get:function(){var c,f;return null !== (c=this.hLb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.M2a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{cX:{get:function(){var c,f;return null !== (c=this.gSb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.cX;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Iu:{get:function(){var c,f;return null !== (c=this.Rg) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.Iu;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{R2a:{get:function(){var c,f,k,m;return null !== (c=this.Ke) && void 0 !== c?c:(null === (f=this.track) || void 0 === f?0:f.equals(null === (k=this.parent) || void 0 === k?void 0:k.track))?null === (m=this.parent) || void 0 === m?void 0:m.Ke:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{U2a:{get:function(){var c,f;return null !== (c=this.V0b) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.U2a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{wra:{get:function(){var c,f;return null !== (c=this.W0b) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.wra;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.DZb;},enumerable:!1,configurable:!0}});a.prototype.Ib=function(){this.parent=void 0;};a.prototype.F$a=function(c){this.hLb=c;};a.prototype.p_b=function(c){this.gSb=c;};a.prototype.T$a=function(c){this.Rg=c;};a.prototype.DZ=function(c){this.Ke=c;};a.prototype.A_b=function(c){this.V0b=c;};a.prototype.V$a=function(c){this.W0b=c;};a.prototype.FZ=function(c){this.DZb=c;};return a;})();b.Y1=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(845);c=a(394);a=a(847);b.default={STARTING:a.f$a,BUFFERING:r.zaa,REBUFFERING:r.zaa,PLAYING:c.Cx,PAUSED:c.Cx};},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.IN=b.fK=void 0;c=a(857);f=a(858);k=a(250);Object.defineProperties(b,{fK:{enumerable:!0,get:function(){return k.fK;}}});b.IN=function(m,d){switch(m.osa){case "manifold":return new c.ZGa(m,d);default:return new f.PLa(m,d);}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Mv=void 0;r=b.Mv || (b.Mv={});r[r.Rya=0]="up";r[r.qV=1]="down";},function(r,b,a){var c,f,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Uv=void 0;c=a(2);f=a(20);k=a(9);m=a(56);r=(function(){function d(g,h){this.Eh=g;this.options=c.__assign({mxb:!0},h);}Object.defineProperties(d.prototype,{kx:{get:function(){return "trace-" + this.Eh.source;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{si:{get:function(){return this.kx;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return f.ia;},enumerable:!1,configurable:!0}});d.prototype.Qn=function(g){var h,l;if(g.cj === m.ee.tq || g.cj === m.ee.oo){h=k.xVa(this.Eh.YNb);l=this.Eh.oLb;g.cj === m.ee.tq && this.options.mxb && this.Eh.clear();g=h;Object.keys(l).length && (g=c.__spread(h,[l]));return g;}};d.prototype.Ib=function(){this.Eh.Ib();};return d;})();b.Uv=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.jx,minHCInitVideoBitrate:a.Vsa,maxInitVideoBitrate:a.HA,minInitAudioBitrate:a.IX,maxInitAudioBitrate:a.tX,minHCInitAudioBitrate:a.HX,minAcceptableVideoBitrate:a.q9,minRequiredBuffer:a.qI,minPrebufSize:a.Bj,minCheckBufferingCompleteInterval:a.u9,rebufferingFactor:a.Hva,useMaxPrebufSize:a.iza,maxPrebufSize:a.cE,maxRebufSize:a.zsa,maxBufferingTime:a.Cs,minAudioMediaRequestSizeBytes:a.r9,minVideoMediaRequestSizeBytes:a.A9,initialBitrateSelectionCurve:a.P7,initSelectionLowerBound:a.m1a,initSelectionUpperBound:a.n1a,throughputPercentForAudio:a.hba,bandwidthMargin:a.Ija,bandwidthMarginContinuous:a.Jja,bandwidthMarginCurve:a.Kja,conservBandwidthMargin:a.gla,switchConfigBasedOnInSessionTput:a.iya,conservBandwidthMarginTputThreshold:a.QU,conservBandwidthMarginCurve:a.hla,switchAlgoBasedOnHistIQR:a.sbb,switchConfigBasedOnThroughputHistory:a.PE,maxPlayerStateToSwitchConfig:a.ysa,lowEndMarkingCriteria:a.Zra,IQRThreshold:a.Ida,histIQRCalcToUse:a.Wpa,maxTotalBufferLevelPerSession:a.Lu,highWatermarkLevel:a.D0a,toStableThreshold:a.$bb,toUnstableThreshold:a.nba,skipBitrateInUpswitch:a.Cxa,watermarkLevelForSkipStart:a.Aza,highStreamRetentionWindow:a.Qpa,lowStreamTransitionWindow:a.$ra,highStreamRetentionWindowUp:a.Spa,lowStreamTransitionWindowUp:a.csa,highStreamRetentionWindowDown:a.Rpa,lowStreamTransitionWindowDown:a.bsa,highStreamInfeasibleBitrateFactor:a.Ppa,lowestBufForUpswitch:a.AA,lockPeriodAfterDownswitch:a.L8,lowWatermarkLevel:a.esa,lowestWaterMarkLevel:a.BA,lowestWaterMarkLevelBufferRelaxed:a.fsa,mediaRate:a.Isa,maxTrailingBufferLen:a.b9,audioBufferTargetAvailableSize:a.jU,videoBufferTargetAvailableSize:a.F_,maxVideoTrailingBufferSize:a.v4a,maxAudioTrailingBufferSize:a.d4a,fastUpswitchFactor:a.c6,fastDownswitchFactor:a.cna,maxMediaBufferAllowed:a.IA,simulatePartialBlocks:a.Axa,simulateBufferFull:a.pab,considerConnectTime:a.ila,connectTimeMultiplier:a.fla,lowGradeModeEnterThreshold:a.z3a,lowGradeModeExitThreshold:a.A3a,maxDomainFailureWaitDuration:a.f4a,maxAttemptsOnFailure:a.c4a,exhaustAllLocationsForFailure:a.oXa,maxNetworkErrorsDuringBuffering:a.l4a,maxBufferingTimeAllowedWithNetworkError:a.U8,fastDomainSelectionBwThreshold:a.wXa,throughputProbingEnterThreshold:a.Fbb,throughputProbingExitThreshold:a.Gbb,locationProbingTimeout:a.n3a,finalLocationSelectionBwThreshold:a.EXa,throughputHighConfidenceLevel:a.Dbb,throughputLowConfidenceLevel:a.Ebb,locationStatisticsUpdateInterval:a.Lra,enablePerfBasedLocationSwitch:a.OWa,probeServerWhenError:a.dv,probeRequestTimeoutMilliseconds:a.bva,allowSwitchback:a.az,probeDetailDenominator:a.TI,maxDelayToReportFailure:a.V8,countGapInBuffer:a.EUa,bufferThresholdForAbort:a.NSa,allowCallToStreamSelector:a.tRa,pipelineScheduleTimeoutMs:a.zua,maxPartialBuffersAtBufferingStart:a.JA,maxActiveRequestsSABCell100:a.S8,maxStreamingSkew:a.Bsa,maxPendingBufferPercentage:a.wsa,headerRequestSize:a.x7,estimateHeaderSize:a.Sma,minBufferLenForHeaderDownloading:a.FX,reserveForSkipbackBufferMs:a.jZ,numExtraFragmentsAllowed:a.zta,pipelineEnabled:a.Sq,maxParallelConnections:a.vO,socketReceiveBufferSize:a.yab,audioSocketReceiveBufferSize:a.g4,videoSocketReceiveBufferSize:a.AQ,headersSocketReceiveBufferSize:a.Npa,updatePtsIntervalMs:a.Eba,bufferTraceDenominator:a.Vja,bufferLevelNotifyIntervalMs:a.qM,aseReportDenominator:a.kM,aseReportIntervalMs:a.a4,enableAbortTesting:a.EDb,abortRequestFrequency:a.lsb,streamingStatusIntervalMs:a.$xa,prebufferTimeLimit:a.YA,minBufferLevelForTrackSwitch:a.t9,penaltyFactorForLongConnectTime:a.rua,longConnectTimeThreshold:a.Xra,additionalBufferingLongConnectTime:a.Uia,additionalBufferingPerFailure:a.Via,rebufferCheckDuration:a.SY,enableLookaheadHints:a.LWa,lookaheadFragments:a.w3a,enableOCSideChannel:a.Pz,OCSCBufferQuantizationConfig:a.y1,updateDrmRequestOnNetworkFailure:a.Ncb,deferAseScheduling:a.EVa,maxDiffAudioVideoEndPtsMs:a.e4a,defaultHeaderCacheSize:a.o5,defaultHeaderCacheDataPrefetchMs:a.n5,neverWipeHeaderCache:a.xI,networkFailureResetWaitMs:a.jta,networkFailureAbandonMs:a.ita,maxThrottledNetworkFailures:a.a9,throttledNetworkFailureThresholdMs:a.gba,lowThroughputThreshold:a.dsa,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.Xma,mp4ParsingInNative:a.f5a,sourceBufferInOrderAppend:a.Aab,requireAudioStreamToEncompassVideo:a.AE,allowAudioToStreamPastVideo:a.sRa,enableManagerDebugTraces:a.ti,managerDebugMessageInterval:a.M3a,managerDebugMessageCount:a.L3a,bufferThresholdToSwitchToSingleConnMs:a.Uja,bufferThresholdToSwitchToParallelConnMs:a.Tja,netIntrStoreWindow:a.PRb,minNetIntrDuration:a.mRb,fastHistoricBandwidthExpirationTime:a.YEb,bandwidthExpirationTime:a.Mub,failureExpirationTime:a.VEb,historyTimeOfDayGranularity:a.nLb,expandDownloadTime:a.HEb,minimumMeasurementTime:a.yRb,minimumMeasurementBytes:a.xRb,throughputMeasurementTimeout:a.d2b,initThroughputMeasureDataSize:a.pMb,throughputMeasureWindow:a.c2b,throughputIQRMeasureWindow:a.b2b,IQRBucketizerWindow:a.gjb,connectTimeHalflife:a.Vxb,responseTimeHalflife:a.KYb,historicBandwidthUpdateInterval:a.mLb,throughputWarmupTime:a.h2b,minimumBufferToStopProbing:a.wRb,throughputPredictor:a.e2b,ase_stream_selector:a.Stb,enableFilters:a.JDb,filterDefinitionOverrides:a.oFb,defaultFilter:a.LBb,secondaryFilter:a.qZb,defaultFilterDefinitions:a.MBb,initBitrateSelectorAlgorithm:a.qqa,bufferingSelectorAlgorithm:a.$ja,ase_ls_failure_simulation:a.rVa,ase_dump_fragments:a.Mla,ase_location_history:a.Ola,ase_throughput:a.Pla,ase_simulate_verbose:a.tVa,secondThroughputEstimator:a.Jwa,secondThroughputMeasureWindowInMs:a.b$a,marginPredictor:a.osa,networkMeasurementGranularity:a.kta,HistoricalTDigestConfig:a.GEa,maxIQRSamples:a.i4a,minIQRSamples:a.U4a,periodicHistoryPersistMs:a.x$,saveVideoBitrateMs:a.saa,needMinimumNetworkConfidence:a.NX,biasTowardHistoricalThroughput:a.Nja,maxFastPlayBufferInMs:a.W8,maxFastPlayBitThreshold:a.tsa,minAudioMediaRequestDuration:a.ix,minVideoMediaRequestDuration:a.OA,minAudioMediaRequestDurationCache:a.ix,minVideoMediaRequestDurationCache:a.OA,addHeaderDataToNetworkMonitor:a.Lia,hindsightDenominator:a.Vpa,hindsightDebugDenominator:a.Upa,hindsightParam:a.B7,minimumTimeBeforeBranchDecision:a.gE,minimumTimeBeforeDelayedSeekToQueuedSegment:a.Z4a,enableSessionHistoryReport:a.DV,earlyStageEstimatePeriod:a.Ama,lateStageEstimatePeriod:a.W2a,maxNumSessionHistoryStored:a.Y8,minSessionHistoryDuration:a.z9,appendMediaRequestOnComplete:a.JRa,waitForDrmToAppendMedia:a.Tba,forceAppendHeadersAfterDrm:a.m6,startMonitorOnLoadStart:a.Lxa,reportFailedRequestsToNetworkMonitor:a.fwa,reappendRequestsOnSkip:a.aXb,maxActiveRequestsPerSession:a.dx,limitAudioDiscountByMaxAudioBitrate:a.Gra,appendFirstHeaderOnComplete:a.fja,maxAudioFragmentOverlapMs:0,editVideoFragments:a.uDb,declareBufferingCompleteAtSegmentEnd:a.Qla,applyProfileTimestampOffset:a.GG,applyProfileStreamingOffset:a.qm,requireDownloadDataAtBuffering:a.gaa,requireSetupConnectionDuringBuffering:a.haa,recordFirstFragmentOnSubBranchCreate:a.Kva,earlyAppendSingleChildBranch:a.F5,selectStartingVMAFMethod:a.GP,activateSelectStartingVMAF:a.$T,minStartingVideoVMAF:a.Qu,minAcceptableVMAF:a.EX,minAllowedVmaf:a.pI,alwaysNotifyEOSForPlaygraph:a.Btb,enableNewAse:a.eN,useNewApi:a.B_,enableCombinedPlaygraphs:a.H5,enableDiscontiguousBuffering:a.I5,forceImmediateTransitionTypeForTitles:a.Gna,forceImmediateTransitionExitZone:a.Fna,useBufferSizeLimiter:a.eza,useLegacyFragmentRounding:a.hza,waitForDrmToAppendHeadersWhenClearAndEncryptedContent:a.vza,enableHudsonFieldTest:a.NDb,hudsonTitles:a.CLb,maxPartialBuffersAtHudson:a.rQb,numberOfChunksPerSegment:a.FSb,targetContentLatency:a.Q1b,targetLongContentLatency:a.R1b,minimumTimeDelay:a.zRb,enableWsslEstimate:a.Gma,maxAllowedOutstandingRequests:a.T8,alwaysRunUnderflowTimer:a.fM,minStreamableConcurrencyWindow:a.Wsa,streamableConcurrencyFactor:a.Xxa,bufferingConcurrencyWindow:a.CU,singleStreamablePerBranch:a.q0b,enableResolutionVMAFStreamFilter:a.L5,resolutionVMAFCappingRuleList:a.laa,percentCapTitlesForResolutionVMAFStreamFilter:a.tua,useExitZones:a.fza,perFragmentVMAFConfig:a.ZO,enableInitialTputLogging:a.J5,maxResponsesInitialTput:a.Asa};};},function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(33);r=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.parse=function(d){d=k.prototype.parse.call(this,d);this.u.offset+=8;this.wka=this.u.$c();this.Bwa=this.u.$c();this.u.offset+=4;this.samplerate=this.u.$c();this.u.offset+=2;f.ia && this.u.console.trace("MP4AudioSampleEntry: channelcount: " + this.wka + ", samplesize: " + this.Bwa + ", samplerate: " + this.samplerate);return d;};m.Ra=!1;return m;})(a(270).default);b.default=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WR="LogblobBuilderFactorySymbol";b.Yda="LogblobBuilderCommonSymbol";},function(r,b,a){var f,k,m,d,g,h;function c(l,n,q,p){var u;u=m.eR.call(this,l,n,f.Xj.iNa,p) || this;u.config=l;u.Aj=n;u.is=q;u.f9=p;u.type=f.pj.Fv;u.L_=d.Hd.dVa();return u;}Object.defineProperty(b,"__esModule",{value:!0});b.ro=void 0;f=a(26);k=a(45);m=a(455);r=a(113);d=a(112);g=a(277);h=a(105);new r.lC();na(c,m.eR);c.prototype.Gx=function(){return Promise.resolve(!1);};c.prototype.ru=function(){return Promise.resolve("");};c.prototype.M6=function(){return Promise.resolve("");};c.prototype.VZ=function(){return this.config().Ema?this.f9.Jqa()?this.f9.Sz(k.P.vK).then(function(l){return {result:l,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.cba=function(){return this.config().Ema?this.f9.Jqa()?this.f9.Sz(k.P.iR).then(function(l){return {result:l,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.WZ=function(){return Promise.resolve(!1);};c.prototype.TZ=function(){return Promise.resolve(!1);};c.prototype.wN=function(l){return this.L_[l];};c.prototype.Jia=function(){};c.prototype.S3a=function(l){switch(l){case f.Tj.rF:return "1.4";case f.Tj.Kv:return "2.2";}};c.prototype.Ro=function(){return g.I0.Ro();};c.prototype.u_a=function(){return (0,h.Ccb)(function(l,n){return l.name === n.name;},this.config().nRa,this.config().en);};c.prototype.HN=function(){return Promise.resolve(void 0);};c.prototype.b7=function(){return Promise.resolve(void 0);};c.prototype.UU=function(l){var n;n=[];this.is.Ng(l) && n.push(this.S3a(l));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:n,isHdcpEngaged:! !n.length}];};b.ro=c;c.rQ="video/mp4;codecs={0};";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Ze=void 0;b.Ze=a;a.kEa=/^hevc-main/;a.iEa=/^hevc-hdr-|hevc-dv/;a.ey=/^hevc-hdr-/;a.qt=/^hevc-dv/;a.sR=/-h264mpl/;a.tK=/-h264mpl30/;a.jF=/-h264mpl31/;a.PB=/-h264hpl/;a.nC=/^vp9-/;a.yl=/^av1-/;a.XK=/-L5[0-1]-/;a.V_=/^heaac-2-/;a.pEa=/^heaac-2hq-dash/;a.VF=/^xheaac-dash/;a.hgb=/ddplus-2/;a.igb=/ddplus-5/;a.jgb=/ddplus-atmos/;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gkb="NativeLocalStorageSymbol";b.OHa="NativeLocalStorageFactorySymbol";b.QEa="IDBFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PEa="IDBDatabaseFactorySymbol";b.tFa="IndexedDBFactorySymbol";b.Kda="IndexedDBStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eda=void 0;(b.eda || (b.eda={})).olb="PboDebugEvent";b.qCa={Pjb:"Manifest",Event:"Event",p8b:"Logblob"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UR="LicenseProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sK=void 0;b.sK=function(){return "";};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ida=b.JCa=void 0;b.JCa=function(){this.Xb=0;this.Pb=1;this.Vhb=2;this.tg=function(){};};b.ida="DownloadTrackConstructorFactorySymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.xc=void 0;b.xc=a;a.Ne={aIa:"mr1",$Ha:"mr2",bIa:"mr3",iS:"mr4",pkb:"mr5",FF:"mr6"};a.Uc={UNSENT:0,OPENED:1,vy:2,ty:3,DONE:5,rK:6,OQ:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.N0={NO_ERROR:-1,Mgb:0,iCa:1,Ygb:2,Qgb:3,Pfb:4,kBa:5,iBa:6,Qfb:7,Rfb:8,Sfb:9,Mfb:10,Ofb:11,jBa:12,Nfb:13,Lfb:14,cib:15,uEa:16,tEa:17,yda:18,Ada:19,zda:20,xEa:21,eib:22,e1:23,vEa:24,dib:25,Tgb:26,Ngb:27,Ylb:28,Dgb:29,Egb:30,Fgb:31,Ggb:32,Hgb:33,Igb:34,Jgb:35,Kgb:36,Lgb:37,Ogb:38,Pgb:39,Rgb:40,Sgb:41,Ugb:42,Vgb:43,Wgb:44,Xgb:45,Zgb:46,$gb:47,Xlb:48,TIMEOUT:49,qEa:50,rEa:51,bib:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.Rc={lZ:{oeb:!0,yS:!1,bkb:!0}};},function(r,b,a){var c,f,k,m,d,g,h,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.qk=void 0;c=a(12);f=a(14);r=a(3);k=a(22);m=a(8);d=a(485);g=a(11);h=a(31);l=a(35);n=m.pa.get(h.oh);n.register(r.N.Hda,function(q){var p,u,t,w;p=m.pa.get(l.Cl);(0,k.jb)(f.config);(0,k.jb)(g.dC && g.dC.getDeviceId || g.r1 || p.uN);u=m.pa.get(d.ACa);t=(0,m.aj)("Device");n.Ed("devs");w=m.pa.get(l.fC);u.create({deviceId:f.config.deviceId,uN:p.uN,PVa:"deviceid",il:f.config.il,Xo:w.O0,kV:p.kV,userAgent:g.eC,Ora:f.config.Ora,koa:f.config.koa,tCb:w.Xca || !1,Bub:f.config.mSa.e,Fdc:f.config.Lw?"mslstoretest":"mslstore",vQ:f.config.vQ}).then(function(v){b.qk=v;nb._cad_global.device=b.qk;t.info("Esn source: " + b.qk.S5);n.Ed("devdone");q(c.$e);}).catch(function(v){v.aa=void 0;q(v);});});},function(r){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof nb && (b=nb);}r.exports=b;},function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.oF=void 0;c=/^\S+$/;a.prototype.eH=function(f){return void 0 !== f;};a.prototype.Ng=function(f){return null !== f && void 0 !== f;};a.prototype.gM=function(f){return a.yRa(f);};a.prototype.zia=function(f){return !(!f || !a.yRa(f));};a.prototype.bz=function(f){return Array.isArray(f);};a.prototype.zRa=function(f){return !(!f || f.constructor != Uint8Array);};a.prototype.Oi=function(f,k,m){return a.IQa(f,k,m);};a.prototype.yia=function(f){return a.yia(f);};a.prototype.dja=function(f,k,m){return a.T3(f,k,m) && 0 === f % 1;};a.prototype.dU=function(f,k,m){return a.T3(f,k || 0,m);};a.prototype.WT=function(f){return a.T3(f,1);};a.prototype.jsb=function(f){return a.T3(f,0,255);};a.prototype.ksb=function(f){return f === +f && (0 === f || f !== (f | 0)) && !0;};a.prototype.ARa=function(f){return !(!f || !c.test(f));};a.prototype.$p=function(f){return a.JQa(f);};a.prototype.Bn=function(f){return !(!a.JQa(f) || !f);};a.prototype.VT=function(f){return !0 === f || !1 === f;};a.prototype.K3=function(f){return "function" == typeof f;};a.JQa=function(f){return "string" == typeof f;};a.IQa=function(f,k,m){return "number" == typeof f && !isNaN(f) && isFinite(f) && (void 0 === k || f >= k) && (void 0 === m || f <= m);};a.yia=function(f){return "number" == typeof f && isNaN(f);};a.T3=function(f,k,m){return a.IQa(f,k,m) && 0 === f % 1;};a.yRa=function(f){return "object" == typeof f;};b.oF=new a();},function(r,b,a){var c,f,k,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.cc=void 0;r=a(0);c=a(95);f=a(594);k=a(206);m=a(610);d=a(617);g=a(628);a=a(1272);b.cc=new r.s0({uJ:!0});(0,g.g3a)(b.cc);b.cc.load(f.platform);b.cc.load(m.config);k.aN.load(d.zWa);b.cc.load(a.FRa);b.cc.load(a.profile);b.cc.bind(c.yFa).Oj(b.cc);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(202);r=(function(){function f(k){this.Gc=k;}f.prototype.lx=function(k){this.Gc.lx=k;return new c.Gca(this.Gc);};return f;})();b.k0=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(201);a(319);r=(function(){function f(k){this.Gc=k;}f.prototype.when=function(k){this.Gc.WG=k;return new c.k0(this.Gc);};f.prototype.O_=function(){this.Gc.WG=function(k){return null !== k.target && !k.target.Oqa() && !k.target.ara();};return new c.k0(this.Gc);};return f;})();b.Gca=r;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Tx=void 0;b.Tx=a;a.nlb="PSK";a.yjb="MGK";a.FFa="JWEJS_RSA";a.k1="JWK_RSA";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wea="PlatformEmeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mfa="StringUtilsSymbol";},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p;Object.defineProperty(b,"__esModule",{value:!0});b.aN=b.eme=void 0;r=a(0);c=a(124);f=a(322);k=a(207);m=a(208);d=a(605);g=a(606);h=a(70);l=a(139);n=a(607);q=a(169);p=a(608);b.eme=new r.rd(function(u){u(f.NCa).to(k.MCa).ba();u(m.Rca).to(d.sBa).ba();u(c.K0).l_(g.f8a);u(h.vt).SE(function(t){b.aN.parent=t.fb;return b.aN.get(h.vt);});u(l.aS).Af(function(){return function(){return new n.oHa();};});u(q.o0).to(p.tBa).ba;});b.aN=new r.s0({uJ:!0});},function(r,b,a){var k;function c(){}function f(m){m?(this.active=!1,this.Pna(m)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.MCa=b.J0=void 0;r=a(1);a=a(0);f.prototype.Pna=function(m){this.xe=m.keySessionData?m.keySessionData.map(function(d){return {id:d.id,gI:d.licenseContextId,jX:d.licenseId};}):[];this.ca=m.xid;this.K=m.movieId;};f.prototype.Hx=function(){return JSON.parse(JSON.stringify({keySessionData:this.xe?this.xe.map(function(m){return {id:m.id,licenseContextId:m.gI,licenseId:m.jX};}):[],xid:this.ca,movieId:this.K}));};b.J0=f;c.prototype.create=function(){return new f();};c.prototype.load=function(m){return new f(m);};k=c;k=r.__decorate([(0,a.T)()],k);b.MCa=k;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rca="CachedDrmDataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ky='video/mp4; codecs="avc1.640028"';b.EK='audio/mp4; codecs="mp4a.40.5"';b.nhb="DrmTraitsSymbol";},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u;function c(t,w,v,x,y,z){this.MX=t;this.is=w;this.Wc=v;this.de=x;this.sq=y;this.bi=z;(0,m.kp)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.Sv=void 0;r=a(1);k=a(0);m=a(59);d=a(3);g=a(39);h=a(27);l=a(96);n=a(29);q=a(36);p=a(69);a=a(78);c.prototype.Zz=function(){if(this.wb)return this.wb.sessionId;};c.prototype.pYb=function(t,w){return this.MX.requestMediaKeySystemAccess(t,w);};c.prototype.createMediaKeys=function(t){return t.createMediaKeys();};c.prototype.createSession=function(t,w){this.wb=t.createSession(w);};c.prototype.Z4=function(){return Promise.reject(new l.ph(d.N.M0));};c.prototype.CNb=function(){return ! !this.wb;};c.prototype.setServerCertificate=function(t,w){return this.is.K3(t.setServerCertificate)?t.setServerCertificate(w):Promise.resolve();};c.prototype.generateRequest=function(t,w){return this.wb?this.wb.generateRequest(t,w[0]):Promise.reject(new l.ph(d.N.M0,d.M.pK,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(t){return this.wb?this.wb.update(t[0]):Promise.reject(new l.ph(d.N.iDa,d.M.pK,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(t){return this.wb?this.wb.load(t):Promise.reject(new l.ph(d.N.xhb,d.M.pK,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var t;this.Uka=void 0;if(!this.wb)return Promise.reject(new l.ph(d.N.ZCa,d.M.pK,void 0,"Unable to close a key session, key session is not valid"));t=Promise.resolve();this.Zz() && (t=this.wb.close());this.wb=void 0;return t;};c.prototype.remove=function(){return this.wb?this.wb.remove():Promise.reject(new l.ph(d.N.zhb,d.M.pK,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.YI=function(){return Promise.reject(new l.ph(d.N.lda,void 0,"Unable to renew a key session, not supported"));};c.prototype.$Qa=function(t){if(!this.wb)throw ReferenceError("Unable to add message handler, key session is not valid");this.wb.addEventListener(f.mDa,t);};c.prototype.UQa=function(t){if(!this.wb)throw ReferenceError("Unable to add key status handler, key session is not valid");this.wb.addEventListener(f.lDa,t);};c.prototype.SQa=function(t){if(!this.wb)throw ReferenceError("Unable to add error handler, key session is not valid");this.wb.addEventListener(f.kDa,t);};c.prototype.Asb=function(t){var w;w=this;if(!this.wb)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.Uka=t;this.wb.closed.then(function(v){var x;return null === (x=w.Uka) || void 0 === x?void 0:x.call(w,v);});};c.prototype.Y8a=function(t){if(!this.wb)throw ReferenceError("Unable to remove message handler, key session is not valid");this.wb.removeEventListener(f.mDa,t);};c.prototype.W8a=function(t){if(!this.wb)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.wb.removeEventListener(f.lDa,t);};c.prototype.U8a=function(t){if(!this.wb)throw ReferenceError("Unable to remove error handler, key session is not valid");this.wb.removeEventListener(f.kDa,t);};u=f=c;u.mDa="message";u.lDa="keystatuseschange";u.kDa="error";u=f=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(g.LK)),r.__param(1,(0,k.l)(h.ig)),r.__param(2,(0,k.l)(q.Ii)),r.__param(3,(0,k.l)(n.jg)),r.__param(4,(0,k.l)(p.Hv)),r.__param(5,(0,k.l)(a.Xv))],u);b.Sv=u;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fqa=b.Gv=void 0;(function(a){a.fdb="usable";a.hu="expired";a.released="released";a.w6a="output-restricted";a.aUb="output-downscaled";a.P0b="status-pending";a.DMb="internal-error";})(b.Gv || (b.Gv={}));b.Fqa=function(a){return ! !a && ! !a.keyStatuses;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.c2="TimeoutMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sn="_ANY_";b.BDa="EnricherSymbol";},function(r,b,a){var f,k,m;function c(d,g,h,l){this.Da=d;this.w4=g;this.ko=h;this.Qo=void 0 === l?"General":l;this.Xka={};}Object.defineProperty(b,"__esModule",{value:!0});b.BK=void 0;f=a(7);k=a(346);m=a(657);c.prototype.PQa=function(d,g){this.Xka[d]=g;};c.prototype.fatal=function(d,g){for(var h=[],l=1;l < arguments.length;++l){h[l - 1]=arguments[l];}this.PC(f.Uj.Jhb,d,this.yQ(d,h));};c.prototype.error=function(d,g){for(var h=[],l=1;l < arguments.length;++l){h[l - 1]=arguments[l];}this.PC(f.Uj.Rf,d,this.yQ(d,h));};c.prototype.warn=function(d,g){for(var h=[],l=1;l < arguments.length;++l){h[l - 1]=arguments[l];}this.PC(f.Uj.$fa,d,this.yQ(d,h));};c.prototype.info=function(d,g){for(var h=[],l=1;l < arguments.length;++l){h[l - 1]=arguments[l];}this.PC(f.Uj.Fda,d,this.yQ(d,h));};c.prototype.trace=function(d,g){for(var h=[],l=1;l < arguments.length;++l){h[l - 1]=arguments[l];}this.PC(f.Uj.qMa,d,this.yQ(d,h));};c.prototype.debug=function(d,g){for(var h=1;h < arguments.length;++h){;}!1;};c.prototype.log=function(d,g){for(var h=[],l=1;l < arguments.length;++l){h[l - 1]=arguments[l];}this.debug.apply(this,[d].concat(ha(h)));};c.prototype.write=function(d,g,h){for(var l=[],n=2;n < arguments.length;++n){l[n - 2]=arguments[n];}this.PC(d,g,this.yQ(g,l));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Qo};};c.prototype.vla=function(d){return new c(this.Da,this.w4,this.ko,d);};c.prototype.PC=function(d,g,h){d=new k.Wda(d,this.Qo,this.Da.Zb(),g,h);g=ba(this.ko.ko);for(h=g.next();!h.done;h=g.next()){h=h.value;h(d);}};c.prototype.nHb=function(d){return 0 < Object.keys(this.Xka).length?[this.Xka].concat(ha(d)):d;};c.prototype.yQ=function(d,g){var h;d && "null" !== d && "undefined" !== d || g.push({StackTrace:null !== (h=Error("Empty message").stack) && void 0 !== h?h:"nostack"});return (0,m.USa)(this.w4,this.nHb(g));};b.BK=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ffa="SegmentManagerFactorySymbol";},function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.b1b=b.A8a=b.Fva=void 0;b.Fva=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.A8a=a;b.b1b=function(c){return "IStreamable: " + c.identifier + " [" + c.mediaType + "] " + c.groupId + " p:" + (JSON.stringify(c.fh) + " sp:" + c.nB + " pssp:") + (c.DY + " state:") + (c.Gf + " path-complete:" + c.WA + " streaming:") + (c.Ys + " current:" + c.$r);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.G4a=b.m9=b.Df=void 0;b.Df=[0,1];b.m9=function(a,c){return a || c?c?[1]:[0]:[0,1];};b.G4a=function(a){return 0 === a?"audio":1 === a?"video":"unknown";};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.HK=void 0;c=a(42);r=(function(){function f(k,m){this.console=k;this.config=m;this.jdb=!1;}f.prototype.Dm=function(k,m,d,g){void 0 === d && (d=c.O.eb);void 0 === g && (g=!1);return this.jdb || d.U >= this.config.lQb || !1 === g?k.filter(this.iDb):k.filter(this.nxb);};f.prototype.tbb=function(){this.jdb=!0;};f.prototype.iDb=function(k){return k.ml;};f.prototype.nxb=function(k){return !k.ml;};return f;})();b.HK=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zea=void 0;r=(function(){function a(c,f,k,m){var d;d=this;this.properties=c;this.transform=f;this.FU=k;this.state=m;this.Tta=function(){var g,h;g=d.state;h=d.properties.map(function(l){return l.value;});d.state=d.transform(h);(d.O1a(d.state) && d.O1a(g)?d.state.equal(g):g === d.state) || d.FU(d.state);};c.forEach(function(g){return g.addListener(d.Tta);});this.Tta();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(f){return f.removeListener(c.Tta);});};a.prototype.O1a=function(c){return void 0 !== c.equal;};return a;})();b.zea=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Rj=void 0;r=b.Rj || (b.Rj={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.oj=2]="STREAMING";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.RF=void 0;r=(function(){function a(c){this.eQa=c;}Object.defineProperties(a.prototype,{aO:{get:function(){return this.Tob;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.eQa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{twa:{get:function(){var c;c=this;return this.eQa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.Tob=!0;};a.prototype.Ota=function(c,f){var k;k=this;this.result.then(function(m){k.aO?f && f(m):c(m);});return this;};return a;})();b.RF=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.FM=b.WEb=b.rz=b.HE=void 0;c=a(2);f=a(21);k=a(57);Object.defineProperties(b,{HE:{enumerable:!0,get:function(){return k.HE;}}});Object.defineProperties(b,{rz:{enumerable:!0,get:function(){return k.rz;}}});b.WEb=function(m,d){var g,p,u;m=Math.max(m.duration - 3E4,3E4);for(var h={},l,n=0,q=0;q < m;q+=3E4){p="s" + n++;u={S:d,Aa:q,Ba:q + 3E4 < m?q + 3E4:null};void 0 !== l && (l.next=(g={},g[p]={weight:1},g),l.Md=p);l=h[p]=u;}return {Pd:"s0",V:h,ce:"lazy"};};b.FM=function(m,d,g,h){var l,n,q,t,w,v;void 0 === h && (h={});q=f.O.max(g,f.O.eb);try{for(var p=c.__values(Object.keys(m.V)),u=p.next();!u.done;u=p.next()){t=u.value;w=m.V[t];if(w.S === d){v=f.O.Na(w.Aa);if(q.ms(v) && (!isFinite(null !== (n=w.Ba) && void 0 !== n?n:NaN) || q.lessThan(f.O.Na(w.Ba))))return {ha:t,offset:g.Ka(v)};}}}catch(y){var x;x={error:y};}finally{try{u && !u.done && (l=p.return) && l.call(p);}finally{if(x)throw x.error;}}if(h.a$a && (w=Object.keys(m.V).map(function(y){return {key:y,H:m.V[y]};}).filter(function(y){return y.H.S === d;}).map(function(y){var z,A;z=f.O.abs(g.Ka(f.O.Na(y.H.Aa)));if(y.H.Ba && isFinite(y.H.Ba)){A=f.O.abs(g.Ka(f.O.Na(y.H.Ba)));z=f.O.min(z,A);}return c.__assign(c.__assign({},y),{Vo:z});}),w.sort(function(y,z){return y.Vo.U - z.Vo.U;}),v=c.__read(w,1)[0]))return (w=v.H,h=v.key,v=f.O.Na(w.Aa),{ha:h,offset:g.Ka(v)});};},function(r,b,a){var c,f,k,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.jK=void 0;r=a(2);c=a(174);f=r.__importDefault(a(225));k=r.__importDefault(a(765));m=r.__importDefault(a(145));d=a(4);b.jK=(function(){function h(l,n){var q;q=this;this.Th=new f.default(l,n);this.Wn=new k.default(l);this.Rb=new m.default(this.Wn,this.Th,l);c.Vx.Uxb(l);l.x$ && setInterval(function(){q.Th.save();q.Wn.save();},l.x$);}h.j_a=function(l,n){void 0 === g?(h.config=l,h.RE=n,g=new h(l,n)):(d.assert(h.config === l),d.assert(h.RE === n));return g;};h.reset=function(){h.config=void 0;g=h.RE=void 0;};return h;})();},function(r,b,a){var d;function c(g,h,l){this.VM=!1 === g;this.Vo=g || .01;this.Oda=void 0 === h?25:h;this.qBa=void 0 === l?1.1:l;this.Ui=new d(f);this.reset();}function f(g,h){return g.vg > h.vg?1:g.vg < h.vg?-1:0;}function k(g,h){return g.fx - h.fx;}function m(g){this.config=g || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?g.Vo:!1);this.vCb=this.config.ratio || .9;this.wCb=this.config.efc || 1E3;this.H9=0;}d=a(747).Elb;c.prototype.reset=function(){this.Ui.clear();this.Dra=this.n=0;};c.prototype.size=function(){return this.Ui.size;};c.prototype.Ap=function(g){var h;h=[];g?(this.C2(!0),this.Ui.sf(function(l){h.push(l);})):this.Ui.sf(function(l){h.push({vg:l.vg,n:l.n});});return h;};c.prototype.summary=function(){return [(this.VM?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.Fj(0),"Q1  = " + this.Fj(.25),"Q2  = " + this.Fj(.5),"Q3  = " + this.Fj(.75),"max = " + this.Fj(1)].join("\n");};c.prototype.push=function(g,h){h=h || 1;g=Array.isArray(g)?g:[g];for(var l=0;l < g.length;l++){this.iOa(g[l],h);}};c.prototype.qva=function(g){g=Array.isArray(g)?g:[g];for(var h=0;h < g.length;h++){this.iOa(g[h].vg,g[h].n);}};c.prototype.C2=function(g){var h;if(!(this.n === this.Dra || !g && this.qBa && this.qBa > this.n / this.Dra)){h=0;this.Ui.sf(function(l){l.fx=h + l.n / 2;h=l.KM=h + l.n;});this.n=this.Dra=h;}};c.prototype.HFb=function(g){var h,l;if(0 === this.size())return null;h=this.Ui.lowerBound({vg:g});l=null === h.data()?h.SI():h.data();return l.vg === g || this.VM?l:(h=h.SI()) && Math.abs(h.vg - g) < Math.abs(l.vg - g)?h:l;};c.prototype.ML=function(g,h,l){this.Ui.Hq({vg:g,n:h,KM:l});this.n+=h;};c.prototype.m2=function(g,h,l){h !== g.vg && (g.vg+=l * (h - g.vg) / (g.n + l));g.KM+=l;g.fx+=l / 2;g.n+=l;this.n+=l;};c.prototype.iOa=function(g,h){var l,n,q;l=this.Ui.min();n=this.Ui.max();q=this.HFb(g);q && q.vg === g?this.m2(q,g,h):q === l?this.ML(g,h,0):q === n?this.ML(g,h,this.n):this.VM?this.ML(g,h,q.KM):(l=q.fx / this.n,Math.floor(4 * this.n * this.Vo * l * (1 - l)) - q.n >= h?this.m2(q,g,h):this.ML(g,h,q.KM));this.C2(!1);!this.VM && this.Oda && this.size() > this.Oda / this.Vo && this.wz();};c.prototype.jvb=function(g){var h,l;this.Ui.un=k;h=this.Ui.upperBound({fx:g});this.Ui.un=f;l=h.SI();g=l && l.fx === g?l:h.next();return [l,g];};c.prototype.Fj=function(g){var h;h=(Array.isArray(g)?g:[g]).map(this.Eqb,this);return Array.isArray(g)?h:h[0];};c.prototype.Eqb=function(g){var h,l;if(0 !== this.size()){this.C2(!0);this.Ui.min();this.Ui.max();g*=this.n;h=this.jvb(g);l=h[0];h=h[1];return h === l || null === l || null === h?(l || h).vg:this.VM?g <= l.KM?l.vg:h.vg:l.vg + (g - l.fx) * (h.vg - l.vg) / (h.fx - l.fx);}};c.prototype.wz=function(){var g;if(!this.gUa){g=this.Ap();this.reset();for(this.gUa=!0;0 < g.length;){this.qva(g.splice(Math.floor(Math.random() * g.length),1)[0]);}this.C2(!0);this.gUa=!1;}};m.prototype=Object.create(c.prototype);m.prototype.constructor=m;m.prototype.push=function(g){c.prototype.push.call(this,g);this.Uwb();};m.prototype.ML=function(g,h,l){this.H9+=1;c.prototype.ML.call(this,g,h,l);};m.prototype.m2=function(g,h,l){1 === g.n && --this.H9;c.prototype.m2.call(this,g,h,l);};m.prototype.Uwb=function(){!("auto" !== this.mode || this.size() < this.wCb) && this.H9 / this.size() > this.vCb && (this.mode="cont",this.VM=!1,this.Vo=this.config.Vo || .01,this.wz());};r.exports={TDigest:c,Digest:m};},function(r,b,a){var d,g,h,l,n,q;function c(p){var u;u=p.Uga;this.J=p;this.$j=g.Sf.HAVE_NOTHING;this.tL=p.tL;p=new n(this.tL);this.PT=p.create("throughput-location-history",u);this.Sy=p.create("respconn-location-history",u);this.Iy=p.create("respconn-location-history",u);this.B3=p.create("throughput-tdigest-history",u);this.U2=p.create("throughput-iqr-history",u);this.Db=null;}function f(p,u,t,w,v){this.tC=new c(v);this.Jt=[];this.tpb=h.time.fa() - Date.now() % 864E5;this.Fy=null;this.J=v;for(p=0;p < w;++p){this.Jt.push(new c(v));}}function k(p,u,t){return d.has(p,u)?p[u]:p[u]=t;}function m(p,u){var t;this.J=p;this.uQa=u;this.zEb();this.gT=new c(this.J);this.qT();t=p.Ola;t && (t={confidence:g.Sf.uK,Sa:{Ha:parseInt(t,10),kj:0},Ij:{Ha:0,kj:0},Cu:{Ha:0,kj:0}},this.get=function(){return t;});}d=a(10);g=a(28).default;b=a(9);h=a(6).default;l=b.bEa;n=a(365).TDa;new h.Console("ASEJS_LOCATION_HISTORY","media|asejs");q={confidence:g.Sf.HAVE_NOTHING};c.prototype.DG=function(p,u){this.$j=u;this.PT.add(p);this.B3.add(p);this.Db=h.time.fa();};c.prototype.XJ=function(p,u){this.U2.set(p,u);};c.prototype.$y=function(p){this.Sy.add(p);};c.prototype.Yy=function(p){this.Iy.add(p);};c.prototype.getState=function(){var p,u,t,w,v,x;p=this.PT.getState();u=this.Sy.getState();t=this.Iy.getState();w=this.U2.getState();v=this.B3.getState();if(d.Kb(p) && d.Kb(u) && d.Kb(t))return null;x={c:this.$j,t:h.time.bta(this.Db)};d.Kb(p) || (x.tp=p);d.Kb(u) || (x.rt=u);d.Kb(t) || (x.hrt=t);d.Kb(w) || (x.iqr=w);d.Kb(v) || (x.td=v);return x;};c.prototype.Xe=function(p){var u;u=h.time.now();if(!(p && d.has(p,"c") && d.has(p,"t") && d.has(p,"tp") && d.isFinite(p.c) && d.isFinite(p.t)) || 0 > p.c || p.c > g.Sf.uK || p.t > u || !this.PT.Xe(p.tp))return (this.$j=g.Sf.HAVE_NOTHING,this.Fy=this.Db=null,this.PT.Xe(null),this.Sy.Xe(null),this.Iy.Xe(null),!1);this.$j=p.c;this.Db=h.time.yta(p.t);this.Sy.Xe(d.has(p,"rt")?p.rt:null);this.Iy.Xe(d.has(p,"hrt")?p.hrt:null);d.has(p,"iqr") && this.U2.Xe(p.iqr);d.has(p,"td") && this.B3.Xe(p.td);return !0;};c.prototype.get=function(){var p,u,t,w,v,x;p=this.J;if(d.Kb(this.Db))return q;u=(h.time.fa() - this.Db) / 1E3;u > p.Nob?this.$j=g.Sf.HAVE_NOTHING:u > p.oob && (this.$j=Math.min(this.$j,g.Sf.WB));p=this.PT.get();t=this.Sy.get();w=this.Iy.get();v=this.U2.get();x=this.B3.get();u={pm:u,confidence:this.$j,Sa:p,Ij:t,Cu:w,Du:v,Nk:x};p && (u.gfc=l.prototype.Pua.bind(p));t && (u.wec=l.prototype.Pua.bind(t));w && (u.ucc=l.prototype.Pua.bind(w));return u;};c.prototype.time=function(){return this.Db;};f.prototype.Qe=function(){return ((h.time.fa() - this.tpb) / 1E3 / 3600 / (24 / this.Jt.length) | 0) % this.Jt.length;};f.prototype.getState=function(){var p;p={g:this.tC.getState(),h:this.Jt.map(function(u){return u.getState();})};d.Kb(this.Fy) || (p.f=h.time.bta(this.Fy));return p;};f.prototype.Xe=function(p){var u,t;if(!this.tC.Xe(p.g))return !1;u=this.Jt.length;t=!1;this.Jt.forEach(function(w,v){t=!w.Xe(p.h[v * p.h.length / u | 0]) || t;});this.Fy=d.has(p,"f")?h.time.yta(p.f):null;return t;};f.prototype.DG=function(p,u){this.tC.DG(p,u);this.Jt[this.Qe()].DG(p,u);this.Fy=null;};f.prototype.XJ=function(p,u){this.tC.XJ(p,u);this.Jt[this.Qe()].XJ(p,u);};f.prototype.$y=function(p){this.tC.$y(p);this.Jt[this.Qe()].$y(p);};f.prototype.Yy=function(p){this.tC.Yy(p);this.Jt[this.Qe()].Yy(p);};f.prototype.fail=function(p){this.Fy=p;};f.prototype.get=function(){var p,u;if(!d.Kb(this.Fy)){if((h.time.fa() - this.Fy) / 1E3 < this.J.nob)return {confidence:g.Sf.HAVE_NOTHING,iu:!0};this.Fy=null;}p=this.Jt[this.Qe()].get();u=this.tC.get();p=p.confidence >= u.confidence?p:u;p.iu=!1;return p;};f.prototype.time=function(){return this.tC.time();};m.prototype.DOa=function(p,u){var t;t=this.J;p=k(this.kT,p,{});return k(p,u,new f(t.ROa || 14400,t.QOa || 100,t.POa || 100,t.IPa || 4,t));};m.prototype.qT=function(){var p,u;p=h.storage.get("lh");u=h.storage.get("gh");p && this.gia(p);u && this.zrb(u);};m.prototype.cha=function(){var p;p={};d.sf(this.kT,function(u,t){d.sf(u,function(w,v){k(p,t,{})[v]=w.getState();},this);},this);return p;};m.prototype.zrb=function(p){this.gT.Xe(p);};m.prototype.gia=function(p){var u,t;u=null;t=this.J;d.sf(p,function(w,v){d.sf(w,function(x,y){var z;z=new f(t.ROa || 14400,t.QOa || 100,t.POa || 100,t.IPa || 4,t);z.Xe(x)?(k(this.kT,v,{})[y]=z,u=!0):d.Kb(u) && (u=!1);},this);},this);return d.Kb(u)?!0:u;};m.prototype.save=function(){var p;p=this.cha();h.storage.set("lh",p);h.storage.set("gh",this.gT.getState());this.uQa && this.uQa.fxa(this.gT.getState());};m.prototype.zEb=function(){this.kT={};this.qL=this.eOa="";this.Eo=null;};m.prototype.OP=function(p){this.eOa=p;this.Eo=null;};m.prototype.Jaa=function(p){this.qL=p;this.Eo=null;};m.prototype.P2=function(){d.Kb(this.Eo) && (this.Eo=this.DOa(this.eOa,this.qL));return this.Eo;};m.prototype.DG=function(p,u){this.P2().DG(p,u);this.gT.DG(p,u);};m.prototype.XJ=function(p,u){p && p.Sl && p.Fk && p.Tl && (this.P2().XJ(p,u),this.gT.XJ(p,u));};m.prototype.$y=function(p){this.P2().$y(p);};m.prototype.Yy=function(p){this.P2().Yy(p);};m.prototype.fail=function(p,u){this.DOa(p,this.qL).fail(u);};m.prototype.get=function(p,u){var t,w,v,x;p=(p=this.kT[p])?p[this.qL]:null;t=null;if(p && (t=p.get(),t.confidence > g.Sf.HAVE_NOTHING))return t;if(!1 === u)return q;w=t=null;v=!1;x=null;d.sf(this.kT,function(y){d.sf(y,function(z,A){var B;if(!v || A == this.qL){B=z.get();B && (!w || w <= B.confidence) && (!x || w < B.confidence || x < z.time()) && (w=B.confidence,v=A == this.qL,x=z.time(),t=B);}},this);},this);return t?t:q;};r.exports=m;},function(r,b,a){var m;function c(d){this.$L=d;this.reset();}function f(d){this.jk=new c(d);this.Re=0;this.Vc=null;}function k(d,g){this.$L=d;this.mPa=g;this.reset();}m=a(10);c.prototype.RPa=function(d,g){this.Db+=d;this.ak+=d;this.Qc+=g;this.Jo.push({d:d,b:g});};c.prototype.DT=function(){var d;for(;this.ak > this.$L;){d=this.Jo.shift();this.Qc-=d.b;this.ak-=d.d;}};c.prototype.reset=function(){this.Jo=[];this.Db=null;this.ak=this.Qc=0;};c.prototype.setInterval=function(d){this.$L=d;this.DT();};c.prototype.start=function(d){m.Kb(this.Db) && (this.Db=d);};c.prototype.add=function(d,g,h){m.Kb(this.Db) && (this.Db=g);g > this.Db && this.RPa(g - this.Db,0);this.RPa(h > this.Db?h - this.Db:0,d);this.DT();};c.prototype.get=function(){return {Ha:Math.floor(8 * this.Qc / this.ak),kj:0};};f.prototype.reset=function(){this.jk.reset();this.Re=0;this.Vc=null;};f.prototype.add=function(d,g,h){!m.Kb(this.Vc) && h > this.Vc && (g > this.Vc && (this.Re+=g - this.Vc),this.Vc=null);this.jk.add(d,g - this.Re,h - this.Re);};f.prototype.start=function(d){!m.Kb(this.Vc) && d > this.Vc && (this.Re+=d - this.Vc,this.Vc=null);this.jk.start(d - this.Re);};f.prototype.stop=function(d){this.Vc=m.Kb(this.Vc)?d:Math.min(d,this.Vc);};f.prototype.get=function(){return this.jk.get();};f.prototype.setInterval=function(d){this.jk.setInterval(d);};k.prototype.reset=function(){this.Jo=[];this.Qc=this.ak=0;};k.prototype.add=function(d,g,h,l){void 0 !== l && !0 === l && (g=h - g,this.ak+=g,this.Qc+=d,this.Jo.push({d:g,b:d}),this.DT());};k.prototype.DT=function(){var d;for(;this.ak > this.$L || this.Jo.length > this.mPa;){d=this.Jo.shift();this.Qc-=d.b;this.ak-=d.d;}};k.prototype.start=function(){};k.prototype.stop=function(){};k.prototype.get=function(){return {Ha:Math.floor(8 * this.Qc / this.ak),kj:0};};k.prototype.setInterval=function(d,g){this.$L=d;this.mPa=g;this.DT();};r.exports={E6b:c,hhb:f,Imb:k};},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u;Object.defineProperties(b,{__esModule:{value:!0}});b.yca=void 0;c=a(2);f=a(17);k=a(777);r=a(82);m=a(778);d=a(804);g=a(807);h=a(241);l=a(16);n=c.__importDefault(a(6));q=a(4);a(9);p=a(25);a(172);u=(function(){return function(t){var w;w=t.g2a;t=t.Iqa;this.xX=this.replace=w;this.He=t;};})();a=(function(t){function w(v,x){var y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,N,O,P,S,U;y=x.Qb;z=x.oa;A=x.qp;B=x.Cd;E=x.y4a;D=x.Vi;F=x.config;G=x.y0a;C=x.zP;H=x.x6;K=x.Rb;M=x.Th;I=x.UX;Q=x.fXa;x=x.vJ;L=t.call(this) || this;L.S=v;L.y7=!1;L.TOa=[];L.kPa=[];L.ii=[];L.iD=[];L.wn=!1;L.Qb=y;L.tT=z;L.qp=A;L.oc=function(Z){return 0 <= B.indexOf(Z);};L.config=F;L.console=new n.default.Console("ASEJS","media|asejs","<" + String(L.S) + ">");G && (v=G.xD,L.$f=new g.BEa(L,L.console,L.config,G.Zn,G.sW,v,G.c8,G.Jf,G.Yl,G.wh,G.HD),L.xD=v);L.Au=new f.EventEmitter();L.x6=H;L.Rb=K;L.UX=I;L.Jm=new h.Uda(L.oa,K,M,L.config,null === Q || void 0 === Q?void 0:Q.Zn);Q && (G=Q.ns,H=Q.Un,L.Wp=Q.hh,L.Un=H,L.ns=G,L.Oga=new d.CDa(L.Jm,L.config,L.wKb.bind(L),L.vKb.bind(L)));L.zP=C;L.vJ=x;L.nf=new u(E);L.Vi=D;J=[[],[]];N=[{},{}];O=[0,0];P=!1;S=L.oc(0);U=L.oc(1);["audio_tracks","video_tracks"].forEach(function(Z,ja){var ya;ya=0 === ja;ya && !S || 1 === ja && !U || L.oa[Z].forEach(function(ra,Y){if(0 !== ra.type || !1 !== ra.yi)(ra=new m.xca({R:L,Ju:ra,mediaType:ja,He:E.Iqa,TE:Y,QC:Y + (ya?L.oa.video_tracks.length:0)},L.config,L.console),J[ja].push(ra),N[ja]=c.__assign(c.__assign({},N[ja]),ra.AD()),ra.maxBitrate > O[ra.mediaType] && (O[ra.mediaType]=ra.maxBitrate),P=P || ra.Uw);});});L.dL=J;L.Vxa=N;L.zha=O;L.Uw=P;return L;}c.__extends(w,t);Object.defineProperties(w.prototype,{oa:{get:function(){return this.tT;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{wX:{get:function(){var v;return !(null === (v=this.dL[1][0]) || void 0 === v || !v.wX);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ex:{get:function(){return this.zha;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{yh:{get:function(){return this.TOa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{mQb:{get:function(){return this.kPa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{K:{get:function(){return this.oa.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Fn:{get:function(){return this.oa.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{duration:{get:function(){return this.oa.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{vk:{get:function(){return this.wn;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{uq:{get:function(){q.assert(this.Oga,"ErrorDirector is not available on old architecture prefetch viewables.");return this.Oga;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{jN:{get:function(){return this.uq.events;},enumerable:!1,configurable:!0}});w.prototype.Ib=function(){this.close();this.fd();};w.prototype.close=function(){var v;this.iD=[];null === (v=this.Oga) || void 0 === v?void 0:v.Ib();this.Jm.Ib();this.wn=!0;};w.prototype.fd=function(){this.$f && this.$f.fd();};w.prototype.Nx=function(v){var x,y,z,A,B,E,D;x=this;y=v.oa;z=v.He;A=void 0 === z?!1:z;z=v.Cd;B=void 0 === z?l.Df:z;q.assert(v.Vi === this.Vi,"Updating Viewable clearplay not supported");l.Df.forEach(function(F){q.assert(x.oc(F) === 0 <= B.indexOf(F),"Updating Viewable media types not supported");});q.assert(y.movieId === this.oa.movieId,"Changing Viewable manifest movieId unsupported");E=this.oc(0);D=this.oc(1);["audio_tracks","video_tracks"].forEach(function(F,G){var C,H,K;C=0 === G;if(!(C && !E || 1 === G && !D)){H=y[F];K=x.dL[G];q.assert(K.every(function(M){var I;I=H[M.TE];return I && I.pQ === M.trackId && (1 === I.type || !1 !== I.yi);}),"Existing tracks must still exist and be hydrated in updated manifest");H.forEach(function(M,I){var Q,L;if(0 !== M.type || !1 !== M.yi){Q=x.getTrackById(M.pQ);if(Q){M=M.streams;L=Object.keys(Q.AD());q.assert(M.length === L.length,"Expected updated manifest track to have same number of streams");M.forEach(function(J){q.assert(-1 !== L.indexOf(J.downloadable_id),"Changing Viewable track streams unsupported");});}else (Q=new m.xca({R:x,Ju:M,mediaType:G,He:A,TE:I,QC:I + (C?x.oa.video_tracks.length:0)},x.config,x.console),K.push(Q),x.Vxa[G]=c.__assign(c.__assign({},x.Vxa[G]),Q.AD()),Q.maxBitrate > x.zha[Q.mediaType] && (x.zha[Q.mediaType]=Q.maxBitrate),q.assert(x.Uw || !Q.Uw,"Can not update clear viewable with drm track."));}});}});this.tT=y;this.Jm.eM(this.oa);};w.prototype.DE=function(v){var x,y,z;x=v.Ds;y=v.ca;z=v.mD;v=v.Yn;x && y?(this.Oaa=new k.MLa(x,{ca:String(y),mD:! !z,BQb:this.config.y1.mx,qvb:this.config.y1.lv},v),this.uq.DE(this.Oaa)):v("SideChannel: pbcid/xid is missing.");};w.prototype.Ww=function(){return void 0 !== this.Fn;};w.prototype.getTracks=function(v){return this.dL[v];};w.prototype.getTrackById=function(v){var x;this.dL.some(function(y){return y.some(function(z){if(z.trackId === v)return (x=z,!0);});});x || this.console.warn("getTrackById not found:",v,"length:",this.dL.length);return x;};w.prototype.$Jb=function(v,x){var y;y=this.dL[v];if(0 > x || x >= y.length)this.console.warn("getTrackByIndex out of range:",x,"length:",y.length,"mediaType:",v);else return y[x];};w.prototype.Tw=function(v,x){return (v=this.AD(v)) && v[x];};w.prototype.AD=function(v){return this.Vxa[v];};w.prototype.C3b=function(v,x){this.TOa[v]=x;x.stream.Y && this.Scb(v,x.stream.Y);};w.prototype.MNb=function(v){var x,y;if(void 0 === v.Q$ || void 0 === v.$ua){x=this.Jm.QA.filter(function(z){return void 0 !== z.streams[v.Ta];})[0];y=x.children.filter(function(z){return z.urls.some(function(A){return A.stream.id === v.Ta;});})[0];v.Q$=x.id;v.$ua=y.id;}return {gra:v.location === v.Q$,NNb:v.Pc === v.$ua};};w.prototype.kxa=function(v,x,y){void 0 !== x && void 0 !== y && (this.g9a(v.mediaType,x),v.kxa(x,y));};w.prototype.g9a=function(v,x){var y,z;z=this.config.kta;("location" === z || "video_location" === z && 1 === v) && this.Rb.OP(x);null === (y=this.x6) || void 0 === y?void 0:y.call(this).jTb(v,x);};w.prototype.hh=function(v,x,y,z,A,B){q.assert(this.Wp,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.Wp(v,x,y,z,A,B);};w.prototype.cn=function(){var v,x,y;v=this;x=[];if(this.vk)return (this.console.error("updateRequestUrls, closed Viewable:",this.S),!1);l.Df.forEach(function(z){v.oc(z) && v.U3b(z) && (z=v.J3b(z),0 < z.length && x.push.apply(x,z));});y=this.D3b();0 < y.length && x.push.apply(x,y);return this.DYb(x);};w.prototype.Em=function(v,x){var y;y=this.getTracks(1)[0];q.assert(y);if(y.ZN)return y.Em(v,x);};w.prototype.U3b=function(v){var x;x=this;return this.vk?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.oc(v)?this.ii.reduce(function(y,z){return p.Y3(y,z.gg.filter(function(A){return A.mediaType === v;}));},[]).map(function(y){return x.Jm.y_(x.S,y.ae);}).every(function(y){return y;}):(this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",v),!1);};w.prototype.D3b=function(){q.assert(this.$f,"Headers not available on old architecture prefetch viewables.");return this.$f.cn();};w.prototype.J3b=function(v){var x,y,B;y=[];if(this.vk)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),y);if(!this.oc(v))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",v),y);try{for(var z=c.__values(this.ii),A=z.next();!A.done;A=z.next()){B=A.value.cn(v);B.length && y.push.apply(y,B);}}catch(D){var E;E={error:D};}finally{try{A && !A.done && (x=z.return) && x.call(z);}finally{if(E)throw E.error;}}return y;};w.prototype.DYb=function(v){var x,y,z;x=this;if(0 === v.length)return !0;y=0;z=[];v.forEach(function(A){var B;if(A.dd){B=A.R;B.Qb > x.Qb && (z.push({R:B,track:A.stream.track}),++y);}});z.forEach(function(A){var B;B=A.track;A.R.yP([0 === B.mediaType?B:void 0,1 === B.mediaType?B:void 0],void 0,B.mediaType);});return y === v.length;};w.prototype.Dk=function(){var v;v=this;this.Jm.Dk();this.uq.Dk();this.Oaa && (q.assert(this.xD),l.Df.forEach(function(x){x=v.xD(x);v.Oaa.Rwa("rebuffer",x.Cra);}));};w.prototype.Nta=function(){this.uq.Nta();};w.prototype.aza=function(v,x){q.assert(this.$f,"Headers not available on old architecture prefetch viewables.");this.$f.aza(v,x);};w.prototype.s7=function(){q.assert(this.$f,"Headers not available on old architecture prefetch viewables..");return this.$f.s7();};w.prototype.Nka=function(){q.assert(this.$f,"Headers not available on old architecture prefetch viewables.");this.$f.Nka();};w.prototype.NP=function(v){q.assert(this.$f,"Headers not available on old architecture prefetch viewables.");this.$f.NP(v);};w.prototype.Hya=function(){q.assert(this.$f,"Headers not available on old architecture prefetch viewables.");return this.$f.Hya();};w.prototype.kl=function(v,x){q.assert(this.$f,"Headers not available on old architecture prefetch viewables.");return this.$f.kl(v,x);};w.prototype.MUa=function(v,x,y){q.assert(this.$f,"Headers not available on old architecture prefetch viewables.");this.$f.xba(v,x,y,!0);};w.prototype.L3=function(v,x,y){q.assert(this.$f,"Headers not available on old architecture prefetch viewables.");return this.$f.L3(v,x,! !y);};w.prototype.c_b=function(v,x){this.iD.push({stream:v,QJb:x});};w.prototype.MXb=function(){this.iD=[];};w.prototype.SXb=function(v){this.iD=this.iD.filter(function(x){return x.stream !== v;});};w.prototype.RXb=function(v){this.iD=this.iD.filter(function(x){return x !== v;});};w.prototype.LN=function(){var v;v=this;q.assert(this.Un,"Streamables not available on old architecture prefetch viewables.");return this.Un()?[]:this.iD.map(function(x){var y,z;y=x.stream;z=x.QJb;z=z();return {identifier:y.S + "-" + y.mediaType + "-" + y.bitrate,mediaType:y.mediaType,fh:z.fh,Gf:z.Gf,WA:z.WA,Ys:z.Ys,$r:z.$r,Xua:0,Wua:Infinity,DY:1,nB:1,WXa:0,groupId:"" + v.S,UD:!0,us:!1,r2a:function(){return {result:!0};},v2a:function(){if(y.UE())return (v.SXb(y),{Hm:!0,reason:"success"});v.RXb(x);return {Hm:!1,reason:"viewableTryIssueHeaderRequest"};}};});};w.prototype.UE=function(v,x){q.assert(this.$f,"Headers not available on old architecture prefetch viewables.");return this.$f.UE(v,x);};w.prototype.cM=function(v,x){q.assert(this.$f,"Headers not available on old architecture prefetch viewables.");return this.$f.cM(v,x);};w.prototype.swa=function(v){q.assert(this.$f,"Headers not available on old architecture prefetch viewables.");return this.$f.swa(v);};w.prototype.yP=function(v,x,y){q.assert(this.$f,"Headers not available on old architecture prefetch viewables.");return this.$f.yP(v,x,y);};w.prototype.yKb=function(v){var x,y,z;x=v.Ta;y=v.mediaType;this.Scb(y,v.stream.Y);x=this.Tw(y,x);z=this.Ww()?this.config.h4a:0;x.Lcb(n.default.Zo()[y],z);this.Au.emit("onHeaderFragments",v);};w.prototype.Ova=function(v){this.ii.push(v);};w.prototype.Qya=function(v){v=this.ii.indexOf(v);q.assert(-1 !== v,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.ii.splice(v,1);};w.prototype.k$=function(v){var x;null === (x=this.zP) || void 0 === x?void 0:x.Zy(v);};w.prototype.UA=function(v){this.vk?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",v):void 0 !== v.location && this.g9a(v.mediaType,v.location);};w.prototype.EI=function(v){this.vk?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",v):this.uq.Aba({timestamp:v.xf,url:v.url});};w.prototype.Ek=function(v){var x;null === (x=this.zP) || void 0 === x?void 0:x.XI(v);q.assert(this.Un && this.UX,"Requests cannot be handled on old architecture prefetch viewables.");this.vk?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",v):this.Un() || (this.uq.Aba({timestamp:v.xf,mediaRequest:v}),this.UX(v));};w.prototype.eY=function(v,x,y){var z;y && (null === (z=this.zP) || void 0 === z?void 0:z.XI(v));};w.prototype.fY=function(v){this.vk?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",v):(this.uq.Ls({url:v.url},v.status,v.vh,v.Cj),this.cn() || this.hh(v.mN || "unknown","NFErr_MC_StreamingFailure",v.vh,v.status,v.Cj));};w.prototype.Scb=function(v,x){this.kPa[v]=x.usa;};w.prototype.wKb=function(v){var x,y,z;if(!this.wn){x=v.uNb;y=v.TTb;z=v.UTb;v=v.VTb;this.console.warn("Streaming failure, is permanent: " + x + ", last error code: " + y + ", last http code: " + z + ", last native code: " + v);x?(this.console.warn(" > Permanent failure, done"),x=this.hh("Permanent failure","NFErr_MC_StreamingFailure",y,z,v)):(this.console.warn(" > We are buffering, calling it!"),x=this.hh("Temporary failure while buffering","NFErr_MC_StreamingFailure",v,z,v,!0));x || (this.console.warn(" > Resetting failures"),this.uq.iaa());}};w.prototype.vKb=function(){q.assert(this.ns,"Error handling not available on old architecture prefetch viewables.");this.wn || (this.cn(),this.ns());};return w;})(r.Av);b.yca=a;},function(r,b,a){var G,C,H,K,M,I,Q,L,J,N,O,P,S,U,Z,ja,ya,ra,Y,pa,T,R,ea,sa,la,Ka,Ua,$a,Za,cb,Va,Qa;function c(xa,Ea,Na,Xa,hb){K.call(this,xa,Ea,Na,Xa,hb);}function f(xa,Ea,Na,Xa,hb){K.call(this,xa,Ea,Na,Xa,hb);}function k(xa,Ea,Na,Xa,hb){K.call(this,xa,Ea,Na,Xa,hb);}function m(xa,Ea,Na,Xa,hb){K.call(this,xa,Ea,Na,Xa,hb);this.tJ=xa.config.tJ;this.vd=this.sizes=void 0;}function d(xa,Ea,Na,Xa,hb){K.call(this,xa,Ea,Na,Xa,hb);}function g(){for(var xa=new DataView(this),Ea="",Na,Xa=0;Xa < this.byteLength;Xa++){Na=xa.getUint8(Xa);Ea+=("00" + Na.toString(16)).slice(-2);}return Ea;}function h(xa,Ea,Na,Xa,hb){K.call(this,xa,Ea,Na,Xa,hb);}function l(xa,Ea,Na,Xa,hb){K.call(this,xa,Ea,Na,Xa,hb);}function n(xa,Ea,Na,Xa,hb){K.call(this,xa,Ea,Na,Xa,hb);}function q(xa,Ea,Na,Xa,hb){K.call(this,xa,Ea,Na,Xa,hb);}function p(xa,Ea,Na,Xa,hb){K.call(this,xa,Ea,Na,Xa,hb);}function u(xa){function Ea(Na,Xa,hb,wb,Eb){K.call(this,Na,Xa,hb,wb,Eb);this.PX=xa;}Ea.Ra=!1;Ea.prototype=new K();Ea.prototype.constructor=Ea;Object.defineProperties(Ea.prototype,{hR:{get:function(){return this.PX;}}});Ea.prototype.parse=function(){this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.PX + "'");this.u.offset=this.startOffset + 4;this.na.Q_(this.hR);this.type=this.hR;return !0;};return Ea;}function t(xa,Ea,Na,Xa,hb){K.call(this,xa,Ea,Na,Xa,hb);}function w(xa,Ea,Na,Xa,hb){K.call(this,xa,Ea,Na,Xa,hb);}function v(xa,Ea,Na,Xa,hb){K.call(this,xa,Ea,Na,Xa,hb);}function x(xa,Ea,Na,Xa,hb){K.call(this,xa,Ea,Na,Xa,hb);}function y(xa,Ea,Na,Xa,hb){K.call(this,xa,Ea,Na,Xa,hb);}function z(xa,Ea,Na,Xa,hb){K.call(this,xa,Ea,Na,Xa,hb);}function A(xa,Ea,Na,Xa,hb){K.call(this,xa,Ea,Na,Xa,hb);}function B(xa,Ea,Na,Xa,hb){K.call(this,xa,Ea,Na,Xa,hb);}function E(xa,Ea,Na,Xa,hb){K.call(this,xa,Ea,Na,Xa,hb);}function D(xa,Ea,Na,Xa,hb){K.call(this,xa,Ea,Na,Xa,hb);}function F(xa,Ea){xa.forEach(function(Na){Ea[Na.Yb]=Na;});}G=a(146).assert;b=a(100);C=a(229).O;H=a(374);a(147);a(83);a(83);a(83);K=a(32).Fc;M=a(780).default;I=a(781).default;Q=a(782).default;L=a(783).default;J=a(784).default;N=a(785).default;O=a(786).default;P=a(787).default;S=a(788).default;a(230);a(176);U=a(375).bca;Z=a(375).kda;ja=a(789).default;ya=a(790).default;ra=a(84).default;Y=a(84).lca;pa=a(84).mca;T=a(84).nca;R=a(84).oca;ea=a(791).default;sa=a(792).default;la=a(84).Cda;Ka=a(84).wda;Ua=a(84).Feb;$a=a(793).default;Za=a(794).default;cb=a(795).default;Va=a(376).default;Qa=a(377).default;a(148);a(233);a(234);a(232);a=a(796).default;c.Ra=!0;c.prototype=new K();c.prototype.constructor=c;f.Ra=!0;f.prototype=new K();f.prototype.constructor=f;k.Ra=!1;k.prototype=new K();k.prototype.constructor=k;k.prototype.parse=function(){var xa;this.zc();1 === this.version?(this.u.Wd(),this.u.Wd(),this.W=this.u.Ca(),this.duration=this.u.Wd()):(this.u.Ca(),this.u.Ca(),this.W=this.u.Ca(),this.duration=this.u.Ca());xa=this.u.$c() & 32767;this.language=String.fromCharCode(96 + (xa >>> 10),96 + (xa >>> 5 & 31),96 + (xa & 31));return !0;};m.Ra=!1;m.prototype=new K();m.prototype.constructor=m;m.prototype.Oha=function(){this.zc();this.u.Ca();this.W=this.u.Ca();0 === this.version?(this.wV=this.u.Ca(),this.PV=this.u.Ca()):(this.wV=this.u.Wd(),this.PV=this.u.Wd());this.v9a=this.u.$c();this.UY=this.u.$c();};m.prototype.Cga=function(xa,Ea){var Na,Xa,hb;Na=this.W;xa=xa && xa.W || Na;Xa=xa / Na;Na=this.u.dB(Ea,12,!1);hb=1 === Xa?this.u.dB(Ea,12,!1):H.from(Uint32Array,{length:Ea},function(){var wb;wb=Math.round(this.u.Ca() * Xa);this.u.offset+=8;return wb;},this);this.ria(Ea,hb,Na,xa);};m.prototype.ria=function(xa,Ea,Na,Xa){if(this.tJ){Xa=this.tJ * Xa / 1E3;for(var hb=0,wb=1;wb < xa;wb++){Math.abs(Ea[hb] - Xa) > Math.abs(Ea[hb] + Ea[wb] - Xa)?(Ea[hb]+=Ea[wb],Na[hb]+=Na[wb]):(++hb,hb !== wb && (Ea[hb]=Ea[wb],Na[hb]=Na[wb]));}++hb;Ea=new Uint32Array(Ea.buffer.slice(0,4 * hb));Na=new Uint32Array(Na.buffer.slice(0,4 * hb));}this.sizes=Na;this.vd=Ea;};m.prototype.parse=function(xa){var Ea,Na,Xa,hb;this.Oha();this.va=xa.va;Ea=this.W;Na=this.va && this.va.W || Ea;Xa=this.UY;hb=this.startOffset + this.length + this.PV;Ea=new C(this.wV,Ea).eg(Na).pc;this.Y={W:Na,ul:Ea,offset:hb};this.Cga(this.va,Xa);this.Y.vd=this.vd;this.Y.sizes=this.sizes;xa.Vs=this;return !0;};d.Ra=!1;d.prototype=new K();d.prototype.constructor=d;d.prototype.parse=function(){var xa;this.Gi=[];this.yua=[];xa=(this.length - 11) / 2;this.u.sb();this.u.sb();this.u.sb();for(var Ea=0;Ea < xa;Ea++){this.Gi.push(this.u.sb());this.yua.push(this.u.sb());}return !0;};h.Ra=!1;h.prototype=new K();h.prototype.constructor=h;h.prototype.parse=function(){this.zc();this.u.offset+=4;this.aI=this.u.offset;this.wj=this.u.Ava(16);this.wj.toString=g;return !0;};l.Ra=!1;l.prototype=new K();l.prototype.constructor=l;l.prototype.parse=function(){this.zc();this.sg=this.u.$c();this.Csa=this.u.dB(this.sg,void 0,!0);return !0;};n.Ra=!1;n.prototype=new K();n.prototype.constructor=n;n.prototype.parse=function(xa){var Ea,Na,Xa,hb,wb,Eb;Ea=xa.Vs;G(Ea);xa=xa.va;Na=Ea.W;Ea=Ea.UY;G(xa);G(Na);G(Ea);this.zc();G(2 > this.version);this.sg=this.u.$c();this.Yu=new Uint16Array(Ea + 1);Xa=xa.i7(Na);hb=Xa / Na;wb=xa.eg(Xa).pc;if(0 === this.version)for((this.nv=new Uint16Array(),this.Vd=new Uint32Array(),xa=Na=0);xa <= Ea;++xa){if((this.Yu[xa]=Na,xa < this.sg)){Eb=this.u.sb();if(0 !== Eb)for(Xa=0;Xa < Eb;(++Xa,++Na)){this.nv[Na]=Math.floor((this.u.Ca() + 1) * hb) / wb;this.Vd[Na]=this.u.Ca();}}}else if(1 === this.version)for((Xa=this.u.wva(this.sg,10,!1),this.u.offset+=4,this.Vd=this.u.dB(this.sg,10,!1),this.u.offset-=8,this.nv=H.from(Uint16Array,{length:this.sg},function(){var Fb;Fb=Math.floor((this.u.Ca() + 1) * hb) / wb;this.u.offset+=6;return Fb;},this),Na=xa=0);xa <= Ea;++xa){for(;Na < Xa.length && Xa[Na] < xa;){++Na;}this.Yu[xa]=Na;}this.mi={Yu:this.Yu,nv:this.nv,Vd:this.Vd};return !0;};q.Ra=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;p.Ra=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;p.prototype.ju=function(){var xa;xa=this.ai("tfhd");xa && (this.kk=xa.vU?xa.kk:this.parent.startOffset);return !0;};t.Ra=!1;t.prototype=new K();t.prototype.constructor=t;t.prototype.parse=function(){var xa,Cb;xa=this.u.offset;this.zc();if(1 === this.version){this.u.console.trace("translating vpcC box to draft equivalent");this.u.offset+=2;for(var Ea=this.u.offset,Na=this.u.sb(),Xa=this.u.sb(),hb=this.u.sb(),wb=this.u.sb(),Eb=this.u.$c(),Fb=[],Nb=0;Nb < Eb;++Nb){Fb=this.u.sb();}Nb=(Na & 240) >>> 4;Cb=(Na & 14) >>> 1;Na&=1;hb=16 === hb?1:0;Xa != wb && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Xa + " and matrixCoefficients " + wb + " should be the same value!");wb=2;switch(Xa){case 1:wb=2;break;case 6:wb=1;break;case 9:wb=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries " + Xa + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.na.KB(this.version,xa);this.na.KB(Nb << 4 | wb,Ea++);this.na.KB(Cb << 4 | hb << 1 | Na,Ea++);Eb+=2;Fb.push(0,0);this.na.Eza(Eb,!1);Ea+=2;Fb.forEach(function(Kb){this.na.KB(Kb,Ea++);});}return !0;};w.Ra=!1;w.prototype=new K();w.prototype.constructor=w;w.Yb="tfhd";Object.defineProperties(w.prototype,{vU:{get:function(){return this.flags & 1;}},zwa:{get:function(){return this.flags & 2;}},Xla:{get:function(){return this.flags & 8;}},$la:{get:function(){return this.flags & 16;}},Yla:{get:function(){return this.flags & 32;}}});w.prototype.parse=function(){this.zc();this.RJ=this.u.Ca();this.kk=this.vU?this.u.Wd():void 0;this.zwa && this.u.Ca();this.Ez=this.Xla?this.u.Ca():void 0;this.Gz=this.$la?this.u.Ca():void 0;this.Fz=this.Yla?this.u.Ca():void 0;return !0;};v.Ra=!1;v.prototype=new K();v.prototype.constructor=v;v.prototype.parse=function(){this.zc();this.hz=1 === this.version?this.u.Wd():this.u.Ca();return !0;};v.prototype.ya=function(xa){var Ea;Ea=this.startOffset + 12;this.hz+=xa;1 === this.version?this.na.Fza(this.hz,Ea):this.na.kh(this.hz,Ea);};x.Ra=!1;x.prototype=new K();x.prototype.constructor=x;Object.defineProperties(x.prototype,{aV:{get:function(){return this.flags & 1;}},tH:{get:function(){return this.flags & 4;}},lB:{get:function(){return this.flags & 256;}},mB:{get:function(){return this.flags & 512;}},oZ:{get:function(){return this.flags & 1024;}},iJ:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(){this.zc();this.zU=this.u.offset;this.Ob=this.u.Ca();this.pk=this.aV?this.u.WI():0;this.tH && this.u.Ca();this.mv=(this.lB?4:0) + (this.mB?4:0) + (this.oZ?4:0) + (this.iJ?4:0);this.Vz=this.u.offset;G(this.aV,"Expected data offset to be present in Track Run");G(this.length - (this.u.offset - this.startOffset) === this.Ob * this.mv,"Expected remaining data in box to be sample information");return !0;};x.prototype.It=function(xa,Ea,Na){var Xa,hb,wb;Xa=this.lB?this.u.Ca():xa.Ez;hb=this.mB?this.u.Ca():xa.Gz;xa=this.oZ?this.u.Ca():xa.Fz;wb=0 === this.version?this.iJ?this.u.Ca():0:this.iJ?this.u.WI():0;return {ywa:wb,dZb:xa,fWb:Na + wb - (void 0 !== Ea?Ea:wb),Ik:hb,ov:Xa};};x.prototype.ya=function(xa,Ea,Na,Xa,hb,wb,Eb){var Fb,Nb,Cb,Kb;Fb=0;Nb=0;this.na.offset=this.Vz;for(Xa=0;Xa < hb;++Xa){Cb=this.It(Ea,Kb,Nb);if(0 == Xa)Kb=Cb.ywa;Fb+=Cb.Ik;Nb+=Cb.ov;}Xa=hb;hb=this.u.offset;Cb=this.It(Ea,Kb,Nb);this.hr=Xa;this.Fxa=Nb;if(Eb){if((this.Zq=this.pk + Fb,this.ij=0,Xa === this.Ob))return !0;}else if((this.Zq=this.pk,this.ij=Fb,0 === Xa))return !0;if(0 === Xa || Xa === this.Ob)return !1;this.Nz=!0;if(Eb){this.ij+=Cb.Ik;for(Eb=Xa + 1;Eb < this.Ob;++Eb){Cb=this.It(Ea,Kb,Nb);this.ij+=Cb.Ik;}this.na.offset=this.zU;this.Ob=Xa;this.na.kh(this.Ob);this.na.$J(wb);this.tH && (this.u.offset+=4);this.Je(this.length - (hb - this.startOffset),hb);}else (Ea=hb - this.Vz,this.na.offset=this.zU,this.Ob-=Xa,this.na.kh(this.Ob),this.pk+=Fb,this.na.$J(wb,this.pk),this.tH && (this.u.offset+=4),this.Je(Ea,this.na.offset));Na.Je(this.ij,xa.kk + this.Zq);return !0;};x.prototype.cwa=function(xa,Ea,Na,Xa,hb,wb){var Fb;if(Xa){Xa=this.Zq;for(var Eb=this.Ob - 1;0 <= Eb && this.Ob - Eb <= hb;--Eb){this.na.offset=this.Vz + Eb * this.mv;Fb=this.It(Ea);if(Fb.ov != wb.duration){this.u.console.warn("Could not replace sample of duration " + Fb.ov + " with silence of duration " + wb.duration);break;}if(this.mB)(this.na.offset-=this.mv - (this.lB?4:0),this.na.kh(wb.Mk.byteLength));else if(wb.Mk.byteLength !== Fb.Ik){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Xa-=Fb.Ik;Na.kv(Fb.Ik,wb.Mk,xa.kk + Xa);}}else for((Xa=this.Zq + this.ij,Eb=0);Eb < this.Ob && Eb < hb;++Eb){this.na.offset=this.Vz + (Eb + this.hr) * this.mv;Fb=this.It(Ea);if(Fb.ov != wb.duration){this.u.console.warn("Could not replace sample of duration " + Fb.ov + " with silence of duration " + wb.duration);break;}if(this.mB)(this.na.offset-=this.mv - (this.lB?4:0),this.na.kh(wb.Mk.byteLength));else if(wb.Mk.byteLength !== Fb.Ik){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Na.kv(Fb.Ik,wb.Mk,xa.kk + Xa);Xa+=Fb.Ik;}};y.Ra=!1;y.prototype=Object.create(K.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{En:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(){this.zc();this.En && this.u.Vl();this.En && this.u.Ca();this.Zla=this.u.sb();this.Ob=this.u.Ca();this.u.eB(this.Ob);return !0;};y.prototype.ya=function(xa,Ea){if(xa && 0 === this.Zla){xa=Ea?this.Ob - xa:xa;this.na.offset=this.startOffset + 13 + (this.En?8:0);this.Ob-=xa;this.na.kh(this.Ob);this.gJ=0;if(Ea)this.na.offset+=this.Ob;else {for(Ea=0;Ea < xa;++Ea){this.gJ+=this.na.sb();}this.na.offset-=xa;}this.Je(xa,this.u.offset);}return !0;};z.Ra=!1;z.prototype=Object.create(K.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{En:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(){this.zc();this.En && this.u.Vl();this.En && this.u.Ca();this.sg=this.u.Ca();G(1 === this.sg,"Expected a single entry in Sample Auxiliary Information Offsets box");this.pk=0 === this.version?this.u.WI():this.u.Dva();return !0;};z.prototype.ya=function(xa,Ea){this.pk+=xa;this.na.offset=this.startOffset + 16 + (this.En?8:0) + (0 === this.version?0:4);this.na.$J(Ea,this.pk);return !0;};A.Ra=!1;A.prototype=Object.create(K.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{iY:{get:function(){return this.flags & 1;}},nza:{get:function(){return this.flags & 2;}}});A.prototype.parse=function(){this.zc();this.iY && (this.u.Ca(),this.u.eB(16));this.Ob=this.u.Ca();return !0;};A.prototype.ya=function(xa,Ea){var Na,Xa;Na=Ea?this.Ob - xa:xa;this.na.offset=this.startOffset + 28 + (this.iY?20:0);this.Ob-=Na;this.na.kh(this.Ob);xa=this.na.offset;if(this.nza)for(Na=Ea?this.Ob:Na;0 < Na;--Na){this.na.offset+=8;Xa=this.na.$c();this.na.offset+=6 * Xa;}else this.na.offset+=8 * (Ea?this.Ob:Na);Ea?this.Je(this.length - (this.u.offset - this.startOffset),this.u.offset):this.Je(this.u.offset - xa,xa);};B.Ra=!1;B.prototype=Object.create(K.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.zc();return !0;};B.prototype.ya=function(xa,Ea,Na){Na?this.Je(Ea - xa,this.startOffset + 12 + xa):this.Je(xa,this.startOffset + 12);return !0;};E.Ra=!1;E.prototype=Object.create(K.prototype);E.prototype.constructor=E;E.prototype.parse=function(){this.zc();this.u.Vl();1 === this.version && this.u.Ca();this.sg=this.u.Ca();this.pv=[];for(var xa=0;xa < this.sg;++xa){for(var Ea=this.u.Ca(),Na=this.u.Ca(),Xa=0;Xa < Ea;++Xa){this.pv.push(Na);}}return !0;};E.prototype.ya=function(xa,Ea){this.pv=Ea?this.pv.slice(0,xa):this.pv.slice(xa);xa=this.pv.reduce(function(Na,Xa){0 !== Na.length && Na[Na.length - 1].group === Xa || Na.push({group:Xa,count:0});++Na[Na.length - 1].count;return Na;},[]);this.na.offset=this.startOffset + 16 + (1 === this.version?4:0);this.na.kh(xa.length);xa.forEach((function(Na){this.na.kh(Na.count);this.na.kh(Na.group);}).bind(this));this.sg > xa.length && this.Je(8 * (this.sg - xa.length));this.sg=xa.length;return !0;};D.Ra=!1;D.prototype=Object.create(K.prototype);D.prototype.constructor=D;ra={Xa:{moov:f,trak:c,mdia:c,mdhd:k,minf:c,encv:ra,schi:c,sidx:m,sinf:c,stbl:c,tenc:h,mvex:c,moof:q,traf:p,tfhd:w,trun:x,sbgp:E,sdtp:B,saiz:y,saio:z,tfdt:v,mdat:D,vmaf:d},Bya:{vpcC:t,SmDm:u("smdm"),CoLL:u("coll")},r_:{schm:ea},hJ:{}};F([sa,N,O,P,la,Ka,Ua,M,L,Va,Qa,J,S,I,Q,a],ra.Xa);F([U,ja,Y,pa,T,R,Z,ya,Za,$a],ra.hJ);F([sa,ea],ra.r_);ra.Xa[b.kS]=h;ra.Xa[b.ny]=l;ra.Xa[b.my]=n;ra.Xa[b.jS]=A;ra.hJ[b.BF]=cb;ra.Fc=K;r.exports={Oq:ra};},function(r,b){function a(c,f){var k,m,d,g,h;if("number" !== typeof c || "number" !== typeof f)c=!1;else if(c && f){k=Math;m=k.abs;g=Math.abs(c);for(d=Math.abs(f);d;){h=d;d=g % d;g=h;}c=m.call(k,c * f / g);}else c=0;return c;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function c(f,k){"object" === typeof f?(this.mc=f.pc,this.ob=f.W):(this.mc=f,this.ob=k);}c.Na=function(f){return new c(f,1E3);};c.k_=function(f,k){return Math.floor(1E3 * f / k);};c.dta=function(f,k){return Math.floor(f * k / 1E3);};c.max=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(m,d){return m.greaterThan(d)?m:d;});};c.min=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(m,d){return m.lessThan(d)?m:d;});};Object.defineProperties(c.prototype,{pc:{get:function(){return this.mc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{W:{get:function(){return this.ob;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return 1E3 * this.mc / this.ob;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Bh:{get:function(){return this.mc / this.ob;},enumerable:!0,configurable:!0}});c.prototype.eg=function(f){f/=this.W;return new c(Math.floor(this.pc * f),Math.floor(this.W * f));};c.prototype.add=function(f){var k;if(this.W === f.W)return new c(this.pc + f.pc,this.W);k=a(this.W,f.W);return this.eg(k).add(f.eg(k));};c.prototype.Ka=function(f){return this.add(new c(-f.pc,f.W));};c.prototype.vI=function(f){return new c(this.pc * f,this.W);};c.prototype.Ml=function(f){var k;if(this.W === f.W)return this.pc / f.pc;k=a(this.W,f.W);return this.eg(k).Ml(f.eg(k));};c.prototype.i7=function(f){return a(this.W,f);};c.prototype.Jva=function(){return new c(this.W,this.pc);};c.prototype.compare=function(f,k){var m;if(this.W === k.W)return f(this.pc,k.pc);m=a(this.W,k.W);return f(this.eg(m).pc,k.eg(m).pc);};c.prototype.equal=function(f){return this.compare(function(k,m){return k === m;},f);};c.prototype.V9=function(f){return this.compare(function(k,m){return k !== m;},f);};c.prototype.lessThan=function(f){return this.compare(function(k,m){return k < m;},f);};c.prototype.greaterThan=function(f){return this.compare(function(k,m){return k > m;},f);};c.prototype.mO=function(f){return this.compare(function(k,m){return k <= m;},f);};c.prototype.ms=function(f){return this.compare(function(k,m){return k >= m;},f);};c.prototype.toJSON=function(){return {ticks:this.pc,timescale:this.W};};c.prototype.toString=function(){return this.pc + "/" + this.W;};c.eb=new c(0,1);c.ox=new c(1,1E3);return c;})();b.O=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.u.offset+=6;this.u.$c();return !0;};return k;})(a(32).Fc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(2);r.__exportStar(a(148),b);r.__exportStar(a(232),b);r.__exportStar(a(233),b);r.__exportStar(a(234),b);r=a(233);c=a(234);a=a(232);b.pq={3:a.qR,4:r.kR,5:c.fda};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var m;this.u.$c();m=this.u.sb();this.Uxa=! !(m & 128);this.Tfa=! !(m & 64);this.xea=! !(m & 32);this.Uxa && this.u.$c();this.Tfa && this.u.eB(this.u.sb());this.xea && this.u.$c();this.FT();return !0;};k.tag=3;return k;})(a(148).gF);b.qR=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.Fta=this.u.sb();this.u.sb();this.u.$c();this.u.sb();this.maxBitrate=this.u.Ca();this.Fja=this.u.Ca();this.FT();return !0;};k.tag=4;return k;})(a(148).gF);b.kR=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(148);f=a(231);a=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.QY=function(){15 !== this.u.yc(4) || this.u.yc(24);};m.prototype.parse=function(d){if(this.Dqa(d) && 64 === d.Fta)switch((this.Cn=this.OY(),this.QY(),this.u.yc(4),this.Yma=5 === this.Cn || 29 === this.Cn?5:-1,0 < this.Yma && (this.QY(),this.Cn=this.OY(),22 === this.Cn && this.u.yc(4)),this.Cn)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.WV=this.u.yc(1),(this.ema=this.u.yc(1)) && this.u.yc(14),this.u.yc(1),this.Wz=3 === this.Cn?256:23 === this.Cn?this.WV?480:512:this.WV?960:1024);}this.skip();return !0;};m.prototype.OY=function(){var d;d=this.u.yc(5);31 === d && (d=32 + this.u.yc(6));return d;};m.prototype.Dqa=function(d){return d.tag === f.kR.tag;};m.tag=5;return m;})(r.gF);b.fda=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var f;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(k,m){return k + m.byteLength;},0);f=new Uint8Array(c);a.reduce(function(k,m){f.set(new Uint8Array(m),k);return k + m.byteLength;},0);return f.buffer;};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(379);f=a(228);k=a(380);r=(function(){function m(d,g,h){this.console=d;this.stream=g;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}m.prototype.parse=function(d){var g;g=new k.lR(this.view.byteLength);this.wc=new c.dF(f.Oq.Xa,g,this.view,this.console,{II:!0});d=this.wc.parse(d);this.Xa=this.wc.Xa;return d;};return m;})();b.Cr=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.SB=void 0;r=a(43);a=a(102);c=(function(){function f(k,m){this.AC=k;this.oL=m.Za;this.$v=m.tb;}Object.defineProperties(f.prototype,{Za:{get:function(){return void 0 !== this.oL?this.oL:this.AC.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{tb:{get:function(){return void 0 !== this.$v?this.$v:this.AC.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{W:{get:function(){return this.AC.W;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Hj:{get:function(){return this.AC.Hj;},enumerable:!1,configurable:!0}});f.prototype.AZ=function(k){this.$v=k;};f.prototype.Mka=function(){this.$v=void 0;};return f;})();b.SB=c;r.Bf(a.Sx,c);r.Bf(a.RB,c);},function(r,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.MFa=b.wfa=void 0;a=(function(){function f(){var k;k=this;this.IT=[];this.YXb=function(m){m=k.IT.indexOf(m);0 <= m && k.IT.splice(m,1);};}Object.defineProperties(f.prototype,{cz:{get:function(){return 0 !== this.IT.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Y5a:{get:function(){return this.IT.length;},enumerable:!1,configurable:!0}});f.prototype.add=function(){var k;k=new c(this.YXb);this.IT.push(k);return k;};f.prototype.Cza=function(k){var m;m=this.add();try{return Promise.resolve(k()).then(function(d){m.release();return d;},function(d){m.release();return Promise.reject(d);});}catch(d){return (m.release(),Promise.reject(d));}};return f;})();b.wfa=a;c=(function(){function f(k){this.Zqb=k;}f.prototype.release=function(){this.Zqb(this);};return f;})();r=(function(){function f(k,m){this.xTb=k;this.console=m;this.counter=new a();}f.prototype.Xy=function(){var k,m;k=this;this.console.trace("Acquiring lease, total count",this.counter.Y5a + 1);m=this.counter.add();return {release:function(){m.release();k.console.trace("Releasing lease, total count",k.counter.Y5a);k.xTb(function(){return !k.counter.cz;});}};};return f;})();b.MFa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.SQ=void 0;c=a(2);r=c.__importDefault(a(126));f=a(119);k=a(177);a=(function(m){function d(g,h,l,n,q,p,u){h=m.call(this,g,h,l,n,q,p,u) || this;k.Bv.Fb(h,g,n);return h;}c.__extends(d,m);return d;})(f.h0);b.SQ=a;r.default(k.Bv.prototype,a.prototype);},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.eK=void 0;c=a(2);f=c.__importDefault(a(28));k=c.__importDefault(a(6));r=(function(m){function d(g,h,l,n,q){var p;p=m.call(this,l) || this;p.Q3=!1;d.Fb(p,g,h,l,n,q);return p;}c.__extends(d,m);d.Fb=function(g,h,l,n,q,p){g.cf=n;g.gZ=h;g.hf=q;g.ePa=h.location || l.location;g.LT=h.Pc || l.Qd;g.Zwa=h.Zwa || l.Zwa;g.jba=k.default.time.fa();g.I=p;};Object.defineProperties(d.prototype,{console:{get:function(){return this.I;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{location:{get:function(){return this.ePa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Qd:{get:function(){return this.LT;},enumerable:!1,configurable:!0}});d.prototype.Fb=function(g){this.Ua=g;};d.prototype.kxa=function(g,h){this.ePa=g;this.LT=h;};d.prototype.Xha=function(g){var h,l,n;h={type:"logdata",target:"endplay",fields:{}};l=this.mediaType === f.default.Wa.Xb?"audioedit":"videoedit";n=[this.tN === this.$?this.Mc:this.gd,this.tN === this.$?-this.duration:this.duration];g && g.GE && n.push(g.GE);h.fields[l]={type:"array",value:n};return h;};d.prototype.bza=function(){var g,h;if(this.complete)return 0;g=this.gZ;h=g.R;return g.url?this.url === g.url || (h.kxa(this,g.location,g.Pc),this.dba(g.url))?0:(this.I.warn("swapUrl failed: ",this.mN),2):(this.I.warn("updateurl, missing url for streamId:",g.Ta,"mediaRequest:",this,"stream:",g),1);};return d;})(a(82).Av);b.eK=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(809),b);},function(r,b,a){var f,k,m,d,g,h,l,n,q;function c(p){return p.Ka(d.O.Na(p.fJ));}Object.defineProperties(b,{__esModule:{value:!0}});b.Ica=b.Ru=void 0;f=a(2);r=a(17);k=f.__importDefault(a(28));m=f.__importDefault(a(6));d=a(21);g=a(4);h=a(810);l=a(119);n=a(67);q=a(25);b.Ru=c;a=(function(p){function u(t,w,v,x,y,z,A,B,E){var D,F;F=p.call(this) || this;F.I=t;F.Wg=w;F.mg=v;F.sd=x;F.J=y;F.$pb=z;F.X=A;F.qw=B;F.wh=E;F.GQa=!1;F.oOa=!1;F.Vk=F.I.error.bind(F.I);F.Ub=F.I.warn.bind(F.I);F.An=F.I.trace.bind(F.I);null === (D=x.events) || void 0 === D?void 0:D.addListener("ready",function(){F.Yv();});F.F4a=new h.vHa(F.J,F.Wg,F.mg.Rc,F.I);F.reset();return F;}f.__extends(u,p);Object.defineProperties(u.prototype,{endOfStream:{get:function(){return this.aT;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{t4:{get:function(){return this.sd?this.sd.t4:-1;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{h5b:{get:function(){return this.om.length;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{mOb:{get:function(){return this.bk;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{mbb:{get:function(){return ! !this.sd.pEb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{xB:{get:function(){return ! !this.sd.reset;},enumerable:!1,configurable:!0}});u.prototype.reset=function(t){var w,v,x;null === (w=this.yPa) || void 0 === w?void 0:w.Ib();this.ek=!1;t || (this.om=[]);this.bk=this.Yga=this.GL=void 0;this.Iga=!1;this.HL=void 0;this.aT=!1;this.lQa(d.O.eb);null === (x=(v=this.sd).reset) || void 0 === x?void 0:x.call(v);this.F4a.reset();};u.prototype.bYa=function(){this.Yga=!0;};u.prototype.pause=function(){this.ek=!0;};u.prototype.resume=function(){this.ek=!1;this.Yv();};u.prototype.Mz=function(){this.oOa=!0;this.ek || this.Yv();};u.prototype.FE=function(t){this.GQa=t;};u.prototype.zoa=function(){var t;return null === (t=this.bk) || void 0 === t?void 0:t.pe;};u.prototype.hub=function(t){var w;if(this.J.HWa){g.assert(t.Ua);w=t.Ua.ib;g.assert(void 0 !== t.gd);g.assert(void 0 !== w.Mc);if(t.gd >= w.Mc)return;}this.om.push(t);this.Yv();};u.prototype.ft=function(){this.Yv();};u.prototype.eaa=function(t){t=this.om.indexOf(t);-1 !== t && this.om.splice(t,1);};u.prototype.J5a=function(t,w){this.J.fja && w && void 0 === this.bk && this.LNa(t,0);this.Yv();};u.prototype.Y9=function(t){var w,v,x;w=this;if(!this.aT && (this.aT=!0,this.Yv(),!this.mbb))if(t && this.qw && this.J.XBb){x=d.O.Na(this.J.Lbb);t=t.Ka(x);x=n.Vba(this.qw,t,!0);t=x.mr;x=x.promise;null === (v=this.yPa) || void 0 === v?void 0:v.Ib();this.yPa=t;x.then(function(){w.aT && w.sd.endOfStream();});}else this.sd.endOfStream();};u.prototype.Faa=function(){return JSON.stringify(this.om);};u.prototype.lQa=function(t){var w;null !== (w=this.wQa) && void 0 !== w && w.equal(t) || (this.wQa=t,this.sd.F_b(t.pc,t.W));};u.prototype.Yv=function(){var t,w,v,x,y,z,A,B,E;w=this.J;if(this.om.length || this.bk && !this.bk.gf)if(!this.sd || !1 === this.sd.ready)this.PL("@" + m.default.time.fa() + ", append: not appending, sourceBuffer not ready");else if(!this.bk || this.bk.gf || this.bk.Eu())if(this.bk && !this.bk.gf || this.om.length)if(this.ek){v=this.bk && !this.bk.gf?this.bk:this.om[0];this.PL("@" + m.default.time.fa() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(v));}else if((!this.bk || this.bk.gf || (this.jOa(this.bk),this.bk.gf)) && this.om.length)if((v=this.om[0],v.aborted))(this.Ub("aborted MediaRequest should not appear in the toAppend list:",v.toString(),"complete:",v.complete),this.PL("@" + m.default.time.fa() + ", append: removing aborted request from toAppend: " + v.toString()),this.om.shift());else {x=v.stream;y=x.R;if(x.ah)if(this.U_b(x,v.index))(this.Yga=!1,this.LNa(x,v.index));else {z=this.X.hp(y);x=this.ULb(x);if(z || x || !this.Iga && !w.Tba)if((z=this.w_a(v),this.Wg !== k.default.Wa.Xb || !v.Lq && !v.Zw || !v.ya || w.AE || this.aT || 1 !== this.om.length || !(z > w.JX) || null !== (t=v.mJ) && void 0 !== t && t.o8)){if(w.HWa || w.PDb){t=v.Ua.ib;A=this.qCb();if(A){B=t.el;E=v.Mc >= A;z=z > w.JX;if(A < t.Mc && E && z && !B)return;}}if(w.yUb && this.wh && (w=this.wh(y.Qb)) && !w.fU)this.pause();else {this.Iga || (this.Iga=x);this.om.shift();try{this.anb(v);}catch(D){throw (this.I.error(D),D);}}}else this.mZb();}}};u.prototype.mZb=function(){var t;t=this;this.qw && (this.hra?this.hra.OMb || this.hra.Tm():this.hra=this.qw.aH(function(){return t.bOb();},"JIT Appender"));};u.prototype.bOb=function(){var t,w,v,x;return f.__generator(this,function(y){switch(y.label){case 0:if(1 !== this.om.length)return [3,3];t=this.om[0];if(!t.Lq && !t.Zw || (null === (x=t.mJ) || void 0 === x?0:x.o8))return [2];w=this.w_a(t);v=this.J.JX;return w > v?[4,n.Tk.YJ(d.O.Na(w - v))]:[3,2];case 1:(y.Ac(),y.label=2);case 2:return (this.Yv(),[3,0]);case 3:return [2];}});};u.prototype.w_a=function(t){return t.zd - this.X.Te();};u.prototype.U_b=function(t,w){if(this.Yga || void 0 === this.GL || t.Ta !== this.GL.Ta)return !0;t=t.ah;g.assert(t);return 1 < t.length?q.SRa(t,function(v){return v.Bd <= w;}) !== this.GL.T1a:!1;};u.prototype.ULb=function(t){if(0 === t.mediaType || !t.ml)return !0;if(void 0 === this.GL)return !1;if(!t.track.wX)return !t.ml;t=t.ah;g.assert(t);return !1 === t[this.GL.T1a].gl;};u.prototype.qCb=function(){throw Error("not supported");};u.prototype.LNa=function(t,w){var v;if(!this.GQa || this.oOa){v=t.ah.reduce(function(x,y,z){return y.Bd <= w?z:x;},0);if(this.sd.appendBuffer(t.ah[v].data,{dd:!0,profile:t.profile,bitrate:t.bitrate,Ta:t.id}))(this.PL("@" + m.default.time.fa() + ", header appended, streamId: " + t.Ta),this.GL={Ta:t.Ta,T1a:v},this.grb(t.R.Qb || 0,t.Ta,v),this.Yv());else throw (this.Ub("appendHeader error: " + this.sd.error),this.PL("@" + m.default.time.fa() + ", appendHeader error: " + this.sd.error),Error("appendHeaderError"));}};u.prototype.anb=function(t){var w,v,x,y;x=t.lva || d.O.eb;y=t.Ua.ib.H;y.La && Infinity !== y.La && (x=new d.O(y.La,1E3).add(x).Bh,Infinity === this.mg.duration || this.mg.duration < x) && (this.mg.duration=x);x=void 0 !== t.uv?d.O.Na(t.uv).add(t.lva):void 0;y=null === (w=this.om[0]) || void 0 === w?void 0:w.Pg;w={endOfStream:this.endOfStream || !(null === (v=t.mJ) || void 0 === v || !v.o8),l9:x,QX:y};v=this.F4a.append(t,w);this.lQa(v);this.jOa(t);};u.prototype.jOa=function(t){var w,v,x,y,z;y=t.FG(this.sd,this.mg.Rc,this.bk);z=y.status;(y=y.zk) && this.emit(y.type,y);z !== l.Qj.Rf?(this.bk=t,z === l.Qj.Yx && (void 0 === this.HL || this.Wg !== k.default.Wa.Xb || t.Pg.equal(this.HL) || (this.brb(t,this.HL),this.HL=void 0),this.PL("@" + m.default.time.fa() + ", request appended, type: " + t.mediaType + ", streamId: " + t.Ta + ", pts: " + t.zd + "-" + t.pe),t.Lq || t.Zw?(this.HL=t.ye,this.unb(t,this.wQa || d.O.eb),null === (v=(w=this.sd).pEb) || void 0 === v?void 0:v.call(w,t.mJ),(null === (x=t.mJ) || void 0 === x?0:x.o8) && this.$pb && this.Y9(t.ye)):this.HL=void 0,this.hrb(t),this.Yv())):this.$mb(t);};u.prototype.$mb=function(t){if(void 0 !== this.sd.error){if("done" === this.sd.error)return;this.Vk("failure to append queued mediaRequest:",null === t || void 0 === t?void 0:t.toString(),"err:",JSON.stringify(this.sd.error));throw this.sd.error;}t=Error("failure to append queued mediaRequest: " + (null === t || void 0 === t?void 0:t.toString()) + " err: " + this.sd.error);this.Vk(t.message);throw t;};u.prototype.unb=function(t,w){var v,x;v=t.stream.va;x=t.Td;this.J.qm && t.stream.zf && (x=x.Ka(t.stream.zf));c(x.Ka(v)).add(c(v)).add(c(w));};u.prototype.grb=function(t,w,v){t={type:"headerAppended",mediaType:this.Wg,manifestIndex:t,streamId:w,isIndex:v};this.emit(t.type,t);};u.prototype.hrb=function(t){t={type:"requestAppended",mediaType:this.Wg,request:t};this.emit(t.type,t);};u.prototype.PL=function(t){t={type:"managerdebugevent",message:t};this.emit(t.type,t);};u.prototype.brb=function(t,w){var v;v=t.gd;t=t.Pg.Ka(w).U;v={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[v,t]}}};this.emit(v.type,v);};return u;})(r.EventEmitter);b.Ica=a;},function(r,b,a){var f;function c(k,m){return k < m?-1:k > m?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.o1=void 0;f=a(2);r=(function(){function k(m,d){this.data=null !== m && void 0 !== m?m:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(m=(this.length >> 1) - 1;0 <= m;m--){this.Kga(m);}}Object.defineProperties(k.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});k.prototype.push=function(m){this.data.push(m);this.qia(this.length - 1);};k.prototype.pop=function(){var m,d;if(!this.empty){m=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.Kga(0));return m;}};k.prototype.px=function(){return this.data[0];};k.prototype.kWb=function(m){m=this.data.indexOf(m);-1 !== m && this.qia(m);};k.prototype.map=function(m){return this.data.map(m);};k.prototype.find=function(m){return f.__read(this.data.filter(m),1)[0];};k.prototype.clear=function(){this.data=[];};k.prototype.remove=function(m){var d,g,h;d=this.data;m=d.indexOf(m);if(-1 !== m){g=d.pop();if(m < d.length){d[m]=g;h=m - 1 >> 1;d=d[h];0 <= h && 0 > this.compare(g,d)?this.qia(m):this.Kga(m);}}};k.prototype.zub=function(){for(var m=this.data,d=1;d < m.length;d++){if(0 > this.compare(m[d],m[d - 1 >> 1]))throw Error("Audit failed at position " + d + " of " + m);}};k.prototype.contains=function(m){return 0 <= this.data.indexOf(m);};k.prototype.qia=function(m){for(var d=this.data,g=this.compare,h=d[m],l,n;0 < m;){l=m - 1 >> 1;n=d[l];if(0 <= g(h,n))break;d[m]=n;m=l;}d[m]=h;};k.prototype.Kga=function(m){for(var d=this.data,g=this.compare,h=this.length >> 1,l=d[m],n,q,p;m < h;){n=(m << 1) + 1;p=d[n];q=n + 1;q < this.length && 0 > g(d[q],p) && (n=q,p=d[q]);if(0 <= g(p,l))break;d[m]=p;m=n;}d[m]=l;};return k;})();b.o1=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.H$=void 0;c=a(16);b.H$=function(f){switch(f){case c.sa.xd:f=c.Kc.xd;break;case c.sa.Tf:f=c.Kc.Tf;break;case c.sa.Gh:case c.sa.nj:case c.sa.Hr:f=c.Kc.nj;break;default:f=c.Kc.oj;}return f;};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.IK=void 0;c=a(4);f=a(25);r=(function(){function k(m){var d;d=this;void 0 === m && (m=[]);this.items=m;m.forEach(function(g){return d.Xya(g);});}Object.defineProperties(k.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{FY:{get:function(){var m;return null !== (m=this.video) && void 0 !== m?m:this.audio;},enumerable:!1,configurable:!0}});k.prototype.get=function(m){return 1 === m?this.video:this.audio;};k.prototype.every=function(m){return this.items.every(m);};k.prototype.some=function(m){return this.items.some(m);};k.prototype.forEach=function(m){this.items.forEach(m);};k.prototype.find=function(m){return f.ie(this.items,m);};k.prototype.reduce=function(m,d){return this.items.reduce(m,d);};k.prototype.filter=function(m){return new k(this.items.filter(m));};k.prototype.replace=function(m,d){var g;g=this.items.indexOf(m);c.assert(-1 < g);c.assert(m.mediaType === d.mediaType);this.items[g]=d;this.Xya(d);};k.prototype.YZb=function(m,d){(m=this.get(m))?this.replace(m,d):this.add(d);};k.prototype.add=function(m){this.items.push(m);this.Xya(m);};k.prototype.remove=function(m){var d;d=this.items.indexOf(m);if(-1 === d)return !1;this.items.splice(d,1);this.jxb(m.mediaType);return !0;};k.prototype.clear=function(){this.items=[];this.audio=this.video=void 0;};k.prototype.Xya=function(m){1 === m.mediaType?this.video=m:this.audio=m;};k.prototype.jxb=function(m){1 === m?this.video=void 0:this.audio=void 0;};return k;})();b.IK=r;},function(r,b,a){var c,f,k,m,d,g,h,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.f0=void 0;c=a(2);a(4);r=a(43);f=c.__importDefault(a(28));k=c.__importDefault(a(126));m=c.__importDefault(a(6));d=a(247);g=a(101);h=a(119);l=m.default.Br;n=a(833);a=c.__importDefault(a(834));m=(function(q){var f00;f00=2;function p(u,t,w,v,x,y,z,A){var g00,B;g00=2;for(;g00 !== 6;){switch(g00){case 7:return B;break;case 2:var N3p="e";N3p+="d";N3p+="i";N3p+="t";var L3p="c";L3p+="ac";L3p+="h";L3p+="e";var c3p="1SIYbZ";c3p+="r";c3p+="NJC";c3p+="p9";B=this;c3p;B=[L3p,N3p].filter(function(E,D){var h00;h00=2;for(;h00 !== 1;){switch(h00){case 2:return [x,w.ya][D];break;case 4:return [x,w.ya][D];break;h00=1;break;}}});B=B.length?"(" + B.join(",") + ")":"";g00=3;break;case 3:void 0 === w.responseType && (w.responseType=w.ya || l.Rc && !l.Rc.lZ.yS?0:1);B=q.call(this,u,t,B,w,v,y,z) || this;g.hn.Fb(B,u,w,A);g00=7;break;}}}for(;f00 !== 9;){switch(f00){case 5:p.prototype.toString=function(){var j00;j00=2;for(;j00 !== 1;){switch(j00){case 2:var D3p="I";D3p+="D";D3p+=":";D3p+=" ";return D3p + this.wi() + ":" + g.hn.prototype.toString.call(this);break;}}};p.prototype.toJSON=function(){var k00;k00=2;for(;k00 !== 1;){switch(k00){case 2:return {ID:this.wi(),request:g.hn.prototype.toJSON.call(this)};break;}}};return p;break;case 2:c.__extends(p,q);p.create=function(u,t,w,v,x,y,z,A){var i00,B,E;i00=2;for(;i00 !== 11;){switch(i00){case 1:return new n.$za(u,w,v,x,y,t,z,A);break;case 5:i00=v.wO && v.ga > v.wO?4:12;break;case 2:i00=!t.ih && v.ya && u.mediaType === f.default.Wa.Pb && l.Rc && l.Rc.lZ.yS?1:5;break;case 4:B=Math.ceil(v.ga / v.wO);y=v.offset;E=v.ga;i00=8;break;case 8:x=new d.aF(u,v,x,t,z,A);i00=7;break;case 7:A=Math.ceil(v.ga / B);i00=6;break;case 14:var A3p="s";A3p+="u";A3p+="b";A3p+="requ";A3p+="est";(B={offset:y,ga:Math.min(E,A),responseType:v.responseType},y+=B.ga,E-=B.ga,x.push(new h.h0(u,w,A3p,B,x,t,z)));i00=6;break;case 13:return x;break;case 6:i00=0 < E?14:13;break;case 12:return new p(u,w,v,x,y,t,z,A);break;}}};f00=5;break;}}})(h.h0);b.f0=m;k.default(a.default,m.prototype);r.Bf(g.hn,m,!1);},function(r,b,a){var c,f,k,m,d,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.aF=void 0;c=a(2);f=a(4);r=a(43);k=a(9);m=a(25);d=a(384);g=a(101);h=a(119);a=(function(l){function n(q,p,u,t,w,v){u=l.call(this,q,p,u,t,w) || this;g.hn.Fb(u,q,p,v);u.Qc=0;u.ya || u.Lk();u.gf=!1;return u;}c.__extends(n,l);Object.defineProperties(n.prototype,{dd:{get:function(){return !1;},enumerable:!1,configurable:!0}});n.prototype.push=function(q){this.Qc+=q.ga;l.prototype.push.call(this,q);};n.prototype.Eu=function(){var q;return !this.gf && ! !this.Ga.length && !(null === (q=m.ie(this.Ga,function(p){return !p.gf;})) || void 0 === q || !q.Eu());};n.prototype.FG=function(q,p){var u,t;f.assert(!this.gf);u=h.Qj.akb;t=k.Mq(this);this.gf=this.Ga.every(function(w){if(w.gf)return !0;if(!w.Eu())return !1;u=w.FG(q,p,void 0,t).status;return u === h.Qj.Yx;});u !== h.Qj.Yx || this.gf || (u=h.Qj.wkb);return {status:u};};n.prototype.KXb=function(){this.Ga.forEach(function(q){q.WY();});};n.prototype.wi=function(){return this.Ga?this.Ga[0].wi() + "-" + this.Ga[this.Ga.length - 1].wi():"empty";};n.prototype.toString=function(){return "ID: " + this.wi() + ":" + g.hn.prototype.toString.call(this) + "(aggregate)";};n.prototype.toJSON=function(){return {ID:this.wi(),request:l.prototype.toJSON.call(this)};};return n;})(d.rca);b.aF=a;r.Bf(g.hn,a);},function(r,b,a){var k,m,d,g,h,l,n,q;function c(p,u){return p.done?p:{value:{value:p.value,LQa:u}};}function f(p){p.LQa();return {done:!1,value:p.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.Cub=b.Dlb=b.j0=void 0;k=a(2);r=a(17);m=a(150);d=a(20);g=k.__importDefault(a(6));h=a(9);l=a(4);a=a(43);n=(function(){function p(u,t){this.console=u;this.fg=t;this.Fpb=this.YS=0;this.Dg=[];this.console=h.Nq(g.default,this.console,"QueueIterator:");}Object.defineProperties(p.prototype,{eCb:{get:function(){return this.YS;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{cUa:{get:function(){var u,t,w;for(t=0;t < this.Dg.length;t++){w=this.Dg[t];if(!w.TW || (null === (u=w.item) || void 0 === u?0:u.done))break;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{count:{get:function(){return this.fg;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{sA:{get:function(){return 0 === this.fg;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{kwa:{get:function(){var u;for(u=0;u < this.Dg.length && this.Dg[u].Zqa;u++){;}return u;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{head:{get:function(){var u;u=k.__read(this.Dg,1)[0];return (u=u && u.item) && !u.done && u.value;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{mta:{get:function(){var u;for(u=0;u < this.Dg.length && this.Dg[u].TW;u++){;}return u;},enumerable:!1,configurable:!0}});p.prototype.O5=function(){var u;if(void 0 === this.fg){u=this.console;d.ia && u && u.trace("QueueIterator: enqueueEnd");this.Vya(this.mta - (this.fg || 0));}};p.prototype.Ap=function(){return this.Dg.map(function(u){return u.item;});};p.prototype.oba=function(){this.Ff || (this.Ff=this.Dg.filter(function(u){return (null === u || void 0 === u?void 0:u.item) && !u.item.done;}).map(function(u){return u.item.value;}));return this.Ff;};p.prototype.Vya=function(u){var t;d.ia && this.console.trace("updateCount",{Tdc:this.fg,Vo:u});if(void 0 !== this.fg){t=this.Dg[this.fg];t && this.wqa(t);}this.fg=void 0 === this.fg?u:void 0 === u?u:this.fg + u;void 0 !== this.fg && (this.fg=Math.max(0,this.fg),(t=this.Dg[this.fg]) && t.$H.resolve({done:!0}));};p.prototype.enqueue=function(u){var t;d.ia && this.console.trace("Enqueue called");t=this.mta;this.I4();return this.GWb(t,{value:u,done:!1}).KVa.promise;};p.prototype.z9a=function(){d.ia && this.console.trace("resetEnd");this.Vya(void 0);};p.prototype.clear=function(u){var t,w,v;d.ia && this.console.trace("clear");this.i8a();t=this.kwa;w=this.Dg.length - t;if(0 < w){v={index:t,Ata:w};d.ia && this.console.trace("Removing items",v);this.Dg.splice(t,w);this.I4();this.emit("onRemoved",v);}for(w=1;w < t;w++){this.wqa(this.Dg[w]);}this.fg=void 0;this.Vya(u?u + t:u);this.YS && (this.YS=0);};p.prototype.getIterator=function(){var u,t;u=this;t=h.Nq(g.default,this.console,"QueueIteratorInstance::");return new q(this,function(w){return u.c_a(w);},t);};p.prototype.SM=function(){var u;if(0 < this.kwa){u=k.__read(this.Dg,1)[0];if(u.TW)return (d.ia && this.console.trace("dequeue",u.id),this.i8a(1),this.emit("onDequeue",u.$H.promise));}};p.prototype.remove=function(u){var t,w,v;for(t=0;t < this.Dg.length;t++){w=this.Dg[t];v=w.item;if(v && !v.done && v.value === u){this.Dg.splice(t,1);this.fg && this.fg > t && this.fg--;this.I4();d.ia && this.console.trace("removed",{id:w.id});this.emit("onRemoved",{index:t,Ata:1});break;}}};p.prototype.i8a=function(u){var t;u=u || Math.min(this.kwa,this.mta);if(0 < u){t=this.Dg.splice(0,u);this.I4();this.fg && (this.fg-=u);d.ia && this.console.trace("pruned",u);Promise.resolve().then(function(){t.forEach(function(w){w.KVa.resolve();});});this.emit("onRemoved",{index:0,Ata:u});this.YS+=u;}};p.prototype.c_a=function(u){var t;d.ia && this.console.trace("getNextItemCalled",{offset:u});if(void 0 === this.count || 0 < this.count){this.l1a(u);t=this.Dg[u];t.xYb.resolve();u=t.$H.promise;d.ia && this.console.trace("getNextItem:return",{id:t.id});}else (d.ia && this.console.trace("getNextItem:returnDone"),u=Promise.resolve({done:!0}));return u;};p.prototype.GWb=function(u,t){var w;w=!t.done && t.value;w=w && w.toJSON?w.toJSON():w;d.ia && this.console.trace("Providing result",{Ntb:u,item:w});this.l1a(u);u=this.Dg[u];w=u.$H.resolve;w(t);return u;};p.prototype.l1a=function(u){var t;if(void 0 === this.Dg[u]){t={};this.wqa(t);this.Dg[u]=t;u === this.fg && t.$H.resolve({done:!0});d.ia && this.console.trace("Item initialized",{Ntb:u});}};p.prototype.xla=function(u){var t;t={};t.promise=new Promise(function(w,v){t.resolve=function(x){w(x);u && u(x);};t.reject=v;});return t;};p.prototype.wqa=function(u){var t;t=this;u.$H=this.xla(function(w){u.item=w;u.TW=!0;d.ia && t.console.trace("Item resolved",{id:u.id});});u.id && u.Zqa && !u.TW && (u.$H.resolve({done:!0}),d.ia && this.console.warn("Overwriting requested queue item",u.id));u.KVa=this.xla();u.xYb=this.xla(function(){u.Zqa=!0;d.ia && t.console.trace("Item requested",{id:u.id});});u.id=this.Fpb++;u.Zqa=!1;u.TW=!1;u.item=void 0;};p.prototype.I4=function(){this.Ff=void 0;};p.prototype.QGb=function(){var u,t,w;u=this;t=h.Nq(g.default,this.console,"QueueIteratorInstance::");w=new q(this,function(v){var x,y;if(0 === u.count)return m.AsyncIterator.mpa();x=u.c_a(v);y=u.Dg[0];return x.then(function(z){return c(z,function(){w.aO || (y === u.Dg[0]?u.SM():l.assert(!u.Dg.filter(function(A){return A.$H.promise === x;}).length,"Out of order acknowledgements are not supported"));});});},t);return w;};return p;})();b.j0=n;a.Bf(r.EventEmitter,n);q=(function(p){function u(t,w,v){var x;x=p.call(this,function(){d.ia && x.console.trace("Next item requested",{index:x.index});return x.UYb(x.index++);}) || this;x.parent=t;x.UYb=w;x.console=v;x.DL=!1;x.index=0;x.iha=!1;x.h6a=function(y){var z;z=y.index;y=y.Ata;x.index >= z && (x.index=Math.max(z,x.index - y));z=x.console;d.ia && z && z.trace("QueueIteratorInstance: onRemoved modified",x.index);};return x;}k.__extends(u,p);u.prototype.Mh=function(){this.console.trace("disposed");this.DL=!0;this.fd();p.prototype.Mh.call(this);};u.prototype.next=function(){this.aO || this.$N();return p.prototype.next.call(this);};u.prototype.cancel=function(){this.fd();return p.prototype.cancel.call(this);};u.prototype.fd=function(){this.parent.SA("onRemoved",this.h6a);this.iha=!1;};u.prototype.$N=function(){this.iha || (this.iha=!0,this.parent.on("onRemoved",this.h6a));};return u;})(m.AsyncIterator);b.Dlb=q;b.Cub=function(p){return m.map(p,f);};},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(840),b);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.fK=void 0;c=a(251);r=(function(){var l00;l00=2;for(;l00 !== 3;){switch(l00){case 2:f.prototype.VVa=function(k,m){var n00,d;n00=2;for(;n00 !== 3;){switch(n00){case 2:d=null === this.xja?k * (100 - this.config.hba) / 100:c.hja(k,this.xja);m=null !== m && void 0 !== m?m:this.uO;this.config.Gra && m?(k=c.hja(k,m),k=Math.max(k,d)):k=d;return k;break;}}};f.prototype.MP=function(k){var o00;o00=2;for(;o00 !== 1;){switch(o00){case 2:this.xja=k;o00=1;break;}}};f.prototype.Tya=function(k){var p00;p00=2;for(;p00 !== 1;){switch(p00){case 4:this.config=k;p00=0;break;p00=1;break;case 2:this.config=k;p00=1;break;}}};return f;break;}}function f(k,m){var m00;m00=2;for(;m00 !== 3;){switch(m00){case 2:var f3p="1S";f3p+="I";f3p+="YbZrNJ";f3p+="Cp9";this.config=k;this.uO=m;this.xja=null;f3p;m00=3;break;}}}})();b.fK=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hja=b.wE=b.iXa=void 0;c=a(2).__importDefault(a(117)).default.jXa;b.iXa=function(f,k,m){var d,g,h;d=0;if(m){f.some(function(l){var n;n=l.b;l=l.m;if(k <= n)return (d=h && n !== g?h + (l - h) / (n - g) * (k - g):l,!0);g=n;d=h=l;return !1;});}else f.some(function(l){d=l.m;return k <= l.b;});return d;};b.wE=function(f,k,m){var d;k=(null === (d=k.Sa) || void 0 === d?void 0:d.Ha) || 0;return f.Pub?(f=c(f.Oub,m.al - m.Cc,1),k * (1 - f)):k * f.hba / 100;};b.hja=function(f,k){return f < 2 * k?f / 2:f - k;};},function(r,b,a){var m,d;function c(){}function f(g,h){this.um=g;void 0 !== h?(d(h <= g.Um,"require remain_sec <= chunk.sec but has " + h + " and " + g.Um),this.rl=h):this.rl=g.Um;}function k(g){var h;void 0 === g && (g=[]);this.Js=[];this.Dh=this.am=0;try{for(var l=m.__values(g),n=l.next();!n.done;n=l.next()){this.add(n.value,void 0);}}catch(p){var q;q={error:p};}finally{try{n && !n.done && (h=l.return) && h.call(l);}finally{if(q)throw q.error;}}}m=a(2);d=a(4).assert;c.prototype=Error();f.prototype.constructor=f;f.prototype.Yt=function(){return new f(this.um,this.rl);};k.prototype.constructor=k;k.prototype.add=function(g,h){g=new f(g,h);this.Js.push(g);this.Dh+=g.rl;this.am+=g.um.eA() * g.rl;};k.prototype.Yt=function(){var g,h,q;h=new k(void 0);try{for(var l=m.__values(this.Js),n=l.next();!n.done;n=l.next()){q=n.value;h.add(q.um,q.rl);}}catch(u){var p;p={error:u};}finally{try{n && !n.done && (g=l.return) && g.call(l);}finally{if(p)throw p.error;}}return h;};k.prototype.xu=function(){try{return this.Js[0];}catch(g){}};k.prototype.r7a=function(g){var h;for(d(0 <= g,"unexpected play_for_x_sec: x=" + g);0 < g;){if(void 0 === this.xu())throw new c();if(g < this.xu().rl){h=this.xu().um.eA() * g;this.xu().rl-=g;this.Dh-=g;this.am-=h;g=0;}else (h=this.Js.shift(),this.Dh-=h.rl,this.am-=h.um.eA() * h.rl,g-=h.rl);}};k.prototype.bVb=function(g){var l;d(0 <= g,"unexpected play_y_kb: y=" + g);for(var h=0;0 < g;){if(void 0 === this.xu())throw new c();if(g < this.xu().rl * this.xu().um.eA()){l=g / this.xu().um.eA();this.xu().rl-=l;this.Dh-=l;this.am-=g;h+=l;g=0;}else (l=this.Js.shift(),this.Dh-=l.rl,this.am-=l.um.eA() * l.rl,h+=l.rl,g-=l.um.eA() * l.rl);}return h;};r.exports={VAa:k,Dfb:c};},function(r){var h,l,n,q,p,u;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(t){if(h === setTimeout)return setTimeout(t,0);if((h === b || !h) && setTimeout)return (h=setTimeout,setTimeout(t,0));try{return h(t,0);}catch(w){try{return h.call(null,t,0);}catch(v){return h.call(this,t,0);}}}function f(t){if(l === clearTimeout)return clearTimeout(t);if((l === a || !l) && clearTimeout)return (l=clearTimeout,clearTimeout(t));try{return l(t);}catch(w){try{return l.call(null,t);}catch(v){return l.call(this,t);}}}function k(){q && p && (q=!1,p.length?n=p.concat(n):u=-1,n.length && m());}function m(){var t;if(!q){t=c(k);q=!0;for(var w=n.length;w;){p=n;for(n=[];++u < w;){p && p[u].Bx();}u=-1;w=n.length;}p=null;q=!1;f(t);}}function d(t,w){this.rGb=t;this.dz=w;}function g(){}r=r.exports={};h="function" === typeof setTimeout?setTimeout:b;l="function" === typeof clearTimeout?clearTimeout:a;n=[];q=!1;u=-1;r.Mdc=function(t){var w;w=Array(arguments.length - 1);if(1 < arguments.length)for(var v=1;v < arguments.length;v++){w[v - 1]=arguments[v];}n.push(new d(t,w));1 !== n.length || q || c(m);};d.prototype.Bx=function(){this.rGb.apply(null,this.dz);};r.title="browser";r.Lac=!0;r.dXa={};r.wac=[];r.version="";r.xfc={};r.on=g;r.addListener=g;r.once=g;r.SA=g;r.removeListener=g;r.removeAllListeners=g;r.emit=g;r.AY=g;r.R7a=g;r.listeners=function(){return [];};r.Hac=function(){throw Error("process.binding is not supported");};r.fbc=function(){return "/";};r.Vac=function(){throw Error("process.chdir is not supported");};r.pfc=function(){return 0;};},function(r){r.exports={FGa:{code:-1,description:"MediaCache is not supported."},X9b:{code:100,description:"Resource was not found"},xjb:{code:101,description:"Resource Metadata was not found"},QK:{code:102,description:"Read failed",vr:function(b,a){return {code:this.code,description:b,cause:a};}},k2:{code:200,description:"Daily write limit exceeded"},gK:{code:201,description:"Capacity has been exceeded"},j2:{code:202,description:"Write failed, cause unknown",vr:function(b,a){return {code:this.code,description:b,cause:a};}},V$b:{code:203,description:"Write failed, cause unknown"},Agb:{code:300,description:"Failed to delete resource",vr:function(b,a){return {code:this.code,description:b,cause:a};}},ZB:{code:900,description:"Invalid partition name"},Yib:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},hCa:{code:701,description:"Failed to initialize underlying disk cache."},wjb:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(r){r.exports={Z_a:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(c){var f;void 0 === c.error.code && (c.error.code=0);void 0 === c.error.description && (c.error.description="Unknown");a.forEach(function(k){c.error && c.error.code == k.error.code && c.error.description === k.error.description && (f=k);});f?f.resources.push(c.cr):a.push({error:c.error,resources:[c.cr]});});return a;}},VYa:function(b){var a;a={freeSize:b.On,dailyBytesRemaining:b.OM,bytesWritten:b.Zk,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(c){return {key:c.key,operation:c.ol,itemBytes:c.t8,error:c.error};}));return a;},ux:function(b){return b.catch(function(a){setTimeout(function(){throw a;},0);});}};},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.DH=void 0;c=a(2).__importDefault(a(6));f=a(894);b.DH=function(){var m;if(!k){m=new c.default.Console("ASEJS","media|asejs");k=new f.Qza(m);}return k;};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.R9a=b.QZa=b.map=void 0;c=a(2);a(897);b.map=function(f){return function(k,m){void 0 === m && (m=!1);return function(d,g,h){var l,n,q,p,u,t,w,v;u=Reflect.k_a(f,d,g) || ({});w="number" === typeof h;v=m;(t=w?null !== (n=(null !== (l=u.Ab) && void 0 !== l?l:{})[h]) && void 0 !== n?n:{}:v?u.return:u.Psa) || (t={rules:[]});l=c.__assign(c.__assign(c.__assign({},t),k),{rules:c.__spread(null !== (q=t.rules) && void 0 !== q?q:[],null !== (p=k.rules) && void 0 !== p?p:[])});w?(u.Ab || (u.Ab={}),u.Ab[h]=l):v?u.return=l:u.Psa=l;Reflect.r5(f,u,d,g);};};};b.QZa=function(f){return function(k,m){return Reflect.k_a(f,k.constructor.prototype,m);};};b.R9a=function(){return function(){return function(f){return f;};};};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.W1=void 0;r=a(17);c=a(43);f=a(21);a=(function(){function k(m){void 0 === m && (m={xk:!1,currentTime:f.O.eb,speed:1});this.bd={xk:function(){return "function" === typeof m.xk?m.xk():m.xk;},currentTime:function(){return "function" === typeof m.currentTime?m.currentTime():m.currentTime;},speed:function(){return "function" === typeof m.speed?m.speed():m.speed;}};}Object.defineProperties(k.prototype,{xk:{get:function(){return this.bd.xk();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{currentTime:{get:function(){return this.bd.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{speed:{get:function(){return this.bd.speed();},enumerable:!1,configurable:!0}});return k;})();b.W1=a;c.Bf(r.EventEmitter,a);},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.f7=b.ap=b.isEqual=b.YW=void 0;c=a(9);f=a(222);b.YW=function(k){return ! !k.S;};b.isEqual=function(k,m){var d,g;d=b.YW(k);g=b.YW(m);return d === g?d?k.S === m.S:k.ma === m.ma:!1;};b.ap=function(k){if(b.YW(k))return k.S;k=k.ma;return k.V[k.Pd].S;};b.f7=function(k,m){var d;return k.n4?k.n4 instanceof c.O?(k=f.FM(m,b.ap(k.key),k.n4),(null === k || void 0 === k?0:k.offset.greaterThan(c.O.eb))?k:{offset:c.O.eb,ha:null !== (d=null === k || void 0 === k?void 0:k.ha) && void 0 !== d?d:m.Pd}):k.n4:{offset:c.O.eb,ha:m.Pd};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pea="PboPlaydataFactorySymbol";},function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(r,b,a){var k,m,d,g;function c(h,l,n){for(var q=n.next();!q.done;){if((l=h["@@transducer/step"](l,q.value)) && l["@@transducer/reduced"]){l=l["@@transducer/value"];break;}q=n.next();}return h["@@transducer/result"](l);}function f(h,l,n,q){return h["@@transducer/result"](n[q](d(h["@@transducer/step"],h),l));}k=a(981);m=a(983);d=a(984);g="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(h,l,n){"function" === typeof h && (h=m(h));if(k(n)){for(var q=0,p=n.length;q < p;){if((l=h["@@transducer/step"](l,n[q])) && l["@@transducer/reduced"]){l=l["@@transducer/value"];break;}q+=1;}return h["@@transducer/result"](l);}if("function" === typeof n["fantasy-land/reduce"])return f(h,l,n,"fantasy-land/reduce");if(null != n[g])return c(h,l,n[g]());if("function" === typeof n.next)return c(h,l,n);if("function" === typeof n.reduce)return f(h,l,n,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,f){return a.apply(this,arguments);};case 3:return function(c,f,k){return a.apply(this,arguments);};case 4:return function(c,f,k,m){return a.apply(this,arguments);};case 5:return function(c,f,k,m,d){return a.apply(this,arguments);};case 6:return function(c,f,k,m,d,g){return a.apply(this,arguments);};case 7:return function(c,f,k,m,d,g,h){return a.apply(this,arguments);};case 8:return function(c,f,k,m,d,g,h,l){return a.apply(this,arguments);};case 9:return function(c,f,k,m,d,g,h,l,n){return a.apply(this,arguments);};case 10:return function(c,f,k,m,d,g,h,l,n,q){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gfa="PlaybackSegmentDataFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kea="ManifestParserFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xda="HLSConfigSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(268);c=a(154);b.ehb=c;c=a(439);b.WK=c;c=a(443);b.wub=c;b.V1=r.Oq.Xa.sidx;r=a(1024);b.Er=r.Er;r=a(276);b.Cr=r.Cr;r=a(1028);b.Dr=r.Dr;b.EA=r.EA;r=a(1029);b.zK=r.zK;r=a(90);b.Bo=r.Bo;a=a(1030);b.Xj=a.Xj;},function(r,b,a){var G,C,H,K,M,I,Q,L,J,N,O,P,S,U,Z,ja,ya,ra,Y,pa,T,R,ea,sa,la,Ka,Ua,$a,Za,cb,Va;function c(Qa,xa,Ea,Na,Xa){K.call(this,Qa,xa,Ea,Na,Xa);}function f(Qa,xa,Ea,Na,Xa){K.call(this,Qa,xa,Ea,Na,Xa);}function k(Qa,xa,Ea,Na,Xa){K.call(this,Qa,xa,Ea,Na,Xa);}function m(Qa,xa,Ea,Na,Xa){K.call(this,Qa,xa,Ea,Na,Xa);this.tJ=Qa.config.tJ;this.vd=this.sizes=void 0;}function d(Qa,xa,Ea,Na,Xa){K.call(this,Qa,xa,Ea,Na,Xa);}function g(){for(var Qa=new DataView(this),xa="",Ea,Na=0;Na < this.byteLength;Na++){Ea=Qa.getUint8(Na);xa+=("00" + Ea.toString(16)).slice(-2);}return xa;}function h(Qa,xa,Ea,Na,Xa){K.call(this,Qa,xa,Ea,Na,Xa);}function l(Qa,xa,Ea,Na,Xa){K.call(this,Qa,xa,Ea,Na,Xa);}function n(Qa,xa,Ea,Na,Xa){K.call(this,Qa,xa,Ea,Na,Xa);}function q(Qa,xa,Ea,Na,Xa){K.call(this,Qa,xa,Ea,Na,Xa);}function p(Qa,xa,Ea,Na,Xa){K.call(this,Qa,xa,Ea,Na,Xa);}function u(Qa){function xa(Ea,Na,Xa,hb,wb){K.call(this,Ea,Na,Xa,hb,wb);this.PX=Qa;}xa.Ra=!1;xa.prototype=new K();xa.prototype.constructor=xa;Object.defineProperties(xa.prototype,{hR:{get:function(){return this.PX;}}});xa.prototype.parse=function(){this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.PX + "'");this.u.offset=this.startOffset + 4;this.na.Q_(this.hR);this.type=this.hR;return !0;};return xa;}function t(Qa,xa,Ea,Na,Xa){K.call(this,Qa,xa,Ea,Na,Xa);}function w(Qa,xa,Ea,Na,Xa){K.call(this,Qa,xa,Ea,Na,Xa);}function v(Qa,xa,Ea,Na,Xa){K.call(this,Qa,xa,Ea,Na,Xa);}function x(Qa,xa,Ea,Na,Xa){K.call(this,Qa,xa,Ea,Na,Xa);}function y(Qa,xa,Ea,Na,Xa){K.call(this,Qa,xa,Ea,Na,Xa);}function z(Qa,xa,Ea,Na,Xa){K.call(this,Qa,xa,Ea,Na,Xa);}function A(Qa,xa,Ea,Na,Xa){K.call(this,Qa,xa,Ea,Na,Xa);}function B(Qa,xa,Ea,Na,Xa){K.call(this,Qa,xa,Ea,Na,Xa);}function E(Qa,xa,Ea,Na,Xa){K.call(this,Qa,xa,Ea,Na,Xa);}function D(Qa,xa,Ea,Na,Xa){K.call(this,Qa,xa,Ea,Na,Xa);}function F(Qa,xa){Qa.forEach(function(Ea){xa[Ea.Yb]=Ea;});}G=a(153).assert;b=a(106);C=a(269).O;H=a(439);a(154);a(90);a(90);a(90);K=a(33).Fc;M=a(1007).default;I=a(1008).default;Q=a(1009).default;L=a(1010).default;J=a(1011).default;N=a(1012).default;O=a(1013).default;P=a(1014).default;S=a(1015).default;a(270);a(186);U=a(440).bca;Z=a(440).kda;ja=a(1016).default;ya=a(1017).default;ra=a(107).default;Y=a(107).lca;pa=a(107).mca;T=a(107).nca;R=a(107).oca;ea=a(1018).default;sa=a(1019).default;la=a(107).Cda;Ka=a(107).wda;Ua=a(1020).default;$a=a(1021).default;Za=a(1022).default;cb=a(441).default;Va=a(442).default;a(155);a(273);a(274);a(272);a=a(1023).default;c.Ra=!0;c.prototype=new K();c.prototype.constructor=c;f.Ra=!0;f.prototype=new K();f.prototype.constructor=f;k.Ra=!1;k.prototype=new K();k.prototype.constructor=k;k.prototype.parse=function(){var Qa;this.zc();1 === this.version?(this.u.Wd(),this.u.Wd(),this.W=this.u.Ca(),this.duration=this.u.Wd()):(this.u.Ca(),this.u.Ca(),this.W=this.u.Ca(),this.duration=this.u.Ca());Qa=this.u.$c() & 32767;this.language=String.fromCharCode(96 + (Qa >>> 10),96 + (Qa >>> 5 & 31),96 + (Qa & 31));return !0;};m.Ra=!1;m.prototype=new K();m.prototype.constructor=m;m.prototype.Oha=function(){this.zc();this.u.Ca();this.W=this.u.Ca();0 === this.version?(this.wV=this.u.Ca(),this.PV=this.u.Ca()):(this.wV=this.u.Wd(),this.PV=this.u.Wd());this.v9a=this.u.$c();this.UY=this.u.$c();};m.prototype.Cga=function(Qa,xa){var Ea,Na,Xa;Ea=this.W;Qa=Qa && Qa.W || Ea;Na=Qa / Ea;Ea=this.u.dB(xa,12,!1);Xa=1 === Na?this.u.dB(xa,12,!1):H.from(Uint32Array,{length:xa},function(){var hb;hb=Math.round(this.u.Ca() * Na);this.u.offset+=8;return hb;},this);this.ria(xa,Xa,Ea,Qa);};m.prototype.ria=function(Qa,xa,Ea,Na){if(this.tJ){Na=this.tJ * Na / 1E3;for(var Xa=0,hb=1;hb < Qa;hb++){Math.abs(xa[Xa] - Na) > Math.abs(xa[Xa] + xa[hb] - Na)?(xa[Xa]+=xa[hb],Ea[Xa]+=Ea[hb]):(++Xa,Xa !== hb && (xa[Xa]=xa[hb],Ea[Xa]=Ea[hb]));}++Xa;xa=new Uint32Array(xa.buffer.slice(0,4 * Xa));Ea=new Uint32Array(Ea.buffer.slice(0,4 * Xa));}this.sizes=Ea;this.vd=xa;};m.prototype.parse=function(Qa){var xa,Ea,Na,Xa;this.Oha();this.va=Qa.va;xa=this.W;Ea=this.va && this.va.W || xa;Na=this.UY;Xa=this.startOffset + this.length + this.PV;xa=new C(this.wV,xa).eg(Ea).pc;this.Y={W:Ea,ul:xa,offset:Xa};this.Cga(this.va,Na);this.Y.vd=this.vd;this.Y.sizes=this.sizes;Qa.Vs=this;return !0;};d.Ra=!1;d.prototype=new K();d.prototype.constructor=d;d.prototype.parse=function(){var Qa;this.Gi=[];this.yua=[];Qa=(this.length - 11) / 2;this.u.sb();this.u.sb();this.u.sb();for(var xa=0;xa < Qa;xa++){this.Gi.push(this.u.sb());this.yua.push(this.u.sb());}return !0;};h.Ra=!1;h.prototype=new K();h.prototype.constructor=h;h.prototype.parse=function(){this.zc();this.u.offset+=4;this.aI=this.u.offset;this.wj=this.u.Ava(16);this.wj.toString=g;return !0;};l.Ra=!1;l.prototype=new K();l.prototype.constructor=l;l.prototype.parse=function(){this.zc();this.sg=this.u.$c();this.Csa=this.u.dB(this.sg,void 0,!0);return !0;};n.Ra=!1;n.prototype=new K();n.prototype.constructor=n;n.prototype.parse=function(Qa){var xa,Ea,Na,Xa,hb,wb;xa=Qa.Vs;G(xa);Qa=Qa.va;Ea=xa.W;xa=xa.UY;G(Qa);G(Ea);G(xa);this.zc();G(2 > this.version);this.sg=this.u.$c();this.Yu=new Uint16Array(xa + 1);Na=Qa.i7(Ea);Xa=Na / Ea;hb=Qa.eg(Na).pc;if(0 === this.version)for((this.nv=new Uint16Array(),this.Vd=new Uint32Array(),Qa=Ea=0);Qa <= xa;++Qa){if((this.Yu[Qa]=Ea,Qa < this.sg)){wb=this.u.sb();if(0 !== wb)for(Na=0;Na < wb;(++Na,++Ea)){this.nv[Ea]=Math.floor((this.u.Ca() + 1) * Xa) / hb;this.Vd[Ea]=this.u.Ca();}}}else if(1 === this.version)for((Na=this.u.wva(this.sg,10,!1),this.u.offset+=4,this.Vd=this.u.dB(this.sg,10,!1),this.u.offset-=8,this.nv=H.from(Uint16Array,{length:this.sg},function(){var Eb;Eb=Math.floor((this.u.Ca() + 1) * Xa) / hb;this.u.offset+=6;return Eb;},this),Ea=Qa=0);Qa <= xa;++Qa){for(;Ea < Na.length && Na[Ea] < Qa;){++Ea;}this.Yu[Qa]=Ea;}this.mi={Yu:this.Yu,nv:this.nv,Vd:this.Vd};return !0;};q.Ra=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;p.Ra=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;p.prototype.ju=function(){var Qa;Qa=this.ai("tfhd");Qa && (this.kk=Qa.vU?Qa.kk:this.parent.startOffset);return !0;};t.Ra=!1;t.prototype=new K();t.prototype.constructor=t;t.prototype.parse=function(){var Qa,Nb;Qa=this.u.offset;this.zc();if(1 === this.version){this.u.console.trace("translating vpcC box to draft equivalent");this.u.offset+=2;for(var xa=this.u.offset,Ea=this.u.sb(),Na=this.u.sb(),Xa=this.u.sb(),hb=this.u.sb(),wb=this.u.$c(),Eb=[],Fb=0;Fb < wb;++Fb){Eb=this.u.sb();}Fb=(Ea & 240) >>> 4;Nb=(Ea & 14) >>> 1;Ea&=1;Xa=16 === Xa?1:0;Na != hb && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Na + " and matrixCoefficients " + hb + " should be the same value!");hb=2;switch(Na){case 1:hb=2;break;case 6:hb=1;break;case 9:hb=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries " + Na + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.na.KB(this.version,Qa);this.na.KB(Fb << 4 | hb,xa++);this.na.KB(Nb << 4 | Xa << 1 | Ea,xa++);wb+=2;Eb.push(0,0);this.na.Eza(wb,!1);xa+=2;Eb.forEach(function(Cb){this.na.KB(Cb,xa++);});}return !0;};w.Ra=!1;w.prototype=new K();w.prototype.constructor=w;w.Yb="tfhd";Object.defineProperties(w.prototype,{vU:{get:function(){return this.flags & 1;}},zwa:{get:function(){return this.flags & 2;}},Xla:{get:function(){return this.flags & 8;}},$la:{get:function(){return this.flags & 16;}},Yla:{get:function(){return this.flags & 32;}}});w.prototype.parse=function(){this.zc();this.RJ=this.u.Ca();this.kk=this.vU?this.u.Wd():void 0;this.zwa && this.u.Ca();this.Ez=this.Xla?this.u.Ca():void 0;this.Gz=this.$la?this.u.Ca():void 0;this.Fz=this.Yla?this.u.Ca():void 0;return !0;};v.Ra=!1;v.prototype=new K();v.prototype.constructor=v;v.prototype.parse=function(){this.zc();this.hz=1 === this.version?this.u.Wd():this.u.Ca();return !0;};v.prototype.ya=function(Qa){var xa;xa=this.startOffset + 12;this.hz+=Qa;1 === this.version?this.na.Fza(this.hz,xa):this.na.kh(this.hz,xa);};x.Ra=!1;x.prototype=new K();x.prototype.constructor=x;Object.defineProperties(x.prototype,{aV:{get:function(){return this.flags & 1;}},tH:{get:function(){return this.flags & 4;}},lB:{get:function(){return this.flags & 256;}},mB:{get:function(){return this.flags & 512;}},oZ:{get:function(){return this.flags & 1024;}},iJ:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(){this.zc();this.zU=this.u.offset;this.Ob=this.u.Ca();this.pk=this.aV?this.u.WI():0;this.tH && this.u.Ca();this.mv=(this.lB?4:0) + (this.mB?4:0) + (this.oZ?4:0) + (this.iJ?4:0);this.Vz=this.u.offset;G(this.aV,"Expected data offset to be present in Track Run");G(this.length - (this.u.offset - this.startOffset) === this.Ob * this.mv,"Expected remaining data in box to be sample information");return !0;};x.prototype.It=function(Qa,xa,Ea){var Na,Xa,hb;Na=this.lB?this.u.Ca():Qa.Ez;Xa=this.mB?this.u.Ca():Qa.Gz;Qa=this.oZ?this.u.Ca():Qa.Fz;hb=0 === this.version?this.iJ?this.u.Ca():0:this.iJ?this.u.WI():0;return {ywa:hb,dZb:Qa,fWb:Ea + hb - (void 0 !== xa?xa:hb),Ik:Xa,ov:Na};};x.prototype.ya=function(Qa,xa,Ea,Na,Xa,hb,wb){var Eb,Fb,Nb,Cb;Eb=0;Fb=0;this.na.offset=this.Vz;for(Na=0;Na < Xa;++Na){Nb=this.It(xa,Cb,Fb);if(0 == Na)Cb=Nb.ywa;Eb+=Nb.Ik;Fb+=Nb.ov;}Na=Xa;Xa=this.u.offset;Nb=this.It(xa,Cb,Fb);this.hr=Na;this.Fxa=Fb;if(wb){if((this.Zq=this.pk + Eb,this.ij=0,Na === this.Ob))return !0;}else if((this.Zq=this.pk,this.ij=Eb,0 === Na))return !0;if(0 === Na || Na === this.Ob)return !1;this.Nz=!0;if(wb){this.ij+=Nb.Ik;for(wb=Na + 1;wb < this.Ob;++wb){Nb=this.It(xa,Cb,Fb);this.ij+=Nb.Ik;}this.na.offset=this.zU;this.Ob=Na;this.na.kh(this.Ob);this.na.$J(hb);this.tH && (this.u.offset+=4);this.Je(this.length - (Xa - this.startOffset),Xa);}else (xa=Xa - this.Vz,this.na.offset=this.zU,this.Ob-=Na,this.na.kh(this.Ob),this.pk+=Eb,this.na.$J(hb,this.pk),this.tH && (this.u.offset+=4),this.Je(xa,this.na.offset));Ea.Je(this.ij,Qa.kk + this.Zq);return !0;};x.prototype.cwa=function(Qa,xa,Ea,Na,Xa,hb){var Eb;if(Na){Na=this.Zq;for(var wb=this.Ob - 1;0 <= wb && this.Ob - wb <= Xa;--wb){this.na.offset=this.Vz + wb * this.mv;Eb=this.It(xa);if(Eb.ov != hb.duration){this.u.console.warn("Could not replace sample of duration " + Eb.ov + " with silence of duration " + hb.duration);break;}if(this.mB)(this.na.offset-=this.mv - (this.lB?4:0),this.na.kh(hb.Mk.byteLength));else if(hb.Mk.byteLength !== Eb.Ik){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Na-=Eb.Ik;Ea.kv(Eb.Ik,hb.Mk,Qa.kk + Na);}}else for((Na=this.Zq + this.ij,wb=0);wb < this.Ob && wb < Xa;++wb){this.na.offset=this.Vz + (wb + this.hr) * this.mv;Eb=this.It(xa);if(Eb.ov != hb.duration){this.u.console.warn("Could not replace sample of duration " + Eb.ov + " with silence of duration " + hb.duration);break;}if(this.mB)(this.na.offset-=this.mv - (this.lB?4:0),this.na.kh(hb.Mk.byteLength));else if(hb.Mk.byteLength !== Eb.Ik){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Ea.kv(Eb.Ik,hb.Mk,Qa.kk + Na);Na+=Eb.Ik;}};y.Ra=!1;y.prototype=Object.create(K.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{En:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(){this.zc();this.En && this.u.Vl();this.En && this.u.Ca();this.Zla=this.u.sb();this.Ob=this.u.Ca();this.u.eB(this.Ob);return !0;};y.prototype.ya=function(Qa,xa){if(Qa && 0 === this.Zla){Qa=xa?this.Ob - Qa:Qa;this.na.offset=this.startOffset + 13 + (this.En?8:0);this.Ob-=Qa;this.na.kh(this.Ob);this.gJ=0;if(xa)this.na.offset+=this.Ob;else {for(xa=0;xa < Qa;++xa){this.gJ+=this.na.sb();}this.na.offset-=Qa;}this.Je(Qa,this.u.offset);}return !0;};z.Ra=!1;z.prototype=Object.create(K.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{En:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(){this.zc();this.En && this.u.Vl();this.En && this.u.Ca();this.sg=this.u.Ca();G(1 === this.sg,"Expected a single entry in Sample Auxiliary Information Offsets box");this.pk=0 === this.version?this.u.WI():this.u.Dva();return !0;};z.prototype.ya=function(Qa,xa){this.pk+=Qa;this.na.offset=this.startOffset + 16 + (this.En?8:0) + (0 === this.version?0:4);this.na.$J(xa,this.pk);return !0;};A.Ra=!1;A.prototype=Object.create(K.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{iY:{get:function(){return this.flags & 1;}},nza:{get:function(){return this.flags & 2;}}});A.prototype.parse=function(){this.zc();this.iY && (this.u.Ca(),this.u.eB(16));this.Ob=this.u.Ca();return !0;};A.prototype.ya=function(Qa,xa){var Ea,Na;Ea=xa?this.Ob - Qa:Qa;this.na.offset=this.startOffset + 28 + (this.iY?20:0);this.Ob-=Ea;this.na.kh(this.Ob);Qa=this.na.offset;if(this.nza)for(Ea=xa?this.Ob:Ea;0 < Ea;--Ea){this.na.offset+=8;Na=this.na.$c();this.na.offset+=6 * Na;}else this.na.offset+=8 * (xa?this.Ob:Ea);xa?this.Je(this.length - (this.u.offset - this.startOffset),this.u.offset):this.Je(this.u.offset - Qa,Qa);};B.Ra=!1;B.prototype=Object.create(K.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.zc();return !0;};B.prototype.ya=function(Qa,xa,Ea){Ea?this.Je(xa - Qa,this.startOffset + 12 + Qa):this.Je(Qa,this.startOffset + 12);return !0;};E.Ra=!1;E.prototype=Object.create(K.prototype);E.prototype.constructor=E;E.prototype.parse=function(){this.zc();this.u.Vl();1 === this.version && this.u.Ca();this.sg=this.u.Ca();this.pv=[];for(var Qa=0;Qa < this.sg;++Qa){for(var xa=this.u.Ca(),Ea=this.u.Ca(),Na=0;Na < xa;++Na){this.pv.push(Ea);}}return !0;};E.prototype.ya=function(Qa,xa){this.pv=xa?this.pv.slice(0,Qa):this.pv.slice(Qa);Qa=this.pv.reduce(function(Ea,Na){0 !== Ea.length && Ea[Ea.length - 1].group === Na || Ea.push({group:Na,count:0});++Ea[Ea.length - 1].count;return Ea;},[]);this.na.offset=this.startOffset + 16 + (1 === this.version?4:0);this.na.kh(Qa.length);Qa.forEach((function(Ea){this.na.kh(Ea.count);this.na.kh(Ea.group);}).bind(this));this.sg > Qa.length && this.Je(8 * (this.sg - Qa.length));this.sg=Qa.length;return !0;};D.Ra=!1;D.prototype=Object.create(K.prototype);D.prototype.constructor=D;ra={Xa:{moov:f,trak:c,mdia:c,mdhd:k,minf:c,encv:ra,schi:c,sidx:m,sinf:c,stbl:c,tenc:h,mvex:c,moof:q,traf:p,tfhd:w,trun:x,sbgp:E,sdtp:B,saiz:y,saio:z,tfdt:v,mdat:D,vmaf:d},Bya:{vpcC:t,SmDm:u("smdm"),CoLL:u("coll")},r_:{schm:ea},hJ:{}};F([sa,N,O,P,la,Ka,M,L,cb,Va,J,S,I,Q,a],ra.Xa);F([U,ja,Y,pa,T,R,Z,ya,$a,Ua],ra.hJ);F([sa,ea],ra.r_);ra.Xa[b.kS]=h;ra.Xa[b.ny]=l;ra.Xa[b.my]=n;ra.Xa[b.jS]=A;ra.hJ[b.BF]=Za;ra.Fc=K;r.exports={Oq:ra};},function(r,b){function a(c,f){var k,m,d,g,h;if("number" !== typeof c || "number" !== typeof f)c=!1;else if(c && f){k=Math;m=k.abs;g=Math.abs(c);for(d=Math.abs(f);d;){h=d;d=g % d;g=h;}c=m.call(k,c * f / g);}else c=0;return c;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function c(f,k){"object" === typeof f?(this.mc=f.pc,this.ob=f.W):(this.mc=f,this.ob=k);}c.Na=function(f){return new c(f,1E3);};c.k_=function(f,k){return Math.floor(1E3 * f / k);};c.dta=function(f,k){return Math.floor(f * k / 1E3);};c.max=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(m,d){return m.greaterThan(d)?m:d;});};c.min=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(m,d){return m.lessThan(d)?m:d;});};Object.defineProperties(c.prototype,{pc:{get:function(){return this.mc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{W:{get:function(){return this.ob;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return 1E3 * this.mc / this.ob;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Bh:{get:function(){return this.mc / this.ob;},enumerable:!0,configurable:!0}});c.prototype.eg=function(f){f/=this.W;return new c(Math.floor(this.pc * f),Math.floor(this.W * f));};c.prototype.add=function(f){var k;if(this.W === f.W)return new c(this.pc + f.pc,this.W);k=a(this.W,f.W);return this.eg(k).add(f.eg(k));};c.prototype.Ka=function(f){return this.add(new c(-f.pc,f.W));};c.prototype.vI=function(f){return new c(this.pc * f,this.W);};c.prototype.Ml=function(f){var k;if(this.W === f.W)return this.pc / f.pc;k=a(this.W,f.W);return this.eg(k).Ml(f.eg(k));};c.prototype.i7=function(f){return a(this.W,f);};c.prototype.Jva=function(){return new c(this.W,this.pc);};c.prototype.compare=function(f,k){var m;if(this.W === k.W)return f(this.pc,k.pc);m=a(this.W,k.W);return f(this.eg(m).pc,k.eg(m).pc);};c.prototype.equal=function(f){return this.compare(function(k,m){return k === m;},f);};c.prototype.V9=function(f){return this.compare(function(k,m){return k !== m;},f);};c.prototype.lessThan=function(f){return this.compare(function(k,m){return k < m;},f);};c.prototype.greaterThan=function(f){return this.compare(function(k,m){return k > m;},f);};c.prototype.mO=function(f){return this.compare(function(k,m){return k <= m;},f);};c.prototype.ms=function(f){return this.compare(function(k,m){return k >= m;},f);};c.prototype.toJSON=function(){return {ticks:this.pc,timescale:this.W};};c.prototype.toString=function(){return this.pc + "/" + this.W;};c.eb=new c(0,1);c.ox=new c(1,1E3);return c;})();b.O=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.u.offset+=6;this.u.$c();return !0;};return k;})(a(33).Fc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(23);r.__exportStar(a(155),b);r.__exportStar(a(272),b);r.__exportStar(a(273),b);r.__exportStar(a(274),b);r=a(273);c=a(274);a=a(272);b.pq={3:a.qR,4:r.kR,5:c.fda};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var m;this.u.$c();m=this.u.sb();this.Uxa=! !(m & 128);this.Tfa=! !(m & 64);this.xea=! !(m & 32);this.Uxa && this.u.$c();this.Tfa && this.u.eB(this.u.sb());this.xea && this.u.$c();this.FT();return !0;};k.tag=3;return k;})(a(155).gF);b.qR=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.Fta=this.u.sb();this.u.sb();this.u.$c();this.u.sb();this.maxBitrate=this.u.Ca();this.Fja=this.u.Ca();this.FT();return !0;};k.tag=4;return k;})(a(155).gF);b.kR=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(155);f=a(271);a=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.QY=function(){15 !== this.u.yc(4) || this.u.yc(24);};m.prototype.parse=function(d){if(this.Dqa(d) && 64 === d.Fta)switch((this.Cn=this.OY(),this.QY(),this.u.yc(4),this.Yma=5 === this.Cn || 29 === this.Cn?5:-1,0 < this.Yma && (this.QY(),this.Cn=this.OY(),22 === this.Cn && this.u.yc(4)),this.Cn)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.WV=this.u.yc(1),(this.ema=this.u.yc(1)) && this.u.yc(14),this.u.yc(1),this.Wz=3 === this.Cn?256:23 === this.Cn?this.WV?480:512:this.WV?960:1024);}this.skip();return !0;};m.prototype.OY=function(){var d;d=this.u.yc(5);31 === d && (d=32 + this.u.yc(6));return d;};m.prototype.Dqa=function(d){return d.tag === f.kR.tag;};m.tag=5;return m;})(r.gF);b.fda=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var f;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(k,m){return k + m.byteLength;},0);f=new Uint8Array(c);a.reduce(function(k,m){f.set(new Uint8Array(m),k);return k + m.byteLength;},0);return f.buffer;};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(444);f=a(268);k=a(445);r=(function(){function m(d,g,h){this.console=d;this.stream=g;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}m.prototype.parse=function(d){var g;g=new k.lR(this.view.byteLength);this.wc=new c.dF(f.Oq.Xa,g,this.view,this.console,{II:!0});d=this.wc.parse(d);this.Xa=this.wc.Xa;return d;};return m;})();b.Cr=r;},function(r,b,a){var f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.I0=void 0;f=a(45);k=a(112);c.Ro=function(){var m;m={};m[f.P.tK]="avc1.4D401E";m[f.P.jF]="avc1.4D401F";m[f.P.vda]="avc1.4D4028";m[f.P.Xhb]="hev1.2.6.L90.B0";m[f.P.Yhb]="hev1.2.6.L93.B0";m[f.P.Zhb]="hev1.2.6.L120.B0";m[f.P.$hb]="hev1.2.6.L123.B0";m[f.P.W0]="hev1.2.6.L90.B0";m[f.P.Y0]="hev1.2.6.L93.B0";m[f.P.$0]="hev1.2.6.L120.B0";m[f.P.b1]="hev1.2.6.L123.B0";m[f.P.HR]="hev1.2.6.L150.B0";m[f.P.JR]="hev1.2.6.L153.B0";m[f.P.X0]="hev1.2.6.L90.B0";m[f.P.Z0]="hev1.2.6.L93.B0";m[f.P.a1]="hev1.2.6.L120.B0";m[f.P.c1]="hev1.2.6.L123.B0";m[f.P.IR]="hev1.2.6.L150.B0";m[f.P.KR]="hev1.2.6.L153.B0";m[f.P.wR]="hev1.2.6.L90.B0";m[f.P.yR]="hev1.2.6.L93.B0";m[f.P.vK]="hev1.2.6.L120.B0";m[f.P.BR]="hev1.2.6.L123.B0";m[f.P.DR]="hev1.2.6.L150.B0";m[f.P.FR]="hev1.2.6.L153.B0";m[f.P.xR]="hev1.2.6.L90.B0";m[f.P.zR]="hev1.2.6.L93.B0";m[f.P.AR]="hev1.2.6.L120.B0";m[f.P.CR]="hev1.2.6.L123.B0";m[f.P.ER]="hev1.2.6.L150.B0";m[f.P.GR]="hev1.2.6.L153.B0";m[f.P.v0]=k.Hd.u0;m[f.P.x0]=k.Hd.$ca;m[f.P.iR]=k.Hd.ada;m[f.P.A0]=k.Hd.bda;m[f.P.C0]=k.Hd.cda;m[f.P.E0]=k.Hd.dda;m[f.P.w0]=k.Hd.u0;m[f.P.y0]=k.Hd.$ca;m[f.P.z0]=k.Hd.ada;m[f.P.B0]=k.Hd.bda;m[f.P.D0]=k.Hd.cda;m[f.P.F0]=k.Hd.dda;m[f.P.hEa]="avc1.640016";m[f.P.tR]="avc1.64001E";m[f.P.uR]="avc1.64001F";m[f.P.uda]="avc1.640028";m[f.P.Vfa]=k.Hd.FS;m[f.P.GS]=k.Hd.FS;m[f.P.HS]=k.Hd.FS;m[f.P.g2]=k.Hd.FS;m[f.P.Nza]=k.Hd.yl;m[f.P.Oza]=k.Hd.yl;m[f.P.NB]=k.Hd.yl;m[f.P.OB]=k.Hd.yl;m[f.P.$_]=k.Hd.yl;m[f.P.a0]=k.Hd.yl;m[f.P.b0]=k.Hd.yl;m[f.P.c0]=k.Hd.yl;return m;};b.I0=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ed=void 0;r=b.ed || (b.ed={});r.dvb="bitraterestriction";r.mTa="cdnsel";r.AM="chgstrm";r.debug="debug";r.NCb="dlreport";r.nH="endplay";r.Aqa="intrplay";r.eE="midplay";r.E$="playbackaborted";r.b9a="renderstrmswitch";r.uP="repos";r.CP="resumeplay";r.RZb="serversel";r.LE="startplay";r.Pab="statechanged";r.transition="transition";r.Ttb="asereport";r.iSa="audioswitch";r.ESa="blockedautoplay";r.config="config";r.pma="dlreq";r.Ubc="ftlProbeError";r.t1b="subtitleerror";r.u1b="subtitleqoe";r.o2b="timedtextrebuffer";r.Tbb="timedtextswitch";r.Dab="speedchanged";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DFa="IsTypeSupportedProviderFactorySymbol";b.BJa="PlatformIsTypeSupportedSymbol";},function(r,b,a){var f,k,m,d,g,h;function c(l,n,q,p,u){var t;t=k.ro.call(this,l,n,q,u) || this;t.cast=p;t.type=m.pj.Sca;l=c.xmb;t.L_[m.ue.XK]=d.Hd.vR + "; " + l;t.L_[m.ue.ey]=d.Hd.ey + "; " + l;l=d.Hd.$fb.find(function(w){return t.nz(h(c.rQ,w));});t.L_[m.ue.qt]=l;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.wBa=b.p0=b.Tca=void 0;f=a(45);k=a(188);m=a(26);r=a(113);d=a(112);g=a(189);h=new r.lC().format;na(c,k.ro);c.rla=function(l,n){return (n=c.F9a(n))?{isTypeSupported:n}:l;};c.F9a=function(l){var n;if("undefined" !== typeof l){if(l.framework && l.framework.CastReceiverContext && l.framework.CastReceiverContext.getInstance){n=l.framework.CastReceiverContext.getInstance();if(n && n.canDisplayType)return n.canDisplayType.bind(n);}if(l.framework && l.framework.platform && l.framework.platform.canDisplayType)return l.framework.platform.canDisplayType;if(l.receiver && l.receiver.platform && l.receiver.platform.canDisplayType)return l.receiver.platform.canDisplayType;if(l.__platform__ && l.__platform__.canDisplayType)return l.__platform__.canDisplayType;}};c.prototype.Gx=function(l){var n,q;n=this.cast.__platform__.display && this.cast.__platform__.display.getHdcpVersion;if(this.config().mdb){q={};if(n)return (q[m.Tj.rF]="1.4",q[m.Tj.Kv]="2.2",n().then(function(p){return p === q[l];}));n=this.S3a(l);n=h(c.rQ,d.Hd.vR) + " hdcp=" + n;n=this.nz.bind(this,n);return Promise.resolve(n());}return Promise.resolve(!1);};c.prototype.wN=function(l){return this.L_[l];};c.prototype.HN=function(){var l;l=this;return this.config().mdb?this.Gx(m.Tj.Kv).then(function(n){return n?Promise.resolve(m.Tj.Kv):l.Gx(m.Tj.rF).then(function(q){return q?Promise.resolve(m.Tj.rF):Promise.resolve(void 0);});}).then(function(n){return l.UU(n);}):Promise.resolve(void 0);};c.prototype.Ro=function(){var l,n;l=k.ro.prototype.Ro.call(this);n=c.aLb;l[f.P.vda]=["avc1.4D4028","width=1920; height=1080; "];l[f.P.HR]=["hev1.2.6.L150.B0","width=3840; height=2160; "];l[f.P.JR]=["hev1.2.6.L153.B0","width=3840; height=2160; "];l[f.P.IR]=["hev1.2.6.L150.B0","width=3840; height=2160; "];l[f.P.KR]=["hev1.2.6.L153.B0","width=3840; height=2160; "];l[f.P.wR]=["hev1.2.6.L90.B0",n];l[f.P.yR]=["hev1.2.6.L93.B0",n];l[f.P.vK]=["hev1.2.6.L120.B0",n];l[f.P.BR]=["hev1.2.6.L123.B0",n];l[f.P.DR]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];l[f.P.FR]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];l[f.P.xR]=["hev1.2.6.L90.B0",n];l[f.P.zR]=["hev1.2.6.L93.B0",n];l[f.P.AR]=["hev1.2.6.L120.B0",n];l[f.P.CR]=["hev1.2.6.L123.B0",n];l[f.P.ER]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];l[f.P.GR]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];return l;};c.prototype.aZa=function(){return [g.Ze.V_,g.Ze.pEa,g.Ze.tK,g.Ze.jF];};c.prototype.vqa=function(){k.ro.prototype.vqa.call(this);!c.F9a(this.cast) && this.ho.push(g.Ze.ey);};b.Tca=c;c.aLb="eotf=smpte2084";c.xmb="width=3840; height=2160; ";b.p0="CastSDKSymbol";b.wBa="CastEmeSymbol";},function(r,b,a){var f,k,m;function c(){this.type=f.Cv.ly;}Object.defineProperty(b,"__esModule",{value:!0});b.aC=void 0;f=a(26);r=a(113);k=a(111);m=new r.lC();c.rla=function(){return {isTypeSupported:function(d){var g;try{if(-1 == d.toLowerCase().indexOf("codec"))return nb.MSMediaKeys.isTypeSupported(d,"video/mp4");g=d.split("|");return 1 === g.length?nb.MSMediaKeys.isTypeSupported(k.Lb.qy,d):"probably" === c.gya(g[0],g[1]);}catch(h){return !1;}}};};c.Y4=function(d,g,h){g=m.format(c.rQ,g);if(0 === h.length)return g;h=m.format('features="{0}"',h.join());return m.format("{0}|{1}{2}",d,g,h);};c.gya=function(d,g){var h;try{h=nb.MSMediaKeys.isTypeSupportedWithFeatures?nb.MSMediaKeys.isTypeSupportedWithFeatures(d,g):"";}catch(l){h="exception";}return h;};b.aC=c;c.rQ='video/mp4;codecs="{0},mp4a";';},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rda=b.VB=void 0;r=b.VB || (b.VB={});r.Cmb="unknown";r.Pza="absent";r.JKa="present";r.Error="error";b.rda="ExternalDisplayLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.f2="TransportConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OPb=b.tO=b.MPb=void 0;b.MPb=function(a){return a;};b.tO=function(a){return a;};b.OPb=function(a){return Object.assign({},a);};},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w,v;function c(x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,N,O,P,S){this.j=x;this.trackId=y;this.rA=z;this.dc=A;this.yi=B;this.Mg=E;this.Dc=D;this.Jw=F;this.qma=G;this.Vf=C;this.displayName=H;this.xl=K;this.DJ=M;this.variant=I;this.VI=Q;this.profile=L;this.Pu=J;this.LO=N;this.cGb=O;this.k8=P;this.zu=S;this.type=d.Ki.lba;this.ht=void 0;this.wk=!(!L || L != h.Dl.JK);this.Uh={bcp47:C,trackId:y,downloadableId:D,isImageBased:this.wk};this.log=(0,g.Qh)(x,"TimedTextTrack");this.state=v.v1;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.PF=void 0;f=a(1);k=a(74);m=a(14);d=a(91);g=a(8);h=a(45);l=a(22);n=a(18);q=a(1085);p=a(15);u=a(3);t=a(1086);w=a(1089);(function(x){x[x.v1=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.qF=2]="LOADED";x[x.TR=3]="LOAD_FAILED";})(v || (v={}));c.prototype.O7=function(){var x;x=this;if(this.j.state.value === p.Tb.CLOSED || this.j.state.value === p.Tb.CLOSING)return Promise.reject({aa:!1});if(this.wk)return this.vMb();this.kWa || (this.kWa=this.mWa());return this.kWa.then(function(y){return x.wMb(y);});};c.prototype.getState=function(){return this.state;};c.prototype.Iq=function(){return this.LO;};c.prototype.ip=function(){return this.cGb;};c.prototype.ks=function(x,y){var z;try{return null === (z=this.bya) || void 0 === z?void 0:z.ks(x,y);}catch(A){this.log.error("error in getSubtitlesCount",A,{start:x,end:y,isImageBased:this.wk});}};c.prototype.NJb=function(){var x,y,z;if(!(0,n.Zc)(this.$))try{z=null === (y=null === (x=this.bya) || void 0 === x?void 0:x.xH(0)) || void 0 === y?void 0:y[0];this.$=null === z || void 0 === z?void 0:z.displayTime;}catch(A){this.log.error("exception in getStartPts",A);}return this.$;};c.prototype.Maa=function(x){return this.j.state.value === p.Tb.CLOSING || this.j.state.value === p.Tb.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.kc.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.aVa=function(x){var y,z,A;y=this;z=(0,g.Qh)(this.j,"TimedTextTrack");z.warn=z.trace.bind(z);z.info=z.debug.bind(z);z=(0,q.bVa)(this.j,z,this.request,this);A=new (m.config.n4b && !this.wk?t.WFa:w.default)(z,x);A.on("ready",function(){y.bya=A;});return A;};c.prototype.vMb=function(){var x,y,z,A,B,E,D;x=this;if(!this.t1a){this.state=v.LOADING;y={profile:"nflx-cmisc",url:"",qSa:!1,Ssa:this.Pu.offset,P4a:this.Pu.length,Fd:this.j.mediaTime.value || 0,bufferSize:m.config.SLb,xaa:{V:this.j.aW()}};z=(this.qma || []).filter(function(F){return (F.id in x.Jw);}).sort(function(F,G){return F.dc - G.dc;}).map(function(F){return F.id;});A=0;B={};E=!0;D=function(F,G){var C;if((0,n.Zc)(F)){if(E || x.Maa(x.su(x.cu,"","image"))){E=!1;x.Pu.url=x.Jw[x.cu];y.url=x.Pu.url;B[F]=(B[F] || 0) + 1;C=x.aVa(y);C.on("ready",function(){G({aa:!0,track:x});});C.on("error",function(H){var K;H=Object.assign({aa:!1},H);K=x.su(x.cu,x.Pu.url,"image");K.details={midxoffset:x.Pu.offset,midxsize:x.Pu.length};K.errorstring=H.errorString;B[F] <= m.config.Sbb?(x.i6(K,!0,"retry with current cdn"),x.Gja(B[F]).then(function(M){x.log.trace("retry timed text download after " + M,x.su(x.cu,"","image"));D(x.cu,G);})):(x.cu=z[A++],x.cu?(x.i6(K,!0,"retry with next cdn"),x.Gja(B[F]).then(function(M){x.log.trace("retry timed text download after " + M,x.su(x.cu,"","image"));D(x.cu,G);})):(x.i6(K,!1,"all cdns tried"),G({aa:!1,HRb:"all cdns failed for image subs",track:x})));});C.start();}else G({aa:!1,aborted:!0});}else (G({aa:!1,HRb:"cdnId is not defined for image subs downloadUrl"}),x.i6(x.su(0,"","image"),!1,"cdnId is undefined"));};this.cu=z[A++];this.t1a=new Promise(function(F,G){D(x.cu,function(C){C.aa?(x.log.info("Loaded image subtitle manager"),x.state=v.qF,F(C)):(x.log.error("Unable to load image subtitles manager",C),x.state=v.TR,G(C));});});}return this.t1a;};c.prototype.wMb=function(x){var y,z;y=this;z=this.j.HB;(0,l.jb)(z);return new Promise(function(A,B){var E;E=y.aVa({profile:y.profile,xml:x,Zi:m.config.tya,preferences:m.config.kba,Fd:y.j.mediaTime.value || 0,qSa:!1,videoSize:z});E.on("ready",function(){A(E);}).on("error",function(D){B({aa:!1,error:D});}).start();}).then(function(){y.state=v.qF;return {aa:!0,track:y};}).catch(function(A){y.log.error("Unable to parse timed text track",(0,u.Iv)(A),y.Uh,{url:A.url});y.state=v.TR;A.reason="parseerror";A.track=y;throw A;});};c.prototype.i6=function(x,y,z){x=Object.assign({},x,{Afc:y,status:z});this.j.fireEvent(p.ea.fQ,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,y){var z;z=this;this.log.trace("Downloading",x);x={url:x.url,offset:x.offset,length:x.size,ht:this.ht,responseType:k.HW,headers:{},uc:this.coa(this.cu)};this.j.F7.download(x,function(A){z.log.trace("imgsub: request status " + A.aa);A.aa?y(null,new Uint8Array(A.content)):y({ta:A.ta,uf:A.uf});});};c.prototype.su=function(x,y,z){return {currentCdnId:x,url:y,profile:this.profile,dlid:this.Dc,subtitletype:z,bcp47:this.Vf,trackId:this.trackId,cdnCount:Object.keys(this.Jw).length,isImageBased:this.wk};};c.prototype.coa=function(x){return (this.qma || []).find(function(y){return y.id === x;});};c.prototype.mWa=function(){var A,B;function x(E){return f.__awaiter(A,void 0,void 0,function F(){var G,C,H;C=this;return Ja(F,function(K){G=z();H=C.su(E.uc.id,E.url,"text");H.errorstring=E.reason;return G && C.Maa(H)?K.return(C.Gja(B[G.id]).then(y)):K.return(Promise.reject({aa:!1,aborted:!0}));});});}function y(){return f.__awaiter(A,void 0,void 0,function D(){var F,G,C;G=this;return Ja(D,function(H){C=(F=z()) && G.Jw[F.id];return F && C?(B[F.id]=(B[F.id] || 0) + 1,H.return(G.WCb(C,F).catch(x))):H.return(Promise.reject({}));});});}function z(){return (A.qma || []).find(function(E){return ! !((B[E.id] || 0) < m.config.Sbb && A.Jw[E.id]);});}A=this;this.state=v.LOADING;B={};return y();};c.prototype.Gja=function(x){return new Promise(function(y){var z;z=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return y(z);},z);});};c.prototype.WCb=function(x,y){var z;z=this;this.log.trace("Downloading",y && ({uc:y.id}),this.su(y.id,x,"text"));return new Promise(function(A,B){var E;E={responseType:k.Ypa,url:x,track:z,uc:y,jD:"tt-" + z.Vf};z.j.F7.download(E,function(D){D.aa?A(D.content):(D.reason="downloadfailed",D.url=E.url,D.track=z,D.uc=y,B(D));});});};b.PF=c;c.jC=v;},function(r,b,a){var c,f,k,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.Hza=void 0;c=a(8);f=a(3);k=a(479);m=a(480);d=a(63);b.Hza=function(g,h){var l,n;try{n=(0,k.ceb)(g);}catch(q){c.log.error("xml2xmlDoc exception",q);}(0,d.Xf)(function(){if(n && n.documentElement)try{l=(0,m.deb)(n);}catch(q){c.log.error("xmlDoc2js exception",q);}(0,d.Xf)(function(){l?h({aa:!0,object:l}):h({aa:!1,ta:f.M.ODa});});});};},function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},Voa:function(){return this.buffer.length - this.position;},fB:function(){return this.buffer[this.position++];},Xh:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Xq:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},zva:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},Ah:function(){return this.Xq(2);},Yq:function(){return this.Xq(4);},mP:function(){return this.Xq(8);},yx:function(a){for(var c,f="";a--;){c=this.fB();f+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return f;},Cva:function(a){for(var c=0,f=0;f < a;f++){c+=this.fB() << (f << 3);}return c;},lP:function(){return this.Cva(4);},S_:function(a){this.GQ(a,2);},MB:function(a){this.GQ(a,4);},Xba:function(a){this.buffer[this.position++]=a;},GQ:function(a,c){this.position+=c;for(var f=1;f <= c;f++){this.buffer[this.position - f]=a & 255;a=Math.floor(a / 256);}},LB:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},R_:function(a){for(var c=a.length,f=0;f < c;f++){this.buffer[this.position++]=a[f];}},FQ:function(a,c){this.R_(a.Xh(c));}};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pGa="LogMessageRulerConfigSymbol";b.rGa="LogMessageRulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qea="MilestonesEventBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.w1="NetworkMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nea="PboLicenseResponseTransformerSymbol";},function(r,b,a){var d,g,h,l,n,q;function c(p,u,t,w){this.za=p;this.wW=u;this.Da=t;this.profile=w;}function f(){}function k(){}function m(){}Object.defineProperty(b,"__esModule",{value:!0});b.kJa=b.F1=void 0;r=a(1);d=a(0);g=a(38);h=a(5);l=a(13);n=a(19);a=a(95);m.prototype.encode=function(p){return {downloadableId:p.Dc,duration:p.duration};};m.prototype.decode=function(p){return {Dc:p.downloadableId,duration:p.duration};};k.prototype.encode=function(p){return {total:p.total,totalContentTime:p.NJ,audio:p.audio.map(new m().encode),video:p.video.map(new m().encode),text:p.text.map(new m().encode)};};k.prototype.decode=function(p){var u;return {total:p.total,NJ:null !== (u=p.totalContentTime) && void 0 !== u?u:p.total,audio:p.audio.map(new m().decode),video:p.video.map(new m().decode),text:p.text.map(new m().decode)};};f.prototype.encode=function(p){return {type:p.type,href:p.href,xid:p.ca,movieId:p.K,position:p.position,clientTime:p.JU,sessionStartTime:p.xZ,videoTrackId:p.BQ,audioTrackId:p.Dn,timedTextTrackId:p.mQ,mediaId:p.xO,playTimes:new k().encode(p.sY),trackId:p.trackId,sessionId:p.sessionId,appId:p.appId,sessionParams:p.Vm,mdxControllerEsn:p.Dsa,profileId:p.profileId};};f.prototype.decode=function(p){return {type:p.type,href:p.href,ca:p.xid,K:p.movieId,position:p.position,JU:p.clientTime,xZ:p.sessionStartTime,BQ:p.videoTrackId,Dn:p.audioTrackId,mQ:p.timedTextTrackId,xO:p.mediaId,sY:new k().decode(p.playTimes),trackId:p.trackId,sessionId:p.sessionId,appId:p.appId,Vm:p.sessionParams,Dsa:p.mdxControllerEsn,profileId:p.profileId};};b.F1=f;c.prototype.create=function(p){var u,t,w,v,x;x=Object.assign(Object.assign({},null !== (u=p.cb.Vm) && void 0 !== u?u:{}),{uiVersion:this.wW().rq.Kx});return {href:p.oa && p.oa.yk?p.oa.yk.jW("events").href:"",type:"online",ca:p.ca.toString(),K:p.K,position:Math.floor(p.YU || 0),JU:this.za.vZ.da(h.la),xZ:p.UH?p.UH.da(h.la):-1,BQ:null === (t=p.Ag.value) || void 0 === t?void 0:t.trackId,Dn:null === (w=p.tc.value) || void 0 === w?void 0:w.trackId,mQ:null === (v=p.kc.value) || void 0 === v?void 0:v.trackId,xO:void 0,sY:this.fJb(p),trackId:void 0 !== p.Pj?p.Pj.toString():"",sessionId:this.wW().sessionId || this.Da.id,appId:this.wW().appId || this.Da.id,Vm:x,profileId:this.profile};};c.prototype.nAb=function(p,u){return Object.assign({},this.create(p),{Dsa:u && u.U4});};c.prototype.load=function(p){return new f().decode(p);};c.prototype.Qoa=function(p){return p.map(function(u){return {Dc:u.downloadableId,duration:u.duration};});};c.prototype.fJb=function(p){return (p=p.Ul)?(p=p.eJb(),{total:p.total,NJ:p.totalContentTime,audio:this.Qoa(p.audio),video:this.Qoa(p.video),text:this.Qoa(p.timedtext)}):{total:0,NJ:0,video:[],audio:[],text:[]};};q=c;q=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(g.di)),r.__param(1,(0,d.l)(l.ad)),r.__param(2,(0,d.l)(n.md)),r.__param(3,(0,d.l)(a.uS))],q);b.kJa=q;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qJa="PboPlaydataValidatorSymbol";b.hJa="PboPlaydataArrayValidatorSymbol";b.jJa="PboPlaydataCollectionValidatorSymbol";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.q0=void 0;f=a(11);c.ola=function(k){var m;if(f.Be.queryCommandSupported && f.Be.queryCommandSupported("copy")){m=f.Be.createElement("textarea");m.textContent=k;m.style.position="fixed";f.Be.body.appendChild(m);m.select();try{f.Be.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{f.Be.body.removeChild(m);}}};b.q0=c;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Zda=void 0;b.Zda=a;a.Cgb="display";a.Tfb="console";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eX=void 0;b.eX=function(a,c,f){var k;if(f.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");k=f.get;f.get=function(){var m,d;m=k.apply(this,arguments);d={enumerable:f.enumerable,value:m};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return m;};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lfa=b.PK=void 0;r=b.PK || (b.PK={});r.V1b="taskstart";r.T1b="taskabort";r.U1b="taskfail";r.W1b="tasksuccess";b.lfa="PreparerTaskSchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qca="CacheManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jAa="AsePrefetcherAdapterSymbol";b.kAa="AsePrefetcherProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qea="PboPublisherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vca=b.ee=void 0;r=b.ee || (b.ee={});r[r.xp=0]="startPlayback";r[r.tq=1]="endPlayback";r[r.oo=2]="underflow";b.vca="AseIntegrationFactorySymbol";},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p;Object.defineProperty(b,"__esModule",{value:!0});b.zJ=void 0;c=a(12);f=a(14);k=a(62);m=a(51);d=a(3);g=a(22);h=a(8);l=a(24);n=a(11);q=a(303);p=a(18);r=a(31);h.pa.get(r.oh).register(d.N.cFa,function(u){var v,x,y;function t(){var z;t=c.Al;z=setInterval(w,f.config.rPb);k.we.addListener(k.Pl,function(A){A && A.isPopStateEvent?v.trace("popstate event, Lock timers can stay"):((0,l.ve)(x,function(B,E){localStorage.removeItem(E.ys);}),clearInterval(z));},c.GF);}function w(){var z;z=(0,m.J4)();(0,l.ve)(x,function(A,B){!1;A=localStorage.getItem(B.ys);(A=JSON.parse(A))?A.updated=z:A={updated:z,sessionId:y,count:1};localStorage.setItem(B.ys,JSON.stringify(A));});}(0,g.jb)(q.storage);v=(0,h.aj)("StorageLock");x={};y=Date.now() + "-" + Math.floor(1E6 * Math.random());b.zJ={Xy:function(z,A,B){var D,F,G,C,H,K,M,I,Q,L;function E(J){localStorage.setItem(G,JSON.stringify(J));J={ys:G};x[G]=J;v.trace("Lock acquired",{Name:J.ys});t();A({aa:!0,M8:J});}D=this;B=void 0 === B?!1:B;if(localStorage){F=(0,m.J4)();G="lock-" + z;C={updated:F,sessionId:y,count:1};try{if((G in localStorage)){H=localStorage.getItem(G);K=0;M=JSON.parse(H);(0,p.tA)(M.updated) && (K=M.updated);I=(0,n.wF)(F - K) * c.cm;Q=y === M.sessionId;if(I < f.config.p3a){if(Q)(M.count+=1,v.debug("Incremented lock count for existing playbackSession",{id:y,count:M.count}),M.updated=F,E(M));else if(B){L=f.config.p3a - I + c.cm;v.error("Waiting until current expiration to confirm whether lock is still active",{id:y,count:M.count,Epoch:F,LockEpoch:K,waitTimeoutMs:L});nb.setTimeout(function(){return D.Xy(z,A,!1);},L);}else A({aa:!1});}else (v.error("Lock was expired or invalid, ignoring",{Epoch:F,LockEpoch:K}),E(C));}else E(C);}catch(J){v.error("Error acquiring Lock",{errorSubCode:d.M.Qk,errorDetails:(0,l.wd)(J)});A({aa:!0});}}else (n.Jra?v.error("Local storage access exception",{errorSubCode:d.M.cmb,errorDetails:(0,l.wd)(n.Jra)}):v.error("No localstorage",{errorSubCode:d.M.dmb}),A({aa:!0}));},release:function(z,A){var B,E;(0,g.jb)(x[z.ys] == z);if(localStorage){try{B=localStorage.getItem(z.ys);E=JSON.parse(B);1 < E.count?(--E.count,localStorage.setItem(z.ys,JSON.stringify(E)),v.trace("Lock count decremented",{Name:z.ys,count:E.count})):(localStorage.removeItem(z.ys),delete x[z.ys],v.trace("Lock released",{Name:z.ys}));}catch(D){v.error("Unable to release Lock",{Name:z.ys},D);}A && A(c.$e);}}};f.config.M5?b.zJ.Xy("session",function(z){b.zJ.u$a=z;u(c.$e);}):u(c.$e);});},function(r,b,a){var c,f,k,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(14);f=a(12);k=a(531);r=a(3);m=a(532);d=a(534);g=a(8);a=a(31);b.storage=b.storage || void 0;g.pa.get(a.oh).register(r.N.bFa,function(h){var l;switch(c.config.U0b){case "idb":l=m.Sab;break;case "none":l=k.Uab;break;case "ls":l=d.Tab;}l(function(n){n.aa?(b.storage=n.storage,h(f.$e)):h(n);});});},function(r,b,a){var k,m,d,g,h,l,n,q,p,u,t,w;function c(v,x){var z;function y(){function A(B,E){return E.xe && 0 !== E.xe.length && E.xe[0].gI?(0,k.hB)(v,E).then(function(){z.trace("Successfully released license for session",JSON.stringify(E));return B?B.ZY(E):Promise.resolve();}).catch(function(D){z.error("Unable to send stop command for session",JSON.stringify({bc:E,error:D}));throw D;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),B?B.ZY(E):Promise.resolve());}f(z).then(function(B){var E;E=B.E5.filter(function(D){return !1 === D.active;}).map(function(D){return A(B,D);});Promise.all(E).then(function(){z.info("release drm session completed for " + E.length + " entries");x(m.$e);}).catch(function(D){D=D || ({});D.DrmCacheSize=E.length;z.error("Unable to release one or more DRM session data",D);x(m.$e);});}).catch(function(B){z.error("Unable to load DRM session data",B);x(m.$e);});}z=(0,l.aj)("PlayDataManager");x=x || m.Al;d.config.Cp?x(m.$e):y();}function f(v){var x;if(!b.tma){x=l.pa.get(n.Rca);b.tma=new Promise(function(y,z){x.v8a().then(function(){y(x);}).catch(function(A){v.error("Unable to load DRM data for license release",A);z(A);});});}return b.tma;}Object.defineProperty(b,"__esModule",{value:!0});b.DJa=b.CJa=b.tma=void 0;k=a(305);m=a(12);d=a(14);g=a(62);h=a(35);l=a(8);r=a(3);n=a(208);q=a(156);p=a(15);u=a(50);t=a(31);w=a(204);b.CJa=function(v){var z,A,B,E,D,F;function x(){A || (v.Ed("pdsb"),A=l.pa.get(q.oS)().then(function(G){E=G;v.Ed("pdsc");return G;}).catch(function(G){z.error("Unable to initialize the playdata services",G);v.Ed("pdse");throw G;}));return A;}function y(){B=!0;E && E.close();g.we.removeListener(g.Pl,y);}z=(0,l.Qh)(v,"PlayDataManager");B=!1;D=l.pa.get(h.fC);if(!D.qK || !D.oK){F=l.pa.get(w.Wea)();D.qK=F.bc;D.oK=F.request;}v.Ed("pdctor");v.addEventListener(p.ea.qg,function(){g.we.removeListener(g.Pl,y);});v.addEventListener(p.ea.kX,function(){var G;if(!d.config.Cp && v.tf){G=v.T4.KUa();f(z).then(function(C){return C.RQa(G);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});v.addEventListener(p.ea.qg,function(){var G;if(!B){v.e5b();G=[(function(){return d.config.Cp || !v.tf?Promise.resolve():new Promise(function(C){var H;z.info("Sending the expedited playdata");H=v.T4.KUa();v.tf.pXa(H).then(function(){z.info("Sent the expedited playdata");return f(z);}).then(function(K){return K?K.ZY(H):Promise.resolve();}).then(function(){C(void 0);}).catch(function(K){z.error("Unable to send the expedited playdata",K);C();});});})(),(function(){return x().then(function(C){return C.QZ(v.ja);}).then(function(){z.info("Sent the playdata");}).catch(function(C){z.error("Unable to send the playdata",C);});})(),(function(){return new Promise(function(C){l.pa.get(u.ln).flush(!1).catch(function(){z.error("Unable to send logblob");C(void 0);}).then(function(){C(void 0);});});})()];Promise.all(G).then(function(){v.X9();}).catch(function(){v.X9();});}});g.we.addListener(g.Pl,y);return {IZb:function(G){v.Ed("pdpb");d.config.Caa || x().then(function(C){return C.send(v.K);}).then(function(){d.config.Cp?(v.Ed("pdpc"),G(m.$e)):c(v,function(){v.Ed("pdpc");G(m.$e);});}).catch(function(){v.Ed("pdpe");G(m.$e);});}};};b.DJa=function(){return new Promise(function(v){c({},function(x){v(x);});});};l.pa.get(t.oh).register(r.N.YB,function(v){v(m.$e);});},function(r,b,a){var k,m,d,g,h,l,n,q;function c(p){this.j=p;this.b3a=!1;this.log=(0,m.Qh)(this.j,"Playback");this.oO=m.pa.get(n.UR);(0,d.jb)(k.config);k.config.Cp || (this.gDb=m.pa.get(g.NCa));}function f(p,u){var w;function t(v){return v && 0 < v.length && v[0].gI;}w=m.pa.get(n.UR);return p.ca && t(p.xe)?w.release({ca:p.ca,xe:p.xe}).then(function(){}):u.ca && t(u.xe)?w.release(u).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.hB=b.VBa=void 0;k=a(14);m=a(8);d=a(22);g=a(322);h=a(64);l=a(18);n=a(193);q=a(15);c.prototype.CH=function(p){var u;u=this;return new Promise(function(t,w){var v,x,y;v=h.uo.BUa(p.ag);x=p.lk.map(function(z){return {sessionId:z.sessionId,dataBase64:(0,m.UC)(z.data)};});y=u.j.hJb(p.lk[0].sessionId);v={zi:y.zi,ag:l.is.Bn(p.ag)?p.ag:v,D5:[y.Bm],lk:x,ca:y.ca,Wo:p.Wo,yk:y.oa.yk};u.j.GM && u.j.GM.U4 && (v.yX=u.j.GM.U4);u.oO.Xy(v).then(function(z){u.j.xe=z.xe;t(z);u.IFb(y);}).catch(w);});};c.prototype.release=function(p){return f(this.j,p);};c.prototype.KUa=function(){var p;p=this.gDb.create();p.xe=this.j.xe;p.ca=this.j.ca;p.K=this.j.K;return p;};c.prototype.IFb=function(p){this.b3a || (this.b3a=!0,this.j.fireEvent(q.ea.kX,{K:p.K}));};b.VBa=c;b.hB=f;},function(r,b,a){var k,m,d,g,h,l,n,q,p,u,t,w;function c(v){v=Error.call(this,v);this.message=v.message;("stack" in v) && (this.stack=v.stack);this.name="CodecSwitchingError";}function f(v,x,y,z,A){var B,E;B=this;this.j=v;this.type=x;this.MNa=z;this.log=A;this.V2=new g.ec(!1);this.ZF={data:[],state:"",operation:""};this.mimeType=this.sXa((this.type === k.Vb.Wa.Pb?this.j.Ag.value:this.j.tc.value).streams);this.Et=new h.Rk();this.xha={Type:this.type};if(d.config.YD){E=!0;this.vna=new g.ec(!1);}this.log.trace("Adding source buffer",this.xha,{TypeId:this.mimeType});this.sd=y.addSourceBuffer(this.mimeType);this.sd.addEventListener("updatestart",function(){!1;B.ZF.state="updatestart";});this.sd.addEventListener("update",function(){!1;B.ZF.state="update";});this.sd.addEventListener("updateend",function(){var D;!1;B.V2.set(!1);B.UNa && B.UNa();B.ZF.state="updateend";D=0;try{D=B.sd.buffered.length;}catch(F){}E && D && (E=!1,B.vna.set(!0),!1);});this.sd.addEventListener("error",function(D){var F;!1;try{F=D.target.error && D.target.error.message;(D.message || F) && A.error("error event received on sourcebuffer",{mediaErrorMessage:D.message});}catch(G){}v.Ld(n.N.glb,(0,m.O6)(B.type));});this.sd.addEventListener("abort",function(){!1;});v.addEventListener(u.ea.closed,function(){B.sd=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.dgb=b.nea=void 0;k=a(42);m=a(171);d=a(14);g=a(80);h=a(73);l=a(8);a(103);n=a(3);a(5);q=a(22);p=a(18);u=a(15);t=a(158);w=a(196);f.prototype.Ph=function(){return this.V2.value;};f.prototype.updating=function(){return this.sd?this.sd.updating:!1;};f.prototype.Iaa=function(v){this.UNa=v;};f.prototype.J6=function(){return this.ZF;};f.prototype.buffered=function(){return this.sd.buffered;};f.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};f.prototype.toJSON=function(){return {type:this.type};};f.prototype.D6=function(){var v,x,y,z,A,B,E;try{v=this.sd.buffered;x=0;if(v){y=[];z=0;A=v.length;for(z=0;z < A;z++){B=v.start(z);E=v.end(z);x+=E - B;(0,q.jb)(E > B);y.push(B + "-" + E);}}if(y)return {Buffered:x.toFixed(3),Ranges:y.join("|")};}catch(D){}};f.prototype.IRa=function(v,x){!1;try{(0,q.jb)(this.sd.buffered && 1 >= this.sd.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.D6()));}catch(y){}(0,q.jb)(!this.Ph());this.eab("append",v);x=x && x.gv / 1E3;(0,p.Ea)(x) && this.sd.timestampOffset !== x && (!1,this.sd.timestampOffset=x);this.sd.appendBuffer(v);!1;this.V2.set(!0);};f.prototype.remove=function(v,x){(0,q.jb)(!this.Ph());try{this.eab("remove");!1;this.sd.remove(v,x);this.V2.set(!0);}catch(y){this.log.error("SourceBuffer remove exception",y,this.xha);}};f.prototype.eab=function(v,x){this.ZF.data=x || [];this.ZF.state="init";this.ZF.operation=v;};f.prototype.F_b=function(v,x){this.yOb=Math.floor(1E3 * v / x);};f.prototype.zwb=function(v){var x;if(this.sd){if((v=this.sXa([{type:this.fyb,Lg:v}]),v !== this.mimeType)){x=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + v);if(!this.sd.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.sd.changeType(v);this.mimeType=v;}catch(y){throw (this.log.error("Error changing SourceBuffer type",y,this.xha,{From:x,To:v}),new c(y.message));}}}else this.log.info("No SourceBuffer");};f.prototype.appendBuffer=function(v,x){!x || x.dd?this.gja(v,x):this.V3(v,x);return !0;};f.prototype.gja=function(v,x){this.j.dg.gja(this,v,x || ({}));};f.prototype.V3=function(v,x){v=this.Zxb(v,x);!1;this.j.dg.V3(v);};f.prototype.Zxb=function(v,x){var y;y=this.yOb || 0;return {CTa:function(){this.response=void 0;},wi:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:w.xc.Uc.DONE,cB:x.$,vx:x.$ + x.duration,fs:x.duration,gv:y,nk:x.nk,ha:x.ha,Ta:x.Ta,Qd:+x.Qd,location:x.location,uM:x.offset,tM:x.offset + x.ga - 1,bitrate:x.bitrate,response:v,j0a:v && 0 < v.byteLength,SD:!0,get dd() {return !this.SD;},e$a:this.ak - y || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.ha,isHeader:this.dd,ptsStart:this.cB,ptsOffset:this.gv,responseType:this.mac,duration:this.fs,readystate:this.Jh};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};f.prototype.endOfStream=function(){var v;this.j.CG("EndOfStream");null === (v=this.j.dg) || void 0 === v?void 0:v.Y9(this.mediaType);};f.prototype.addEventListener=function(v,x,y){this.Et.addListener(v,x,y);};f.prototype.removeEventListener=function(v,x){this.Et.removeListener(v,x);};f.prototype.sXa=function(v){var x;x=l.pa.get(t.zS);return this.type === k.Vb.Wa.Pb?x.a5(v):x.X4(v);};Ya.Object.defineProperties(f.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},t4:{configurable:!0,enumerable:!0,get:function(){return this.MNa.t4;}},JZ:{configurable:!0,enumerable:!0,get:function(){return this.MNa.JZ;}},fyb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.nea=f;na(c,Error);b.dgb=c;},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.gVa=b.gsa=void 0;c=a(22);f=a(24);k=a(18);(function(){var d,g,h;function m(l){(0,c.jb)(void 0 !== d[l]);return d[l];}d={'"':'""',"\r":"","\n":" "};g=/["\r\n]/g;h=/[", ]/;b.gVa=function(l){return (0,k.Zc)(l)?(0,k.Ea)(l)?l:(0,k.Ue)(l)?l.replace(g,m):(0,k.Cqa)(l)?l:isNaN(l)?"NaN":"":"";};b.gsa=function(l){var n,q;n=b.gVa;q="";(0,f.ve)(l,function(p,u){p=n(p) + "=" + n(u);h.test(p) && (p='"' + p + '"');q=q?q + ("," + p):p;});return q;};})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wj=void 0;r=b.Wj || (b.Wj={});r[r.Cab=1]="sourceopen";r[r.oq=2]="currentTimeChanged";r[r.rZ=3]="seeked";r[r.a3a=5]="licenseadded";r[r.Bab=6]="sourceBuffersAdded";r[r.g$=7]="onNeedKey";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ifa="PlaygraphManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kfa="PlaygraphVideoPlayerFactorySymbol";},function(r,b,a){var f;function c(k,m){var d;d=this;this.ej=k;this.eh=m;this.addEventListener=function(g,h,l){return d.eh.addListener(g,d.wVa(g,h),l);};this.removeEventListener=function(g,h){return d.eh.removeListener(g,d.wVa(g,h));};this.getReady=function(){return d.eh.isReady();};this.getXid=function(){return d.Eb().dA();};this.getMovieId=function(){return d.Eb().b_a();};this.getPlaygraphId=function(){return d.eh.jJb();};this.getElement=function(){return d.eh.Rn();};this.isPlaying=function(){return d.Eb().Jq();};this.isPaused=function(){return d.Eb().VW();};this.isMuted=function(){return d.Eb().Nqa();};this.isReady=function(){return d.Eb().isReady();};this.isBackground=function(){return d.Eb().H1a();};this.setBackground=function(g){return d.Eb().axa(g);};this.startInactivityMonitor=function(){return d.Eb().aQ();};this.setTransitionTime=function(g){return d.Eb().qxa(g);};this.getDiagnostics=function(){return d.Eb().dZa();};this.getTextTrackList=function(g){return d.Eb().h7(g);};this.getMaxRecommendedTextIndex=function(g){return d.Eb().Boa(g);};this.getTextTrack=function(){return d.Eb().npa();};this.setTextTrack=function(g){return d.Eb().mxa(g);};this.getVolume=function(){return d.Eb().X_a();};this.isEnded=function(){return d.Eb().Gqa();};this.getBusy=function(){return d.Eb().Ph();};this.getError=function(){return d.Eb().getError();};this.getCurrentTime=function(){return d.Eb().tu();};this.getBufferedTime=function(){return d.Eb().JYa();};this.getSegmentTime=function(){return d.Eb().G6();};this.getDuration=function(){return d.Eb().goa();};this.getVideoSize=function(){return d.Eb().W_a();};this.getAudioTrackList=function(){return d.Eb().Yna();};this.getMaxRecommendedAudioIndex=function(){return d.Eb().VZa();};this.getAudioTrack=function(){return d.Eb().AYa();};this.getTimedTextTrackList=function(g){return d.Eb().h7(g);};this.getMaxRecommendedTimedTextIndex=function(g){return d.Eb().Boa(g);};this.getTimedTextTrack=function(){return d.Eb().npa();};this.shouldUseProjectSalsaUI=function(){return d.Eb().mab();};this.getAdditionalLogInfo=function(){return d.Eb().xYa();};this.getTrickPlayFrame=function(g){return d.Eb().T_a(g);};this.getSessionSummary=function(){return d.Eb().dpa();};this.getTimedTextSettings=function(){return d.Eb().vW();};this.setMuted=function(g){return d.Eb().M$a(g);};this.setVolume=function(g){return d.Eb().$$a(g);};this.getPlaybackRate=function(){return d.Eb().$o();};this.setPlaybackRate=function(g){return d.Eb().N$a(g);};this.setAudioTrack=function(g){return d.Eb().x$a(g);};this.setTimedTextTrack=function(g){return d.Eb().mxa(g);};this.setTimedTextSettings=function(g){return d.Eb().RP(g);};this.prepare=function(){return d.Eb().OI();};this.load=function(){return d.Eb().load();};this.close=function(g){return d.LRa(d.eh.close(),g);};this.play=function(){return d.Eb().play();};this.pause=function(){return d.Eb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(g,h){return d.LRa(d.Eb().gN(g),h);};this.induceError=function(g){return d.Eb().i1a(g);};this.loadCustomTimedTextTrack=function(g,h,l,n){return d.Eb().h3a(g,h,l,n);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return d.Eb().H6();};this.getCropAspectRatioXandY=function(){return d.Eb().YYa();};this.generateScreenshots=function(g){return d.Eb().sYa(g);};this.getCurrentSegmentId=function(){return d.eh.$Ya();};this.getPlaygraphMap=function(){return d.eh.GH();};this.updatePlaygraphMap=function(g){return d.eh.EB(g);};this.Uma=new Map();this.log=(0,f.aj)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.h2=void 0;f=a(8);a(103);c.prototype.Eb=function(){return this.eh.Eb();};c.prototype.wVa=function(k,m){var d;this.Uma.has(k) || this.Uma.set(k,new Map());d=this.Uma.get(k);d.has(m) || d.set(m,this.HBb(k,m));return d.get(m);};c.prototype.HBb=function(k,m){var d;d=this;return function(g){return m(Object.assign({},g,{type:k,target:d}));};};c.prototype.LRa=function(k,m){return m?k.then(m,m):k;};b.h2=c;},function(r,b,a){b=a(253);r.exports="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.fa:Date.now;},function(r){r.exports={Wx:{Pfa:0,nLa:1,Bl:2,name:["transient","semiTransient","permanent"]},Rx:{NDa:0,mLa:1,P1:2,lS:3,py:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},T$b:{I$b:0,v8b:1,y6b:2,py:100,name:["trailer","montage","content"]},Lv:{LFa:0,UKa:1,Bmb:2,ahb:3,py:100,name:["left","right","up","down"]},SR:{Yfb:0,P1:1,S7b:2,p7b:3,Q5b:4,R7b:5,Peb:6,py:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},yK:{lS:0,eCa:1,py:100,name:["playFocused","detailsOpened"]}};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);r=(function(){function f(){}f.prototype.WYa=function(k){var m;m=Reflect.getMetadata(c.Bea,k);k=Reflect.getMetadata(c.nMa,k);return {$Ta:m,x4b:k || ({})};};f.prototype.nJb=function(k){return Reflect.getMetadata(c.oMa,k) || [];};return f;})();b.pea=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(58);b.i2a=function(f){return f instanceof RangeError || f.message === c.Zlb;};},function(r,b,a){var c,f,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(58);f=a(44);k=a(66);m=a(94);r=(function(){function d(g){this.wnb=g;}d.prototype.x3b=function(){return this.wnb();};return d;})();b.Sda=r;b.l=function(d){return function(g,h,l){var n;if(void 0 === d)throw Error(c.zmb(g.name));n=new k.Metadata(f.QR,d);"number" === typeof l?m.FJ(g,h,l,n):m.b_(g,h,n);};};},function(r,b,a){var c,f,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);f=a(109);k=a(66);m=a(575);r=(function(){function d(g,h,l,n){this.id=f.id();this.type=g;this.Sg=l;this.name=new m.Clb(h || "");this.Ic=[];g=null;"string" === typeof n?g=new k.Metadata(c.bC,n):n instanceof k.Metadata && (g=n);null !== g && this.Ic.push(g);}d.prototype.p0a=function(g){for(var h=0,l=this.Ic;h < l.length;h++){if(l[h].key === g)return !0;}return !1;};d.prototype.isArray=function(){return this.p0a(c.uF);};d.prototype.eQb=function(g){return this.qsa(c.uF)(g);};d.prototype.Oqa=function(){return this.p0a(c.bC);};d.prototype.ara=function(){return this.Ic.some(function(g){return g.key !== c.QR && g.key !== c.uF && g.key !== c.q1 && g.key !== c.DS && g.key !== c.bC;});};d.prototype.a2a=function(){return this.qsa(c.dIa)(!0);};d.prototype.KIb=function(){return this.Oqa()?this.Ic.filter(function(g){return g.key === c.bC;})[0]:null;};d.prototype.uHb=function(){return this.ara()?this.Ic.filter(function(g){return g.key !== c.QR && g.key !== c.uF && g.key !== c.q1 && g.key !== c.DS && g.key !== c.bC;}):null;};d.prototype.qsa=function(g){var h;h=this;return function(l){var p;for(var n=0,q=h.Ic;n < q.length;n++){p=q[n];if(p.key === g && p.value === l)return !0;}return !1;};};return d;})();b.b2=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(201);f=a(202);r=(function(){function k(m){this.Gc=m;this.NS=new f.Gca(this.Gc);this.mga=new c.k0(this.Gc);}k.prototype.when=function(m){return this.NS.when(m);};k.prototype.O_=function(){return this.NS.O_();};k.prototype.lx=function(m){return this.mga.lx(m);};return k;})();b.bF=r;},function(r,b,a){var k;function c(m){return function(d){function g(h){return null !== h && null !== h.target && h.target.qsa(m)(d);}g.K4a=new k.Metadata(m,d);return g;};}function f(m,d){m=m.VA;return null !== m?d(m)?!0:f(m,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(44);k=a(66);b.ocb=f;b.wbb=c;a=c(r.bC);b.n5a=a;b.vcb=function(m){return function(d){var g;if(null !== d){g=d.wU[0];return "string" === typeof m?g.Sg === m:m === d.wU[0].Gm;}return !1;};};},function(r,b,a){var k;function c(m,d){this.zg=d;this.CA=Math.floor(m);this.display=this.CA + " " + this.zg.name;}function f(m,d,g){this.zg=m;this.name=d;this.Il=g?g:this;(0,k.kp)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.ut=b.ES=void 0;k=a(59);f.prototype.FV=function(m){return this.zg == m.zg;};f.prototype.toJSON=function(){return this.name;};b.ES=f;c.prototype.da=function(m){return this.zg.FV(m)?this.CA:Math.floor(this.CA * this.zg.zg / m.zg);};c.prototype.K7a=function(m){return this.zg.FV(m)?this.CA:this.CA * this.zg.zg / m.zg;};c.prototype.as=function(m){return new c(this.da(m),m);};c.prototype.to=function(m){return new c(this.da(m),m);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.CA,units:this.zg.name};};c.prototype.add=function(m){return this.UTa(m);};c.prototype.Ka=function(m){return this.UTa(m,function(d){return -d;});};c.prototype.scale=function(m){return new c(this.da(this.zg.Il) * m,this.zg.Il);};c.prototype.Kl=function(m){return this.da(this.zg.Il) - m.da(this.zg.Il);};c.prototype.FV=function(m){return 0 == this.Kl(m);};c.prototype.s2a=function(){return 0 == this.CA;};c.prototype.Pqa=function(){return 0 > this.CA;};c.prototype.wNb=function(){return 0 < this.CA;};c.prototype.UTa=function(m,d){d=void 0 === d?function(g){return g;}:d;return new c(this.da(this.zg.Il) + d(m.da(this.zg.Il)),this.zg.Il);};b.ut=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AJa="PlatformConfigOverridesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NCa="DrmDataFactorySymbol";},function(r,b,a){var f,k;function c(m,d,g,h,l){this.version=m;this.$O=d;this.Xab=g;this.mo=h;this.Hx=l;this.Bw=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Jda=void 0;f=a(3);k=a(40);c.prototype.load=function(m){return this.dPb(m);};c.prototype.add=function(m){this.Bw.push(m);return this.uua();};c.prototype.remove=function(m,d){m=this.MYa(this.vN(m,d));return 0 <= m?(this.Bw.splice(m,1),this.uua()):Promise.resolve();};c.prototype.update=function(m,d){d=this.MYa(this.vN(m,d));return 0 <= d?(this.Bw[d]=m,this.uua()):Promise.resolve();};c.prototype.dPb=function(m){var d;d=this;this.i3a || (this.i3a=new Promise(function(g,h){function l(n){d.YBb().then(function(){h(n);}).catch(function(){h(n);});}d.fpa().then(function(n){d.storage=n;return d.storage.load(d.$O);}).then(function(n){var q;n=n.value;try{q=m(n);d.version=q.version;d.Bw=q.data;g();}catch(p){l(p);}}).catch(function(n){n.ta !== f.M.kC?h(n):g();});}));return this.i3a;};c.prototype.uua=function(){var m,d,g,h,l;m=this;if(!this.Xab)return Promise.resolve();if(this.Waa){h=new Promise(function(n,q){d=n;g=q;});l=function(){m.Waa=h;m.Vab().then(function(){d();}).catch(function(n){g(n);});};this.Waa.then(l).catch(l);return h;}return this.Waa=this.Vab();};c.prototype.Vab=function(){var m,d;m=this;d=this.Hx();return new Promise(function(g,h){m.fpa().then(function(l){return l.save(m.$O,d,!1);}).then(function(){g();}).catch(function(l){h(c.v2b(f.N.Rkb,l));});});};c.prototype.YBb=function(){var m;m=this;return this.Xab?new Promise(function(d,g){m.fpa().then(function(h){return h.remove(m.$O);}).then(function(){d();}).catch(function(h){g(h);});}):Promise.resolve();};c.prototype.fpa=function(){return this.storage?Promise.resolve(this.storage):this.mo.create();};c.prototype.vN=function(m,d){for(var g=0;g < this.Bw.length;++g){if(d(this.Bw[g],m))return this.Bw[g];}};c.prototype.MYa=function(m){return m?this.Bw.indexOf(m):-1;};c.v2b=function(m,d){var g;if(d.ta && d.cause)return new k.od(m,d.ta,void 0,void 0,void 0,void 0,void 0,d.cause);if(void 0 !== d.Ec){g=d.message?d.message + " ":"";d.code=m;d.message="" === g?void 0:g;return d;}return d instanceof Error?new k.od(m,f.M.Qk,void 0,void 0,void 0,void 0,d.stack,d):new k.od(m,f.M.em,void 0,void 0,void 0,void 0,void 0,d);};b.Jda=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qfa="QueryStringDataProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RHa="NetworkMonitorConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PCa="DrmProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tDa="EmeSessionFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qDa=b.SF=void 0;r=b.SF || (b.SF={});r[r.Request=0]="Request";r[r.YKa=1]="Renewal";b.qDa="EmeApiSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.U1=void 0;a.jMb=function(c){return "ID" + (c + 1);};a.dbb=function(c){return Number(c.substr(2)) - 1;};b.U1=a;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E,D,F;function c(G,C,H,K,M,I,Q,L){var J;J=this;this.Da=C;this.gz=H;this.config=K;this.Kh=M;this.bm=I;this.Wo=Q;this.rp=L;this.keyStatuses=new z.ec({});this.Sta=function(N){var O,P,S,U,Z,ja;try{P=J.bm.nla(N);S=P.mI;U=P.messageType;Z=P.sessionId;J.Yw=J.Yw || P.Yw;J.yZ(Z);J.log.trace("Received " + N.type + " event",{sessionId:Z,messageType:U,keyIds:J.Yw});if(U === b.eea){if(J.config.mma){J.log.trace("Disabling license renewal");return;}J.log.trace("Received a renewal request");J.ag=n.hi.Lp;J.ol=E.ZI;}J.ol === E.bh && J.bq(q.st.H8a);J.ol === E.ZI && J.bq(q.st.I8a);ja={lk:S,oTa:U,ag:J.ag};null === (O=J.hTb) || void 0 === O?void 0:O.call(J,ja);J.iX && (J.Ipa(S)?J.WD(new y.od(m.N.eDa)):(J.iX.resolve(ja),J.iX=void 0));}catch(ya){J.WD(ya);}};this.Qta=function(N){var O,P,S,U,Z,ja,Y,pa,T,R,ea,sa,la,$a,Za,cb,Va,Qa;S=N.target;U=S.keyStatuses;J.yZ(S.sessionId);J.log.trace("Received event: " + N.type);try{ja=null === (P=null === (O=J.context) || void 0 === O?void 0:O.cv) || void 0 === P?void 0:P.reduce(function(xa,Ea){xa[Ea.wj]=Ea.eJ.height;return xa;},{});N=[];for(var ya=ba(U),ra=ya.next();!ra.done;ra=ya.next()){Y=ba(ra.value);pa=Y.next().value;T=Y.next().value;R=J.gz.encode(new Uint8Array(pa));N.push({wj:R,status:T,height:null === ja || void 0 === ja?void 0:ja[R]});}N.sort(function(xa,Ea){return (xa.height || 0) - (Ea.height || 0);});ea=N.map(function(xa){return xa.wj;});sa=N.map(function(xa){return xa.height;});la=N.map(function(xa){return xa.status;});J.log.trace("KeyStatus: " + ea + ", " + sa + ", " + la);ja={};for(var Ka=ba(U),Ua=Ka.next();!Ua.done;Ua=Ka.next()){$a=ba(Ua.value);Za=$a.next().value;cb=$a.next().value;Va=J.gz.encode(new Uint8Array(Za));Qa=D[cb];ja[Va]=Qa.status;J.g8(Va,Qa.error) && (Z=new v.ph(Qa.error));}J.keyStatuses.set(ja);}catch(xa){Z=new v.ph(m.N.alb);Z.jV(xa);}Z?J.xs?J.r8(Z):J.ZW(Z):(J.bm.P4() || J.u2a(),J.ag !== n.hi.vo || J.bm.Bja() || (J.config.mma?J.log.trace("Disabling license renewal"):J.cYb()));};this.$n=function(N){var O;O=J.bm.yz(N);J.log.error("Received event: " + N.type,O);J.WD(O);J.r8(O);J.Aq || J.xs || J.ZW(O);};this.aTb=function(N){J.log.error("MediaKeySession closed unexpectedly: " + N);J.ZW(new y.od(m.N.gDa,F[N]));};this.WD=function(N){var O;J.Aq && J.close().then(function(){var P;J.log.trace("Issuing a generate challenge error");null === (P=J.Aq) || void 0 === P?void 0:P.reject(N);J.Aq=void 0;},function(P){var S;J.log.error("EmeSession closed with an error.",J.bm.yz(P));null === (S=J.Aq) || void 0 === S?void 0:S.reject(N);J.Aq=void 0;});null === (O=J.iX) || void 0 === O?void 0:O.reject(N);};this.TNb=function(){var N;null === (N=J.Aq) || void 0 === N?void 0:N.resolve();J.Aq=void 0;};this.r8=function(N){J.log.error("Failed to add license",N);return J.close().then(function(){var O;J.log.trace("Issuing a license error");J.Aq=void 0;null === (O=J.xs) || void 0 === O?void 0:O.reject(N);J.xs=void 0;},function(O){var P;J.log.error("EmeSession closed with an error.",J.bm.yz(O));J.ol === E.ZI && J.bq(q.st.fRa);J.Aq=void 0;null === (P=J.xs) || void 0 === P?void 0:P.reject(N);J.xs=void 0;}).then(function(){throw N;});};this.u2a=function(){J.xs && (J.log.info("Successfully added license"),J.ol === E.bh?J.bq(q.st.WQa):J.ol === E.ZI && J.bq(q.st.eRa),J.xs.resolve(),J.xs=void 0);};this.ZW=function(N){J.close().then(function(){var O;J.log.trace("Issuing a CDM error");J.Aq=void 0;J.xs=void 0;null === (O=J.c6a) || void 0 === O?void 0:O.call(J,N);},function(O){var P;J.log.error("EmeSession closed with an error.",J.bm.yz(O));J.Aq=void 0;J.xs=void 0;null === (P=J.c6a) || void 0 === P?void 0:P.call(J,N);});};this.bq=function(N){J.Sc.push({time:J.Da.Zb(),DX:N});};this.c9a=!1;this.log=G.mb("EmeSession");this.ol=E.q3b;this.Sc=[];}Object.defineProperty(b,"__esModule",{value:!0});b.uDa=b.eea=b.fea=void 0;r=a(1);f=a(0);k=a(5);m=a(3);d=a(19);g=a(7);h=a(36);l=a(69);n=a(60);q=a(331);p=a(211);u=a(138);t=a(209);w=a(328);v=a(96);x=a(65);y=a(40);z=a(80);A=a(626);B=a(55);(function(G){G[G.q3b=0]="unknown";G[G.create=1]="create";G[G.load=2]="load";G[G.bh=3]="license";G[G.ZI=4]="renewal";G[G.stop=5]="stop";G[G.closed=6]="closed";})(E || (E={}));b.fea="license-request";b.eea="license-renewal";D={usable:{status:p.Gv.fdb},expired:{status:p.Gv.hu,error:m.N.Fea},released:{status:p.Gv.released},"output-not-allowed":{status:p.Gv.w6a,error:m.N.sIa},"output-restricted":{status:p.Gv.w6a,error:m.N.Gea},"output-downscaled":{status:p.Gv.aUb},"status-pending":{status:p.Gv.P0b},"internal-error":{status:p.Gv.DMb,error:m.N.$kb}};F={"internal-error":m.M.uhb,"closed-by-application":m.M.qhb,"release-acknowledged":m.M.yhb,"hardware-context-reset":m.M.bDa,"resource-evicted":m.M.Ahb};c.prototype.ru=function(){return (0,B.yoa)(this.NQb);};c.prototype.Zz=function(){return this.sessionId;};c.prototype.close=function(){var G;G=this;this.ol=E.closed;this.Sc=[];return this.Kh.CNb()?(this.log.trace("Closing the session"),this.Kh.Y8a(this.Sta),this.Kh.W8a(this.Qta),this.Kh.U8a(this.$n),this.mediaKeys=void 0,this.rp.ar(this.config.CRa,this.Kh.close()).then(function(){G.log.info("Closed the session");}).catch(function(C){G.log.error("Close failed",C);G.bm.yz(C).code=m.N.clb;throw C;})):Promise.resolve(void 0);};c.prototype.qu=function(){return this.Wo;};c.prototype.v7=function(){return void 0 !== this.xj;};c.prototype.createSession=function(G,C,H,K){var M;M=this;this.context=K;this.NQb=G;this.ag=H;this.ol=E.create;this.bq(q.st.$2a);return (C.k0a()?Promise.resolve():this.rp.ar(this.config.DRa,this.Kh.createMediaKeys(G)).then(function(I){M.log.trace("Created media keys");return M.Ltb(I).then(function(){return C.YQa(I);}).catch(function(Q){return Promise.reject(M.dva(Q,m.N.Bhb));});})).then(function(){M.mediaKeys=C.mediaKeys;try{M.Kh.createSession(M.mediaKeys,"temporary");M.Kh.$Qa(M.Sta);M.Kh.UQa(M.Qta);M.Kh.SQa(M.$n);M.Kh.Asb(M.aTb);M.yZ(M.Kh.Zz());}catch(I){return Promise.reject(M.dva(I,m.N.rhb));}}).catch(function(I){return Promise.reject(M.dva(I,m.N.oR));});};c.prototype.s_b=function(G){this.dj=G;this.log.PQa("xid",G.ca);};c.prototype.yGb=function(G){var C;C=this;return this.generateRequest(G).then(function(){C.log.trace("Returning the challenge promise");return C.iX.promise;});};c.prototype.zGb=function(G){this.generateRequest(G);return this.Aq.promise;};c.prototype.VQa=function(G){this.xe=G.xe;G=G.xj.map(function(C){return C.data;});this.Ipa(G)?(this.log.error("The license buffer is empty"),this.WD(new v.ph(m.N.dDa,m.M.aDa))):(this.ol === E.bh && (this.bq(q.st.G8a),this.xj=G,this.rWa=this.bm.CN(this.Yw,G),this.TNb()),this.ol === E.ZI && (this.bq(q.st.J8a),this.xj=G,this.rWa=this.bm.CN(this.Yw,G),this.jja()));};c.prototype.Lsb=function(G){this.ol === E.ZI?(this.bq(q.st.K8a),this.ZW(G)):this.WD(G);};c.prototype.jja=function(){var G,C;G=this;if(!this.xj)return this.r8(new v.ph(m.N.dDa,m.M.hDa));this.xs=new A.G1();C=this.xj;this.xj=void 0;this.rp.ar(this.config.HRa,this.Kh.update(C,this.ol === E.bh?w.SF.Request:w.SF.YKa,this.Yw)).then(function(){G.bm.P4() && G.u2a();}).catch(function(H){H=G.bm.yz(H);H.code=m.N.D1;H.message="Unable to update the EME";G.log.error(H.message,H);G.r8(H);});return this.xs.promise;};c.prototype.l_b=function(G){this.hTb=G;};c.prototype.f_b=function(G){this.c6a=G;};c.prototype.CN=function(){return this.rWa;};c.prototype.generateRequest=function(G){var C;C=this;this.ol=E.bh;this.log.trace("Generating a license challenge");this.Aq=new A.G1();this.iX=new A.G1();return G?this.Ipa(G)?(G=new v.ph(m.N.cDa,m.M.aDa),this.WD(G),Promise.reject(G)):this.rp.ar(this.config.ERa,this.Kh.generateRequest(this.bm.iW(),G)).then(function(){C.yZ(C.Kh.Zz());}).catch(function(H){var K,M;K=new v.ph(m.N.M0,H instanceof x.Ir?m.M.pR:m.M.Qk);try{M=C.bm.yz(H);K.Nd=M.Nd;K.message="Unable to generate request.";K.jV(H);}catch(I){}C.log.error("Unable to generate a license request",K);C.WD(K);return Promise.reject(K);}):(G=new v.ph(m.N.cDa,m.M.hDa),this.WD(G),Promise.reject(G));};c.prototype.Ltb=function(G){var C,H;C=this;H=this.bm.doa();return H?(H=this.gz.decode(H),this.rp.ar(this.config.GRa,this.Kh.setServerCertificate(G,H)).then(function(K){C.log.trace("Set the server certificate",{result:K});})):Promise.resolve();};c.prototype.yZ=function(G){G && G !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + G),this.sessionId=G,this.log.PQa("sessionId",G));};c.prototype.cYb=function(){var G;G=this;this.c9a || (this.c9a=!0,this.log.info("Kicking off license renewal",{timeout:this.config.YD}),setTimeout(function(){G.YI();},this.config.YD.da(k.la)));};c.prototype.KNb=function(G){var C,H;return !(null === (H=null === (C=this.context) || void 0 === C?void 0:C.cv) || void 0 === H || !H.some(function(K){return K.wj === G && 1080 < K.eJ.height;}));};c.prototype.g8=function(G,C){return C === m.N.Gea?this.KNb(G)?this.config.y6a:this.config.x6a:! !C;};c.prototype.YI=function(){this.log.trace("Initiating a renewal request");this.ag=n.hi.Lp;this.ol=E.ZI;this.bm.pka()?this.bm.xqa(this.Kh):this.Z4();};c.prototype.Z4=function(){var G;G=this;this.Kh.Z4(this.mediaKeys,"temporary",this.Sta,this.Qta,this.$n).then(function(){G.log.debug("Creating session to renew license");G.yZ(G.Kh.Zz());}).catch(function(){G.ZW(new v.ph(m.N.M0));});};c.prototype.Ipa=function(G){return 0 === G.length || G.reduce(function(C,H){return C || 0 === H.length;},!1);};c.prototype.dva=function(G,C){var H,K;if((null === G || void 0 === G?0:G.code) && (null === G || void 0 === G?0:G.Ec))return G;K=(0,B.Moa)(null === G || void 0 === G?void 0:G.message);return new v.ph(C,G instanceof x.Ir?m.M.pR:m.M.Qk,null === (H=null === K || void 0 === K?void 0:K.toString(16)) || void 0 === H?void 0:H.toUpperCase(),null === G || void 0 === G?void 0:G.message,G);};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.ub)),r.__param(1,(0,f.l)(d.md)),r.__param(2,(0,f.l)(h.Ii)),r.__param(3,(0,f.l)(l.Hv)),r.__param(4,(0,f.l)(w.qDa)),r.__param(5,(0,f.l)(t.nhb)),r.__param(6,(0,f.l)(u.TCa)),r.__param(7,(0,f.l)(x.sy))],a);b.uDa=a;},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.sWa=b.st=void 0;(function(c){c[c.$2a=0]="licenseStarted";c[c.H8a=1]="receivedLicenseChallenge";c[c.G8a=2]="receivedLicense";c[c.I8a=3]="receivedRenewalChallengeComplete";c[c.J8a=4]="receivedRenewalLicenseComplete";c[c.K8a=5]="receivedRenewalLicenseFailed";c[c.dXb=6]="receivedIndivChallengeComplete";c[c.eXb=7]="receivedIndivLicenseComplete";c[c.WQa=8]="addLicenseComplete";c[c.eRa=9]="addRenewalLicenseComplete";c[c.fRa=10]="addRenewalLicenseFailed";})(a=b.st || (b.st={}));b.sWa=function(c){switch(c){case a.$2a:return "lg";case a.H8a:return "lc";case a.G8a:return "lr";case a.I8a:return "renew_lc";case a.J8a:return "renew_lr";case a.K8a:return "renew_lr_failed";case a.dXb:return "ilc";case a.eXb:return "ilr";case a.WQa:return "ld";case a.eRa:return "renew_ld";case a.fRa:return "renew_ld_failed";default:return "unknown";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IBa="ClockConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fIa="OneWayCounterFactorySymbol";},function(r,b,a){var f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Eca=void 0;r=a(1);a=a(0);f={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(m){for(var d=new Uint8Array(m.length / 2),g=0;g < d.length;g++){d[g]=this.acb(m.substr(2 * g,2));}return d;};c.prototype.encode=function(m){var l;for(var d="",g=m.length,h=0;h < g;h++){l=m[h];d+=("0123456789ABCDEF")[l >>> 4] + ("0123456789ABCDEF")[l & 15];}return d;};c.prototype.vH=function(m,d){var g;g="";for(d<<=1;d--;){g=(("0123456789ABCDEF")[m & 15] || "0") + g;m>>>=4;}return g;};c.prototype.acb=function(m){var d;d=m.length;if(7 < d)throw Error("hex to long");for(var g=0,h=0;h < d;h++){g=16 * g + f[m[h]];}return g;};k=c;k=r.__decorate([(0,a.T)()],k);b.Eca=k;},function(r,b,a){var f,k;function c(){this.xq={};this.id="$es$" + f.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Rk=void 0;r=a(1);a=a(0);c.prototype.addListener=function(m,d,g){var h,l;h="$netflix$player$order" + this.id + "$" + m;if(this.xq){l=this.xq[m]?this.xq[m].slice():[];g && (d[h]=g);0 > l.indexOf(d) && (l.push(d),l.sort(function(n,q){return (n[h] || 0) - (q[h] || 0);}));this.xq[m]=l;}};c.prototype.removeListener=function(m,d){if(this.xq && this.xq[m]){for(var g=this.xq[m].slice(),h;0 <= (h=g.indexOf(d));){g.splice(h,1);}this.xq[m]=g;}};c.prototype.Hc=function(m,d,g){var h;if(this.xq){h=this.qoa(m);for(m={bK:0};m.bK < h.length;(m={bK:m.bK},m.bK++)){g?(function(l){return function(){var n;n=h[l.bK];setTimeout(function(){n(d);},0);};})(m)():h[m.bK].call(this,d);}}};c.prototype.Mh=function(){this.xq=void 0;};c.prototype.on=function(m,d,g){this.addListener(m,d,g);};c.prototype.qoa=function(m){var d;return null !== (d=this.xq && (this.xq[m] || (this.xq[m]=[]))) && void 0 !== d?d:[];};k=f=c;k.counter=0;k=f=r.__decorate([(0,a.T)()],k);b.Rk=k;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bCa="CsvEncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gda="DecoderTimeoutPathologistSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sea=b.Vjb=void 0;b.Vjb=function(){};b.sea="MseConfigSymbol";},function(r,b,a){var f;function c(k){this.Zob=void 0 === k?!1:k;this.ef={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.nfa=void 0;r=a(1);a=a(0);c.prototype.add=function(k,m){var d;m=void 0 === m?0:m;d=this.ef[m];d?this.Zob && -1 !== d.indexOf(k) || d.push(k):this.ef[m]=[k];};c.prototype.remove=function(k,m){this.Py(k,void 0 === m?0:m);};c.prototype.removeAll=function(k){this.Py(k);};c.prototype.flatten=function(){var k;k=this;return Object.keys(this.ef).sort().reduce(function(m,d){return m.concat(k.ef[d]);},[]);};c.prototype.Py=function(k,m){Object.entries(this.ef).forEach(function(d){var g,h;g=ba(d);d=g.next().value;g=g.next().value;if(void 0 === m || m === parseInt(d)){-1 < (h=g.indexOf(k)) && g.splice(h,1);}});};f=c;f=r.__decorate([(0,a.T)()],f);b.nfa=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ma="UrlFactorySymbol";},function(r,b,a){var f,k,m;function c(d,g,h,l,n,q,p){this.debug=d;this.config=g;this.platform=h;this.j9=l;this.debug.assert(n && n != k.N.em,"There should always be a specific error code");this.errorCode=n || k.N.em;q && "object" === typeof q?(this.ta=q.ta || q.Ec,this.uf=q.uf || q.Nd,this.Oma=q.Oma || q.Kn,this.yb=q.yb || q.details,this.oV=q.sk,this.Q5=q.Q5 || q.Edc || q.PA,this.pH=q.pH || q.data,q.AX && (this.AX=q.AX),this.tk=q.tk,this.method=q.method,this.J9=q.J9,this.alert=q.alert,this.Zia=q.Zia,this.OH=q.OH,!this.yb && this.OH && (this.yb=JSON.stringify(this.OH)),this.debug.assert(!this.tk || this.tk == this.uf)):(this.ta=q,this.uf=p);this.stack=[this.errorCode];this.ta?this.stack.push(this.ta):this.uf && this.stack.push(k.M.em);this.uf && this.stack.push(this.uf);this.y5=this.platform.vq + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.bKa=void 0;f=a(12);k=a(3);m=a(18);a(24);c.prototype.O$a=function(d){this.jVb=d;};c.prototype.toString=function(){var d;d="[PlayerError #" + this.y5 + "]";this.yb && (d+=" " + this.yb);this.oV && (d+=" (CustomMessage: " + this.oV + ")");return d;};c.prototype.m_=function(){var d,g,h,l;this.oV && (h=["streaming_error"]);h || this.j9.qu() !== f.L0 || ("80080017" == this.uf && (h=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.uf && (h=["pause_timeout"]));h || this.j9.qu() !== f.jda || this.errorCode !== k.N.$Ca && this.errorCode !== k.N.oR || (h=["no_cdm","platform_error","plugin_error"]);h || this.errorCode !== k.N.gDa || this.ta !== k.M.bDa || (h=["pause_timeout"]);this.ENb() && (h=["received_soad"]);l=this.hHb();l && (h=[l],this.oV=void 0);if(!h)switch(this.errorCode){case k.N.C1:case k.N.h1:case k.N.Beb:case k.N.Fea:this.jVb && (h=["pause_timeout"]);break;case k.N.kFa:case k.N.lFa:h=this.ta?["platform_error"]:["multiple_tabs"];break;case k.N.pjb:case k.N.gmb:case k.N.Pib:case k.N.Oib:case k.N.Rib:h=["should_signout_and_signin"];break;case k.N.Hda:case k.N.wIa:case k.N.Hea:case k.N.qIa:h=["platform_error","plugin_error"];break;case k.N.mS:h=["no_cdm","platform_error","plugin_error"];break;case k.N.iDa:case k.N.Gr:case k.N.D1:switch(this.uf){case "FFFFD000":h=["device_needs_service","platform_error"];break;case "48444350":h=["unsupported_output","platform_error"];break;case "00000024":h=["private_mode"];}break;case k.N.sIa:case k.N.Gea:h=["unsupported_output"];}!h && (0,k.EDa)(this.ta) && (h=this.ta == k.M.NR?["geo"]:["internet_connection_problem"]);h || this.errorCode !== k.N.oR || this.ta !== k.M.Qk || "S" !== this.platform.vq || (h=["private_mode"]);if(!h)switch(this.gbb(this.ta)){case k.M.aga:h=["should_upgrade"];break;case k.M.nIa:h=["should_reset_device"];break;case k.M.mIa:h=["should_reload_device"];break;case k.M.lIa:h=["should_exit_device"];break;case k.M.Xjb:case k.M.KGa:h=["should_signout_and_signin"];break;case k.M.Yjb:h=["internet_connection_problem"];break;case k.M.gCa:h=["platform_error","plugin_error"];break;case k.M.fCa:case k.M.SEa:case k.M.TEa:h=["private_mode"];break;case k.M.cea:h=["should_reload_with_preferred_locales"];}h=h || [];h.push(this.platform.vq + this.errorCode);if(this.ta)switch(this.gbb(this.ta)){case k.M.oIa:h.push("incorrect_pin");break;default:h.push("" + this.ta);}h={display:{code:this.y5,text:this.oV},messageIdList:h,alert:this.alert,alertTag:this.Zia,preferredAudioLocale:null === (d=this.OH) || void 0 === d?void 0:d.M0a,preferredTextLocale:null === (g=this.OH) || void 0 === g?void 0:g.N0a};this.config().MEb && (h.debugData=this.pH);return h;};c.prototype.gbb=function(d){var g;g=parseInt(d,10);return isNaN(g)?d:g;};c.prototype.ENb=function(){var d;d=(0,m.Ea)(this.uf)?this.uf.toString():(0,m.Ue)(this.uf)?this.uf:"";return this.Q5 === k.p1.Ufa && (d.endsWith("2018") || d.endsWith("2020"));};c.prototype.hHb=function(){if(this.errorCode === k.N.AK && (this.ta === k.M.Cea || this.ta === k.M.kIa))return this.iHb(this.ta === k.M.Cea);};c.prototype.iHb=function(d){var g,h,l,n;l=this.config().browserInfo || ({});n=null === (g=l.os) || void 0 === g?void 0:g.name;g=((null === (h=l.os) || void 0 === h?void 0:h.version) || "").split(".");h=parseInt(g && g[0]);g=parseInt(g && g[1]);switch(n){case "windows":return 6 > h || 6 === h && 1 > g?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > h || 10 === h && 10 > g?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.bKa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mea="MediaElementHelpersSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rR="EventSourceFactorySymbol";},function(r,b,a){var f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.rR=b.IDa=void 0;r=a(1);f=a(335);a=a(0);c.prototype.create=function(){return new f.Rk();};k=c;k=r.__decorate([(0,a.T)()],k);b.IDa=k;b.rR="EventSourceFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mCa="DebouncerFactorySymbol";},function(r,b,a){var f;function c(k,m,d,g,h,l){this.level=k;this.Qo=m;this.timestamp=d;this.message=g;this.jc=h;this.index=void 0 === l?0:l;this.ljb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.Wda=void 0;f=a(5);c.prototype.mba=function(k,m){var d;d="" + this.message;this.jc.forEach(function(g){d+=g.MJ(k,m);});return (this.timestamp.da(f.la) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.ljb[this.level] || this.level) + "|" + this.Qo + "| " + d;};b.Wda=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GHa="MomentObserverFactory";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DLa="SegmentConfigFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OJa="PlaybackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lNa="VideoPlayerFactorySymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(670),b);r.__exportStar(a(671),b);r.__exportStar(a(672),b);r.__exportStar(a(673),b);r.__exportStar(a(674),b);r.__exportStar(a(675),b);r.__exportStar(a(676),b);r.__exportStar(a(677),b);r.__exportStar(a(678),b);r.__exportStar(a(679),b);r.__exportStar(a(680),b);r.__exportStar(a(681),b);r.__exportStar(a(685),b);r.__exportStar(a(216),b);r.__exportStar(a(686),b);r.__exportStar(a(217),b);r.__exportStar(a(687),b);r.__exportStar(a(688),b);r.__exportStar(a(689),b);r.__exportStar(a(690),b);r.__exportStar(a(691),b);r.__exportStar(a(692),b);r.__exportStar(a(693),b);r.__exportStar(a(694),b);r.__exportStar(a(695),b);r.__exportStar(a(696),b);r.__exportStar(a(697),b);r.__exportStar(a(698),b);r.__exportStar(a(699),b);r.__exportStar(a(700),b);r.__exportStar(a(701),b);r.__exportStar(a(702),b);r.__exportStar(a(703),b);r.__exportStar(a(704),b);r.__exportStar(a(713),b);r.__exportStar(a(716),b);r.__exportStar(a(717),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ija=void 0;b.ija=function(a,c,f){var k,m;k=!0;f.forEach(function(d){var g;if(k && a === d.profile){g=d.ranges;k=void 0 === g?c >= d.min && c <= d.max:g.some(function(h){return c >= h.min && c <= h.max;});!k && d.disallowed && d.disallowed.some(function(h){if(h.stream.bitrate === c)return (m=h.disallowedBy,!0);});}});return {inRange:k,x5:m};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.EF=void 0;b.EF={Dm:function(a){return a;}};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.zt=b.TK=void 0;c=a(353);(function(k){k[k.hP=0]="primary";k[k.sH=1]="fallback";})(f=b.TK || (b.TK={}));r=(function(){function k(m,d){var g,h;h=this;void 0 === d && (d=!1);this.hwb=d;this.filters=(g={},g[f.hP]=[],g[f.sH]=[],g);Array.isArray(m)?m.forEach(function(l){return h.and(l,f.hP);}):this.and(m);}k.prototype.and=function(m,d){void 0 === d && (d=f.hP);m !== c.EF && this.filters[d].push({filter:m,mUa:!0});return this;};k.prototype.or=function(m,d){void 0 === d && (d=f.hP);this.filters[d].push({filter:m,mUa:!1});return this;};k.prototype.filter=function(m){var d;d=this;[f.hP,f.sH].forEach(function(g){d.filters[g]=d.filters[g].filter(function(h){return m(g,h.filter);});});};k.prototype.Dm=function(m,d,g,h){var l;l=this;return [f.hP,f.sH].reduce(function(n,q){return l.filters[q].reduce(function(p,u){u.mUa?p=u.filter.Dm(p,d,g,h):0 === p.length && (p=u.filter.Dm(m,d,g,h));return p;},n);},m);};return k;})();b.zt=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Fr=b.Jlb=void 0;c=a(2);f=a(219);r=(function(){function k(m,d){this.G=m;this.iA=d?[d]:[];}Object.defineProperties(k.prototype,{value:{get:function(){return this.G;},enumerable:!1,configurable:!0}});k.prototype.addListener=function(m){-1 === this.iA.indexOf(m) && (this.iA=this.iA.slice(),this.iA.push(m));};k.prototype.removeListener=function(m){m=this.iA.indexOf(m);-1 !== m && (this.iA=this.iA.slice(),this.iA.splice(m,1));};return k;})();b.Jlb=r;r=(function(k){function m(d,g){return k.call(this,d,g) || this;}c.__extends(m,k);m.yza=function(d,g,h){return new f.zea(d,g,h,!1);};Object.defineProperties(m.prototype,{value:{get:function(){return this.G;},set:function(d){this.set(d);},enumerable:!1,configurable:!0}});m.prototype.set=function(d){var g;g=this.G;g !== d && (this.G=d,this.iA.forEach(function(h){return h({oldValue:g,newValue:d});}));};return m;})(r);b.Fr=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.MJa=void 0;c=a(2);r=(function(f){function k(m,d){m=f.call(this,m) || this;m.gXa=d;m.name="PlaybackError";return m;}c.__extends(k,f);k.vNb=function(m){return m && m.message && m.stack && m.gXa?"PlaybackError" === (null === m || void 0 === m?void 0:m.name):!1;};return k;})(Error);b.MJa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ee=void 0;r=a(2);r.__exportStar(a(358),b);r.__exportStar(a(732),b);r.__exportStar(a(220),b);r.__exportStar(a(733),b);r.__exportStar(a(734),b);r.__exportStar(a(735),b);r.__exportStar(a(359),b);r.__exportStar(a(737),b);c=a(56);Object.defineProperties(b,{ee:{enumerable:!0,get:function(){return c.ee;}}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qo=b.TQ=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.FPb=2]="lowCpuPlaybackStarting";})(b.TQ || (b.TQ={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.qo || (b.qo={}));},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.assert=b.AssertionError=void 0;c=a(1);f=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);return m;})(Error);b.AssertionError=f;b.assert=function(k,m){if(!k)throw new f(m || "Assertion failed");};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.f6=b.NXa=b.mna=void 0;c=a(362);b.mna=function(f,k){var m;m=void 0;return Object.keys(f.V).some(function(d){var g;return null === (g=(m=f.V[d]).next) || void 0 === g?void 0:g[k];})?m:void 0;};b.NXa=function(f,k){return c.ie(Object.keys(f.V),function(m){var d;return null === (d=f.V[m].next) || void 0 === d?void 0:d[k];});};b.f6=function(f,k){return Object.keys(f.V).filter(function(m){var d;return null === (d=f.V[m].next) || void 0 === d?void 0:d[k];});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ie=void 0;b.ie=function(a,c){for(var f=0;f < a.length;f++){if(c(a[f],f,a))return a[f];}};},function(r){function b(){}function a(c){this.yQa=c;this.Pp=[];this.Hg=null;}b.prototype.clear=function(){this.ef=null;this.size=0;};b.prototype.find=function(c){var k;for(var f=this.ef;null !== f;){k=this.un(c,f.data);if(0 === k)return f.data;f=f.xh(0 < k);}return null;};b.prototype.lowerBound=function(c){var d;for(var f=this.ef,k=this.iterator(),m=this.un;null !== f;){d=m(c,f.data);if(0 === d)return (k.Hg=f,k);k.Pp.push(f);f=f.xh(0 < d);}for(d=k.Pp.length - 1;0 <= d;--d){if((f=k.Pp[d],0 > m(c,f.data)))return (k.Hg=f,k.Pp.length=d,k);}k.Pp.length=0;return k;};b.prototype.upperBound=function(c){for(var f=this.lowerBound(c),k=this.un;null !== f.data() && 0 === k(f.data(),c);){f.next();}return f;};b.prototype.min=function(){var c;c=this.ef;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.ef;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.sf=function(c){for(var f=this.iterator(),k;null !== (k=f.next());){c(k);}};a.prototype.data=function(){return null !== this.Hg?this.Hg.data:null;};a.prototype.next=function(){var c;if(null === this.Hg){c=this.yQa.ef;null !== c && this.rPa(c);}else if(null === this.Hg.right){do {if((c=this.Hg,this.Pp.length))this.Hg=this.Pp.pop();else {this.Hg=null;break;}}while(this.Hg.right === c);}else (this.Pp.push(this.Hg),this.rPa(this.Hg.right));return null !== this.Hg?this.Hg.data:null;};a.prototype.SI=function(){var c;if(null === this.Hg){c=this.yQa.ef;null !== c && this.nPa(c);}else if(null === this.Hg.left){do {if((c=this.Hg,this.Pp.length))this.Hg=this.Pp.pop();else {this.Hg=null;break;}}while(this.Hg.left === c);}else (this.Pp.push(this.Hg),this.nPa(this.Hg.left));return null !== this.Hg?this.Hg.data:null;};a.prototype.rPa=function(c){for(;null !== c.left;){this.Pp.push(c);c=c.left;}this.Hg=c;};a.prototype.nPa=function(c){for(;null !== c.right;){this.Pp.push(c);c=c.right;}this.Hg=c;};r.exports=b;},function(r){function b(a){this.Aha=a;this.og=[];this.Rr=!1;this.sG=void 0;this.fk={};}b.prototype.M3=function(a){this.og.length === this.Aha && this.og.shift();Array.isArray(a)?this.og=this.og.concat(a):this.og.push(a);this.Rr=!0;};b.prototype.JN=function(){return this.og.length;};b.prototype.jka=function(){var a;a=this.og;return 0 < a.length?a.reduce(function(c,f){return c + f;},0) / this.og.length:void 0;};b.prototype.C4=function(){var a,c;a=this.og;if(0 < a.length){c=this.jka();a=a.reduce(function(f,k){return f + k * k;},0) / a.length;return Math.sqrt(a - c * c);}};b.prototype.Ut=function(a){var c,f,k;if(this.Rr || void 0 === this.sG)(this.sG=this.og.slice(0).sort(function(m,d){return m - d;}),this.fk={},this.Rr=!1);if(void 0 === this.fk[a]){c=this.sG;f=Math.floor(a / 100 * (c.length - 1) + 1) - 1;k=(a / 100 * (c.length - 1) + 1) % 1;this.fk[a]=f === c.length - 1?c[f]:c[f] + k * (c[f + 1] - c[f]);}return this.fk[a];};r.exports=b;},function(r,b,a){r.exports={Jbc:a(366),Rec:a(226),m6b:a(759),l6b:a(367),n6b:a(368),TDa:a(762)};},function(r,b,a){var m;function c(d){this.reset();this.r_b(d);}function f(d){this.setInterval(d);this.reset();}function k(d){this.rC=new f(d);this.Re=0;this.Vc=null;}m=a(10);c.prototype.r_b=function(d){this.cL=Math.pow(.5,1 / d);this.hT=d;};c.prototype.reset=function(d){d && d.Ha && m.Ea(d.Ha)?d.kj && m.Ea(d.kj)?(this.aw=this.Qob,this.Qp=d.Ha,this.oC=d.kj + d.Ha * d.Ha):(this.aw=this.Qob,this.Qp=d.Ha,this.oC=d.Ha * d.Ha):this.oC=this.Qp=this.aw=0;};c.prototype.add=function(d){var g;if(m.Ea(d)){this.aw++;g=this.cL;this.Qp=g * this.Qp + (1 - g) * d;this.oC=g * this.oC + (1 - g) * d * d;}};c.prototype.get=function(){var d,g,h;if(0 === this.aw)return {Ha:0,kj:0};d=this.Qp;g=this.oC;h=1 - Math.pow(this.cL,this.aw);d/=h;g/=h;h=d * d;return {Ha:Math.floor(d),kj:Math.floor(g > h?g - h:0)};};c.prototype.getState=function(){return 0 === this.aw?null:{a:Number(this.Qp.toPrecision(6)),s:Number(this.oC.toPrecision(6)),n:this.aw};};c.prototype.Xe=function(d){if(m.Kb(d) || !m.has(d,"a") || !m.has(d,"s") || !m.isFinite(d.a) || !m.isFinite(d.s))return (this.oC=this.Qp=this.aw=0,!1);this.Qp=d.a;this.oC=d.s;m.has(d,"n") && m.Ea(d.n)?this.aw=d.n:this.aw=16 * this.hT;return !0;};f.prototype.setInterval=function(d){this.hT=d;this.cL=-Math.log(.5) / d;};f.prototype.reset=function(d){this.Db=this.Ef=null;d && m.isFinite(d.Ha)?this.Qp=d.Ha:this.Qp=0;};f.prototype.start=function(d){m.Kb(this.Ef) && (this.Db=this.Ef=d);};f.prototype.add=function(d,g,h){var l,n,q;m.Kb(this.Ef) && (this.Db=this.Ef=g);this.Ef=Math.min(this.Ef,g);g=Math.max(h - g,1);l=this.cL;n=Math.max(h,this.Db);q=n - this.Db;h=n - h;this.Qp=this.Qp * (0 < q?Math.exp(-l * q):1) + 8 * d / g * (1 - Math.exp(-l * g)) * (0 < h?Math.exp(-l * h):1);this.Db=n;};f.prototype.get=function(d){var g;d=Math.max(d,this.Db);g=this.Qp * Math.exp(-this.cL * (d - this.Db));d=1 - Math.exp(-this.cL * (d - this.Ef));0 < d && (g/=d);return {Ha:Math.floor(g)};};f.prototype.toString=function(){return "ewmav(" + this.hT + ")";};k.prototype.setInterval=function(d){this.rC.setInterval(d);};k.prototype.reset=function(d){this.rC.reset(d);this.Re=0;this.Vc=null;};k.prototype.start=function(d){!m.Kb(this.Vc) && d > this.Vc && (this.Re+=d - this.Vc,this.Vc=null);this.rC.start(d - this.Re);};k.prototype.add=function(d,g,h){!m.Kb(this.Vc) && h > this.Vc && (this.Re+=g > this.Vc?g - this.Vc:0,this.Vc=null);this.rC.add(d,g - this.Re,h - this.Re);};k.prototype.stop=function(d){this.Vc=Math.max(m.Kb(this.rC.Db)?0:this.rC.Db + this.Re,m.Kb(this.Vc)?d:Math.min(this.Vc,d));};k.prototype.get=function(d){return this.rC.get((m.Kb(this.Vc)?d:this.Vc) - this.Re);};k.prototype.toString=function(){return this.rC.toString();};r.exports={ihb:c,F6b:f,ghb:k};},function(r,b,a){var f,k;function c(m,d,g,h){f.call(this,g,h);this.iw=new k(m);this.upb=d;}f=a(144);k=a(364);c.prototype=Object.create(f.prototype);c.prototype.shift=function(){var m;m=this.px(0);f.prototype.shift.call(this);null !== m && this.iw.M3(m);return m;};c.prototype.flush=function(){var m;m=this.get();this.iw.M3(m);f.prototype.reset.call(this);return m;};c.prototype.get=function(){var m;m=this.qW();return {sampleSize:this.JN(),w$:m,TX:m.Fk?(m.Tl - m.Sl) / m.Fk:void 0};};c.prototype.JN=function(){return this.iw.JN();};c.prototype.qW=function(){return this.iw.JN() < this.upb?{Sl:void 0,Fk:void 0,Tl:void 0,sampleSize:void 0,Fj:void 0}:{Sl:this.iw.Ut(25),Fk:this.iw.Ut(50),Tl:this.iw.Ut(75),sampleSize:this.iw.JN(),Fj:this.iw.Ut.bind(this.iw)};};c.prototype.toString=function(){return "biqr(" + this.aM + "," + this.Jd + "," + this.jk + ")";};r.exports=c;},function(r,b,a){var f,k;function c(m){this.J={vX:m.maxc || 25,cla:m.c || .5,o5b:m.w || 15E3,jz:m.b || 5E3};f.call(this,this.J.o5b,this.J.jz);this.JT();}f=a(144);k=a(224).TDigest;c.prototype=Object.create(f.prototype);c.prototype.shift=function(){var m;m=this.px(0);f.prototype.shift.call(this);null !== m && (this.ff.push(m,1),this.Rr=!0);return m;};c.prototype.flush=function(){var m;m=this.get();this.ff.push(m,1);this.Rr=!0;f.prototype.reset.call(this);return m;};c.prototype.get=function(){return this.Q_a();};c.prototype.$z=function(){var m;m=this.Q_a();return {min:m.min,p10:m.m$,p25:m.Sl,p50:m.Fk,p75:m.Tl,p90:m.n$,max:m.max,centroidSize:m.vwb,sampleSize:m.sampleSize,centroids:m.Ui};};c.prototype.Q_a=function(){var m;if(0 === this.ff.size())return null;m=this.ff.Fj([0,.1,.25,.5,.75,.9,1]);if(m[2] === m[4])return null;if(this.Rr || !this.kg)(this.Rr=!1,this.kg={min:m[0],m$:m[1],Sl:m[2],Fk:m[3],Tl:m[4],n$:m[5],max:m[6],Fj:this.ff.Fj.bind(this.ff),vwb:this.ff.size(),sampleSize:this.ff.n,Ui:this.kHb(),$z:this.$z.bind(this)});return this.kg;};c.prototype.kHb=function(){var m;if(0 === this.ff.size())return null;if(!this.Rr && this.kg)return this.kg.centroids;m=this.ff.Fj([.25,.75]);if(m[0] === m[1])return null;this.ff.size() > this.J.vX && this.ff.wz();m=this.ff.Ap(!1).map(function(d){return {mean:d.vg,n:d.n};});return JSON.stringify(m);};c.prototype.M_a=function(){return this.ff.summary();};c.prototype.size=function(){return this.ff.size();};c.prototype.toString=function(){return "btdtput(" + this.aM + "," + this.Jd + "," + this.jk + "): " + this.ff.summary();};c.prototype.JT=function(){this.ff=new k(this.J.cla,this.J.vX);};r.exports=c;},function(r,b,a){var f,k;function c(m){this.J={vX:m.maxc || 25,cla:m.c || .5,fXb:m.rc || "none",tKb:m.hl || 7200};this.JT();this.Yqb=this.J.fXb;this.hT=this.J.tKb;this.lga=Math.exp(Math.log(2) / this.hT);this.lga=Math.max(this.lga,1);this.B2=1;}f=a(10);k=a(224).TDigest;new (a(6).default.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var m;if(0 === this.ff.size())return null;m=this.ff.Fj([.25,.75]);if(m[0] === m[1])return null;this.ff.size() > this.J.vX && this.ff.wz();m=this.ff.Ap(!1).reduce((function(d,g){f.Ea(g.vg) && f.Ea(g.n) && d.push({mean:g.vg,n:g.n / this.B2});return d;}).bind(this),[]);return {tdigest:JSON.stringify(m)};};c.prototype.Xe=function(m){var d;if(f.Kb(m) || !f.has(m,"tdigest") || !f.Ue(m.tdigest))return !1;try{d=JSON.parse(m.tdigest);}catch(g){return !1;}d.forEach(function(g){f.isFinite(g.n) || (g.n=1);});m=d.map(function(g){return {vg:g.mean,n:g.n};});this.B2=1;this.ff.qva(m);void 0 === this.ff.Fj(0) && this.JT();};c.prototype.get=function(){var m,d;m=this.ff;d=m.Fj([0,.1,.25,.5,.75,.9,1]);return {min:d[0],m$:d[1],Sl:d[2],Fk:d[3],Tl:d[4],n$:d[5],max:d[6],Ui:m.Ap(!1)};};c.bJb=function(m){var d;d=new c({});f.Kb(m) || f.ka(m) || !f.isArray(m.Ui) || (d.ff.qva(m.Ui),void 0 === d.ff.Fj(0) && d.JT());m=d.ff.Fj([.25,.75]);return m[0] === m[1]?null:function(g){return d.ff.Fj(g);};};c.prototype.add=function(m){var d;d=1;"ewma" === this.Yqb && (this.B2=d=this.B2 * this.lga);this.ff.push(m,d);};c.prototype.toString=function(){return "TDigestHist(" + this.ff.summary() + ")";};c.prototype.JT=function(){this.ff=new k(this.J.cla,this.J.vX);};r.exports={uMa:c};},function(r,b,a){var c,f,k,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.FEa=b.Eda=void 0;c=a(2);f=c.__importStar(a(10));k=c.__importDefault(a(6));m=a(773);d=a(774);g=(function(){return function(){this.m4=new d.pS(100);this.M9=new d.pS(100);};})();r=(function(){function h(l,n,q){var p,u,t;this.J=n;this.I=q;this.r3=l;p=this.RL=this.gL=this.fL=0;u=0;t=0;this.r3.length >= this.J.x9 && (this.r3.forEach(function(w){!(w=w.get().VFb) || f.ka(w.avtp) || f.ka(w.neuhd) || (p+=w.avtp,u+=1 * w.neuhd,t++);}),this.RL=t,this.fL=p / t,this.gL=u / t);}Object.defineProperties(h.prototype,{Gub:{get:function(){return this.fL;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Iub:{get:function(){return this.gL;},enumerable:!1,configurable:!0}});h.prototype.i8=function(){return this.RL >= this.J.x9 && this.fL >= this.J.baselineHighAndStableThreshold.bwThreshold && this.gL < this.J.baselineHighAndStableThreshold.nethreshold;};return h;})();b.Eda=r;r=(function(h){function l(n,q,p){n=h.call(this,n,q,p) || this;n.cga=[];n.dFb={};n.Cbb=[];n.Bz=new g();n.r3.length >= n.J.x9 && (n.DQa("avtp",n.Bz.m4),n.DQa("neuhd",n.Bz.M9));return n;}c.__extends(l,h);l.prototype.i8=function(){var n;this.aJb();n=new m.yGa(this.I,this.Cbb,this.Yub);n.Rua(this.cga);n=n.fxb(this.J.z7.iec);return this.l4b && 1 === n && this.RL >= this.J.x9;};l.prototype.dW=function(){var n,q,p,u;n={};q=k.default.time.now();p=new Date(q);u=p.getHours();n.currentMonoTime=q;n.currentTime=p.getTime();n.currentHour=u;return n;};l.prototype.eZa=function(n,q,p){n="avtp" === n?this.fL:this.gL;for(var u=q.C4(),t=0,w="skew" === p?3:4,v=0;v < q.og.length;v++){f.ka(n) || f.ka(u) || (t+=Math.pow(q.og[v] - n,w));}t/=q.og.length;return !f.ka(u) && 0 < u?t / Math.pow(u,w) - 3 * ("skew" === p?0:1):NaN;};l.prototype.yZa=function(n,q,p){var u;u=0;"lte" === p?u=n.reduce(function(t,w){return w <= q?t + 1:t;},0) / (1 * n.length):"gte" === p && (u=n.reduce(function(t,w){return w >= q?t + 1:t;},0) / (1 * n.length));return u;};l.prototype.IIb=function(n){var q,p;q=n.Ut(25);p=n.Ut(50);n=n.Ut(75);return f.ka(q) || f.ka(p) || f.ka(n)?NaN:0 < p?(n - q) / p:NaN;};l.prototype.bHb=function(n,q){n="avtp" === n?this.fL:this.gL;q=q.C4();return !f.ka(q) && !f.ka(n) && (0 < q || 0 < n) && 0 < n?(n - q) / (n + q):NaN;};l.prototype.qW=function(n,q){n=n.Ut(q);return f.ka(n)?NaN:n;};l.prototype.normalize=function(n,q,p){return !isNaN(n) && 0 < p?(n - q) / p:NaN;};l.prototype.aJb=function(){var n,q,p,u,t,w,v,x,y,z,A,B;n=this;q=this.J.z7.E3a.Ucc;p=this.J.z7.E3a.Scc;u=this.J.z7.E3a.Tcc;x=[];B=0;this.l4b=!Object.keys(q).some(function(E){var D;A=NaN;if(!(q.hasOwnProperty(E) && p.hasOwnProperty(E) && u.hasOwnProperty(E) && !f.ka(n.Bz) && n.Bz.m4 && n.Bz.M9) || 1 > n.RL || "number" !== typeof q[E] || "number" !== typeof p[E] || "number" !== typeof u[E])return !0;t=q[E];w=p[E];v=u[E];x=E.split("_",2);y=x[0];z=x[1];switch(y){case "avtp":D=n.Bz.m4;break;case "neuhd":D=n.Bz.M9;break;default:D=void 0;}if("avtp" === y || "neuhd" === y){if(D)switch(z){case "last":A=D.og[n.RL - 1];break;case "mean":A="avtp" === y?n.fL:n.gL;break;case "niqr":A=n.IIb(D);break;case "skew":A=n.eZa(y,D,"skew");break;case "kurtosis":A=n.eZa(y,D,"kurtosis");break;case "std":A=D.C4();break;case "b":A=n.bHb(y,D);break;default:-1 !== E.search("[p][1-9]?[1-9]") && (A=n.qW(D,Number(E.split("_p",2)[1])));}}else switch(E){case "fracAbove20Mbps":D=n.Bz.m4;A=f.ka(D)?NaN:n.yZa(D.og,2E4,"gte");break;case "fracBelow20p":D=n.Bz.M9;A=f.ka(D)?NaN:n.yZa(D.og,.15,"lte");break;case "hour_current":A=n.dW().currentHour;break;case "session_ct":A=n.RL;break;case "intercept":(A=t,n.Yub=A);}A=n.normalize(A,w,v);if(isNaN(A))return !0;"intercept" !== E && (n.cga.push(A),n.Cbb.push(t),n.dFb[E]=B,B+=1);});};l.prototype.DQa=function(n,q){this.r3.forEach(function(p){p=p.get().VFb;!p || "avtp" !== n && "neuhd" !== n || f.ka(p[n]) || q.M3(Number(p[n]));});};return l;})(r);b.FEa=r;},function(r,b,a){var f,k,m,d;function c(g){return function(){for(var h=Array(this.length),l=0;l < this.length;++l){h[l]=g.call(this,l);}return h;};}Object.defineProperties(b,{__esModule:{value:!0}});b.Otb=b.ax=b.Sfa=b.JMa=void 0;r=a(2);f=a(4);r=r.__importDefault(a(6));k=a(21);m=new r.default.Console("FRAGMENTS","media|asejs");d=(function(){function g(h,l){this.qd=h;this.Qe=l;}Object.defineProperties(g.prototype,{index:{get:function(){return this.Qe;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Xc:{get:function(){return new k.O(this.Za,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Td:{get:function(){return new k.O(this.tb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Za:{get:function(){return this.qd.v3 + this.qd.MC[this.Qe];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{tb:{get:function(){return this.Za + this.qd.Lr[this.Qe];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{eu:{get:function(){return this.qd.Lr[this.Qe];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{va:{get:function(){return this.qd.va;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{W:{get:function(){return this.qd.W;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$:{get:function(){return Math.floor(1E3 * this.Za / this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{La:{get:function(){return Math.floor(1E3 * (this.Za + this.eu) / this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{duration:{get:function(){return this.La - this.$;},enumerable:!1,configurable:!0}});g.prototype.toJSON=function(){return {startPts:1E3 * this.Za / this.va.W,endPts:1E3 * this.tb / this.va.W,duration:1E3 * this.eu / this.va.W,index:this.index};};return g;})();b.JMa=d;a=(function(){function g(h,l,n,q){this.mediaType=h;this.length=n.vd.length;this.ob=n.W;this.Lr=n.vd;this.O3=q && q.Yu;this.mRa=q && q.nv;this.yL=l;this.Oya=this.Pya=this.jPa=void 0;this.v3=n.ul;this.MC=new Uint32Array(this.length + 1);if(this.length){for(l=h=0;l < this.length;++l){this.MC[l]=h;h+=this.Lr[l];}this.MC[l]=h;this.kga=Math.floor((this.La - this.$) / this.length);}}Object.defineProperties(g.prototype,{ul:{get:function(){return this.Mab(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Kma:{get:function(){return this.Mab(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$:{get:function(){return this.Kj(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{La:{get:function(){return this.Kj(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$i:{get:function(){return new k.O(this.Kma,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{usa:{get:function(){return this.jPa || this.tnb();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{va:{get:function(){return this.yL;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{W:{get:function(){return this.ob;},enumerable:!1,configurable:!0}});g.prototype.Mab=function(h){return this.v3 + this.MC[h];};g.prototype.Kj=function(h){return Math.floor(1E3 * (this.v3 + this.MC[h]) / this.W);};g.prototype.EV=function(h){return this.Kj(h + 1);};g.prototype.vd=function(h){return this.EV(h) - this.Kj(h);};g.prototype.get=function(h){return new d(this,h);};g.prototype.Nn=function(h,l,n){if(0 === this.length || h < this.Kj(0))return -1;h=Math.max(h,l || 0);for(var q=0,p=this.length - 1,u,t;p >= q;){if((u=q + (p - q >> 1),t=this.Kj(u),h < t))p=u - 1;else if(h >= t + this.vd(u))q=u + 1;else {for(;l && u < this.length && this.Kj(u) < l;){++u;}return u < this.length?u:n?this.length - 1:-1;}}return n?this.length - 1:-1;};g.prototype.g6=function(h,l,n){h=this.Nn(h,l,n);return 0 <= h?this.get(h):void 0;};g.prototype.pla=function(h,l){var n,q;n=Math.floor(l * this.W / 1E3);l=Math.min(h + Math.ceil(l / this.kga),this.length);q=this.MC[l] - this.MC[h];if(q > n){for(;q >= n;){--l;q-=this.Lr[l];}return l - h + 1;}for(;q < n && l <= this.length;){q+=this.Lr[l];++l;}return l - h;};g.prototype.subarray=function(h,l){f.assert(void 0 === h || 0 <= h && h < this.length);f.assert(void 0 === l || l > h && l <= this.length);return new g(this.mediaType,this.va,{W:this.W,ul:this.v3 + this.MC[h],vd:this.Lr.subarray(h,l)},this.O3 && ({Yu:this.O3.subarray(h,l + 1),nv:this.mRa}));};g.prototype.forEach=function(h){for(var l=0;l < this.length;++l){h(this.get(l),l,this);}};g.prototype.map=function(h){for(var l=[],n=0;n < this.length;++n){l.push(h(this.get(n),n,this));}return l;};g.prototype.reduce=function(h,l){for(var n=0;n < this.length;++n){l=h(l,this.get(n),n,this);}return l;};g.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.kga};};g.prototype.dump=function(){var l;m.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.kga + "ms");for(var h=0;h < this.length;++h){l=this.get(h);m.trace("TrackFragments: " + h + ": [" + l.$ + "-" + l.La + "]");}};g.prototype.tnb=function(){for(var h=0,l=0;l < this.length;l++){h=Math.max(this.Lr[l],h);}return this.jPa=h;};return g;})();b.Sfa=a;b.ax=c;a.prototype.Lab=c(a.prototype.Kj);c(a.prototype.EV);c(a.prototype.vd);b.Otb=function(g){return "[" + Array(g.length).map(function(h,l){return g[l].toString();}).join(",") + "]";};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.WWa=b.Tz=b.Em=b.P6=void 0;c=a(4);f=a(143);b.P6=function(k,m){return k.Nn(m,void 0,!0);};b.Em=function(k,m,d,g,h,l){var n,q,p,u;f.gn.Cq(k);c.assert(d.Y,"findFirstFragment called without stream fragments");n=d.Y;g=Math.max(d.Y.Kj(0),g);0 === k && !l && m.qm && !m.GG && d.zf && (g=Math.max(d.Y.Kj(0),g + d.zf.U));q=b.P6(n,g);p=d.jl(q);if(p.La < g)return p;u=p.pna(g);u?(0 < u.sl && p.Lk({start:u.sl}),0 !== k || m.Ksa || (0 > u.Fd && p.Lk({start:u.sl}),u.Fd < (m.qm && !m.GG && d.zf?Math.floor(d.zf.U):0) && p.wma())):g >= p.La && q < n.length - 1 && (p=d.jl(q + 1));1 === k && h && p.La === h && q < n.length - 1 && (p=d.jl(q + 1));0 === k && !p.ya && (m.z1a || m.sDb) && l && p.Lk({});p.QP(g);return p;};b.Tz=function(k,m,d,g,h,l){var n,q;f.gn.Cq(k);n=d.Y;void 0 === g && (g=n.La);if(h && (h=h.yFb(d,g,k,m,l)))return h;h=n.va;l=g?g + b.WWa(k,h,m.AE,m.uaa):n.EV(n.length - 1);n=n.Nn(l,void 0,!0);h=d.jl(n);0 === n || h.$ !== g || 1 !== k && m.AE || (--n,h=d.jl(n));l=1 === k?l:g;if(l < h.La){q=h.ona(l);q && 0 !== q.sl?h.Lk({end:q.sl}):0 === k && (q || l < h.$) && 0 !== n?h=d.jl(n - 1):1 !== k || (d.TMb || m.hza) && !q || 0 === n || (h=d.jl(n - 1));}0 === k && !h.ya && m.z1a && h.Lk();h.QP(g);return h;};b.WWa=function(k,m,d,g){var h;return 1 === k || g?0:d?null !== (h=null === m || void 0 === m?void 0:m.U) && void 0 !== h?h:0:m?-m.U:0;};},function(r,b,a){var c,f,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.pAa=void 0;c=a(779);f=a(21);k=a(4);m=a(101);r=(function(){function d(g,h,l){var n,q,p;this.J=h;this.I=l;this.ik=g.track;this.XL=g.Pf;this.As=g.As;this.Uob=g.As.ml;this.AL=this.Qa=void 0;h=g.Fu;this.Fu=void 0 === h?!0:h;this.x5=g.x5;this.xL=void 0;this.lPa=this.Fg=0;this.url=this.oJ=this.Pc=this.Ss=this.Mra=this.location=this.Sa=this.zb=void 0;this.jA=!1;this.gra=this.kf=void 0;h=(g=this.J) && "object" === typeof g.b8a && g.b8a[this.profile];"object" === typeof h && (h=h[this.bitrate]) && (this.Tqb=new f.O(h.ticks,h.timescale));this.Hpb=0 <= (null === (n=g.uub) || void 0 === n?void 0:n.indexOf(this.profile));if((null === (q=g.ZO) || void 0 === q?0:q.Abc) && 1 === this.mediaType && (n=this.As,0 < (null === (p=n.dr) || void 0 === p?void 0:p.length))){p=n.dr.splice(0,n.dr.length);n=new Uint8Array(p.length);for(q=0;q < p.length;q++){n[q]=p[q].xb;}this.dr=n;}}Object.defineProperties(d.prototype,{me:{get:function(){return ! !this.Qa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{R:{get:function(){return this.ik.R;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{S:{get:function(){return this.R.S;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{K:{get:function(){return this.ik.K;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{mediaType:{get:function(){return this.ik.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{va:{get:function(){return this.ik.va;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{W:{get:function(){return this.ik.W;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{FO:{get:function(){return this.ik.FO;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{trackId:{get:function(){return this.ik.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{track:{get:function(){return this.ik;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Pf:{get:function(){return this.XL;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ta:{get:function(){return this.As.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{id:{get:function(){return this.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ml:{get:function(){return this.Uob;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bitrate:{get:function(){return this.As.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xb:{get:function(){return this.As.vmaf || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{FYb:{get:function(){return this.As.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{kaa:{get:function(){return this.As.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{profile:{get:function(){return this.As.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Lg:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Vs:{get:function(){return this.As.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{zf:{get:function(){return this.Tqb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{WKb:{get:function(){return this.Hpb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Y:{get:function(){return this.Qa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{KA:{get:function(){return this.Qa && this.Qa.KA;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Mna:{get:function(){return this.ik.Mna;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Lna:{get:function(){return this.ik.Lna;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{lu:{get:function(){return void 0 !== this.xL?this.xL:this.GNb();},set:function(g){this.xL=g;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Hu:{get:function(){return this.Fu && !this.jA;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ah:{get:function(){return this.AL;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{TMb:{get:function(){k.assert(! !this.Y,"Initial header should have been received already");return this.R.Ww() && -1 < this.Lg.indexOf("h264mpl") && void 0 === this.Y.Xia;},enumerable:!1,configurable:!0}});d.prototype.kl=function(){return this.R.kl(this.mediaType,this.Ta);};d.prototype.R6=function(){var g;g=this.kl();return g && g.stream.Y;};d.prototype.UE=function(g){return this.R.UE(this,g);};d.prototype.e$=function(){this.track.e$();};d.prototype.d$=function(){this.track.d$();};d.prototype.c$=function(g,h,l,n,q,p,u){n && void 0 !== n.ul && (this.track.me || void 0 !== n.vd && n.vd.length) && void 0 !== n.offset && void 0 !== n.sizes && n.sizes.length?(this.J.qm && this.zf && 0 === n.ul && (n.ul+=this.zf.eg(n.W).pc),this.AL=g,this.me || (this.track.c$(this,h,l,n,p),this.Qa=new c.fMa(this.XL,this.track.Bp,n,q,p,u,this.K),this.track.fTb(this))):n?this.I.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== n.ul) + "," + this.track.me + "," + this.track.Zua + "," + (void 0 !== n.vd) + "," + !(!n.vd || !n.vd.length) + "," + (void 0 !== n.offset) + "," + (void 0 !== n.sizes) + "," + !(!n.sizes || !n.sizes.length)):this.I.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};d.prototype.W4=function(g){this.me || (this.track.oyb(g.track),this.Qa=g.Y,this.AL=g.ah);};d.prototype.jl=function(g){return new m.hn(this,this.Y.get(g));};d.prototype.tZa=function(g){var h;h=this.jl(g.index);g.ya && (h.Lk(g.ya),h.QP(g.uv));return h;};d.prototype.Lcb=function(g,h){this.Fg=g;this.lPa=h;};d.prototype.oxb=function(){this.Sa=this.zb=this.Pc=this.location=this.url=void 0;};d.prototype.toJSON=function(){return {movieId:this.K,mediaType:this.mediaType,streamId:this.Ta,bitrate:this.bitrate,streamIndex:this.Pf,isAvailable:this.Fu,fittable:this.lu,vmaf:this.xb,resolutionWidth:this.FYb,resolutionHeight:this.kaa};};d.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Ta + ":" + this.bitrate;};d.prototype.GNb=function(){var g,h,l,n,q;if(!this.me)return !0;if(this.track.Tpa >= this.bitrate)return this.xL=!0;if(this.track.C3a <= this.bitrate)return this.xL=!1;q=this.Qa.Nvb(this.J.qI,this.Fg,null !== (h=null === (g=this.R) || void 0 === g?void 0:g.vJ.U) && void 0 !== h?h:0,null !== (n=null === (l=this.R) || void 0 === l?void 0:l.vJ.ga) && void 0 !== n?n:0,this.lPa);q?this.track.Zua && !this.ml && this.track.Uw || (this.track.Tpa=this.bitrate):this.track.C3a=this.bitrate;return this.xL=q;};return d;})();b.pAa=r;},function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,f){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),f * a.byteLength / a.length);}:function(a,c,f){a.set(c,f);};r.exports={from:function(a,c,f,k){a=new a(c.length);for(var m="function" === typeof f,d=0;d < c.length;++d){a[d]=m?f.call(k,c[d],d,c):c[d];}return a;},set:b};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){var m;m=null !== f && f.apply(this,arguments) || this;m.Wz=1536;return m;}c.__extends(k,f);k.Ra=!0;return k;})(a(176).default);b.default=r;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Yb="ac-3";return k;})(r);b.bca=a;r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Yb="ec-3";return k;})(r);b.kda=r;},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(100);r=a(32);k=f.CF;r=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.parse=function(){this.zc();this.fileSize=this.u.Wd();this.W=this.u.Wd();this.duration=this.u.Wd(!1,!0);this.Gta=this.u.Wd();this.u.Wd();this.Kta=this.u.Wd();this.nta=this.u.Ca();this.Hta=this.u.Wd();this.Bna=this.u.Ca();this.u.gB();this.Ve={moof:{offset:this.Gta},sidx:{offset:this.Hta,size:this.Bna}};this.Ve[f.fS]={offset:this.Kta,size:this.nta};this.u.offset - this.startOffset <= this.length - 24 && (this.Jta=this.u.Wd(),this.hta=this.u.Ca(),this.Ita=this.u.Wd(),this.fta=this.u.Ca(),this.Ve[f.ny]={offset:this.Jta,size:this.hta},this.Ve[f.my]={offset:this.Ita,size:this.fta});return !0;};d.Yb=k;d.Ra=!1;return d;})(r.Fc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(100);a=a(32);f=r.DF;a=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.parse=function(){var d,l,n;this.zc();1 <= this.version && this.u.gB();d=this.u.Ca();this.Ve={};for(var g=this.startOffset + this.length,h=0;h < d;++h){l=this.u.Vl();"uuid" === l && (l=this.u.gB());n=this.u.Wd();this.Ve[l]={offset:g,size:n};g+=n;}return !0;};m.Yb=f;m.Ra=!1;return m;})(a.Fc);b.default=a;},function(r){var b,a,c,f;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Mk:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Mk:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Mk:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};f={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Mk:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};r.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":f},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":f};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(32);k=a(83);r=(function(m){function d(g,h,l,n,q){l=m.call(this,l,n,q) || this;l.Oja=g;l.kr=h;l.Xa={};return l;}c.__extends(d,m);d.prototype.parse=function(g){var h,l,n,q,p,u;this.offset=0;h=[];for(g=g || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){l=this.offset;n=this.Ca();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};q=k.Bo(this.Ca());if(null === q)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === q){if(16 > this.view.byteLength - this.offset)break;q=this.gB();}if(0 === h.length && this.kr.VV(q,l,n))break;if(l + n > this.view.byteLength)break;p=this.Oja[q];u=void 0;if(p){if((u=new p(this,q,l,n,h[0]),(h[0] || this).Mt(u),u.parse(g)))this.config.II && p.Ra?h.unshift(u):this.offset=l + n;else return {done:!1,offset:this.offset,error:"parse error in " + q + " box"};}else this.offset=l + n;for(;h.length && this.offset > h[0].byteOffset + h[0].eo - 8;){u=h.shift();if(!u.ju(g))return {done:!1,offset:this.offset,error:"finalize error in " + u.type + " box"};this.offset=u.byteOffset + u.eo;}if(0 === h.length && this.kr.pV(q,l,n,u))break;}return !this.kr.done && (g=this.kr.endOffset?this.kr.endOffset - this.view.byteLength:4096,0 < g)?{done:!1,offset:this.offset,OX:g}:{done:!0,offset:Math.min(this.kr.endOffset || Infinity,this.offset)};};d.prototype.Mt=function(g){f.Fc.Mt(this,g);};return d;})(a(799).Xfa);b.dF=r;},function(r,b,a){var f;function c(k,m){k=m.indexOf(k);-1 !== k && m.splice(k,1);}Object.defineProperty(b,"__esModule",{value:!0});f=a(100);r=(function(){function k(m){this.endOffset=m;this.done=!1;}k.prototype.VV=function(){return this.done;};k.prototype.pV=function(m,d,g){return this.done=d + g >= this.endOffset;};return k;})();b.lR=r;r=(function(){function k(m,d,g,h){void 0 === d && (d=[]);void 0 === g && (g=[]);void 0 === h && (h=!1);this.Yh=m;this.Iz=d;this.d_=g;this.mY=h;this.done=!1;this.Ve={};}k.prototype.VV=function(m,d,g){-1 !== k.Lpa.indexOf(m) && (this.Ve[m]={offset:d,size:g});if(-1 !== this.d_.indexOf(m)){if((this.Ve[m]={offset:d,size:g},this.mY))this.endOffset=d + g;else return (this.endOffset=d,this.done=!0);}else this.Yh && -1 !== this.Yh.indexOf(m)?(m=1 < this.Yh.length?4096:0,this.endOffset=Math.max(d + g + m,this.endOffset || 0)):-1 !== this.Iz.indexOf(m) && (m=this.Yh?4096:0,this.endOffset=Math.max(d + g + m,this.endOffset || 0));return this.done;};k.prototype.pV=function(m,d,g,h){var l;l=this;if(-1 !== this.d_.indexOf(m))return this.done=!0;m === f.CF && this.CZ(h.Ve);m === f.DF && this.CZ(h.Ve);this.Yh && c(m,this.Yh);c(m,this.Iz);return this.Yh && 0 === this.Yh.length && !this.Iz.some(function(n){return l.Ve[n];})?this.done=!0:this.done;};k.prototype.CZ=function(m){var d;d=this;this.Ve=m;this.endOffset=(this.Yh || []).concat(this.Iz).reduce(function(g,h){return d.Ve[h]?(h=d.Ve[h],Math.max(h.offset + (h.size || 4096),g)):g;},this.endOffset || 0);};k.Lpa=["moov","sidx"];return k;})();b.Dda=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Gfa=void 0;c=a(2);f=a(118);a(4);c.__importDefault(a(34));r=(function(){function k(m,d,g,h,l,n){this.vd=m;this.AJ=g;this.W=l;this.cPa=!1;this.length=Math.min(m.length,d.length,g.length);this.hk=d;h.length !== this.length?(m=new Uint8Array(this.length),f.WK.set(m,h.subarray(0,this.length),0),this.Lt=m):this.Lt=h;this.Qc=n;}Object.defineProperties(k.prototype,{ga:{get:function(){return void 0 !== this.Qc?this.Qc:this.Qc=this.rga();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{sizes:{get:function(){return this.hk;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Gi:{get:function(){return this.Lt;},enumerable:!1,configurable:!0}});k.prototype.subarray=function(m,d){return new k(this.vd.subarray(m,d),this.sizes.subarray(m,d),this.AJ.subarray(m,d),this.Gi.subarray(m,d),this.W);};k.prototype.concat=function(){var g,h,l,n;for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}d=[this];m=d.concat.apply(d,c.__spread(m));d=m.reduce(function(q,p){return q + p.length;},0);g=new Uint32Array(d);h=new Uint32Array(d);l=new Uint8Array(d);n=new Uint8Array(d);d=m[0].W;m.reduce(function(q,p){f.WK.set(g,p.vd,q);f.WK.set(h,p.sizes,q);f.WK.set(l,p.AJ,q);f.WK.set(n,p.Gi,q);return q + p.length;},0);return new k(g,h,l,n,d);};k.prototype.rga=function(){for(var m=this.sizes,d=this.length,g=0,h=0;h < d;++h){g+=m[h];}return g;};k.prototype.CQb=function(){this.cPa || (this.cPa=!0,this.hk=new Uint32Array(this.hk),this.Lt=new Uint8Array(this.Lt),this.ZL=new Uint8Array(this.Lt.length));};k.prototype.DQb=function(){void 0 === this.ZL && (this.ZL=new Uint8Array(this.Lt.length));};k.prototype.upgrade=function(m,d){var g;this.CQb();m.DQb();g=m.sizes[d];void 0 !== this.Qc && (this.Qc+=g - this.sizes[d]);this.ZL[d]=1;m.ZL[d]=1;this.AJ[d]=m.AJ[d];this.Gi[d]=m.Gi[d];this.sizes[d]=g;};k.prototype.Q1a=function(m){return void 0 === this.ZL?!1:0 < this.ZL[m];};return k;})();b.Gfa=r;},function(r,b,a){var c,f,k,m,d,g,h,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.uca=void 0;c=a(2);f=a(118);r=a(17);k=c.__importDefault(a(6));m=a(9);d=a(43);g=a(4);h=a(239);l=a(383);a=a(384);n=k.default.MediaSource;a=(function(q){function p(u,t,w,v,x,y,z){t=q.call(this,u,v,x,t,z) || this;l.g0.k1a(t,u,v,z);t.Js=w;t.track=w.track;t.Ow=! !v.Ow;t.GO=! !v.GO;t.nD=! !v.nD;t.RTb=v.ga;t.XP=! !v.XP;t.rha=(y?"(cache)":"") + t.Ta + " header";w=v.offset;y=v.ga;t.vn && (w+=t.vn.byteLength,y-=t.vn.byteLength);t.UL(u.url || v.url,w,y);return t;}c.__extends(p,q);Object.defineProperties(p.prototype,{dd:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{nY:{get:function(){return this.Bqb;},enumerable:!1,configurable:!0}});p.prototype.fd=function(){var u;if(!this.complete){u={type:"headerRequestCancelled",request:this};this.emit(u.type,u);}q.prototype.fd.call(this);};p.prototype.UV=function(u){this.stream.e$();q.prototype.UV.call(this,u);};p.prototype.rN=function(u,t,w){this.stream.d$();q.prototype.rN.call(this,u,t,w);};p.prototype.Ek=function(u){this.vn=this.vn?m.fD(this.vn,u.response):u.response;u.WY();this.stream.d$();this.zqb()?q.prototype.Ek.call(this,u):this.JNa?(this.UL(u.url,u.offset + u.ga,this.JNa),this.stream.e$(),q.prototype.Ek.call(this,u)):this.q6(this);};p.prototype.UL=function(u,t,w){u=new h.SQ(this.stream,this.track,this.rha + " (" + this.Ga.length + ")",{offset:t,ga:w,url:u,location:this.location,Qd:this.Qd,responseType:0},this,this.hf,this.I);this.push(u);this.Qc=this.Ga.reduce(function(v,x){return v + x.ga;},0);};p.prototype.zqb=function(){var u,t,w,v,x,y,z;v=this.hf;x=new f.Er(p.ERb,this.stream,this.vn,["sidx"],!0,{Oec:this.stream.track.Zua,s$:void 0 === this.va,uba:!n.Rc || !n.Rc.PTa,vba:v.vba,qm:v.qm,FB:this.hf.FB,K9a:!0,JE:!n.Rc || !n.Rc.j5a});y=x.parse({va:this.va});this.w4b=v.FB && x.m0a;if(y.Nm){g.assert(y.ah);this.AL=y.ah;this.Bqb=y.nY;this.pOa=! !y.UWa;void 0 === this.va && void 0 === y.va && this.I.error("No frame duration available for " + this.Ta);x=y.va?new m.O(y.va):this.va;z=void 0;if(1 === this.gZ.mediaType && (null === (u=v.ZO) || void 0 === u?0:u.enabled))if(null === (t=this.gZ.dr) || void 0 === t?0:t.length)z=this.gZ.dr;else if((u=this.gZ.As.dr,0 < (null === u || void 0 === u?void 0:u.length)))for((z=new Uint8Array(u.length),w=0);w < u.length;w++){z[w]=u[w].xb;}else if(null === (w=y.Gi) || void 0 === w?0:w.length)for((z=new Uint8Array(y.Gi.length),w=0);w < y.Gi.length;w++){z[w]=y.Gi[w];}this.stream.c$(y.ah,y.W,x,y.Y,y.tI,y.mi,z);this.vn=void 0;}else this.JNa=y.lRa || 0;return ! !y.Nm;};p.ERb=new k.default.Console("MP4","media|asejs");return p;})(a.rca);b.uca=a;d.Bf(l.g0,a,!1,!1);d.Bf(r.EventEmitter,a);},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.g0=void 0;c=a(2);f=a(4);k=a(177);r=(function(m){function d(g,h,l){var n;n=m.call(this,g,h) || this;n.XP=!1;n.Ow=!1;n.GO=!1;n.nD=!1;n.Js=void 0;d.k1a(n,g,h,l);return n;}c.__extends(d,m);d.k1a=function(g,h,l,n){k.Bv.Fb(g,h,l);g.AL=l.ah;g.vn=l.jua;g.pOa=l.gl;g.I=n;};Object.defineProperties(d.prototype,{dd:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ah:{get:function(){return this.AL;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{jua:{get:function(){return this.vn;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{gl:{get:function(){return this.pOa;},enumerable:!1,configurable:!0}});d.prototype.fd=function(){};d.prototype.bza=function(){};d.prototype.ptb=function(g){f.assert(this.pd.Ta === g.Ta);!g.me && this.pd.me && g.W4(this.pd);!g.location && this.pd.location && (g.location=this.pd.location,g.Pc=this.pd.Pc,g.oJ=this.pd.oJ,g.url=this.pd.url,g.zb=this.pd.zb);this.pd=g;};d.prototype.toJSON=function(){return c.__assign(c.__assign({},m.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.Y});};return d;})(k.Bv);b.g0=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.rca=void 0;c=a(2);c.__importDefault(a(6));a(4);r=(function(f){function k(m,d,g,h,l){m=f.call(this,m,d,g,h,l) || this;m.zOa=!1;m.yOa=!1;m.eT=!1;m.Ga=[];m.Ho=!1;m.EPa=!1;m.UOa=!1;m.bf=!1;m.lm=!1;m.Li=!1;m.$K=!1;m.FL=void 0;m.ew=void 0;return m;}c.__extends(k,f);Object.defineProperties(k.prototype,{Qqa:{get:function(){return this.Ho && !this.eT;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.bf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Iva:{get:function(){return this.lm;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.Li || (this.Li=this.Ga.every(function(m){return m.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{aborted:{get:function(){return this.$K;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{jh:{get:function(){return this.Ga.reduce(function(m,d){return m + d.jh;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bytesReceived:{get:function(){return this.Ga.reduce(function(m,d){return m + d.bytesReceived;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xf:{get:function(){return this.FL || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{url:{get:function(){return this.Ga[0] && this.Ga[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{readyState:{get:function(){return this.Jh || this.Ga.reduce(function(m,d){return Math.min(m,d.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{status:{get:function(){return this.ew && this.ew.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{vh:{get:function(){return this.ew && this.ew.vh;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{mN:{get:function(){return this.ew && this.ew.mN;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Cj:{get:function(){return this.ew && this.ew.Cj;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Gu:{get:function(){return ! !this.Ga.length && this.Ga[0].Gu;},enumerable:!1,configurable:!0}});k.prototype.push=function(m){this.UOa && m.Fb(this.Ua);this.Ga.push(m);this.Ho && m.UO();};k.prototype.Fb=function(m){f.prototype.Fb.call(this,m);this.Ga.forEach(function(d){return d.Fb(m);});this.UOa=!0;};k.prototype.UO=function(){this.EPa=!0;(this.Ho=this.Ga.every(function(m){return m.UO();})) && this.UV(this);this.EPa=!1;return this.Ho;};k.prototype.fd=function(){7 !== this.readyState && 5 !== this.readyState && (this.I.warn("AseCompoundRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Ga.forEach(function(m){return m.fd();});};k.prototype.dba=function(m){this.Jh=this.ew=void 0;return this.Ga.every(function(d){return 5 !== d.readyState && 7 !== d.readyState?d.dba(m):!0;});};k.prototype.abort=function(){var m,d,g;m=this.active;d=this.aborted;this.Jh=7;this.$K=!0;this.lm=this.bf=!1;g=this.Ga.map(function(h){return h.abort();}).every(function(h){return h;});d || this.rN(this,m,this.Qqa);return g;};k.prototype.getResponseHeader=function(m){var d;d=null;this.Ga.some(function(g){return ! !(d=g.getResponseHeader(m));});return d;};k.prototype.getAllResponseHeaders=function(){var m;m=null;this.Ga.some(function(d){return ! !(m=d.getAllResponseHeaders());});return m;};k.prototype.k$=function(){};k.prototype.UA=function(m){this.bf || (this.bf=!0);this.zOa || (this.zOa=!0,this.Is=0,this.FL=this.bv=m.xf,this.sN(this));};k.prototype.DI=function(m){this.lm || (this.lm=!0);this.yOa || (this.yOa=!0,this.FL=m.xf,this.rD(this));};k.prototype.EI=function(m){this.FL=m.xf;this.uH(this);this.Is=this.bytesReceived;this.bv=m.xf;};k.prototype.Ek=function(m){this.FL=m.xf;this.complete?(this.Li=!0,this.Jh=5,this.lm=this.bf=!1,this.eT=!0,this.pu(this)):this.uH(this);this.Is=this.bytesReceived;this.bv=m.xf;};k.prototype.fY=function(m){this.FL=m.xf;this.ew=m;this.Jh=6;this.q6(this);};k.prototype.eY=function(){};k.prototype.wi=function(){return this.Ga[0].wi() + "-" + this.Ga[this.Ga.length - 1].wi();};k.prototype.toString=function(){return "Compound[" + this.Ga.map(function(m){return m.toString();}).join(",") + "]";};k.prototype.toJSON=function(){return {requests:this.Ga};};return k;})(a(240).eK);b.rca=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.lna=void 0;b.lna=function(a,c){for(var f,k,m=a.length - 1;0 <= m;--m){if((k=a[m],k.Hu)){if(k.bitrate <= c)return m;f=m;}}return f;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Goa=b.wtb=void 0;b.wtb=function(a){return a.uaa;};b.Goa=function(a,c){return void 0 !== a.BO?a.BO:c && void 0 !== c.BO?c.BO:100;};},function(r,b,a){var f;function c(k,m){this.Dqb=k.ZO && k.ZO.enabled;this.vG=void 0;this.rpb=m;this.cia=[];this.xia=[];this.f3=[];this.kg=[];}f=a(34).YH;c.prototype.reset=function(k){this.vG=void 0;this.cia=[];this.xia=[];this.f3=[];k && (this.kg=[]);};c.prototype.add=function(k,m){var d,g,h;d=m.filter(function(l,n){return f(l) || n === k.Ke;});g=d.map(function(l){return l.bitrate;});m=m[k.Ke];d=d.indexOf(m);if(this.vG && (this.vG.length !== g.length || this.vG.some(function(l,n){return l !== g[n];}))){h=this.ZYa();h && (this.kg.push(h),this.reset(!1));}void 0 === this.vG && (this.vG=g);this.cia.push([d,k.Jya,k.Bc,k.bka,k.TSa,k.IVb,k.KSb,k.yf,k.aq,k.nk,k.X1b - k.Jya,k.oVb]);void 0 !== k.Su && this.f3.push([k.Jya,k.Su.VP,k.Su.EM,k.Su.oP]);this.Dqb && void 0 !== m.Y && (d=m.Y.Nn(k.nk),-1 != d && (d=m.Y.get(d),h=d.duration,m=d.xb || m.xb,void 0 !== m && this.xia.push({$:d.$,duration:h,xb:m})));};c.prototype.SWa=function(k){for(var m=[],d=[],g=0;g < k.length;g++){for(var h=k[g],l=[],n=0;n < h.length;n++){l.push(h[n] - (d[n] || 0));}m.push(l);d=h;}return m;};c.prototype.ZYa=function(){var k,m;k=this.SWa(this.cia);if(0 !== k.length){m=0 < this.f3.length?this.SWa(this.f3):[];return {dltype:this.rpb,bitrates:this.vG,seltrace:k,vmaftrace:this.xia,paceratetrace:m};}};c.prototype.get=function(){var k,m;k=this.ZYa();m=this.kg;k && m.push(k);if(0 !== m.length)return m;};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.UBa=void 0;c=a(824);r=(function(){var q00;q00=2;for(;q00 !== 3;){switch(q00){case 2:f.prototype.cnb=function(k,m){var s00,d;s00=2;for(;s00 !== 14;){switch(s00){case 3:k=k.cdnResponseData;s00=9;break;case 4:var z3p="applying man";z3p+="ifest base";z3p+="d streamingClientConfig";return (k=d.streamingClientConfig,this.I.trace(z3p + JSON.stringify(k)),this.FPa(m,k));break;case 9:s00=!k?8:7;break;case 5:s00=d && d.streamingClientConfig && Object.keys(d.streamingClientConfig).length?4:3;break;case 8:return m;break;case 2:m=c.wUa(m,k);d=k.steeringAdditionalInfo;s00=5;break;case 7:var w7p="using sab";w7p+=" cell >= 10";w7p+="0, pipelineEnabled: ";var J7p="using sab cell >= 200, pi";J7p+="pelineEnabled";J7p+=": ";var E7p=", allow";E7p+="Swi";E7p+="tchba";E7p+="ck";var S7p=", p";S7p+="r";S7p+="obeDetai";S7p+="lD";S7p+="enominator: ";var Y7p="using sab cell >";Y7p+="= 300, ";Y7p+="pr";Y7p+="obeServerWhenError: ";var O7p=", ";O7p+="a";O7p+="llo";O7p+="wS";O7p+="witchback";var G3p=",";G3p+=" probeDe";G3p+="tai";G3p+="lDen";G3p+="ominator: ";var o3p="using sab";o3p+=" cell >= 400, probeServerWhenE";o3p+="rror: ";(k=k.sessionABTestCell) && (k=k.split(".")) && 1 < k.length && (k=parseInt(k[1].replace(/cell/i,""),10),400 <= k?(m.set?(m.set({probeServerWhenError:!0}),m.set({probeDetailDenominator:1}),m.set({allowSwitchback:!0})):(m.dv=!0,m.TI=1,m.az=!0),this.I.trace(o3p + m.dv + G3p + m.TI + O7p + m.az)):300 <= k?(m.set?(m.set({probeServerWhenError:!0}),m.set({probeDetailDenominator:1}),m.set({allowSwitchback:!1})):(m.dv=!0,m.TI=1,m.az=!1),this.I.trace(Y7p + m.dv + S7p + m.TI + E7p + m.az)):200 <= k?(m.set?m.set({pipelineEnabled:!1}):m.Sq=!1,this.I.trace(J7p + m.Sq)):100 <= k && (m.set?(m.set({pipelineEnabled:!0}),m.set({maxParallelConnections:1}),m.set({maxActiveRequestsPerSession:m.S8}),m.set({maxPendingBufferLen:m.n4a})):(m.Sq=!0,m.vO=1,m.dx=m.S8,m.Z8=m.n4a),this.I.trace(w7p + m.Sq)));return m;break;}}};f.prototype.dnb=function(k,m){var t00;t00=2;for(;t00 !== 9;){switch(t00){case 3:return m;break;case 2:t00=!m.mla || k === this.$ob?1:5;break;case 1:return m;break;case 6:return m;break;t00=5;break;case 5:this.$ob=k;for(var d in m.mla){new RegExp(d).test(k) && (m=this.FPa(m,m.mla[d]));}t00=3;break;}}};f.prototype.FPa=function(k,m){var u00,d,g,h;u00=2;for(;u00 !== 4;){switch(u00){case 2:for(g in m){if(m.hasOwnProperty(g)){var R7p="I";R7p+="nvali";R7p+="d";R7p+=" key";h=m[g];k.set?0 === k.set((d={},d[g]=h,d)) && this.I.trace(R7p + g):k[g]=h;}}return k;break;}}};return f;break;}}function f(k){var r00;r00=2;for(;r00 !== 5;){switch(r00){case 2:var e7p="1";e7p+="SI";e7p+="Yb";e7p+="ZrNJC";e7p+="p9";this.I=k;e7p;r00=5;break;case 3:this.I=k;"";r00=8;break;r00=5;break;}}}})();b.UBa=r;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.OFa=b.wS=void 0;c=a(2);f=a(17);k=c.__importStar(a(10));m=c.__importDefault(a(85));d=a(16);g=a(244);h=a(21);r=a(43);l=c.__importDefault(a(6));n=a(829);q=a(391);(function(u){u[u.hYa=0]="forwards";u[u.Hja=1]="backwards";u[u.LO=2]="none";})(p=b.wS || (b.wS={}));a=(function(u){function t(w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I){var Q,L,J;L=u.call(this,void 0,v,y,D.R,w,D,void 0,F,H,h.O.Na(G),B.Te.bind(B),C,I,void 0,new f.EventEmitter(),void 0) || this;L.wb=w;L.ki=x;L.qc=z;L.I2=A;L.X=B;L.SL=E;L.yg=C;L.$V=K;L.Tg=M;L.Uk=I;L.active=!1;L.MOa=[];L.Rha=0;null === (Q=L.R) || void 0 === Q?void 0:Q.Ova(L);L.children=Object.create(null);L.Jx=[];L.oe=void 0;void 0 === H && (H=h.O.Na(D.$));J=[L.J.gSa,L.J.Wxa];F.forEach(function(N){var O;O=N.mediaType;N=new q.l1(w,L.ki,L.I,L,N,H.U,J[O],v,L.I2,L.Tg,L.Zga[O],null === C || void 0 === C?void 0:C.kb(O));L.fe.YZb(O,N);});L.Ht=L.fe.FY;return L;}c.__extends(t,u);Object.defineProperties(t.prototype,{K:{get:function(){return this.R.K;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Sm:{get:function(){var w,v,x,y;return [null !== (v=null === (w=this.kb(0)) || void 0 === w?void 0:w.Sm) && void 0 !== v?v:0,null !== (y=null === (x=this.kb(1)) || void 0 === x?void 0:x.Sm) && void 0 !== y?y:0];},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Hn:{get:function(){var w,v,x,y;return [null !== (v=null === (w=this.kb(0)) || void 0 === w?void 0:w.Hn) && void 0 !== v?v:{U:0,ga:0},null !== (y=null === (x=this.kb(1)) || void 0 === x?void 0:x.Hn) && void 0 !== y?y:{U:0,ga:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{yaa:{get:function(){return this.H.$;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Iua:{get:function(){return this.yaa + this.Ee;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Mc:{get:function(){return this.H.La;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{pe:{get:function(){return this.Mc + this.Ee;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{oc:{get:function(){return this.R.oc;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{weight:{get:function(){return this.H.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{H:{get:function(){return this.Yp;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{pl:{get:function(){return this.fe;},enumerable:!1,configurable:!0}});t.prototype.rf=function(){var w;this.Lh || (this.active=!1,this.yg && (delete this.yg.children[this.H.id],this.yg=void 0),k.sf(this.children,function(v){v && v.yg && (v.yg=void 0);}),this.children=Object.create(null),this.mL=void 0,u.prototype.rf.call(this),null === (w=this.R) || void 0 === w?void 0:w.Qya(this),this.fe.clear());};t.prototype.nwa=function(w,v){void 0 === v && (v=p.Hja);this.pl.forEach(function(x){(k.ka(w) || x.mediaType === w) && x.reset();});switch(v){case p.Hja:this.yg && this.yg.nwa(w,v);break;case p.hYa:this.children && k.sf(this.children,function(x){x && x.nwa(w,v);});}};t.prototype.RW=function(w){var v,x,y;if(!this.active)return !1;v=this.yg;if(v){x=v.kb(w);y=x.Ua.d7a;if(0 !== y && (v.mM(w),y=x.Ua.d7a,0 !== y))return !1;}return !0;};t.prototype.Ud=function(w){return this.pl.get(w);};t.prototype.VKb=function(){return this.pl.every(function(w){return 0 === w.jB;});};t.prototype.toJSON=function(){return c.__assign(c.__assign({},u.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.zd,playerEndPts:this.pe,pipelines:this.pl,previousBranch:this.yg});};t.prototype.Z$a=function(w,v){this.R.Qya(this);this.R=this.H.R=w;this.jxa(this.R);this.R.Ova(this);this.pl.forEach(function(x){var y;y=v[x.mediaType];y && x.FZ(y);});};t.prototype.iJb=function(w){return this.Uk[w];};t.prototype.kb=function(w){return this.pl.get(w);};t.prototype.wJb=function(w){return this.kb(w).jB;};t.prototype.hxa=function(w,v,x){var y,z,A,B;y=this;z=this.H;w=this.B4(z.$,this.R,w,this.K === (w?w.K:this.qc.Yc.K));A=w.jP;B=w.Uz;void 0 === v && (v=[0,1]);0 === B.length || v.forEach(function(E){var D,F;D=y.kb(E);x && (D.ke=B[E]);F=y.LV(z.La);D.Kaa(F[E]);});return A;};t.prototype.O8a=function(w,v){var x,y,z;x=this.wb;y=this.kb(0);void 0 === v && (v=y.uMb);this.yg && (z=this.yg.Ud(0));x=new q.l1(x,this.ki,this.I,this,w,v,y.JP,this.J,this.I2,this.Tg,this.Zga[0],z);this.fe.replace(y,x);this.Ht=this.fe.FY;this.hxa(this.yg,[0],!0);x.rJ(v,! !this.yg);y.rf();k.sf(this.children,function(A){A && A.O8a(w);});};t.prototype.ku=function(w,v){if(v=this.kb(v))return v.Ua.ku(w);};t.prototype.mM=function(w){void 0 === w?this.pl.forEach(function(v){v.mM();}):this.kb(w).mM();};t.prototype.JY=function(w,v,x){(w=this.kb(w)) && w.Ua.JY(v,x);};t.prototype.e7=function(w,v){(v=this.kb(v)) && v.Ua.e7(w);};t.prototype.YPb=function(w){this.MOa[w]=!0;};t.prototype.Hwb=function(){var w;w=this;return [0,1].every(function(v){return !w.oc(v) || w.MOa[v];});};t.prototype.Ewb=function(w,v,x,y){var z,A,B,E,D,F,G,C,H;z=this.J;A=this.wb;B=this.X.getState();E=B === d.sa.xd || B === d.sa.Tf;if(!E && void 0 === x)return {Se:!0};if(B === d.sa.Tf && l.default.time.fa() < this.Rha + z.Ysa)return {Se:!1};D=this.kb(0);F=this.kb(1);G=this.qc.Cw(this,0);C=this.qc.Cw(this,1);H=g.H$(B);G=!D || D.sTa(H,this.X.Te(),v,G,this.X.$o(),y);C=!F || F.sTa(H,this.X.Te(),w,C,this.X.$o(),y);void 0 !== x && G && (x=x.trackId,w=this.R.getTrackById(x),this.jnb(x,w.TE),A.fz=void 0);if(G && C)return (this.SL(),this.BU=l.default.time.fa(),B === d.sa.Tf && (this.Rha=l.default.time.fa()),{Se:!0,Tt:F?F.JG:D.JG});G=this.Oh(0);C=this.Oh(1);if(E){A=!F || C > z.Bj;if((!D || G > z.Bj) && A && (D=this.$V(),D >= z.YA))return (this.Ub("buffering longer than limit: " + D + " >= " + z.YA + ", audio buffer: " + G + " ms, video buffer: " + C + " ms"),this.SL(),this.BU=l.default.time.fa(),B === d.sa.Tf && (this.Rha=l.default.time.fa()),{Se:!0,Tt:"prebufferTimeLimit"});this.ki.Mpb();}return {Se:!1};};t.prototype.Bka=function(w,v){var x,y,z,A,B,E;x=this.J;y=this.kb(0);z=this.kb(1);v?(v=this.Oh(0,w),w=this.Oh(1,w)):(v=this.qc.Cw(this,0,w),w=this.qc.Cw(this,1,w));A=x.Bj;B=!this.oc(0) || y.ei && 0 === y.Ua.mE && 0 === y.Ua.et;y=!this.oc(1) || z.ei && 0 === z.Ua.mE && 0 === z.Ua.et;E=B && y;x=!B && v < x.Bj;if(!E && (x || !y && w < A))return !1;if(z && z.Se || !this.oc(1))return !0;if(E)if(this.wb.h3 && 0 === v && 0 === w)this.Ub("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};t.prototype.Haa=function(w,v){var x,y;x=this;y=this.J;this.pl.forEach(function(z){z.seeking=void 0;});w && y.ti && this.pl.forEach(function(z){var A;if(z){A=x.qc.NG(x,z.mediaType);z="bufferingComplete: , mediaType: " + z.mediaType + ", bufferLevelBytes: " + z.Hn.ga + ", completedMs: " + z.CM + ", completedBytes: " + A + ", partials: " + z.Ua.mE + ", streamingPts: " + z.Bc + ", completeStreamingPts: " + z.mq + ", fragments: " + JSON.stringify(z.Ua.Y) + ", toAppend: " + v(z.mediaType);x.ki.Mm(z);}});};t.prototype.KE=function(w,v,x){var y,z,A;y=this;z=l.default.time.fa();A={};k.sf(this.children,function(B){var E,D,F,G;if(B){if(B.oe){B.oe.fDb=z - B.oe.Q7;B.oe.Q7=void 0;E=B.oe.weight;}else E=y.qc.D_a(y.H.id,B.H.id);D=B.tD();F=y.kb(0) && 0 === D.Sr;G=y.kb(1) && 0 === D.po;A[B.H.id]={weight:E,Xr:D,DW:!F && !G};}});x={$q:z,We:w,ama:x,Raa:this.H.id,oe:A};w || (w=v.Te(),x.ZP=w - (this.H.$ + this.Ee),x.ZP=Math.max(0,x.ZP),x.s5=0,x.startTime=z);this.Jx.unshift(x);return x;};t.prototype.Jxb=function(w){var v,x;v=this.Jx[0];v.We && (v.ZP=this.Mc - this.H.$,v.ZP=Math.max(0,v.ZP));v.lcb={};x=w.tD();m.default(x,v.lcb);v.DW=w.Hn.every(function(y){return 0 < y.U;});this.Jx=[];return v;};t.prototype.lo=function(w){var v;v=this.H;w-=this.Ee;if(v.$ < w && w < v.La)this.Jx.shift();else if(v=this.Jx[0])v.lo=!0;};t.prototype.B4=function(w,v,x,y){var z,A,B,E;z=this;void 0 === v && (v=this.R);A=!1;if(x){A=!0;B=x.kb(1).Kf;x=x.kb(0).Kf;if(!B || !x)return {jP:[],Uz:[]};B=B.La;y || (B=void 0);}E=this.IXa(w,B,A,v);v.Qb === this.qc.jBb && [1,0].forEach(function(D){var F;F=z.kb(D);F && (F.ke=E[D]);});return {jP:E.map(function(D){return D.$;}),Uz:E};};t.prototype.IXa=function(w,v,x,y){var z;z=this;void 0 === y && (y=this.R);return this.FQa(y)?[1,0].map(function(A){var B;if(!z.oc(A))return {};B=y.yh[A];A=z.kb(A).Em(B.stream,w,v,x);w=A.$;return A;}).reverse():[];};t.prototype.LV=function(w,v){var x;x=this;void 0 === v && (v=this.R);return this.FQa(v)?[1,0].map(function(y){var z;if(!x.oc(y))return {};z=v.yh[y].stream;y=x.kb(y).Tz(z,w);w=x.J.ih?new h.O(y.tb,z.va.W).U:y.La;return y;}).reverse():[];};t.prototype.G3b=function(w,v){var x;x=this.H.La;x && x < v && (w=this.LV(x));v=this.Ud(1);x=this.Ud(0);v && v.Kaa(w[1]);x && x.Kaa(w[0]);};t.prototype.FQa=function(w){var v;v=w.yh;if(!v)return !1;w=v[1];w=!this.oc(1) || w && w.stream.me;v=v[0];v=!this.oc(0) || v && v.stream.me;return w && v?!0:!1;};t.prototype.jnb=function(w,v){this.ki.Kpb(w,v);};return t;})(n.TFa);b.OFa=a;r.Bf(f.EventEmitter,a);},function(r,b,a){var c,f,k,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.wea=b.Shb=void 0;c=a(2);f=c.__importDefault(a(6));k=a(20);m=a(830);d=a(9);r=(function(){return function(g,h,l){var n;this.J=h;l=d.Nq(f.default,l,"[" + g + "]");this.W4a=1 === g?h.A9:h.r9;n=f.default.Zo()[g];this.uX=1 === g?h.yQb:h.hQb;this.uX=Math.min(h.pQb * n,this.uX);k.ia && l.trace("This pipeline's buffer size ",n,this.uX);this.w9=(1 === g?h.OA:h.ix) || h.w9;this.X8=(1 === g?h.xQb:h.gQb) || h.X8;this.aja=h.aja;};})();b.Shb=r;r=(function(g){function h(l,n,q){return g.call(this,l,n,q) || this;}c.__extends(h,g);h.prototype.VHb=function(l,n,q,p){var u,t,w,v,x;w=n === q.ke.index;v=n === q.Kf.index;if(!v || w && q.ke.ya){if(w){x=l.tZa(q.ke);x.QP(q.ke.uv);v && (q.ke.ya || q.Kf.ya) && x.Lk({start:null === (u=x.ya) || void 0 === u?void 0:u.start,end:null === (t=q.Kf.ya) || void 0 === t?void 0:t.end});}else x=l.jl(n);}else (x=l.tZa(q.Kf),x.QP(q.Kf.uv));x.HO=n + 1;if(u=m.v_a(q,q.Bc))(k.ia && q.An("getFragmentForRequest pts:",q.Bc,"in region:",u,"previous region:",q.pra),m.xWa(q.I,x,u,{eNb:w,kNb:v,rNb:void 0 === q.pra || q.pra !== u.region}));v && (x.Y3a(),x.x_b(q.ib.H));w=l.Y.Dx;if(!(x.HO === n || null !== w && void 0 !== w && w.Q1a(n) || p || !this.aja && x.ya))for(++n;n < l.Y.length && n < q.Kf.index && (x.ga < this.W4a || x.duration < this.w9) && (1 === x.stream.ah.length || this.ewb(l,n));++n){p=l.jl(n);if(null === w || void 0 === w?0:w.Q1a(n))break;if(m.P1a(q,p))break;if(x.duration + p.duration > this.X8)break;if(x.ga + p.ga > this.uX)break;x.R3(p);x.HO=n + 1;k.ia && q.An("getFragmentForRequest: extended fragment startPts:",x.$,"to duration:",x.duration,"size:",x.ga,"min request size:",this.W4a,"max request size:",this.uX,"min request duration:",this.w9,"max request duration:",this.X8,"edit:",x.ya);}k.ia && q.An("getFragmentForRequest(" + n + ") returning:",x,"stream:",x.stream,"firstRequestInRegion:",x.yna,"lastRequestInRegion:",x.Zw,"nextIndex:",x.HO);return x;};h.prototype.ewb=function(l,n){return !l.ah.some(function(q){return n === q.Bd;});};return h;})(r);b.wea=r;},function(r,b,a){var c,f,k,m,d,g,h,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.l1=void 0;c=a(2);r=a(392);f=c.__importDefault(a(28)).default.Wa;k=a(372);m=a(16);d=c.__importDefault(a(6));g=a(181);h=a(4);l=a(21);n=a(859);a=(function(q){function p(u,t,w,v,x,y,z,A,B,E,D,F){w=q.call(this,v,A,w,v,v,x,l.O.Na(y),z,D,!1,null === F || void 0 === F?void 0:F.Qf) || this;w.wb=u;w.ki=t;w.rg=B;w.Tg=E;w.Zja=0;w.qD=[];w.Ay=!1;w.Ko.gdb=!1;w.dT=new n.PFa(v,w.Tg,A,w.I,w.mediaType,w.ki,w.Ua,w.wb);w.wOb=d.default.time.fa();w.qOb=void 0;w.lI=A.sqa;w.U7a=d.default.time.fa();t=g.IN(A);u=t.wE;t=t.M$;w.JVb=0 === w.mediaType?u:t;w.FZ(x);return w;}c.__extends(p,q);Object.defineProperties(p.prototype,{Nt:{get:function(){return this.Ua.Nt;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{CM:{get:function(){return this.Ua.CM;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{eD:{get:function(){return this.Ua.eD;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{jB:{get:function(){return this.Ua.jB;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ei:{get:function(){return this.dT.ei;},set:function(u){this.dT.ei=u;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{yr:{get:function(){return this.dT.yr;},set:function(u){this.dT.yr=u;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{I8:{get:function(){return this.Zd;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{uMb:{get:function(){return this.SOa.U;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{JP:{get:function(){return this.Mj.JP;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{HJb:{get:function(){return this.wb.Vha;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Se:{get:function(){return this.Ay;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{JG:{get:function(){return this.TNa;},enumerable:!1,configurable:!0}});p.prototype.reset=function(){this.seeking=void 0;this.connected=this.ei=!1;this.Ko.reset();};p.prototype.rf=function(){this.reset();q.prototype.rf.call(this);};p.prototype.Tz=function(u,t){return k.Tz(this.ik.mediaType,this.J,u,t,this.ih,this.wb.PQb);};p.prototype.Em=function(u,t,w,v){return k.Em(this.ik.mediaType,this.J,u,t,w,v);};p.prototype.lo=function(){this.lI=this.J.sqa;};p.prototype.mM=function(){this.Ua.yba();};p.prototype.FZ=function(u){var t,w;t=this.wb;w=this.mediaType;h.assert(u.mediaType === w);h.assert(u.R === this.ib.R);this.ik=u;this.ib.R.aza(w,u.ae);t.Iob(this,u.Ju);this.Ovb(u.ae);this.Qf.FZ(u);this.ib.R.Nka();this.ei=!1;};p.prototype.ina=function(u){var t;t=this.ib.R.yh[this.mediaType];if(t && t.stream.me && (u=t.stream.Y.Nn(u),-1 !== u))return u;};p.prototype.rJ=function(u,t){var w,v,x;if(this.ke && this.ke.$ === u){t=this.ke.index;w=u;}else {v=this.ib.R;x=v.yh[this.mediaType];if(!x || !x.stream.me){this.JI=u;this.GUb=t;return;}w=x.stream.Y;this.ke=this.Em(x.stream,u,void 0,t);if(void 0 === this.ke){if((t=w.length - 1,w=w.Kj(t),this.Ub("setStreamingPts out of range of fragments, pts:",u,"last startPts:",w,"fragment index:",t,"fastplay:",v.nf.He),v.nf.He)){this.JI=u;return;}}else (t=this.ke.index,w=this.ke.$);}this.Xn=t;this.OT=w;this.JI=void 0;};p.prototype.L4b=function(u){var t,w;t=this.ik.Tw(u);w="verifying streamId: " + u + " stream's track: " + (t?t.Ta:"unknown") + " currentTrack: " + this.ik.trackId;return t?!0:(this.ki.Mm(w),this.ki.Mm("unknown streamId: " + u),!1);};p.prototype.Ovb=function(u){this.lLb=u.reduce(function(t,w){return w.Hu && w.bitrate > t.bitrate?w:t;},u[0]);};p.prototype.Kaa=function(u){this.Kf=u;};p.prototype.QPb=function(u,t,w,v,x){this.rcb(u,t,v,x);w && ++this.Zja;this.wb.gk();};p.prototype.UA=function(u){u.La && u.$ && (this.lI-=u.La - u.$);q.prototype.UA.call(this,u);};p.prototype.Ek=function(u){this.c0a(u);this.pu(u);};p.prototype.I3b=function(u){var t;t=d.default.time.fa();this.lI+=u * (t - this.U7a);this.U7a=t;};p.prototype.EYb=function(){this.lI=this.J.sqa;};p.prototype.zM=function(u){this.Ua.xka();this.ih || this.dT.zM(u,this.Mc);};p.prototype.c0a=function(u){var t,w,v;w=this.I8;v=this.wb;this.rg.qQa() || (this.ki.iqb(u.mediaType,u.R.Qb,u.stream.track.QC,this.mq,this.ha),null === (t=this.ih) || void 0 === t?void 0:t.gMb(u),t=w.X.Te() || 0,v.Cb.Cy() || (w=w.kb(f.Pb)) && !w.Se && w.t7 && v.Cb.gpa(w),this.zM(t),this.wb.b0a(u),this.rg.w2(this) && this.rg.gk());};p.prototype.$ta=function(u){this.wb.q7(u);};p.prototype.sTa=function(u,t,w,v,x,y){var z,A;z=this.J;A=z.Bj;if(w >= z.Bj && (z.gaa && (A=w + 1E3),z.haa && !this.connected))return !1;if(this.ih)return this.ih.qz();w=this.ei && 0 === this.Ua.iua && 0 === this.Ua.et;return !w && v < A?!1:w?y && 0 === v?(this.Ub("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.Pwb(u,t,x);};p.prototype.o_b=function(u){this.OT=u;};p.prototype.Haa=function(u){this.Ay=!0;this.TNa=u;};p.prototype.Lka=function(){this.Ay=!1;this.TNa=void 0;};p.prototype.Pwb=function(u,t,w){if(this.Se || 0 === this.mediaType)return !0;if(void 0 === this.Iu)return !1;t=this.vob(t,u);this.track.R.Jm.y_(this.track.R.S,this.track.ae);this.Mj.Sua([this.Iu],!1,t,this.JVb);u=this.Mj.qz(t,u,w,this.Iu,this.ib.R.uq);u.complete?this.Haa(u.reason):(this.Lka(),this.$D=u.$D,this.progress=u.progress);return this.Se;};p.prototype.vob=function(u,t){var w,v,x,y,z;y=d.default.Zo()[this.mediaType];z=this.Ua.e7();u={Dw:y,$:null !== (w=z.zd) && void 0 !== w?w:0,Cc:u,Bc:null !== (v=z.eP || u) && void 0 !== v?v:0,al:null !== (x=z.PU || u) && void 0 !== x?x:0,jh:z.jh,Ej:z.Ej,kYa:z.Y.length,Y:z.Y};"number" !== typeof u.$?(u.$=0,u.Bc=0):t === m.Kc.xd && u.Cc !== u.$ && (u.Cc=u.$);return u;};return p;})(r.Sea);b.l1=a;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Sea=void 0;c=a(2);f=a(17);k=a(831);m=a(82);d=a(832);g=a(839);h=a(179);l=a(249);n=a(9);q=a(4);p=a(21);u=c.__importDefault(a(6));r=a(102);t=a(43);w=a(396);v=a(127);a=(function(x){function y(z,A,B,E,D,F,G,C,H,K,M,I,Q){var L;L=x.call(this,z) || this;L.J=A;L.Zd=D;L.ik=F;L.SOa=G;L.tob=H;L.ow=Q;L.events=new f.EventEmitter();L.connected=!1;L.Hpa=!1;L.gm=!1;L.I=n.Nq(u.default,B,"[" + L.mediaType + "]");L.Vk=L.I.error.bind(L.I);L.Ub=L.I.warn.bind(L.I);L.An=L.I.trace.bind(L.I);L.OT=G.U;"string" === typeof C || void 0 === C?(z=0 === L.mediaType && A.Cma || 1 === L.mediaType && A.Dma,L.lia=new l.Lfa(C,A,new h.Y1(M),z)):L.lia=C;L.xn=new k.yJa(L,E,L.J,L.I,L.mediaType);L.Ko=new d.hLa(L,A,L.I,L.xn,L.Zd,L.mediaType,L.ow,function(){return L.Hj;});A.ih && (L.ih=new g.XLa(A.ih,L.I));K && (L.Lf=null !== I && void 0 !== I?I:w.au(L.mediaType,L.track.R,L.J,L.I,L.xn.eGb.bind(L.xn),function(){}),L.Lf.on("created",function(){return L.events.emit("requestQueueCreated");}));return L;}c.__extends(y,x);Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.ik.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{track:{get:function(){return this.ik;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ib:{get:function(){return this.Zd;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ha:{get:function(){return this.Zd.H.id;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ua:{get:function(){return this.Ko;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ae:{get:function(){return this.ik.ae;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Hn:{get:function(){return this.Ko.Hn;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Sm:{get:function(){return this.Ko.Sm;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Bc:{get:function(){return this.OT;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Taa:{get:function(){var z;return null !== (z=this.Pg) && void 0 !== z?z:this.ss;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{OU:{get:function(){var z;return null !== (z=this.Ua.OU) && void 0 !== z?z:this.Taa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Fia:{get:function(){return this.Ua.OU;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{mq:{get:function(){return this.Ua.mq;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ala:{get:function(){return this.Ua.ala;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{nOb:{get:function(){var z;z=this.Ua.oOb;return null === z || void 0 === z?void 0:z.Td;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{$w:{get:function(){return ! !this.Kf && (this.Xn > this.Kf.index || this.OT >= this.Kf.Mc);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Hl:{get:function(){return this.$w && 0 === this.Ko.mE;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Nt:{get:function(){return this.Ua.Nt;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{pr:{get:function(){return this.ye?p.O.max(this.ye.Ka(this.OE),p.O.eb):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{pN:{get:function(){return this.ib.pN;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{hVa:{get:function(){return this.Ua.Y.jH;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Mj:{get:function(){return this.lia;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Qf:{get:function(){return this.Mj.Qf;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Iu:{get:function(){return this.Mj.Qf.Iu;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{W:{get:function(){var z,A;return null !== (A=null === (z=this.ke) || void 0 === z?void 0:z.W) && void 0 !== A?A:1;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Za:{get:function(){var z;return null === (z=this.ke) || void 0 === z?void 0:z.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{tb:{get:function(){var z;return null === (z=this.Kf) || void 0 === z?void 0:z.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Hj:{get:function(){return this.ib.Fe.eg(this.W).pc;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{t7:{get:function(){return this.Ua.t7;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Fx:{get:function(){return this.Ua.Fx;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Mxa:{get:function(){return this.Ua.Mxa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ss:{get:function(){return this.SOa.add(this.ib.Fe);},enumerable:!1,configurable:!0}});y.prototype.XT=function(){var z;z=this;this.Ko.XT(void 0,function(A){var B;B=A[0];A=B.gd;B=B.index;B < z.Xn && z.PP(A,B);});};y.prototype.reset=function(){this.Ua.reset();this.ke && this.PP(this.ke.gd,this.ke.index);this.Lf && this.ib.R.cM(this.mediaType,this.Lf);};y.prototype.rf=function(){var z;this.gm=!0;this.Ko.rf();null === (z=this.lia) || void 0 === z?void 0:z.Qf.Ib();this.Lf && (this.ib.R.cM(this.mediaType,this.Lf),v.Gp.instance.TM(this.Lf),this.Lf.removeAllListeners(),this.Lf=void 0);};y.prototype.toJSON=function(){return {started:this.Fx,startOfSequence:this.Mxa,segmentId:this.ha,requestedBufferLevel:this.Sm,viewableId:this.Zd.R.S,hasFragments:this.t7};};y.prototype.cn=function(){return this.Ua.cn();};y.prototype.PP=function(z,A){this.OT=z;this.Xn=A;};y.prototype.bA=function(){return this.Ua.bA();};y.prototype.mH=function(){this.Ua.close();};y.prototype.XG=function(z){return (z=this.Ua.ku(z.U))?z.complete:!1;};Object.defineProperties(y.prototype,{fh:{get:function(){return this.Zd.fh;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{OE:{get:function(){var z,A,B,E;return null !== (E=null !== (z=this.Ua.OE) && void 0 !== z?z:null === (B=null === (A=this.ke) || void 0 === A?void 0:A.Xc) || void 0 === B?void 0:B.add(this.ib.Fe)) && void 0 !== E?E:this.ss;},enumerable:!1,configurable:!0}});y.prototype.scb=function(z,A){var B;q.assert(this.Lf);q.assert(!this.gm,"pipeline.tryIssueRequest on disabled pipeline");B=z.R6();return B?this.rcb(z,B,this.Lf,A):(z=z.UE(this.Lf))?{Hm:z,reason:"success"}:{Hm:z,reason:"pipelineTryIssueHeaderRequest"};};y.prototype.V7=function(z,A){z && (this.ke=z);A && (this.Kf=A);q.assert(this.ke);q.assert(this.Kf);q.assert(void 0 === this.Xn);this.PP(this.ke.gd,this.ke.index);};y.prototype.truncate=function(z){var A;A=this;q.assert(this.ke,"expected first fragment to exist on updateStreaming");this.Kf=z;this.$w && (z=c.__read(this.Ko.msb(z),2),this.PP(z[0],z[1]),this.us() && (this.Ua.w$a(),this.Ua.xka(),Promise.resolve(function(){A.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:A.mediaType});})));};y.prototype.UD=function(){return this.us()?!1:this.zh()?!0:this.track.I9;};y.prototype.zh=function(){return void 0 !== this.ke && void 0 !== this.Kf;};y.prototype.us=function(){return this.gm || this.$w;};Object.defineProperties(y.prototype,{S7a:{get:function(){var z;z=!0;this.J.haa && (z=this.connected);this.J.gaa && (z=z && this.Hpa);return z;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{cUb:{get:function(){return void 0 !== this.ih;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{z6a:{get:function(){var z;return (null === (z=this.ih) || void 0 === z?0:z.qz())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});y.prototype.Ek=function(z){this.xn.qSb(z);"oncomplete" === this.J.h1a && (this.Hpa=!0);this.pu(z);};y.prototype.UA=function(z){z.dd || this.xn.O5a(z.stream,z.$,z.gd);this.xn.mSb(this.ha,z.stream,z.dd);this.sN(z);};y.prototype.DI=function(z){z.Q3 || (this.connected=!0);"onfirstbyte" === this.J.h1a && (this.Hpa=!0);this.rD(z);};y.prototype.zZa=function(z){var A,B;A=this.Ua.Y;if(0 === A.length)return {Y:[],t$:0,Ej:0};B=A.oN(z.U);0 > B && (B=void 0 === A.$ || z.U <= A.$?0:A.length);return {Y:A.AZb(B),t$:Math.max(0,A.dUa - B),Ej:A.Ej};};y.prototype.rcb=function(z,A,B,E){var D,F,G,C,H,K;G=this.Zd;C=G.R;H=this.mediaType;K=this.Xn;if(K >= A.length)return (this.Ub("makeRequest nextFragmentIndex:",K,"past fragments length:",A.length),{Hm:!1,reason:"insufficientFragments"});if(!this.ke || !this.Kf)return (this.Ub("makeRequest delayed, first or last fragment not set","first:",! !this.ke,"last:",! !this.Kf),{Hm:!1,reason:"noFirstOrLastFragment"});A=this.tob.VHb(z,K,this,C.Ww());this.pra=A.region;null === (D=this.ih) || void 0 === D?void 0:D.iMb(A,z);A.Lq && 1 === H && this.xn.Gha(G.H,A.La);this.J.wO && (A.wO=this.J.wO);void 0 !== z && (A.location=z.location,A.Qd=z.Pc,A.Zwa=z.Ss);if(D=G.R.Oaa)(H=0 === H && this.J.Cma || 1 === H && this.J.Dma,K=this.J.bEb && 1 === this.mediaType && this.J.Sq,A.cJ=H?E:void 0,A.Paa=D.$t({jq:G.Oh(this.mediaType),R9:this.J.XDb?this.J.R9:void 0,Vbb:String(u.default.time.fa()),SU:H?E:void 0,Pja:K?{start:A.offset,size:A.ga}:void 0}));u.default.time.fa();B=this.Ua.OAb(A,B,z);if(!B.UO()){this.Ub("MediaRequest.open error: " + B.vh + " native: " + B.Cj);if(7 === B.readyState)return {Hm:!1,reason:"requestAborted"};this.Ub("makeRequest caught:",B.vh);C.hh("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Hm:!1,reason:"openAseMediaRequest"};}null === (F=this.ih) || void 0 === F?void 0:F.sEb(B,A,z);this.xn.rSb(B);this.PP(B.Mc,A.HO);this.us() && (this.Ua.w$a(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));return {Hm:!0,reason:"success"};};return y;})(m.Av);b.Sea=a;t.Bf(r.RB,a);t.Bf(r.Sx,a);},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.d9=b.e9=void 0;c=a(2).__importDefault(a(34)).default.console;b.e9=f;b.d9=k;(function(){var v00;function m(d,g,h){var w00,l;w00=2;for(;w00 !== 7;){switch(w00){case 2:w00=0 === g.length?1:9;break;case 1:l=0;w00=5;break;case 3:l++;w00=5;break;case 5:w00=l < d.length?4:9;break;case 4:g[d[l].Pf]=l;w00=3;break;case 9:d=g[h];return void 0 !== d?d:-1;break;}}}v00=2;for(;v00 !== 4;){switch(v00){case 2:var M7p="1SIY";M7p+="bZ";M7p+="rNJCp9";b.e9=f=function(d,g,h,l,n){var x00,u,t,p,q,w,v,x;x00=2;for(;x00 !== 18;){switch(x00){case 6:(u=h.Gi[l],t=h.sizes[l]);x00=14;break;case 14:x00=!g[p].Y?19:13;break;case 4:p=m(g,q,h.AJ[l]);x00=3;break;case 12:x00=!u || !v?19:11;break;case 7:x00=h.Gi[l] < d.GX && p < g.length?6:19;break;case 9:var Z7p="maybe";Z7p+="Upgrad";Z7p+="eLowVmafFragments";Z7p+=": invalid streams";c.error(Z7p);x00=18;break;case 19:l++;x00=5;break;case 8:p+=1;x00=7;break;case 3:x00=-1 === p?9:8;break;case 1:q=[];x00=5;break;case 5:x00=l < n?4:18;break;case 20:p++;x00=7;break;case 10:(m(g,q,w.AJ[l]),h.upgrade(w,l));x00=20;break;case 11:x00=v > u || v === u && x > t?10:20;break;case 13:(w=g[p].Y.Dx,v=w.Gi[l],x=w.sizes[l]);x00=12;break;case 2:x00=d.GX && 0 < d.GX?1:18;break;}}};b.d9=k=function(d,g,h,l){var y00,t,w,n,q,p,u;y00=2;for(;y00 !== 8;){switch(y00){case 5:var K7p="mi";K7p+="n_fragmen";K7p+="t_";K7p+="vmaf";(t=[],w=l.Rg);d=m(g,t,w.Pf);w=null === (q=null === (n=w.Y) || void 0 === n?void 0:n.Dx) || void 0 === q?void 0:q.AJ[h];void 0 !== w && (n=m(g,t,w),-1 !== n && (n !== d && (l.T4a=d,l.Rg=g[n],l.reason=K7p),(null === (u=null === (p=l.Rg) || void 0 === p?void 0:p.Y) || void 0 === u?0:u.get) && l.Rg.Y.get(h)));y00=8;break;case 1:y00=d.GX && !(0 >= d.GX)?5:8;break;case 2:y00=1;break;}}};M7p;v00=4;break;}}})();},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Cx=void 0;r=a(2);c=r.__importStar(a(10));f=a(25);k=a(101);m=r.__importDefault(a(28));d=r.__importDefault(a(34));g=r.__importDefault(a(846));h=a(16);l=a(393);n=d.default.assert;q=d.default.Mp;b.Cx=p;(function(){var z00;function t(v,x,y){var C00;C00=2;for(;C00 !== 4;){switch(C00){case 2:v=new q();v.Rg=y[0];return v;break;}}}function w(v,x,y,z,A){var D00,B;D00=2;for(;D00 !== 3;){switch(D00){case 2:a000.C3p(0);B=a000.y3p(z,A,y);y=f.fq(v,function(E){var E00;E00=2;for(;E00 !== 1;){switch(E00){case 2:return E.bitrate > B;break;}}});y=0 < y?y - 1:0 === y?0:v.length - 1;return v[Math.max(x,y)];break;}}}z00=2;for(;z00 !== 5;){switch(z00){case 2:var H7p="1";H7p+="SIYbZr";H7p+="NJ";H7p+="Cp";H7p+="9";b.Cx=p=function(v,x,y,z,A,B,E){var o3I=a000;function F(T,R,ea,sa,la,Ka,Ua){var H00,$a,Za,cb;H00=2;for(;H00 !== 20;){switch(H00){case 7:return !0;break;case 9:H00=Za && !v.SZ?8:6;break;case 8:H00=$a >= Math.max(T.KA * Ua,T.bitrate * Ua * cb) && T.lu?7:13;break;case 3:H00=!Ka || !Za?9:13;break;case 2:($a=T.Sa || 0,Za=T.Y && T.Y.length,cb=Ka?v.cna:Za?v.c6:v.yXa);H00=1;break;case 4:Ka || Za || (T.Xaa=!0);H00=3;break;case 14:return !0;break;case 1:H00=S && !S.d6 && S.Sa >= $a && S.bitrate <= T.bitrate?5:4;break;case 5:return !1;break;case 6:H00=$a >= T.bitrate * Ua * cb?14:13;break;case 13:ea=!v.ila || T === ea || T.Pc === ea.Pc && B?0:(ea=T.zb) && ea.Ij && ea.Ij.Ha?ea.Ij.Ha + v.fla * (ea.Ij.kj?Math.sqrt(ea.Ij.kj):0):0;(R=u(v,y,T,R,Z,M + ea - K,O,Q - K,I - K,L,Z.length,N,ja,sa,la,P,x.tV,x.playbackRate,! !x.x3a)) && R.result && (C.Rcc=R.pX);S={d6:R && R.result,Sa:$a,bitrate:T.bitrate};H00=10;break;case 10:return R && R.result;break;}}}var F00,Z,ja,C,ya,ra,H,K,M,I,Q,L,J,N,O,P,S,U,Y,pa,G;function D(T,R,ea){var G00;G00=2;for(;G00 !== 1;){switch(G00){case 4:return T.Y?T.Y.pla(R,ea):8;break;G00=1;break;case 2:return T.Y?T.Y.pla(R,ea):0;break;}}}F00=2;for(;F00 !== 30;){switch(F00){case 22:C.Rg=A || H;F00=21;break;case 31:A=J;F00=22;break;case 18:return t.call(this,x,v,y,A);break;case 17:A.Y && A.Y.length || (A.Xaa=!0);(Z=k.hn.YUa(x.buffer.Y),ja=x.buffer.Dw - Z.ga);J=y[0];F00=27;break;case 14:return (A=w(y,z,A.Sa || 0,v.yXa,x.playbackRate),null !== (G=A.Y) && void 0 !== G && G.length || (A.Xaa=!0),C.Rg=A,C);break;case 32:F00=(A=f.ie(y.slice(0,z).reverse(),function(T,R){var J00;J00=2;for(;J00 !== 1;){switch(J00){case 2:return F(T,y[Math.max(z - R - 2,0)],H,Y,pa,!0,x.playbackRate);break;}}})) && A.Pf < J.Pf || !A?31:22;break;case 23:A=f.ie(y.slice(z + 1,E),function(T,R){var I00;I00=2;for(;I00 !== 1;){switch(I00){case 2:return F(T,y[z + R],H,ya,ra,!1,x.playbackRate);break;}}});F00=22;break;case 26:F00=z + 1 < y.length && E > v.AA && (void 0 === this.C8 || this.Bra && this.Bra > this.C8 || I - this.C8 > v.L8 && E > v.esa)?25:22;break;case 27:F00=F(A,y[Math.max(z - 1,0)],A,G,U,!1,x.playbackRate)?26:34;break;case 3:var u7p="n";u7p+="u";u7p+="m";u7p+="b";u7p+="er";var p7p="n";p7p+="umb";p7p+="e";p7p+="r";n(p7p === typeof x.buffer.Dw);n(u7p === typeof x.tV);C=new q();A=y[z];F00=6;break;case 25:E=v.Cxa && E >= v.Aza?y.length:z + 2;(ya=D(A,L,v.Spa),ra=D(A,L + ya,v.csa));F00=23;break;case 13:(H=A,K=x.buffer.$,M=x.buffer.Cc,I=x.buffer.Bc,Q=x.buffer.al,L=x.Bd);o3I.C3p(1);E=o3I.F3p(Q,M);(J=this.Qf.M2a || m.default.V0.Gh,N=x.state === h.sa.Lc || x.state === h.sa.qh?x.buffer.Ej:0,O=v.b9,P=v.BA?v.BA:1E3);G=D(A,L,v.Qpa);o3I.C3p(2);U=D(A,o3I.F3p(G,L),v.$ra);F00=19;break;case 34:F00=A.Y && A.Y.length?33:22;break;case 19:F00=J === m.default.V0.Amb || !A.Sa?18:17;break;case 33:(Y=D(A,L,v.Rpa),pa=D(A,L + Y,v.bsa));F00=32;break;case 6:F00=E?14:13;break;case 21:l.d9(v,y,L,C);return C;break;case 2:var k7p="invalid ";k7p+="play";k7p+="er fragmentIndex";var T7p="Must have";T7p+=" at least";T7p+=" o";T7p+="ne";T7p+=" selected stream";n(!c.ka(z),T7p);void 0 === x.Bd && (x.Bd=0);n(c.Ea(x.Bd),k7p);F00=3;break;}}};H7p;z00=5;break;}}function u(v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,N){function O(ya,ra,Y){var B00;B00=2;for(;B00 !== 5;){switch(B00){case 2:l.e9(v,x,ya,ra,Y);ja.push(ya.subarray(ra,Y));B00=5;break;}}}var A00,ja,P,S,U,Z;A00=2;for(;A00 !== 15;){switch(A00){case 12:S=void 0;A00=11;break;case 18:(S=Math.min(N,z.Y.length - G),O(z.Y.Dx,G,G + S),N-=S,G+=S,G >= z.Y.length && (G=0));A00=19;break;case 9:A00=!P || P < y.bitrate * J * v.Ppa || !U?8:7;break;case 8:return !1;break;case 7:Z || (z=y);ja=[];A00=14;break;case 17:return 0 < M || 0 < I?g.default({Y:A.concat(ja),blocks:C + M + I,Cc:B,al:D,u0b:E,Ej:H,Bc:F,Bd:C,OFb:C + M,tV:L,pYa:K,Sa:P / J,s9:Q,qI:v.qI,ONb:v.SZ,GDb:!1}):P > y.KA?{result:!0,pX:0,lu:!0}:{result:!1,pX:0,lu:!0};break;case 5:(P=y.Sa,S=D - B,U=y.Y && y.Y.length,Z=z.Y && z.Y.length);n(A.length === C);v.fsa && (Q=Math.min(Q,S));A00=9;break;case 19:A00=0 < N?18:17;break;case 16:(M=Math.max(0,Math.min(M,y.Y.length - G)),I=Math.max(0,Math.min(I,z.Y.length - G - M)),0 < M && O(y.Y.Dx,G,G + M),0 < I && O(z.Y.Dx,G + M,G + M + I));A00=17;break;case 20:N=I;A00=19;break;case 14:A00=N?13:16;break;case 13:N=M;A00=12;break;case 10:(S=Math.min(N,y.Y.length - G),O(y.Y.Dx,G,G + S),N-=S,G+=S,G >= y.Y.length && (G=0));A00=11;break;case 11:A00=0 < N?10:20;break;case 2:var l7p="S";l7p+="econd strea";l7p+="m";l7p+=" ";l7p+="undefined";var b7p="First stream";b7p+=" undefi";b7p+="ned";n(y,b7p);n(z,l7p);A00=5;break;}}}})();},function(r,b,a){var k,m,d,g,h,l;function c(n,q,p,u){g(!k.ka(u),"Must have at least one selected stream");return new l(u);}function f(n,q,p,u){g(!k.ka(u),"Must have at least one selected stream");return new l(u);}k=a(10);b=a(34);m=b.console;d=b.debug;g=b.assert;h=b.YH;l=b.Mp;r.exports={STARTING:function(n,q,p){var t,w,v,x;function u(y,z){var A,B,E,D;A=y.id;B=y.bitrate;E=y.Sa || 0;D=! !E;d && m.log("Checking feasibility of [" + z + "] " + A + " (" + B + " Kbps)");if(!y.Hu)return (d && !y.Fu && m.log("  Not available"),d && y.jA && m.log("  Failed"),!1);if(B > n.tX)return (d && m.log("  Above maxInitAudioBitrate (" + n.tX + " Kbps)"),!1);if(!(B * n.y9 / 8 < q.buffer.Dw))return (d && m.log("  audio buffer too small to handle this stream"),!1);if(D){d && m.log("  Have throughput history = " + D + " : available throughput = " + E + " Kbps");if(B * q.playbackRate < E / w)return (d && m.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && m.log(" bitrate requires more than available throughput");return !1;}y=n.IX;q.Kqa && (y=Math.max(y,n.HX));if(B <= y)return (d && m.log("  Bitrate is less than max of minInitAudioBitrate (" + n.IX + " Kbps) " + (q.Kqa?" and also minHCInitAudioBitrate (" + n.HX + " Kbps)":"")),d && m.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && m.log("  No throughput history");return !1;}t=new l();w=n.yac || 1;for(v=p.length - 1;0 <= v;--v){x=p[v];if(u(x,v)){t.Ke=v;break;}h(x) && (t.Ke=v);}return t;},BUFFERING:c,REBUFFERING:c,PLAYING:f,PAUSED:f};},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.au=void 0;c=a(20);f=a(127);k=a(4);b.au=function(m,d,g,h,l,n){var q;c.ia && h.trace("AsePlaygraph.createRequestQueue()");q=f.Gp.instance.au(m,d.K,!0,!1,{Oz:g.Oz},g);q.dh.on(q,"networkfailing",function(){var p;c.ia && h.trace("requestQueue OnNetworkFailing: ",q);q.b6 && (k.assert(q.JV),null === (p=d.uq) || void 0 === p?void 0:p.Ls(q.JV,void 0,q.vh,q.Cj));d.cn();});q.dh.on(q,"error",function(){n(q.vh,q.Cj);});q.on("transportreport",l);q.Fb();return q;};},function(r,b,a){var c,f,k,m,d,g,h,l,n,q;Object.defineProperties(b,{__esModule:{value:!0}});b.wca=void 0;c=a(2);r=a(17);f=a(20);k=c.__importDefault(a(6));m=a(9);d=a(861);g=a(150);h=a(862);l=a(21);n=a(865);q=a(866);a=(function(p){function u(){var t;t=null !== p && p.apply(this,arguments) || this;t.aQa=0;t.$ha=0;t.x2=0;t.Aga=0;return t;}c.__extends(u,p);u.prototype.iwa=function(t){var w,v;p.prototype.iwa.call(this,t);this.aQa++;this.$ha++;this.vQa=k.default.time.fa();this.wL || (this.wL={Mc:t.Mc,gd:t.gd,index:t.index},this.M2 || (this.M2=this.wL));w=this.Z2;v=!1;w && 100 > Math.abs(w.pe - t.zd) && (this.x2+=t.pe - w.pe,this.Aga++,v=!0);v || (this.x2=t.fs,this.Aga=1);this.Z2=t;};u.prototype.stop=function(){p.prototype.stop.call(this);this.$ha=0;this.wL=void 0;};u.prototype.HZa=function(){var t,w,v,x;t=this.Ry;w=t.e5;if(w){x=w.kb(this.Wg);x && x.Ua && (v=x.Ua.Toa());return {RM:v,currentBranch:{sId:w.H && w.H.id,cancelled:w.Lh},currentReceivedCount:t && t.hBb,totalReceivedCount:this.aQa,currentState:t && t.iVa || "Uninitialized",lastRequestPushed:this.Z2 && ({contentEndPts:this.Z2.Mc,fragmentIndex:this.Z2.index}),tslp:this.vQa && k.default.time.fa() - this.vQa,cpts:this.x2,crq:this.Aga,rslp:this.$ha,firstRequestSSPushed:this.wL && ({contentStartPts:this.wL.gd,fragmentIndex:this.wL.index}),firstRequestPushed:this.M2 && ({contentStartPts:this.M2.gd,fragmentIndex:this.M2.index})};}};return u;})((function(p){function u(t,w,v,x,y,z,A,B,E){var D;D=p.call(this) || this;D.Eg=t;D.Wg=w;D.J=x;D.I=y;D.yC=new m.Fr(!1);D.xC=new m.Fr(l.O.Na(-Infinity));D.I=m.Nq(k.default,D.I,"AsePlayerBuffer [" + w + "]:");D.Ry=new d.QAa(D.I,v,w);D.resume();z && A && B && (D.Uua=new h.LKa(w,y,z,D.Eg,z.events,A,B,E),t=new n.KDa(null === z || void 0 === z?void 0:z.Hs,l.O.Na(D.J.JX),y),D.Ry.cRa(t),D.J.KRa && (y=new q.CIa(null === z || void 0 === z?void 0:z.Hs,D.J.KRa,l.O.Na(D.J.Itb),y),D.Ry.cRa(y)));D.Eg.on("requestAppended",function(F){D.yC.set(!0);F.request.ye && D.xC.set(F.request.ye);D.emit("requestAppended");});return D;}c.__extends(u,p);Object.defineProperties(u.prototype,{MA:{get:function(){return this.yC;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{aX:{get:function(){return this.xC;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{QMb:{get:function(){return this.Ry.xk;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{xB:{get:function(){return this.Eg.xB;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{mediaType:{get:function(){return this.Wg;},enumerable:!1,configurable:!0}});u.prototype.HZa=function(){};u.prototype.resume=function(){f.ia && this.I.trace("resume");this.Jxa();};u.prototype.L1a=function(t){return this.Eg.zoa() > t;};Object.defineProperties(u.prototype,{iub:{get:function(){return this.eL;},enumerable:!1,configurable:!0}});u.prototype.reset=function(t){var w;void 0 === t && (t=!1);f.ia && this.I.trace("reset");this.stop();this.Eg.reset(t);this.yC.set(!1);this.xC.set(l.O.Na(-Infinity));t || (this.eL=void 0);t || (null === (w=this.Uua) || void 0 === w?void 0:w.reset());};u.prototype.Tm=function(t){void 0 === t && (t=!1);f.ia && this.I.trace("restart");this.reset(t);this.Jxa(!0);};u.prototype.stop=function(){f.ia && this.I.trace("stop");this.Ry.Qab();};u.prototype.close=function(){var t;f.ia && this.I.trace("start");null === (t=this.Uua) || void 0 === t?void 0:t.close();};u.prototype.Ib=function(){this.stop();this.close();};u.prototype.$X=function(){this.J.m6 && this.Eg.bYa();this.Eg.Mz();};u.prototype.FE=function(t){this.Eg.FE(t);};u.prototype.PFb=function(t){this.Eg.J5a(t,!0);};u.prototype.Ti=function(t){var w;return !(null === (w=this.Uua) || void 0 === w || !w.Ti(t));};u.prototype.Jxa=function(t){if(!this.Ry.xk || t)(this.Ry.MYb(),g.AsyncIterator.VNb(this.Ry,this.v8.bind(this)));};u.prototype.v8=function(t){t.done || this.iwa(t.value);};u.prototype.iwa=function(t){f.ia && this.I.trace("requestReceived: " + t.toString());this.Eg.endOfStream?f.ia && this.I.error("Buffer manager has declared EOS, ignoring request",t.toString()):(this.eL?(this.eL.rOb=t.Mc,this.eL.sOb=t.pe,this.eL.Q2a=t.ye):this.eL={Nbc:t.gd,Obc:t.zd,rOb:t.Mc,sOb:t.pe,Q2a:t.ye},this.Eg.hub(t));};return u;})(r.EventEmitter));b.wca=a;},function(r,b,a){var c,f,k,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.mfa=void 0;c=a(2);f=a(17);k=a(9);m=a(20);d=a(67);g=k.O.Na(1E3);r=(function(){function h(l,n,q,p,u,t,w,v,x){var y,z,A;y=this;this.mediaType=l;this.console=n;this.Ia=q;this.events=u;this.nw=t;this.Me=w;this.L2b=v;this.mp=[];this.kua=g.add(k.O.Na(null !== (A=null === (z=t.UP) || void 0 === z?void 0:z.U) && void 0 !== A?A:0));this.listeners=new f.gi();this.listeners.on(q.X,"skipped",function(){return y.bY();});this.listeners.on(p,"requestAppended",function(B){return y.MA(B.request);});this.MT=!0;this.yV=w.aH(function(){return y.BDb();},"Presentation Emit",x);this.T$=w.aH(function(){return y.JWb();},"Presentation Prune");}h.prototype.bY=function(){this.trace("skipped, scheduler clock " + this.Me.za.currentTime.$d());this.MT=!0;this.yV.Tm();};h.prototype.BDb=function(){var l,n;return c.__generator(this,function(q){switch(q.label){case 0:(this.RI=this.XRb(this.MT),l=this.s5a(),q.label=1);case 1:if(!l)return [3,3];n=this.MT?this.Ia.Zg:null === l || void 0 === l?void 0:l.timestamp;this.trace("queuing task for " + l.SJ + (" at player time " + l.timestamp.$d()) + (" scheduler clock is " + this.Me.za.currentTime.$d()));return [4,d.Tk.DQ(l.timestamp)];case 2:return (q.Ac(),this.trace("executing task for " + l.SJ + (" at player time " + l.timestamp.$d()) + (" scheduler clock is " + this.Me.za.currentTime.$d())),this.MT=!1,this.CWa(l,n),this.RI++,l=this.s5a(),n=null === l || void 0 === l?void 0:l.timestamp,[3,1]);case 3:return [2];}});};h.prototype.s5a=function(){if(void 0 !== this.RI)return this.mp[this.RI];};h.prototype.XRb=function(l){var n,q,u;void 0 === l && (l=!1);for(var p=l?0:null !== (n=this.RI) && void 0 !== n?n:0;p < this.mp.length;p++){n=this.mp[p];u=k.O.Na(null !== (q=this.nw.Hua) && void 0 !== q?q:0);if(n.timestamp.greaterThan(this.Ia.Zg.add(u)))return l && 0 < p?p - 1:p;}return Math.max(this.mp.length - 1,0);};h.prototype.JWb=function(){var l,n;return c.__generator(this,function(q){switch(q.label){case 0:if(!(1 < this.mp.length))return [3,2];l=c.__read(this.mp,2);n=l[1];this.trace("queuing pruning task for " + n.SJ + (" at player time " + this.kua.add(n.timestamp).$d()) + (" scheduler clock is " + this.Me.za.currentTime.$d()));return [4,d.Tk.DQ(this.kua.add(n.timestamp))];case 1:return (q.Ac(),this.trace("executing pruning task for " + n.SJ + (" at player time " + this.kua.add(n.timestamp).$d()) + (" scheduler clock is " + this.Me.za.currentTime.$d())),this.mp.shift(),this.RI && this.RI--,[3,0]);case 2:return [2];}});};h.prototype.reset=function(){this.mp=[];m.ia && this.trace("reset");this.MT=!0;this.z8=void 0;this.RI=0;this.T$.Tm();this.yV.Tm();};h.prototype.close=function(){this.yV.Ib();this.T$.Ib();this.listeners.clear();};h.prototype.Ti=function(l){var n;m.ia && this.trace("canSkip() " + l);if(0 === this.mp.length)return (m.ia && this.trace("canSkip false, no media sequence"),!1);n=this.mp[0];return n.timestamp.greaterThan(l)?(m.ia && this.trace("canSkip false, before earliest item at " + n.timestamp),!1):void 0 === this.z8 || this.z8.lessThan(l)?(m.ia && this.trace("canSkip false, later than last appended at " + this.z8),!1):!0;};h.prototype.trace=function(l){m.ia && this.console.trace("PresentationTracker [" + this.mediaType + "] " + this.L2b + ": " + l);};h.prototype.ZQa=function(l,n,q){q && (this.z8=q);q=this.mp.length?this.mp[this.mp.length - 1]:void 0;return void 0 === q || q.SJ !== l?(this.mp.push({SJ:l,timestamp:n}),this.yV.state === d.rn.complete && this.yV.Tm(),this.T$.state === d.rn.complete && this.T$.Tm(),!0):!1;};return h;})();b.mfa=r;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Hca=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(85));k=r.__importDefault(a(6));m=a(867);d=a(16);g=a(248);h=a(9);l=a(4);n=a(21);q=a(352);p=a(389);a=(function(){function u(t,w,v,x,y,z,A,B,E,D){this.wb=t;this.ki=w;this.I=v;this.SL=x;this.J=A;this.I2=B;this.KPa=E;this.$V=D;this.Ub=this.I.warn.bind(this.I);this.An=this.I.trace.bind(this.I);this.Ig=this.I.log.bind(this.I);this.ii=[];this.rh={};y.Fn?(l.assert(!y.qp),this.oga=!0,this.Aqb(y,y.Fn,z)):(this.Do=this.Dy(y.qp || "",y,0,void 0,void 0,{},!0),this.Do.Qq=!0,this.Do.La=Infinity,this.C3=[this.Do]);this.Zd=this.z2(this.Do,void 0,z);this.Zd.active=!0;t=h.Nq(k.default,this.I,"BranchQueue::");this.qj=new g.j0(t);this.qj.enqueue(this.Zd);this.Sha=this.nT=void 0;}u.Sna=function(t){return "m" + t;};Object.defineProperties(u.prototype,{Ww:{get:function(){return ! !this.oga;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{vk:{get:function(){return this.Zd.Lh;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Pd:{get:function(){return this.Do;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{$g:{get:function(){return this.Zd.H.id;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{jBb:{get:function(){return this.Zd.R.Qb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Yc:{get:function(){return this.Zd;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Hb:{get:function(){return this.ii;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ee:{get:function(){return this.Zd.Ee;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Tg:{get:function(){return this.wb.Tg;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ai:{get:function(){return this.nT?this.nT:this.Hb[0];},enumerable:!1,configurable:!0}});u.prototype.Ib=function(){this.ii.forEach(function(t){t.rf();});this.ii=[];this.qj.clear();};u.prototype.lf=function(t){return this.rh[t];};u.prototype.E_a=function(){return this.qj.getIterator();};u.prototype.D_a=function(t,w){var v;v=this.rh[t];if(v)return (t=v.Ll[w]) && t.weight;this.Ub("getSegmentWeight, unknown segment:",t);};u.prototype.DJb=function(t){var w;w=this.rh[t];if(w)return w.$;this.Ub("getSegmentStartPts, unknown segment:",t);};u.prototype.CJb=function(t){var w;w=this.rh[t];if(!w)this.Ub("getSegmentDuration, unknown segment:",t);else if(c.Ea(w.La) && isFinite(w.La) && c.Ea(w.$) && isFinite(w.$))return w.La - w.$;};u.prototype.Tva=function(t){var w;w=-1;this.ii.some(function(v,x){return v === t?(w=x,!0):!1;});-1 !== w?this.ii.splice(w,1):this.Ub("Unable to find branch:",t,"in branches array");};u.prototype.NG=function(t,w){var v;v=0;this.uob(t).forEach(function(x){(x=x.Ud(w)) && (v+=x.eD);});return v;};u.prototype.Cw=function(t,w,v){var x;if(!t.oc(w))return 0;x=t.kb(w);for(x=v?x.Bc:x.mq;void 0 === x;){if(!t.yg)return 0;t=t.yg;x=t.kb(w);x=v?x.Bc:x.mq;}t=this.KPa.Te();return Math.max(x - t,0);};u.prototype.gna=function(t){return this.ii.filter(function(w){if(w.R.Qb === t)return !0;});};u.prototype.vFb=function(t,w){return this.sOa(t,!1,w);};u.prototype.uFb=function(t,w){return this.sOa(t,!0,w);};u.prototype.eYb=function(t,w,v){c.sf(this.ii,function(x){x.R === t && x.Z$a(w,v);});c.sf(this.rh,function(x){x.R === t && (x.R=w);});};u.prototype.A9a=function(){var t;t=this;c.sf(this.ii,function(w){var v;v=t.wb.wh(w.R.Qb);w.Mx(n.O.Na(v.bx));});};u.prototype.fr=function(t){var w;w=this;c.sf(this.ii,function(v){v.kb(1).track.ae.forEach(function(x){var y;y=q.ija(x.Lg,x.bitrate,t,w.I);f.default(y,x);});});};u.prototype.ku=function(t,w,v,x){var y;for(;w;){y=w.ku(t,v);if(y)return y;if(x)break;w=w.yg;}};u.prototype.nVa=function(t){var w,v;w=this;void 0 === t && (t=!1);v=this.ii;t && (v=v.filter(function(x){return x !== w.Zd;}));v.forEach(function(x){x.active=!1;w.qj.remove(x);});t || this.qj.clear();return v;};u.prototype.IWb=function(){var t;for(;0 < this.ii.length;){t=this.ii[0];t.kb(0);t.kb(1);if(!t.active)break;if(t === this.Zd)break;if(!t.VKb())break;t.rf();this.ii.shift();}};u.prototype.JY=function(t,w,v,x,y){if(v > x){for(v-=x;t;){t.JY(w,v,y);t=t.yg;}return v;}};u.prototype.J3a=function(t,w){for(var v={PU:null,eP:null,zd:null,Ej:0,jh:0,Y:[]};t;){t.e7(v,w);t=t.yg;}return v;};u.prototype.wxb=function(t){var w,v,x;w=this.Zd;if(w.y3a)v=w.y3a;else {x=this.Zd.Ee;v=this.z2(w.H,w);d.Df.forEach(function(y){var z;z=v.Ud(y);z && (z.rJ(0),y=w.Ud(y),z.Kaa(y.Kf));});v.Mx(n.O.Na(x + t));w.y3a=v;}this.aL(v,w);};u.prototype.Wsb=function(t,w,v){var x,y;l.assert(!t.Ww());if(!this.oga){this.oga=!0;this.nT=this.Ai;x=this.Do.id || u.Sna(0);this.Do.id=x;this.rh[x]=this.Do;this.Do.La=this.wb.gIb().JZa();this.Do.uE=!0;}y=void 0 !== t.qp?t.qp:u.Sna(t.Qb);t=this.Dy(y,t,w,v,void 0,{},!0);t.uE=!0;this.C3.forEach(function(z){z.Ll={};z.Ll[y]={weight:100};z.fV=y;z.vv=!1;});this.C3=[t];};u.prototype.Yr=function(t,w){var v,x,y,z;v=this.Ai;x=v.KE(w,this.wb.X);y=v.H;z=v.children[t];if(w){if(!y.Ll[t])return (this.Zd.Ub("chooseNextSegment, invalid destination:",t,"for current segment:",y.id),!1);if(v.el)return v.el === t;v.el=t;z && v.p6 && this.aL(z,v);return !0;}if(void 0 !== v.el)return !1;if(!z)return (x.o5a=!0,!1);x.o5a=!z.Bka();this.wb.aia(void 0,p.wS.LO);v.p6=void 0;v.el=t;this.aL(z,v);v.mH();this.wb.KT();return !0;};u.prototype.pLb=function(t,w){var v,x,y,z;v=this;z=t.H;w && !t.el && (t.el=z.fV,t.KE(!0,this.wb.X,!0));t.children=Object.create(null);c.sf(z.Ll,function(A,B){t.el && B !== t.el || (x=v.rh[B],y=v.Mnb(x,t),t.children[B]=y);});t.el && (w=t.children[t.el]) && this.aL(w,t);t.p6=!0;};u.prototype.E2b=function(){var t;t=0;c.sf(this.ii,function(w){d.Df.forEach(function(v){w.oc(v) && (v=w.Ud(v),t+=v.Ua.aq);});});return t;};u.prototype.I1b=function(t,w){var v,x,y;v=this;x=this.rob(t,w);if(x){if(x !== this.Zd.H){this.nVa();y=this.z2(x,this.Zd,t);y.yg=void 0;y.hxa(void 0,void 0,!0);this.Smb(this.Zd);this.aL(y,this.Zd);}else this.nVa(!0).forEach(function(z){z.rf();v.Tva(z);v.qj.remove(z);});x === this.Ai.H && (this.Ai.Jx.shift(),y && (y.Jx=this.Ai.Jx,y.el=this.Ai.el));this.ki.d3(x,this.Zd.Ee);this.Zd.p6=void 0;}else this.Ub("findSegment no segment for manifestIndex:",w);};u.prototype.I3a=function(t,w){var v;v=t.H;w || (w=v.fV);t.el || (t.el=w,t.KE(!0,this.wb.X,!0));(w=t.children[t.el]) && this.aL(w,t);};u.prototype.B$a=function(t,w){if(this.Zd !== t){if(w)for(w=this.Zd;w && w !== t;){w.active=!1;this.qj.remove(w);w=w.yg;}this.Zd=t;}};u.prototype.ft=function(t,w){var v,x,y,z,A;v=this;if(this.Ww){x=this.J;y=this.Ai;z=y.H;A=h.wZb(z.id);!y.el && !z.vv && y.Mc - w <= x.gE && (this.Ub(A + "updatePts making fork decision at playerPts:",t,"contentPts:",w),this.I3a(y));}d.Df.forEach(function(B){v.Zd.oc(B) && v.Tg[B].ft();});};u.prototype.sSb=function(t,w){var v,x;if(this.Ww){v=this.nT;if(!(this.J.QLb && t && this.Sha && t.$ === this.Sha || (t=t.Ua.ib,v && t.H.id === v.H.id))){x=null === v || void 0 === v?void 0:v.Ud(1);x=null === x || void 0 === x?void 0:x.Kf;this.Sha=null === x || void 0 === x?void 0:x.$;this.nT=t;this.nnb(v);v=v && v.Jxb(t);this.ki.eqb(t.H,w,v);}}};u.prototype.S9=function(t,w,v){w.Qq || (w.$=this.d_a(t,w.$,!0),v || (w.La=this.d_a(t,w.La,!1)),w.Qq=!0,!1);};u.prototype.uQ=function(t,w){var v;v=this.rh[t];v?c.sf(v.Ll,function(x,y){x.weight=w[y] || 0;}):this.Ub("updateChoiceMapEntry, unknown segment:",t);};u.prototype.d_a=function(t,w,v){t=v?t.IXa(w):t.LV(w);if(!t.length)return w;w=t[1];return v?w.$:w.La;};u.prototype.WOa=function(t,w,v){var x;x=w?v.Mc:v.pe;return (w?v.yaa:v.Iua) <= t && t < x;};u.prototype.sOa=function(t,w,v){var A;for(var x=this.wb,y=this.Zd;y;){if((!c.Ea(v) || x.Hqa(v,y.R.Qb)) && this.WOa(t,w,y))return y;y=y.yg;}if(w){y=Object.keys(this.Zd.children);for(var z=0;z < y.length;z++){A=this.Zd.children[y[z]];if((!c.Ea(v) || x.Hqa(v,A.R.Qb)) && this.WOa(t,w,A))return A;}}};u.prototype.Mnb=function(t,w){var v,x;v=this.z2(t,w);x=v.hxa(w,void 0,this.J.Kva);d.Df.forEach(function(y){var z,A,B;if(v.oc(y)){z=v.Ud(y);A=w.Ud(y);B=x[y];1 === y && v.Mx(n.O.Na(A.Bc + w.Ee - B));z.rJ(B);}});this.ki.d3(t,v.Ee);return v;};u.prototype.Smb=function(t){for(var w=[t.H.id];t.yg;){t=t.yg;w.unshift(t.H.id);}this.fga(t);};u.prototype.fga=function(t){var w,v;w=this;v=t.H;c.sf(t.children,function(x){x && w.fga(x);});this.qj.remove(t);t.rf();this.Tva(t);this.ki.Hha(v);};u.prototype.aL=function(t,w){var v,x,y,z;v=this;x=w.H;w.R !== t.R && this.wb.hPa(t.R.Qb);t.active=!0;this.qj.enqueue(t);t.mM();y=k.default.time.fa();z={};c.sf(w.children,function(A){var B,E;if(A){if(A.oe){B=A.Ud(0);E=A.Ud(1);A.oe.jq=[B?B.Hn.U:0,E?E.Hn.U:0];A.oe.fDb=y - A.oe.Q7;A.oe.Q7=void 0;z[A.H.id]=A.oe;}A.H.id !== t.H.id && v.fga(A);}});w.children=Object.create(null);w.children[t.H.id]=t;w.mL=void 0;this.B$a(t);this.ki.cqb(t.H,z);1 < Object.keys(x.Ll).length && t.Bka();};u.prototype.nnb=function(t){var w,v;if(t){w=k.default.time.fa();v=t.Jx[0];v && void 0 === v.s5?v.s5=w - v.$q:v || (this.Ub("missing metrics for branch:",t.H.id),v={Raa:t.H.id,We:!0,s5:0,oe:{}},t.Jx.unshift(v));void 0 === v.startTime && (v.startTime=w);}};u.prototype.rob=function(t,w){var x,y,z,A;l.assert(0 <= t);for(var v in this.rh){x=this.rh[v];if(this.wb.Hqa(x.R.Qb,w)){if(x.$ <= t && (Infinity === x.La || void 0 === x.La || t < x.La))return x;y=Math.min(Math.abs(t - x.$),Math.abs(t - x.La));if(c.ka(z) || y < z)(z=y,A=x);}}return A;};u.prototype.Dy=function(t,w,v,x,y,z,A,B,E){w=new m.BLa(t,w,v,x,y,z,A,B,void 0,E);return this.rh[t]=w;};u.prototype.Aqb=function(t,w,v){var x,y,z;x=this;this.Do=void 0;this.C3=[];y=null;z=null;c.sf(w.segments,function(A,B){var E,D,F,G,C;E=A.startTimeMs;D=A.endTimeMs;F={};c.sf(A.next,function(H,K){F[K]={weight:H.weight || 0,S2b:H.transitionHint || A.transitionHint,zbc:"number" === typeof H.earliestSkipRequestOffset?H.earliestSkipRequestOffset:A.earliestSkipRequestOffset};});G=A.defaultNext;c.ka(G) && (G=Object.keys(F)[0]);C=c.ka(G);G=x.Dy(B,t,E,D,G,F,C,A.exitZones,A.transitionHint);E <= v && (v < D || c.ka(D))?x.Do=G:E > v && (!y || E < z) && (y=B,z=E);C && x.C3.push(G);});this.Do || (this.Do=y?this.rh[y]:this.rh[w.initialSegment]);};u.prototype.z2=function(t,w,v){var x,y,z,A;x=t.R;y=this.wb.wh(x.Qb);z=y.bx;A=[];[0,1].forEach(function(B){x.oc(B) && A.push(y.Bq(B));});t=new p.OFa(this.wb,this.J,this.ki,this.I,this,this.I2,this.KPa,this.SL,t,A,z,w,v?n.O.Na(v):void 0,this.$V,this.wb.Tg,this.wb.lw);this.Tmb(t);this.ii.push(t);return t;};u.prototype.Tmb=function(t){var v;function w(x){v.wb.emit(x.type,x);}v=this;t.addListener("locationSelected",w);t.addListener("logdata",w);t.addListener("serverSwitch",w);t.addListener("streamSelected",w);t.addListener("lastSegmentPts",w);t.addListener("managerdebugevent",w);t.addListener("requestCreated",function(x){x=x.request;v.wb.eia(x.mediaType,x.$);});};u.prototype.uob=function(t){for(var w=[t];t.yg;){t=t.yg;w.push(t);}return w;};return u;})();b.Hca=a;},function(r,b,a){var m,d,g,h;function c(l,n,q){this.tE=n;this.Jl=q;this.uB=this.MW=this.oua=this.a7a=this.$6a=this.OO=this.ae=this.gVb=this.Jl=this.Xm=this.Bc=this.$=this.jt=this.po=this.Y=this.x1a=this.rU=void 0;}function f(l,n,q){this.La=n;this.e2a=q;this.PRa=this.Pdb=this.Sr=this.po=this.jI=this.Kw=void 0;}function k(l,n,q,p,u,t,w){var v;v=new c(q,n,l.Jl);l.forEach(function(x){var y,z;y=x.buffer;z=y.Y;x.mediaType === d.Wa.Xb?v.rU=z.length?z[0].bitrate:void 0:x.mediaType === d.Wa.Pb && (v.x1a=z.length?z[0].bitrate:void 0,v.Y=z,v.po=y.al - y.Cc,v.jt=y.jh,v.$=y.Cc,v.Bc=y.Bc,v.Xm=x.Bd,v.Jl=x.Jl,v.gVb=n - x.Jl,v.ae=x.ae,v.OO=z.filter(function(A){return v.$ <= A.vx;}).length);});this.Lj=v;this.gu=void 0;this.sVa=p;this.Ax=u;this.LSa=t;this.Gva=this.Y$=this.o6a=this.zB=this.hM=this.FXa=this.Ox=this.ae=this.gu=void 0;this.ttb=w;this.Mua={};}m=a(2);d=a(28).default;g=a(34).assert;h=a(16).sa;c.prototype.constructor=c;f.prototype.constructor=f;k.prototype.constructor=k;k.prototype.ju=function(l,n){var q,p,u,t,w,v,x,y,z,A,B,E,D,H,K,M,I,Q,L;q=this.Lj;p=[];u=l[d.Wa.Pb];t=l[d.Wa.Xb];if(void 0 === u || void 0 === t)return !1;w=u.buffer;v=t.buffer;x=q.ae.filter(function(J){return J.R6();});if(void 0 === w || void 0 === v || void 0 === x || 0 === x.length)return !1;y=new f(n?h[n]:"maxbitratechanged",u.Cc,n === h.Tf);z=0;A=0;B=0;E=0;D=q.$;l=l[d.Wa.Pb].Cc;for(var F=q.Y,G=q.OO,C=0;C < G;C++){H=F[C];K=H.offset;M=H.offset + H.ga - 1;I=H.fs;Q=H.cB;L=Q + I;H && Q <= l && L > D && (I=H.fs,Q=Math.min(I,Math.min(l,L) - Math.max(Q,D) + 1),E+=Q,z+=Q / I * (M - K + 1),A+=H.bitrate * Q,B+=H.xb * Q);}q.$6a=z;q.a7a=E;q.oua=0 < E?A / E:0;q.EUb=0 < E?B / E:0;q.MW || (q.MW=0,x.some(function(J,N){if(J.bitrate === q.x1a)return (q.MW=N,!0);}));x.forEach(function(J){var N,P;J=J.R6();N=[];q.uB || (q.uB=J.Nn(q.$,void 0,!0));y.Kw || (y.Kw=J.Nn(y.La,void 0,!0),y.jI=J.length - 1);q.Xm !== q.uB + q.OO && (q.Xm=q.uB + q.OO);G=Math.min(y.jI,y.Kw + 1);for(var O=q.uB;O <= G;O++){P=J.get(O);N[O]=P;}p.push(N);});n === h.Tf && (y.po=w.al - w.Cc,y.Sr=v.al - v.Cc,y.Pdb=u.D8a,y.PRa=t.D8a);this.gu=y;this.ae=x;this.Ox=p;return this.FXa=!0;};k.prototype.$z=function(){var l,n,q,p,u,t,w,v,x,y,z,D,F,G,C,H,I,Q;if(this.zk)return this.zk;q=this.zB;p=this.Lj;u=this.gu;t=this.ae;w=this.o6a;v=this.ttb;g(void 0 !== q,"throughput object must be defined before retrieving the logdata from PlaySegment");if(q.trace && 0 === q.trace.length || void 0 === q.timestamp){if(u.e2a)(x=!1,y=!0);else u.Kw - p.uB + 1 <= p.OO?y=x=!0:(x=!0,y=!1);z=!0;}if(w)for(var A=w.X7,B=w.kN,E=0;E < v.length;E++){D=v[E];(q=w[D]) && q.ota && (y=!0);}u={bst:p.Jl,pst:p.tE,s:p.uB,e:u.Kw,prebuf:p.OO,brsi:p.Xm,pbdlbytes:p.$6a,pbdur:p.a7a,pbtwbr:p.oua,pbvmaf:p.EUb};this.Ax && (u.fragmentsPrebuffered=p.Y);z && (u.nt=z);y && (u.nd=y);A && (u.invalid=A);B && (u.exception=B);this.Gva && (u.rr=this.Gva);this.Y$ && (u.ra=this.Y$);if(!y && !A && !B && (this.sVa || this.Ax)){u.bitrate=t.map(function(L){return L.bitrate;});q=this.zB;D=q.trace;F=[];C=0;D.forEach(function(L){L=Number(L).toFixed(0);F.push(L - C);C=L;});u.tput={ts:q.timestamp,trace:F,bkms:q.jz};}if(y || z || A || B)u.feasible=x;else for((u.sols={},u.elapsed=w.vDb,E=0);E < v.length;E++){D=v[E];q=w[D];y={};if(q && q.jr){y.algelapsed=q.stb;y.maxHeapTotal=q.GA;y.f=q && q.RD || !1;y.dltwbr=q.ZVa;y.dlvmaf=q.bWa;y.dlvdur=q.aWa;y.dlvbytes=q.$Va;y.dlabytes=q.XVa;if(this.sVa || this.Ax){G=q.jr.filter(function(L){return L;}).map(function(L){return L.Ke;});C=0;H=[];G.forEach(function(L){H.push(L - C);C=L;});y.strmsel=H;}if(this.Ax){z=[];x=this.Lj.Xm;try{for(var K=(l=void 0,m.__values(G)),M=K.next();!M.done;M=K.next()){I=M.value;Q=this.Ox[I][x];Q.Pf=I;z.push(Q);x++;}}catch(L){l={error:L};}finally{try{M && !M.done && (n=K.return) && n.call(K);}finally{if(l)throw l.error;}}y.fragsel=z;y.streamList=this.ae;y.pause_dlnd_sec=q.jr.filter(function(L){return L;}).map(function(L){return L.lua;});y.buffer_sec=q.jr.filter(function(L){return L;}).map(function(L){return L.Xja;});y.buffer_kb=q.jr.filter(function(L){return L;}).map(function(L){return L.Wja;});y.buffer_frags=q.jr.filter(function(L){return L;}).map(function(L){return L.PSa;});y.elapsed_secs=q.jr.filter(function(L){return L;}).map(function(L){return L.yWa;});y.throughput=q.jr.filter(function(L){return L;}).map(function(L){return L.Sa;});}}u.sols[D]=y;}return this.zk=u;};k.prototype.EFb=function(l){var p;if(void 0 !== this.Mua[l])return this.Mua[l];for(var n=this.Ox[this.Lj.MW],q=0;q < n.length;q++){p=n[q];if(p && p.$ <= l && p.$ + p.duration > l)return this.Mua[l]=p;}throw Error("findPlayingFragment: missing");};r.exports=k;},function(r,b,a){var k,m;function c(d,g,h){this.ga=d;this.Um=g;this.quality=h;}function f(d,g){this.jsa=g;void 0 === g && (this.jsa=!0);this.vm=d;this.enb();}k=a(2);m=a(4).assert;c.prototype.constructor=c;c.prototype.eA=function(){return 8 * this.ga / 1E3 / this.Um;};f.prototype.constructor=f;f.prototype.Yt=function(d,g,h,l,n){void 0 === g && (g=0);void 0 === h && (h=d.QN());void 0 === l && (l=0);void 0 === n && (n=d.vm.length);for(var q=[],p,u=l;u < n;u++){l=[];for(var t=g;t < h;t++){p=d.vm[u][t];l.push(p);}q.push(l);}return new f(q,d.jsa);};f.prototype.enb=function(){var d,g,n;g=this.vm[0].length;try{for(var h=k.__values(this.vm.slice(1)),l=h.next();!l.done;l=h.next()){n=l.value;m(n.length === g,"expect chunk.length === n but got " + n.length + " and " + g);}}catch(p){var q;q={error:p};}finally{try{l && !l.done && (d=h.return) && d.call(h);}finally{if(q)throw q.error;}}this.jsa && this.fnb();this.gnb();};f.prototype.QN=function(){return this.vm[0].length;};f.prototype.fnb=function(){for(var d=0;d < this.vm.length - 1;d++){for(var g=0;g < this.QN();g++){m(this.vm[d][g].ga <= this.vm[d + 1][g].ga,"Chunk size for epoch " + g + " is not monotonic");}}};f.prototype.gnb=function(){for(var d=0;d < this.vm.length - 1;d++){for(var g=0;g < this.QN();g++){m(1E-8 > Math.abs(this.vm[d][g].Um - this.vm[d + 1][g].Um),"Chunk duration for epoch " + g + " is not consistent");}}};f.prototype.nKb=function(){var d;d=[];this.vm[0].forEach(function(g){d.push(g.Um);});return d;};r.exports={agb:c,bgb:f};},function(r,b,a){var m;function c(){}function f(d,g,h){void 0 === h && (h=!1);m(d.length === g.length,"bitrates_kbps and durations_sec must be of the same length.");m(1E-8 < k(d),"bitrate zero, won't be able to send anything.");this.WC=d;this.uWa=g;this.repeat=h;this.zm=this.Uo=0;}function k(d){return d.reduce(function(g,h){return g + h;},0);}m=a(4).assert;c.prototype=Error();f.prototype.constructor=f;f.prototype.Yt=function(){var d;d=new f(this.WC,this.uWa,this.repeat);d.Uo=this.Uo;d.zm=this.zm;return d;};f.prototype.ypa=function(){return this.WC[this.Uo % this.WC.length];};f.prototype.DD=function(){return this.uWa[this.Uo % this.WC.length];};f.prototype.bDb=function(d){m(0 < d,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.Uo && this.Uo < this.WC.length))throw new c();m(this.zm < this.DD(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var g;;){g=this.DD() - this.zm;g=d < g?d:g;d-=g;this.zm+=g;if(this.zm < this.DD())break;this.zm-=this.DD();this.Uo+=1;if(!this.repeat && this.Uo >= this.WC.length){if(0 < d)throw new c();break;}}};f.prototype.Y6a=function(d){this.bDb(d);};f.prototype.cDb=function(d){m(0 < d,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.Uo && this.Uo < this.WC.length))throw new c();m(this.zm < this.DD(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var g,h=0;;){g=this.DD() - this.zm;g=d < g * this.ypa()?d / this.ypa():g;d-=this.ypa() * g;h+=g;this.zm+=g;if(this.zm < this.DD())return h;this.zm-=this.DD();this.Uo+=1;if(!this.repeat && this.Uo >= this.WC.length){if(0 < d)throw new c();return h;}}};r.exports={vmb:f,wmb:c};},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.imb=b.oea=b.kmb=b.aMa=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(6));k=r.__importDefault(a(34)).default.YH;m=r.__importStar(a(9)).Nq;d=r.__importDefault(a(400));g=a(385);h=a(217);l=a(16);n=a(25);q=a(4);p=a(99);u=a(244);a=(function(){function x(y,z,A,B,E,D,F,G,C,H,K){var M;M=this;this.I=y;this.Cg=z;this.J=A;this.oc=B;this.X=E;this.LP=D;this.Rb=F;this.Gb=G;this.rg=C;this.q4=H;this.mG=K;this.x3=[];this.jia=[];this.qPa=[];this.NNa=void 0;[0,1].forEach(function(I){M.oc(I) && (M.x3[I]=new v(M.I,I),M.jia[I]=new t(I),M.qPa[I]=new w(I));});this.Edb=new p.TF(this.I);this.IB=p.hD(this.J,this.Edb);this.yja=p.gD();this.$F=void 0;}Object.defineProperties(x.prototype,{Of:{get:function(){return this.x3;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{vB:{get:function(){return this.jia;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{hx:{get:function(){return this.qPa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{fz:{get:function(){return this.NNa;},set:function(y){this.NNa=y;},enumerable:!1,configurable:!0}});x.prototype.fr=function(y,z){this.Edb.fr(y,z);};x.prototype.isa=function(y){var z,A,B,E,D,F;z=this.J;A=y.mediaType;B=f.default.Zo()[A];E=z.i4b?0 === A?z.jU:z.F_:1 === A?z.jU:z.F_;D=this.X.getState();F=this.X.Te();z=y.Ua.ib;A=this.q4.J3a(z,A);B={Dw:B,$:A.zd,Cc:F,Bc:A.eP || F,al:A.PU || F,jh:A.jh,Ej:A.Ej,kYa:A.Y.length,Y:[]};E={state:D,Jq:this.X.Jq(),Bd:y.Xn,buffer:B,tV:E,x3a:! !this.LP.P8,bN:! !this.LP.Ms,aq:this.Rb && this.Rb.aq,Z$:y.HJb,playbackRate:this.X.$o()};void 0 === E.Bd && (E.Bd=y.ina(B.Bc));E.BU=z.BU;B.Y=A.Y;c.Ea(B.$)?y.seeking && B.Cc != B.$ && (B.Cc=B.$):(B.$=0,B.Bc=0);this.Cg.Kwb(E);this.Cg.Vsb(E);return E;};x.prototype.Aka=function(y,z,A){var G,C;y=this.x3[y];for(var B=y.maxBitrate,E="manifest",D=0,F=z.length - 1;0 <= F;F--){G=z[F];C=G.bitrate;if(k(G)){D=Math.max(D,C);break;}else this.J.SZ && !G.lu?E="bc":G.Fu?G.jA && (E="hf"):E="av";}if(void 0 === B || D !== B)(y.maxBitrate=D,this.Gb.nSb(B,D,E,A));};x.prototype.FJb=function(y){return this.gpa(y).Pf;};x.prototype.gpa=function(y){var z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,N,O,P;z=this.J;A=y.mediaType;B=1 == A;E=0;D=this.x3[A];F=this.jia[A];if(!D.Lf)return {Pf:void 0};G=this.isa(y);C=y.Qf;H=C.Iu;K=y.I8.R;M=y.track.ae;if(!K.Jm.y_(K.S,M))return (y.Vk("location selector did not find any urls"),{Pf:void 0});I=u.H$(G.state);Q=B?this.IB:this.yja;try{L=Q.Dm(M,I);}catch(S){this.I.error("StreamFilters: filterStreams: " + S);L=[M[0]];}0 === L.length && (this.I.error("StreamFilters: empty list"),L=[M[0]]);if(this.mG.gs && (y.qD.length !== L.length || 0 < n.Ot(y.qD,L).length || 0 < n.Ot(L,y.qD).length)){try{this.$F && this.tFb();}catch(S){this.Gb.Yn("Hindsight: Error when handling maxbitrate chagned: " + S);}y.qD=L;}I=H?H.Pf:D.Ana;try{if(H && (E=H.bitrate,H && C.track && !H.track.equals(C.track))){J=g.lna(L,E) || 0;N=L[J];if(H.bitrate !== N.bitrate || 1 === A)G.state=l.sa.Gh;H=N;I=M.indexOf(N);}}catch(S){this.I.error("StreamFilters: track change: " + S);}if(!B && (E=z.hQ,!(E && 0 < E.length) && I && M[I] && H && H.location === M[I].location))return {Pf:I};try{O=this.Cg.IN(A);P=y.Mj.Qwa(G,L,void 0,O,D.Lf.config.rx,K.uq);if(!P)return (y.Vk("stream selector did not find a stream"),{Pf:void 0});}catch(S){this.I.error("StreamFilters: stream selector: " + S);P={Ke:0};}P.Ke=M.indexOf(L[P.Ke]);this.LP.Ms && this.LP.Ms.Ysb(y.mediaType,P,M);B && this.Aka(A,L,y.Bc);G=P.Ke;H=M[G];L=H.bitrate;G != I && (B && z.dN && this.rg.FNa(y,L),B || this.Cg.MP(L));c.Ea(D.Ana) || (D.Ana=G);y.Se || (P.Se?(q.assert(void 0 !== P.r4),y.Haa(P.r4),F.Tt=P.r4):(y.$D=P.$D,y.dJ=P.dJ,y.progress=P.progress));this.Cy();if(B)if(P.Jz)K.NP(P.Jz);else if(!K.s7() && !z.vab)for(y=0;y < M.length;++y){if((z=M[y],z.Hu && !K.kl(A,z.Ta))){K.NP([z.Ta]);break;}}P.jSa && this.Gb.uSb(P.jSa);return {Ta:H.Ta,Pf:G,Su:P.Su};};x.prototype.Cy=function(){var y,z,A,B,E,D;A=this.Of[0];B=this.Of[1];E=this.vB[1];D=this.vB[0];A=this.q4.Yc.Ewb(null !== (y=null === B || void 0 === B?void 0:B.Zu) && void 0 !== y?y:0,null !== (z=null === A || void 0 === A?void 0:A.Zu) && void 0 !== z?z:0,this.fz,this.LP.xY);A.Tt && (this.LP.dn && E?E.Tt=A.Tt:D && (D.Tt=A.Tt));return A.Se;};x.prototype.fna=function(y,z){var A,B,E,D;A=this;if(this.$F){B=this.$F;E=this.X.Te();D=[];z && (E=z.La);h.Df.forEach(function(F){var G,C;G=A.q4.Yc.Ud(F);if(G){C=A.isa(G);C.mediaType=F;C.Cc=E;y === l.sa.Tf && (C.D8a=G.Ua.eja(E));D[F]=C;}});B.FXa || B.ju(D,y) || this.mwa();return B;}};x.prototype.tFb=function(){var y,z;y=this.$F;z=this.J;y && (this.fna(void 0),y && !y.hM && this.Cg.rva.Tma(y));this.RUa(z);};x.prototype.mwa=function(){this.$F=void 0;};x.prototype.M3b=function(y){var z,A,B;z=y.oldValue;y=y.newValue;A=this.$F;B=this.J;y === l.sa.Lc && z !== l.sa.Lc?(A && this.I.warn("override an existing play segment!"),this.RUa(B,z,!0)):y !== l.sa.Lc && z === l.sa.Lc && A && (this.fna(y),A && !A.hM && this.Cg.rva.Tma(A),this.mwa());};x.prototype.RUa=function(y,z,A){var B,E,D;B=this;E=[];h.Df.forEach(function(F){var G,C,H;G=B.q4.Yc.Ud(F);if(G){C=B.isa(G);if(A){H=B.Of[F];H.Exa?(C.Jl=H.Exa,H.Exa=void 0):C.Jl=H.Jl;}else C.Jl=f.default.time.fa();C.ae=G.qD;C.mediaType=F;E[F]=C;}});D=f.default.Zo();D={sac:D[0],Cdb:D[1],ddc:y.q4a,IA:y.IA};this.$F=new d.default(E,f.default.time.fa(),z,this.mG.AV,y.Ax,D,y.A7);};return x;})();b.aMa=a;t=(function(){function x(y){this.mediaType=y;this.DU=this.Pw=this.oA=this.Tt=this.pA=void 0;}x.prototype.Q3b=function(y,z,A){this.pA=y?y:this.pA;this.Tt=this.Tt;this.oA=z?z:this.oA;this.Pw=A?A:this.Pw;};return x;})();b.kmb=t;w=(function(){return function(x){this.mediaType=x;this.vra=this.Cra=this.xra=this.fI=void 0;};})();b.oea=w;v=(function(){return function(x,y){this.mediaType=y;this.I=m(f.default,x,"[" + y + "]");this.Vk=this.I.error.bind(this.I);this.Ub=this.I.warn.bind(this.I);this.An=this.I.trace.bind(this.I);this.Ig=this.I.log.bind(this.I);this.I.debug.bind(this.I);this.Ana=this.Jl=this.Mo=this.Lf=void 0;this.yY=this.Zu=0;this.EQ=!1;this.maxBitrate=void 0;};})();b.imb=v;},function(r,b,a){var p,u,t,w,v,x,y,z,A,B,E,D,F;function c(){}function f(G,C){var H,K,M,I;H=p.kd(C)?C:c;this.J=G || ({});(function(Q,L,J){this.dk[Q].Ce[L]=J;}).bind(this);(function(Q,L){return this.dk[Q].Ce?this.dk[Q].Ce[L]:void 0;}).bind(this);this.on=this.addEventListener=D.addEventListener;this.removeEventListener=D.removeEventListener;this.emit=this.Ya=G.Ebc?D.Ya:c;K=w.hAb(G);M=this.J.dailyDiskCacheWriteLimit;if(K){this.dw=K;I=l(G.rdc || F,w.BHb());this.Wy=function(Q){return p.ka(I) || null === I || void 0 === this.dk[Q]?!1:!p.ka(I[Q]);};I?(this.dk={},C=u.Promise.all(Object.keys(I).map(function(Q){return new u.Promise(function(L,J){var N;N=I[Q];N.qdb=G.qdb;new v(Q,K,N,function(O,P){O?J(O):L(P);},M);});})).then((function(Q){Q.map((function(L){var J;J=L.kw;this.dk[J]=L;I[J].iGb=I[J].Dw - L.Vy;this.dk[J].on(v.Ne.REPLACE,(function(N){N=N || ({});N.partition=J;N.type="save";this.Ya("mediacache",N);}).bind(this));this.dk[J].on(v.Ne.uNa,(function(N){N=N || ({});N.partition=J;N.type="save";this.Ya("mediacache",N);}).bind(this));this.dk[J].on(v.Ne.Rf,(function(N){N=N || ({});N.partition=J;N.type=v.Ne.Rf;this.Ya("mediacache-error",N);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(Q){g(K,u.storage.gS,Object.keys(I));return Q;}).bind(this)).then((function(Q){Object.keys(Q.dk).map(function(L){Q.dk[L].roa().map(function(J){Q.delete(L,J);});});Q.Tn=!0;H(null,Q);}).bind(this)).catch((function(Q){t.error("Failed to initialize media cache ",Q);this.VH=B.hCa;H(this.VH,this);}).bind(this)),E.ux(C)):(this.VH=B.Yib,H(this.VH,this));}else (this.VH=B.hCa,H(this.VH,this));}function k(G,C,H,K,M,I){var Q;Q=I?"mediacache-error":"mediacache";C={partition:H,type:C,resource:K,time:u.time.now()};I && (C.error=I);M && (p.Ea(M.duration) && (C.duration=M.duration),p.Ea(M.lz) && (C.bytesRead=M.lz));try{G.Ya(Q,C);}catch(L){t.warn("caught exception while emitting basic event",L);}}function m(G,C,H,K,M){var I;I=M?"mediacache-error":"mediacache";C={partition:H,type:C,resources:K,time:u.time.now()};M && (C.error=M);try{G.Ya(I,C);}catch(Q){t.warn("caught exception while emitting basic event",Q);}}function d(G){return !x.gO(G) && !z.jNb(G);}function g(G,C,H){G.query(C,"",function(K,M){K || Object.keys(M).filter(function(I){return 0 > H.indexOf(I.slice(0,I.indexOf(".")));}).map(function(I){G.remove(C,I,c);});});}function h(G,C,H){var M,I;function K(Q){G.delete(M,function(L){L?H(L):(delete G.Ce[I],L=Object.keys(Q.resourceIndex),L=u.Promise.all(L.map(function(J){return new u.Promise(function(N,O){G.delete(J,function(P){P?O(P):N(J);});});})).then(function(){H();},function(J){H(J);}),E.ux(L));});}if(x.gO(C))(M=C,I=x.a6(C));else (M=x.sla(C),I=C);(C=G.Ce[I])?K(C):G.read(M,function(Q,L){Q?H(Q):K(L);});}function l(G,C){var H,K,M;H={};K=G.partitions.reduce(function(I,Q){return I + Q.capacity;},0);M=C / K;G.partitions.map(function(I){var Q;Q=I.key;H[Q]={};H[Q].Dw=Math.floor(M * I.capacity);H[Q].kBb=I.dailyWriteFactor || 1;H[Q].Zdc=I.owner;H[Q].DEb=I.evictionPolicy;});return H;}function n(G,C,H){if(H)return z.ICb(G,C).reduce(function(K,M){Object.keys(M).map(function(I){K[I]=M[I];});return K;},{});H={};H[G]=C;return H;}function q(G,C,H,K,M,I,Q,L,J,N,O){return function(P,S){P?p.isArray(P)?(S=P.map(function(U){return U.error;}),S.some(function(U){return U.code === B.gK.code;}) && !S.some(function(U){return U.code === B.k2.code;})?O(N,P,function(){J.save(C,H,K,M,I,Q);}):(N.delete(L),delete N.Ce[H],I({error:P[0].error,Tu:P[0].Tu,type:P[0].type,rRa:P}))):I({error:P,Tu:C,type:"save"}):(P=S.items.filter(function(U){return 0 <= Object.keys(G).indexOf(U.key);}).reduce(function(U,Z){return U + Z.t8;},0),N.Ce[H].U$a(P),P={iGb:S.On,hbc:S.OM,Zk:0,items:S},0 < S.Zk && (P.Zk=S.Zk),0 < S.duration && (P.duration=S.duration),I(null,P));};}p=a(10);u=a(129);t=new u.Console("MEDIACACHE","media|asejs");w=a(881);v=a(882);x=a(405);y=a(130);z=a(889);A=a(890);B=a(254);E=a(255);D=a(406).EventEmitter;F={dec:[]};f.prototype.LY=function(G,C,H){var K;K=p.kd(H)?H:c;this.Wy(G)?this.dk[G].query(C,function(M,I){M?(t.error("Failed to query resources",M),K([])):K(I.filter(d));}):K([]);};f.prototype.read=function(G,C,H){var K,M,I,Q;K=p.kd(H)?H:c;if(this.Wy(G)){M=this.dk[G];I=M.Ce[C];if(!x.gO(C) && this.J.LQb){Q=(function(L){M.X$(Object.keys(L),(function(J,N,O){J?K(B.QK.vr("Failed to read " + C,J)):(k(this,"read",G,C,O),K(null,z.CMb(N)));}).bind(this),L);}).bind(this);I?Q(I.resourceIndex):this.WWb(G,C,function(L,J){L?K(B.QK.vr("Failed to read " + C,L)):Q(J.resourceIndex);});}else M.read(C,(function(L,J,N){L?K(B.QK.vr("Failed to read " + C,L)):(I && I.convertToBinaryData && (J=A.lyb(J)),k(this,"read",G,C,N),K(null,J));}).bind(this));}else K(B.ZB);};f.prototype.X$=function(G,C,H){var K,M;K=p.kd(H)?H:c;if(this.Wy(G)){M={};C=u.Promise.all(C.map((function(I){return new u.Promise((function(Q,L){this.read(G,I,function(J,N){J?(N={},N[I]=J,L(N)):(M[I]=N,Q());});}).bind(this));}).bind(this))).then(function(){K(null,M);},function(I){K(I);});E.ux(C);}else K(B.ZB);};f.prototype.W9a=function(G,C,H){var K;K=p.kd(H)?H:c;this.Wy(G)?"[object Object]" !== Object.prototype.toString.call(C)?K(B.j2.vr("items must be a map of keys to objects")):(H=new u.Promise((function(M){var I,Q;I=this.dk[G].roa();Q=Object.keys(C);(I=I.filter(function(L){return -1 === Q.indexOf(L);})) && 0 < I.length?this.IVa(G,I,function(){M();}):M();}).bind(this)).then((function(){return u.Promise.all(Object.keys(C).map((function(M){return new u.Promise((function(I,Q){this.save(G,M,C[M].cr,C[M].Ic,function(L,J){L?(t.error("Received an error saving",M,L),Q(L)):I(J);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(M){var I,Q,L;try{I=Number.MAX_VALUE;Q=Number.MAX_VALUE;L=M.reduce(function(J,N){N.On && N.On < I && (I=N.On);N.OM && N.OM < Q && (Q=N.OM);I < Number.MAX_VALUE && (J.freeSize=I);Q < Number.MAX_VALUE && (J.dailyBytesRemaining=Q);p.Ea(N.Zk) && (J.bytesWritten+=N.Zk);p.Ea(N.duration) && (J.duration+=N.duration);return J;},{partition:G,type:"saveMultiple",keys:Object.keys(C),time:u.time.now(),bytesWritten:0,duration:0});this.Ya("mediacache",L);K(null,L);}catch(J){K(err);}}).bind(this),(function(M){p.isArray(M.rRa)?M.rRa.forEach((function(I){this.Ya("mediacache-error",{partition:G,type:"saveMultiple",error:I.error,resources:I.resources});}).bind(this)):this.Ya("mediacache-error",{partition:G,type:"saveMultiple",error:M});K(M);}).bind(this)),E.ux(H)):(p.kd(H)?H:c)(B.ZB);};f.prototype.save=function(G,C,H,K,M,I){var Q,L,J,N,O,P,S,U,Z;Q=p.kd(M)?M:c;if(this.Wy(G)){L=this.dk[G];J=x.sla(C);M=L.roa();M=M.filter(function(ja){return ja !== C;});if(p.ka(K) || p.Kb(K) || !p.Ea(K.lifespan))Q(B.wjb);else {N=n(C,H,this.J.LQb);O=L.Ce[C] || ({});P=O.resourceIndex;P && Object.keys(P).map(function(ja){p.ka(N[ja]) && L.delete(ja);});K.convertToBinaryData && (H=A.myb(N),N=n(C,H,!1));P=u.time.now();S={};S.partition=G;S.resourceIndex=Object.keys(N).reduce(function(ja,ya){ja[ya]=y.tpa(N[ya]);return ja;},{});S.creationTime=O.creationTime || P;S.lastRefresh=P;S.lifespan=K.lifespan;S.lastMetadataUpdate=P;S.size=O.size;S.convertToBinaryData=K.convertToBinaryData;U=(function(ja,ya,ra){ja.bCb((function(Y,pa){Y && t.error("Evicting","Failed to delete some orphaned records",Y);pa.Mva?ra():(Y=ja.NHb())?this.delete(ja.kw,Y,(function(T){T?(I || (p.isArray(ya)?ya.forEach((function(R){m(this,"save",ja.JIb,R.resources,R.error);}).bind(this)):k(this,"save",ja.kw,C,void 0,ya)),Q(ya)):ra();}).bind(this)):Q(B.gK);}).bind(this));}).bind(this);Z=(function(){var ja,ya,ra;ja=this.dk;ya=0;ra=u.time.now();if(!p.ka(ja))for(var Y in ja){ya+=ja[Y].cHb(ra);}return ya;}).bind(this);this.IVa(G,M,(function(){L.replace(J,S,(function(ja,ya){ya?(L.Ce[C]=x.Ona(S),L.fYb(N,q(N,G,C,H,K,Q,I,J,this,L,U),I,Z)):ja.code === B.gK.code?U(L,ja,(function(){this.save(G,C,H,K,Q,I);}).bind(this)):Q(ja);}).bind(this),I,Z);}).bind(this));}}else Q(B.ZB);};f.prototype.delete=function(G,C,H){var K;K=p.kd(H)?H:c;this.Wy(G)?h(this.dk[G],C,(function(M){k(this,"delete",G,C,void 0,M);K(M);}).bind(this)):K(B.ZB);};f.prototype.IVa=function(G,C,H){var K,M;K=p.kd(H)?H:c;if(this.Wy(G)){M=this.dk[G];H=u.Promise.all(C.map((function(I){return new u.Promise((function(Q){h(M,I,(function(L){Q({aa:p.ka(L),error:L,cr:I});}).bind(this));}).bind(this));}).bind(this))).then((function(I){var O,P;for(var Q=[],L=[],J=[],N=0;N < I.length;N++){O=I[N];O.aa?Q.push(O.cr):O.error && L.push(O);}0 < Q.length && m(this,"delete",G,Q);if(0 < L.length){J=L.map(function(S){return S.cr;});I=E.Z_a(L);P=I[0];I.forEach((function(S){t.error("Failed to delete resources ",S.error,S.resources);m(this,"delete",G,S.resources,S.error);}).bind(this));}I={};I.uec=Q;0 < J.length && (I.vec=J);P?K(P,I):K(void 0,I);}).bind(this),(function(I){m(this,"delete",G,C,I);K(I);}).bind(this));E.ux(H);}else K(B.ZB);};f.prototype.clear=function(G,C){var H;H=p.kd(C)?C:c;this.Wy(G)?this.dk[G].clear(function(K){H(K.filter(d));}):H(B.ZB);};f.prototype.WWb=function(G,C,H){var K,M;K=p.kd(H)?H:c;if(this.Wy(G)){M=this.dk[G];M.read(x.sla(C),function(I,Q){var L;if(I)K(B.xjb);else {L=x.Ona(Q) || ({});M.l_a(Object.keys(L.qwa),function(J){L.size=J;(J=M.Ce[C]) && (L.lastMetadataUpdate && J.lastMetadataUpdate && J.lastMetadataUpdate <= L.lastMetadataUpdate?M.Ce[C]=L:J.lastMetadataUpdate && (J.lastMetadataUpdate > L.lastMetadataUpdate || p.ka(L.lastMetadataUpdate)) && (L=J));K(null,L);});}});}else K(B.ZB);};f.prototype.constructor=f;r.exports=f;},function(r,b,a){var m,d;function c(g,h,l,n,q,p){return new k(g,h,l,n,q,p);}function f(g){return g && 0 <= g.indexOf(".__metadata__");}function k(g,h,l,n,q,p){this.partition=g;this.lifespan=l;this.resourceIndex=h;this.size=n;this.creationTime=q;this.lastRefresh=p;return this.ccb();}m=a(10);d=a(129);a(130);new d.Console("MEDIACACHE","media|asejs");k.prototype.refresh=function(){this.lastRefresh=d.time.now();return this.ccb();};k.prototype.U$a=function(g){this.size=g;};k.prototype.hUa=function(){var g;g=d.time.now();return (this.lastRefresh + 1E3 * this.lifespan - g) / 1E3;};k.prototype.ccb=function(){this.lastMetadataUpdate=d.time.now();return this;};k.prototype.constructor=k;r.exports={create:c,Ona:function(g){var h;h=g;"string" === typeof g && (h=JSON.parse(g));if(h && h.partition && !m.ka(h.lifespan) && h.resourceIndex && h.creationTime && h.lastRefresh)return (g=c(h.partition,h.resourceIndex,h.lifespan,-1,h.creationTime,h.lastRefresh),h.lastMetadataUpdate && (g.lastMetadataUpdate=h.lastMetadataUpdate),!m.ka(h.size) && 0 <= h.size && g.U$a(h.size),g.hUa(),g.convertToBinaryData=h.convertToBinaryData,g);},sla:function(g){return g + ".__metadata__";},a6:function(g){return f(g)?g.slice(0,g.length - 13):g;},gO:f};},function(r,b,a){r.exports={EventEmitter:a(885),gi:a(886)};},function(r){r.exports="4.1.1890";},function(r,b,a){var q,p,u;function c(t){return t.Ys - t.$r;}function f(t,w){return Math.exp(-(Math.log(2) / t) * w);}function k(t,w){t=Math.log(2) * w / t;return (1 - Math.exp(-t)) / t;}function m(t,w){var v,x,y,z,A;v=w.Xua;x=w.Wua;y=w.DY;if(0 === w.fh.length)return {P3:!1};z=w.fh[0];w=z.We;A=z.LD;z=z.duration;if(!A || 1 === y)return {P3:!1};p.assert(z,"duration should be defined when immediate probability is included in probabilities array");p.assert(0 < y,"presenting segment seamless probability cannot be zero");x-=z;if(v < x)return {P3:!1};x=v - x;v=y + x / z * (1 - y);z-=x;A=A * (1 - v) / (1 - y);t=w * v / y * f(t,z) + A * k(t,z);p.assert(1 >= t);return {P3:!0,ktb:t};}function d(t){var w,v,x,y,z;w=t.fs;v=t.$ab;x=t.nB;y=t.Ys;z=t.$r;t=t.WXa;p.assert(void 0 !== v);p.assert(void 0 !== w);x=1 - x;y-=z;t?(z=v - t - y,w-=t,0 >= z?t=Math.max(0,(v - t) / w):(v=w - z,t=0 < v?y / v:0,x*=0 < v?v / w:1)):(z=v - y,0 >= z?t=v / w:(v=w - z,t=0 < v?y / v:0,x*=0 < v?v / w:1));p.assert(0 <= t);p.assert(1 >= t);p.assert(0 <= x);p.assert(1 >= x);return 1 - t * x;}function g(t,w){t=Math.log(2) / t.E8a;return h(w) * Math.exp(-t * c(w));}function h(t){var w;return (null !== (w=t.IH) && void 0 !== w?w:1) * t.fh.reduce(function(v,x){var y;y=x.LD;return v * (x.We + (void 0 === y?0:y));},1);}function l(t){var w,v,x,y;if(0 === t.fh.length)return 0;v=0;if(1 > t.DY){v=t.Xua;x=t.Wua;y=null !== (w=t.fh[0].duration) && void 0 !== w?w:0;v=Math.max(0,Math.min(y,v - (x - y)));}return t.fh.reduce(function(z,A){A=A.duration;return z + (void 0 === A?0:A);},0) - v;}function n(t){return t.fh.filter(function(w){return !w.LD;}).reduce(function(w,v){return w * v.We;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.mka=b.iTa=b.Xvb=b.hTa=b.awb=void 0;q=a(16);p=a(4);u=a(20);b.awb=c;b.hTa=function(t,w,v){var x,y,z,A,B,E,D,F;if(!t.I5 || q.gp(w.Gf))return g(t,w);y=t.E8a;t=c(w);z=l(w);A=n(w);B=m(y,w);E=B.P3;B=B.ktb;B=void 0 === B?1:B;D=1 > w.nB?d(w):1;F=(null !== (x=w.IH) && void 0 !== x?x:1) * A * f(y,t - z) * B * D * w.fh.filter(function(G,C){return G.LD && (0 < C || !E);}).reduce(function(G,C){var H,K;H=C.LD;K=C.duration;K=void 0 === K?0:K;H=void 0 === H?0:H;C=C.We * f(y,K) + H * k(y,K);return G * C;},1);u.ia && (null === v || void 0 === v?void 0:v.log("{" + w.groupId + "} [" + w.mediaType + "] calculateStreamablePriority: sp: " + (w.nB + ", pssp: ") + (w.DY + ", streamingDuration: ") + (w.$ab + ", duration: ") + (w.fs + ", seamlessProbability: ") + (A + ", distance: ") + (t + ", immediateDistance: " + z + ", risk:") + (f(y,t - z) + ", adjustedFirstTerm: ") + (B + ", streamingAdjustment: " + D + ", probabilities: ") + (JSON.stringify(w.fh) + " => " + F)));return F;};b.Xvb=g;b.iTa=h;b.mka=n;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.RQ=void 0;c=a(2);f=a(17);k=a(9);m=a(4);d=c.__importDefault(a(6));g=a(67);h=a(25);r=a(151);l=a(901);n=a(411);q=a(903);p=r.rE.Vla;a=(function(u){function t(w,v,x){var y;y=u.call(this) || this;y.X=w;y.Cd=v;y.nw=x;y.vV=[];y.Yg=void 0;y.Qga=new f.gi();y.Nr=void 0;y.EC=void 0;y.I=new d.default.Console("ASEJS","media|asejs");y.Qga.on(y.X,"underflow",function(){return y.Dk();});y.SS=new q.$Ja(w);y.Qga.on(y.X,"skipped",function(){return y.bY();});y.ow=new g.CS(y.SS,y.I,"player");y.zza=new k.X1();return y;}c.__extends(t,u);Object.defineProperties(t.prototype,{Ix:{get:function(){var w;return null === (w=this.Yg) || void 0 === w?void 0:w.Ix;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Hs:{get:function(){return this.ow;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Hb:{get:function(){var w,v;return null !== (v=null === (w=this.Yg) || void 0 === w?void 0:w.Xz()) && void 0 !== v?v:[];},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{qa:{get:function(){var w;return null === (w=this.Yg) || void 0 === w?void 0:w.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{za:{get:function(){return this.SS;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{xB:{get:function(){var w;return !(null === (w=this.Yg) || void 0 === w || !w.xB);},enumerable:!1,configurable:!0}});t.prototype.BZ=function(w){-1 === this.vV.indexOf(w) && this.vV.push(w);this.Yg && this.Yg.$X(w);this.events.emit("drmReady",{viewableId:w});};t.prototype.dxa=function(w){w=this.vV.indexOf(w);-1 !== w && this.vV.splice(w,1);};t.prototype.hp=function(w){var v;return -1 !== this.vV.indexOf(w) || !(null === (v=h.ie(this.Hb,function(x){return x.SN && x.R.S === w;})) || void 0 === v || !v.R.Vi);};t.prototype.FE=function(w){var v;null === (v=this.Yg) || void 0 === v?void 0:v.FE(w);};t.prototype.reset=function(){var w;this.zza=new k.X1();u.prototype.reset.call(this);this.EC=void 0;null === (w=this.Yg) || void 0 === w?void 0:w.reset();};t.prototype.kZ=function(w){var v;u.prototype.kZ.call(this,w);null === (v=this.Yg) || void 0 === v?void 0:v.kZ(w);};t.prototype.PG=function(){var w;null === (w=this.Yg) || void 0 === w?void 0:w.PG();};t.prototype.pause=function(w){this.yJ(w);u.prototype.pause.call(this,null !== w && void 0 !== w?w:this.Cd);};t.prototype.resume=function(w){var v;null === (v=this.Yg) || void 0 === v?void 0:v.resume(w);u.prototype.resume.call(this,null !== w && void 0 !== w?w:this.Cd);};t.prototype.Ib=function(){this.Nr=this.w7()?this.Sn():void 0;this.Yg && this.gma(this.Yg.qa);this.SS.Ib();this.ow.Ib();this.Qga.clear();u.prototype.Ib.call(this);};t.prototype.AN=function(){var w,v;if(null === (w=this.Yg) || void 0 === w?0:w.iWb){w=this.X.Cc;if(this.za.xk){if(this.EC){if(this.EC.greaterThan(w))return (w=this.EC.Ka(w),this.zza.push(w.U),this.EC);if(this.Hb.length){v=this.Yg.AOb;if(v && v.lessThan(w))return (this.events.emit("logdata",{type:"logdata",target:"endplay",jc:{clockdrift:{type:"count"}}}),this.EC);}}this.EC=w;}return w;}return u.prototype.AN.call(this);};t.prototype.$o=function(){var w;w=this.X.playbackRate;void 0 === w && (w=u.prototype.$o.call(this));return w;};t.prototype.w7=function(){return ! !this.Nr || 0 < this.Hb.length;};t.prototype.Sn=function(){if(this.Nr)return this.Nr;m.assert(0 < this.Hb.length,"Could not find presenting branch. Player has no branches.");return this.Ai;};t.prototype.gma=function(w){var v;m.assert(w === this.qa);null === (v=this.Yg) || void 0 === v?void 0:v.Ib();this.Yg=void 0;};t.prototype.e4=function(w,v){this.Nr=void 0;if(v=u.prototype.e4.call(this,w,v))(this.Yg=new l.uAa(w,this,this.I,w.config,this.nw,this.events,this.Cd,this.ow,this.yC,this.xC),this.yJ(this.XO));return v;};t.prototype.Mma=function(){var x;for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}x=this.Yg;m.assert(x);w.forEach(function(y){return x.rEb(y);});};t.prototype.Ti=function(w){var v,x,y;if(!this.Yg)return !1;v=this.z6(w);if(!v)return !1;x=v.H;y=k.O.Na(this.nw.gE);return x.$i.Ka(y).lessThan(w) || !v.XG(w)?!1:this.Yg.Ti(w);};t.prototype.Dk=function(){var w,v,x;v=this.Zg;m.assert(this.qa);x=this.pp(v);m.assert(x);null === (w=this.Yg) || void 0 === w?void 0:w.Dk();w=this.z6(v);null === w || void 0 === w?void 0:w.R.Dk();this.qa.Dk(x);};t.prototype.bY=function(){this.EC=void 0;};t.prototype.Zna=function(){var w;return null === (w=this.Yg) || void 0 === w?void 0:w.Zna();};t.prototype.yJ=function(w){var v;null === (v=this.Yg) || void 0 === v?void 0:v.yJ(w);};t.prototype.zya=function(w){m.assert(this.qa && this.Yg);return u.prototype.zya.call(this,w);};c.__decorate([p.return.lvb(),p.return.no],t.prototype,"Sn",null);return t;})(n.hfa);b.RQ=a;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.paa=void 0;c=a(2);f=a(4);k=a(182);b.paa=function(m,d,g,h,l,n){var q,p;void 0 === l && (l=k.Mv.qV);q=m();if(h && q){p=h.cja;m=h.no;h=h.rules.map(function(u){return ["function" === typeof u.Xl?u.Xl(g):g[u.Xl],u.config];});p || f.assert(d,"Param is null");n && h.push([{map:n,bD:function(){return !0;}},void 0]);n=h.filter(function(u){u=c.__read(u,2);return u[0].bD(d,q,u[1]);});m && f.assert(n.length,"No rules matched for " + d);if(n.length)return n.reduce(function(u,t){t=c.__read(t,2);return t[0].map(u,l,q,t[1]);},d);}return d;};},function(r,b,a){var c,f,k,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.hfa=void 0;c=a(2);f=a(17);k=a(9);m=a(4);d=a(16);g=a(151).rE.Vla;r=(function(){function h(){this.XO=[];this.yC=new k.Fr(!1);this.xC=new k.Fr(k.O.Na(-Infinity));this.events=new f.EventEmitter();}Object.defineProperties(h.prototype,{Ix:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{playbackRate:{get:function(){return this.$o();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{MA:{get:function(){return this.yC;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{aX:{get:function(){return this.xC;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xB:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Zf:{get:function(){return this.RN;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Zg:{get:function(){return this.AN();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Wi:{get:function(){var l,n;l=this.Zg;n=this.pp(l);m.assert(n,"Could not find current branch for " + l.U);return n;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{sMb:{get:function(){return this.Hb[0];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bI:{get:function(){return this.RN?this.Hb[this.Hb.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ai:{get:function(){var l,n;l=this.Zg;n=this.z6(l);m.assert(n,"Could not find presenting branch for " + l.U);return n;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{RN:{get:function(){return 0 < this.Hb.length;},enumerable:!1,configurable:!0}});h.prototype.f0a=function(l){return -1 !== this.Hb.indexOf(l);};h.prototype.e4=function(){return void 0 !== this.qa?!1:!0;};h.prototype.Ib=function(){};h.prototype.JH=function(l){var n,q,p;n=this.Hb.filter(function(u){return u.H.id === l.ha;});if(0 !== n.length){q=this.AN();p=new k.O(Infinity,1);n.forEach(function(u){u=u.Gs.add(l.offset);q.TVa(u).lessThan(q.TVa(p)) && (p=u);});return p;}};h.prototype.pp=function(l){var n,q,p;n=this.z6(l);if(n){q=n.H;p=q.id;l=l.Ka(q.Nf.add(n.Fe));return {ha:p,offset:l};}};h.prototype.reset=function(){};h.prototype.kZ=function(){};h.prototype.pause=function(l){void 0 === l && (l=d.Df);this.XO=null === l || void 0 === l?void 0:l.reduce(function(n,q){-1 === n.indexOf(q) && n.push(q);return n;},this.XO);};h.prototype.resume=function(l){var n;n=this;void 0 === l && (l=d.Df);l.forEach(function(q){q=n.XO.indexOf(q);-1 !== q && n.XO.splice(q,1);});};h.prototype.zya=function(l){var n;m.assert(this.qa);m.assert(l !== this);this.yJ();n=l.e4(this.qa,this);n && (l.pause(this.XO),l.Mma.apply(l,c.__spread(this.Hb)),this.gma(this.qa));return n;};h.prototype.AN=function(){return this.GZa();};h.prototype.GZa=function(){var l,n;m.assert(this.RN,"Attempted to get initial time before any branches were queued");n=c.__read(this.Hb,1)[0];m.assert(n);return null !== (l=n.Pg) && void 0 !== l?l:n.ss;};h.prototype.$o=function(){return 1;};h.prototype.z6=function(l){var n;if(this.RN){n=this.GZa();return l.lessThan(n)?this.Hb[0]:k.QXa(this.Hb,l);}};h.prototype.pHb=function(){var l,n,u,t,w,v,x,y;n={};try{for(var q=c.__values(this.Hb),p=q.next();!p.done;p=q.next()){u=p.value;t=void 0;w=void 0;v=u.tD();for(t in v){x=t;y=v[x];y && (n[x]=(null !== (w=n[x]) && void 0 !== w?w:0) + y);}if(!u.Hl)break;}}catch(A){var z;z={error:A};}finally{try{p && !p.done && (l=q.return) && l.call(q);}finally{if(z)throw z.error;}}return n;};c.__decorate([g.return.fA()],h.prototype,"Wi",null);c.__decorate([c.__param(0,g.fA())],h.prototype,"JH",null);c.__decorate([g.return.fA()],h.prototype,"pp",null);return h;})();b.hfa=r;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,N,O,P,S,U,Z,ja,ya;Object.defineProperties(b,{__esModule:{value:!0}});b.i0=void 0;c=a(2);f=a(17);k=a(220);m=a(16);d=a(904);g=a(9);h=a(905);l=a(909);n=c.__importDefault(a(6));q=a(4);p=a(910);u=a(25);t=a(67);w=a(99);v=a(56);x=a(415);y=a(258);z=a(183);A=a(911);B=a(86);E=c.__importDefault(a(145));D=a(912);F=a(913);G=a(416);C=a(914);H=a(915);K=a(916);M=a(917);I=a(920);Q=a(922);L=a(923);J=a(924);N=a(925);O=a(926);P=a(928);S=a(929);U=a(930);Z=a(931);ja=a(932);ya=a(151).rE.Vla;r=(function(){function ra(Y,pa,T,R,ea,sa,la,Ka,Ua,$a){var Za;Za=this;this.My=Y;this.HQa=pa;this.config=T;this.id=R;this.Zha=sa;this.pob=la;this.$k=Ka;this.cxb=Ua;this.EG="2.0";this.zn=void 0;this.bd=k.Rj.CLOSED;this.Xga=!0;this.lM=!1;this.tza=this.oU=void 0;this.ISa=new f.gi();this.oD=0;this.Yaa=!1;this.lE=function(cb){var Va,Qa;cb=Za.navigator.lf(cb.position.ha);if((cb=Za.Koa(cb)) && Za.X.Zf){Qa=Za.X.Ai;null === (Va=Za.X.Ix) || void 0 === Va?void 0:Va.KE({H:Qa.H,get tba() {return Qa.Td.Ka(Qa.H.Nf);}},cb,Za.Wi.offset,!0,!1);}Za.hq.start();};this.$X=function(){Za.$k("onDrmReady");};this.console=new n.default.Console("ASEJS_PLAYGRAPH","asejs","" + this.id);this.Eh=new B.Vv({LA:10,Rq:this,source:"AsePlaygraph"});this.P$a(Y);this.Hb=new I.gKa();this.Yi=new Z.iKa(this.console);this.events=new f.EventEmitter();this.Bpa=new C.fEa(this.config,g.O.Na(this.config.b9),{parent:this.H_a.bind(this)},this.events,this.console);this.Zaa=new l.iMa(this.console,this.events);this.AU={QH:T.Lu || Infinity};this.X=new p.Uea(this);this.Hs=new t.CS(this.X.za,this.console,"playgraph");this.kt=new t.CS(new y.W1({xk:!0,currentTime:function(){return g.O.Na(n.default.time.fa());},speed:1}),this.console,"wallclock");this.Wf=new Q.WAa(this.console,T,ea,this.events,this,this.kt);this.p4=new N.PAa(this.Hs,this.kt,this.config,this.Di.bind(this),this.Gf,this.console);this.a$=this.Wf.a$.bind(this.Wf);this.cY=this.Wf.cY.bind(this.Wf);this.j$=this.Wf.j$.bind(this.Wf);this.Baa=this.Baa.bind(this);this.tP=new v.xfa(T);S.HUa({Wf:this.Wf,kt:this.kt},t.Tk.YJ(g.O.Na(this.config.YA)),function(){Za.X.Zf && Za.X.Ai && (Za.Wf.state.value === m.Kc.Tf || Za.Wf.state.value === m.Kc.xd) && Za.Pr(Za.X.Ai);},"buffering");this.tP.sh(new z.Uv(this.Wf.Eh));this.tP.sh(new A.zJa(this.cJb.bind(this)));this.tP.sh(new z.Uv(this.Eh));this.tP.sh(new D.fKa(this.Hb));this.Zab=new U.hMa(this,this.console,$a);this.r3a=new F.tGa(this.kt,this.console,this.events);this.hq=new ja.lKa(this.aaa.bind(this));this.Laa(w.hD(this.config),w.gD());}Object.defineProperties(ra.prototype,{state:{get:function(){return this.bd;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{MH:{get:function(){return !(this.X instanceof p.Uea);},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{ma:{get:function(){return this.My;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{weight:{get:function(){return this.HQa;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{FP:{get:function(){q.assert(this.GD,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.zn.position;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{d$a:{get:function(){q.assert(this.GD,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.gA(this.FP).ym;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{Gf:{get:function(){return this.Wf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{yf:{get:function(){return this.Wf.yf;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{GD:{get:function(){return void 0 !== this.zn;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{Wi:{get:function(){return this.X.Zf?this.X.Wi:this.FP;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{Zg:{get:function(){return this.X.Zf?this.X.Zg:this.d$a;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{yja:{get:function(){return this.inb;},enumerable:!1,configurable:!0}});Object.defineProperties(ra.prototype,{IB:{get:function(){return this.csb;},enumerable:!1,configurable:!0}});ra.prototype.open=function(){this.Xga=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.bd !== k.Rj.CLOSED)return !1;this.bd=k.Rj.OPEN;return !0;};ra.prototype.Ib=function(){this.kt.Ib();this.Hs.Ib();this.bd !== k.Rj.CLOSED && (this.rf(),this.hq.Ib(),this.Wf.stop(),this.bd=k.Rj.CLOSED);};ra.prototype.EE=function(Y,pa){var T,R,ea;T=this;this.oU=Y;this.tza=pa;pa=L.kXa(this.Hb,this.Baa.bind(this));Y=pa.Bwb;pa=pa.nvb;if(0 === Y.length)return !0;if(1 !== Y.length || 0 !== Y[0])return !1;R=this.Wi;Y.forEach(function(sa){return T.X.kZ(sa);});ea=this.gA(R).ym;pa.forEach(function(sa){var la;la=sa.ib;la.EE(sa.gg,R.ha === la.H.id?ea:void 0,void 0 !== T.Hb.Roa(la));});this.Wf.HTb(R,pa[0].gg);return !0;};ra.prototype.gD=function(Y){return w.gD(this.config,Y);};ra.prototype.hD=function(Y){return w.hD(this.config,Y);};ra.prototype.GN=function(Y,pa){var T,R;T=this.navigator.lf(Y);R=this.navigator.lf(pa);return {Adb:T.UKb(pa),rM:pa !== Y && this.Hb.has(pa) && this.Hb.Xz(pa)[0].zh,gd:R.Nf.U,IO:this.Koa(T)};};ra.prototype.Di=function(Y,pa,T,R){var ea,sa,la,Ka;ea=this;void 0 === R && (R=!0);if(!pa)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(R && this.Yi.get(Y))T || this.Yi.set(Y,pa);else {la=this.B6(Y)[0];Ka=this.navigator.lf(Y);this.Wi.ha === Y && la && (null === (sa=this.X.Ix) || void 0 === sa?void 0:sa.KE({H:la.H,get tba() {return la.Td.Ka(la.H.Nf);}},pa,this.Wi.offset,R,T));R || (Y={offset:g.O.eb,ha:pa},this.zn={position:Y,zh:!0,Ecb:Y});T?this.Yi.b_b(Ka.id,pa):this.Yi.set(Ka.id,pa);this.hq.start();R && Ka.zx && 0 < Ka.zx.length && (q.assert(la),la.Iya(Ka.zx) && this.B6(pa).forEach(function(Ua){return ea.Mx(la,Ua);}));R || this.Wf.m6a(this.FP);}};ra.prototype.Mx=function(Y,pa){var T;T=this;Y=Y.ye.Ka(pa.H.Nf);pa.Mx(Y);this.Hb.mHb(pa).forEach(function(R){return T.Mx(pa,R);});};ra.prototype.Fi=function(Y){this.navigator.Fi(Y);this.hq.start();};ra.prototype.Laa=function(Y,pa){this.inb=Y;this.csb=pa;this.state === k.Rj.oj && this.$k("setStreamFilters");};ra.prototype.w_b=function(Y){this.Zha=Y;};ra.prototype.oB=function(Y,pa){var T,R,ea,sa,la,Ka;T=this;la=G.Bdb(this.ma,Y);if(la.XW){Ka=this.raa(Y);if(void 0 === Ka)this.hh("Invalid seekPosition after sanitization to " + Y.ha + ("(" + Y.offset.U + "ms), reason: ") + la.reason,null === (R=this.ma.V[Y.ha]) || void 0 === R?void 0:R.S);else if(void 0 === this.oU || void 0 === this.tza)this.hh("No track selectors available");else if(this.MH && this.X.RN || !G.Y_a(null === (ea=this.zn) || void 0 === ea?void 0:ea.Ecb,Ka)){this.GD && (R=this.navigator.lf(this.Wi.ha),null === (sa=this.X.Ix) || void 0 === sa?void 0:sa.KE({H:R,tba:R.duration},Ka.ha,this.Wi.offset,!1),this.Wi.ha === Y.ha?this.Yi.hxb(Y.ha):this.Yi.Jka());Y=this.Hb.map(function(Ua){return T.Zha(Ua.H.S).H8;});try{this.rf(!0);this.gxb();this.zn={position:Ka,Ecb:Ka,zh:!1,nVb:pa};this.Wf.m6a();this.bd=k.Rj.oj;this.hq.start();}finally{Y.forEach(function(Ua){return Ua.release();});}}}else this.hh("Invalid seekPosition to " + (null === Y || void 0 === Y?void 0:Y.ha) + ("(" + Y.offset.U + "ms), reason: ") + la.reason,null === (Ka=this.ma.V[Y.ha]) || void 0 === Ka?void 0:Ka.S);};ra.prototype.rf=function(Y){var pa,T,R;R=this.lKb();this.Hb.reset();if(!Y && (this.Yi.Jka(),R.length))try{for(var ea=c.__values(R),sa=ea.next();!sa.done;sa=ea.next()){sa.value.MXb();}}catch(Ka){var la;la={error:Ka};}finally{try{sa && !sa.done && (pa=ea.return) && pa.call(ea);}finally{if(la)throw la.error;}}this.Hs.reset();this.kt.reset();this.X.reset();this.zn=void 0;this.p4.reset();null === (T=this.ISa) || void 0 === T?void 0:T.clear();this.bd === k.Rj.oj && (this.bd=k.Rj.OPEN);};ra.prototype.B6=function(Y){return this.Hb.Xz(Y);};ra.prototype.Dk=function(Y){this.Wf.Dk(Y);q.assert(this.X.bI,"Must have an appended branch on underflow");this.p4.xya(this.X.bI,this.Zg);this.$k("onUnderflow");this.events.emit("underflow");};ra.prototype.sh=function(Y){this.tP.sh(Y);};ra.prototype.hU=function(Y){this.sh(new x.gLa(Y));return this.fub(Y);};ra.prototype.fub=function(Y){if(!this.X.zya(Y))return (this.hh("player in use"),!1);this.X=Y;this.Hs.$Ra(this.X.za);this.X.events.on("segmentPresenting",this.lE);this.X.events.on("drmReady",this.$X);return !0;};ra.prototype.gA=function(Y){var pa,T;pa=Y.offset;T=this.navigator.lf(Y.ha);Y=T.S;pa=T.Nf.add(pa);return {S:Y,ym:pa};};ra.prototype.pp=function(Y,pa){var T;T=this.X.pp(Y);if(void 0 !== T)return T;T=this.X.bI;return G.pp(Y,{qa:this,tMb:T && ({id:T.H.id,xZb:T.Gs})},pa);};ra.prototype.JH=function(Y){return this.X.JH(Y);};ra.prototype.raa=function(Y){var pa;pa=this.ma.V[Y.ha];if(void 0 !== pa)return null === pa.Ba || void 0 === pa.Ba?{ha:Y.ha,offset:g.O.max(g.O.eb,Y.offset)}:{ha:Y.ha,offset:g.O.max(g.O.eb,g.O.min(Y.offset,g.O.Na(pa.Ba - pa.Aa)))};};ra.prototype.Em=function(Y,pa){Y="string" === typeof Y?{S:this.ma.V[Y].S,ym:g.O.Na(pa)}:Y;return this.pob(Y);};ra.prototype.Y6=function(){return O.FYa(this.Hb,this.b8.bind(this));};ra.prototype.b8=function(Y){Y=this.Hb.Roa(Y);return void 0 === Y || Y.Hl && this.b8(Y);};ra.prototype.X6=function(){return this.AU.QH;};ra.prototype.JHb=function(Y){return P.L_a(this.Hb,Y);};ra.prototype.Oh=function(Y){var pa,T,R;pa=this;this.Hb.SV(function(ea){var sa,la;sa=ea.uW(0);la=ea.uW(1);if(ea.H.vv || !pa.Hb.Fpa(ea) || !ea.Hl){if(!T || sa < T)T=sa;if(!R || la < R)R=la;}return ea.Hl;});return {o_:T?Math.max(T - Y.U,0):0,p_:R?Math.max(R - Y.U,0):0};};ra.prototype.Qw=function(){var Y,pa,T,R;T=this.GD?this.Oh(this.Zg):{o_:0,p_:0};R=E.default.instance().get();return {totalabuflmsecs:T.o_,totalvbuflmsecs:T.p_,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (pa=Number(0 < R.confidence) && (null === (Y=R.Sa) || void 0 === Y?void 0:Y.Ha)) && void 0 !== pa?pa:0};};ra.prototype.LN=function(){var Y,pa,T,R,ea,sa,la,Ka;Y=this;if(this.Un())return (this.Eh.uw({isStreamingFailureReported:!0}),[]);T=this.Hb.size;this.Eh.uw({branchCount:T});if(!this.GD || 0 === T)return [];R=this.Zg;ea=this.Wi;sa=[];T=this.navigator.lf(this.Wi.ha);la=T.duration;Ka=this.Yi.get(T.id)?1:null !== (pa=T.nB) && void 0 !== pa?pa:1;pa=this.Hb.reduce(function(Ua,$a,Za){var cb,Va,Ea,Na,Xa;try{for(var Qa=c.__values($a.W6()),xa=Qa.next();!xa.done;xa=Qa.next()){Ea=xa.value;if(!Ea.us()){Na="p" + Y.id + "-" + Za + "-" + (null === (Va=$a.Pg) || void 0 === Va?void 0:Va.U);Xa=Y.G_a(Ea);Ua.push(Y.QAb(Ea,Xa.U,Na,la.U,Ka,R.U,ea));}!Ea.UD() && Y.Eh.enabled && sa.push({segmentId:Ea.ha,isDoneStreaming:Ea.us(),isNormalized:Ea.zh(),needsHeaderRequest:Ea.track.I9});}}catch(wb){var hb;hb={error:wb};}finally{try{xa && !xa.done && (cb=Qa.return) && cb.call(Qa);}finally{if(hb)throw hb.error;}}return Ua;},[]);this.Eh.uw({nonStreamables:sa});return pa;};ra.prototype.G_a=function(Y){var pa;if(Y.Fia)return Y.Fia;pa=this.H_a(Y);return !pa || this.config.I5 && this.navigator.SKb(pa.ib.H,Y.ha)?Y.OU:this.G_a(pa);};ra.prototype.H_a=function(Y){var pa;return null === (pa=this.Hb.Roa(Y.ib)) || void 0 === pa?void 0:pa.FN(Y.mediaType);};ra.prototype.JTb=function(Y){var pa,T;if(!this.Zaa.Un()){pa=void 0;T=this.X.Wi;T && (pa=this.navigator.lf(T.ha).S);this.hh("BufferingStateTracker: Temporary failure while buffering",pa,"NFErr_MC_StreamingFailure",null === Y || void 0 === Y?void 0:Y.vh,null === Y || void 0 === Y?void 0:Y.KD,null === Y || void 0 === Y?void 0:Y.Cj);}};ra.prototype.hh=function(Y,pa,T,R,ea,sa,la){void 0 === la && (la=!1);"string" === typeof Y?this.Zaa.hh(Y,T,{networkErrorCode:R,httpCode:ea,nativeCode:sa,viewableId:pa,temporaryFailure:la}):this.Zaa.kYb(Y);};ra.prototype.u_=function(Y,pa){pa=this.V6(pa);this.events.emit("logdata",{type:"logdata",target:Y,fields:pa});};ra.prototype.V6=function(Y){var pa;this.r3a.JOb(Y);pa=this.tP.Qn(Y);Y === v.ee.tq && (Y=this.Qw(),pa.vbuflmsec=Y.totalvbuflmsecs,pa.abuflmsec=Y.totalabuflmsecs,pa.vbuflbytes=Y.vbuflbytes,pa.abuflbytes=Y.abuflbytes);return pa;};ra.prototype.Kcb=function(Y){this.AU=Y;this.$k("updateBudget");};ra.prototype.Un=function(){return this.Zaa.Un();};ra.prototype.adb=function(Y){Y !== this.weight && (this.HQa=Y,this.events.emit("weightUpdated"));};ra.prototype.EB=function(Y){var pa,T,R,ea,sa,la,$a,Za,cb,Va,Qa,xa,Ea,Na,Xa,hb;R=M.dTa(this.ma,Y);ea=R.qP;sa=R.Awb;la=R.o3b;if([R.dtb,ea,sa].every(function(Eb){return !Eb.length;}))return {aa:!0,reason:m.Wv.Tkb};if(0 === sa.length && 0 === la.length && this.MH && this.X.Zf)return {aa:!1,reason:m.Wv.dkb};if(this.MH){if(this.X.Hb.some(function(Eb){return -1 < ea.indexOf(Eb.H.id);}))return {aa:!1,reason:m.Wv.Qlb};this.GD && !this.X.Zf && -1 < ea.indexOf(this.FP.ha) && (this.zn=void 0);}try{for(var Ka=c.__values(sa),Ua=Ka.next();!Ua.done;Ua=Ka.next()){$a=Ua.value;Za=this.ma.V[$a];cb=Za.Aa;Va=Za.Ba;Qa=Za.S;xa=Y.V[$a];Ea=xa.Ba;Na=xa.Aa;Xa=xa.S;if(this.Wi.ha === $a && Ea !== Va){if(!Ea)return {aa:!1,reason:m.Wv.Rlb};hb=g.O.Na(Ea - Na);if(null === (T=this.Wi.offset) || void 0 === T?0:T.greaterThan(hb))return {aa:!1,reason:m.Wv.meb};}if(cb !== Na)return {aa:!1,reason:m.Wv.Ehb};if(Qa !== Xa)return {aa:!1,reason:m.Wv.Fhb};}}catch(Eb){var wb;wb={error:Eb};}finally{try{Ua && !Ua.done && (pa=Ka.return) && pa.call(Ka);}finally{if(wb)throw wb.error;}}this.P$a(Y);this.hq.start();return {aa:!0,reason:m.Wv.Skb};};ra.prototype.P$a=function(Y){this.My=Y;this.navigator=new K.qKa(Y);this.qKb=M.oUa(this.navigator);};ra.prototype.Xta=function(Y,pa){this.a9a(Y);Y.jN.addListener("criticalNetworkError",this.a$);Y.jN.addListener("temporaryNetworkError",this.cY);Y.jN.addListener("updatingLastSuccessEvent",this.j$);this.bd === k.Rj.oj && pa && this.Z9a();};ra.prototype.Yta=function(Y){0 === this.Hb.filter(function(pa){return pa.SN && pa.R === Y;}).length && this.a9a(Y);};ra.prototype.a9a=function(Y){Y.jN.removeListener("criticalNetworkError",this.a$);Y.jN.removeListener("temporaryNetworkError",this.cY);Y.jN.removeListener("updatingLastSuccessEvent",this.j$);};ra.prototype.NQa=function(Y){var pa;q.assert(Y.zh,"expected branch to be normalized on addBranchToPlayer");this.X.RN || (null === (pa=this.zn) || void 0 === pa?0:pa.zh) || this.MFb(Y);this.Wf.Fba(Y.gg);this.X.Mma(Y);this.p4.xya(Y,this.Zg);};ra.prototype.MFb=function(Y){q.assert(Y.Xc,"Normalized branch should have a defined content start timestamp");q.assert(this.zn,"AsePlaygraph should have a seek position on first branch normalization");q.assert(!this.zn.zh,"Seek position should not already be normalized on first branch normalization");this.zn=c.__assign(c.__assign({},this.zn),{position:{ha:Y.H.id,offset:Y.Xc.Ka(Y.H.Nf)},zh:!0});this.Wf.XZb(this.zn.position,Y.gg.filter(function(pa){return 0 === pa.mediaType;})[0]);};ra.prototype.gxb=function(){var Y;this.p4.reset();this.X.PG();this.zn=void 0;null === (Y=this.ISa) || void 0 === Y?void 0:Y.clear();};ra.prototype.QAb=function(Y,pa,T,R,ea,sa,la){var Ka,Ua,$a,Za;Ka=this;Za=null !== ($a=null === (Ua=Y.ib.Pg) || void 0 === Ua?void 0:Ua.U) && void 0 !== $a?$a:Y.ib.ss.U;Ua=Y.OE.U;$a=this.Yi.get(Y.ha)?1:Y.ib.H.nB;return {identifier:Y.ha,mediaType:Y.mediaType,fh:Y.fh,Gf:this.Gf.value,WA:pa,Ys:Ua,$r:sa,WXa:Y.pN.U,Xua:la.offset.U,Wua:R,DY:ea,nB:$a,fs:Y.ib.jH.U,$ab:Math.max(Ua - Za,0),UD:Y.UD(),us:Y.us(),groupId:T,r2a:function(cb,Va){cb=Ka.Zab.iwb(cb,Y.mediaType,1 > Va || !Ka.b8(Y.ib));1 === Va && "global" === m.Fva(cb.reason) && Ka.Wf.eTb(Y.mediaType,Ka.Oh(Ka.Zg));return cb;},v2a:function(){var cb,Va,Qa,xa,Ea,Na,Xa,hb,wb;xa=Y.mediaType;Ea=Ka.Bpa.CZb(Ka.Gf.value,Ka.Zg,Y.OE,Ka.X.playbackRate,Y,0 === xa?Ka.yja:Ka.IB,Ka.lM);Na=Ea.stream;Xa=Ea.YP;hb=Ea.EZb;wb=Ea.Su;Ea=Ea.reason;if(!Na)return {Hm:!1,reason:Ea || "selectLocationsAndStream"};if(Ka.Gf.value === m.Kc.oj && Y.ib && Y.ib.R.Uw && !Y.ib.R.wX && !Ka.X.hp(Y.ib.R.S)){Ea=Y.OE.U - Ka.Zg.U;if(!Y.ib.R.nf.He && Ea > Ka.config.rsa)return {Hm:!1,reason:"maxBufferingCompleteBufferInMs"};if(!Na.ml && 1 === Na.mediaType && Ea >= Ka.config.W8)return {Hm:!1,reason:"maxFastPlayBufferInMs"};}Ea=1;if(null === (cb=Y.ib) || void 0 === cb?0:cb.gg.every(function(Eb){return 0 === Eb.mediaType;}))Ea=0;Ka.Wf.ug && xa === Ea && Ka.Wf.j_b(Y.Mj.JP,Na.bitrate,hb);Ka.NP(Xa);cb=null === (Va=Y.ib.pr) || void 0 === Va?void 0:Va.U;Va=Y.scb(Na,wb);Va.Hm && (Ka.Xga && (Ka.km("firstDriveStreaming"),Ka.Xga=!1),0 < Ka.oD && (Na=null === (Qa=Y.ib.pr) || void 0 === Qa?void 0:Qa.U,cb && Na && (Ka.oD-=cb - Na,0 >= Ka.oD && Ka.Z9a())));return Va;}};};ra.prototype.NP=function(Y){var pa;pa=this;Y.forEach(function(T){T.R.c_b(T,function(){var R,ea;q.assert(pa.GD,"Speculative header callback after streaming is cancelled");R=pa.Zg.U;ea=R + pa.config.FX;return {fh:[],Gf:pa.Wf.state.value,WA:ea,Ys:ea,$r:R};});});};ra.prototype.Z9a=function(){var Y;Y=this;this.hq.Sba(ja.sF.by,function(){return Y.hq.start();});};ra.prototype.aaa=function(){var Y,pa,T,R,ea;Y=this;if(this.bd === k.Rj.oj){pa=this.Wi;T=this.navigator.lf(pa.ha);R=this.Hb.dKb();ea=this.IGb(pa.ha).map(function(sa){return sa.H.id;});T=H.aaa(this.console,this.qKb,T,R,this.Yi,ea,g.O.Na(this.config.kvb),this.config.Zsa,g.O.Na(this.config.Qja));R=T.q9a;this.oD=T.oD || 0;this.Hb.A3b(R,function(sa,la){var Ka;Ka=Y.navigator.lf(sa);sa=sa === pa.ha?Ka.Nf.add(pa.offset):Ka.Nf;return Y.d3b(Ka,sa,la);}).qP.forEach(function(sa){sa.rf();Y.Yi.clear(sa.H.id);Y.X.f0a(sa) || Y.hq.Sba(ja.sF.by,function(){return Y.Hha(sa.H.id);});});this.P8a();this.uTa();this.hq.Sba(ja.sF.by,function(){Y.$k("reevaluateBranches");Y.hq.DX(ja.sF.vS);});}};ra.prototype.IGb=function(Y){var pa;pa=!1;return this.X.Hb.filter(function(T){T.H.id === Y && (pa=!0);return pa;});};ra.prototype.lKb=function(){return u.RRa(this.Hb.filter(function(Y){return Y.SN;}).map(function(Y){return Y.R;}));};ra.prototype.P8a=function(){var Y;if(this.bd === k.Rj.oj){if(!this.X.bI){Y=c.__read(this.Hb.Xz(this.FP.ha),1)[0];(null === Y || void 0 === Y?0:Y.zh) && this.NQa(Y);}if(this.X.bI)for(;;){Y=this.Koa(this.X.bI.H);if(!Y)break;Y=c.__read(this.Hb.Xz(Y),1)[0];if(null === Y || void 0 === Y || !Y.zh)break;else if(this.X.f0a(Y))break;this.NQa(Y);}}};ra.prototype.Koa=function(Y){var pa;pa=this.Yi.get(Y.id);if(void 0 !== pa)return pa;Y=this.navigator.AHb(Y);if(1 === Y.length)return Y[0].id;};ra.prototype.uTa=function(){var Y;Y=0 !== this.DGb();Y || this.Yaa?Y && this.Yaa && (this.Yaa=!1):(this.Wf.ug && (Y=this.Oh(this.Zg),this.Wf.Se("complete",Y.o_,Y.p_)),this.gqb(),this.Yaa=!0);};ra.prototype.DGb=function(){return this.Hb.filter(function(Y){return !Y.Hl;}).length;};ra.prototype.Pr=function(Y){this.b8(Y) && this.Wf.Dka(this.Zg,this.X.playbackRate,Y,{Cka:this.Bpa.Cka.bind(this.Bpa,this.Zab)});};ra.prototype.VSb=function(Y,pa){var T,R;T=this;if(pa.didNormalizeSegment){R=J.ELa.kKb(Y);q.assert(R,"Segment should be normalized");Promise.resolve().then(function(){return T.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:Y.H.id,normalizedStart:pa.segmentContentStart,normalizedEnd:pa.branchContentEnd,viewableContentEnd:R.Z4b,viewableEarliestContentEnd:R.a5b});});}Promise.resolve().then(function(){T.P8a();});this.$k("branchNormalized");};ra.prototype.WSb=function(){this.uTa();};ra.prototype.USb=function(){this.hq.start();};ra.prototype.d3b=function(Y,pa,T){var R,ea,sa,la,Ka;R=this;if(this.cxb(Y,pa))throw Error("Not implemented");Ka=new d.SAa(Y.S,this.Zha,function(Ua,$a,Za){R.state !== k.Rj.CLOSED && (R.Xta($a,Za),R.hq.Sba(ja.sF.vS,function(){R.d3(Ua.H.id,$a,Ua.Fe);}));},this.Yta.bind(this));Y=new h.OAa(this.config,this.console,this.events,Y,this.Baa,pa,null !== (la=null === (sa=null === (ea=this.zn) || void 0 === ea?void 0:ea.nVb) || void 0 === sa?void 0:sa.Ka(this.d$a)) && void 0 !== la?la:g.O.eb,function(){return R.Zg.U;},T,this.Gf,this.Hs,Ka);Y.events.on("needsRequest",this.$k.bind(this,"branchNeedsHeader"));Y.events.on("branchNormalized",this.VSb.bind(this,Y));Y.events.on("lastRequestIssued",this.USb.bind(this,Y));Y.events.on("branchStreamingComplete",this.WSb.bind(this,Y));Y.events.on("checkBufferingProgress",this.Pr.bind(this,Y));void 0 === T && (this.km("createDlTracksStart"),Y.events.once("requestQueuesCreated",function(){R.km("createDlTracksEnd");}));Y.Fb();return Y;};ra.prototype.cJb=function(Y){if(this.X.Zf)return this.X.Ai.kb(Y);};ra.prototype.Baa=function(Y){return [[0,this.oU,"audio_tracks"],[1,this.tza,"video_tracks"]].map(function(pa){var T,R;T=c.__read(pa,3);R=T[1];pa=T[2];q.assert(R,"Expected mediaType " + T[0] + " track selector to be defined");T=R.Rs(Y.oa,Y.oa[pa]);if(void 0 !== T)return Y.getTrackById(Y.oa[pa][T].pQ);}).filter(u.U9);};ra.prototype.d3=function(Y,pa,T){Y={type:"segmentStarting",segmentId:Y,contentOffset:T.U,maxBitrates:{audio:pa.ex[0],video:pa.ex[1]}};this.events.emit(Y.type,Y);};ra.prototype.Hha=function(Y){Y={type:"segmentAborted",segmentId:Y};this.events.emit(Y.type,Y);};ra.prototype.gqb=function(){var Y;Y={type:"streamerEnd",time:n.default.time.fa()};this.events.emit(Y.type,Y);};ra.prototype.km=function(Y){Y={type:"startEvent",event:Y,time:n.default.time.fa()};this.events.emit(Y.type,Y);};c.__decorate([c.__param(0,ya.fA())],ra.prototype,"oB",null);c.__decorate([ya.return.vUa(),c.__param(0,ya.fA())],ra.prototype,"gA",null);c.__decorate([ya.return.fA()],ra.prototype,"pp",null);c.__decorate([c.__param(0,ya.fA())],ra.prototype,"JH",null);c.__decorate([ya.return.fA(),c.__param(0,ya.fA())],ra.prototype,"raa",null);c.__decorate([c.__param(0,ya.vUa()),c.__param(0,ya.ha())],ra.prototype,"Em",null);c.__decorate([B.Sb({methodName:"getStreamables",fl:!0})],ra.prototype,"LN",null);return ra;})();b.i0=r;},function(r,b,a){var k,m,d;function c(g,h,l,n,q){var p,u;l=null !== (p=h.ke) && void 0 !== p?p:h.track.Em(g,l.U,void 0,q);g=null !== (u=h.Kf) && void 0 !== u?u:h.track.Tz(g,null === n || void 0 === n?void 0:n.U,h.ih);return [!h.zh(),l,g];}function f(g,h){var B,E;for(var l=[],n=0,q=g[n],p=null === q || void 0 === q?void 0:q[0],u=null === q || void 0 === q?void 0:q[1],t=h.Kf.index,w=h.track.Bp,v=0,x=h.ke.Xc,y=h.ke.Td.U > q[0],z=y,A=h.ke.index;A <= t;++A){B=!1;if(q){E=w.get(A);y && (E.Xc.U >= u?(y=!1,++n >= g.length?u=p=q=void 0:(q=g[n],p=null === q || void 0 === q?void 0:q[0],u=null === q || void 0 === q?void 0:q[1])):z?z=!1:(l.push(new m.O1(v,x,E.Xc)),x=E.Xc,B=!0));!y && q && E.Td.U > p && (y=!0,B=E.Xc,(E=h.track.ZN.jl(A).PXa(p)) && 0 !== E.sl && (B=d.O.Na(E.Fd)),l.push(new m.O1(v,x,B)),x=B,B=!0);}B && ++v;}l.push(new m.O1(v,x,h.Kf.Td));return l;}Object.defineProperties(b,{__esModule:{value:!0}});b.bQb=b.Z3a=b.E5a=b.C5a=b.bwa=void 0;k=a(2);m=a(414);d=a(9);b.bwa=function(g,h,l){var n,q,p;p=h.get(0);h=h.get(1);h=null === h || void 0 === h?void 0:h.track.Tz(g,null === l || void 0 === l?void 0:l.U,h.ih);return [null === p || void 0 === p?void 0:p.track.Tz(g,null !== (q=null === (n=null === h || void 0 === h?void 0:h.Td) || void 0 === n?void 0:n.U) && void 0 !== q?q:null === l || void 0 === l?void 0:l.U,p.ih),h];};b.C5a=function(g,h,l,n,q){var p,u,t,w;p=h.get(0);h=h.get(1);u=k.__read(h?c(g,h,l,n,q):[!1],3);t=u[0];w=u[1];u=u[2];n=k.__read(p?c(g,p,t && void 0 !== (null === w || void 0 === w?void 0:w.$)?d.O.Na(w.$):l,void 0 !== (null === u || void 0 === u?void 0:u.La)?d.O.Na(null === u || void 0 === u?void 0:u.La):n,q):[!1],3);g=n[0];l=n[1];n=n[2];g && (null === p || void 0 === p?void 0:p.V7(l,n));t && (null === h || void 0 === h?void 0:h.V7(w,u));return [g,t];};b.E5a=function(g,h,l){return h.track.Em(g,l.U,void 0,!0).Xc;};b.Z3a=function(g,h,l){var n;n=h.H;if(!n.zq || 0 === n.zq.length)return [];g=n.zq.map(function(q){return [n.Aa + q[0],n.Aa + q[1]];});return f(g,l.FY);};b.bQb=f;},function(r,b,a){var f,k,m;function c(d){return "immediate" === d;}Object.defineProperties(b,{__esModule:{value:!0}});b.vKa=b.O1=b.S1a=void 0;f=a(2);k=a(9);m=a(4);b.S1a=c;r=(function(){function d(g,h,l){this.region=g;this.Xc=h;this.Td=l;}d.prototype.toJSON=function(){return {region:this.region,$:this.Xc.NI,La:this.Td.NI};};return d;})();b.O1=r;r=(function(){function d(g,h,l){var n,q,p;n=this;this.id=g;this.H=h;this.vPa=!1;this.ON=function(u){var t,w,v,x;return (null === (t=n.zx) || void 0 === t?0:t.length)?"immediate":null !== (x=null === (v=null === (w=n.H.next) || void 0 === w?void 0:w[u]) || void 0 === v?void 0:v.ce) && void 0 !== x?x:n.ce;};this.NT=new k.O(h.Aa,1E3);this.bT=void 0 !== h.Ba && null !== h.Ba?new k.O(h.Ba,1E3):k.O.ND;this.Rrb=null !== (p=null !== (q=h.ce) && void 0 !== q?q:l) && void 0 !== p?p:"lazy";this.v1a();m.assert(this.NT.lessThan(this.bT),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(d.prototype,{S:{get:function(){return this.H.S;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Qq:{get:function(){return this.vPa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Nf:{get:function(){return this.NT;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$i:{get:function(){return this.bT;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.bT.Ka(this.NT);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$:{get:function(){return this.NT.U;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{La:{get:function(){return this.bT.U;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{uE:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{vv:{get:function(){return this.RA.length?!this.H.Md && 0 === this.KO.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{YRb:{get:function(){return this.zC;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{RA:{get:function(){var g,h;return Object.keys(null !== (h=null === (g=this.H) || void 0 === g?void 0:g.next) && void 0 !== h?h:{});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{KO:{get:function(){var g;g=this;return this.RA.filter(function(h){return ! !g.zC[h];});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{dya:{get:function(){var g;return null !== (g=this.rQa) && void 0 !== g?g:this.rQa=this.bwb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aba:{get:function(){var g;return null !== (g=this.sQa) && void 0 !== g?g:this.sQa=this.cwb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{nB:{get:function(){return this.H.weight?this.H.weight / (this.H.weight + this.aba):1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ce:{get:function(){var g;return (null === (g=this.zx) || void 0 === g?0:g.length)?"immediate":this.Rrb;},enumerable:!1,configurable:!0}});d.prototype.normalize=function(g,h,l){this.NT=g;this.bT=h;this.zx=l;this.vPa=!0;this.Wdb();};d.prototype.bZa=function(){var g;return this.KO.length?null !== (g=this.KO.map(this.ON).reduce(function(h,l){return h === l?l:void 0;})) && void 0 !== g?g:this.ce:this.ce;};d.prototype.Fi=function(g){this.v1a(g);};d.prototype.Svb=function(g){var h,l;if(this.dya){h=(this.zC[g] || 0) / this.dya;if(void 0 === this.H.weight || 0 === this.aba)return {We:h};l=this.nB;return 1 !== l && c(this.ON(g)) && this.zC[g]?{We:l * h,LD:this.zC[g] / this.aba * (1 - l)}:{We:l * h};}return {We:(null === (h=this.H.next) || void 0 === h?0:h[g])?1 / this.RA.length:0};};d.prototype.UKb=function(g){return -1 < this.RA.indexOf(g);};d.prototype.Ptb=function(){return this.Qq?f.__assign(f.__assign({},this.H),{Aa:this.Nf.U,Ba:this.$i.U}):this.H;};d.prototype.v1a=function(g){var h;if(void 0 === this.H.next)this.zC={};else {h=this.H.next;this.zC=Object.keys(h).reduce(function(l,n){var q;q=g?g[n] || 0:h[n].weight;void 0 !== q && null !== q && 0 <= q && (l[n]=q);return l;},{});}this.Wdb();};d.prototype.bwb=function(){var g;g=this;return this.KO.reduce(function(h,l){return h + g.zC[l];},0);};d.prototype.cwb=function(){var g;g=this;return this.KO.filter(function(h){return c(g.ON(h));}).reduce(function(h,l){return h + g.zC[l];},0);};d.prototype.Wdb=function(){this.sQa=this.rQa=void 0;};return d;})();b.vKa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.GYa=b.m_a=b.boa=b.gLa=void 0;c=a(2);f=a(20);k=a(56);r=(function(){function m(d){this.Ia=d;}Object.defineProperties(m.prototype,{si:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{kx:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return f.ia;},enumerable:!1,configurable:!0}});m.prototype.Qn=function(d){var g,h,q;d=d.cj;if(d === k.ee.tq || d === k.ee.oo)if(d=this.Ia.Zna()){h={};try{for(var l=c.__values(d.hVb),n=l.next();!n.done;n=l.next()){q=n.value;h[q.mediaType]=this.WPb(q);}}catch(u){var p;p={error:u};}finally{try{n && !n.done && (g=l.return) && g.call(l);}finally{if(p)throw p.error;}}return {branchQueue:b.GYa(d.SWb),playerIterator:h,driftStats:this.Ia.zza};}};m.prototype.WPb=function(d){return null === d || void 0 === d?void 0:d.HZa();};return m;})();b.gLa=r;b.boa=function(m){var d,g;if(m){d=m.H;g={};m.Dq().forEach(function(h){g[h.mediaType]=b.m_a(h);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:m.Lh,RM:g};}return m;};b.m_a=function(m){var d,g,h;if(m && m.Ua)return c.__assign(c.__assign({},m.Ua.Toa()),{unsentRequests:m.Ua.et,lastFragmentContentEndPts:null === (d=m.Kf) || void 0 === d?void 0:d.Mc,trackProfile:null === (h=null === (g=m.track) || void 0 === g?void 0:g.Ju) || void 0 === h?void 0:h.profile});};b.GYa=function(m){return m.map(function(d){return b.boa(d);});};},function(r,b,a){var c,f,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Ika=b.pp=b.Y_a=b.Bdb=void 0;c=a(9);f=a(4);k=a(20);b.Bdb=function(d,g){d=d.V[g.ha];if(void 0 === d)return {XW:!1,reason:"Segment " + g.ha + " was not found"};if(void 0 === d.Ba || null === d.Ba)throw Error("Cannot validate graph position without endTimeMs");d=d.Ba - d.Aa;return 0 > g.offset.U?{XW:!1,reason:"Offset " + g.offset.U + " was negative"}:g.offset.U >= d?{XW:!1,reason:"Offset " + g.offset.U + " was greater than segment duration " + d}:{XW:!0};};m=c.O.Na(100);b.Y_a=function(d,g){if(d === g)return !0;if(d && g && d.ha === g.ha){if(d.offset === g.offset)return !0;d=c.O.abs(d.offset.Ka(g.offset));if(m.greaterThan(d))return !0;}return !1;};b.pp=function(d,g,h){var l,n,q,p;q=g.qa;g=g.tMb;void 0 === h && (h={});p=q.ma;q=q.navigator;p=q.lf(null !== (l=null === g || void 0 === g?void 0:g.id) && void 0 !== l?l:p.Pd);l=null !== (n=null === g || void 0 === g?void 0:g.xZb) && void 0 !== n?n:p.Nf;if(l.greaterThan(d))return h.wab?{offset:d.Ka(l),ha:p.id}:void 0;g=q.WNb(p);for(q=g.next();!q.done;){n=q.value;q=n.$i.Ka(n.Nf);p=l;l=p.add(q);if(l.greaterThan(d))return (d=d.Ka(p),k.ia && f.assert(d.ms(c.O.eb) && d.lessThan(q)),{ha:n.id,offset:d});q=g.next();if(q.done && h.xab)return {ha:n.id,offset:d.Ka(p)};}};b.Ika=function(d,g){g=g.V[d.ha];return d.offset.lessThan(c.O.eb)?{H4:c.O.eb,Vo:d.offset}:g.Ba && (g=c.O.Na(g.Ba - g.Aa),g.isFinite() && d.offset.greaterThan(g))?{H4:g,Vo:d.offset.Ka(g)}:{H4:d.offset,Vo:c.O.eb};};},function(r,b){var f,k,m;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.DNa);}function c(d){return (a(d)?d:Object.defineProperties(d,{DNa:{value:{},configurable:!1,enumerable:!1}})).DNa;}Object.defineProperties(b,{__esModule:{value:!0}});b.rfa=void 0;k=null !== (f=Number.MAX_SAFE_INTEGER) && void 0 !== f?f:1E9;m=Date.now() % k;r=(function(){function d(){this.id=m=(m + 1) % k;}d.prototype.get=function(g){return a(g)?c(g)[this.id]:void 0;};d.prototype.set=function(g,h){c(g)[this.id]=h;return this;};d.prototype.has=function(g){return a(g) && void 0 !== c(g)[this.id];};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};return d;})();b.rfa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.cS=void 0;r=(function(){function a(){this[0]=0;this[1]=0;}Object.defineProperties(a.prototype,{total:{get:function(){return this[0] + this[1];},enumerable:!1,configurable:!0}});a.prototype.add=function(c){this[0]+=Math.max(c[0] || 0,0);this[1]+=Math.max(c[1] || 0,0);};a.prototype.Mia=function(c,f){this[c]+=Math.max(f || 0,0);};return a;})();b.cS=r;0;1;},function(r,b,a){var f,k,m,d;function c(){return f.__awaiter(this,void 0,void 0,function(){var g;return f.__generator(this,function(h){switch(h.label){case 0:return [4,Promise.resolve().then(function(){return f.__importStar(a(256));})];case 1:return (g=h.Ac().DH,[2,g()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.oW=void 0;f=a(2);k=a(942);m=f.__importDefault(a(6));b.oW=function(g){var h;h=new m.default.Console("ASEJS","media|asejs");d || (d=new k.EKa(function(){return c();},g,h));return d;};},function(r,b,a){var f,k,m,d;function c(g,h){return h && !Array.isArray(h) && -1 === h.mXa.indexOf(g)?h.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.qla=void 0;f=a(2);r=a(17);k=a(182);m=a(410);d=(function(g){function h(l,n){var q;q=g.call(this) || this;q.VPb=l;q.y1a=n;q.Sga={};return q;}f.__extends(h,g);h.prototype.emit=function(l){for(var n=[],q=1;q < arguments.length;q++){n[q - 1]=arguments[q];}return g.prototype.emit.call(this,l,this.VPb(l,n[0]));};h.prototype.subscribe=function(l){var n,q;n=this;if(!this.listeners(l).length){q=function(){for(var p=[],u=0;u < arguments.length;u++){p[u]=arguments[u];}return n.emit.apply(n,f.__spread([l],p));};this.Sga[l]=q;this.y1a.addListener(l,q);}};h.prototype.addListener=function(l,n){this.subscribe(l);g.prototype.addListener.call(this,l,n);return this;};h.prototype.removeListener=function(l,n){g.prototype.removeListener.call(this,l,n);this.listeners(l).length || (this.y1a.removeListener(l,this.Sga[l]),delete this.Sga[l]);return this;};h.prototype.on=function(l,n){this.addListener(l,n);return this;};h.prototype.SA=function(l,n){this.removeListener(l,n);return this;};h.prototype.once=function(l,n){var p;function q(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}p.removeListener(l,q);n.apply(void 0,f.__spread(u));}p=this;this.addListener(l,q);return this;};h.prototype.AY=function(l,n){this.subscribe(l);g.prototype.AY.call(this,l,n);return this;};h.prototype.R7a=function(l,n){var p;function q(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}p.removeListener(l,q);n.apply(void 0,f.__spread(u));}p=this;this.AY(l,q);return this;};return h;})(r.EventEmitter);b.qla=function(g,h,l,n){return new d(function(q,p){var u,t;t=c(q,n["*"]);q=null !== (u=n[q]) && void 0 !== u?u:[];u=t.concat(q).filter(function(w){return "object" === typeof w;});t=f.__read(q.filter(function(w){return "function" === typeof w;}),1)[0];return u.length?m.paa(g,p,l,{rules:u,no:!1,cja:!0},k.Mv.Rya,t):p;},h);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LMa="TransitionLoggerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CCa="DiagnosticsFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TIa="PboGenerateScreenshotsCommandSymbol";},function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(r,b,a){var c,f,k,m,d,g;b=a(53);c=a(426);f=a(980);k=a(424);m=a(262);d=a(985);g=a(429);a=b(c(["filter"],d,function(h,l){return k(l)?m(function(n,q){h(l[q]) && (n[q]=l[q]);return n;},{},g(l)):f(h,l);}));r.exports=a;},function(r,b,a){var c,f;c=a(427);f=a(979);r.exports=function(k,m,d){return function(){var g,h;if(0 === arguments.length)return d();g=Array.prototype.slice.call(arguments,0);h=g.pop();if(!c(h)){for(var l=0;l < k.length;){if("function" === typeof h[k[l]])return h[k[l]].apply(h,g);l+=1;}if(f(h))return m.apply(null,g)(h);}return d.apply(this,arguments);};};},function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(r){r.exports={Fb:function(){return this.T_["@@transducer/init"]();},result:function(b){return this.T_["@@transducer/result"](b);}};},function(r,b,a){var c,f,k,m,d;b=a(131);c=a(261);f=a(986);k=!({toString:null}).propertyIsEnumerable("toString");m=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(g){var h,l,n,q;if(Object(g) !== g)return [];h=[];l=d && f(g);for(n in g){!c(n,g) || l && "length" === n || (h[h.length]=n);}if(k)for(l=m.length - 1;0 <= l;){n=m[l];if(q=c(n,g)){a:{for(q=0;q < h.length;){if(h[q] === n){q=!0;break a;}q+=1;}q=!1;}q=!q;}q && (h[h.length]=n);--l;}return h;}:function(g){return Object(g) !== g?[]:Object.keys(g);});r.exports=a;},function(r){r.exports=function(b,a){for(var c=0,f=a.length,k=Array(f);c < f;){k[c]=b(a[c]);c+=1;}return k;};},function(r,b,a){var c,f,k;c=a(263);f=a(131);b=a(53);k=a(989);a=b(function(m,d){return 1 === m?f(d):c(m,k(m,[],d));});r.exports=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mEa="HLSPlaylistBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dKa="PlayerPlaydataMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kfa="StreamChangeDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZR="HLSLogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AEa="HeaderFetcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KEa="HttpDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EEa="HLSHeaderParserFactorySymbol";},function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,f){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),f * a.byteLength / a.length);}:function(a,c,f){a.set(c,f);};r.exports={from:function(a,c,f,k){a=new a(c.length);for(var m="function" === typeof f,d=0;d < c.length;++d){a[d]=m?f.call(k,c[d],d,c):c[d];}return a;},set:b};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){var m;m=null !== f && f.apply(this,arguments) || this;m.Wz=1536;return m;}c.__extends(k,f);k.Ra=!0;return k;})(a(186).default);b.default=r;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Yb="ac-3";return k;})(r);b.bca=a;r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Yb="ec-3";return k;})(r);b.kda=r;},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(106);r=a(33);k=f.CF;r=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.parse=function(){this.zc();this.fileSize=this.u.Wd();this.W=this.u.Wd();this.duration=this.u.Wd(!1,!0);this.Gta=this.u.Wd();this.u.Wd();this.Kta=this.u.Wd();this.nta=this.u.Ca();this.Hta=this.u.Wd();this.Bna=this.u.Ca();this.u.gB();this.Ve={moof:{offset:this.Gta},sidx:{offset:this.Hta,size:this.Bna}};this.Ve[f.fS]={offset:this.Kta,size:this.nta};this.u.offset - this.startOffset <= this.length - 24 && (this.Jta=this.u.Wd(),this.hta=this.u.Ca(),this.Ita=this.u.Wd(),this.fta=this.u.Ca(),this.Ve[f.ny]={offset:this.Jta,size:this.hta},this.Ve[f.my]={offset:this.Ita,size:this.fta});return !0;};d.Yb=k;d.Ra=!1;return d;})(r.Fc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(106);a=a(33);f=r.DF;a=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.parse=function(){var d,l,n;this.zc();1 <= this.version && this.u.gB();d=this.u.Ca();this.Ve={};for(var g=this.startOffset + this.length,h=0;h < d;++h){l=this.u.Vl();"uuid" === l && (l=this.u.gB());n=this.u.Wd();this.Ve[l]={offset:g,size:n};g+=n;}return !0;};m.Yb=f;m.Ra=!1;return m;})(a.Fc);b.default=a;},function(r){var b,a,c,f;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Mk:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Mk:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Mk:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};f={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Mk:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};r.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":f},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":f};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(33);k=a(90);r=(function(m){function d(g,h,l,n,q){l=m.call(this,l,n,q) || this;l.Oja=g;l.kr=h;l.Xa={};return l;}c.__extends(d,m);d.prototype.parse=function(g){var h,l,n,q,p,u;this.offset=0;h=[];for(g=g || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){l=this.offset;n=this.Ca();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};q=k.Bo(this.Ca());if(null === q)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === q){if(16 > this.view.byteLength - this.offset)break;q=this.gB();}if(0 === h.length && this.kr.VV(q,l,n))break;if(l + n > this.view.byteLength)break;p=this.Oja[q];u=void 0;if(p){if((u=new p(this,q,l,n,h[0]),(h[0] || this).Mt(u),u.parse(g)))this.config.II && p.Ra?h.unshift(u):this.offset=l + n;else return {done:!1,offset:this.offset,error:"parse error in " + q + " box"};}else this.offset=l + n;for(;h.length && this.offset > h[0].byteOffset + h[0].eo - 8;){u=h.shift();if(!u.ju(g))return {done:!1,offset:this.offset,error:"finalize error in " + u.type + " box"};this.offset=u.byteOffset + u.eo;}if(0 === h.length && this.kr.pV(q,l,n,u))break;}return !this.kr.done && (g=this.kr.endOffset?this.kr.endOffset - this.view.byteLength:4096,0 < g)?{done:!1,offset:this.offset,OX:g}:{done:!0,offset:Math.min(this.kr.endOffset || Infinity,this.offset)};};d.prototype.Mt=function(g){f.Fc.Mt(this,g);};return d;})(a(1026).Xfa);b.dF=r;},function(r,b,a){var f;function c(k,m){k=m.indexOf(k);-1 !== k && m.splice(k,1);}Object.defineProperty(b,"__esModule",{value:!0});f=a(106);r=(function(){function k(m){this.endOffset=m;this.done=!1;}k.prototype.VV=function(){return this.done;};k.prototype.pV=function(m,d,g){return this.done=d + g >= this.endOffset;};return k;})();b.lR=r;r=(function(){function k(m,d,g,h){void 0 === d && (d=[]);void 0 === g && (g=[]);void 0 === h && (h=!1);this.Yh=m;this.Iz=d;this.d_=g;this.mY=h;this.done=!1;this.Ve={};}k.prototype.VV=function(m,d,g){-1 !== k.Lpa.indexOf(m) && (this.Ve[m]={offset:d,size:g});if(-1 !== this.d_.indexOf(m)){if((this.Ve[m]={offset:d,size:g},this.mY))this.endOffset=d + g;else return (this.endOffset=d,this.done=!0);}else this.Yh && -1 !== this.Yh.indexOf(m)?(m=1 < this.Yh.length?4096:0,this.endOffset=Math.max(d + g + m,this.endOffset || 0)):-1 !== this.Iz.indexOf(m) && (m=this.Yh?4096:0,this.endOffset=Math.max(d + g + m,this.endOffset || 0));return this.done;};k.prototype.pV=function(m,d,g,h){var l;l=this;if(-1 !== this.d_.indexOf(m))return this.done=!0;m === f.CF && this.CZ(h.Ve);m === f.DF && this.CZ(h.Ve);this.Yh && c(m,this.Yh);c(m,this.Iz);return this.Yh && 0 === this.Yh.length && !this.Iz.some(function(n){return l.Ve[n];})?this.done=!0:this.done;};k.prototype.CZ=function(m){var d;d=this;this.Ve=m;this.endOffset=(this.Yh || []).concat(this.Iz).reduce(function(g,h){return d.Ve[h]?(h=d.Ve[h],Math.max(h.offset + (h.size || 4096),g)):g;},this.endOffset || 0);};k.Lpa=["moov","sidx"];return k;})();b.Dda=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oEa="HLSPlaylistTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CBa="CdnPartitionerSymbol";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.hda=void 0;f=a(45);c.Ro=function(){var k;k={};k[f.ze.kF]="mp4a.40.2";k[f.ze.jEa]="mp4a.40.2";k[f.ze.lF]="mp4a.40.2";k[f.ze.VF]="mp4a.40.42";k[f.ze.fR]="ec-3";k[f.ze.Vca]="ec-3";k[f.ze.gR]="ec-3";return k;};b.hda=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.q8b="LogblobBuilderSymbol";b.WR="HLSLogblobBuilderFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zMa="ThroughputTrackerConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CMa="ThroughputTrackerSymbol";b.AMa="ThroughputTrackerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MDa="ExtraPlatformInfoProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vBa="CapabilityDetectorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xAa={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(r,b,a){var f,k,m,d;function c(g,h,l,n){this.config=g;this.Aj=h;this.mediaType=l;this.gx=n;this.Lsa={};this.Lsa[f.Xj.Audio]="audio";this.Lsa[f.Xj.iNa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.eR=void 0;f=a(26);r=a(113);k=a(189);m=a(11);d=new r.lC().format;c.prototype.O_a=function(g){return this.rCb(this.mJb(this.u_a(),g));};c.prototype.nz=function(g){return this.Aj.isTypeSupported(g);};c.prototype.aZa=function(){return [k.Ze.V_,k.Ze.pEa,k.Ze.sR];};c.prototype.vqa=function(){this.ho=[];this.ev=[];this.config().dUb && this.ev.push(k.Ze.VF);this.config().D6a && this.ev.push(k.Ze.kEa);this.config().C6a && this.ev.push(k.Ze.iEa);this.config().B6a && this.ev.push(k.Ze.qt);this.config().HI && this.ev.push(k.Ze.PB);this.config().E6a && this.ev.push(k.Ze.nC);this.config().A6a && this.ev.push(k.Ze.yl);this.ev=this.ev.concat(this.aZa());!this.config().jEb && this.ho.push(k.Ze.VF);!this.config().GWa && this.ho.push(k.Ze.hgb);!this.config().FWa && this.ho.push(k.Ze.igb);!this.config().zV && this.ho.push(k.Ze.jgb);!this.config().YDb && this.ho.push(/prk$/);this.config().B6a || this.config().IDb || this.ho.push(k.Ze.qt);this.config().D6a || this.config().KDb || this.ho.push(k.Ze.kEa);this.config().C6a || this.config().Ema || this.ho.push(k.Ze.iEa);this.config().HI || this.config().cN || this.ho.push(k.Ze.PB);this.config().E6a || this.config().hEb || this.ho.push(k.Ze.nC);this.config().A6a || this.config().DDb || this.ho.push(k.Ze.yl);!this.config().fEb && this.ho.push(k.Ze.XK);};c.prototype.mJb=function(g,h){var l;l=m.Oe.hardwareConcurrency && m.Oe.hardwareConcurrency;return g.filter(function(n){return void 0 !== n.minimumCores && l < n.minimumCores || void 0 !== n.restrictToUILabels && (void 0 === (null === h || void 0 === h?void 0:h.Xd) || !n.restrictToUILabels.includes(h.Xd))?!1:!0;}).map(function(n){return n.name;});};c.prototype.DXa=function(g){var h,l;h=this;l=g.map(function(n){for(var q=ba(h.ev),p=q.next();!p.done;p=q.next()){if(p.value.test(n))return Promise.resolve(!0);}q=ba(h.ho);for(p=q.next();!p.done;p=q.next()){if(p.value.test(n))return Promise.resolve(!1);}return h.Sz(n).catch(function(){return !1;});});return Promise.all(l).then(function(n){return g.filter(function(q,p){return n[p];});});};c.prototype.Sz=function(g){return this.config().UDb?this.gx.Sz(g):this.qFb(g);};c.prototype.qFb=function(g){var h;g=this.GY[g];h="";return g?(Array.isArray(g) && (h=1 < g.length?" " + g[1]:"",g=g[0]),g=d("{0}/mp4;codecs={1};{2}",this.Lsa[this.mediaType],g,h),g=this.nz(g),Promise.resolve(g)):Promise.resolve(!1);};c.prototype.rCb=function(g){var h;h={};this.vqa();return this.DXa(g).then(function(l){return l.map(function(n){return h[n]=1;});}).then(function(){return Object.keys(h);});};Ya.Object.defineProperties(c.prototype,{GY:{configurable:!0,enumerable:!0,get:function(){this.QPa || (this.QPa=this.Ro());return this.QPa;}}});b.eR=c;},function(r,b,a){var f,k,m,d,g;function c(h,l,n){n=k.eR.call(this,h,l,f.Xj.Audio,n) || this;n.config=h;n.Aj=l;n.type=f.Cv.Fv;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.H0=void 0;f=a(26);k=a(455);m=a(112);r=a(113);d=a(448);g=new r.lC().format;na(c,k.eR);c.prototype.TZ=function(){var h;h=g(c.rQ,m.Hd.ggb);return Promise.resolve(this.config().zV && this.Aj.isTypeSupported(h));};c.prototype.Ro=function(){return d.hda.Ro();};c.prototype.u_a=function(){return this.config().HG;};b.H0=c;c.rQ="audio/mp4;codecs={0};";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dHa="MediaCapabilitiesDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hHa="MediaCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gHa="MediaCapabilitiesLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KKa="PresentationAPISymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.j1="IndexedDBConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jfa="Storage";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YBa="CorruptedStorageValidatorConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dGa="LocalStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AHa="MemoryStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LAa="BookmarkSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JAa="BookmarkConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IAa="BookmarkConfigParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bBa="CDMAttestedDescriptorProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TGa="ManifestProviderConfigSymbol";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Nfa=void 0;f=a(11);c.t_a=function(){var k;k=f.Pv && f.Pv.height;return k?1080 <= k?1080:720:720;};b.Nfa=c;},function(r,b,a){var f;function c(k){this.log=k;}Object.defineProperty(b,"__esModule",{value:!0});b.bS=void 0;f=a(473);c.prototype.kcb=function(k,m){var d,g;d=this;if(!k)return (this.log.warn("There are no media streams for " + m.type + " track - " + m.trackId),[]);g=k.map(function(h){var l,n,q,p,u,t,w;w=new f.MediaStream(m,m.type,h.ds,h.bitrate,h.xb,h.size,d.EHb(h.urls),h.YG,h.oYa / h.nYa,h.ml,h.vl);w.I_b(h.u9a,h.t9a,h.l7a,h.k7a);w.ZZb(null !== (l=h.fBb) && void 0 !== l?l:void 0,null !== (n=h.gBb) && void 0 !== n?n:void 0,null !== (q=h.eBb) && void 0 !== q?q:void 0,null !== (p=h.dBb) && void 0 !== p?p:void 0,null !== (u=h.l7a) && void 0 !== u?u:void 0,null !== (t=h.k7a) && void 0 !== t?t:void 0);m.Bm && (w.Bm=m.Bm);h.YG && (w.Lg=h.YG);return w;});g.sort(function(h,l){return h.bitrate - l.bitrate;});g.forEach(function(h,l){h.lower=g[l - 1];h.kLb=g[l + 1];});return g;};c.prototype.EHb=function(k){return k.reduce(function(m,d){m[d.lq]=d.url;return m;},{});};b.bS=c;},function(r,b,a){var f,k,m;function c(d,g,h,l,n,q,p,u,t,w,v){this.track=d;this.type=g;this.Dc=h;this.bitrate=l;this.xb=n;this.size=q;this.Jw=p;this.Lg=u;this.framerate=t;this.ml=w;this.vl=v;this.Uh={Type:g,Bitrate:l,DownloadableId:h};}Object.defineProperty(b,"__esModule",{value:!0});b.Zfb=b.MediaStream=void 0;f=a(12);k=a(18);m=a(91);c.prototype.toJSON=function(){return this.Uh;};c.prototype.I_b=function(d,g,h,l){(0,k.Zc)(d) && (0,k.Zc)(g) && (this.width=d,this.height=g,(0,k.Ea)(h) && (0,k.Ea)(l) && (this.Yia=h / l * d),this.Uh.Resolution=(this.width || "") + ":" + (this.height || ""));};c.prototype.ZZb=function(d,g,h,l,n,q){(0,k.Zc)(d) && (0,k.Zc)(g) && (0,k.Zc)(h) && (0,k.Zc)(l) && (this.Cla=d,this.d5=g,this.c5=h,this.b5=l);(0,k.Zc)(n) && (0,k.Zc)(q) && (this.m7a=n,this.n7a=q);};b.MediaStream=c;b.Zfb=function(d,g,h,l,n){if(d == f.m1 || d === m.Ki.audio)return g;if(d == f.FK || d === m.Ki.video)return h;if(d == m.Ki.lba)return l;if(d == m.Ki.Eya)return n;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eKa="PlayerTextTrackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RMa="TrickPlayFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XGa="ManifestVerifyErrorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZIa="PboLinksManagerSymbol";b.XIa="PboLinksManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PGa="ManifestEnricherSymbol";},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.ceb=void 0;c=a(8);f=a(18);b.ceb=function(k){var m,d;if((0,f.uA)(k)){m=new DOMParser().parseFromString(k,"text/xml");d=m.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:k.slice(0,300),fileSize:k.length});}catch(g){}throw Error("xml parser error");}return m;}throw Error("bad xml text");};},function(r,b,a){var f;function c(k){var m,d,g,h,l,n,q;d={};d[f.JQ]=k.localName;g={};d[f.Pk]=g;h=[];d[f.IQ]=h;l=k.attributes;n=l.length;for(m=0;m < n;m++){q=l[m];g[q.localName]=q.value;}k=k.childNodes;n=k.length;g={};for(m=0;m < n;m++){switch((l=k[m],l.nodeType)){case b.geb:l=c(l);q=l[f.JQ];l[f.Yba]=d;h.push(l);d[q]?g[q][f.ZE]=l:d[q]=l;g[q]=l;break;case b.heb:case b.eeb:(l=l.text || l.nodeValue,h.push(l),d[f.mt] || (d[f.mt]=l));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.feb=b.eeb=b.heb=b.A5b=b.geb=b.B5b=b.deb=void 0;f=a(160);b.deb=function(k){return c(k.nodeType == b.feb?k.documentElement:k);};b.B5b=c;b.geb=1;b.A5b=2;b.heb=3;b.eeb=4;b.feb=9;},function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tea="MslReadyNotifierSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xCa="DeviceIdGeneratorSymbol";},function(r,b){function a(c,f,k){if(null != k){if(0 < k(c,f))throw a.WUa(c,f);}else if(c.Kl && 0 < c.Kl(f))throw a.WUa(c,f);this.start=c;this.end=f;}Object.defineProperty(b,"__esModule",{value:!0});b.vfa=void 0;a.WUa=function(c,f){return new RangeError("end [" + f + "] must be >= start [" + c + "]");};b.vfa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ACa="DeviceProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ba="CryptoKeysSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JIa="PboBindDeviceCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vGa="LogblobSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CHa="MessageQueueSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aJa="PboLogblobCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fNa="UuidProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wza="AppLogSinkSymbol";},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E,D,F,G;function c(C,H,K,M,I,Q,L,J,N,O,P,S,U,Z,ja,ya,ra,Y,pa,T){var R;R=this;this.j=C;this.xa=H;this.Ibb=K;this.bg=M;this.Fsa=I;this.$ma=Q;this.se=L;this.B5=J;this.mf=N;this.config=O;this.Gd=P;this.za=S;this.Da=U;this.Tq=Z;this.zA=ja;this.gj=ya;this.hs=ra;this.oI=Y;this.vc=pa;this.dE=T;this.g_=[];this.Rsa=this.QD=this.dZ=0;this.YM=[];this.Qia=!1;this.LE=function(ea){var sa,la,Ka,Ua,$a,Za,cb;la={};try{la={playdelaysdk:(0,n.Yf)(R.j.EU()),applicationPlaydelay:(0,n.Yf)(R.j.ika()),playdelay:(0,n.Yf)(R.j.kka()),trackid:R.j.Pj,bookmark:(0,n.Yf)(R.j.Aw || 0),pbnum:R.j.index,endianness:(0,d.rZa)()};R.config().iEb && (la.transitiontime=R.j.Zm,la.uiplaystarttime=R.j.cb.sQ,la.playbackrequestedat=R.j.ej.da(q.la),la.clockgettime=R.getTime(),la.clockgetpreciseepoch=R.za.jf.da(q.la),la.clockgetpreciseappepoch=R.Da.xA.da(q.la),la.absolutestarttime=R.j.wH(),la.relativetime=R.j.Uoa());R.w6(la,"startplay");}catch(Va){R.log.error("error in startplay log fields",Va);}R.j.oi && (la.blocked=R.j.oi);R.vc.X0a(la);R.Y0a(la);if(R.config().Rba && R.j.cb.Tdb){Ka={};Object.entries(R.j.cb.Tdb).reverse().forEach(function(Va){var Qa;Qa=ba(Va);Va=Qa.next().value;Qa=Qa.next().value;Ka[Va.toLowerCase()]=Qa;});la.vui=Ka;}(0,z.Ea)(R.j.HSa) && (la.bookmarkact=(0,n.Yf)(R.j.HSa));Ua=R.j.Sc.at && R.j.Sc.ats?R.j.Sc.at - R.j.Sc.ats:void 0;Ua && (la.nccpat=Ua);(Ua=R.j.Sc.lr && R.j.Sc.lc?R.j.Sc.lr - R.j.Sc.lc:void 0) && (la.nccplt=Ua);(Ua=R.j.Sc.lc && R.j.Sc.lg?R.j.Sc.lc - R.j.Sc.lg:void 0) && (la.lct=Ua);(Ua=R.dDb()) && (la.downloadables=Ua);nb._cad_global.device && (0,z.Zc)(nb._cad_global.device.S5) && (la.esnSource=nb._cad_global.device.S5);(0,n.ac)(la,R.Tq,{prefix:"pi_"});R.j.Oo && R.j.Oo.initBitrate && (la.initvbitrate=R.j.Oo.initBitrate);R.j.Oo && R.j.Oo.selector && (la.selector=R.j.Oo.selector);la.fullDlreports=R.ldb;if(R.j.state.value >= y.Tb.te)try{$a=R.j.Zt();if($a){R.maxBitrate=(0,d.PQ)($a.map(function(Va){return Va.bitrate;}));R.r4a=(0,d.PQ)($a.map(function(Va){return Va.height;}));Za=0 < $a.length?(0,F.$_a)(function(Va,Qa){return Va.height === Qa.height;},$a).map(function(Va){return (0,A.ssa)(Va,function(Qa){return Qa.bitrate;});}):void 0;la.maxbitrate=R.maxBitrate;la.maxresheight=R.r4a;}}catch(Va){R.log.error("Exception computing max bitrate",Va);}try{cb=(0,d.FH)();cb && (la.pdltime=cb);}catch(Va){}try{(0,n.ac)(la,R.j.Sc,{prefix:"sm_"});(0,n.ac)(la,R.j.l7(),{prefix:"vd_"});}catch(Va){}"undefined" !== typeof nrdp && nrdp.device && (la.firmware_version=nrdp.device.firmwareVersion);ea && R.j.fv && (la.pssh=R.j.fv);R.d1a(R.j,la);la.avtp=R.IJ.uu().qya;(null === (sa=R.j.Ja) || void 0 === sa?0:sa.uC) && R.J7(la);if(R.j.kc.value)try{la.ttTrackFields=R.j.kc.value.Uh;}catch(Va){}R.vc.T0a(la,R.j.tc.value);R.vc.YN(la,R.j.Ag.value);R.j.oa && (la.packageId=R.j.oa.Nb.op);R.j.oa && R.j.oa.Nb.Fn && (la.hasChoiceMap=!0);R.config().cYa && (la.forceL3WidevineCdm=!0);R.jOb(Za);R.iOb();ea && R.lqa(la);R.V0a(R.j,la);R.RH(R.j,la);R.SH(R.j,la);R.MD(R.j,la,R.Qia);R.XLb(R.j,la);R.mqa(la);R.nqa(la);R.vc.XN(la);R.a1a(la);R.U0a(la);R.vc.L7(la,R.xa);R.b1a(la);R.Jc(B.ed.LE,ea,G.Ae | G.xt | G.Hi | G.yt | G.eF | G.m0 | G.hF | G.Fp,la);};this.CP=function(ea,sa,la){sa={playdelay:(0,n.Yf)(ea),reason:la,intrplayseq:R.QD - 1,skipped:sa};"repos" === la && (sa.prstate=!0 === R.j.paused.value?"paused":"playing");R.SH(R.j,sa);R.Jc(B.ed.CP,!1,G.Ae | G.xt | G.Hi,sa);"rebuffer" !== la && "force_rebuffer" !== la || R.j.Ul.Isb(Number((0,n.Yf)(ea)));};this.AM=function(ea,sa,la,Ka){ea={moff:(0,n.Yo)(la),moffms:(0,n.Yf)(la),vbitrate:sa.bitrate,vbitrateold:ea.bitrate,vdlid:sa.Dc,vdlidold:ea.Dc,vheight:sa.height,vheightold:ea.height,vwidth:sa.width,vwidthold:ea.width,bw:Ka};R.SH(R.j,ea);R.MD(R.j,ea);R.Jc(B.ed.AM,!1,G.Hi,ea);};this.awa=function(ea,sa,la){ea={moff:(0,n.Yo)(la),moffms:(0,n.Yf)(la),vdlidold:ea.Dc,vbitrateold:ea.bitrate};R.SH(R.j,ea);R.MD(R.j,ea);R.vc.Gq(ea,sa,R.j.pf.value && R.j.pf.value.stream);R.Jc(B.ed.b9a,!1,G.Hi,ea);};this.Bua=function(){var ea,sa;ea={waittime:(0,n.Yf)(R.j.Uoa()),abortedevent:"startplay",trackid:R.j.Pj,prstate:R.aA(),paustate:R.j.paused.value};R.w6(ea,"endplay");R.hs.CV && (ea.eventlist_version=1,ea.eventlist=R.oI.o_a(R.j));R.j.Oo && R.j.Oo.initBitrate && (ea.initvbitrate=R.j.Oo.initBitrate);try{sa=(0,d.FH)();sa && (ea.pdltime=sa);(0,n.ac)(ea,R.j.Sc,{prefix:"sm_"});}catch(la){}R.iqa(ea,!0);R.vc.L7(ea,R.xa);R.vc.YN(ea,R.j.Ag.value);R.lqa(ea);R.vc.Gq(ea,R.j.Ye.value,R.j.th.value);R.d1a(R.j,ea);R.RH(R.j,ea);R.Jc(B.ed.E$,!1,G.Ae | G.Hi | G.eF | G.yt | G.Fp,ea);};this.Aua=function(ea,sa){ea={waittime:(0,n.Yf)(ea),abortedevent:"resumeplay",resumeplayreason:sa};R.j.Oo && R.j.Oo.initBitrate && (ea.initvbitrate=R.j.Oo.initBitrate);R.vc.Gq(ea,R.j.Ye.value,R.j.th.value);R.Jc(B.ed.E$,!1,G.Ae | G.Hi | G.Fp,ea);};this.Pxa=function(ea,sa){ea={newstate:sa?"Paused":"Playing",oldstate:ea?"Paused":"Playing"};R.SH(R.j,ea);R.MD(R.j,ea);R.vc.Gq(ea,R.j.re.value && R.j.re.value.stream,R.j.pf.value && R.j.pf.value.stream);R.Jc(B.ed.Pab,!1,G.Ae | G.Hi,ea);};this.Aqa=function(ea,sa,la){var Ka,Ua;ea=(0,n.ac)({vdlid:R.j.Ye.value.Dc,playingms:ea,pausedms:sa,intrplayseq:R.QD++,prstate:R.aA(),paustate:R.j.paused.value},la);R.w6(ea,"intrplay");sa=R.j.uc[f.Vb.Wa.Pb].value;la=R.j.uc[f.Vb.Wa.Xb].value;ea.cdnid=ea.vcdnid=sa && sa.id;ea.acdnid=la && la.id;ea.locid=R.bX && R.bX.Nra;ea.loclv=R.bX && R.bX.q3a;ea.avtp=R.IJ.uu().qya;ea.mediabuffered=null === (Ka=R.j.dg) || void 0 === Ka?void 0:Ka.C6();if(null === (Ua=R.j.Ja) || void 0 === Ua?0:Ua.uC)(R.iqa(ea,!0),R.J7(ea),R.$0a(ea));try{(0,n.ac)(ea,R.j.l7(),{prefix:"vd_"});}catch($a){}R.SH(R.j,ea);R.MD(R.j,ea);R.vc.Gq(ea,R.j.re.value && R.j.re.value.stream,R.j.pf.value && R.j.pf.value.stream);R.Jc(B.ed.Aqa,!1,G.Ae | G.Hi,ea);};this.uP=function(ea,sa,la){ea={moffold:(0,n.Yo)(ea),reposseq:R.dZ++,prstate:R.aA(),paustate:R.j.paused.value};R.MD(R.j,ea);R.vc.Gq(ea,la && la.stream,sa && sa.stream);R.Jc(B.ed.uP,!1,G.Ae | G.Hi,ea);};this.zja=function(){var ea,sa,la,Ka;sa=R.j.tc.value;la=R.j.th.value.Dc;sa=sa?{trackId:sa.trackId,bcp47:sa.Vf,downloadableId:la,rank:sa.dc,chan:sa.channels}:{};la=R.vA;Ka=null === (ea=R.lra) || void 0 === ea?void 0:ea.Dc;ea=la?{trackId:la.trackId,bcp47:la.Vf,downloadableId:Ka,rank:la.dc,chan:la.channels}:{};R.Jc(B.ed.iSa,!1,G.Ae | G.Hi,{switchdelay:(0,n.Yf)(R.getTime() - R.mra),track:sa,oldtrack:ea});};this.KZ=function(ea){R.Jc(B.ed.Dab,!1,G.Ae | G.Hi,{speedold:Math.floor(1E3 * ea.oldValue),speed:Math.floor(1E3 * ea.newValue)});};this.kQ=function(){R.Jc(B.ed.o2b,!1,G.Ae | G.Hi,{track:R.j.kc.value.Uh});};this.yB=function(ea){var sa,la;sa=R.j.kc.value;if(ea.newValue || sa && sa.Iq() && !sa.ip()){la=(ea=null !== (la=ea.newValue) && void 0 !== la?la:sa)?{trackId:ea.trackId,bcp47:ea.Vf,downloadableId:ea.Dc,rank:ea.dc,isImageBased:ea.wk}:{};ea=(ea=R.Ara)?{trackId:ea.trackId,bcp47:ea.Vf,downloadableId:ea.Dc,rank:ea.dc,isImageBased:ea.wk}:{};la={switchdelay:(0,n.Yf)(R.getTime() - R.zra),track:la,oldtrack:ea};R.vc.Gq(la,R.j.re.value && R.j.re.value.stream,R.j.pf.value && R.j.pf.value.stream);R.Jc(B.ed.Tbb,!1,G.Ae | G.Hi,la);}};this.gq=function(ea){R.Jc(B.ed.dvb,!1,G.Ae | G.Hi,ea.newValue);};this.twb=function(ea,sa){var la,Ka;la=sa.serverid;Ka={locid:sa.location,loclv:sa.locationlv,selocaid:la,selcdnid:la,selocaname:sa.servername};Ka.mediatype=sa.mediatype;Ka.selreason=sa.selreason || "unknown";Ka.seldetail=sa.seldetail;Ka.cdnbwdata=JSON.stringify([{id:la}]);ea && (Ka.oldlocid=ea.Nra,Ka.oldloclv=ea.q3a,Ka.oldocaid=ea.PZb,Ka.oldocaname=ea.oJ);R.Jc(B.ed.mTa,!1,G.m0,Ka);};this.WVa=function(){var ea,sa,la;if(R.j.vj)try{ea=!1;R.ldb || (ea=!0,R.YM=R.YM.filter(function(Ka){return !Ka.aa;}));if(0 < R.YM.length){sa=R.B5.construct(R.YM,R.j.ej.da(q.la));R.YM=[];sa.erroronly=ea;la={};(0,n.ve)(sa,function(Ka,Ua){la[Ka]=JSON.stringify(Ua);});R.Jc(B.ed.NCb,!1,G.Hi,la);}}catch(Ka){R.log.error("Exception in dlreport.",Ka);}};this.aA=function(){var ea;ea=R.j.Bb.value;return ea === y.hb.Lc?"playing":ea === y.hb.qh?"paused":ea === y.hb.xr?"ended":"waiting";};this.eE=function(){var ea,sa,la;if(R.j.state.value == y.Tb.te){la=R.uY();R.config().gwa && (la.avtp=R.IJ.uu().qya,(null === (ea=R.j.Ja) || void 0 === ea?0:ea.uC) && R.J7(la));la.mediabuffered=null === (sa=R.j.dg) || void 0 === sa?void 0:sa.C6();la.midplayseq=R.Rsa++;la.prstate=R.aA();la.paustate=R.j.paused.value;R.config().MZb && R.hbb("midplay");R.config().sx && R.oqa(la);R.mqa(la);R.nqa(la);R.vc.XN(la);R.Jc(B.ed.eE,!1,G.Ae | G.Hi | G.eF | G.yt,la);}};this.hbb=function(ea){var sa,la;sa={};sa.trigger=ea;try{la=R.j.Ooa();sa.subtitleqoescore=R.j.nr.SJb(la);sa.metrics=JSON.stringify(R.j.nr.kpa(la));}catch(Ka){R.log.error("error getting subtitle qoe data",Ka);}R.Jc(B.ed.u1b,!1,G.Ae | G.eF | G.xt,sa);};this.transition=function(ea){R.MD(R.j,ea);R.Jc(B.ed.transition,!1,0,ea);};this.nH=function(ea){var sa,la,Ka,Ua,$a,Za,cb;la=R.uY();R.w6(la,"endplay");la.prstate=R.aA();la.paustate=R.j.paused.value;la.muted=R.j.muted.value;R.j.AB && "downloaded" === R.j.AB.g7() && (la.trickplay_ms=R.j.t_.offset,la.trickplay_res=R.j.t_.s9a);R.config().tdb && (la.rtinfo=R.j.yJb());R.config().gwa && (null === (sa=R.j.Ja) || void 0 === sa?0:sa.uC) && R.J7(la);R.Y0a(la);la.endreason=ea?"error":R.j.Bb.value === y.hb.xr?"ended":"stopped";sa=R.Tq;R.WLb(sa);sa && (0,n.ac)(la,sa,{prefix:"pi_"});try{(0,n.ac)(la,R.j.Sc,{prefix:"sm_"});}catch(xa){}R.j.hqa && (la.inactivityTime=R.j.hqa);R.iqa(la,ea);R.$0a(la);if(R.j.u4){sa=R.j.u4;Ka=R.config().qM;Ua=R.j.loadTime;$a={iv:Ka,seg:[]};Za=function(xa,Ea,Na){return 0 === Ea || void 0 === Na[Ea - 1]?xa:xa - Na[Ea - 1];};cb=sa.kU.map(Za);Za=sa.H_.map(Za);for(var Va,Qa=0;Qa < cb.length;Qa++){if(cb[Qa] || Za[Qa])Va?(Va.ams.push(cb[Qa]),Va.vms.push(Za[Qa])):Va={ams:[sa.kU[Qa]],vms:[sa.H_[Qa]],soffms:sa.startTime + Qa * Ka - Ua};Qa !== cb.length - 1 && cb[Qa] && Za[Qa] || !Va || ($a.seg.push(Va),Va=void 0);}la.bt=JSON.stringify($a);}ea && R.lqa(la);R.hbb("endplay");R.config().sx && R.oqa(la);R.vc.YN(la,R.j.Ag.value);R.V0a(R.j,la);R.RH(R.j,la);R.SH(R.j,la);R.MD(R.j,la,R.Qia);R.mqa(la);R.nqa(la);R.vc.XN(la);R.a1a(la);R.YLb(la);R.U0a(la);R.$Lb(la);R.ZLb(la);R.cMb(la);R.b1a(la);R.dMb(la);R.Jc(B.ed.nH,ea,G.Ae | G.xt | G.Hi | G.eF | G.yt | G.hF | G.Fp,la);};this.UCb=function(ea){R.YM.push(R.B5.nyb(ea.response));};this.pma=function(ea){var sa,la,Ka,Ua,$a,Za;ea=ea.response;sa=ea.request;la=ea.request.NA;Ka=sa.track;if(Ka){Ua=!ea.aa && ea.ta != p.M.XB;$a=Ka.type;Za=ea.Km;if(Ua || R.xa.Sra){la={dltype:$a,url1:sa.url,url2:ea.url || "",cdnid:sa.uc && sa.uc.id,tresp:(0,n.Yf)(Za.Ci - Za.$q),brecv:(0,n.fYa)(Za.lla),trecv:(0,n.Yf)(Za.vp - Za.Ci),sbr:la && la.bitrate};ea.Ks && (la.range=ea.Ks);switch($a){case g.Ki.audio:la.adlid=sa.stream.Dc;break;case g.Ki.video:la.vdlid=sa.stream.Dc;break;case g.Ki.lba:la.ttdlid=Ka.Dc;}(sa=(0,E.Joa)(ea.ta)) && (la.nwerr=sa);ea.tk && (la.httperr=ea.tk);R.Jc(B.ed.pma,Ua,G.Hi,la);}}};this.oi=function(){R.Jc(B.ed.ESa,!1,G.Ae | G.eF | G.Fp,{});};this.Axb=function(ea){var sa,la;sa=ea.response.Km;ea=(0,q.Nc)(sa.Ci);la=(0,q.Nc)(sa.vp);sa=(0,t.ga)(sa.lla || 0);sa.s2a() || sa.Pqa() || (ea=new w.vfa(ea,la),R.IJ.Bsb(new v.FCa(ea,sa)));};this.u$=function(ea){var sa;sa=ea.newValue;ea.Am && ea.Am.sta && sa || sa == R.dI || (R.Pxa(R.dI,sa),R.dI=sa);};this.kz=function(ea){function sa(la){var Ka;if(R.j.$b && R.j.$b.sourceBuffers){Ka=R.j.$b.sourceBuffers.filter(function(Ua){return Ua.type === la;}).pop();if(Ka)return {busy:Ka.Ph(),updating:Ka.updating(),ranges:Ka.D6()};}}ea={cause:ea.cause};ea.cause && ea.cause === m.Xea && (ea.mediaTime=R.j.mediaTime.value,ea.buf_audio=sa(k.m1),ea.buf_video=sa(k.FK));R.Aqa(R.g_[y.hb.Lc] || 0,R.g_[y.hb.qh] || 0,ea);};this.ecb=function(ea){var sa;ea=ea.oldValue;sa=R.getTime();ea === y.hb.Uf?R.g_=[]:R.g_[ea]=(R.g_[ea] || 0) + (sa - R.tOb);R.tOb=sa;};this.rm=function(ea){R.mra=R.getTime();R.vA=ea.oldValue;};this.$l=function(ea){R.zra=R.getTime();R.Ara=ea.oldValue;};this.mU=function(ea){R.lra=ea.oldValue;};this.mX=function(ea){function sa(la,Ka){var Ua;if(!la || la.Nra !== Ka.location){Ua={Nra:Ka.location,q3a:Ka.locationlv,PZb:Ka.serverid,oJ:Ka.servername};R.twb(la,Ka);return Ua;}}if("audio" === ea.mediatype){if(ea=sa(R.pOb,ea))R.pOb=ea;}else if(ea=sa(R.bX,ea))R.bX=ea;};this.wZ=function(ea){var sa,la;sa=ea.mediatype;la=ea.reason;"video" === sa?"serverswitchaway" === la?(R.Nj.summary.Qdb++,R.Nj.E8=R.za.jf.da(q.la)):"serverswitchback" === la && (R.Nj.summary.Rdb++,R.Nj.E8 && (R.Nj.summary.Sdb.push(R.za.jf.da(q.la) - R.Nj.E8),R.Nj.E8=void 0)):"audio" === sa && ("serverswitchaway" === la?(R.Nj.summary.XRa++,R.Nj.y8=R.za.jf.da(q.la)):"serverswitchback" === la && (R.Nj.summary.YRa++,R.Nj.y8 && (R.Nj.summary.ZRa.push(R.za.jf.da(q.la) - R.Nj.y8),R.Nj.y8=void 0)));R.Jc(B.ed.RZb,!1,G.Ae | G.Hi,{mediatype:ea.mediatype,server:ea.server,selreason:ea.reason,location:ea.location,bitrate:ea.bitrate,confidence:ea.confidence,throughput:ea.throughput,oldserver:ea.oldserver});};this.jM=function(ea){R.Jc(B.ed.Ttb,!1,G.Hi,{strmsel:ea.strmsel});};this.fQ=function(ea){ea=(0,u.SP)(ea);ea.details && (ea.details=JSON.stringify(ea.details));R.Jc(B.ed.t1b,!0,G.Ae | G.xt | G.m0,ea);};this.Qia=ya.lza || ya.Hba || ya.dYa;this.IJ=K();this.log=(0,h.Qh)(C,"LogblobBuilder");this.dI=C.paused.value;this.ca=this.xa.ca;this.Nj={summary:{Qdb:0,Rdb:0,Sdb:[],XRa:0,YRa:0,ZRa:[]},E8:void 0,y8:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.XR=void 0;f=a(42);k=a(12);m=a(61);d=a(49);g=a(91);h=a(8);l=a(22);n=a(24);q=a(5);p=a(3);u=a(30);t=a(52);w=a(484);v=a(1120);x=a(11);y=a(15);z=a(18);A=a(1121);B=a(278);E=a(162);D=a(134);F=a(105);c.prototype.d1a=function(C,H){var K,M,I,Q,L,J,N,O,P,S,U,Z,ja,ya,ra,Y,pa;if(this.config().sx)try{K={};M=this.Gd.getStats(void 0,void 0,C.K);I=C.wH();Q=M.HJ.Kxb || [];K.attempts=M.N$ || 0;K.num_completed_tasks=Q.length;L=this.se.mFb;J={};N=D.Sk.gQ;O=D.Sk.iu;P=D.Sk.rka;M.Ol && (J.scheduled=M.Ol - I);S=C.oa;S && (0,z.Ea)(S.aJ) && (J.preauthsent=S.aJ - C.loadTime,J.preauthreceived=S.xP - C.loadTime);U=Q.filter(function(T){return "manifest" === T.type;});K.mf_succ=U.filter(L("status",N)).length;K.mf_fail=U.filter(L("status",O)).length;Z=C.Sc;(0,z.Zc)(Z.lg) && 0 > Z.lg && C.loadTime && (J.ldlsent=Z.lc,J.ldlreceived=Z.lr);ja=Q.filter(function(T){return "ldl" === T.type;});K.ldl_succ=ja.filter(L("status",N)).length;K.ldl_fail=ja.filter(L("status",O)).length;M=!0;I=[];"notcached" === C.MG && (M=!1,I.push("Missing cached manifest"));this.config().BV || (M=!1,I.push("LDL prefetch disabled"));ya=ja.filter(L("status",P)).length;this.config().BV && 0 === ya && (!J.ldlreceived || 0 <= J.ldlreceived) && (M=!1,I.push("LDL received after start"));if(this.config().MWa)if(H.isPrefetchItem){ra=H.prefetchedAudioMs / H.bcABufferLevelMs;if(1 > H.prefetchedVideoMs / H.bcVBufferLevelMs || 1 > ra)(M=!1,I.push("Insufficient media fetched"));}else (M=!1,I.push("aseStats not initialized"));Y=Q.filter(function(T){return "getHeaders" === T.type;});K.header_succ=Y.filter(L("status",N)).length;K.header_fail=Y.filter(L("status",O)).length;pa=Q.filter(function(T){return "getMedia" === T.type;});K.media_succ=pa.filter(L("status",N)).length;K.media_fail=pa.filter(L("status",O)).length;K.hm_succ=K.header_succ + K.media_succ;K.hm_fail=K.header_fail + K.media_fail;(0,n.ac)(H,K,{prefix:"pr_"});this.hs.CV && (H.eventlist_version=1,H.eventlist=this.oI.o_a(C));(H.prefetchCompleted=M) || (H.prefetchFailed=I,(0,n.ac)(H,J,{prefix:"pe_"}));this.oqa(H);}catch(T){this.log.warn("error in collecting video prepare data",T);}};c.prototype.EJb=function(C,H){if(C=C.aW())if(H=C[H])return H.Aa;};c.prototype.V0a=function(C,H){C.cb.bj && (H.isBranching=!0);};c.prototype.RH=function(C,H){var K,M;M=(null === (K=C.oa) || void 0 === K?void 0:K.W1a) || "videopreparer" === C.LG;H.cachedManifest=C.MG;H.cachedLicense=C.LG;H.usedldl=this.config().BV?M.toString():"not_capable";};c.prototype.SH=function(C,H){var K,M;if(this.config().bMb){K=C.Poa();M=C.ja.oa;K && M && (H.segment=K,M=C.zD(),H.segmenttime=M,C=this.EJb(C,K),null !== M && void 0 !== C && (H.segmentoffset=M - C));}};c.prototype.MD=function(C,H,K){H.pxid=C.I$;(void 0 === K?0:K) && (H.playgraph_trace=C.E7a);};c.prototype.XLb=function(C,H){var K,M,I;if(null === (K=C.oa) || void 0 === K?0:K.Nb.Fw){H.hasContentPlaygraph=!0;M=C.Az;I=C.oa.Nb.Fw.ma;H.auxViewables=Object.keys(I.V).map(function(Q){return I.V[Q].S;}).filter(function(Q,L,J){return Q !== M && J.indexOf(Q) === L;});}};c.prototype.$0a=function(C){var H,K;H=this.j.rcc;K=H && H.rec;H && H.BLb && (C.htwbr=H.BLb,C.pbtwbr=H.oua,C.hptwbr=H.tcc);H && H.XYb && (C.rr=H.XYb,C.ra=H.mec);H && K && 0 < (K.length || 0) && (C.qe=JSON.stringify(K));};c.prototype.lqa=function(C){var H,K,M;try{H=this.se.createElement("canvas");K=H.getContext("webgl") || H.getContext("experimental-webgl");if(K){M=K.getExtension("WEBGL_debug_renderer_info");M && (C.WebGLRenderer=K.getParameter(M.UNMASKED_RENDERER_WEBGL),C.WebGLVendor=K.getParameter(M.UNMASKED_VENDOR_WEBGL));}}catch(I){}};c.prototype.cMb=function(C){C.switchAwaySummary={vsa:this.Nj.summary.Qdb,vsb:this.Nj.summary.Rdb,vsbt:this.Nj.summary.Sdb,asa:this.Nj.summary.XRa,asb:this.Nj.summary.YRa,asbt:this.Nj.summary.ZRa};};c.prototype.mob=function(C){var H;H=[];return C?Object.keys(C).map(function(K){return +K;}):H;};c.prototype.dDb=function(){var C,H;C=this;if(this.j.Dp && this.j.Ri){H=[];this.j.Dp.concat(this.j.Ri).forEach(function(K){K.streams.forEach(function(M){H.push({dlid:M.Dc,type:M.type,bitrate:M.bitrate,vmaf:M.xb,cdn_ids:C.mob(M.Jw)});});});return JSON.stringify(H);}};c.prototype.swb=function(){var H,K,M;function C(I,Q){var L,J,N;L=I.cdnId + "$" + I.correlationId;J=M[L];J || (J={cdnid:I.cdnId,pbcid:I.correlationId,dls:[]},M[L]=J,K.push(J));(0,l.PM)(I.bitrate);(0,l.PM)(I.duration);L={bitrate:I.bitrate,tm:(0,x.Vj)(I.duration)};N=I.vmaf;N && ((0,l.PM)(I.vmaf),L.vf=N);L[Q]=(0,n.Ie)(I.downloadableId);J.dls.push(L);}H=this.j.Ul.NGb();K=[];M={};H.audio.forEach(function(I){C(I,"adlid");});H.video.forEach(function(I){C(I,"dlid");});return JSON.stringify(K);};c.prototype.uY=function(){var C,H,K,M,I,Q,L,J,N,O,P,S,U;C=this.j.Ul;H={totaltime:(0,n.Yo)(C.NN()),totalcontenttime:(0,n.Yo)(C.rpa()),cdndldist:this.swb(),reposcount:this.dZ,intrplaycount:this.QD};try{K={numskip:0,numlowqual:0};M=this.j.dg;I=M.vD();(0,z.Ea)(I) && (H.totfr=I,K.numren=I);I=M.yH();(0,z.Ea)(I) && (H.totdfr=I,K.numrendrop=I);I=M.cW();(0,z.Ea)(I) && (H.totcfr=I,K.numrenerr=I);H.playqualvideo=JSON.stringify(K);Q=this.j.Ye.value;Q && (H.videofr=Q.framerate.toFixed(3));L=C.$na();L && (H.abrdel=L);J=C.r0a() && C.DYa();J && (H.tw_vmaf=J);N=C.BYa();N && (0,n.ac)(H,N);H.rbfrs=this.QD;H.maxbitrate=this.maxBitrate;H.maxresheight=this.r4a;O=this.j.HH();for(C=0;C < O.length;C++){P=O[C];S=this.xa.zO.sv(P);if(S){(0,l.jb)(U);H.maxbitrate=U?U.bitrate:0;H.maxresheight=U?U.height:0;H.bitratefilters=S.join("|");break;}U=P;}this.j.AB && (H.trickplay=this.j.AB.g7());null !== this.j.nr.uSa && (H.avg_subt_delay=this.j.nr.uSa);}catch(Z){this.log.error("Exception reading some of the endplay fields",Z);}(0,n.ac)(H,this.j.l7(),{prefix:"vd_"});return H;};c.prototype.getTime=function(){return this.Da.Zb().da(q.la);};c.prototype.cpa=function(){return this.getTime() - this.xa.ej.da(q.la);};c.prototype.oqa=function(C){var H;try{H=this.Gd.getStats();C.pr_cache_size=JSON.stringify(H.cache);C.pr_stats=JSON.stringify(H.tGb);}catch(K){}};c.prototype.mqa=function(C){this.log.debug("httpstats",this.mf.ic);(0,n.ac)(C,this.mf.ic,{prefix:"http_"});};c.prototype.iqa=function(C,H){var K,M,I;K=this.config().qVa && !(this.ca % this.config().qVa);M=this.j.Ja;I=null === M || void 0 === M?void 0:M.ji;K && I && (C.ASEstats=JSON.stringify(M.W7(H)));};c.prototype.J7=function(C){Object.assign(C,this.j.Ja.Rb.YJb());};c.prototype.nqa=function(C){var H;try{H=x.Ov.memory;(0,z.q2a)(H) && (C.totalJSHeapSize=H.totalJSHeapSize,C.usedJSHeapSize=H.usedJSHeapSize,C.jsHeapSizeLimit=H.jsHeapSizeLimit);}catch(K){}};c.prototype.a1a=function(C){var H;H=this.j.tf;this.config().nwb && H && !this.config().Cp && (H=this.j.dSb(H.$bc()),C.keystatuses=H,this.log.trace("keystatuses",H));};c.prototype.U0a=function(C){var H;try{if(this.config().HU){H=this.j.XGb();C.battery=H;this.log.trace("batterystatuses",H);}}catch(K){}};c.prototype.YLb=function(C){this.j.j5 && (C.dqec=this.j.j5);};c.prototype.WLb=function(C){this.j.E4 && (0,n.ac)(C,{cast_interaction_counts:this.j.E4.hcc()});};c.prototype.b1a=function(C){var H,K,M;(null === (H=this.j.tf) || void 0 === H?0:H.ru)?C.keysys=this.j.tf.ru():(null === (M=null === (K=this.j.tf) || void 0 === K?void 0:K.mediaKeys) || void 0 === M?0:M.keySystem)?C.keysys=this.j.tf.mediaKeys.keySystem:this.dE.H2a && (C.keysys=this.dE.H2a);};c.prototype.ZLb=function(C){this.Zma && (C.externaldisplay=this.Zma.HV);};c.prototype.$Lb=function(C){var H,K;if(this.qza){H=this.qza.map(function(M){return M.Rc;}).filter(function(M){return void 0 !== M;});K=(0,A.ssa)(H,function(M){return M.height;});K && (C.media_capabilities_smooth=K.smooth,C.media_capabilities_efficient=K.powerEfficient,C.media_capabilities_bitrate=K.bitrate,C.media_capabilities_height=K.height,C.media_capabilities_width=K.width);C.media_capabilities=H.map(function(M){return {smooth:M.smooth,efficient:M.powerEfficient,bitrate:M.bitrate,height:M.height,width:M.width};});}};c.prototype.Y0a=function(C){var H,K;if(this.j.GM){H=this.j.GM;H.U4 && (C.controllerESN=H.U4);H.kyb && (C.controllerUiVer=H.kyb);if(H.jyb)try{K=JSON.parse(H.jyb);C.controllerGroupNames=K;}catch(M){this.log.error("Exception parsing controller group names",M);}}};c.prototype.dMb=function(C){C.didHydrateTracks=this.j.w5;};c.prototype.iOb=function(){void 0 === this.Zma && (this.Zma=this.$ma.eFb());};c.prototype.jOb=function(C){var H;H=this;void 0 === this.qza && void 0 !== C && (this.qza=C.map(function(K){return H.Fsa.ena(K);}));};c.prototype.w6=function(C,H){(H=this.j.$z(H)) && Object.entries(H).forEach(function(K){var M;M=ba(K);K=M.next().value;M=M.next().value;C[K]=M;});};c.prototype.Jc=function(C,H,K,M){var I;I=H?"error":"info";H && this.j.Nh && (0,p.nda)(this.j.Nh.errorCode,this.cpa()) && (I="info");this.Hia(M,this.j,H,K);C=this.zA.$t(C,I,M,this.xa);this.bg.Jc(C);};c.prototype.Hia=function(C,H,K,M){var I,Q,L,J,N;"undefined" !== typeof nrdp && nrdp.device && nrdp.device.deviceModel && (C.devmod=nrdp.device.deviceModel);this.vc.VLb(C,H);this.vc.W0a(C,H);M & G.Ae && ((0,l.jb)(!C || void 0 === C.moff),this.vc.c1a(C,H));M & G.xt && this.vc.e1a(C,H);M & G.Hi && (null === (I=H.Ja) || void 0 === I?0:I.ji) && (C.abuflbytes=null !== (Q=C.abuflbytes) && void 0 !== Q?Q:H.tja(),C.abuflmsec=null !== (L=C.abuflmsec) && void 0 !== L?L:H.iU(),C.vbuflbytes=null !== (J=C.vbuflbytes) && void 0 !== J?J:H.pza(),C.vbuflmsec=null !== (N=C.vbuflmsec) && void 0 !== N?N:H.E_());M & G.yt && this.vc.f1a(C,H.Qg);M & G.eF && (I=x.Oe.hardwareConcurrency,0 <= I && (C.numcores=I),I=this.xa.yma) && (Q=I.SGb(),C.droppedFrames=JSON.stringify(Q),I=I.qW(this.config().oDb),(0,n.ve)(I,function(O,P){C["droppedFramesP" + O]=JSON.stringify(P);}));if(M & G.m0)try{H.vj && (C.cdninfo=JSON.stringify(H.vj.map(function(O){return {id:O.id,nm:O.name,rk:O.dc,wt:O.location.weight,lv:O.location.level};})));}catch(O){}K && M & G.hF && ((0,l.jb)(H.Nh),this.vc.Z0a(C,H,H.Nh));M & G.Fp && this.vc.kqa(C);};Ya.Object.defineProperties(c.prototype,{ldb:{configurable:!0,enumerable:!0,get:function(){return this.j.Oz || this.j.bN;}}});b.XR=c;(function(C){C[C.Ae=1]="MOFF";C[C.xt=2]="PRESENTEDSTREAMS";C[C.Hi=4]="BUFFER";C[C.yt=8]="SCREEN";C[C.eF=16]="CPU";C[C.m0=32]="CDN";C[C.hF=64]="FATALERROR";C[C.Fp=128]="BROWSERINFO";})(G || (G={}));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HCa="DownloadReportBuilderSymbol";},function(r,b,a){var f,k,m,d,g,h,l,n,q;function c(p){this.config=p;}Object.defineProperty(b,"__esModule",{value:!0});b.GCa=void 0;r=a(1);f=a(162);k=a(91);m=a(24);d=a(3);g=a(22);h=a(11);l=a(18);n=a(0);a=a(13);c.prototype.construct=function(p,u){var t,w,v;t=this;w={};p.forEach(function(x){var y;y=x.url;w[y] || (w[y]=[]);w[y].push(x);});v=[];(0,m.ve)(w,function(x,y){v.push(t.fKb(y,u));});return {urls:v};};c.prototype.fKb=function(p,u){var t,w,v,x;t=this;w=p[0];v={url:w.url,bitrate:w.bitrate,cdnid:(0,l.Rh)(w.uc)?w.uc.id:w.uc,dltype:w.PCb,id:w.Dc};x={};p.forEach(function(y){var z;z=t.cNb(y)?"fail":"success";x[z] || (x[z]=[]);x[z].push(y);});(0,m.ve)(x,function(y,z){"fail" === y?v.failures=t.PHb(z,u):"success" === y && (v.downloads=t.GHb(z,u));});return v;};c.prototype.GHb=function(p,u){var t,w,v;t=this;w={};p.forEach(function(x){var y;y=x.rxb;w[y] || (w[y]=[]);w[y].push(x);});v=[];(0,m.ve)(w,function(x,y){var z;z=[];y.forEach(function(A){z.push(A);t.NMb(A) && (v.push(t.fZa(z,u,x)),z=[]);});0 < z.length && v.push(t.fZa(z,u,x));});return v;};c.prototype.fZa=function(p,u,t){var w,v,x,y,A;w=p.sort(function(B,E){return B.Km.Ci < E.Km.Ci?-1:B.Km.Ci > E.Km.Ci?1:0;});v=w[0].Km;x=v.$q;y=v.Ci;v=v.vp;for(var z=1;z < p.length;z++){A=p[z].Km;A.$q < x && (x=A.$q);A.Ci < y && (y=A.Ci);A.vp > v && (v=A.vp);}z=this.qJb(w);A=w[w.length - 1];return {time:x - u,tcpid:t?parseInt(t):-1,tresp:y - x,first:z,ranges:this.rJb(w,z),dur:v - y,trace:this.BD(p),status:this.g7(A)};};c.prototype.qJb=function(p){var u;u=0;p.forEach(function(t){t.Ks && (u=(0,h.Ip)(u,t.Ks[0]));});return u;};c.prototype.rJb=function(p,u){var t;t=[];p.forEach(function(w){w.Ks?t.push([w.Ks[0] - u,w.Ks[1] - u]):t.push([0,-1]);});return t;};c.prototype.BD=function(p){var u,t;u=[];p.forEach(function(w){var v;w=w.Km;if(t){v=w.$q - t.vp;0 < v && u.push([v,-2]);v=(0,h.wo)(t.vp,w.$q);v=w.Ci - v;0 < v && u.push([v,-3]);}u.push([w.vp - w.Ci,w.lla || 0]);t=w;});return u;};c.prototype.NMb=function(p){if(p.ta === d.M.XB || p.ta === d.M.mF)return !0;};c.prototype.g7=function(p){if(p.aa)return "complete";if(p.ta === d.M.XB)return "abort";if(p.ta === d.M.mF)return "stall";(0,g.jb)(!1,"download status should never be: other");return "other";};c.prototype.PHb=function(p,u){var t,w;t=this;w=[];p.forEach(function(v){var x;x=v.Km;v={time:x.Ci - u,tresp:x.Ci - x.$q,dur:x.vp - x.Ci,range:v.Ks,reason:t.tJb(v),httpcode:v.tk,nwerr:(0,f.Joa)(v.ta)};w.push(v);});return w;};c.prototype.tJb=function(p){return p.tk || p.ta === d.M.MR?"http":p.ta === d.M.OR?"timeout":"network";};c.prototype.cNb=function(p){return p.aa || void 0 === p.aa || p.ta === d.M.XB || p.ta === d.M.mF?!1:!0;};c.prototype.nyb=function(p){var u,t,w,v,x,y;u=p.request;t=u.stream;w=u.track;v=u.url;x=this.DHb(w,v);switch(x){case k.Ki.audio:case k.Ki.video:y=u.stream.Dc;break;case k.Ki.lba:case k.Ki.Eya:y=w.Dc;}p={bitrate:t && t.bitrate,PCb:x,Dc:y,Km:p.Km,uc:u.uc,url:v,uf:p.uf,tk:p.tk,ta:p.ta,aa:p.aa,rxb:this.SEb(p)};void 0 !== u.offset && void 0 != u.length && (p.Ks=[u.offset,u.offset + u.length - 1]);return p;};c.prototype.DHb=function(p,u){if(p)return p.type;if(0 <= u.indexOf("netflix.com")){if(0 <= u.indexOf("nccp"))return "nccp";if(0 <= u.indexOf("api"))return "api";}return "other";};c.prototype.SEb=function(p){if(p.headers && (p=p.headers["X-TCP-Info"] || p.headers["x-tcp-info"]))return (p=p.split(";").filter(function(u){return 0 == u.indexOf("port=");}).map(function(u){return u.split("=")[1];})[0])?(0,m.Ie)(p):p;};q=c;q=r.__decorate([(0,n.T)(),r.__param(0,(0,n.l)(a.ad))],q);b.GCa=q;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZR="LogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CNa="XhrFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.THa="NetworkMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VDa="FtlDataParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NEa="HttpRequesterSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FIa="PboAcquireLicenseCommandSymbol";},function(r,b,a){var d,g,h,l,n,q;function c(p){var u;p=new h.jR(p);if(1481462272 != p.Yq())throw Error("Invalid header");u={XMR:{Version:p.Yq(),RightsID:p.yx(16)}};f(p,u.XMR,p.buffer.length);return u;}function f(p,u,t){var w,v,x,y,z;for(;p.position < t;){w=p.Ah();v=p.Yq();v-=8;switch(w){case 1:x="OuterContainer";break;case 2:x="GlobalPolicy";break;case 3:x="MinimumEnvironment";break;case 4:x="PlaybackPolicy";break;case 5:x="OutputProtection";break;case 6:x="UplinkKID";break;case 7:x="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:x="AnalogVideoOutputConfiguration";break;case 9:x="KeyMaterial";break;case 10:x="ContentKey";break;case 11:x="Signature";break;case 12:x="DeviceIdentification";break;case 13:x="Settings";break;case 18:x="ExpirationRestriction";break;case 42:x="ECCKey";break;case 48:x="ExpirationAfterFirstPlayRestriction";break;case 50:x="PlayReadyRevocationInformationVersion";break;case 51:x="EmbeddedLicenseSettings";break;case 52:x="SecurityLevel";break;case 54:x="PlayEnabler";break;case 57:x="PlayEnablerType";break;case 85:x="RealTimeExpirationRestriction";break;default:x="Other";}y={Type:k(w)};z=u[x];z?(0,q.isArray)(z)?z.push(y):(u[x]=[],u[x].push(z),u[x].push(y)):u[x]=y;switch(w){case 1:case 2:case 4:case 7:case 9:case 54:f(p,y,p.position + v);break;case 5:y.Reserved1=p.Ah();y.MinimumUncompressedDigitalVideoOutputProtectionLevel=p.Ah();y.MinimumAnalogVideoOutputProtectionLevel=p.Ah();y.Reserved2=p.Ah();y.MinimumUncompressedDigitalAudioOutputProtectionLevel=p.Ah();break;case 10:y.Reserved=p.yx(16);y.SymmetricCipherType=p.Ah();y.AsymmetricCipherType=p.Ah();v=p.Ah();y.EncryptedKeyLength=v;w=p.yx(v);y.EncryptedKeyData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 11:y.SignatureType=p.yx(2);v=p.Ah();w=p.yx(v);y.SignatureData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 13:y.Reserved=p.Ah();break;case 18:y.BeginDate=p.Yq();y.EndDate=p.Yq();break;case 42:y.CurveType=p.yx(2);v=p.Ah();w=p.yx(v);y.Key=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 48:y.ExpireAfterFirstPlay=p.Yq();break;case 50:y.Sequence=p.Yq();break;case 51:y.LicenseProcessingIndicator=p.Ah();break;case 52:y.MinimumSecurityLevel=p.Ah();break;case 57:y.PlayEnablerType=m(p.yx(16));break;case 85:break;default:y.OtherData=p.yx(v);}}}function k(p){return "0x" + p.toString(16);}function m(p){return p.substring(6,8) + p.substring(4,6) + p.substring(2,4) + p.substring(0,2) + "-" + p.substring(10,12) + p.substring(8,10) + "-" + p.substring(14,16) + p.substring(12,14) + "-" + p.substring(16,20) + "-" + p.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.ABb=b.BBb=b.zBb=b.yBb=b.xBb=void 0;d=a(12);g=a(8);h=a(168);l=a(160);n=a(286);q=a(18);b.xBb=function(p,u,t){switch(u){case d.L0:p && (p=(0,g.wSa)(p),(0,n.Hza)(p,function(w){w.aa && (w=w.object) && (w=(0,l.cZa)(w,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (w=(0,l.V6a)(w)) && (w=(0,g.Wr)(w)) && (w=c(w)) && t(w);}));}};b.yBb=c;b.zBb=f;b.BBb=k;b.ABb=m;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tJa="PboReleaseLicenseCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VIa="PboLicenseRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LIa="PboCachedPlaydataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YJa="PlaydataConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mea={$W:"keepAlive",splice:"splice"};b.RIa="PboEventSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mJa="PboPlaydataPlaybackMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UCa="DxDisplaySymbol";},function(r,b,a){var f,k,m,d,g;function c(h,l,n){this.de=h;this.is=l;this.prefix=n;this.EY=this.isVisible=!1;this.qb=new d.QMa(l);}Object.defineProperty(b,"__esModule",{value:!0});b.BS=b.hK=b.pBa=b.oBa=b.nBa=void 0;r=a(1);f=a(0);k=a(29);m=a(27);d=a(1151);g=a(11);b.nBa="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";b.oBa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.pBa="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.hK="";c.prototype.show=function(){this.isVisible || (this.$xb(),this.HM && g.Be.body.appendChild(this.HM),this.Qg && g.Be.body.appendChild(this.Qg),this.xU && g.Be.body.appendChild(this.xU),this.CJ && g.Be.getElementsByTagName("head")[0].appendChild(this.CJ),this.isVisible=!0,this.refresh());};c.prototype.ps=function(){this.isVisible && (this.Qg && g.Be.body.removeChild(this.Qg),this.xU && g.Be.body.removeChild(this.xU),this.HM && g.Be.body.removeChild(this.HM),this.CJ && g.Be.getElementsByTagName("head")[0].removeChild(this.CJ),this.CJ=this.a_=this.HM=this.xU=this.Qg=void 0,this.isVisible=!1);};c.prototype.toggle=function(){this.isVisible?this.ps():this.show();};c.prototype.A2b=function(){(this.EY=!this.EY) || this.refresh();};c.prototype.dHb=function(h){return "table." + h + '-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}table.' + (h + "-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}table.") + (h + "-display-table tr:nth-child(2n+3) {background-color: #fff;}table.") + (h + "-display-table tr:nth-child(0n+1) {background-color: lightgray;}table.") + (h + "-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}table.") + (h + "-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}span.") + (h + "-display-indexheader {margin-left:5px;}span.") + (h + "-display-indexvalue {margin-left:5px;}span.") + (h + "-display-keyheader {margin-left:5px;}span.") + (h + "-display-keyvalue {margin-left:5px;}span.") + (h + "-display-valueheader {margin-left:5px;}ul.") + (h + "-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}ul.") + (h + "-display-tree li {list-style-type: none; position: relative;}ul.") + (h + "-display-tree li ul {display: none;}ul.") + (h + "-display-tree li.open > ul {display: block;}ul.") + (h + "-display-tree li a {color: black;text-decoration: none;}ul.") + (h + "-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}ul.") + (h + "-display-tree li > a:not(:last-child):before {content: '+';}ul.") + (h + "-display-tree li.open > a:not(:last-child):before {content: '-';}div.") + (h + "-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}button.") + (h + "-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}select.") + (h + "-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}ul.") + (h + "-display-item-inline {margin:0;padding:0}.") + (h + "-display-btn:hover, ." + h + "-display-btn:focus, ." + h + "-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }button.") + (h + "-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}.") + (h + "-display-btn-inline:hover, ." + h + "-display-btn-inline:focus, ." + h + "-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};c.prototype.$xb=function(){var h;h=this;this.CJ=g.Be.createElement("style");this.CJ.type="text/css";this.CJ.innerHTML=this.dHb(this.prefix);this.xU=this.de.createElement("div",b.nBa,void 0,{"class":this.prefix + "-display-blur"});this.Qg=this.de.createElement("div",b.oBa,void 0,{"class":this.prefix + "-display"});this.HM=this.de.createElement("div",b.pBa,void 0,{"class":this.prefix + "-display"});this.XYa().forEach(function(l){return h.HM.appendChild(l);});};c.prototype.byb=function(h){h=this.de.createElement("div","",h,{"class":this.prefix + "-display-tree1"});for(var l=h.querySelectorAll("ul." + this.prefix + "-display-tree a:not(:last-child)"),n=0;n < l.length;n++){l[n].addEventListener("click",function(q){var p,u;if(q=q.target.parentElement){p=q.classList;if(p.contains("open")){p.remove("open");try{u=q.querySelectorAll(":scope .open");for(q=0;q < u.length;q++){u[q].classList.remove("open");}}catch(t){}}else p.add("open");}});}return h;};c.prototype.refresh=function(){var h;h=this;return !this.isVisible || this.EY?Promise.resolve():this.Q8a().then(function(l){if(l && (l=h.byb(l),h.Qg)){h.a_ && (h.Qg.removeChild(h.a_),h.a_=void 0);h.a_=l;h.Qg.appendChild(h.a_);l=h.Qg.querySelectorAll("button." + h.prefix + "-display-btn-inline");for(var n=0;n < l.length;++n){l[n].addEventListener("click",h.O9a);}(l=h.Qg.querySelector("#" + h.prefix + "-display-close-btn")) && l.addEventListener("click",function(){h.toggle();});}});};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.jg)),r.__param(1,(0,f.l)(m.ig)),r.__param(2,(0,f.bn)())],a);b.BS=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XCa="DxManagerSymbol";b.WCa="DxManagerProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jGa="LogDisplayConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yNa="WindowUtilsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FJa="PlayPredictionDeserializerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HKa="PreparerManifestFetcherSymbol";b.GKa="PreparerLicenseFetcherSymbol";b.FKa="PreparerLegacyLicenseFetcherSymbol";},function(r,b,a){var f,k,m,d;function c(g){this.Qm=g;}Object.defineProperty(b,"__esModule",{value:!0});b.jfa=b.uKa=void 0;r=a(1);f=a(14);k=a(0);m=a(122);d=a(57);c.prototype.V3a=function(g){var h,l;h=this;if(g.Rd.key.ma)return Promise.resolve(g.Rd.key.ma);l=g.Rd.key.S;return g.Rd.lj.Fm(l).qr.then(function(n){n=n.oa;return n.Fn?(0,d.rz)(n.Fn,{config:f.config}):(0,d.HE)(l,h.Qm.js(l));});};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(m.OK))],a);b.uKa=a;b.jfa="PlaygraphResolverSymbol";},function(r,b){function a(c){this.Dja=void 0 === c?function(){}:c;this.XE=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.Zfa=void 0;a.prototype.store=function(c,f){c=this.generateKey(c);this.XE.has(c) && this.I5a(this.XE.get(c),!0);this.XE.set(c,f);};a.prototype.Fm=function(c,f){var k,m;m=null === (k=null === f || void 0 === f?void 0:f.l4) || void 0 === k?void 0:k.Si;k={S:c,Si:m};m && !this.has(k) && this.Dja(c,f);return this.get(k);};a.prototype.has=function(c){c=this.generateKey(c);return this.XE.has(c) && !this.XE.get(c).hu;};a.prototype.clear=function(){var c;c=this;this.XE.forEach(function(f){c.I5a(f,!1);});this.XE.clear();};a.prototype.get=function(c){return this.XE.get(this.generateKey(c));};a.prototype.generateKey=function(c){var f;f=c.Si;return c.S.toString() + (f?":" + f:"");};a.prototype.I5a=function(c,f){var k;null === (k=c.events) || void 0 === k?void 0:k.emit("viewableEvicted",{type:"viewableEvicted"});c.lbb=f;};b.Zfa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mHa="MediaHttpSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iIa="OpenConnectSideChannelSymbol";b.tHa="MediaRequestDownloaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rHa="MediaRequestConstructorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PIa="PboDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OMa="TransportFactorySymbol";b.LHa="MslTransportSymbol";b.WLa="SslTransportSymbol";},function(r,b,a){var h,l;function c(n){return !(!n || !n.oE && !n.pboc || !n.code && !n.code);}function f(n){return !(!n || !n.Ec);}function k(n){return ! !(n instanceof Error);}function m(n){switch(n){case "ACCOUNT_ON_HOLD":return l.M.ykb;case "STREAM_QUOTA_EXCEEDED":return l.M.Ckb;case "INSUFFICICENT_MATURITY":return l.M.Hkb;case "TITLE_OUT_OF_WINDOW":return l.M.Okb;case "CHOICE_MAP_ERROR":return l.M.Bkb;case "BadRequest":return l.M.Jkb;case "Invalid_SemVer_Format":return l.M.Ikb;case "RESTRICTED_TO_TESTERS":return l.M.Mkb;case "AGE_VERIFICATION_REQUIRED":return l.M.zkb;case "BLACKLISTED_IP":return l.M.Akb;case "DEVICE_EOL_WARNING":return l.M.Cea;case "DEVICE_EOL_FINAL":return l.M.kIa;case "INCORRECT_PIN":return l.M.oIa;case "MOBILE_ONLY":return l.M.Lkb;case "MDX_CONTROLLER_CTICKET_INVALID":return l.M.Kkb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return l.M.Pkb;case "RESET_DEVICE":return l.M.nIa;case "RELOAD_DEVICE":return l.M.mIa;case "EXIT_DEVICE":return l.M.lIa;case "FREE_PREVIEW_ENDED":return l.M.Gkb;case "STREAMING_LOCATION_DISALLOWED":return l.M.Nkb;case "EXTRA_MEMBER_STREAM_HOLD":return l.M.Fkb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return l.M.Ekb;default:return l.M.aEa;}}function d(n,q){var p;p=q.bladeRunnerCode?Number(q.bladeRunnerCode):void 0;return new h.od(n,m(q.code),"BadRequest" === q.code?l.g1.ffb:void 0,q.code,void 0,q.display,void 0,q.detail,q.display,p,q.alert,q.alertTag);}function g(n,q){return new h.od(n,q.Ec,q.Nd,void 0,q.PA,q.message,q.details,q.data);}Object.defineProperty(b,"__esModule",{value:!0});b.WSa=b.XSa=b.kGb=b.oGb=b.Pn=b.nGb=b.aNb=b.WMb=b.b2a=void 0;h=a(40);l=a(3);b.b2a=c;b.WMb=f;b.aNb=k;b.nGb=m;b.Pn=function(n,q){return f(q)?g(n,q):c(q)?d(n,q):k(q)?h.od.Nna(n,q):new h.od(n,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,q);};b.oGb=d;b.kGb=g;b.XSa=function(n,q,p,u,t){var w,v,x,y;w=q.r$a[p];if(void 0 === w)throw {oE:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no configuration information",detail:q};v=w.version;if(void 0 === v)throw {oE:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no version information",detail:q};x=w.service;if(void 0 === x)throw {oE:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no service information",detail:q};y=w.orgOverride;if(void 0 === y && (y=q.organization,void 0 === y))throw {oE:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no organization information",detail:q};return w.isPlayApiDirect?n.dJb(u) + "/" + y + "/" + x + "/" + v:n.TIb(u) + "/" + y + "/" + x + "/" + v + "/" + (void 0 === t?"router":t);};b.WSa=function(n,q){var p;p={"Content-Type":"text/plain"};q=q();n.kRa && q && (p["X-Esn"]=q.il);return p;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vJa="PboRequestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VMa="TrickPlayManagerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Op=void 0;r=b.Op || (b.Op={});r[r.v1=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.qF=2]="LOADED";r[r.TR=3]="LOAD_FAILED";r[r.jIa=4]="PARSE_FAILED";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CAa="BandwidthMeterFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QJa="PlaybackInfoPanelFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fLa="RepositionTraceSymbol";b.dLa="RepositionTraceFactorySymbol";},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,N,O,P,S,U,Z,ja,ya,ra,Y,pa;function c(T,R,ea,sa,la,Ka,Ua,$a,Za,cb,Va,Qa,xa,Ea,Na,Xa,hb,wb,Eb,Fb,Nb,Cb,Kb,Ub,mc,Ec,Md,se,Nd,gd,qc,ec,hc,Xb){var tb,Vc;function nc(qb){qb.newValue !== P.hb.Uf && qb.newValue !== P.hb.qh && (tb.Bb.removeListener(nc),tb.UH=tb.za.vZ,tb.Wb.Hc(P.ea.Uq));}function dc(qb){qb.newValue !== P.hb.Uf && (tb.Bb.removeListener(dc),tb.Pm=!0,tb.vY=tb.za.jf.da(F.la),tb.Wb.Hc(P.ea.Pm));}tb=this;this.lb=la;this.Ok=Ka;this.lA=Ua;this.Da=Za;this.SC=cb;this.za=Va;this.sX=Qa;this.lsa=Na;this.rO=Xa;this.Gd=hb;this.Wh=wb;this.gj=Eb;this.oM=Fb;this.wY=Nb;this.Ak=Cb;this.Dya=Kb;this.bg=Ub;this.se=mc;this.Cua=Ec;this.Om=Md;this.h9a=se;this.nja=Nd;this.oI=gd;this.mua=qc;this.iM=ec;this.E4=hc;this.E7a=[];this.Vu=new Map();this.tc=new u.ec(null);this.Ag=new u.ec(null);this.kc=new u.ec(null);this.Qi=new u.ec(null);this.wv=new u.ec(void 0);this.Ye=new u.ec(null);this.th=new u.ec(null);this.mediaTime=new u.ec(void 0);this.playbackRate=new ra.UJa(1,t.config.xsa);this.Sya=function(qb){return tb.tc.set(qb.newValue);};this.$3b=function(qb){return tb.Ag.set(qb.newValue);};this.X3b=function(qb){return tb.kc.set(qb.newValue);};this.y3b=function(qb){return tb.Qi.set(qb.newValue);};this.W3b=function(qb){return tb.wv.set(qb.newValue);};this.Z3b=function(qb){return tb.Ye.set(qb.newValue);};this.z3b=function(qb){return tb.th.set(qb.newValue);};this.O3b=function(qb){return tb.re.set(qb.newValue);};this.N3b=function(qb){return tb.pf.set(qb.newValue);};this.K3b=function(qb){return tb.mediaTime.set(qb.newValue);};this.Dba=function(qb){return tb.playbackRate.set(qb.newValue);};this.zk={};this.rwa=this.wya=0;this.Wb=new w.Rk();this.G_={};this.OZ=this.v7a=this.Pm=!1;this.state=new u.ec(P.Tb.KK);this.Gj=new u.ec(!1);this.paused=new u.ec(!1);this.muted=new u.ec(!1);this.volume=new u.ec(t.config.UBb / 100);this.Bb=new u.ec(P.hb.Uf);this.Gf=new u.ec(P.Cf.xd);this.Vr=new u.ec(P.Cf.xd);this.Ym=new u.ec(P.Cf.xd);this.pf=new u.ec(null);this.re=new u.ec(null);this.dka=new u.ec(null);this.F7=(0,q.LEa)(this);this.uc=[new u.ec(null),new u.ec(null)];this.Mja={};this.bN=!1;this.Sa=this.Ij=-1;this.$oa=function(qb,Sb){var bc;qb=void 0 === qb?null:qb;return (0,I.Ea)(qb)?Sb && !tb.uk(Sb).oa?qb:(null === (bc=tb.Ja) || void 0 === bc?0:bc.ji)?tb.Ja.Xt(qb):qb:null;};this.b6a=function(){tb.Ixa();};this.Az=T;this.addEventListener=this.Wb.addListener;this.removeEventListener=this.Wb.removeListener;this.fireEvent=this.Wb.Hc;this.Oia({S:T,ha:sa,cb:ea || ({})},t.config.sx?this.Gd.dA(T):void 0,R);this.log=(0,D.Qh)(this);this.u5=$a(this);this.Qub=xa(this);this.Qg=(0,N.createElement)("DIV",p.ufa,void 0,{id:this.K});this.mMb();Vc=Ea((0,F.Bh)(1));this.jd=this.log.vla("Playback");this.YUb=(0,d.CJa)(this);y.gC.e5a=this;y.gC.xna || (y.gC.xna=this);this.jd.info("Playback created",this.Uh);this.Sra?this.jd.info("Playback selected for trace playback info logging"):this.jd.trace("Playback not selected for trace playback info logging");t.config.sx && (this.Gd.EKb(this.K),this.addEventListener(P.ea.Uq,function(){tb.Gd.FKb(tb.K);tb.kc.addListener(function(){tb.Gd.d0a();});tb.tc.addListener(function(){tb.Gd.d0a();});}),this.addEventListener(P.ea.qg,function(){tb.Gd.DKb(tb.K);}));this.state.addListener(function(qb){tb.jd.info("Playback state changed",{From:qb.oldValue,To:qb.newValue});(0,C.jb)(qb.newValue > qb.oldValue);});x.we.addListener(x.Pl,this.b6a,p.B1);this.mediaTime.addListener(function(){tb.KFb();Vc.Yl(function(){return tb.SXa();});});this.Bb.addListener(function(qb){tb.jd.info("PresentingState changed",{From:qb.oldValue,To:qb.newValue,MediaTime:(0,H.mj)(tb.mediaTime.value)},tb.Ou());});this.Bb.addListener(function(){tb.Gj.set(tb.Bb.value === P.hb.Lc);});this.Gf.addListener(function(qb){tb.jd.info("BufferingState changed",{From:qb.oldValue,To:qb.newValue,MediaTime:(0,H.mj)(tb.mediaTime.value)},tb.Ou());});this.Vr.addListener(function(qb){tb.jd.info("AV BufferingState changed",{From:qb.oldValue,To:qb.newValue,MediaTime:(0,H.mj)(tb.mediaTime.value)},tb.Ou());});this.Ym.addListener(function(qb){tb.jd.info("Text BufferingState changed",{From:qb.oldValue,To:qb.newValue,MediaTime:(0,H.mj)(tb.mediaTime.value)},tb.Ou());});this.tc.addListener(function(qb){(0,C.jb)(qb.newValue && qb.newValue.yi);tb.jd.info("AudioTrack changed",qb.newValue && ({ToBcp47:qb.newValue.Vf,To:qb.newValue.trackId}),qb.oldValue && ({FromBcp47:qb.oldValue.Vf,From:qb.oldValue.trackId}),{MediaTime:(0,H.mj)(tb.mediaTime.value)});});this.kc.addListener(function(qb){(0,C.jb)(!qb.newValue || qb.newValue.yi);tb.jd.info("TimedTextTrack changed",qb.newValue?{ToBcp47:qb.newValue.Vf,To:qb.newValue.trackId}:{To:"none"},qb.oldValue?{FromBcp47:qb.oldValue.Vf,From:qb.oldValue.trackId}:{From:"none"},{MediaTime:(0,H.mj)(tb.mediaTime.value)});});this.Bb.addListener(dc,p.GF);this.Bb.addListener(nc);this.addEventListener(P.ea.Uq,function(){tb.OZ=!0;tb.Iab=tb.EU();tb.Ed("start");tb.U7=tb.re.value.stream.bitrate;});(0,E.LJa)(this);y.yo.push(this);t.config.aZ && (this.A$=this.Cua(this),this.D$=new A.WJa(this));y.bfa.forEach(function(qb){qb(tb);});this.Ssb=function(){tb.addEventListener(P.ea.$I,function(qb){var Sb;qb=qb.cause;qb !== P.Pe.fy && qb !== P.Pe.SK && (null === (Sb=tb.Ja) || void 0 === Sb?void 0:Sb.stop());});tb.addEventListener(P.ea.Gk,function(qb){var Sb,bc,uc,Wc,fc,vc,Od,Xc,hd,te;tb.h9a.Gk(qb);uc=qb.cause;Wc=qb.skip;fc=qb.O9;vc=qb.Mta;Od=qb.K;Xc=qb.nk;tb.ja.Ul.xta(vc,fc);if(uc !== P.Pe.SK && uc !== P.Pe.fy)if(Wc){if(null !== (Sb=tb.Ja) && void 0 !== Sb && Sb.Ti(fc)){tb.jd.trace("Repositioned. Skipping from " + vc + " to " + fc);qb=function(Yb){tb.log.error("streamingSession.skipped threw an exception",Yb);Yb=S.od.Nna(G.N.seb,Yb);tb.Vq(Yb.code,Yb);};try{tb.Ja.lo(fc).then(function(Yb){var Yc;Yb.aO || (null === (Yc=tb.Ja) || void 0 === Yc?void 0:Yc.play());}).catch(qb);}catch(Yb){qb(Yb);}}else tb.log.error("can skip returned false");}else {tb.jd.trace("Repositioned. Seeking from " + vc + " to " + fc);try{hd=tb.lb.c7(tb.ja);te=Object.keys(hd.V).find(function(Yb){var Yc;Yb=hd.V[Yb];return Yb.S === Od && Yb.Aa <= Xc && (null !== (Yc=Yb.Ba) && void 0 !== Yc?Yc:Infinity) > Xc;});null === (bc=tb.Ja) || void 0 === bc?void 0:bc.Qs(Xc,te);}catch(Yb){tb.log.error("streamingSession.seekByContentPts threw an exception",Yb);fc=S.od.Nna(G.N.qeb,Yb);tb.Vq(fc.code,fc);}}});};this.playbackRate.addListener(function(){var qb,Sb;if(null === (qb=tb.Ja) || void 0 === qb?0:qb.ji)null === (Sb=tb.Ja) || void 0 === Sb?void 0:Sb.Eua();});this.addEventListener(P.ea.kz,function(qb){var Sb;qb.cause == y.Yea && (tb.Gf.set(P.Cf.xd),null === (Sb=tb.Ja) || void 0 === Sb?void 0:Sb.oo(tb.dg.oZa()));});Xb && (this.ja.oa=Xb,this.Ak.RZ(T,Xb));}Object.defineProperty(b,"__esModule",{value:!0});b.PJa=void 0;f=a(1);k=a(42);m=a(302);d=a(304);g=a(164);h=a(535);l=a(1199);n=a(1200);q=a(538);p=a(12);u=a(80);t=a(14);w=a(73);v=a(539);x=a(62);y=a(61);z=a(108);A=a(541);B=a(1203);E=a(545);D=a(8);F=a(5);G=a(3);C=a(22);H=a(93);K=a(24);M=a(63);I=a(18);Q=a(546);L=a(105);J=a(308);N=a(30);O=a(104);P=a(15);S=a(40);U=a(305);Z=a(548);ja=a(132);ya=a(1206);ra=a(1207);Y=a(57);pa=a(51);c.prototype.Ed=function(T,R){var ea;R=void 0 === R?this.Az:R;null === (ea=this.Vu.get(R)) || void 0 === ea?void 0:ea.Ed(T);};c.prototype.mA=function(T){this.ja.mA(T);};c.prototype.mMb=function(){var T;T=this;this.tc.addListener(function(R){return T.ja.tc.set(R.newValue);});this.Ag.addListener(function(R){return T.ja.Ag.set(R.newValue);});this.kc.addListener(function(R){return T.ja.kc.set(R.newValue);});this.Qi.addListener(function(R){return T.ja.Qi.set(R.newValue);});this.wv.addListener(function(R){return T.ja.wv.set(R.newValue);});this.Ye.addListener(function(R){return T.ja.Ye.set(R.newValue);});this.th.addListener(function(R){return T.ja.th.set(R.newValue);});this.re.addListener(function(R){return T.ja.re.set(R.newValue);});this.pf.addListener(function(R){return T.ja.pf.set(R.newValue);});this.uc[k.Vb.Wa.Xb].addListener(function(R){return T.ja.uc[k.Vb.Wa.Xb].set(R.newValue);});this.uc[k.Vb.Wa.Pb].addListener(function(R){return T.ja.uc[k.Vb.Wa.Pb].set(R.newValue);});this.mediaTime.addListener(function(R){return T.ja.mediaTime.set(R.newValue);});this.playbackRate.addListener(function(R){return T.ja.playbackRate.set(R.newValue);});this.M9a();};c.prototype.M9a=function(){var T;T=this;this.ja !== this.Owa && (this.ja.mediaTime.set(this.mediaTime.value),this.ja.playbackRate.set(this.playbackRate.value),this.ur(function(R){return R.tc;},this.Sya),this.ur(function(R){return R.Ag;},this.$3b),this.ur(function(R){return R.wv;},this.W3b),this.ur(function(R){return R.kc;},this.X3b),this.ur(function(R){return R.Qi;},this.y3b),this.ur(function(R){return R.Ye;},this.Z3b),this.ur(function(R){return R.th;},this.z3b),this.ur(function(R){return R.pf;},this.N3b),this.ur(function(R){return R.re;},this.O3b),this.ur(function(R){return R.uc[k.Vb.Wa.Xb];},function(R){return T.uc[k.Vb.Wa.Xb].set(R.newValue);}),this.ur(function(R){return R.uc[k.Vb.Wa.Pb];},function(R){return T.uc[k.Vb.Wa.Pb].set(R.newValue);}),this.ur(function(R){return R.mediaTime;},this.K3b),this.ur(function(R){return R.playbackRate;},this.Dba),this.kc.set(this.ja.kc.value),this.tc.set(this.ja.tc.value,{xRa:!0}),this.Ag.set(this.ja.Ag.value),this.Qi.set(this.ja.Qi.value),this.wv.set(this.ja.wv.value),this.Ye.set(this.ja.Ye.value),this.th.set(this.ja.th.value),this.Owa=this.ja);};c.prototype.ur=function(T,R){this.Owa && T(this.Owa).removeListener(R);T(this.ja).addListener(R);};c.prototype.load=function(T){var R,ea;R=this;this.load=function(){};this.H7a=T;if(this.state.value == P.Tb.KK){this.jd.info("Playback loading",this);this.kSb();this.Ed("asl_load_start");ea=this.SC;T=ea.startTime;ea=ea.endTime;(0,I.Zc)(T)?(0,I.Zc)(ea)?this.Ed("asl_ended"):this.Ed("asl_in_progress"):this.Ed("asl_not_started");this.SC.pO(function(sa){R.Ed("asl_load_complete");sa.aa?R.cAb():R.Vq(sa.errorCode || G.N.Gda,sa);});}};c.prototype.AVb=function(){var T;try{if(this.state.value === P.Tb.LOADING){T={width:1,height:1,Yia:1};this.HH().forEach(function(R){T.width * T.height < R.width * R.height && (T.width=R.width,T.height=R.height,T.Yia=R.Yia);});this.HB=T;this.Aw=this.oM.jtb({VJ:(0,F.Nc)(this.$),K:this.K,z$:this.xz,cb:this.cb}).da(F.la);this.kja();this.bBb();}}catch(R){this.Vq(G.N.Mib,{ta:G.M.Qk,yb:(0,K.wd)(R)});}};c.prototype.nx=function(){var T,R;R=this.lb.c7(this);this.SUa(R);null === (T=this.Ja) || void 0 === T?void 0:T.EB(R);};c.prototype.CI=function(T){var R,ea;(0,C.jb)(this.Ja,"ASE should be initialized");ea=this.lb.nW(T);ea?T === this.lb.$g?this.Ja.Yr(ea,!0,!0) || this.yW(ea,{}):null === (R=this.Ja) || void 0 === R?void 0:R.Di(T,ea,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.yW=function(T,R,ea){var sa,la,Ka,Ua,$a;sa=this;ea=void 0 === ea?!0:ea;Ua=this.lb.lf(T);if(this.gj.Hba && this.lb.ja.S === Ua.S)return Promise.resolve(this.dg.seek(Ua.Aa,P.Pe.iC,void 0));Ua=this.Ok.PN(Ua.S);R=(0,L.o9)(Ua.Ab,R);if(null === (la=this.Ja) || void 0 === la || !la.ji)throw (this.log.debug("No streaming session. Aborting transition"),Error("No streaming session"));this.log.debug("going to next segment: " + this.lb.$g + " -> " + T);this.CG("Transition " + this.lb.$g + "->" + T);$a=this.uk(T);$a.Zm=this.Da.Zb().da(F.la);$a.cb=R;return "seamless" !== (null !== (Ka=this.lb.lf(T).ce) && void 0 !== Ka?Ka:"seamless") || ea?(this.Ja.GN(T).rM?this.pKb(T,$a.K):this.qZ(T,$a.K)).then(function(){sa.bGb($a.K);}):Promise.resolve();};c.prototype.qZ=function(T,R){var ea;ea=this.lb.ql.V[T].Aa;this.log.debug("Segment is not pre-buffered - performing a regular seek");this.CG("NO DATA " + T + ", SEEKING " + ea + ", viewableId: " + R);return Promise.resolve(this.dg.seek(ea,P.Pe.iC,T,!0));};c.prototype.pKb=function(T,R){var ea,sa,la,Ka,Ua;ea=this;sa=this.Ja;if(null === sa || void 0 === sa || !sa.ji)throw Error("No streaming session");la=new Promise(function($a){function Za(){ea.log.debug("Stopped ASE");sa.removeEventListener("stop",Za);$a();}sa.addEventListener("stop",Za);});Ka=!1;Ua=new Promise(function($a){function Za(Va){ea.log.debug("Repositioned");ea.removeEventListener(P.ea.Gk,Za);Ka=Va.skip;$a();}function cb(){ea.log.debug("Repositioning");ea.removeEventListener(P.ea.$I,cb);sa.stop();}ea.addEventListener(P.ea.$I,cb);ea.addEventListener(P.ea.Gk,Za);});la=Promise.all([la,Ua]).then(function(){var $a;$a=!1;Ka && ($a=sa.Yr(T,!1,!0));if(!$a)return (ea.CG("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),ea.qZ(T,R));});Ua=sa.IM(T,this.lb.ql.V[T].Aa);this.log.debug("Calling seek on internal player to " + Ua);this.dg.seek(Ua,P.Pe.SK,T,!0);return la;};c.prototype.Oia=function(T,R,ea){var sa,la,Ka,Ua,$a;R=void 0 === R?this.lA.zz():R;ea=void 0 === ea?this.Da.Zb():ea;la=! !t.config.Ddb && !(R % t.config.Ddb);Ka=T.S;Ua=T.ha;$a=T.cb;T=T.tj;this.Vu.has(Ka)?this.Vu.get(Ka):(R=this.wY(y.gC.index++,Ka,Ua,$a,R,ea,la,this.ja,this.$oa,T),this.Vu.set(Ka,R),1 < this.Vu.size && (R.nX=this.rO.create(this,R,!1)),R.zO=new z.wHa(this,R),null === (sa=this.Ja) || void 0 === sa?void 0:sa.XU(R.ha,{ca:R.ca,Ds:R.Mg}));};c.prototype.CAb=function(T,R,ea){var sa;sa={n8:!0,bj:!1,sQ:Date.now()};(0,C.jb)(R.l4,"Auxiliary viewable config request options must have auxiliary options");R=R.l4;this.Oia({tj:{Si:R.Si,aua:this.zi,kY:R.kY},cb:sa,ha:"custom-ident-" + T,S:T},ea);};c.prototype.yD=function(T){if(!this.Vu.has(T))throw Error("Playback segment not found: " + T);return this.Vu.get(T);};c.prototype.uk=function(T){var ea,sa,la,Ka,Ua,$a;function R(Za){for(var cb=ba(ea.cP),Va=cb.next();!Va.done;Va=cb.next()){if((Va=Va.value,Va.ha === Za))return Va;}}ea=this;$a=R(T);return $a?$a:(null === (la=null === (sa=this.Ja) || void 0 === sa?void 0:sa.Kg) || void 0 === la?0:la.V[T]) && (sa=null === (Ka=this.Ja) || void 0 === Ka?void 0:Ka.Kg.V[T].ci) && this.lb.pB(sa)?(Ka=this.lb.lf(sa).S,T=null === (Ua=this.Ja) || void 0 === Ua?void 0:Ua.Kg.V[T].S,Ka === T && ($a=R(sa)),null !== $a && void 0 !== $a?$a:this.yD(T)):this.ja;};c.prototype.hJb=function(T){for(var R,ea,sa=ba(this.cP),la=sa.next();!la.done;la=sa.next()){if((la=la.value,(null === (ea=null === (R=la.tf) || void 0 === R?void 0:R.Mb) || void 0 === ea?void 0:ea.sessionId) === T))return la;}return this.ja;};c.prototype.sva=function(T){var R,ea;R=this;ea=T.K;this.Ok.h_b(ea);return this.uZ(T).then(function(sa){R.eva(sa,T);return (T.ZH?R.$b.Ql.i9a(T):Promise.resolve()).then(function(){return R.Ok.C$a(ea);});}).catch(function(sa){R.log.error("queueManifest failed",sa);R.Ok.g_b(ea,sa);throw R.Wh(sa.code,sa);});};c.prototype.PGb=function(){if((0,I.Ea)(this.Sc.ats) && (0,I.Ea)(this.Sc.at))return this.Sc.at - this.Sc.ats;};c.prototype.IYa=function(){var T,R;T=this.E_();R=this.iU();return Math.min(T,R);};c.prototype.aQ=function(){this.background || (this.jd.info("Starting inactivity monitor for movie " + this.K),new v.pFa(this));};c.prototype.close=function(T){T && (this.state.value == P.Tb.CLOSED?T():this.addEventListener(P.ea.closed,function(){T();}));this.Ixa();};c.prototype.Ld=function(T,R,ea){T=this.Wh(T,R,ea);this.SG(T,void 0);};c.prototype.SG=function(T,R){var ea,sa,la,Ka;ea=this;T.O$a(this.Pm);if(this.state.value == P.Tb.KK)this.Nh || (this.Nh=T,this.load());else {R && (this.state.value == P.Tb.CLOSED?R():this.addEventListener(P.ea.closed,function(){R();}));sa=function(){ea.Ixa(T);};la=t.config.FVa && T && t.config.FVa[T.errorCode];Ka=-1;(0,I.uA)(la) && (Ka=(0,K.Ie)(la));this.jd.error("Fatal playback error",{Error:"" + T,HandleDelay:"" + la});0 <= Ka?setTimeout(sa,Ka):sa();}};c.prototype.CG=function(T){var R;R=void 0 === R?this.ha:R;this.E7a.push(this.Da.Zb().da(F.la) + "-" + R + "-" + T);};c.prototype.UFb=function(){this.SXa();};c.prototype.Poa=function(){var T;if(null === (T=this.Ja) || void 0 === T?0:T.ji)if((T=this.Ja.Sn().id,void 0 !== T))return T;return null;};c.prototype.zD=function(){var T,R;R=null === (T=this.Ja) || void 0 === T?void 0:T.ji;return void 0 === this.ja.RU || R?this.$oa(this.mediaTime.value):this.ja.RU;};c.prototype.Ooa=function(){var T;T=this.$oa(this.dg.oZa());return null === T?null:Math.min(this.xz.da(F.la),Math.max(0,T));};c.prototype.aW=function(){var T,R;return null === (R=null === (T=this.oa) || void 0 === T?void 0:T.Nb.Fn) || void 0 === R?void 0:R.V;};c.prototype.Cba=function(T){this.cb=(0,L.o9)(this.cb,T);this.kja();};c.prototype.KGb=function(){return this.tc.value?this.tc.value.streams:[];};c.prototype.HH=function(T){T=void 0 === T?this.K:T;return (T=this.yD(T).Ag) && T.value?T.value.streams:[];};c.prototype.LKb=function(T){for(var R=ba(this.cP),ea=R.next();!ea.done;ea=R.next()){if(ea=(ea=ea.value.vj) && ea.find(function(sa){return sa.id === T;}))return ea;}};c.prototype.NVb=function(T){T=void 0 === T?this.ja:T;T.kc.value?this.nr.KVb(T.kc.value):Promise.resolve();};c.prototype.e0a=function(T){for(var R=ba(this.cP),ea=R.next();!ea.done;ea=R.next()){ea=ba(ea.value.Ri);for(var sa=ea.next();!sa.done;sa=ea.next()){if(sa=sa.value.streams.find(function(la){return la.Dc === T;}))return sa;}}};c.prototype.q0a=function(T){for(var R=ba(this.cP),ea=R.next();!ea.done;ea=R.next()){ea=ba(ea.value.Dp);for(var sa=ea.next();!sa.done;sa=ea.next()){if(sa=(sa=sa.value) && sa.streams.find(function(la){return la.Dc === T;}))return sa;}}};c.prototype.Zt=function(){var T,R,ea;return null !== (ea=null === (R=null === (T=this.D$) || void 0 === T?void 0:T.TU) || void 0 === R?void 0:R.call(T)) && void 0 !== ea?ea:this.mAb().qD;};c.prototype.X$a=function(T){var R,ea;null !== (R=this.Ja) && void 0 !== R && R.ji && this.Vu.has(T) && ((null === (ea=this.D$) || void 0 === ea?0:ea.TU)?this.D$.Icb():(R=this.Bla(T),this.Ja.fr(R,T)));};c.prototype.JNb=function(){return "trailer" === this.Xd;};c.prototype.SMb=function(){return ! !this.Xd && 0 <= this.Xd.indexOf("billboard");};c.prototype.QNb=function(){return ! !this.Xd && 0 <= this.Xd.indexOf("video-merch");};c.prototype.oNb=function(){return ! !this.Xd && 0 <= this.Xd.indexOf("mini-modal");};c.prototype.jO=function(){return this.JNb() || this.SMb() || this.QNb() || this.oNb();};c.prototype.H6=function(){var la,Ka,Ua;if(this.Dp){for(var T,R=0;R < this.Dp.length;R++){for(var ea=this.Dp[R],sa=0;sa < ea.streams.length;sa++){la=ea.streams[sa];if((0,I.Ea)(la.Cla) && (0,I.Ea)(la.d5) && (0,I.Ea)(la.c5) && (0,I.Ea)(la.b5) && (0 < la.Cla || 0 < la.d5)){Ka=1;Ua=1;(0,I.Ea)(la.m7a) && (0,I.Ea)(la.n7a) && (Ka=la.m7a,Ua=la.n7a);la=la.b5 * Ua / (la.c5 * Ka);T=(0,I.Ea)(T)?Math.min(T,la):la;}}}return T;}};c.prototype.yJb=function(){return {tr:this.wya,rt:this.rwa};};c.prototype.$z=function(T){return this.zk[T];};c.prototype.ika=function(){return this.Zm?this.Da.Zb().da(F.la) - this.Zm:this.za.jf.da(F.la) - this.wH();};c.prototype.EU=function(){var T;if(this.Zm)return this.Da.Zb().da(F.la) - this.Zm;T=this.Da.xA;return this.vY - (this.ej.da(F.la) + T.da(F.la));};c.prototype.kka=function(){return this.Zm?this.Da.Zb().da(F.la) - this.Zm:this.vY - this.wH();};c.prototype.dSb=function(T){var R,ea;R=this.loadTime;ea={};(0,K.ve)(T,function(sa,la){ea[sa]=la.map(function(Ka){return Ka - R;});});return ea;};c.prototype.XGb=function(){var T,R;T=this.loadTime;R={};(0,K.ve)(this.Mja,function(ea,sa){R[ea]=sa.map(function(la){return la - T;});});return h.zw?{level:h.zw.LZa(),charging:h.zw.eoa(),statuses:R}:null;};c.prototype.l7=function(){this.RXa();return this.G_;};c.prototype.wH=function(){var T;T=this.cb.sQ;T=(0,I.Ea)(T)?T:this.ej.da(F.la) + this.Da.xA.da(F.la);(0,C.jb)((0,I.tA)(T));return T;};c.prototype.Uoa=function(){return this.Da.Zb().da(F.la) - this.ej.da(F.la);};c.prototype.Y$a=function(T,R){this.G_[T]=R;};c.prototype.e5b=function(){this.h0b=!0;};c.prototype.X9=function(){this.S8a();};c.prototype.E_=function(){var T;T=this.b4();return T && T.vbuflmsec || 0;};c.prototype.iU=function(){var T;T=this.b4();return T && T.abuflmsec || 0;};c.prototype.pza=function(){var T;T=this.b4();return T && T.vbuflbytes || 0;};c.prototype.tja=function(){var T;T=this.b4();return T && T.abuflbytes || 0;};c.prototype.uZ=function(T,R,ea){var sa,la,Ka,Ua;sa=this;T=void 0 === T?this.ja:T;ea=void 0 === ea?!0:ea;la=! !R;Ka=!la && T !== this.ja;Ua=t.config.U$.enabled?O.nn.Blb:Ka?O.nn.IF:this.jO()?O.nn.S1:O.nn.Lp;la=this.jO() || la?void 0:this.$b.Ql.U6(Ka);return this.Ak.DN({ca:T.ca,cb:T.cb,S:T.K,ou:Ua,ag:la,rba:R,tj:T.tj},ea).then(function($a){$a.V1a && sa.fireEvent(P.ea.kX,{K:T.K});return $a;});};c.prototype.eva=function(T,R,ea){var sa,la,Ka;R=void 0 === R?this.ja:R;ea=void 0 === ea?!1:ea;if(R.cb.bj && !T.Nb.Fn)this.Ld(G.N.Zeb);else {sa=this.sX.create(this);la=! !(R.tj && R.tj.Si && R.tj.q$);if(ea){Ka=sa.FLb(R.oa,R.Tc,T);T=Ka.oa;Ka=Ka.Tc;}else (T=la?sa.eZb(T,null === (Ka=R.tj) || void 0 === Ka?void 0:Ka.q$):T,Ka=sa.U6a(T));R.oa=T;R.Tc=Ka;ea || (R.Ag.set(Ka.q5),R.tc.set(Ka.eV),R.kc.set(Ka.gV));}};c.prototype.bGb=function(T){this.lJ(T,!1);};c.prototype.h0a=function(T,R){if(!this.gj.lza)return !0;T=this.Xu.da(F.la) - T;return 0 > T || T > R;};c.prototype.NYb=function(){this.dg.seek(this.zD() || 0,P.Pe.Q0);};c.prototype.L0a=function(T,R){var ea,sa;ea=this;sa=this.ja;sa.w5=!0;return this.uZ(sa,{aua:sa.zi,zYb:T,CYb:R},!1).then(function(la){var Ka;ea.eva(la,sa,!0);ea.Ak.RZ(sa.K,sa.oa);return null === (Ka=ea.Ja) || void 0 === Ka?void 0:Ka.Nx(ea.D7a);}).then(function(){var la,Ka;la=sa.Ri.find(function(Ua){return Ua.trackId === T;});Ka=sa.$h.find(function(Ua){return Ua.trackId === R;});if(!(la && la.yi && Ka && Ka.yi))throw Error("Track hydration failed: requiredAudioTrackId=" + T + " requiredTextTrackId=" + R);ea.fireEvent(P.ea.icb);return {tc:la,e_:Ka};});};c.prototype.lJ=function(T,R){var ea,sa;if(this.gP){if(T === this.Az){this.gP=T;return;}ea=this.yD(T);sa=ea.oa;sa && (0,I.Zc)(sa.aJ) && (0,I.Zc)(sa.xP) && ea.mA({pr_ats:sa.aJ,pr_at:sa.xP});this.fireEvent(P.ea.ksa,{K:this.Az});this.Az=T;this.kja();R || this.M9a();this.UH=this.za.vZ;this.ja.Zm || (this.ja.Zm=this.Da.Zb().da(F.la));}("boolean" === typeof this.cb.fN?this.cb.fN:t.config.fN) && !R && this.Dya.fN(this);R={K:T,g8:R,gP:this.gP};this.gP=T;this.fireEvent(P.ea.hI,R);};c.prototype.cAb=function(){try{this.$b=new l.kHa(this);this.T4=new U.VBa(this);this.nX=this.rO.create(this,this.ja,!0);t.config.owb && new Z.JDa(this,this.bg,this.log);t.config.HU && this.HU(this);this.G4b();}catch(T){this.Vq(G.N.Lib,{ta:G.M.Qk,yb:(0,K.wd)(T)});}};c.prototype.G4b=function(){this.Nh?this.SG(this.Nh):(0,I.Uqa)(this.K)?this.Owb():this.Vq(G.N.xib,{yb:"" + this.K});};c.prototype.Owb=function(){var T;T=m.zJ.u$a;T?T.aa?this.Tka():this.Vq(G.N.lFa,T):((0,C.jb)(!t.config.M5),this.Cia());};c.prototype.Tka=function(){var T;T=this;!this.background && t.config.Tka?(0,y.afa)(function(){T.Cia();},this):this.Cia();};c.prototype.Cia=function(){var T;T=this;this.state.value == P.Tb.LOADING && (t.config.Lma && !this.jO()?m.zJ.Xy(y.KJa,function(R){R.aa?(T.M8=R.M8,t.config.Caa?T.Aja():T.Uwa()):T.Vq(G.N.kFa);},!0):t.config.Caa?this.Aja():this.Uwa());};c.prototype.Uwa=function(){var T;T=this;this.state.value == P.Tb.LOADING && (this.Ed("ic"),this.YUb.IZb(function(R){R.error && T.log.error("Error sending persisted playdata",(0,G.Iv)(R));try{T.Aja();}catch(ea){T.log.error("playback.authorize threw an exception",ea);T.Vq(G.N.Ceb,{ta:G.M.Qk,yb:(0,K.wd)(ea)});}}));};c.prototype.Aja=function(){var T,R,ea;T=this;if(this.state.value == P.Tb.LOADING){this.log.info("Authorizing",this);R=this.Da.Zb().da(F.la);this.Ed("ats");(0,C.PM)(this.K);(0,C.PM)(this.Pj);ea=this.xWb.bind(this,R);Promise.all([this.oa,t.config.sx && this.Ak.Epa(this.K)?this.Ak.E6(this.K).catch(function(){}):void 0]).then(function(sa){var la,Ka;la=ba(sa);sa=la.next().value;la=la.next().value;sa && la?Ka=la.Nb.expiration > sa.Nb.expiration?la:sa:sa?Ka=sa:la && (Ka=la);Ka && 18E5 > Ka.Nb.expiration - (0,pa.K4)() && (Ka=void 0);return Ka?(T.MG=Ka === sa?"ui":"videopreparer",Ka):T.uZ();}).then(function(sa){try{T.eva(sa);ea(p.$e);T.v7a || (T.v7a=!0,T.mua.xp(T));}catch(la){T.log.error("Exception processing authorization response",la);ea({aa:!1,ta:G.M.mlb});}}).catch(ea);}};c.prototype.xWb=function(T,R){var ea,sa;ea=this;if(this.state.value == P.Tb.LOADING){this.Ed("at");sa=this.oa;this.mA({pr_ats:sa && (0,I.Zc)(sa.aJ)?sa.aJ:T,pr_at:sa && (0,I.Zc)(sa.xP)?sa.xP:this.Da.Zb().da(F.la)});R.aa?0 < this.Tc.vj.length && this.Tc.eV && this.Tc.q5 && this.Tc.gV?this.H7a?(this.log.info("Processing post-authorize",this),this.H7a(this,function(la){la.aa?ea.Mcb():ea.Vq(G.N.Qib,la);})):this.Mcb():this.Vq(G.N.AGa,this.lsa(this.Tc)):this.Vq(G.N.DK,R);}};c.prototype.Mcb=function(){var T,R;f.__awaiter(this,void 0,void 0,function sa(){var la;la=this;return Ja(sa,function(Ka){if(la.state.value != P.Tb.LOADING)return Ka.return();(null === (T=la.ja.oa) || void 0 === T?0:T.Nb.Fn) && la.lb.reset((0,Y.rz)(null === (R=la.ja.oa) || void 0 === R?void 0:R.Nb.Fn,{config:t.config}));la.Ja=la.nja(la.lb,la);la.Ja.L_b({Pt:g.Pt,config:t.config,se:la.se,jd:la.jd,Ou:la.Ou.bind(la),aj:D.aj,zZ:la.zZ.bind(la),lJ:la.lJ.bind(la)});la.AVb();Ka.yI=0;});});};c.prototype.bBb=function(){var T,R,ea,sa,la,Ka,Ua;T=this;try{if(this.state.value === P.Tb.LOADING){this.$b.open();R=new Promise(function($a){T.$b.addEventListener(J.Wj.Cab,$a);});this.dg=new Q.pHa(this);ea=this.Tc.eV.xl === ja.Np.NONE;sa={WE:this.Tc.eV.Iq || ea};la={ca:this.ca,Ds:this.Mg,Oz:this.Oz};try{if(this.state.value !== P.Tb.LOADING)return;Ka=this.Ja;Ka.V7({flags:sa,Hw:la,ha:this.D7a,Bla:this.Bla.bind(this)});Ua=this.lb.c7(this);this.SUa(Ua);Ka.EB(Ua);this.Ssb();Ka.bvb({zk:this.zk,loadTime:this.loadTime});}catch($a){throw (this.log.error("Failed to initialize ASE streaming",{error:$a,startPts:this.$,flags:sa}),$a);}R.then(function(){var $a;T.state.value !== P.Tb.CLOSING && T.state.value !== P.Tb.CLOSED && (null === ($a=T.Ja) || void 0 === $a?void 0:$a.open());});this.mediaTime.set(this.$);this.nr=new n.FMa(this);if("boolean" === typeof this.cb.caa?this.cb.caa:t.config.caa)this.h_=new B.GMa(this);this.aQ();y.cfa.forEach(function($a){$a(T);});this.jSb();}}catch($a){this.Vq(G.N.Nib,{ta:G.M.Qk,yb:(0,K.wd)($a)});}};c.prototype.kSb=function(){(0,C.jb)(this.state.value == P.Tb.KK);this.loadTime=this.Da.Zb().da(F.la);this.state.set(P.Tb.LOADING);};c.prototype.Vq=function(T,R){this.done || (this.done=!0,R instanceof S.od?this.Ld(R.code,R):this.Ld(T,R));};c.prototype.HU=function(T){var ea,sa;function R(){var la,Ka;la=h.zw.eoa() + "";Ka=T.Mja[la];Ka || (Ka=T.Mja[la]=[]);Ka.push(ea.Da.Zb().da(F.la));ea.log.trace("charging change event",{level:h.zw.LZa(),charging:h.zw.eoa()});}ea=this;sa=h.zw.Hfb;h.zw.addEventListener(sa,R);T.addEventListener(P.ea.qg,function(){h.zw.removeEventListener(sa,R);});};c.prototype.Ixa=function(T){var R,ea;R=this;if(this.state.value == P.Tb.KK || this.state.value == P.Tb.LOADING || this.state.value == P.Tb.te){this.jd.info("Playback closing",this,T?{ErrorCode:T.y5}:void 0);this.CG("Closing");x.we.removeListener(x.Pl,this.b6a);this.Nh=T;this.ja.RU=this.zD();this.RXa();(null === (ea=this.Ja) || void 0 === ea?0:ea.ji) && this.Ja.flush();try{this.Wb.Hc(P.ea.qg,{movieId:this.Az});}catch(sa){this.jd.error("Unable to fire playback closing event",sa);}this.state.set(P.Tb.CLOSING);this.peb();this.h0b || (0,M.Xf)(function(){return R.S8a();});}};c.prototype.KFb=function(){this.Wb.Hc(P.ea.Gcb);};c.prototype.SXa=function(){var T;T=this.mediaTime.value;this.xOb != T && (!1,this.xOb=T,this.Wb.Hc(P.ea.oya));};c.prototype.S8a=function(){var T,R;T=this;(0,C.jb)(this.state.value == P.Tb.CLOSING);R=this.M8;this.M8=void 0;R?m.zJ.release(R,function(ea){(0,C.jb)(ea.aa);T.$ka();}):this.$ka();};c.prototype.peb=function(){var T;null === (T=this.Ja) || void 0 === T?void 0:T.fd();delete this.Ja;};c.prototype.$ka=function(){var T;this.$ka=p.Al;(0,C.jb)(this.state.value == P.Tb.CLOSING);T=y.yo.indexOf(this);(0,C.jb)(0 <= T);y.yo.splice(T,1);this.state.set(P.Tb.CLOSED);this.Wb.Hc(P.ea.closed,void 0,!0);this.Wb.Mh();delete this.tf;this.ja.X9();};c.prototype.kja=function(){this.cb.playbackState && ("number" === typeof this.cb.playbackState.volume && this.volume.set((0,H.Jp)(this.cb.playbackState.volume,0,1)),"boolean" === typeof this.cb.playbackState.muted && this.muted.set(this.cb.playbackState.muted),"number" === typeof this.cb.playbackState.playbackRate && this.playbackRate.set(this.cb.playbackState.playbackRate));};c.prototype.RXa=function(){this.Wb.Hc(P.ea.lab,{G_:this.G_});};c.prototype.zZ=function(T,R,ea){var sa;T=this.uk(T);sa=T.vj.filter(function(la){return la.id === R;})[0];sa && T.uc[ea].set(sa);};c.prototype.Ou=function(){return {AudioBufferLength:this.iU(),VideoBufferLength:this.E_()};};c.prototype.b4=function(){var T;if(null === (T=this.Ja) || void 0 === T?0:T.ji)return this.Ja.W7(!1);};c.prototype.jSb=function(){this.state.value == P.Tb.LOADING && this.state.set(P.Tb.te);};c.prototype.mAb=function(){var T,R,ea;T=void 0 === T?this.K:T;R=this.HH(T);ea=this.yD(T);return (0,ya.Zt)(R,function(sa){return ea.zO.sv(sa);});};c.prototype.Bla=function(T){var R,ea;T=void 0 === T?this.K:T;R=this.HH(T);ea=this.yD(T);return (0,ya.V_a)(R,function(sa){return ea.zO.sv(sa);});};c.prototype.SUa=function(T){var R;R=this;Object.keys(T.V).filter(function(ea){return !R.Vu.has(T.V[ea].S);}).forEach(function(ea){var sa,la,Ka;la=T.V[ea];Ka=la.S;la=Object.assign(null !== (sa=R.Ok.PN(Ka).Ab) && void 0 !== sa?sa:{},{$:la.Aa,La:la.Ba,bj:!1,sQ:Date.now(),n8:!0});R.Oia({S:Ka,ha:ea,cb:la});});};Ya.Object.defineProperties(c.prototype,{cP:{configurable:!0,enumerable:!0,get:function(){return this.Vu.values();}},ja:{configurable:!0,enumerable:!0,get:function(){return this.Vu.get(this.Az);}},$:{configurable:!0,enumerable:!0,get:function(){var T,R;return void 0 !== this.Aw?this.Aw:null !== (R=null === (T=this.cP.next()) || void 0 === T?void 0:T.value.cb.$) && void 0 !== R?R:0;}},Tc:{configurable:!0,enumerable:!0,get:function(){return this.ja.Tc;},set:function(T){this.ja.Tc=T;}},n6:{configurable:!0,enumerable:!0,get:function(){return this.ja.cb.n6;}},o6:{configurable:!0,enumerable:!0,get:function(){return this.ja.cb.o6;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ja.index;}},ha:{configurable:!0,enumerable:!0,get:function(){return this.ja.ha;}},D7a:{configurable:!0,enumerable:!0,get:function(){return this.lb.mza?this.lb.$g:this.ja.ha;}},tf:{configurable:!0,enumerable:!0,get:function(){return this.ja.tf;},set:function(T){this.ja.tf=T;}},Zm:{configurable:!0,enumerable:!0,get:function(){return this.ja.Zm;},set:function(T){this.ja.Zm=T;}},MG:{configurable:!0,enumerable:!0,get:function(){return this.ja.MG;},set:function(T){this.ja.MG=T;}},LG:{configurable:!0,enumerable:!0,get:function(){return this.ja.LG;},set:function(T){this.ja.LG=T;}},U7:{configurable:!0,enumerable:!0,get:function(){return this.ja.U7;},set:function(T){this.ja.U7=T;}},oa:{configurable:!0,enumerable:!0,get:function(){return this.ja.oa;},set:function(T){this.ja.oa=T;}},Aw:{configurable:!0,enumerable:!0,get:function(){return this.ja.Aw;},set:function(T){this.ja.Aw=T;}},ZZ:{configurable:!0,enumerable:!0,get:function(){return this.ja.ZZ;},set:function(T){this.ja.ZZ=T;}},cb:{configurable:!0,enumerable:!0,get:function(){return this.ja.cb;},set:function(T){this.ja.cb=T;}},nX:{configurable:!0,enumerable:!0,get:function(){return this.ja.nX;},set:function(T){this.ja.nX=T;}},Ul:{configurable:!0,enumerable:!0,get:function(){return this.ja.Ul;}},K:{configurable:!0,enumerable:!0,get:function(){return this.ja.K;}},Xd:{configurable:!0,enumerable:!0,get:function(){return this.ja.Xd;}},Ri:{configurable:!0,enumerable:!0,get:function(){return this.ja.Ri;}},Dp:{configurable:!0,enumerable:!0,get:function(){return this.ja.Dp;}},BB:{configurable:!0,enumerable:!0,get:function(){return this.ja.BB;}},$h:{configurable:!0,enumerable:!0,get:function(){return this.ja.$h;}},zi:{configurable:!0,enumerable:!0,get:function(){return this.ja.zi;}},ZH:{configurable:!0,enumerable:!0,get:function(){return this.ja.ZH;}},fv:{configurable:!0,enumerable:!0,get:function(){return this.ja.fv;}},Bm:{configurable:!0,enumerable:!0,get:function(){return this.ja.Bm;}},vj:{configurable:!0,enumerable:!0,get:function(){return this.ja.vj;}},xz:{configurable:!0,enumerable:!0,get:function(){return this.ja.xz;},set:function(T){this.ja.xz=T;}},ca:{configurable:!0,enumerable:!0,get:function(){return this.ja.ca;}},Pj:{configurable:!0,enumerable:!0,get:function(){return this.ja.Pj;}},ej:{configurable:!0,enumerable:!0,get:function(){return this.ja.ej;}},UH:{configurable:!0,enumerable:!0,get:function(){return this.ja.UH;},set:function(T){this.ja.UH=T;}},Mg:{configurable:!0,enumerable:!0,get:function(){return this.ja.Mg;}},pJ:{configurable:!0,enumerable:!0,get:function(){return this.ja.pJ;}},background:{configurable:!0,enumerable:!0,get:function(){return this.ja.background;},set:function(T){this.ja.background=T;}},YU:{configurable:!0,enumerable:!0,get:function(){return this.ja.YU;}},Sc:{configurable:!0,enumerable:!0,get:function(){return this.ja.Sc;}},gq:{configurable:!0,enumerable:!0,get:function(){return this.ja.gq;}},yma:{configurable:!0,enumerable:!0,get:function(){return this.ja.yma;}},zO:{configurable:!0,enumerable:!0,get:function(){return this.ja.zO;}},Oz:{configurable:!0,enumerable:!0,get:function(){return 0 !== t.config.C5 && 0 === this.ja.ca % t.config.C5;}},w5:{configurable:!0,enumerable:!0,get:function(){return this.ja.w5;}},Uh:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.K,TrackingId:this.Pj,Xid:this.ca};}},I$:{configurable:!0,enumerable:!0,get:function(){return this.lb.I$;}}});b.PJa=c;},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.Uab=void 0;c=a(12);f=a(8);k=a(3);a(24);b.Uab=function(m){var d;(0,f.aj)("Storage");d={};m({aa:!0,storage:{load:function(g,h){var l;if(d.hasOwnProperty(g)){l=d[g];!1;h({aa:!0,data:l,Vaa:g});}else (!1,h({ta:k.M.kC}));},save:function(g,h,l,n){l && d.hasOwnProperty(g)?n({aa:!1}):(d[g]=h,!1,n && n({aa:!0,Vaa:g}));},remove:function(g,h){delete d[g];!1;h && h(c.$e);}}});};},function(r,b,a){var c,f,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.Sab=void 0;c=a(8);f=a(79);k=a(29);m=a(533);b.Sab=function(d){c.pa.get(f.QB).create().then(function(g){d({aa:!0,storage:new m.Tda(g,c.pa.get(k.jg))});}).catch(function(g){d(g);});};},function(r,b){function a(c,f){this.xw=c;this.se=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Tda=void 0;a.prototype.load=function(c,f){var k;k=this;this.xw.load(c).then(function(m){f && f(a.jbb(m));}).catch(function(m){f && f(k.Rma(c,m));});};a.prototype.save=function(c,f,k,m){var d;d=this;this.xw.save(c,f,k).then(function(){m && m(a.jbb({key:c,value:f}));}).catch(function(g){m && m(d.Rma(c,g));});};a.prototype.remove=function(c,f){var k;k=this;this.xw.remove(c).then(function(){f && f({aa:!0,Vaa:c});}).catch(function(m){f && f(k.Rma(c,m));});};a.jbb=function(c){return {aa:!0,data:c.value,Vaa:c.key};};a.prototype.Rma=function(c,f){return {aa:!1,Vaa:c,ta:f.ta,yb:f.cause?this.se.wd(f.cause):void 0};};b.Tda=a;},function(r,b,a){var c,f,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.Tab=void 0;c=a(533);f=a(8);k=a(464);m=a(29);b.Tab=function(d){d({aa:!0,storage:new c.Tda(f.pa.get(k.dGa),f.pa.get(m.jg))});};},function(r,b,a){var c,f,k,m,d,g,h,l,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.zw=void 0;c=a(12);f=a(14);r=a(3);k=a(8);m=a(30);d=a(11);g=a(31);h=a(18);l=a(65);n=a(5);a=k.pa.get(g.oh);q=k.pa.get(l.sy);a.register(r.N.VEa,function(p){var v,x;function u(){p(c.$e);u=m.Al;}function t(y){if(!(y instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(z){if(!(0,h.kd)(y[z]))throw z + " is not a function";});}function w(){return Promise.resolve().then(function(){var y;y=d.Oe.getBattery();if(!(0,h.kd)(y.then))throw "getBattery did not return a promise";return y;});}v=(0,k.aj)("BatteryManager");b.zw={Hfb:"chargingchange",LZa:function(){return x?x.level:null;},eoa:function(){return x?x.charging:null;},addEventListener:function(y,z){x && x.addEventListener(y,z);},removeEventListener:function(y,z){x && x.removeEventListener(y,z);}};f.config.HU && (0,h.kd)(d.Oe.getBattery)?q.ar((0,n.Nc)(f.config.WGb),w()).then(function(y){t(y);x=y;}).catch(function(y){v.error("getBattery failed",y);}).then(u):u();});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YFa="LicenseBrokerFactorySymbol";},function(r,b){function a(c,f){var k;k=this;this.ZZa=c;this.$5a=f;this.uya=!1;this.TO=function(){k.zp=void 0;k.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.HMa=void 0;a.prototype.update=function(c){var f,k,m,d,g;m=this.ZZa();if(this.cdb !== m){d=null === (k=null === (f=this.lp) || void 0 === f?void 0:f.xH(m)) || void 0 === k?void 0:k[0];if(d && ("startTime" in d))if(d.startTime <= m && m <= d.endTime){g=d;this.Rcb(d.endTime - m);}else this.Rcb(d.startTime - m);this.cdb=m;this.Eia !== g && (this.Eia=g,!c && this.$5a && this.$5a());}};a.prototype.start=function(){this.uya=!0;this.update();};a.prototype.J$a=function(c){this.lp=c;this.Eia=this.cdb=void 0;c || this.stop();};a.prototype.stop=function(){this.uya=!1;this.Xs();};a.prototype.EGb=function(){this.update(!0);return this.Eia;};a.prototype.Rcb=function(c){this.Xs();this.uya && 0 < c && (this.zp=setTimeout(this.TO,c + a.Zjb));};a.prototype.Xs=function(){this.zp && (clearTimeout(this.zp),this.zp=void 0);};b.HMa=a;a.Zjb=10;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.LEa=void 0;c=a(15);f=a(74);b.LEa=function(k){function m(d){k.fireEvent(c.ea.gH,{response:d,K:k.ja.K});}return {download:function(d,g){d.j=k;d=f.mf.download(d,g);d.Gia(m);return d;}};};},function(r,b,a){var c,f,k,m,d,g,h,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.pFa=void 0;c=a(14);f=a(51);k=a(3);m=a(540);d=a(11);g=a(18);h=a(15);l=a(8);n=a(212);b.pFa=function(q){var u,t,w,v;function p(){q.state.value !== h.Tb.te || q.Bb.value !== h.hb.qh && q.Bb.value !== h.hb.xr?t.Xs():t.oH();}u=c.config.zUb;if(!q.jO() && u){t=l.pa.get(n.c2)(u,function(){q.fireEvent(h.ea.WN,k.N.C1);});q.Bb.addListener(p);q.state.addListener(p);if(c.config.gqa){w=(0,f.mk)();v=new m.XKa(c.config.gqa,function(){var x,y;x=(0,f.mk)();y=x - w;y > u && (q.fireEvent(h.ea.WN,k.N.h1),v.ITa());y > 2 * c.config.gqa && (q.hqa=(0,d.wo)(y,q.hqa || 0));w=x;});v.E_b();}q.addEventListener(h.ea.qg,function(){t.Xs();(0,g.Zc)(v) && v.ITa();});}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XKa=void 0;b.XKa=function(a,c){var f;this.E_b=function(){f || (f=setInterval(c,a));};this.ITa=function(){f && (clearInterval(f),f=void 0);};};},function(r,b,a){var f,k,m,d,g,h,l;function c(n){var q,p,u,t;q=this;this.j=n;this.TU=void 0;this.Mga=(0,m.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.Bga=(0,m.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.qga=(0,m.createElement)("DIV","width:100%;text-align:center");this.hnb=this.Dga("Audio Bitrate");this.wia=this.Dga("Video Bitrate");this.tga=this.Dga("CDN");this.xT={};this.wW=d.pa.get(g.kn);this.Mga.appendChild(this.Bga);this.Bga.appendChild(this.qga);p=(0,m.createElement)("BUTTON",void 0,"Override");p.addEventListener("click",this.bnb.bind(this),!1);this.qga.appendChild(p);p=(0,m.createElement)("BUTTON",void 0,"Reset");p.addEventListener("click",this.mrb.bind(this),!1);this.qga.appendChild(p);u=this.vqb.bind(this);k.we.addListener(k.ED,u);n.addEventListener(l.ea.hI,function(){q.xT={};});n.addEventListener(l.ea.qg,function(){k.we.removeListener(k.ED,u);});t=this.$qb.bind(this);n.uc.forEach(function(w){w.addListener(t);});n.tc.addListener(t);n.Ag.addListener(t);}Object.defineProperty(b,"__esModule",{value:!0});b.WJa=void 0;f=a(42);k=a(62);m=a(30);d=a(8);g=a(41);h=a(135);l=a(15);c.prototype.show=function(){this.UT || (this.$Pa(),document.body.appendChild(this.Mga),this.UT=!0);};c.prototype.ps=function(){this.UT && (document.body.removeChild(this.Mga),this.UT=!1);};c.prototype.toggle=function(){this.UT?this.ps():this.show();};c.prototype.Icb=function(){var p,u,t,w;function n(v,x,y){var z,A,B;A=[];x.filter(function(E){return E.Lg === v;}).forEach(function(E){0 <= y.indexOf(E)?(void 0 === B?B=E.bitrate:z=E.bitrate,void 0 === z && (z=E.bitrate)):void 0 !== B && void 0 !== z && (A.push({min:B,max:z}),B=z=void 0);});if(void 0 !== B && void 0 !== z){A.push({min:B,max:z});B=z=void 0;}return A;}function q(v,x,y){var z;z=[];x.filter(function(A){return A.Lg === v;}).forEach(function(A){-1 === y.indexOf(A) && z.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return z;}u=this.j.Zt();t=this.j.HH().sort(function(v,x){return v.bitrate - x.bitrate;});w=t.reduce(function(v,x){0 > v.indexOf(x.Lg) && v.push(x.Lg);return v;},[]).map(function(v){return {profile:v,ranges:n(v,t,u),disallowed:q(v,t,u)};});!1;null === (p=this.j.Ja) || void 0 === p?void 0:p.fr(w,this.j.K);};c.prototype.bnb=function(){var p,u;this.xT={};for(var n=this.wia.options,q=n.length;q--;){p=n[q];p.selected && (this.xT[p.value]=1);}this.TU=this.Gnb.bind(this);this.Icb();if(n=this.j.vj){u=this.tga.value;n=n.filter(function(t){return t.id == u;})[0];q=this.j.uc[f.Vb.Wa.Pb].value;n && n != q && (n.mTa={testreason:"streammanager",selreason:"userselection"},this.j.uc[f.Vb.Wa.Pb].set(n));}this.ps();};c.prototype.mrb=function(){this.TU=void 0;this.j.X$a(this.j.K);this.ps();};c.prototype.Gnb=function(){var n;n=this;return this.j.HH().filter(function(q){return n.xT[q.bitrate];});};c.prototype.$Pa=function(){var n,q,p,u;n=this;q=this.j.tc.value;p=this.j.Ag.value;u=this.j.vj;q && (u=u.slice(),u.sort(function(t,w){return t.dc - w.dc;}),this.fia(this.hnb,q.streams.map(function(t){return {value:t.bitrate,caption:t.bitrate,selected:t == n.j.th.value};})));p && (this.fia(this.wia,p.streams.map(function(t){var w,v;w=n.j.zO.sv(t);t=t.bitrate;v="" + t;w && (v+=" (" + w.join("|") + ")");return {value:t,caption:v,selected:n.TU?n.xT[t]:!w};})),this.wia.removeAttribute("disabled"));u && (this.fia(this.tga,u.map(function(t){return {value:t.id,caption:"[" + t.id + "] " + t.name,selected:t == n.j.uc[f.Vb.Wa.Pb].value};})),this.tga.removeAttribute("disabled"));};c.prototype.$qb=function(){this.UT && this.$Pa();};c.prototype.Dga=function(n){var q,p;q=(0,m.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");n=(0,m.createElement)("DIV",void 0,n);p=(0,m.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});q.appendChild(n);q.appendChild(p);this.Bga.appendChild(q);return p;};c.prototype.fia=function(n,q){n.innerHTML="";q.forEach(function(p){var u;u={title:p.caption};p.selected && (u.selected="selected");u=(0,m.createElement)("option",void 0,p.caption,u);u.value=p.value;n.appendChild(u);});};c.prototype.vqb=function(n){n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == h.Jv.Mlb && this.wW.bra && this.toggle();};b.WJa=c;},function(r,b,a){var f,k,m,d,g;function c(h,l){this.Cna=h;this.kH={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,f.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.D$a(l);this.$Xa=this.THb(this.Cna);}Object.defineProperty(b,"__esModule",{value:!0});b.EMa=void 0;f=a(30);k=a(543);m=a(544);d=a(11);g=a(24);c.prototype.Rn=function(){return this.element;};c.prototype.UZb=function(h){this.pja=h;};c.prototype.d_b=function(h){this.entry=h;this.rP();};c.prototype.k_b=function(h){this.D$a(h);this.rP();};c.prototype.rP=function(){var h,l,n,q,p,u,t,w,v,x,y,A,B,E;h=this;l=this.Rn();n=l.parentElement;q=n && n.clientWidth || 0;p=n && n.clientHeight || 0;u=n=0;t={width:q,height:p};if(0 < q && 0 < p && this.entry){this.pja && (t=(0,f.qN)(q,p,this.pja),n=Math.round((q - t.width) / 2),u=Math.round((p - t.height) / 2));v=this.Zvb(t);x=(0,f.qN)(v.width,v.height,this.pja);v=(w=this.entry.blocks) && w.map(function(D){var F;F=(0,m.Nma)(D,x,h.Cna,h.$Xa);D=(0,m.aXa)(D) + ";position:absolute";return (0,f.createElement)("div",D,F,c.Wca);});}Object.assign(this.kH,{left:n + "px",right:n + "px",top:u + "px",bottom:u + "px"});l.style.display="none";l.style.direction=this.kH.direction;l.innerHTML="";if(v && v.length){q=t.width;n=t.height;y=t;this.yU && (y=this.psb(t,this.yU,p,u));this.kH.margin=this.Bs?this.A4(t,"top") + "px " + this.A4(t,"right") + "px " + this.A4(t,"bottom") + "px " + this.A4(t,"left") + "px ":void 0;v.forEach(function(D){return l.appendChild(D);});p=(0,f.ZG)(this.kH);l.style.cssText=p + ";visibility:hidden;z-index:-1";u=[];for(var z=v.length - 1;0 <= z;z--){A=v[z];B=w[z];E=this.B5a(A,B,q,n);E.width > q && (A.innerHTML=(0,m.Nma)(B,t,this.Cna,this.$Xa,q / E.width),E=this.B5a(A,B,q,n));u[z]=E;}u=(0,k.ycb)(u,y);if(z=w && w[0] && w[0].textNodes && w[0].textNodes[0] && w[0].textNodes[0].style)(y=z.windowColor,z=z.windowOpacity,y && 0 < z && (A=Math.round(n / 50),t=(0,m.cXa)(w,u,A,y,t),t=(0,f.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,t,c.Wca),l.insertBefore(t,l.firstChild)));l.style.display="none";for(t=u.length - 1;0 <= t;t--){z=u[t];y=v[t].style;A=w[t].region;z=(0,m.bXa)(A,z,q,n,0);Object.assign(y,z);}l.style.cssText=p;}};c.prototype.nxa=function(h){this.yU=h;this.rP();};c.prototype.opa=function(){return this.yU;};c.prototype.oxa=function(h){this.Bs=h;this.rP();};c.prototype.ppa=function(){return this.Bs;};c.prototype.qpa=function(){return "block" === this.kH.display;};c.prototype.pxa=function(h){var l;l=h?"block":"none";this.element.style.display=l;this.kH.display=l;h && this.rP();};c.prototype.THb=function(h){var l,n;l=this;n={};(0,g.ve)(h,function(q,p){n[q]=l.JQb(p);});return n;};c.prototype.D$a=function(h){this.kH.direction="boolean" === typeof h?h?"ltr":"rtl":"inherit";};c.prototype.A4=function(h,l){if(this.Bs){if("left" === l || "right" === l)return h.width * (this.Bs[l] || 0);if("top" === l || "bottom" === l)return h.height * (this.Bs[l] || 0);}return 0;};c.prototype.Zvb=function(h){return this.Bs?{height:h.height * (1 - (this.Bs.top || 0) - (this.Bs.bottom || 0)),width:h.width * (1 - (this.Bs.left || 0) - (this.Bs.right || 0))}:h;};c.prototype.JQb=function(h){var l;h="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + h + ";";h=(0,f.createElement)("DIV",h,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.Wca);d.Be.body.appendChild(h);l={fontSize:1E3,height:h.clientHeight,width:h.clientWidth / 52,lineHeight:h.clientHeight / 1E3};d.Be.body.removeChild(h);return l;};c.prototype.B5a=function(h,l,n,q){var p,u,t,w,v;p=l.region;u=(p.marginTop || 0) * q;t=(p.marginBottom || 0) * q;w=(p.marginLeft || 0) * n;v=(p.marginRight || 0) * n;l=h.clientWidth || 1;h=h.clientHeight || 1;switch(p.verticalAlignment){case "top":q=u;break;case "center":q=(u + q - t - h) / 2;break;default:q=q - t - h;}switch(p.horizontalAlignment){case "left":n=w;break;case "right":n=n - v - l;break;default:n=(w + n - v - l) / 2;}return {top:q,left:n,width:l,height:h};};c.prototype.psb=function(h,l,n,q){return {height:n - Math.max(q,l.bottom || 0) - Math.max(q,l.top || 0),width:h.width};};b.EMa=c;c.Wca={"class":"player-timedtext-text-container"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.ycb=void 0;c=a(11);b.ycb=function(f,k){function m(h,l,n){var t,v,x,y,z;if(h && 1 < h.length){for(var q=[],p=[],u=0;u < h.length;u++){q[u]=0;p[u]=0;}t=!1;for(u=0;u < h.length;u++){for(var w=u + 1;w < h.length;w++){v=h[u];x=h[w];if(0 > v.width || 0 > x.width || x.left > v.left + v.width || x.left + x.width < v.left || x.top > v.top + v.height?0:x.top + x.height >= v.top){y=(0,c.wo)(v.left,x.left);z=(0,c.wo)(v.top,x.top);y={width:(0,c.wo)((0,c.Ip)(v.left + v.width,x.left + x.width) - y,0),height:(0,c.wo)((0,c.Ip)(v.top + v.height,x.top + x.height) - z,0),x:y,y:z};}else y=void 0;if(y && 1 < y.width && 1 < y.height)if((z=y.width <= y.height,v=d(h[u]),x=d(h[w]),z && l || !z && !l))(y=(0,c.wo)(y.width / 2,.25),v.x <= x.x?(p[u]-=y,p[w]+=y):(p[w]-=y,p[u]+=y));else if(z && !l || !z && l)(v=(0,c.wo)(y.height / 2,.25),q[u]-=v,q[w]+=v);}}for(u=0;u < h.length;u++){if(-.25 > p[u] && 0 <= h[u].left + p[u] || .25 < p[u] && h[u].left + h[u].width + p[u] <= n.width)(h[u].left+=p[u],t=!0);if(-.25 > q[u] && 0 <= h[u].top + q[u] || .25 < q[u] && h[u].top + h[u].height + q[u] <= n.height)(h[u].top+=q[u],t=!0);}return t;}}function d(h){return {x:h.left + h.width / 2,y:h.top + h.height / 2};}f=f.map(function(h){return {top:h.top,left:h.left,width:h.width,height:h.height};});(function(h,l){h.forEach(function(n){0 > n.left && n.left + n.width < l.width?n.left+=(0,c.Ip)(-n.left,l.width - (n.left + n.width)):n.left + n.width > l.width && 0 < n.left && (n.left-=(0,c.Ip)(n.left + n.width - l.width,n.left));0 > n.top && n.top + n.height < l.height?n.top+=(0,c.Ip)(-n.top,l.height - (n.top + n.height)):n.top + n.height > l.height && 0 < n.top && (n.top-=(0,c.Ip)(n.top + n.height - l.height,n.top));});})(f,k);for(var g=0;50 > g && m(f,!0,k);g++){;}for(g=0;50 > g && m(f,!1,k);g++){;}return f;};},function(r,b,a){var g,h,l;function c(n,q,p,u,t){var w;w={};"right" == n.horizontalAlignment?w.right=100 * (p - q.left - q.width - t) / p + "%":w.left=100 * (q.left - t) / p + "%";"bottom" == n.verticalAlignment?w.bottom=100 * (u - q.top - q.height - t) / u + "%":w.top=100 * (q.top - t) / u + "%";return w;}function f(n,q){var p;if(n && q){40 === q.x && 19 === q.y?p=4 / 3 / (40 / 19):52 === q.x && 19 === q.y && (p=16 / 9 / (52 / 19));if(p)return n.width / n.fontSize / p;}}function k(n,q,p,u,t){var w,v;w=n.style;v=(0,h.GW)(n.text);for(n=n.lineBreaks;n--;){v="<br />" + v;}return m(v,w,q,p,u,t);}function m(n,q,p,u,t,w){var v;v=q.characterStyle;t=t[v];v=0 <= v.indexOf("MONOSPACE")?f(t,q.cellResolution) || t.lineHeight:t.lineHeight;u=q.characterSize * u.height / (v || 1);u=0 < w?(0,l.$B)(u * w):(0,l.Vj)(u);w={"font-size":u + "px","line-height":"normal","font-weight":"normal"};q.characterItalic && (w["font-style"]="italic");q.characterUnderline && (w["text-decoration"]="underline");q.characterColor && (w.color=q.characterColor);q.backgroundColor && 0 !== q.backgroundOpacity && (w["background-color"]=d(q.backgroundColor,q.backgroundOpacity));u=q.characterEdgeColor || "#000000";switch(q.characterEdgeAttributes){case "DROP_SHADOW":w["text-shadow"]=u + " 0px 0px 7px";break;case "UNIFORM":w["text-shadow"]="-1px 0px " + u + ",0px 1px " + u + ",1px 0px " + u + ",0px -1px " + u;break;case "RAISED":w["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":w["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}w=(0,g.ZG)(w);(p=p[q.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (w+=";" + p);q=q.characterOpacity;0 < q && 1 > q && (n='<span style="opacity:' + q + '">' + n + "</span>");return '<span style="' + w + '">' + n + "</span>";}function d(n,q){n=n.substring(1);n=parseInt(n,16);return "rgba(" + (n >> 16 & 255) + "," + (n >> 8 & 255) + "," + (n & 255) + "," + (void 0 !== q?q:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.aXa=b.wEb=b.uEb=b.xEb=b.vEb=b.bXa=b.cXa=b.Nma=void 0;g=a(49);h=a(24);l=a(11);b.Nma=function(n,q,p,u,t){var w;w="";n.textNodes.forEach(function(v){w+=k(v,p,q,u,t);});return w;};b.cXa=function(n,q,p,u,t){var w,v,y,z,A;w="";v=t.width;t=t.height;for(var x=q.length;x--;){y=q[x];z=n[x];z=z && z.region;A="position:absolute;background:" + u + ";width:" + (0,l.Vj)(y.width + 2 * p) + "px;height:" + (0,l.Vj)(y.height + 2 * p) + "px;";y=c(z,y,v,t,p);(0,h.ve)(y,function(B,E){A+=B + ":" + E + ";";});w+='<div style="' + A + '"></div>';}return w;};b.bXa=c;b.vEb=f;b.xEb=k;b.uEb=m;b.wEb=d;b.aXa=function(n){var q;q={display:"block","white-space":"nowrap"};switch(n.region.horizontalAlignment){case "left":q["text-align"]="left";break;case "right":q["text-align"]="right";break;default:q["text-align"]="center";}return (0,g.ZG)(q);};},function(r,b,a){var c,f,k,m,d,g,h,l;Object.defineProperty(b,"__esModule",{value:!0});b.LJa=void 0;c=a(12);f=a(14);k=a(51);m=a(93);d=a(11);g=a(63);h=a(18);l=a(15);b.LJa=function(n){var t,w,v,x,y,z;function q(){return n.state.value === l.Tb.LOADING || n.state.value === l.Tb.te && n.Bb.value === l.hb.Uf;}function p(){q()?z || (z=setInterval(u,100)):z && (clearInterval(z),z=void 0,(0,g.Xf)(u));}function u(){var A,B,E,D,F,G,C,H;A=(0,k.mk)();B=t.value;E=B?B.progress:0;D=n.state.value == l.Tb.LOADING || q() && A - w > f.config.Bvb;if(D && n.state.value == l.Tb.te){if(n.Gf.value === l.Cf.qLa)(F=E,G=!0);else {C=A;v=v || A;x=x || v + f.config.lRb + 1;(0,h.Ea)(C) && (C=(0,d.wo)(C,x),F=(0,d.Vj)(1E3 * (0,m.Jp)((A - v) / (C - v),0,.99)) / 1E3);}if(F < E)if(E - F < f.config.EWb / 100)(F=E,y=void 0);else if(y){if(A - y > f.config.DWb){H=!0;y=void 0;}else F=E;}else (y=A,F=E);}else y=x=v=void 0;A=D?{Ws:G,progress:F,FWb:H}:null;(!A || !t || !B || (0,h.Ea)(A.progress) && !(0,h.Ea)(B.progress) || (0,h.Ea)(A.progress) && (0,h.Ea)(B.progress) && .01 < (0,d.wF)(A.progress - B.progress) || A.Ws !== B.Ws) && t.set(A);}t=n.dka;w=0;n.state.addListener(function(){p();u();},c.B1);n.Bb.addListener(function(A){if(A.oldValue !== l.hb.Uf || A.newValue !== l.hb.Uf)w=(0,k.mk)();p();});n.Gf.addListener(function(){p();});n.Vr.addListener(function(){p();});n.Ym.addListener(function(){p();});z || (z=setInterval(u,100));};},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M;function c(I){var Q;Q=this;this.j=I;this.$b=this.j.$b;this.log=(0,n.Qh)(this.j,"MediaPresenterASE");this.L9=this.i5=0;this.Z=this.$b.Z;this.p7a=this.g7a=this.p8=this.Dua=!1;this.L1b=n.pa.get(E.UK)((0,B.Nc)(z.Q1));this.iM=void 0;this.wp=n.pa.get(F.yLa)(this.j);this.Px={};this.D4a={};this.xW={};this.wg=new C.bHa(this.j);this.J1b=function(){var L,J,N;Q.j.ZZ=(0,l.mk)();if(!Q.vk() && Q.Tn){L=Q.$b.C_a();L || (Q.IUb(),Q.wg.Gya(Q.mediaTime));Q.j.paused.value || !Q.wg.Tla(Q.mediaTime) || !Q.aka() || L || Q.wp.Rqa?Q.wwa():Q.Dua || Q.xwa();Q.HUb();if(!Q.$b.C_a() && !Q.p8){L=Q.$b.dW(!0);J=Q.j.Bb.value;N=Q.Mxb();J !== N && !1;N === x.hb.xr?(Q.mediaTime=Q.j.Xu.da(B.la),Q.wwa()):N !== x.hb.Uf && Q.L3b(L);Q.Vcb();Q.wg.yka(Q.mediaTime);Q.j.Bb.set(N);N !== x.hb.Uf || J !== x.hb.Lc && J !== x.hb.qh || Q.vTb();}}};this.Zl=(0,G.e8a)(this.J1b);this.mediaTime=I.$;this.j.oi=!1;this.$b.addEventListener(A.Wj.Bab,function(){Q.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{Q.Fb();}catch(L){Q.log.error("Exception while initializing",L);Q.Ld(q.N.Ukb);}});}Object.defineProperty(b,"__esModule",{value:!0});b.pHa=void 0;f=a(42);k=a(12);m=a(14);d=a(61);g=a(62);h=a(49);l=a(51);n=a(8);a(103);q=a(3);p=a(337);u=a(22);t=a(93);w=a(30);v=a(63);x=a(15);y=a(18);z=a(171);A=a(308);B=a(5);E=a(114);D=a(212);F=a(547);G=a(1204);C=a(1205);H=a(267);K=a(211);M=a(11);c.prototype.oZa=function(){return this.$b.dW(!1);};c.prototype.L6=function(){return this.$b.L6();};c.prototype.vD=function(){return this.$b.vD();};c.prototype.yH=function(){return this.$b.yH();};c.prototype.cW=function(){return this.$b.cW();};c.prototype.Fb=function(){var I;I=this;this.log.trace("Video element initializing");this.$b.sourceBuffers.forEach(function(Q){return I.wg.z_b(Q);});this.nMb(this.j.ZH);};c.prototype.nMb=function(I){var Q,L;Q=this;I?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.K}),null === (L=this.j.Ja) || void 0 === L?void 0:L.Mz(this.j.K));this.log.trace("Waiting for loadedmetadata");this.$b.addEventListener(A.Wj.a3a,function(J){var N;J=J.S;Q.j.Ed("ld",J);null === (N=Q.j.Ja) || void 0 === N?void 0:N.Mz(J);Q.j.fireEvent(x.ea.Y2a);});(0,h.hRa)(this.Z,"loadedmetadata",function(){Q.log.trace("Video element event: loadedmetadata");Q.j.Ed("md");});g.we.addListener(g.Pl,this.xW[g.Pl]=function(){return Q.close();},k.GF);this.j.addEventListener(x.ea.qg,function(){return Q.close();},k.GF);this.j.addEventListener(x.ea.V9a,function(){return Q.xwa();});this.j.addEventListener(x.ea.hI,function(){return Q.iTb();});this.j.paused.addListener(function(){return Q.Zl();});this.j.muted.addListener(function(){return Q.cza();});this.j.volume.addListener(function(){return Q.cza();});this.j.playbackRate.addListener(function(){return Q.Dba();});this.j.Vr.addListener(function(){return Q.Zl();});this.j.Ym.addListener(function(){return Q.Zl();});this.cza();this.Dba();this.wg.Iaa(function(){return Q.i9();});this.i9();this.c3b();};c.prototype.V3=function(I){var Q;Q=this;!1;this.wg.Htb(I);this.ywb(I).then(function(){Q.i9();Q.j.fireEvent(x.ea.h9);}).catch(function(L){Q.Ld(q.N.Ykb,{yb:(0,w.wd)(L)});});};c.prototype.gja=function(I,Q,L){L=void 0 === L?{}:L;Q=this.tDb(I,Q);this.wg.Ftb(I,Q,L);this.i9();this.g7a || I.type !== f.Vb.zl.Pb || (this.wp.Rqa || this.seek(this.j.$,x.Pe.fy),this.g7a=!0);};c.prototype.c3b=function(){var I;I=this;this.$b.addEventListener(A.Wj.rZ,this.Px[A.Wj.rZ]=function(){return I.ATb();});this.$b.addEventListener(A.Wj.oq,this.Px[A.Wj.oq]=function(){return I.b$();});this.Z.addEventListener("ended",this.Px.ended=function(){return I.dTb();});this.Z.addEventListener("play",this.Px.play=function(){return I.mTb();});this.Z.addEventListener("pause",this.Px.pause=function(){return I.kTb();});this.Z.addEventListener("playing",this.Px.playing=function(){return I.sTb();});this.Tn=!0;this.wg.Gya(this.mediaTime);this.log.trace("Video element initialization complete");this.j.Ed("vi");m.config.GVa?setTimeout(function(){I.Lta=!0;I.Zl();},m.config.GVa):this.Lta=!0;this.G0b();(0,v.Xf)(function(){return I.Zl();});};c.prototype.G0b=function(){var L;function I(){var J;L.j.Bb.value !== x.hb.Lc || 0 !== (null === (J=L.j.dg) || void 0 === J?void 0:J.L6()) || M.Be.hidden?(L.A5a.Xs(),J="stopTimer"):(L.A5a.oH(),J="ensureTimer");L.log.trace("No render timer update: " + J,{presentingState:x.hb[L.j.Bb.value],hidden:M.Be.hidden});}function Q(J){var N,O;J=void 0 === J?!0:J;N=L.j.Ja;O=(null === N || void 0 === N?void 0:N.ji) && N.v7();L.j.Bb.value == x.hb.Uf && L.j.state.value == x.Tb.te && L.j.Vr.value == x.Cf.te && L.j.Ym.value == x.Cf.te && !L.j.oi && O?(J && L.k5.Xs(),L.k5.oH(),N="ensureTimer"):(L.k5.Xs(),N="stopTimer");L.log.trace("Timer update: " + N,{presentingState:x.hb[L.j.Bb.value],playbackState:x.Tb[L.j.state.value],avBufferingState:x.Cf[L.j.Vr.value],textBufferingState:x.Cf[L.j.Ym.value],autoplayWasBlocked:L.j.oi,hasLicense:O,restartTimer:J});}L=this;m.config.vVa && ((0,u.jb)(!this.k5),this.k5=n.pa.get(D.c2)(m.config.vVa,function(){var J;J=n.pa.get(p.gda).QVa(L.j);L.Ld(J.code,J);}),this.j.Bb.addListener(function(){return Q();}),this.j.Vr.addListener(function(){return Q();}),this.j.Ym.addListener(function(){return Q();}),this.j.state.addListener(function(){return Q();}),this.j.addEventListener(x.ea.Y2a,function(){return Q();}),this.j.addEventListener(x.ea.oi,function(){return Q();}),this.j.addEventListener(x.ea.Cja,function(){return Q();}),this.j.addEventListener(x.ea.$I,function(){return Q(!0);}),Q());m.config.z5a && (this.A5a=n.pa.get(D.c2)(m.config.z5a,function(){var J;0 === (null === (J=L.j.dg) || void 0 === J?void 0:J.vD()) && (J=n.pa.get(p.gda).QVa(L.j),L.Ld(J.code,J));L.j.Bb.removeListener(I);g.we.removeListener(g.ls,L.xW[g.ls]);}),this.j.Bb.addListener(I),g.we.addListener(g.ls,this.xW[g.ls]=I),I());};c.prototype.tDb=function(I,Q){var L;L=this.j.tf;(L=(0,K.Fqa)(L)?L.CN():void 0) && I.type === f.Vb.zl.Pb && ((I=new H.zK(this.log,{mediaType:H.Xj.Pb,url:"http://some-url"},Q).ya(L))?Q=I:!1);return Q;};c.prototype.i9=function(){this.Tn?this.Zl():m.config.Gtb && this.wg.Gya(this.mediaTime);this.wg.tTa();};c.prototype.M0b=function(){!1;this.j.Bb.set(x.hb.Uf);this.p8=!0;this.Zl();};c.prototype.Ixb=function(){var I;I=this;this.p8 && (!1,this.p8=!1,(0,v.Xf)(function(){return I.vSb();}));};c.prototype.C6=function(){return this.wg.C6();};c.prototype.vSb=function(){var I,Q;I=this.j.zD() || 0;if(this.j.cb.bj){if(m.config.ovb){I=I - (this.$b.Lwa + 1) - m.config.Kwa;Q=this.j.Ja.Sn().gd;I=Math.max(I,Q);}}else (I-=m.config.sZb,I=Math.max(I,this.wp.ura));this.seek(I,x.Pe.a2);};c.prototype.Y9=function(I){var Q;Q=this;this.wg.B_b(I);(0,v.Xf)(function(){return Q.Zl();});};c.prototype.lIb=function(){return {i5:this.i5,L9:this.L9};};c.prototype.ywb=function(I){var Q;Q=this.$b && this.$b.YZa();this.j.Xu && Q && Infinity !== I.e$a && (I=I.e$a + I.gv,I > this.j.Xu.K7a(B.la) && (this.j.Xu=(0,B.Nc)(I)));return Promise.resolve();};c.prototype.HUb=function(){var I;I=this;this.wp.v$ && (!1,this.aka() && this.wg.Tla(this.mediaTime) && (this.$b.seek(this.mediaTime),this.wp.v$=!1,(0,v.Xf)(function(){return I.Zl();})));};c.prototype.L3b=function(I){var Q;if(I < this.mediaTime){Q=this.mediaTime - I;m.config.JUb && I && Q > z.Q1 && (I={ElementTime:(0,t.mj)(I),MediaTime:(0,t.mj)(this.mediaTime)},Q > z.TKa?this.Ld(q.N.hlb,{yb:Object.assign({Trace:this.$b.BD()},I)}):this.log.warn("VIDEO.currentTime became smaller",I));}else this.mediaTime=(0,t.Jp)(I,0,this.j.Xu.da(B.la));};c.prototype.aka=function(){return this.j.Vr.value === x.Cf.te && this.j.Ym.value === x.Cf.te;};c.prototype.Mxb=function(){var I,Q,L;I=this;Q=this.j.Bb.value;L=Q;this.wp.Rqa?L=x.hb.Uf:this.Z && this.Z.ended?Q === x.hb.Lc && (L=x.hb.xr):this.aka() && this.wg.Tla(this.mediaTime)?this.$b.uCb()?L=this.Z && this.Z.paused?x.hb.qh:x.hb.Lc:this.L1b.Yl(function(){return I.K1b();}):L=this.j.Xu?this.j.h0a(this.mediaTime,this.wg.h5())?x.hb.Uf:x.hb.xr:x.hb.Uf;return L;};c.prototype.vTb=function(){var I;if(this.j.Bb.value === x.hb.Uf){I=this.wg.s2b() > this.wg.h5();this.j.Ym.value !== x.Cf.te?this.j.Qi.value?(this.j.fireEvent(x.ea.kz,{cause:d.JJa}),this.log.warn("rebuffer due to timed text",this.j.Qi.value.Uh)):this.j.fireEvent(x.ea.kQ):I?(this.i5++,this.j.fireEvent(x.ea.kz,{cause:d.Xea})):(this.L9++,this.j.fireEvent(x.ea.kz,{cause:d.Yea}));}};c.prototype.K1b=function(){this.vk() || (m.config.zSb && this.wg.ySb(),this.Zl());};c.prototype.ATb=function(){this.Zl();};c.prototype.b$=function(){this.Zl();this.j.fireEvent(x.ea.oq);};c.prototype.dTb=function(){this.log.trace("Video element event: ended");this.Zl();};c.prototype.mTb=function(){this.log.trace("Video element event: play");this.Zl();};c.prototype.kTb=function(){this.log.trace("Video element event: pause");this.Zl();};c.prototype.sTb=function(){this.log.trace("Video element event: playing");this.Zl();};c.prototype.cza=function(){this.vk() || (this.Z && this.Z.volume !== this.j.volume.value && (this.Z.volume=this.j.volume.value),this.Z && this.Z.muted !== this.j.muted.value && (this.Z.muted=this.j.muted.value));};c.prototype.Dba=function(){!this.vk() && this.Z && (this.Z.playbackRate=this.j.playbackRate.value);};c.prototype.xwa=function(){var I;I=this;this.vk() || !(0,y.Zc)(this.Z) || this.Z.ended || !this.Lta || !this.zQ && void 0 !== this.zQ || (this.log.trace("Calling play on element"),Promise.resolve(this.Z.play()).then(function(){I.closed || (I.zQ=!1,I.Dua=!1,I.Z.style.display=null,I.j.oi=!1,I.j.fireEvent(x.ea.Cja));}).catch(function(Q){"NotAllowedError" === Q.name?(I.log.warn("Playback is blocked by the browser settings",Q),I.j.oi=!0,I.closed || (I.Dua=!0,I.Z.style.display="none",I.j.fireEvent(x.ea.oi,{player:{play:function(){return I.xwa();}}}))):I.closed || (I.zQ=!1,I.p7a || (I.p7a=!0,I.log.error("Play promise rejected",Q)));}));};c.prototype.iTb=function(){this.wp.ura=this.j.zD() || 0;};c.prototype.wwa=function(){this.vk() || !(0,y.Zc)(this.Z) || this.Z.ended || !this.Lta || this.zQ && void 0 !== this.zQ || (this.log.trace("Calling pause on element"),this.Z.pause(),this.zQ=!0);};c.prototype.Vcb=function(I){this.j.mediaTime.set(this.mediaTime);I && this.j.UFb();};c.prototype.seek=function(I,Q,L,J){var N,O;L=void 0 === L?this.j.ha:L;J=void 0 === J?!1:J;O=null === (N=this.j.Ja) || void 0 === N?void 0:N.ji;!this.vk() && O && (this.j.fireEvent(x.ea.$I,{cause:Q}),this.wp.qY={time:I,cause:Q,ha:L,$Fb:J},this.j.Bb.set(x.hb.Uf),this.Zl());};c.prototype.IUb=function(){var I,Q,L,J,N,O,P,S;if(this.wp.qY){I=this.wp.qY;Q=I.time;L=I.cause;J=I.ha;N=I.$Fb;if(!this.wg.Ph() || L === x.Pe.fy){I=this.j.uk(J).K;O=this.wg.Ph()?void 0:this.wg.aHb();O=this.wp.LIb(Q,L,J,N,O);J=O.O9;N=O.nk;P=O.lVb;O=O.Ti;this.wg.yka(this.mediaTime);S=this.mediaTime;Q=(0,t.mj)(Q);this.j.CG("SEEKING: Requested: (" + I + ":" + L + ":" + Q + ") - Actual: (contentPts: " + N + ",playerPts: " + (P + ", newMediaTime: " + J + ")"));this.log.info("Seeking",{Requested:Q,Actual:(0,t.mj)(J),Cause:L,Skip:O});L === x.Pe.fy || O || (this.wg.x9a(),this.wg.v_b());this.mediaTime=J;this.wp.ura=N;Q=this.j.pf.value;P=this.j.re.value;this.j.pf.set(null);this.j.re.set(null);this.Vcb(!0);this.wp.qY=void 0;this.wp.v$=!0;this.j.fireEvent(x.ea.Gk,{Mta:S,O9:J,nk:N,cause:L,skip:O,pf:Q,re:P,K:I});O && this.wg.skip(J);}}};c.prototype.Ld=function(I,Q,L){this.closed || this.j.Ld(I,Q,L);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.wg.close();this.$b.removeEventListener(A.Wj.rZ,this.D4a[A.Wj.rZ]);this.$b.removeEventListener(A.Wj.oq,this.D4a[A.Wj.oq]);this.Z.removeEventListener("ended",this.Px.ended);this.Z.removeEventListener("play",this.Px.play);this.Z.removeEventListener("pause",this.Px.pause);this.Z.removeEventListener("playing",this.Px.playing);g.we.removeListener(g.Pl,this.xW[g.Pl]);g.we.removeListener(g.ls,this.xW[g.ls]);this.closed=!0;try{m.config.NRb && (this.Z.volume=0,this.Z.muted=!0);this.wwa();this.$b.close();}catch(I){}this.Z=void 0;this.wg.x9a();}};c.prototype.vk=function(){return this.closed?!0:(0,y.Zc)(this.Z)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.pHa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yLa="SeekManagerFactorySymbol";},function(r,b,a){var c,f,k,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.JDa=void 0;c=a(14);f=a(62);k=a(24);m=a(3);d=a(15);b.JDa=function(g,h,l){function n(p){var u,t;u=p.error || p;t=(0,k.wd)(u);l.error("uncaught exception",u,t);(u=(u=u && u.stack) && c.config.Acb && c.config.p3b?0 <= u.indexOf(c.config.Acb):void 0) && (p && p.stopImmediatePropagation && p.stopImmediatePropagation(),g.Ld(m.N.ZMa));}function q(){f.we.removeListener(f.o7,n);g.removeEventListener(d.ea.qg,q);g.removeEventListener(d.ea.Uq,q);}try{f.we.addListener(f.o7,n);g.addEventListener(d.ea.qg,q);c.config.RLb && g.addEventListener(d.ea.Uq,q);}catch(p){l.error("exception in exception handler ",p);}};},function(r,b,a){var c,f,k,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.G3a=void 0;c=a(14);f=a(12);k=a(51);r=a(3);m=a(11);d=a(18);g=a(8);a=a(31);g.pa.get(a.oh).register(r.N.ZEa,function(h){var q,p,u,t,w;function l(){return (0,m.$B)((0,k.mk)() / u);}function n(){var v;v=l();if(v != w){for(var x=(0,m.Ip)(v - w,30);x--;){t.push(0);}(x=(0,m.wo)(t.length - 31,0)) && t.splice(0,x);w=v;}t[t.length - 1]++;}q=c.config.HPb;p=-6 / (q - 2 - 2);u=f.cm;t=[];w=l();(0,d.Uqa)(q) && (setInterval(n,1E3 / q),b.G3a={cIb:function(){var y;for(var v=[],x=t.length - 1;x--;){y=t[x];v.unshift(0 >= y?9:1 >= y?8:y >= q - 1?0:(0,m.Vj)((y - 2) * p + 7));}return v;}});h(f.$e);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.efa="PlaybackMilestoneStoreSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cJa="PboManifestRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HIa="PboBindCommandSymbol";},function(r,b,a){var f,k,m,d,g;function c(h,l){this.$b=h;this.j=l;this.gX=[];}Object.defineProperty(b,"__esModule",{value:!0});b.XQ=void 0;r=a(1);f=a(3);k=a(0);m=a(18);d=a(30);g=a(8);c.prototype.j6=function(h){this.gX.forEach(function(l){return l(h);});};c.prototype.Ld=function(h,l,n){this.j.Ld(h,l,n);};c.prototype.Ksb=function(h){-1 === this.gX.indexOf(h) && this.gX.push(h);};c.prototype.UXb=function(h){h=this.gX.indexOf(h);0 <= h && this.gX.splice(h,1);};c.prototype.U_a=function(h){var l,n;l={};(0,m.Zc)(h.code)?l.ta=(0,f.GDa)(h.code):l.ta=f.M.Qk;try{n=h.message.match(/\((\d*)\)/)[1];l.uf=(0,g.Lja)(n,4);}catch(q){}l.yb=(0,d.wd)(h);return l;};a=c;a=r.__decorate([(0,k.T)()],a);b.XQ=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sKa="PlaygraphPlaybackStrategyFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wKa="PlaygraphStateFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UFa="LegacyPostPlayShimFactorySymbol";},function(r,b,a){var f;function c(k,m,d,g,h){var l;l=this;this.lb=k;this.Ok=m;this.qv=d;this.Wb=g;this.Qm=h;this.O$=new Map();this.N_b();this.Wb.addListener(f.Fa.loaded,function(){return l.Q7a();});}Object.defineProperty(b,"__esModule",{value:!0});b.AF=void 0;f=a(15);c.prototype.jRa=function(k){var m,d;m=this;d=Object.keys(this.lb.ql.V).find(function(g){return m.lb.ql.V[g].S === k.K;});k.id || (k.id=null !== d && void 0 !== d?d:this.Qm.js(k.K));d || (this.lb.ql=this.Qm.Jtb(this.lb.ql,k));d=this.QI(k.id);k.zj && this.lb.R3b(k.id,k.zj);return d;};c.prototype.ucb=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.Apa=function(k,m){var d;d=this;m=void 0 === m?{}:m;return this.qv.transition(k,m).then(function(){d.lb.$g=k;});};c.prototype.close=function(k){return this.qv.close(k);};c.prototype.isReady=function(){return this.qv.sJb();};c.prototype.Rn=function(){return this.qv.Rn();};c.prototype.EH=function(){return this.qv.EH();};c.prototype.QI=function(k){this.O$.has(k) || this.O$.set(k,this.qv.Yk(this.Avb(k)));return this.O$.get(k);};c.prototype.N_b=function(){var k;k=this;this.qv.addListener(f.MF.sZ,function(){return k.Wb.Hc(f.MF.sZ);});Object.values(f.Fa).forEach(function(m){k.qv.addListener(m,function(d){return k.Wb.Hc(m,d);});});};c.prototype.nx=function(){this.Q7a();};c.prototype.Uta=function(k){this.qv.P3b({id:k,K:this.lb.lf(k).S,zj:this.lb.KJb(k)});};c.prototype.CI=function(){};c.prototype.Q7a=function(){var k,m;if(this.isReady()){k=this.lb.$g;m=this.lb.nW(k);m && !this.O$.has(m) && (this.Uta(k),this.QI(m));}};c.prototype.Avb=function(k){var m,d,g,h;d=this.lb.lf(k);g=this.Ok.PN(d.S);h=null === g || void 0 === g?void 0:g.Ab;g=null === g || void 0 === g?void 0:g.oa;return {id:k,K:d.S,$:d.Aa,zj:null !== (m=null === h || void 0 === h?void 0:h.zj) && void 0 !== m?m:d.Ba,Ab:h,oa:g};};b.AF=c;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.ffa=void 0;a.prototype.msa=function(c){c=void 0 === c?{}:c;return {Pj:c.trackingId,j4:c.authParams,Vm:c.sessionParams,Xd:c.uiLabel,Jba:c.uxLabels,nma:c.disableTrackStickiness,sQ:c.uiPlayStartTime,n6:c.forceAudioTrackId,o6:c.forceTimedTextTrackId,bj:c.isBranching,Tdb:c.vuiCommand,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,fN:c.enableTrickPlay,Opa:c.heartbeatCooldown,n8:c.isPlaygraph,J8:c.loadImmediately || !1,i7a:c.pin,zY:c.preciseSeeking,$:c.startPts,La:c.endPts,zj:c.logicalEnd,caa:c.renderTimedText,qXa:c.extraManifestParams,rja:c.assetId,qub:c.audioLanguages,Z1b:c.textLanguages,Hdb:c.videoLanguage,op:c.packageId,MVa:c.desiredDownloadables,jwa:c.requestReference,ftb:c.additionalAudioAssets,htb:c.additionalTextAssets};};b.ffa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Da=void 0;b.$Da=function(a){var k,m,d,g;function c(){if(d)for(var h;h=k.pop();){h(g);}}function f(h){d=!0;g=h;c();}k=[];return function(h){k.push(h);m || (m=!0,a(f));c();};};},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v;Object.defineProperty(b,"__esModule",{value:!0});b.fcb=void 0;c=a(74);f=a(12);k=a(14);m=a(49);d=a(51);g=a(8);h=a(3);l=a(24);n=a(71);q=a(11);p=a(125);u=a(31);t=a(39);w=a(35);v=a(19);b.fcb=(function(){var z,A,B,E;function x(D){var F,G,C;F="info";G="";C=g.pa.get(n.QF).PZa();D.aa || (F="error",G+="&errorcode=" + (D.errorCode || ""),G+="&errorsubcode=" + (D.ta || ""));G="type=startup&sev=" + F + G + "&" + (0,m.QO)((0,l.ac)({},C,{prefix:"m_"}));!1;y("startup",G,z);}function y(D,F,G){G && A && k.config.hcb[D] && (D=B + "&jsoffms=" + (0,d.mk)() + "&do=" + q.Oe.onLine + "&" + F + "&" + (0,m.QO)((0,l.ac)({},E.Sc,{prefix:"im_"})),!1,c.mf.download({url:G,Oua:D,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},jD:"track"},f.Al));}A=!1;B="";(0,g.aj)("TrackingLog");E=g.pa.get(u.oh);E.register(h.N.dFa,function(D){var F,G,C;if(A=k.config.gcb && ! !k.config.yya){z=g.pa.get(p.dK).host + k.config.yya;F=g.pa.get(w.Cl);G=g.pa.get(w.fC);C=g.pa.get(v.md).id;B="cat=cadplayback&dev=" + encodeURIComponent(F.Kz) + "&ep=" + encodeURIComponent(G.O0) + "&ver=" + encodeURIComponent("6.0034.519.911") + "&jssid=" + C + "&browserua=" + q.eC;k.config.hA && (B+="&groupname=" + encodeURIComponent(k.config.hA));k.config.TJ && (B+="&uigroupname=" + encodeURIComponent(k.config.TJ));F=B;G=g.pa.get(t.qS);G=(0,l.ac)({},G,{prefix:"pi_"});G="&" + (0,m.QO)(G);B=F + G;E.pO(x);}D(f.$e);});return y;})();},function(r,b,a){var f,k,m,d,g;function c(h){var l;(0,f.aj)("MediaSourceASE").trace("Inside MediaSourceASE");l=h.lW();this.readyState=g.Uc.CLOSED;this.sourceBuffers=l.sourceBuffers;this.addSourceBuffer=function(n){return l.addSourceBuffer(n);};this.N3=function(n){return l.N3(n);};this.removeSourceBuffer=function(n){return l.removeSourceBuffer(n);};this.qq=function(n){return l.qq(n);};this.JZ=d++;this.duration=void 0;l.TZb(this.JZ);this.readyState=g.Uc.OPEN;this.Rc=k.pa.get(m.jg).rI(g.Rc,{});}Object.defineProperty(b,"__esModule",{value:!0});b.uHa=void 0;f=a(8);k=a(8);m=a(29);d=0;Object.defineProperty(c.prototype,"duration",{get:function(){return this.ak;},set:function(h){var l;this.ak=h || Infinity;l=Math.floor(1E3 * h) || Infinity;this.sourceBuffers.forEach(function(n){n.ak=l;});}});g={Uc:{CLOSED:0,OPEN:1,xr:2,name:["CLOSED","OPEN","ENDED"]},Rc:{PTa:!0,j5a:!0}};b.uHa=Object.assign(c,g);},function(r,b,a){var h,l,n,q,p,u,t,w;function c(v){return v.split(",").reduce(function(x,y){var z;z=y.split("=");y=z[0];z=z.slice(1).join("=");y && y.length && (x[y]=z || !0);return x;},{});}function f(v){return v && "object" === typeof v?JSON.stringify(v):"string" === typeof v?'"' + v + '"':"" + v;}function k(v,x,y){var z;if("string" === typeof v)return k.call(this,c(v),x,y);z=0;Object.keys(v).forEach(function(A){var B,E,D;B=p[A];E=v[A];if(B){if(D=u[A] || w[typeof h[B]])try{E=D(E);}catch(F){y && y.error("Failed to convert value '" + E + "' for config '" + A + "' : " + F.toString());return;}D=q[B];this[B]=E;q[B] !== D && (y && y.debug("Config changed for '" + A + "' from " + f(D) + " (" + typeof D + ") to " + f(E) + " (" + typeof E + ")"),++z);}else x?(B=(B=t[A])?B.filter(function(F){return F[0] !== this;},this):[],B.push([this,E]),t[A]=B):y && y.error("Attempt to change undeclared config option '" + A + "'");},this);z && q.emit("changed");return z;}function m(){return Object.keys(p).reduce(function(v,x){var y,z;y=p[x];z=v[y];z?(z.push(x),v[y]=z.sort(function(A,B){return B.length - A.length;})):v[y]=[x];return v;},{});}function d(v,x){return v.hasOwnProperty(x)?f(v[x]):void 0;}function g(v,x){return "undefined" === typeof v?x:v;}b=a(85);a=a(1288).EventEmitter;h={};l=Object.create(h);n=Object.create(l);q=Object.create(n);p={};u={};t={};q.declare=function(v){Object.keys(v).forEach(function(x){var y,z,A,B;y=v[x];z=y[0];A=y[1];B=y[2];if(h.hasOwnProperty(x))throw Error("The local configuraion key '" + x + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(E){var D;if(p.hasOwnProperty(E))throw Error("The configuration value '" + E + "' has been declared more than once");h.hasOwnProperty(x) || ("function" === typeof A && (A=A()),h[x]=A);p[E]=x;"function" === typeof B && (u[E]=B);if(D=t[E])(D.forEach(function(F){var G,C;G=F[0];C={};C[E]=F[1];k.call(G,C,!1);}),delete t[E]);});});return q;};w={object:function(v){return "object" == typeof v?v:JSON.parse("" + v);},"boolean":function(v){return "boolean" == typeof v?v:!("0" === "" + v || "false" === ("" + v).toLowerCase());},number:function(v){if("number" == typeof v)return v;v=parseFloat("" + v);if(isNaN(v))throw Error("parseFloat returned NaN");return v;}};q.set=k.bind(l);q.hY=k.bind(n);q.dump=function(v,x){var z,A,B,E;function y(){E && v && v.log("===========================================");}z=Object.keys(t).sort();A={};B=m();x=g(x,!0);Object.keys(p).sort().forEach(function(D){var F,G,C;D=p[D];if(!A[D]){A[D]=!0;F=d(l,D);G=d(n,D);if(x || "undefined" !== typeof F || "undefined" !== typeof G){C=B[D].join(",");C+=" = " + f(q[D]) + " (" + typeof q[D] + ") [";C+=g(G,"<unset>") + ",";C+=g(F,"<unset>") + ",";C+=d(h,D) + "]";E || (E=!0,v && v.log("Current config values"),y());v && v.log(C);}}});(x || z.length) && v && v.log("<undeclared> :",z);y();};q.Yt=function(v){var x,y;x={};y={};Object.keys(p).forEach(function(z){z=p[z];y[z] || (y[z]=!0,x[z]=q[z]);});v && k.call(x,v);return x;};q.h7a=function(){var v;v=m();return Object.getOwnPropertyNames(l).reduce(function(x,y){x[v[y][0]]=l[y];return x;},{});};q.reset=function(){Object.keys(l).forEach(function(v){delete l[v];});};q.Ad={};b(a,q);r.exports=Object.freeze(q);},function(r,b,a){var f;function c(k){for(var m="",d=0;d < k.length;d++){m+=k[d].S + "|";}return m;}f=a(313);r.exports={assert:function(k,m){if(!k)throw Error("PlayPredictionModel assertion failed" + (m?" : " + m:""));},Bcc:function(k,m,d){Array.prototype.splice.apply(k,[m,0].concat(d));},qHb:function(k){for(var m=[],d=0;d < k.length;d++){if(k[d].context === f.SR.Yfb){m=k[d].list;break;}}return m;},YGb:function(k){for(var m=[],d=0;d < k.length;d++){if(k[d].context === f.SR.Peb){m=k[d].list;break;}}return m;},pCb:function(k,m){for(var d=0,g,h,l,n=0,q=k.length - 1;n < q;n++){g=c(k[n].list || []);l=!1;for(var p=0,u=m.length;p < u;p++){if((h=c(m[p].list || []),h == g)){l=!0;break;}}if(!1 === l){d=n;break;}}return d;},PSb:function(k,m,d){for(var g=[],h,l=0;l < Math.min(m,k.length);l++){h=k[l].list || [];g=g.concat(h.slice(0,d));}return g;},OSb:function(k,m){for(var d=[],g,h=0;h < k.length && (g=k[h].list || [],g=g.slice(0,Math.min(g.length,m)),m-=g.length,d=d.concat(g),0 !== m);h++){;}return d;},NSb:function(k,m,d){var g;m < k.length && 0 <= m && (k=k[m].list || [],d < k.length && (g=k[d]));return g;},LXa:function(k){for(var m={},d=k.length,g,h=0;h < d;h++){g=k[h].list || [];for(var l=0;l < g.length;l++){if(g[l].property === f.yK.lS || g[l].property === f.yK.eCa){m.Hk=h;m.wm=l;break;}}}void 0 === m.Hk && void 0 === m.wm && (m.Hk=0,m.wm=0);return m;}};},function(r,b,a){var m;function c(d,g,h,l,n,q,p){this.D_=l;this.ieb=d;this.x5a=g;this.ata=h;this.SNb=q;this.CE=p;this.split=n;}function f(){this.L={};this.L["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.L["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.L["3"]=new c("7","8","7","10","1.5",0,0);this.L["7"]=new c("15","16","15","9","4.5",0,0);this.L["15"]=new c("31","32","31","2","5.5",0,0);this.L["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.L["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.L["123"]=new c("123","124","123","0","0",1,.207298);this.L["124"]=new c("123","124","123","0","0",1,.49076);this.L["64"]=new c("125","126","125","4","40.5",0,0);this.L["125"]=new c("125","126","125","0","0",1,-.00157835);this.L["126"]=new c("125","126","125","0","0",1,.934205);this.L["32"]=new c("65","66","65","135","5.5",0,0);this.L["65"]=new c("127","128","128","4","1272.5",0,0);this.L["127"]=new c("127","128","128","0","0",1,-.510333);this.L["128"]=new c("127","128","128","0","0",1,.18363);this.L["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.L["129"]=new c("129","130","129","0","0",1,-.0464542);this.L["130"]=new c("129","130","129","0","0",1,.458833);this.L["16"]=new c("33","34","34","10","2.00001",0,0);this.L["33"]=new c("67","68","67","0","29.5",0,0);this.L["67"]=new c("131","132","131","2","39.5",0,0);this.L["131"]=new c("131","132","131","0","0",1,-.37577);this.L["132"]=new c("131","132","131","0","0",1,.512087);this.L["68"]=new c("133","134","134","140","1.5",0,0);this.L["133"]=new c("133","134","134","0","0",1,.321272);this.L["134"]=new c("133","134","134","0","0",1,-.675396);this.L["34"]=new c("69","70","70","2","24.5",0,0);this.L["69"]=new c("135","136","136","9","28.5",0,0);this.L["135"]=new c("135","136","136","0","0",1,-.0573845);this.L["136"]=new c("135","136","136","0","0",1,-.507455);this.L["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.L["137"]=new c("137","138","137","0","0",1,-.503909);this.L["138"]=new c("137","138","137","0","0",1,.450886);this.L["8"]=new c("17","18","17","4","44189.5",0,0);this.L["17"]=new c("35","36","35","2","21.5",0,0);this.L["35"]=new c("71","72","72","0","19.5",0,0);this.L["71"]=new c("139","140","140","9","2.5",0,0);this.L["139"]=new c("139","140","140","0","0",1,.00403497);this.L["140"]=new c("139","140","140","0","0",1,-.312656);this.L["72"]=new c("141","142","141","135","96",0,0);this.L["141"]=new c("141","142","141","0","0",1,-.465786);this.L["142"]=new c("141","142","141","0","0",1,.159633);this.L["36"]=new c("73","74","73","130","89.5",0,0);this.L["73"]=new c("143","144","144","10","4.5",0,0);this.L["143"]=new c("143","144","144","0","0",1,-.76265);this.L["144"]=new c("143","144","144","0","0",1,-.580804);this.L["74"]=new c("145","146","146","10","16.5",0,0);this.L["145"]=new c("145","146","146","0","0",1,.296357);this.L["146"]=new c("145","146","146","0","0",1,-.691659);this.L["18"]=new c("37","38","38","9","1.5",0,0);this.L["37"]=new c("37","38","38","0","0",1,.993951);this.L["38"]=new c("75","76","75","0","19",0,0);this.L["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.L["147"]=new c("147","148","147","0","0",1,-.346535);this.L["148"]=new c("147","148","147","0","0",1,-.995745);this.L["76"]=new c("147","148","147","0","0",1,-.99978);this.L["4"]=new c("9","10","9","5","4.5",0,0);this.L["9"]=new c("19","20","19","2","4.5",0,0);this.L["19"]=new c("39","40","39","140","7.5",0,0);this.L["39"]=new c("77","78","78","134","6.5",0,0);this.L["77"]=new c("149","150","150","7","11.5",0,0);this.L["149"]=new c("149","150","150","0","0",1,.729843);this.L["150"]=new c("149","150","150","0","0",1,.383857);this.L["78"]=new c("151","152","151","133","4.5",0,0);this.L["151"]=new c("151","152","151","0","0",1,.39017);this.L["152"]=new c("151","152","151","0","0",1,.0434342);this.L["40"]=new c("79","80","79","133","3.5",0,0);this.L["79"]=new c("153","154","154","8","4.5",0,0);this.L["153"]=new c("153","154","154","0","0",1,-.99536);this.L["154"]=new c("153","154","154","0","0",1,-.00943396);this.L["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.L["155"]=new c("155","156","155","0","0",1,.266272);this.L["156"]=new c("155","156","155","0","0",1,.959904);this.L["20"]=new c("41","42","42","10","65.5",0,0);this.L["41"]=new c("81","82","82","7","10.5",0,0);this.L["81"]=new c("157","158","158","2","37.5",0,0);this.L["157"]=new c("157","158","158","0","0",1,-.701873);this.L["158"]=new c("157","158","158","0","0",1,.224649);this.L["82"]=new c("159","160","159","133","9.5",0,0);this.L["159"]=new c("159","160","159","0","0",1,.0955181);this.L["160"]=new c("159","160","159","0","0",1,-.58962);this.L["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.L["83"]=new c("161","162","161","135","31",0,0);this.L["161"]=new c("161","162","161","0","0",1,-.229692);this.L["162"]=new c("161","162","161","0","0",1,.88595);this.L["84"]=new c("163","164","164","1","13.5",0,0);this.L["163"]=new c("163","164","164","0","0",1,-.992157);this.L["164"]=new c("163","164","164","0","0",1,.922159);this.L["10"]=new c("21","22","22","4","486",0,0);this.L["21"]=new c("43","44","44","133","4.5",0,0);this.L["43"]=new c("85","86","86","10","4.5",0,0);this.L["85"]=new c("165","166","166","4","158.5",0,0);this.L["165"]=new c("165","166","166","0","0",1,-.127778);this.L["166"]=new c("165","166","166","0","0",1,.955189);this.L["86"]=new c("165","166","166","0","0",1,-.994012);this.L["44"]=new c("87","88","88","1","3.5",0,0);this.L["87"]=new c("167","168","168","135","7",0,0);this.L["167"]=new c("167","168","168","0","0",1,-.997015);this.L["168"]=new c("167","168","168","0","0",1,.400821);this.L["88"]=new c("169","170","169","130","36",0,0);this.L["169"]=new c("169","170","169","0","0",1,-.898638);this.L["170"]=new c("169","170","169","0","0",1,.56129);this.L["22"]=new c("45","46","45","9","2.5",0,0);this.L["45"]=new c("89","90","90","9","1.5",0,0);this.L["89"]=new c("171","172","171","10","10.5",0,0);this.L["171"]=new c("171","172","171","0","0",1,.573986);this.L["172"]=new c("171","172","171","0","0",1,-.627266);this.L["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.L["173"]=new c("173","174","173","0","0",1,.925273);this.L["174"]=new c("173","174","173","0","0",1,-.994805);this.L["46"]=new c("91","92","91","136","5.5",0,0);this.L["91"]=new c("175","176","175","10","10.5",0,0);this.L["175"]=new c("175","176","175","0","0",1,.548352);this.L["176"]=new c("175","176","175","0","0",1,-.879195);this.L["92"]=new c("177","178","178","8","14.5",0,0);this.L["177"]=new c("177","178","178","0","0",1,.457305);this.L["178"]=new c("177","178","178","0","0",1,-.998992);this.L["2"]=new c("5","6","5","10","2.5",0,0);this.L["5"]=new c("11","12","11","9","4.5",0,0);this.L["11"]=new c("23","24","24","10","4.00001",0,0);this.L["23"]=new c("47","48","48","133","5.5",0,0);this.L["47"]=new c("93","94","93","3","13.5",0,0);this.L["93"]=new c("179","180","179","138","15.5",0,0);this.L["179"]=new c("179","180","179","0","0",1,.658398);this.L["180"]=new c("179","180","179","0","0",1,-.927007);this.L["94"]=new c("181","182","182","3","15.5",0,0);this.L["181"]=new c("181","182","182","0","0",1,-.111351);this.L["182"]=new c("181","182","182","0","0",1,-.99827);this.L["48"]=new c("95","96","95","7","167",0,0);this.L["95"]=new c("183","184","183","132","36.5",0,0);this.L["183"]=new c("183","184","183","0","0",1,.895161);this.L["184"]=new c("183","184","183","0","0",1,-.765217);this.L["96"]=new c("185","186","186","137","6.00001",0,0);this.L["185"]=new c("185","186","186","0","0",1,-.851095);this.L["186"]=new c("185","186","186","0","0",1,.674286);this.L["24"]=new c("49","50","49","137","5.5",0,0);this.L["49"]=new c("97","98","97","5","23.5",0,0);this.L["97"]=new c("187","188","187","3","28.5",0,0);this.L["187"]=new c("187","188","187","0","0",1,.951654);this.L["188"]=new c("187","188","187","0","0",1,-.993808);this.L["98"]=new c("187","188","187","0","0",1,-.99705);this.L["50"]=new c("187","188","187","0","0",1,-.997525);this.L["12"]=new c("25","26","25","8","8.5",0,0);this.L["25"]=new c("51","52","52","10","4.00001",0,0);this.L["51"]=new c("99","100","100","133","5.5",0,0);this.L["99"]=new c("189","190","190","7","40.5",0,0);this.L["189"]=new c("189","190","190","0","0",1,.151839);this.L["190"]=new c("189","190","190","0","0",1,-.855517);this.L["100"]=new c("191","192","192","133","14.5",0,0);this.L["191"]=new c("191","192","192","0","0",1,.86223);this.L["192"]=new c("191","192","192","0","0",1,.544394);this.L["52"]=new c("101","102","101","135","47.5",0,0);this.L["101"]=new c("193","194","194","4","24.5",0,0);this.L["193"]=new c("193","194","194","0","0",1,.946185);this.L["194"]=new c("193","194","194","0","0",1,.811859);this.L["102"]=new c("193","194","194","0","0",1,-.991561);this.L["26"]=new c("53","54","54","132","6.5",0,0);this.L["53"]=new c("103","104","103","131","85",0,0);this.L["103"]=new c("195","196","196","134","16.5",0,0);this.L["195"]=new c("195","196","196","0","0",1,.0473538);this.L["196"]=new c("195","196","196","0","0",1,-.999401);this.L["104"]=new c("197","198","198","8","15.5",0,0);this.L["197"]=new c("197","198","198","0","0",1,.816129);this.L["198"]=new c("197","198","198","0","0",1,-.99322);this.L["54"]=new c("105","106","105","133","3.5",0,0);this.L["105"]=new c("105","106","105","0","0",1,-.998783);this.L["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.L["199"]=new c("199","200","199","0","0",1,.528588);this.L["200"]=new c("199","200","199","0","0",1,-.998599);this.L["6"]=new c("13","14","14","10","7.5",0,0);this.L["13"]=new c("27","28","28","133","7.5",0,0);this.L["27"]=new c("55","56","56","10","4.5",0,0);this.L["55"]=new c("107","108","107","3","3.5",0,0);this.L["107"]=new c("201","202","201","4","17.5",0,0);this.L["201"]=new c("201","202","201","0","0",1,-.379512);this.L["202"]=new c("201","202","201","0","0",1,.15165);this.L["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.L["203"]=new c("203","204","203","0","0",1,-.884606);this.L["204"]=new c("203","204","203","0","0",1,.265406);this.L["56"]=new c("109","110","109","136","6.5",0,0);this.L["109"]=new c("205","206","205","4","157.5",0,0);this.L["205"]=new c("205","206","205","0","0",1,-.0142737);this.L["206"]=new c("205","206","205","0","0",1,.691279);this.L["110"]=new c("205","206","205","0","0",1,-.998086);this.L["28"]=new c("57","58","58","138","11.5",0,0);this.L["57"]=new c("111","112","112","2","6.5",0,0);this.L["111"]=new c("207","208","208","7","67.5",0,0);this.L["207"]=new c("207","208","208","0","0",1,.763925);this.L["208"]=new c("207","208","208","0","0",1,-.309645);this.L["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.L["209"]=new c("209","210","209","0","0",1,-.306635);this.L["210"]=new c("209","210","209","0","0",1,.556696);this.L["58"]=new c("113","114","113","138","50.5",0,0);this.L["113"]=new c("211","212","212","8","25.5",0,0);this.L["211"]=new c("211","212","212","0","0",1,.508234);this.L["212"]=new c("211","212","212","0","0",1,.793551);this.L["114"]=new c("211","212","212","0","0",1,-.998438);this.L["14"]=new c("29","30","29","134","27.5",0,0);this.L["29"]=new c("59","60","60","7","17.5",0,0);this.L["59"]=new c("115","116","115","135","5.5",0,0);this.L["115"]=new c("213","214","214","137","5.5",0,0);this.L["213"]=new c("213","214","214","0","0",1,.401747);this.L["214"]=new c("213","214","214","0","0",1,.0367503);this.L["116"]=new c("215","216","216","8","5.5",0,0);this.L["215"]=new c("215","216","216","0","0",1,-.0241984);this.L["216"]=new c("215","216","216","0","0",1,-.999046);this.L["60"]=new c("117","118","117","0","12.5",0,0);this.L["117"]=new c("217","218","218","132","5.5",0,0);this.L["217"]=new c("217","218","218","0","0",1,-.997294);this.L["218"]=new c("217","218","218","0","0",1,.210398);this.L["118"]=new c("219","220","219","137","1.5",0,0);this.L["219"]=new c("219","220","219","0","0",1,-.55763);this.L["220"]=new c("219","220","219","0","0",1,.074493);this.L["30"]=new c("61","62","62","133","42.5",0,0);this.L["61"]=new c("119","120","119","135","5.5",0,0);this.L["119"]=new c("221","222","222","4","473.5",0,0);this.L["221"]=new c("221","222","222","0","0",1,-.920213);this.L["222"]=new c("221","222","222","0","0",1,-.17615);this.L["120"]=new c("223","224","224","5","144",0,0);this.L["223"]=new c("223","224","224","0","0",1,-.954295);this.L["224"]=new c("223","224","224","0","0",1,-.382538);this.L["62"]=new c("121","122","121","133","50",0,0);this.L["121"]=new c("225","226","226","10","18.5",0,0);this.L["225"]=new c("225","226","226","0","0",1,-.0731343);this.L["226"]=new c("225","226","226","0","0",1,.755454);this.L["122"]=new c("227","228","228","0","30",0,0);this.L["227"]=new c("227","228","228","0","0",1,.25);this.L["228"]=new c("227","228","228","0","0",1,-.997101);}function k(d,g,h,l,n,q){this.oaa=n;this.N4=q;}b=a(562);m=a(312);a={};a.kub=new (function(){this.sob=m();this.G=0;this.update=function(){this.G=m() - this.sob;};this.getValue=function(){return this.G;};this.type="num";})();a.MOb=new (function(){this.getValue=function(d,g,h){return this.G="becauseYouAdded" === h.ab[d].context || null;};this.type="cat";})();a.NOb=new (function(){this.getValue=function(d,g,h){return this.G="becauseYouLiked" === h.ab[d].context || null;};this.type="cat";})();a.POb=new (function(){this.getValue=function(d,g,h){return this.G="billboard" === h.ab[d].context || null;};this.type="cat";})();a.QOb=new (function(){this.getValue=function(d,g,h){return this.G="continueWatching" === h.ab[d].context || null;};this.type="cat";})();a.OOb=new (function(){this.getValue=function(d,g,h){return this.G="bigRow" === h.ab[d].context || null;};this.type="cat";})();a.ROb=new (function(){this.getValue=function(d,g,h){return this.G="genre" === h.ab[d].context || null;};this.type="cat";})();a.SOb=new (function(){this.getValue=function(d,g,h){return this.G="netflixOriginals" === h.ab[d].context || null;};this.type="cat";})();a.TOb=new (function(){this.getValue=function(d,g,h){return this.G="newRelease" === h.ab[d].context || null;};this.type="cat";})();a.UOb=new (function(){this.getValue=function(d,g,h){return this.G="popularTitles" === h.ab[d].context || null;};this.type="cat";})();a.VOb=new (function(){this.getValue=function(d,g,h){return this.G="queue" === h.ab[d].context || null;};this.type="cat";})();a.WOb=new (function(){this.getValue=function(d,g,h){return this.G="recentlyAdded" === h.ab[d].context || null;};this.type="cat";})();a.XOb=new (function(){this.getValue=function(d,g,h){return this.G="similars" === h.ab[d].context || null;};this.type="cat";})();a.ZOb=new (function(){this.getValue=function(d,g,h){return this.G="trendingNow" === h.ab[d].context || null;};this.type="cat";})();a.$Ob=new (function(){this.getValue=function(d,g,h){return this.G="ultraHD" === h.ab[d].context || null;};this.type="cat";})();a.aPb=new (function(){this.getValue=function(d,g,h){return this.G="watchAgain" === h.ab[d].context || null;};this.type="cat";})();a.YOb=new (function(){this.getValue=function(d,g,h){return this.G="topTen" === h.ab[d].context || null;};this.type="cat";})();a.Wub=new (function(){this.update=function(d){for(var g in d.ab){if("becauseYouAdded" === d.ab[g].context){this.G=Math.max(d.ab[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Xub=new (function(){this.update=function(d){for(var g in d.ab){if("becauseYouLiked" === d.ab[g].context){this.G=Math.max(d.ab[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.$ub=new (function(){this.update=function(d){for(var g in d.ab){if("billboard" === d.ab[g].context){this.G=Math.max(d.ab[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.iyb=new (function(){this.update=function(d){for(var g in d.ab){if("continueWatching" === d.ab[g].context){this.G=Math.max(d.ab[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Zub=new (function(){this.update=function(d){for(var g in d.ab){if("bigRow" === d.ab[g].context){this.G=Math.max(d.ab[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.BGb=new (function(){this.update=function(d){for(var g in d.ab){if("genre" === d.ab[g].context){this.G=Math.max(d.ab[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.QRb=new (function(){this.update=function(d){for(var g in d.ab){if("netflixOriginals" === d.ab[g].context){this.G=Math.max(d.ab[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.SRb=new (function(){this.update=function(d){for(var g in d.ab){if("newRelease" === d.ab[g].context){this.G=Math.max(d.ab[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.yVb=new (function(){this.update=function(d){for(var g in d.ab){if("popularTitles" === d.ab[g].context){this.G=Math.max(d.ab[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Js=new (function(){this.update=function(d){for(var g in d.ab){if("queue" === d.ab[g].context){this.G=Math.max(d.ab[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.gXb=new (function(){this.update=function(d){for(var g in d.ab){if("recentlyAdded" === d.ab[g].context){this.G=Math.max(d.ab[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.o0b=new (function(){this.update=function(d){for(var g in d.ab){if("similars" === d.ab[g].context){this.G=Math.max(d.ab[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.U2b=new (function(){this.update=function(d){for(var g in d.ab){if("trendingNow" === d.ab[g].context){this.G=Math.max(d.ab[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.n3b=new (function(){this.update=function(d){for(var g in d.ab){if("ultraHD" === d.ab[g].context){this.G=Math.max(d.ab[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.j5b=new (function(){this.update=function(d){for(var g in d.ab){if("watchAgain" === d.ab[g].context){this.G=Math.max(d.ab[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.D2b=new (function(){this.update=function(d){for(var g in d.ab){if("topTen" === d.ab[g].context){this.G=Math.max(d.ab[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.tyb=new (function(){this.getValue=function(d,g,h){return this.G="AR" === h.$a || null;};this.type="cat";})();a.uyb=new (function(){this.getValue=function(d,g,h){return this.G="AT" === h.$a || null;};this.type="cat";})();a.vyb=new (function(){this.getValue=function(d,g,h){return this.G="AU" === h.$a || null;};this.type="cat";})();a.wyb=new (function(){this.getValue=function(d,g,h){return this.G="AZ" === h.$a || null;};this.type="cat";})();a.xyb=new (function(){this.getValue=function(d,g,h){return this.G="BB" === h.$a || null;};this.type="cat";})();a.yyb=new (function(){this.getValue=function(d,g,h){return this.G="BE" === h.$a || null;};this.type="cat";})();a.zyb=new (function(){this.getValue=function(d,g,h){return this.G="BO" === h.$a || null;};this.type="cat";})();a.Ayb=new (function(){this.getValue=function(d,g,h){return this.G="BR" === h.$a || null;};this.type="cat";})();a.Byb=new (function(){this.getValue=function(d,g,h){return this.G="BS" === h.$a || null;};this.type="cat";})();a.Cyb=new (function(){this.getValue=function(d,g,h){return this.G="CA" === h.$a || null;};this.type="cat";})();a.Dyb=new (function(){this.getValue=function(d,g,h){return this.G="CH" === h.$a || null;};this.type="cat";})();a.Eyb=new (function(){this.getValue=function(d,g,h){return this.G="CL" === h.$a || null;};this.type="cat";})();a.Fyb=new (function(){this.getValue=function(d,g,h){return this.G="CO" === h.$a || null;};this.type="cat";})();a.Gyb=new (function(){this.getValue=function(d,g,h){return this.G="CR" === h.$a || null;};this.type="cat";})();a.Hyb=new (function(){this.getValue=function(d,g,h){return this.G="CW" === h.$a || null;};this.type="cat";})();a.Iyb=new (function(){this.getValue=function(d,g,h){return this.G="DE" === h.$a || null;};this.type="cat";})();a.Jyb=new (function(){this.getValue=function(d,g,h){return this.G="DK" === h.$a || null;};this.type="cat";})();a.Kyb=new (function(){this.getValue=function(d,g,h){return this.G="DM" === h.$a || null;};this.type="cat";})();a.Lyb=new (function(){this.getValue=function(d,g,h){return this.G="DO" === h.$a || null;};this.type="cat";})();a.Myb=new (function(){this.getValue=function(d,g,h){return this.G="EC" === h.$a || null;};this.type="cat";})();a.Nyb=new (function(){this.getValue=function(d,g,h){return this.G="EE" === h.$a || null;};this.type="cat";})();a.Oyb=new (function(){this.getValue=function(d,g,h){return this.G="EG" === h.$a || null;};this.type="cat";})();a.Pyb=new (function(){this.getValue=function(d,g,h){return this.G="ES" === h.$a || null;};this.type="cat";})();a.Qyb=new (function(){this.getValue=function(d,g,h){return this.G="FI" === h.$a || null;};this.type="cat";})();a.Ryb=new (function(){this.getValue=function(d,g,h){return this.G="FR" === h.$a || null;};this.type="cat";})();a.Syb=new (function(){this.getValue=function(d,g,h){return this.G="GB" === h.$a || null;};this.type="cat";})();a.Tyb=new (function(){this.getValue=function(d,g,h){return this.G="GF" === h.$a || null;};this.type="cat";})();a.Uyb=new (function(){this.getValue=function(d,g,h){return this.G="GP" === h.$a || null;};this.type="cat";})();a.Vyb=new (function(){this.getValue=function(d,g,h){return this.G="GT" === h.$a || null;};this.type="cat";})();a.Wyb=new (function(){this.getValue=function(d,g,h){return this.G="HK" === h.$a || null;};this.type="cat";})();a.Xyb=new (function(){this.getValue=function(d,g,h){return this.G="HN" === h.$a || null;};this.type="cat";})();a.Yyb=new (function(){this.getValue=function(d,g,h){return this.G="HR" === h.$a || null;};this.type="cat";})();a.Zyb=new (function(){this.getValue=function(d,g,h){return this.G="HU" === h.$a || null;};this.type="cat";})();a.$yb=new (function(){this.getValue=function(d,g,h){return this.G="ID" === h.$a || null;};this.type="cat";})();a.azb=new (function(){this.getValue=function(d,g,h){return this.G="IE" === h.$a || null;};this.type="cat";})();a.bzb=new (function(){this.getValue=function(d,g,h){return this.G="IL" === h.$a || null;};this.type="cat";})();a.czb=new (function(){this.getValue=function(d,g,h){return this.G="IN" === h.$a || null;};this.type="cat";})();a.dzb=new (function(){this.getValue=function(d,g,h){return this.G="IT" === h.$a || null;};this.type="cat";})();a.ezb=new (function(){this.getValue=function(d,g,h){return this.G="JE" === h.$a || null;};this.type="cat";})();a.fzb=new (function(){this.getValue=function(d,g,h){return this.G="JM" === h.$a || null;};this.type="cat";})();a.gzb=new (function(){this.getValue=function(d,g,h){return this.G="JP" === h.$a || null;};this.type="cat";})();a.hzb=new (function(){this.getValue=function(d,g,h){return this.G="KE" === h.$a || null;};this.type="cat";})();a.izb=new (function(){this.getValue=function(d,g,h){return this.G="KN" === h.$a || null;};this.type="cat";})();a.jzb=new (function(){this.getValue=function(d,g,h){return this.G="KR" === h.$a || null;};this.type="cat";})();a.kzb=new (function(){this.getValue=function(d,g,h){return this.G="LU" === h.$a || null;};this.type="cat";})();a.lzb=new (function(){this.getValue=function(d,g,h){return this.G="MK" === h.$a || null;};this.type="cat";})();a.mzb=new (function(){this.getValue=function(d,g,h){return this.G="MU" === h.$a || null;};this.type="cat";})();a.nzb=new (function(){this.getValue=function(d,g,h){return this.G="MX" === h.$a || null;};this.type="cat";})();a.ozb=new (function(){this.getValue=function(d,g,h){return this.G="MY" === h.$a || null;};this.type="cat";})();a.pzb=new (function(){this.getValue=function(d,g,h){return this.G="NI" === h.$a || null;};this.type="cat";})();a.qzb=new (function(){this.getValue=function(d,g,h){return this.G="NL" === h.$a || null;};this.type="cat";})();a.rzb=new (function(){this.getValue=function(d,g,h){return this.G="NO" === h.$a || null;};this.type="cat";})();a.szb=new (function(){this.getValue=function(d,g,h){return this.G="NZ" === h.$a || null;};this.type="cat";})();a.tzb=new (function(){this.getValue=function(d,g,h){return this.G="OM" === h.$a || null;};this.type="cat";})();a.uzb=new (function(){this.getValue=function(d,g,h){return this.G="PA" === h.$a || null;};this.type="cat";})();a.vzb=new (function(){this.getValue=function(d,g,h){return this.G="PE" === h.$a || null;};this.type="cat";})();a.wzb=new (function(){this.getValue=function(d,g,h){return this.G="PF" === h.$a || null;};this.type="cat";})();a.xzb=new (function(){this.getValue=function(d,g,h){return this.G="PH" === h.$a || null;};this.type="cat";})();a.yzb=new (function(){this.getValue=function(d,g,h){return this.G="PK" === h.$a || null;};this.type="cat";})();a.zzb=new (function(){this.getValue=function(d,g,h){return this.G="PL" === h.$a || null;};this.type="cat";})();a.Azb=new (function(){this.getValue=function(d,g,h){return this.G="PT" === h.$a || null;};this.type="cat";})();a.Bzb=new (function(){this.getValue=function(d,g,h){return this.G="PY" === h.$a || null;};this.type="cat";})();a.Czb=new (function(){this.getValue=function(d,g,h){return this.G="QA" === h.$a || null;};this.type="cat";})();a.Dzb=new (function(){this.getValue=function(d,g,h){return this.G="RO" === h.$a || null;};this.type="cat";})();a.Ezb=new (function(){this.getValue=function(d,g,h){return this.G="RS" === h.$a || null;};this.type="cat";})();a.Fzb=new (function(){this.getValue=function(d,g,h){return this.G="RU" === h.$a || null;};this.type="cat";})();a.Gzb=new (function(){this.getValue=function(d,g,h){return this.G="SA" === h.$a || null;};this.type="cat";})();a.Hzb=new (function(){this.getValue=function(d,g,h){return this.G="SE" === h.$a || null;};this.type="cat";})();a.Izb=new (function(){this.getValue=function(d,g,h){return this.G="SG" === h.$a || null;};this.type="cat";})();a.Jzb=new (function(){this.getValue=function(d,g,h){return this.G="SV" === h.$a || null;};this.type="cat";})();a.Kzb=new (function(){this.getValue=function(d,g,h){return this.G="SX" === h.$a || null;};this.type="cat";})();a.Lzb=new (function(){this.getValue=function(d,g,h){return this.G="TH" === h.$a || null;};this.type="cat";})();a.Mzb=new (function(){this.getValue=function(d,g,h){return this.G="TR" === h.$a || null;};this.type="cat";})();a.Nzb=new (function(){this.getValue=function(d,g,h){return this.G="TT" === h.$a || null;};this.type="cat";})();a.Ozb=new (function(){this.getValue=function(d,g,h){return this.G="TW" === h.$a || null;};this.type="cat";})();a.Pzb=new (function(){this.getValue=function(d,g,h){return this.G="US" === h.$a || null;};this.type="cat";})();a.Qzb=new (function(){this.getValue=function(d,g,h){return this.G="UY" === h.$a || null;};this.type="cat";})();a.Rzb=new (function(){this.getValue=function(d,g,h){return this.G="VE" === h.$a || null;};this.type="cat";})();a.Szb=new (function(){this.getValue=function(d,g,h){return this.G="ZA" === h.$a || null;};this.type="cat";})();a.iXb=new (function(){this.getValue=function(d,g,h){return this.G=1 === h.Bi || null;};this.type="cat";})();a.jXb=new (function(){this.getValue=function(d,g,h){return this.G=10 === h.Bi || null;};this.type="cat";})();a.kXb=new (function(){this.getValue=function(d,g,h){return this.G=11 === h.Bi || null;};this.type="cat";})();a.lXb=new (function(){this.getValue=function(d,g,h){return this.G=12 === h.Bi || null;};this.type="cat";})();a.mXb=new (function(){this.getValue=function(d,g,h){return this.G=13 === h.Bi || null;};this.type="cat";})();a.nXb=new (function(){this.getValue=function(d,g,h){return this.G=14 === h.Bi || null;};this.type="cat";})();a.oXb=new (function(){this.getValue=function(d,g,h){return this.G=15 === h.Bi || null;};this.type="cat";})();a.pXb=new (function(){this.getValue=function(d,g,h){return this.G=16 === h.Bi || null;};this.type="cat";})();a.qXb=new (function(){this.getValue=function(d,g,h){return this.G=17 === h.Bi || null;};this.type="cat";})();a.rXb=new (function(){this.getValue=function(d,g,h){return this.G=18 === h.Bi || null;};this.type="cat";})();a.sXb=new (function(){this.getValue=function(d,g,h){return this.G=19 === h.Bi || null;};this.type="cat";})();a.tXb=new (function(){this.getValue=function(d,g,h){return this.G=2 === h.Bi || null;};this.type="cat";})();a.uXb=new (function(){this.getValue=function(d,g,h){return this.G=20 === h.Bi || null;};this.type="cat";})();a.vXb=new (function(){this.getValue=function(d,g,h){return this.G=21 === h.Bi || null;};this.type="cat";})();a.wXb=new (function(){this.getValue=function(d,g,h){return this.G=22 === h.Bi || null;};this.type="cat";})();a.xXb=new (function(){this.getValue=function(d,g,h){return this.G=23 === h.Bi || null;};this.type="cat";})();a.yXb=new (function(){this.getValue=function(d,g,h){return this.G=3 === h.Bi || null;};this.type="cat";})();a.zXb=new (function(){this.getValue=function(d,g,h){return this.G=4 === h.Bi || null;};this.type="cat";})();a.AXb=new (function(){this.getValue=function(d,g,h){return this.G=5 === h.Bi || null;};this.type="cat";})();a.BXb=new (function(){this.getValue=function(d,g,h){return this.G=6 === h.Bi || null;};this.type="cat";})();a.CXb=new (function(){this.getValue=function(d,g,h){return this.G=7 === h.Bi || null;};this.type="cat";})();a.DXb=new (function(){this.getValue=function(d,g,h){return this.G=8 === h.Bi || null;};this.type="cat";})();a.EXb=new (function(){this.getValue=function(d,g,h){return this.G=9 === h.Bi || null;};this.type="cat";})();a.v1b=new (function(){this.update=function(d){"down" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.x1b=new (function(){this.update=function(d){"right" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.w1b=new (function(){this.update=function(d){"left" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.y1b=new (function(){this.update=function(d){"up" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.zQb=new (function(){this.G=0;this.update=function(d){this.G=Math.max(this.G,d.rowIndex);};this.getValue=function(){return this.G;};this.type="num";})();a.AQb=new (function(){this.G=0;this.update=function(d){this.G=Math.max(this.G,d.Wka);};this.getValue=function(){return this.G;};this.type="num";})();a.HQb=new (function(){this.WS=this.G=0;this.update=function(d){this.WS++;this.G=1 * (this.G + d.rowIndex) / this.WS;};this.getValue=function(){return this.G;};this.type="num";})();a.IQb=new (function(){this.WS=this.G=0;this.update=function(d){this.WS++;return this.G=1 * (this.G + d.Wka) / this.WS;};this.getValue=function(){return this.G;};this.type="num";})();a.dWb=new (function(){this.getValue=function(d,g,h){return this.G=h.Wka + g;};this.type="num";})();a.eWb=new (function(){this.getValue=function(d,g,h){return this.G=h.rowIndex + d;};this.type="num";})();f.prototype.CE=function(d){return this.gQa(this.L["0"].$9a(d),d);};f.prototype.gQa=function(d,g){return "string" == typeof d?this.gQa(this.L[d].$9a(g),g):d;};c.prototype.$9a=function(d){switch(this.SNb){case 0:switch(d.features[this.D_].type){case "cat":return null === d.features[this.D_].value?this.x5a:"missing" == d.features[this.D_].value?this.ata:this.ieb;case "num":return null === d.features[this.D_].value?this.ata:d.features[this.D_].value < this.split?this.ieb:this.x5a;default:return this.ata;}case 1:return this.CE;default:return this.CE;}};b.declare({KX:["modelSelector","modelone"],zxb:["colEpisodeList",5],qLb:["holdDuration",15E3],N9a:["rowFirst",2],RTa:["colFirst",5],P9a:["rowScroll",2],STa:["colScroll",6],WYb:["rowScrollHorizontal",6],pZb:["searchTop",3],mVa:["cwFirst",2],FW:["horizontalItemsFocusedMode",3],UNb:["itemsPerRank",1],qQb:["maxNumberPayloadsStored",10],m4a:["maxNumberTitlesScheduled",5],Dbc:["enableDetailedLogging",!0],zec:["rowStep",20],bbc:["colStep",15],aec:["pageRows",100],$dc:["pageColumns",75],psa:["maskParamsList",new (function(){var d,g;this.psa=[];this.Ve={};this.oaa=20;this.N4=15;for(d=0;100 > d;d++){for(g=0;75 > g;g++){(Math.floor(d / this.oaa) + "_" + Math.floor(g / this.N4) in this.Ve) || (this.Ve[Math.floor(d / this.oaa) + "_" + Math.floor(g / this.N4)]=1,this.psa.push(new k("grid",10,5,5,Math.floor(d / this.oaa),Math.floor(g / this.N4))));}}})().psa],L:["nodes",new f().L],mapping:["mapping",{AQb:"0",IQb:"1",zQb:"2",HQb:"3",kub:"4",y1b:"5",w1b:"6",x1b:"7",v1b:"8",eWb:"9",dWb:"10",MOb:"11",NOb:"12",POb:"13",QOb:"14",OOb:"15",ROb:"16",SOb:"17",TOb:"18",UOb:"19",VOb:"20",WOb:"21",XOb:"22",YOb:"23",ZOb:"24",$Ob:"25",aPb:"26",iXb:"27",jXb:"28",kXb:"29",lXb:"30",mXb:"31",nXb:"32",oXb:"33",pXb:"34",qXb:"35",rXb:"36",sXb:"37",tXb:"38",uXb:"39",vXb:"40",wXb:"41",xXb:"42",yXb:"43",zXb:"44",AXb:"45",BXb:"46",CXb:"47",DXb:"48",EXb:"49",tyb:"50",uyb:"51",vyb:"52",wyb:"53",xyb:"54",yyb:"55",zyb:"56",Ayb:"57",Byb:"58",Cyb:"59",Dyb:"60",Eyb:"61",Fyb:"62",Gyb:"63",Hyb:"64",Iyb:"65",Jyb:"66",Kyb:"67",Lyb:"68",Myb:"69",Nyb:"70",Oyb:"71",Pyb:"72",Qyb:"73",Ryb:"74",Syb:"75",Tyb:"76",Uyb:"77",Vyb:"78",Wyb:"79",Xyb:"80",Yyb:"81",Zyb:"82",$yb:"83",azb:"84",bzb:"85",czb:"86",dzb:"87",ezb:"88",fzb:"89",gzb:"90",hzb:"91",izb:"92",jzb:"93",kzb:"94",lzb:"95",mzb:"96",nzb:"97",ozb:"98",pzb:"99",qzb:"100",rzb:"101",szb:"102",tzb:"103",uzb:"104",vzb:"105",wzb:"106",xzb:"107",yzb:"108",zzb:"109",Azb:"110",Bzb:"111",Czb:"112",Dzb:"113",Ezb:"114",Fzb:"115",Gzb:"116",Hzb:"117",Izb:"118",Jzb:"119",Kzb:"120",Lzb:"121",Mzb:"122",Nzb:"123",Ozb:"124",Pzb:"125",Qzb:"126",Rzb:"127",Szb:"128",j5b:"129",gXb:"130",o0b:"131",Js:"132",iyb:"133",BGb:"134",U2b:"135",D2b:"136",$ub:"137",SRb:"138",n3b:"139",yVb:"140",Wub:"141",Zub:"142",Xub:"143",QRb:"144"}],features:["features",a],jac:["_modelName","tree"],eac:["_format","xgboost"],iac:["_itemsToKeep",5],hac:["_itemsThreshold",null],Nac:["cacheLimit",20]});r.exports={config:b,Ycc:k,gbc:c};},function(r,b,a){r.exports=a(566);},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(567);nb._cad_global={};nb.DEBUG=!1;a(12);a(11);a(18);a(24);a(49);a(93);a(1274);a(559);a(63);a(51);a(22);a(73);a(62);a(1275);a(307);a(341);a(1276);a(540);a(1277);a(537);a(544);a(542);a(543);a(560);a(531);a(532);a(534);a(303);a(302);a(1278);a(14);a(549);a(1279);a(197);a(74);a(538);a(160);a(479);a(480);a(286);a(1280);a(1281);a(502);a(1282);a(495);a(305);a(493);a(304);a(530);a(1283);a(306);a(546);a(195);a(561);a(164);a(1284);a(108);a(1291);a(1292);a(1293);a(1294);a(1296);a(1298);a(545);a(61);a(1299);a(541);a(473);a(539);a(548);a(1300);a(1301);a(311);a(166);a(1302);a(1303);a(1304);a(1306);a(1307);a(535);},function(r,b,a){(function(c){var f;(function(k){var G,C,H,K,M,I,Q,L,J;function m(N,O,P){var S;S=J.get(N);if(!S){if(!P)return;S=new Q();J.set(N,S);}N=S.get(O);if(!N){if(!P)return;N=new Q();S.set(O,N);}return N;}function d(N,O,P){if(g(N,O,P))return !0;O=v(O);return null !== O?d(N,O,P):!1;}function g(N,O,P){O=m(O,P,!1);return void 0 !== O && ! !O.has(N);}function h(N,O,P){if(g(N,O,P))return l(N,O,P);O=v(O);return null !== O?h(N,O,P):void 0;}function l(N,O,P){O=m(O,P,!1);return void 0 === O?void 0:O.get(N);}function n(N,O){var P,U;P=q(N,O);N=v(N);if(null === N)return P;O=n(N,O);if(0 >= O.length)return P;if(0 >= P.length)return O;N=new L();for(var S=0;S < P.length;S++){U=P[S];N.add(U);}for(P=0;P < O.length;P++){U=O[P];N.add(U);}return z(N);}function q(N,O){var P;N=m(N,O,!1);P=[];N && y(N,function(S,U){return P.push(U);});return P;}function p(N){return void 0 === N;}function u(N){return Array.isArray?Array.isArray(N):N instanceof Array || "[object Array]" === Object.prototype.toString.call(N);}function t(N){return "object" === typeof N?null !== N:"function" === typeof N;}function w(N){return "symbol" === typeof N?N:String(N);}function v(N){var O,P;O=Object.getPrototypeOf(N);if("function" !== typeof N || N === I || O !== I)return O;P=N.prototype;P=P && Object.getPrototypeOf(P);if(null == P || P === Object.prototype)return O;P=P.constructor;return "function" !== typeof P || P === N?O:P;}function x(N){N=N.next();return N.done?void 0:N;}function y(N,O,P){var S,U,Z;S=N.entries;if("function" === typeof S){S=S.call(N);try{for(;U=x(S);){Z=U.value;O.call(P,Z[1],Z[0],N);}}finally{U && (N=S["return"]) && N.call(S);}}else (S=N.forEach,"function" === typeof S && S.call(N,O,P));}function z(N){var O;O=[];y(N,function(P,S){O.push(S);});return O;}function A(N,O,P){var S;S=0;return {next:function(){var U;if((N || O) && S < (N || O).length){U=S++;switch(P){case "key":return {value:N[U],done:!1};case "value":return {value:O[U],done:!1};case "key+value":return {value:[N[U],O[U]],done:!1};}}O=N=void 0;return {value:void 0,done:!0};},"throw":function(U){if(N || O)O=N=void 0;throw U;},"return":function(U){if(N || O)O=N=void 0;return {value:U,done:!0};}};}function B(){var N;N={};return (function(){function O(){this.df=[];this.Ff=[];this.Zv=N;this.Bt=-2;}Object.defineProperty(O.prototype,"size",{get:function(){return this.df.length;},enumerable:!0,configurable:!0});O.prototype.has=function(P){return 0 <= this.Gy(P,!1);};O.prototype.get=function(P){P=this.Gy(P,!1);return 0 <= P?this.Ff[P]:void 0;};O.prototype.set=function(P,S){P=this.Gy(P,!0);this.Ff[P]=S;return this;};O.prototype.delete=function(P){var S;S=this.Gy(P,!1);if(0 <= S){P=this.df.length;for(S+=1;S < P;S++){this.df[S - 1]=this.df[S];this.Ff[S - 1]=this.Ff[S];}this.df.length--;this.Ff.length--;this.Zv=N;this.Bt=-2;return !0;}return !1;};O.prototype.clear=function(){this.df.length=0;this.Ff.length=0;this.Zv=N;this.Bt=-2;};O.prototype.keys=function(){return A(this.df,void 0,"key");};O.prototype.values=function(){return A(void 0,this.Ff,"value");};O.prototype.entries=function(){return A(this.df,this.Ff,"key+value");};O.prototype.Gy=function(P,S){var U;if(this.Zv === P)return this.Bt;U=this.df.indexOf(P);0 > U && S && (U=this.df.length,this.df.push(P),this.Ff.push(void 0));return (this.Zv=P,this.Bt=U);};return O;})();}function E(){return (function(){function N(){this.Vg=new Q();}Object.defineProperty(N.prototype,"size",{get:function(){return this.Vg.size;},enumerable:!0,configurable:!0});N.prototype.has=function(O){return this.Vg.has(O);};N.prototype.add=function(O){return (this.Vg.set(O,O),this);};N.prototype.delete=function(O){return this.Vg.delete(O);};N.prototype.clear=function(){this.Vg.clear();};N.prototype.keys=function(){return this.Vg.keys();};N.prototype.values=function(){return this.Vg.values();};N.prototype.entries=function(){return this.Vg.entries();};return N;})();}function D(){var S,U;function N(Z,ja){for(var ya=0;ya < ja;++ya){Z[ya]=255 * Math.random() | 0;}return Z;}function O(){var Z,ra;do {Z="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):N(new Uint8Array(16),16):N(Array(16),16);Z[6]=Z[6] & 79 | 64;Z[8]=Z[8] & 191 | 128;for(var ja="",ya=0;16 > ya;++ya){ra=Z[ya];if(4 === ya || 6 === ya || 8 === ya)ja+="-";16 > ra && (ja+="0");ja+=ra.toString(16).toLowerCase();}Z="@@WeakMap@@" + ja;}while(M.has(S,Z));S[Z]=!0;return Z;}function P(Z,ja){if(!G.call(Z,U)){if(!ja)return;Object.defineProperty(Z,U,{value:K()});}return Z[U];}S=K();U=O();return (function(){function Z(){this.Gt=O();}Z.prototype.has=function(ja){ja=P(ja,!1);return void 0 !== ja?M.has(ja,this.Gt):!1;};Z.prototype.get=function(ja){ja=P(ja,!1);return void 0 !== ja?M.get(ja,this.Gt):void 0;};Z.prototype.set=function(ja,ya){P(ja,!0)[this.Gt]=ya;return this;};Z.prototype.delete=function(ja){ja=P(ja,!1);return void 0 !== ja?delete ja[this.Gt]:!1;};Z.prototype.clear=function(){this.Gt=O();};return Z;})();}function F(N){N.bac=1;delete N.cac;return N;}G=Object.prototype.hasOwnProperty;C="function" === typeof Object.create;H=(function(){var O;function N(){}O={};N.prototype=O;return new N().__proto__ === O;})();K=C?function(){return F(Object.create(null));}:H?function(){return F({__proto__:null});}:function(){return F({});};(function(N){var O;O=!C && !H;N.has=O?function(P,S){return G.call(P,S);}:function(P,S){return (S in P);};N.get=O?function(P,S){return G.call(P,S)?P[S]:void 0;}:function(P,S){return P[S];};})(M || (M={}));I=Object.getPrototypeOf(Function);Q="function" === typeof Map?Map:B();L="function" === typeof Set?Set:E();J=new ("function" === typeof WeakMap?WeakMap:D())();k.cs=function(N,O,P,S){var Z;if(p(S)){if(p(P)){if(!u(N))throw new TypeError();if("function" !== typeof O)throw new TypeError();for(P=N.length - 1;0 <= P;--P){if((S=(0,N[P])(O),!p(S))){if("function" !== typeof S)throw new TypeError();O=S;}}return O;}if(!u(N))throw new TypeError();if(!t(O))throw new TypeError();P=w(P);for(S=N.length - 1;0 <= S;--S){(0,N[S])(O,P);}}else {if(!u(N))throw new TypeError();if(!t(O))throw new TypeError();if(p(P))throw new TypeError();if(!t(S))throw new TypeError();P=w(P);for(var U=N.length - 1;0 <= U;--U){Z=(0,N[U])(O,P,S);if(!p(Z)){if(!t(Z))throw new TypeError();S=Z;}}return S;}};k.Ic=function(N,O){return function(P,S){if(p(S)){if("function" !== typeof P)throw new TypeError();m(P,void 0,!0).set(N,O);}else {if(!t(P))throw new TypeError();S=w(S);m(P,S,!0).set(N,O);}};};k.r5=function(N,O,P,S){if(!t(P))throw new TypeError();p(S) || (S=w(S));m(P,S,!0).set(N,O);};k.TKb=function(N,O){var P;if(!t(O))throw new TypeError();p(P) || (P=w(P));return d(N,O,P);};k.Jpa=function(N,O){var P;if(!t(O))throw new TypeError();p(P) || (P=w(P));return g(N,O,P);};k.getMetadata=function(N,O,P){if(!t(O))throw new TypeError();p(P) || (P=w(P));return h(N,O,P);};k.k_a=function(N,O,P){if(!t(O))throw new TypeError();p(P) || (P=w(P));return l(N,O,P);};k.acc=function(N,O){if(!t(N))throw new TypeError();p(O) || (O=w(O));return n(N,O);};k.ccc=function(N,O){if(!t(N))throw new TypeError();p(O) || (O=w(O));return q(N,O);};k.jbc=function(N,O,P){var S;if(!t(O))throw new TypeError();p(P) || (P=w(P));S=m(O,P,!1);if(p(S) || !S.delete(N))return !1;if(0 < S.size)return !0;N=J.get(O);N.delete(P);if(0 < N.size)return !0;J.delete(O);return !0;};(function(N){if("undefined" !== typeof N.Reflect){if(N.Reflect !== k)for(var O in k){G.call(k,O) && (N.Reflect[O]=k[O]);}}else N.Reflect=k;})("undefined" !== typeof nb?nb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof c?c:Function("return this;")());})(f || (f={}));}).call(this,a(198));},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u;c=this && this.__awaiter || (function(t,w,v,x){return new (v || (v=Promise))(function(y,z){function A(D){try{E(x.next(D));}catch(F){z(F);}}function B(D){try{E(x["throw"](D));}catch(F){z(F);}}function E(D){D.done?y(D.value):new v(function(F){F(D.value);}).then(A,B);}E((x=x.apply(t,w || [])).next());});});f=this && this.__generator || (function(t,w){var y,z,A,B,E;function v(D){return function(F){return x([D,F]);};}function x(D){if(z)throw new TypeError("Generator is already executing.");for(;y;){try{if((z=1,A && (B=A[D[0] & 2?"return":D[0]?"throw":"next"]) && !(B=B.call(A,D[1])).done))return B;if((A=0,B))D=[0,B.value];switch(D[0]){case 0:case 1:B=D;break;case 4:return (y.label++,{value:D[1],done:!1});case 5:y.label++;A=D[1];D=[0];continue;case 7:D=y.bo.pop();y.$m.pop();continue;default:if(!(B=y.$m,B=0 < B.length && B[B.length - 1]) && (6 === D[0] || 2 === D[0])){y=0;continue;}if(3 === D[0] && (!B || D[1] > B[0] && D[1] < B[3]))y.label=D[1];else if(6 === D[0] && y.label < B[1])(y.label=B[1],B=D);else if(B && y.label < B[2])(y.label=B[2],y.bo.push(D));else {B[2] && y.bo.pop();y.$m.pop();continue;}}D=w.call(t,y);}catch(F){D=[6,F];A=0;}finally{z=B=0;}}if(D[0] & 5)throw D[1];return {value:D[0]?D[1]:void 0,done:!0};}y={label:0,Ac:function(){if(B[0] & 1)throw B[1];return B[1];},$m:[],bo:[]};return (E={next:v(0),"throw":v(1),"return":v(2)},"function" === typeof Symbol && (E[Symbol.iterator]=function(){return this;}),E);});Object.defineProperty(b,"__esModule",{value:!0});k=a(569);m=a(58);d=a(76);a(44);g=a(314);h=a(570);l=a(577);n=a(579);q=a(109);p=a(136);a(582);u=a(583);r=(function(){function t(w){w=w || ({});if("object" !== typeof w)throw Error("" + m.Xfb);if(void 0 === w.dH)w.dH=d.pt.e2;else if(w.dH !== d.pt.Hfa && w.dH !== d.pt.e2 && w.dH !== d.pt.Request)throw Error("" + m.Vfb);if(void 0 === w.sU)w.sU=!1;else if("boolean" !== typeof w.sU)throw Error("" + m.Ufb);if(void 0 === w.uJ)w.uJ=!1;else if("boolean" !== typeof w.uJ)throw Error("" + m.Wfb);this.options={sU:w.sU,dH:w.dH,uJ:w.uJ};this.id=q.id();this.iL=new u.qjb();this.Erb=[];this.parent=this.Dha=null;this.spb=new g.pea();}t.prototype.load=function(){var y,z;for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}v=this.BOa();for(var x=0;x < w.length;x++){y=w[x];z=v(y.id);y.Pva(z.ySa,z.xcb,z.t2a,z.B8a);}};t.prototype.pO=function(){for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}c(this,void 0,void 0,function(){var x,y,z,A,B;return f(this,function(E){switch(E.label){case 0:(x=this.BOa(),y=0,z=w,E.label=1);case 1:if(!(y < z.length))return [3,4];A=z[y];B=x(A.id);return [4,A.Pva(B.ySa,B.xcb,B.t2a,B.B8a)];case 2:(E.Ac(),E.label=3);case 3:return (y++,[3,1]);case 4:return [2];}});});};t.prototype.bind=function(w){var v;v=new k.hfb(w,this.options.dH || d.pt.e2);this.iL.add(w,v);return new n.jfb(v);};t.prototype.cXb=function(w){this.wcb(w);return this.bind(w);};t.prototype.wcb=function(w){try{this.iL.remove(w);}catch(v){throw Error(m.Ffb + " " + p.KN(w));}};t.prototype.I1a=function(w){var v;v=this.iL.i0a(w);!v && this.parent && (v=this.parent.I1a(w));return v;};t.prototype.restore=function(){var w;w=this.Erb.pop();if(void 0 === w)throw Error(m.ekb);this.iL=w.wU;this.Dha=w.gRb;};t.prototype.Zzb=function(){var w;w=new t(this.options);w.parent=this;return w;};t.prototype.get=function(w){return this.AOa(!1,!1,d.wy.Wfa,w);};t.prototype.getAll=function(w){return this.AOa(!0,!0,d.wy.Wfa,w);};t.prototype.resolve=function(w){var v;v=this.Zzb();v.bind(w).Zbb();return v.get(w);};t.prototype.BOa=function(){var z;function w(A){return function(B){B=z.cXb.bind(z)(B);B.Gc.CRb=A;return B;};}function v(){return function(A){return z.I1a.bind(z)(A);};}function x(){return function(A){z.wcb.bind(z)(A);};}function y(A){return function(B){B=z.bind.bind(z)(B);B.Gc.CRb=A;return B;};}z=this;return function(A){return {ySa:y(A),t2a:v(A),B8a:w(A),xcb:x(A)};};};t.prototype.AOa=function(w,v,x,y){var z;z=null;w={Kub:w,hyb:function(A){return A;},pNb:v,key:void 0,Sg:y,S1b:x,value:void 0};if(this.Dha){if((z=this.Dha(w),void 0 === z || null === z))throw Error(m.Xib);}else z=this.Hqb()(w);return z;};t.prototype.Hqb=function(){var w;w=this;return function(v){var x;x=h.bP(w.spb,w,v.pNb,v.S1b,v.Sg,v.key,v.value,v.Kub);x=v.hyb(x);return l.resolve(x);};};return t;})();b.s0=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(76);f=a(109);r=(function(){function k(m,d){this.id=f.id();this.Dia=!1;this.Sg=m;this.scope=d;this.type=c.Sj.ijb;this.WG=function(){return !0;};this.$M=this.lx=this.bB=this.lN=this.cache=this.Gm=null;}k.prototype.clone=function(){var m;m=new k(this.Sg,this.scope);m.Dia=!1;m.Gm=this.Gm;m.$M=this.$M;m.scope=this.scope;m.type=this.type;m.lN=this.lN;m.bB=this.bB;m.WG=this.WG;m.lx=this.lx;m.cache=this.cache;return m;};return k;})();b.hfb=r;},function(r,b,a){var d,g,h,l,n,q,p,u,t,w,v,x;function c(y,z,A,B,E){var D,F;D=m(A.fb,E.Sg);F=[];D.length === d.Fca.UHa && A.fb.options.sU && "function" === typeof E.Sg && y.WYa(E.Sg).$Ta && (A.fb.bind(E.Sg).Zbb(),D=m(A.fb,E.Sg));F=z?D:D.filter(function(G){var C;C=new v.Request(G.Sg,A,B,G,E);return G.WG(C);});f(E.Sg,F,E,A.fb);return F;}function f(y,z,A,B){switch(z.length){case d.Fca.UHa:if(A.a2a())return z;y=q.KN(y);z=g.ckb;z+=q.LOb(y,A);z+=q.e3a(B,y,m);throw Error(z);case d.Fca.ukb:if(!A.isArray())return z;default:if(A.isArray())return z;y=q.KN(y);z=g.leb + " " + y;z+=q.e3a(B,y,m);throw Error(z);}}function k(y,z,A,B,E,D){var F;if(null === E){z=c(y,z,B,null,D);F=new v.Request(A,B,null,z,D);A=new t.tlb(B,F);B.Rsb(A);}else (z=c(y,z,B,E,D),F=E.OQa(D.Sg,z,D));z.forEach(function(G){var C,H,K;C=null;if(D.isArray())C=F.OQa(G.Sg,G,D);else {if(G.cache)return;C=F;}if(G.type === h.Sj.Instance && null !== G.Gm){H=w.wHb(y,G.Gm);if(!B.fb.options.uJ){K=w.UGb(y,G.Gm);if(H.length < K)throw (G=g.neb(w.getFunctionName(G.Gm)),Error(G));}H.forEach(function(M){k(y,!1,M.Sg,B,C,M);});}});}function m(y,z){var A,B;A=[];B=y.iL;B.i0a(z)?A=B.get(z):null !== y.parent && (A=m(y.parent,z));return A;}Object.defineProperty(b,"__esModule",{value:!0});d=a(571);g=a(58);h=a(76);l=a(44);n=a(315);q=a(136);p=a(572);u=a(66);t=a(573);w=a(574);v=a(576);x=a(317);b.Wbc=function(y){return y.iL;};b.bP=function(y,z,A,B,E,D,F,G){void 0 === G && (G=!1);z=new p.TBa(z);A=new u.Metadata(A?l.uF:l.QR,E);B=new x.b2(B,"",E,A);void 0 !== D && (D=new u.Metadata(D,F),B.Ic.push(D));try{return (k(y,G,E,z,null,B),z);}catch(C){throw (n.i2a(C) && z.bP && q.$wb(z.bP.vwa),C);}};b.cbc=function(y,z,A,B){A=new x.b2(h.wy.Wfa,"",z,new u.Metadata(A,B));y=new p.TBa(y);return new v.Request(z,y,null,[],A);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fca={D8b:2,UHa:0,ukb:1};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(109);r=(function(){function f(k){this.id=c.id();this.fb=k;}f.prototype.Rsb=function(k){this.bP=k;};return f;})();b.TBa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tlb=(function(){return function(a,c){this.VO=a;this.vwa=c;};})();},function(r,b,a){var d,g,h,l,n,q;function c(p,u,t,w){var v,x,y,z,B,E,D,F,G,C,H,K;v=p.WYa(t);x=v.$Ta;if(void 0 === x)throw Error(g.Ajb + " " + u + ".");v=v.x4b;y=Object.keys(v);z=0 === t.length && 0 < y.length?y.length:t.length;y=[];for(var A=0;A < z;A++){B=A;E=w;D=u;F=x;G=v[B.toString()] || [];C=m(G);H=!0 !== C.bn;F=F[B];K=C.l || C.uI;F=K?K:F;F instanceof d.Sda && (F=F.x3b());if(H){H=F === Function;H=F === Object || H || void 0 === F;if(!E && H)throw Error(g.Bjb + " argument " + B + " in class " + D + ".");B=new q.b2(h.wy.PBa,C.c_,F);B.Ic=G;G=B;}else G=null;null !== G && y.push(G);}p=f(p,t);return y.concat(p);}function f(p,u){var y,z,A;for(var t=p.nJb(u),w=[],v=0,x=Object.keys(t);v < x.length;v++){y=x[v];z=t[y];A=m(t[y]);y=new q.b2(h.wy.GBa,A.c_ || y,A.l || A.uI);y.Ic=z;w.push(y);}u=Object.getPrototypeOf(u.prototype).constructor;u !== Object && (p=f(p,u),w=w.concat(p));return w;}function k(p,u){var t,w;u=Object.getPrototypeOf(u.prototype).constructor;if(u !== Object){t=n.getFunctionName(u);t=c(p,t,u,!0);w=t.map(function(v){return v.Ic.filter(function(x){return x.key === l.DS;});});w=[].concat.apply([],w).length;t=t.length - w;return 0 < t?t:k(p,u);}return 0;}function m(p){var u;u={};p.forEach(function(t){u[t.key.toString()]=t.value;});return {l:u[l.QR],uI:u[l.uF],c_:u[l.q1],bn:u[l.DS]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(316);g=a(58);h=a(76);l=a(44);n=a(136);b.getFunctionName=n.getFunctionName;q=a(317);b.wHb=function(p,u){var t;t=n.getFunctionName(u);return c(p,t,u,!1);};b.UGb=k;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.dQ=c;}a.prototype.startsWith=function(c){return 0 === this.dQ.indexOf(c);};a.prototype.endsWith=function(c){var f;f=c.split("").reverse().join("");c=this.dQ.split("").reverse().join("");return this.startsWith.call({dQ:c},f);};a.prototype.contains=function(c){return -1 !== this.dQ.indexOf(c);};a.prototype.equals=function(c){return this.dQ === c;};a.prototype.value=function(){return this.dQ;};return a;})();b.Clb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(109);r=(function(){function f(k,m,d,g,h){this.id=c.id();this.Sg=k;this.VO=m;this.VA=d;this.target=h;this.Fka=[];this.wU=Array.isArray(g)?g:[g];this.uYb=null === d?new Map():null;}f.prototype.OQa=function(k,m,d){k=new f(k,this.VO,this,m,d);this.Fka.push(k);return k;};return f;})();b.Request=r;},function(r,b,a){var k,m,d,g,h;function c(l){return function(n){var q,p,u,t,w;q=n.wU;p=n.Fka;u=n.target && n.target.isArray();t=!n.VA || !n.VA.target || !n.target || !n.VA.target.eQb(n.target.Sg);if(u && t)return p.map(function(v){return c(l)(v);});u=null;if(!n.target.a2a() || 0 !== q.length){w=q[0];q=w.scope === m.pt.Hfa;t=w.scope === m.pt.Request;if(q && w.Dia)return w.cache;if(t && null !== l && l.has(w.id))return l.get(w.id);if(w.type === m.Sj.NBa)u=w.cache;else if(w.type === m.Sj.Function)u=w.cache;else if(w.type === m.Sj.OBa)u=w.Gm;else if(w.type === m.Sj.YCa && null !== w.$M)u=f("toDynamicValue",w.Sg,function(){return w.$M(n.VO);});else if(w.type === m.Sj.sda && null !== w.lN)u=f("toFactory",w.Sg,function(){return w.lN(n.VO);});else if(w.type === m.Sj.PKa && null !== w.bB)u=f("toProvider",w.Sg,function(){return w.bB(n.VO);});else if(w.type === m.Sj.Instance && null !== w.Gm)u=h.GYb(w.Gm,p,c(l));else throw (p=g.KN(n.Sg),Error(k.Tib + " " + p));"function" === typeof w.lx && (u=w.lx(n.VO,u));q && (w.cache=u,w.Dia=!0);t && null !== l && !l.has(w.id) && l.set(w.id,u);return u;}};}function f(l,n,q){try{return q();}catch(p){if(d.i2a(p))throw Error(k.Jfb(l,n.toString()));throw p;}}Object.defineProperty(b,"__esModule",{value:!0});k=a(58);m=a(76);d=a(315);g=a(136);h=a(578);b.resolve=function(l){return c(l.bP.vwa.uYb)(l.bP.vwa);};},function(r,b,a){var k,m,d;function c(g,h,l){var n;h=h.filter(function(q){return null !== q.target && q.target.type === m.wy.GBa;});n=h.map(l);h.forEach(function(q,p){q=q.target.name.value();g[q]=n[p];});return g;}function f(g,h){var l;if(Reflect.TKb(d.nS,g)){l=Reflect.getMetadata(d.nS,g);try{h[l.value]();}catch(n){throw Error(k.klb(g.name,n.message));}}}Object.defineProperty(b,"__esModule",{value:!0});k=a(58);m=a(76);d=a(44);b.GYb=function(g,h,l){var n;n=null;0 < h.length?(n=h.filter(function(q){return null !== q.target && q.target.type === m.wy.PBa;}).map(l),n=new (g.bind.apply(g,[void 0].concat(n)))(),n=c(n,h,l)):n=new g();f(g,n);return n;};},function(r,b,a){var c,f,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(58);f=a(76);k=a(580);m=a(318);r=(function(){function d(g){this.Gc=g;}d.prototype.to=function(g){this.Gc.type=f.Sj.Instance;this.Gc.Gm=g;return new k.FAa(this.Gc);};d.prototype.Zbb=function(){if("function" !== typeof this.Gc.Sg)throw Error("" + c.Zib);this.to(this.Gc.Sg);};d.prototype.Oj=function(g){this.Gc.type=f.Sj.NBa;this.Gc.cache=g;this.Gc.$M=null;this.Gc.Gm=null;new m.bF(this.Gc);};d.prototype.SE=function(g){this.Gc.type=f.Sj.YCa;this.Gc.cache=null;this.Gc.$M=g;this.Gc.Gm=null;return new k.FAa(this.Gc);};d.prototype.w2b=function(g){this.Gc.type=f.Sj.OBa;this.Gc.Gm=g;new m.bF(this.Gc);};d.prototype.Af=function(g){this.Gc.type=f.Sj.sda;this.Gc.lN=g;new m.bF(this.Gc);};d.prototype.x2b=function(g){if("function" !== typeof g)throw Error(c.Wib);this.Oj(g);this.Gc.type=f.Sj.Function;};d.prototype.Xbb=function(g){this.Gc.type=f.Sj.sda;this.Gc.lN=function(h){return function(){return h.fb.get(g);};};new m.bF(this.Gc);};d.prototype.l_=function(g){this.Gc.type=f.Sj.PKa;this.Gc.bB=g;new m.bF(this.Gc);};d.prototype.y2b=function(g){this.SE(function(h){return h.fb.get(g);});};return d;})();b.jfb=r;},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(581);f=a(201);k=a(202);r=(function(){function m(d){this.Gc=d;this.NS=new k.Gca(this.Gc);this.mga=new f.k0(this.Gc);this.PNa=new c.ifb(d);}m.prototype.ba=function(){return this.PNa.ba();};m.prototype.fqa=function(){return this.PNa.fqa();};m.prototype.when=function(d){return this.NS.when(d);};m.prototype.O_=function(){return this.NS.O_();};m.prototype.lx=function(d){return this.mga.lx(d);};return m;})();b.FAa=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(76);f=a(318);r=(function(){function k(m){this.Gc=m;}k.prototype.ba=function(){this.Gc.scope=c.pt.Hfa;return new f.bF(this.Gc);};k.prototype.fqa=function(){this.Gc.scope=c.pt.e2;return new f.bF(this.Gc);};return k;})();b.ifb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.D6b=(function(){function a(){}a.of=function(c,f){var k;k=new a();k.wU=c;k.gRb=f;return k;};return a;})();},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(58);r=(function(){function f(){this.Vg=new Map();}f.prototype.add=function(k,m){var d;if(null === k || void 0 === k)throw Error(c.hS);if(null === m || void 0 === m)throw Error(c.hS);d=this.Vg.get(k);void 0 !== d?(d.push(m),this.Vg.set(k,d)):this.Vg.set(k,[m]);};f.prototype.get=function(k){if(null === k || void 0 === k)throw Error(c.hS);k=this.Vg.get(k);if(void 0 !== k)return k;throw Error(c.GFa);};f.prototype.remove=function(k){if(null === k || void 0 === k)throw Error(c.hS);if(!this.Vg.delete(k))throw Error(c.GFa);};f.prototype.i0a=function(k){if(null === k || void 0 === k)throw Error(c.hS);return this.Vg.has(k);};f.prototype.clone=function(){var k;k=new f();this.Vg.forEach(function(m,d){m.forEach(function(g){return k.add(d,g.clone());});});return k;};return f;})();b.qjb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(109);b.rd=(function(){return function(f){this.id=c.id();this.Pva=f;};})();b.tAa=(function(){return function(f){this.id=c.id();this.Pva=f;};})();},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(58);f=a(44);b.T=function(){return function(k){var m;if(Reflect.Jpa(f.Bea,k))throw Error(c.chb);m=Reflect.getMetadata(f.Bgb,k) || [];Reflect.r5(f.Bea,m,k);return k;};};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(66);f=a(94);b.vbb=function(k,m){return function(d,g,h){var l;l=new c.Metadata(k,m);"number" === typeof h?f.FJ(d,g,h,l):f.b_(d,g,l);};};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);f=a(66);k=a(94);b.m5a=function(m){return function(d,g,h){var l;l=new f.Metadata(c.bC,m);"number" === typeof h?k.FJ(d,g,h,l):k.b_(d,g,l);};};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);f=a(66);k=a(94);b.optional=function(){return function(m,d,g){var h;h=new f.Metadata(c.dIa,!0);"number" === typeof g?k.FJ(m,d,g,h):k.b_(m,d,h);};};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);f=a(66);k=a(94);b.bn=function(){return function(m,d,g){var h;h=new f.Metadata(c.DS,!0);k.FJ(m,d,g,h);};};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);f=a(66);k=a(94);b.uI=function(m){return function(d,g,h){var l;l=new f.Metadata(c.uF,m);"number" === typeof h?k.FJ(d,g,h,l):k.b_(d,g,l);};};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);f=a(66);k=a(94);b.c_=function(m){return function(d,g,h){var l;l=new f.Metadata(c.q1,m);k.FJ(d,g,h,l);};};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(58);f=a(44);k=a(66);b.I7a=function(){return function(m,d){d=new k.Metadata(f.nS,d);if(Reflect.Jpa(f.nS,m.constructor))throw Error(c.Ojb);Reflect.r5(f.nS,d,m.constructor);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.i5a=function(a){return function(c){return function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.forEach(function(m){return a.bind(m).y2b(c);});};};};},function(r,b,a){var d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E;function c(D,F){D=D.Xw || D.cO?(0,t.lZa)(F):D.SW?(0,v.vZa)(F):D.l8?(0,w.g_a)(F):D.hO?(0,x.y_a)(F):(0,u.RYa)(F);this.O0=D.O0;this.Xca=D.Xca;}function f(D){this.je=D;}function k(D){var F;F=l.Vea.call(this) || this;D.eO?Object.assign(F,(0,x.FZa)()):D.SW?Object.assign(F,(0,v.uZa)(D)):D.l8?Object.assign(F,(0,w.f_a)()):D.Xw || D.cO?Object.assign(F,(0,t.kZa)()):D.hO?Object.assign(F,(0,x.x_a)()):Object.assign(F,(0,u.QYa)(D));return F;}function m(D){this.data=D.SW?(0,v.xZa)(D):D.l8?(0,w.i_a)(D):D.Xw || D.cO?(0,t.nZa)(D):D.hO?(0,x.A_a)(D):(0,u.TYa)(D);}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.Bfb=b.Afb=b.zfb=b.yfb=void 0;r=a(1);d=a(0);g=a(35);h=a(110);l=a(595);n=a(167);q=a(321);p=a(204);u=a(596);t=a(597);w=a(598);v=a(599);x=a(600);y=a(601);z=a(602);Ya.Object.defineProperties(m.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},G9:{configurable:!0,enumerable:!0,get:function(){return this.data.G9;}},vq:{configurable:!0,enumerable:!0,get:function(){return this.data.vq;}},Xo:{configurable:!0,enumerable:!0,get:function(){return this.data.Xo;}},uN:{configurable:!0,enumerable:!0,get:function(){return this.data.uN;}},Kz:{configurable:!0,enumerable:!0,get:function(){return this.data.Kz;}},ima:{configurable:!0,enumerable:!0,get:function(){return this.data.ima;}},BVa:{configurable:!0,enumerable:!0,get:function(){return this.data.BVa;}},Tra:{configurable:!0,enumerable:!0,get:function(){return this.data.Tra;}},kV:{configurable:!0,enumerable:!0,get:function(){return this.data.kV;}},ydb:{configurable:!0,enumerable:!0,get:function(){return this.data.ydb;}},S3:{configurable:!0,enumerable:!0,get:function(){return this.data.S3;}},XY:{configurable:!0,enumerable:!0,get:function(){return this.data.XY;}}});A=m;A=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(n.TB))],A);b.yfb=A;na(k,l.Vea);B=k;B=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(n.TB))],B);b.zfb=B;f.prototype.apply=function(){this.je.SW?Object.assign(this,(0,v.wZa)(this.je)):this.je.l8?Object.assign(this,(0,w.h_a)(this.je)):this.je.Xw || this.je.cO?Object.assign(this,(0,t.mZa)(this.je)):this.je.hO?Object.assign(this,(0,x.z_a)(this.je)):Object.assign(this,(0,u.SYa)(this.je));return this;};E=f;E=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(n.TB))],E);b.Afb=E;c=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(n.TB)),r.__param(1,(0,d.l)(g.Cl))],c);b.Bfb=c;b.platform=new d.rd(function(D){D(g.Cl).to(A).ba();D(h.JF).to(B).ba();D(q.AJa).to(E).ba();D(g.fC).to(c).ba();D(p.Wea).Af(function(F){return function(){var G;G=F.fb.get(n.TB);return G.Xw || G.cO?{bc:function(C,H,K){return new z.bga(C,H,K);},request:y.zNa}:G.hO?{bc:function(C,H,K){return new (a(603))(C,H,K);},request:a(604)}:{};};});});},function(r,b,a){var c,f,k,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.Vea=void 0;c=a(5);f=a(52);k=a(203);m=a(45);d={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.Vea=function(){this.nSa=this.nM=k.Tx.k1;this.Xwa=!0;this.HG=[];this.en=[];this.HI=this.cN=!1;this.xv=[m.Dl.Yca,m.Dl.Vlb,m.Dl.JK,m.Dl.REa];this.Im=void 0;this.Lma=!0;this.M5=!1;this.Z3=(0,f.ga)(288E4);this.c4=(0,f.ga)(335544320);this.FA=(0,c.Nc)(15E3);this.nQb=(0,f.ga)(6291456);this.qO=1E3;this.oka=!0;this.sya=d;this.lQ=(0,f.ga)(0);this.VN=["ro","zh-Hans","zh-Hant"];this.nba=(0,c.Nc)(0);this.JW=!0;this.Gba=!1;this.Jsa=this.u6=!0;this.lH=!1;};},function(r,b,a){var c,f,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.RYa=b.SYa=b.QYa=b.TYa=void 0;c=a(26);f=a(45);k=a(123);m=a(137);b.TYa=function(d){return Object.assign(Object.assign({},(0,m.zN)()),{vq:d.m2a?"T":d.bO?"C":"M",Xo:d.m2a?"NFCDTS-01-":d.VD?"NFCDCH-02-":d.fO?"NFCDCH-MC-":d.bO?"NFCDCH-01-":d.Z7?"NFCDCH-AP-":d.Y7?"NFCDCH-AT-":d.eO?"NFCDCH-PH-":"NFCDCH-LX-",Kz:d.bO?"chromeos-cadmium":"chrome-cadmium",XY:d.bO});};b.QYa=function(d){var g,h;g=(0,m.xN)();h=Object.assign(Object.assign({},g),{cN:!0,HI:!0});d.VD && (h.en=[].concat(ha(g.en),ha((0,k.fo)([f.P.NB,f.P.OB],{minimumCores:5}))));d.fO && (h.en=[].concat(ha(g.en),ha((0,k.fo)([f.P.NB,f.P.OB],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));d.bO && (h.en=(0,k.fo)([f.P.Jca,f.P.cca,f.P.Jza,f.P.Nca,f.P.Mca,f.P.Lca,f.P.Kca]));return h;};b.SYa=function(d){var g;g={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.pj.iK,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1,combineManifestAndLicense:!0,enableLicensedManifestForPrefetch:!0,useLdlForPrefetchLicensedManifest:!0};80 <= d.iq && (g=Object.assign(Object.assign({},g),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));d.bO && 89 <= d.iq && (g=Object.assign(Object.assign({},g),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0,prepareLdlCacheMaxCount:15}));94 <= d.iq && d.VD && (g=Object.assign(Object.assign({},g),{overrideEnableAVCHigh:!1,microsoftClearLeadRequiresSwdrm:!0}));d.VD && 99 <= d.iq && (g=Object.assign(Object.assign({},g),{enableAV1:!0}));return g;};b.RYa=function(d){return (0,m.yN)(d);};},function(r,b,a){var c,f,k,m,d,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.lZa=b.mZa=b.kZa=b.nZa=void 0;c=a(26);f=a(111);k=a(45);m=a(203);d=a(137);g=a(112);h=a(123);b.nZa=function(l){return Object.assign(Object.assign({},(0,d.zN)()),{vq:l.Xw?"D":"H",Xo:l.Xw?l.fO?"NFCDIE-04-":l.mNb?"NFCDIE-LX-":l.Z7?"NFCDIE-AP-":l.Y7?"NFCDIE-AT-":l.eO?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",Kz:"edge-cadmium",S3:!1,XY:!1});};b.kZa=function(){return Object.assign(Object.assign({},(0,d.xN)()),{nM:nb.crypto?m.Tx.k1:m.Tx.FFa,nSa:nb.crypto?m.Tx.k1:m.Tx.FFa,HG:(0,h.fo)([k.ze.kF,k.ze.lF,k.ze.fR,k.ze.gR]),en:(0,h.fo)([k.P.Jca,k.P.cca,k.P.Jza,k.P.Nca,k.P.Mca,k.P.Lca,k.P.Kca,k.P.dBa,k.P.cBa,k.P.Gfb]),Im:void 0,JW:!1});};b.mZa=function(l){var n,q,p,u,t,w,v;p={nudgeSourceBuffer:!0,audioCapabilityDetectorType:c.Cv.ly,videoCapabilityDetectorType:c.pj.ly,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000"};u=l.cO;t=l.Xw;w=l.VD;v=null === (n=nb.MSMediaKeys) || void 0 === n?void 0:n.isTypeSupported(f.Lb.Yd,g.Hd.Tsa);n=v || (null === (q=nb.MSMediaKeys) || void 0 === q?void 0:q.isTypeSupported(f.Lb.KF,g.Hd.Tsa));q={prepareCadmium:!0,enableLdlPrefetch:!n || v,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};v={audioCapabilityDetectorType:c.Cv.Fv,videoCapabilityDetectorType:c.pj.iK,microsoftScreenSizeFilterEnabled:!1,keySystemList:[f.Lb.vNa],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:(0,h.fo)([k.ze.kF,k.ze.lF]),videoProfiles:(0,h.fo)([k.P.tK,k.P.jF,k.P.tR,k.P.uR]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0,combineManifestAndLicense:!0,enableLicensedManifestForPrefetch:!0,useLdlForPrefetchLicensedManifest:!0};u && (14 <= l.iq && (p=Object.assign(Object.assign(Object.assign({},p),q),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= l.iq && (p=Object.assign(Object.assign({},p),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= l.iq && (p=Object.assign(Object.assign({},p),{microsoftHwdrmRequiresHevc:!1})),17 <= l.iq && (p=Object.assign(Object.assign({},p),{enableDDPlusAtmos:!0})));t && (p=Object.assign(Object.assign(Object.assign({},p),q),{useEncryptedEvent:!1}),w && (p=Object.assign(Object.assign({},p),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),n?(p=Object.assign(Object.assign({},p),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[f.Lb.vlb,f.Lb.GJa]}),94 === l.iq && (p=Object.assign(Object.assign({},p),{enableHWDRM:!1})),95 <= l.iq && (p=Object.assign(Object.assign({},p),{enableHWDRM:!0}))):p=Object.assign(Object.assign({},p),v));return p;};b.lZa=function(l){return (0,d.yN)(l);};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.g_a=b.h_a=b.f_a=b.i_a=void 0;c=a(26);f=a(137);b.i_a=function(k){return Object.assign(Object.assign({},(0,f.zN)()),{vq:"O",Xo:k.Z7?"NFCDOP-AP-":k.Y7?"NFCDOP-AT-":k.eO?"NFCDOP-PH-":"NFCDOP-01-",Kz:"opera-cadmium"});};b.f_a=function(){return Object.assign(Object.assign({},(0,f.xN)()),{cN:!0,HI:!0});};b.h_a=function(k){var m;m={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.pj.iK,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1,combineManifestAndLicense:!0,enableLicensedManifestForPrefetch:!0,useLdlForPrefetchLicensedManifest:!0};67 <= k.iq && (m=Object.assign(Object.assign({},m),{enableVP9:!0}));return m;};b.g_a=function(k){return (0,f.yN)(k);};},function(r,b,a){var c,f,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.vZa=b.wZa=b.uZa=b.xZa=void 0;c=a(26);f=a(45);k=a(123);m=a(137);b.xZa=function(d){return Object.assign(Object.assign({},(0,m.zN)()),{vq:"F",Xo:d.fO?"NFCDFF-MC-":d.VD?"NFCDFF-02-":d.Z7?"NFCDFF-AP-":d.Y7?"NFCDFF-AT-":d.eO?"NFCDFF-PH-":"NFCDFF-LX-",Kz:"firefox-cadmium"});};b.uZa=function(d){var g,h;g=(0,m.xN)();h=Object.assign(Object.assign({},g),{cN:!0,HI:!0});d.VD && (h.en=[].concat(ha(g.en),ha((0,k.fo)([f.P.NB,f.P.OB],{minimumCores:5,restrictToUILabels:["mini-modal-horizontal"]}))));d.fO && (h.en=[].concat(ha(g.en),ha((0,k.fo)([f.P.NB,f.P.OB],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));return h;};b.wZa=function(d){var g;g={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,waitForDrmToAppendMedia:!0,videoCapabilityDetectorType:c.pj.iK,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1,combineManifestAndLicense:!0,enableLicensedManifestForPrefetch:!0,useLdlForPrefetchLicensedManifest:!0};(d.VD || d.fO) && 95 <= d.iq && (g=Object.assign(Object.assign({},g),{enableAV1:!0}));return g;};b.vZa=function(d){return (0,m.yN)(d);};},function(r,b,a){var f,k,m,d,g,h;function c(){return Object.assign(Object.assign({},(0,h.xN)()),{HG:(0,g.fo)([d.ze.kF,d.ze.lF,d.ze.VF]),en:(0,g.fo)([d.P.Jca,d.P.cca,d.P.Nca,d.P.Mca,d.P.Lca,d.P.Kca,d.P.dBa,d.P.cBa]),Im:m.Lb.Phb,FA:(0,f.Nc)(7E3)});}Object.defineProperty(b,"__esModule",{value:!0});b.y_a=b.z_a=b.x_a=b.FZa=b.A_a=void 0;f=a(5);k=a(26);m=a(111);d=a(45);g=a(123);h=a(137);b.A_a=function(l){return Object.assign(Object.assign({},(0,h.zN)()),{vq:"S",Xo:l.eO?"NFCDSF-PH-":"NFCDSF-01-",Kz:"safari-cadmium"});};b.FZa=function(){return Object.assign(Object.assign({},c()),{Gba:!0,lH:!1,xv:[d.Dl.i2]});};b.x_a=c;b.z_a=function(l){var n;n={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,enableLastChunkLogging:!0,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:k.pj.Fv,enableSeamless:!0};(0,h.UW)(l,10,12,2) && (n=Object.assign(Object.assign({},n),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,h.UW)(l,10,13,6) && (n=Object.assign(Object.assign({},n),{enableLdlPrefetch:!0}));(0,h.UW)(l,10,15,5) && (n=Object.assign(Object.assign({},n),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,h.UW)(l,10,15,6) && (n=Object.assign(Object.assign({},n),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));(0,h.K1a)(l,9) && (n=Object.assign(Object.assign({},n),{maxDecoderBufferMilliseconds:31E3}));return n;};b.y_a=function(l){return (0,h.yN)(l);};},function(r,b,a){var f;function c(k,m,d,g){this.log=k;this.CH=m;this.hB=d;this.context=g;}Object.defineProperty(b,"__esModule",{value:!0});b.zNa=void 0;f=a(3);c.prototype.bh=function(k){var m;m=this;(this.context.wf || this.context.ll) && this.log.trace("Requesting license",{drmType:k.Wo});return this.CH(k).catch(function(d){m.log.error("Unable to get the Playready license",d);if(m.context.ufc)throw d;throw {aa:!1,code:f.N.AK,Ec:d.Ec,Nd:d.Nd,Kn:d.Kn,sk:d.message || d.sk,pH:d.data,message:"Unable to send the Playready license request. " + (d.message || d.sk)};});};c.prototype.release=function(k){var m;m=this;this.log.trace("Requesting stop data");return this.hB(k).catch(function(d){m.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.Ec,extCode:d.Nd,edgeCode:d.Kn,message:d.message || d.sk});throw {aa:!1,code:f.N.tfa,Ec:d.Ec,Nd:d.Nd,Kn:d.Kn,sk:d.message || d.sk,message:"Unable to release the PlayReady license. " + (d.message || d.sk)};});};b.zNa=c;nb._cad_global.WindowsDrmRequests=c;},function(r,b,a){var c,f,k,m,d,g,h,l;Object.defineProperty(b,"__esModule",{value:!0});b.bga=void 0;c=a(3);f=a(200);k=a(205);m=a(29);d=a(77);g=a(36);h=a(26);l=a(64);(function(){var z;function n(A,B,E){var D;D=this;this.log=A;this.ao=B || y.bind(this);this.context=E;this.oY=this.challenge=this.keySystem=this.keySessionId=this.Mb=this.mediaKeys=void 0;this.Sc={};this.Hra=this.Sxa=!1;this.aY=t.bind(this);this.oY=void 0;this.wza=new Promise(function(F,G){D.owa=F;D.Rva=G;});this.wza.catch(function(F){D.log.error("wait for license rejected",F);});f.cc.get(h.Zx).M6().then(function(F){(D.context.wf || D.context.ll) && D.log.debug("DRIVERINFO: ",F);}).catch(function(F){D.log.error("DRIVERINFO",F);});this.$n=function(F,G){D.Rva(F,G);D.context.onerror(F,G);};this.Rta=function(){D.owa();};if(!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.");}function q(){return f.cc.get(g.Ii);}function p(){return f.cc.get(m.jg);}function u(A){var B,E;B=f.cc.get(k.Mfa);E="";A.forEach(function(D){E+="<KeyID>" + D + "</KeyID>";});A='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + E + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.cbb(A));(this.context.wf || this.context.ll) && this.log.trace("LICENSE: proactive license cdm data",{xml:A,b64:q().encode(B)});return B;}function t(A){var B;B=A.target.error?A.target.error.msExtendedCode:void 0;this.log.error("Received " + A.type + " event",{sessionId:this.Mb.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(z.hg.Gr,z.mC.tt,B);this.Mb=void 0;}function w(A,B,E){var F,G,C;for(var D=2;D < arguments.length;++D){;}D="";G=A.length;for(F=0;F < G;F++){C=A[F];0 < C && (D+=String.fromCharCode(C));}G="\\s*(.*)\\s*";for(F=arguments.length - 1;0 < F;F--){C=arguments[F];if(0 > D.search(C))return;C="(?:[^:].*:|)" + C;G="[\\s\\S]*<" + C + "[^>]*>" + G + "</" + C + ">[\\s\\S]*";}if(D=D.match(new RegExp(G)))return D[1];}function v(A,B,E,D){var F,G;F=A.target && A.target.sessionId;G=q().decode(w(A.message,"PlayReadyKeyMessage","Challenge"));E.state=12;E.log.trace("LICENSE: Received " + A.type + " event",{keySystem:A.target && A.target.keySystem,sessionId:F});(E.context.wf || E.context.ll || E.context.GB) && E.log.debug("LICENSE: License challenge",q().encode(G));E.keySessionId=F;A={ag:B,messageType:"license-request",Wo:(/clearkey/i).test(E.keySystem)?"clearkey":"playready",lk:[{data:G,sessionId:F}]};12 === E.state && (E.ao("lc"),G={data:G,Wo:(/clearkey/i).test(E.keySystem)?"clearkey":"playready"},E.context.KI || (E.oY=G));E.context.Wl.bh(A).then(function(C){if(12 === E.state && (E.ao("lr"),E.Rta(),!E.context.KI))(E.pY=C.xj[0].data,E.state=13,D({aa:!0,state:E.state}));else if(E.Mb)return x(E,C.xj[0].data,E.Mb).then(function(){E.state=30;D({aa:!0,state:E.state});});}).catch(function(C){D(p().rI(C,{state:E.state}));});}function x(A,B,E){A.d8() && A.log.trace("LICENSE: Got the response, calling update",{sessionId:E.sessionId,license:q().encode(B)});return new Promise(function(D,F){try{A.Mb.update(B);D(void 0);A.d8() && A.log.trace("LICENSE: Update succeeded",{sessionId:E.sessionId});}catch(G){F({aa:!1,code:z.hg.D1,message:"Unable to update the EME.",yb:p().wd(G)});}});}function y(A){this.context.za && (this.Sc[A]=this.context.za.getTime(),this.log.trace("Milestone: " + A + ", " + this.Sc[A]));}z={};z.hg=c.N;z.mC=c.M;n.prototype.ru=function(){return this.keySystem;};n.prototype.Wcb=function(A,B){A.log && (this.log=A.log);A.ao && (this.ao=A.ao);B.Wl && (this.context.Wl=B.Wl);B.onerror && (this.context.onerror=B.onerror);};n.prototype.create=function(A){var B;B=this;return (A?Promise.resolve(A):f.cc.get(h.Zx).ru()).then(function(E){B.ao("lg");B.log.trace("Creating the media keys",{keySystem:E});B.keySystem=E;if(B.context.HY)E=Promise.reject({aa:!1,code:z.hg.oR,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new nb.MSMediaKeys(E);}catch(D){E=Promise.reject({aa:!1,code:z.hg.qIa,message:"create MSMediaKeys(" + E + ") failed",yb:p().wd(D)});break a;}try{B.context.Z && B.context.Z.msSetMediaKeys(B.mediaKeys);}catch(D){E=Promise.reject({aa:!1,code:z.hg.MK,message:"set MSMediaKeys failed",yb:p().wd(D)});break a;}E=Promise.resolve({aa:!0,mediaKeys:B.mediaKeys});}return E;});};n.prototype.close=function(){if(this.Mb){this.log.info("Closing the session",{sessionId:this.Mb.sessionId});this.Mb.removeEventListener("mskeyerror",this.aY);try{this.Mb.close();}catch(A){this.log.error("Failed to close the key sessions",A);}this.Mb=void 0;}};n.prototype.bh=function(A,B,E){var D;if(1 < B.length)return Promise.reject({code:z.hg.uIa});if(0 === B.length)return Promise.reject({code:z.hg.tIa});B=B[0];D=this;D.context.wf && D.log.trace("LICENSE: Setting license");return D.context.HY?Promise.reject({aa:!1,code:z.hg.fDa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(F,G){var C,H,K,M,I,Q,L;try{H=function(J){D.Mb && (D.Mb.removeEventListener("mskeymessage",M),D.Mb.removeEventListener("mskeyadded",I),D.Mb.removeEventListener("mskeyerror",Q),D.Mb.addEventListener("mskeyerror",D.aY));J.state=11;J.aa?F(J):(D.close(),G(J));};K=function(J){var N,O;N=[];O=Array.prototype.map.call(J,function(S){return S?String.fromCharCode(S):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(O)N.push(O[1]);else {J=w(J,"KIDS");O=/VALUE="(.+?)">/g;for(var P=O.exec(J);null != P;){N.push(P[1]);P=O.exec(J);}}return N;};M=function(J){C && clearTimeout(C);v(J,A,D,H);};I=function(J){(D.context.wf || D.context.ll) && D.log.trace("LICENSE: Received " + J.type + " event",{keySystem:J.target.keySystem,sessionId:J.target.sessionId});H({aa:!0});};Q=function(J){var N,O;C && clearTimeout(C);if(J.target && J.target.error)(N=J.target.error.systemCode,O=J.target.error.code);N={code:z.hg.Gr,Ec:z.mC.tt,Nd:N?f.cc.get(d.Ux).vH(N,4):O,details:p().wd(J),cause:J.target && J.target.error,fba:N,W5:O};D.log.error("LICENSE: Received " + J.type + " event",{sessionId:D.Mb && D.Mb.sessionId,keySystem:J.target.keySystem,systemCode:N.fba,code:N.W5});D.ao("le");D.$n && D.$n(z.hg.Gr,N);H({aa:!1,code:z.hg.Gr,Ec:z.mC.tt,Nd:N.Nd,message:"Received a key error.",yb:N.details,cause:N.cause});};D.log.trace("LICENSE: Executing prefix based EME");(D.context.wf || D.context.ll) && D.log.debug("LICENSE: PSSH",q().encode(B));D.Yw || (D.Yw=K(B));if(E){L=u.call(D,D.Yw);D.Mb=D.mediaKeys.createSession("video/mp4",new Uint8Array(0),L);}else D.Mb=D.mediaKeys.createSession("video/mp4",B,null);(D.context.wf || D.context.ll) && D.log.debug("LICENSE: Created the media keys sessions",{keySystem:D.Mb.keySystem,sessionId:D.Mb.sessionId});D.Mb.addEventListener("mskeymessage",M);D.Mb.addEventListener("mskeyadded",I);D.Mb.addEventListener("mskeyerror",Q);D.context.FOb && (C=setTimeout(function(){H({aa:!1,code:z.hg.mS,Ec:z.mC.Chb});},D.context.FOb));}catch(J){G({code:z.hg.mS,Ec:z.mC.Qk});}});})();};n.prototype.YI=function(){var A;(this.context.wf || this.context.ll) && this.log.trace("LICENSE: Renewing license");A=[new Uint8Array(0)];return this.bh(l.uo.Rda.Lp,A,!0);};n.prototype.W3=function(A){this.pY || this.log.error("pending license must exist at this point");this.context.KI=!0;try{A && (this.context.Z=A,this.context.Z.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({aa:!1,code:z.hg.MK,message:"setMediaKeys failed",yb:p().wd(B)});}return x(this,this.pY,this.Mb);};n.prototype.pXa=function(A){var B,E;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(A));E={ca:A.ca,xe:A.xe};return new Promise(function(D,F){(function(){B.context.Wl.release.call(B.context.Wl,E).then(function(){var G;B.log.trace("successfully released the license",JSON.stringify(A));G={aa:!0};B.close();G.aa?D(G):F(G);}).catch(function(G){B.log.error("Unable to release the license",{sessionId:B.keySessionId,code:G.code,subCode:G.Ec,extCode:G.Nd,edgeCode:G.Kn,message:G.sk});B.close();G.aa?D(G):F(G);});})();});};n.prototype.d8=function(){return this.context.wf || this.context.ll;};b.bga=n;nb._cad_global.WindowsEmeSession=b.bga;})();},function(r,b,a){var v,x,y,z,A,B,E,D,F,G,C,H;function c(K,M,I){var Q;Q=this;this.log=K;this.ao=M || w.bind(this);this.context=I;this.oY=this.challenge=this.keySystem=this.keySessionId=this.mediaKeys=void 0;this.Sc={};this.Aj=void 0;this.url="";this.Hra=this.Sxa=!1;this.aY=l.bind(this);this.Qg=this.oY=void 0;this.wza=new Promise(function(L,J){Q.owa=L;Q.Rva=J;});this.$n=function(L,J){Q.Rva(L,J);Q.context.onerror(L,J);};this.Rta=function(){Q.owa();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function f(){return v.pa.get(A.Xv);}function k(){return v.pa.get(z.Ii);}function m(){return v.pa.get(x.jg);}function d(K){return (/com.apple.fps/).test(K) && !(/com.apple.fps.2_0/).test(K);}function g(K){var M;K=(function(I){var L,J;function Q(N,O,P,S){var U,Z;U=new Uint8Array("piff" == O?88:72);Z=new G.jR(U);Z.MB(12);Z.LB("frma");Z.LB(N);Z.MB(20);Z.LB("schm");Z.S_(0);Z.S_(0);Z.LB(O);Z.MB(P);"piff" == O?(Z.MB(56),Z.LB("schi"),Z.MB(48),Z.LB("uuid"),Z.R_([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(Z.MB(40),Z.LB("schi"),Z.MB(32),Z.LB("tenc"));Z.S_(0);Z.S_(0);Z.MB(264);Z.R_(S);return U;}L=Q("avc1","piff",65537,I);L=f().decode(k().encode(L));I=Q("avc1",C.Xx,65536,I);I=f().decode(k().encode(I));J=new Uint8Array(7 + L.length + 8 + I.length + 5);J.set([91,10,32,32,32,32,34],0);J.set(L,7);J.set([34,44,10,32,32,32,32,34],7 + L.length);J.set(I,7 + L.length + 8);J.set([34,10,32,32,93],7 + L.length + 8 + I.length);return J;})(K);M=new Uint8Array(13 + K.length + 2);M.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);M.set(K,13);M.set([10,125],13 + K.length);return M;}function h(K){var M;K=K.subarray(14,30);K=String.fromCharCode.apply(null,K);K=k().decode(K);K=K.subarray(4);M=new Uint8Array(16);M.set(K);return M;}function l(K){var M;M=n(K);this.log.error("LICENSE Error: Received event: " + K.type,{sessionId:this.Mb?this.Mb.sessionId:void 0,keySystem:K.target.keySystem,systemCode:M.fba,code:M.W5});this.$n && this.$n(H.hg.Gr,M);this.Mb=void 0;}function n(K){var M,I;if(K.target.error)(M=K.target.error.systemCode,I=K.target.error.code);return {code:H.hg.Gr,Ec:H.mC.tt,Nd:M?v.pa.get(y.Ux).vH(M,4):I,details:m().wd(K),cause:K.target.error,fba:M,W5:I};}function q(K,M,I,Q){var L,J,N;L=K.target.sessionId;J=K.message;N=m().Vt(J,f().decode("certificate"));I.Hra=M === F.uo.Rda.vo;I.state=N?2:12;I.log.trace("LICENSE: Received event: " + K.type,{keySystem:K.target.keySystem,sessionId:L});(I.context.wf || I.context.ll || I.context.GB) && I.log.debug("LICENSE: License challenge",k().encode(J));I.keySessionId=L;K={wj:I.wj,ag:M,messageType:"license-request",Wo:(/clearkey/i).test(I.keySystem)?"clearkey":"fps",lk:[{data:J,sessionId:L}]};12 === I.state && (I.ao("lc"),J={data:J,Wo:(/clearkey/i).test(I.keySystem)?"clearkey":"fps"},I.context.KI || (I.oY=J));I.context.Wl.bh(K).then(function(O){if(12 === I.state && (I.ao("lr"),I.Rta(),!I.context.KI))(I.pY=O.xj[0].data,I.state=13,Q({aa:!0,state:I.state}));else if(I.Mb)return (O=t(I,N,O.xj[0].data,I.Mb),2 === I.state?O:O.then(function(){I.state=30;Q({aa:!0,state:I.state});}));}).catch(function(O){Q(m().rI(O,{state:I.state}));});}function p(K,M,I){M.log.trace("LICENSE: Received event: " + K.type,{keySystem:K.target.keySystem,sessionId:K.target.sessionId});I({aa:!0});}function u(K,M,I){var Q;Q=n(K);M.$n && M.$n(H.hg.Gr,Q);M.log.error("LICENSE Error: Received event: " + K.type,{sessionId:M.Mb?M.Mb.sessionId:void 0,keySystem:K.target.keySystem,systemCode:Q.fba,code:Q.W5});I({aa:!1,code:H.hg.Gr,Ec:H.mC.tt,Nd:Q.Nd,message:"Received a key error.",yb:Q.details,cause:Q.cause});}function t(K,M,I,Q){Q={sessionId:Q.sessionId};K.d8() && (Q.license=k().encode(I));K.log.trace("calling keysession update",Q);return new Promise(function(L,J){function N(){K.Mb.removeEventListener("webkitkeyadded",N);L(void 0);}try{M || K.Mb.addEventListener("webkitkeyadded",N);K.Mb.update(I);M && L(void 0);}catch(O){J({aa:!1,code:H.hg.D1,message:"Unable to update the EME.",e:O});}});}function w(K){this.Sc[K]=v.pa.get(B.md).Zb().da(E.la);this.log.trace("Milestone: " + K + ", " + this.Sc[K]);}Object.defineProperty(b,"__esModule",{value:!0});v=a(8);b=a(3);x=a(29);y=a(77);z=a(36);A=a(78);B=a(19);E=a(5);D=a(11);F=a(64);G=a(168);C=a(55);H={};H.hg=b.N;H.mC=b.M;c.prototype.ru=function(){return this.keySystem;};c.prototype.Wcb=function(K,M){K.log && (this.log=K.log);K.ao && (this.ao=K.ao);M.Wl && (this.context.Wl=M.Wl);M.onerror && (this.context.onerror=M.onerror);};c.prototype.create=function(K){var M;M=this;M.ao("lg");M.log.trace("CREATE: Creating the media keys",{keySystem:K});M.keySystem=K;return M.context.HY?Promise.reject({aa:!1,code:H.hg.oR,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function I(){var Q,L;Q=m().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");L=Q.lastChild;M.Qg=Q;M.context.Z=D.Be.createElement("VIDEO");L?M.Qg.insertBefore(M.context.Z,L):M.Qg.appendChild(M.context.Z);}return new Promise(function(Q,L){function J(N){(M.context.wf || M.context.ll || M.context.GB) && M.log.trace("CREATE: Received event: " + N.type,{readyState:N.target.readyState,duration:N.target.duration});try{M.mediaKeys=new nb.WebKitMediaKeys(K);M.context.Z.webkitSetMediaKeys(M.mediaKeys);Q({aa:!0,mediaKeys:M.mediaKeys});}catch(O){M.log.error("CREATE: Exception on webkitSetMediaKeys",O);L({aa:!1,code:H.hg.mS,yb:m().wd(O)});}}if(d(M.keySystem))try{M.mediaKeys=new nb.WebKitMediaKeys(K);M.context.Z && (M.log.trace("LICENSE: calling setmediakeys on video element"),M.context.Z.webkitSetMediaKeys(M.mediaKeys));Q({aa:!0,mediaKeys:M.mediaKeys});}catch(N){L({aa:!1,code:H.hg.mS,yb:m().wd(N)});}else (M.mediaKeys=new nb.WebKitMediaKeys(K),M.context.Z?(M.log.trace("LICENSE: calling setmediakeys on video element"),M.context.Z.webkitSetMediaKeys(M.mediaKeys)):(I(),M.Aj=new D.cC(),M.Aj.addEventListener("sourceopen",J),M.url=URL.createObjectURL(M.Aj),M.context.Z.src=M.url),Q({aa:!0,mediaKeys:M.mediaKeys}));});})();};c.prototype.close=function(){this.Mb && (this.log.info("Closing the session",{sessionId:this.Mb.sessionId}),this.Mb.removeEventListener("webkitkeyerror",this.aY),this.Mb.close(),this.Mb=void 0);};c.prototype.bh=function(K,M){var I;if(1 < M.length)return Promise.reject({code:H.hg.uIa});if(0 === M.length)return Promise.reject({code:H.hg.tIa});M=M[0];I=this;I.context.wf && I.log.trace("LICENSE: Setting license",{initData:k().encode(M)});return I.context.HY?Promise.reject({aa:!1,code:H.hg.fDa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(Q,L){var N,O,P;function J(S){I.Mb && (I.Mb.removeEventListener("webkitkeymessage",N),I.Mb.removeEventListener("webkitkeyadded",O),I.Mb.removeEventListener("webkitkeyerror",P),I.Mb.addEventListener("webkitkeyerror",I.aY));S.aa?Q(S):(I.close(),L(S));}N=function(S){q(S,K,I,J);};O=function(S){p(S,I,J);};P=function(S){u(S,I,J);};d(I.keySystem) && (I.wj=h(M),M=g(I.wj));I.log.trace("LICENSE: Executing prefix based EME");I.context.wf | I.context.ll && I.log.debug("LICENSE: PSSH",k().encode(M));I.Mb=I.mediaKeys.createSession("video/mp4",M,null);(I.context.wf || I.context.ll) && I.log.debug("LICENSE: Created the media keys sessions",{keySystem:I.Mb.keySystem,sessionId:I.Mb.sessionId});I.Mb.addEventListener("webkitkeymessage",N);I.Mb.addEventListener("webkitkeyadded",O);I.Mb.addEventListener("webkitkeyerror",P);});})();};c.prototype.YI=function(){var K;K=this;return K.Sxa?Promise.resolve({aa:!0}):new Promise(function(M,I){var L,J,N;function Q(O){K.Mb && (K.Mb.removeEventListener("webkitkeymessage",L),K.Mb.removeEventListener("webkitkeyadded",J),K.Mb.removeEventListener("webkitkeyerror",N));O.aa?M(O):(I(O),K.close());}L=function(O){q(O,F.uo.Rda.Lp,K,Q);};J=function(O){p(O,K,Q);M({aa:!0});};N=function(O){u(O,K,Q);};K.Hra=!1;K.Mb.addEventListener("webkitkeymessage",L);K.Mb.addEventListener("webkitkeyadded",J);K.Mb.addEventListener("webkitkeyerror",N);K.Mb.update(f().decode("renew"));});};c.prototype.W3=function(K){this.pY || this.log.error("pending license must exist at this point");this.context.KI=!0;try{K && (this.context.Z=K,this.log.trace("calling setmediakeys on video element"),this.context.Z.webkitSetMediaKeys(this.mediaKeys));}catch(M){return new Promise(function(I,Q){Q({aa:!1,code:H.hg.MK,message:"setMediaKeys failed",yb:m().wd(M)});});}return t(this,!1,this.pY,this.Mb);};c.prototype.pXa=function(K){var M,I;M=this;M.log.trace("Releasing the license of the current session",JSON.stringify(K));M.Sxa=!0;I={ca:K.ca,xe:K.xe};return new Promise(function(Q,L){(function(){M.context.Wl.release.call(M.context.Wl,I).then(function(){var J;M.log.trace("successfully released the license",JSON.stringify(K));J={aa:!0};J.aa?Q(J):(M.close(),L(J));}).catch(function(J){M.log.error("RELEASE: Unable to get the release the license",{sessionId:M.Mb?M.Mb.sessionId:void 0,code:J.code,subCode:J.Ec,extCode:J.Nd,edgeCode:J.Kn,message:J.sk});J.aa?Q(J):(M.close(),L(J));});})();});};c.prototype.d8=function(){return this.context.wf || this.context.ll;};r.exports=c;},function(r,b,a){var f,k,m,d,g,h;function c(l,n,q,p){this.log=l;this.CH=n;this.hB=q;this.context=p;}Object.defineProperty(b,"__esModule",{value:!0});f=a(3);k=a(8);m=a(29);d=a(78);g=a(36);h=a(55);c.prototype.bh=function(l){var n,q;n=this;(this.context.wf || this.context.ll) && this.log.debug("Requesting a license",l);if(k.pa.get(m.jg).Vt(k.pa.get(d.Xv).decode("certificate"),l.lk[0].data)){n.log.trace("Requesting Fairplay cert data.");q=Promise.resolve({xj:[{sessionId:l.lk[0].sessionId,data:k.pa.get(g.Ii).decode(h.P0)}]});}else q=k.pa.get(m.jg).Vt(k.pa.get(d.Xv).decode("content"),l.lk[0].data)?Promise.resolve({xj:[{sessionId:l.lk[0].sessionId,data:l.wj}]}):(function(){n.log.trace("Requesting license",{drmType:l.Wo});return n.CH(l).catch(function(p){n.log.error("Unable to get the Fairplay license",p);throw {code:f.N.AK,Ec:p.Ec,Nd:p.Nd,Kn:p.Kn,sk:p.message || p.sk,pH:p.data,message:"Unable to send the Fairplay license request. " + (p.message || p.sk),cause:p};});})();return q;};c.prototype.release=function(l){var n;n=this;this.log.trace("Requesting stop data");return this.hB(l).catch(function(q){n.log.error("Unable to release the FairPlay license",{code:q.code,subCode:q.Ec,extCode:q.Nd,edgeCode:q.Kn,message:q.message || q.sk});throw {aa:!1,code:f.N.tfa,Ec:q.Ec,Nd:q.Nd,Kn:q.Kn,sk:q.message || q.sk,message:"Unable to release the FairPlay license. " + (q.message || q.sk),cause:q};});};r.exports=c;},function(r,b,a){var m,d,g,h,l,n,q,p;function c(u,t,w){var v;v=this;this.is=u;this.mo=t;this.config=w;this.Hx=function(){return {version:v.version,drmData:v.E5.map(function(x){return x.Hx();})};};this.Pna=function(x){var y;v.is.Bn(x) && (x=f(x));1 === x.version && (x=k(v.is,x));y={version:2,data:[]};if(2 === x.version){y.version=x.version;try{y.data=x.drmData.map(function(z){return new p.J0(z);});}catch(z){throw new l.od(g.N.xK,g.M.UB,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!x.version || !v.is.Oi(x.version))throw new l.od(g.N.xK,g.M.UB,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== x.version)throw new l.od(g.N.xK,g.M.XAa,void 0,void 0,void 0,"Version number is not supported. Version: " + x.version);}return y;};this.Ts=new n.Jda(2,this.config.uV,this.is.Bn(this.config.uV),this.mo,this.Hx);}function f(u){u=JSON.parse(u);u={xid:u.xid,movieId:u.movieId,keySessionIds:u.keySessionIds,licenseContextId:u.licenseContextId};if(!u.licenseContextId || !u.xid || !u.movieId)throw new l.od(g.N.xK,g.M.UB);return {version:1,drmData:[u]};}function k(u,t){if(u.bz(t.drmData))return {version:2,drmData:t.drmData.map(function(w){var v;v=w.keySessionIds;return new p.J0({keySessionData:(v && 0 < v.length?v:[void 0]).map(function(x){return {id:x,licenseContextId:w.licenseContextId,licenseId:void 0};}),xid:w.xid,movieId:w.movieId}).Hx();})};throw new l.od(g.N.xK,g.M.UB);}Object.defineProperty(b,"__esModule",{value:!0});b.sBa=void 0;r=a(1);m=a(0);d=a(69);g=a(3);h=a(27);l=a(40);n=a(323);q=a(79);p=a(207);c.prototype.v8a=function(){return this.K0b();};c.prototype.RQa=function(u){return this.Ts.add(u);};c.prototype.ZY=function(u){return this.Ts.remove(u,function(t,w){return t.ca === w.ca;});};c.prototype.toString=function(){return JSON.stringify(this.Hx(),null,"  ");};c.prototype.K0b=function(){var u;u=this;this.z8a || (this.z8a=new Promise(function(t,w){u.Ts.load(u.Pna).then(function(){t();}).catch(function(v){v.ta && v.cause?w(new l.od(g.N.xK,v.ta,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,v)):w(v);});}));return this.z8a;};Ya.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Ts.version;}},E5:{configurable:!0,enumerable:!0,get:function(){return this.Ts.Bw;}}});a=c;a=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(h.ig)),r.__param(1,(0,m.l)(q.QB)),r.__param(2,(0,m.l)(d.Hv))],a);b.sBa=a;},function(r,b,a){var c,f,k,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.f8a=void 0;c=a(3);f=a(96);k=a(124);m=a(206);b.f8a=function(g){m.aN.parent=g.fb;return function(){d || (d=new Promise(function(h,l){try{h(m.aN.get(k.RCa));}catch(n){l(new f.ph(c.N.Aib,c.M.Vib,void 0,"Unable to extract the DRM services from the dependency injector",n));}}));return d;};};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.oHa=void 0;a.prototype.k0a=function(){return void 0 !== this.mediaKeys;};a.prototype.YQa=function(c){this.mediaKeys=c;};a.prototype.VXb=function(){this.k0a() && (this.mediaKeys=void 0);};b.oHa=a;},function(r,b,a){var f,k,m,d,g,h,l,n;function c(q,p,u,t,w){this.iH=q;this.Wc=p;this.yO=t;this.Bk=w;this.log=u.mb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.tBa=void 0;r=a(1);f=a(0);k=a(124);m=a(36);d=a(7);g=a(139);h=a(70);l=a(138);n=a(609);c.prototype.bpa=function(q){var p;p=this;return Promise.all([this.iH(),this.eIb()]).then(function(u){var t;t=ba(u);u=t.next().value;t=t.next().value;return u.vGb({type:q,initData:t},p.yO());}).then(function(u){var t;t=ba(u);u=t.next().value;t=t.next().value;t=p.Wc.encode(t.data[0]);p.log.trace("Challenge generated",t);return {bc:u,vka:t};});};c.prototype.eIb=function(){var q;q=this;return this.Bk.qu().then(function(p){switch(p){case l.so.rH:return n.Qhb;case l.so.vE:return n.ulb;default:return n.Jmb;}}).then(function(p){return p.map(q.Wc.decode);});};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.K0)),r.__param(1,(0,f.l)(m.Ii)),r.__param(2,(0,f.l)(d.ub)),r.__param(3,(0,f.l)(g.aS)),r.__param(4,(0,f.l)(h.vt))],a);b.tBa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jmb=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.Qhb=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.ulb=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(0);c=a(13);f=a(611);k=a(37);m=a(41);d=a(612);g=a(325);h=a(614);l=a(170);n=a(615);q=a(69);p=a(616);b.config=new r.rd(function(u){u(c.ad).Af(function(){return function(){return nb._cad_global.config;};});u(k.Uca).to(f.MBa).ba();u(k.fm).to(f.gNa).ba();u(k.RR).to(f.vFa).ba();u(m.kn).to(d.cEa).ba();u(g.RHa).to(h.QHa).ba();u(l.XDa).to(n.WDa).ba();u(q.Hv).to(p.rDa).ba();});},function(r,b,a){var m,d,g,h,l;function c(){this.Cz={};this.L9a=0;}function f(n,q,p,u,t){this.debug=n;this.nA=q;this.VX=p;this.cg=u;this.V$=t;}function k(n,q,p){this.nA=n;this.VX=q;this.V$=p;}Object.defineProperty(b,"__esModule",{value:!0});b.vFa=b.gNa=b.MBa=void 0;r=a(1);m=a(0);d=a(97);g=a(7);h=a(140);l=a(324);a=a(37);k=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(a.RR)),r.__param(1,(0,m.l)(h.Z1)),r.__param(2,(0,m.l)(l.qfa))],k);b.MBa=k;f=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(d.Ev)),r.__param(1,(0,m.l)(a.RR)),r.__param(2,(0,m.l)(h.Z1)),r.__param(3,(0,m.l)(g.ub)),r.__param(4,(0,m.l)(l.qfa))],f);b.gNa=f;c.prototype.WQb=function(n){this.Cz=Object.assign({},this.Cz,n);this.L9a++;};Ya.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Cz;}},naa:{configurable:!0,enumerable:!0,get:function(){return this.L9a;}}});a=c;a=r.__decorate([(0,m.T)()],a);b.vFa=a;},function(r,b,a){var f,k,m,d,g,h,l,n;function c(q,p,u){q=d.af.call(this,q,void 0 === u?"GeneralConfigImpl":u) || this;q.Zi=p;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.cEa=b.iN=void 0;r=a(1);f=a(5);k=a(0);m=a(46);d=a(47);g=a(41);h=a(37);a=a(110);l={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.iN=function(q,p){return q.w8a(l[p] || p,g.cy);};na(c,d.af);Ya.Object.defineProperties(c.prototype,{iN:{configurable:!0,enumerable:!0,get:function(){return g.cy.Alb;}},Txa:{configurable:!0,enumerable:!0,get:function(){return (0,f.Bh)(8);}},hA:{configurable:!0,enumerable:!0,get:function(){return "";}},wM:{configurable:!0,enumerable:!0,get:function(){return "";}},TJ:{configurable:!0,enumerable:!0,get:function(){return "";}},Abb:{configurable:!0,enumerable:!0,get:function(){return !1;}},X3:{configurable:!0,enumerable:!0,get:function(){return !0;}},JW:{configurable:!0,enumerable:!0,get:function(){return this.Zi.JW;}},GEb:{configurable:!0,enumerable:!0,get:function(){return !1;}},je:{configurable:!0,enumerable:!0,get:function(){return {};}},J9a:{configurable:!0,enumerable:!0,get:function(){return !1;}},bra:{configurable:!0,enumerable:!0,get:function(){return !1;}},Rba:{configurable:!0,enumerable:!0,get:function(){return !1;}},ht:{configurable:!0,enumerable:!0,get:function(){return !1;}},CV:{configurable:!0,enumerable:!0,get:function(){return !0;}},NE:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},Lw:{configurable:!0,enumerable:!0,get:function(){return 0 <= [g.cy.vMa,g.cy.AFa].indexOf(this.iN);}}});n=c;r.__decorate([m.config(b.iN,"environment")],n.prototype,"iN",null);r.__decorate([m.config(m.nl,"storageTimeout")],n.prototype,"Txa",null);r.__decorate([m.config(m.string,"groupName")],n.prototype,"hA",null);r.__decorate([m.config(m.string,"canaryGroupName",!0)],n.prototype,"wM",null);r.__decorate([m.config(m.string,"uiGroupName")],n.prototype,"TJ",null);r.__decorate([m.config(m.cd,"testIndexDBForCorruptedDatabase")],n.prototype,"Abb",null);r.__decorate([m.config(m.cd,"applyIndexedDbOpenWorkaround")],n.prototype,"X3",null);r.__decorate([m.config(m.cd,"ignoreIdbOpenError")],n.prototype,"JW",null);r.__decorate([m.config(m.cd,"executeStorageMigration")],n.prototype,"GEb",null);r.__decorate([m.config(m.object(),"browserInfo")],n.prototype,"je",null);r.__decorate([m.config(m.cd,"retryAllMslRequestsOnError")],n.prototype,"J9a",null);r.__decorate([m.config(m.cd,"isTestAccount")],n.prototype,"bra",null);r.__decorate([m.config(m.cd,"vuiCommandLogging")],n.prototype,"Rba",null);r.__decorate([m.config(m.cd,"useRangeHeader")],n.prototype,"ht",null);r.__decorate([m.config(m.cd,"enableMilestoneEventList")],n.prototype,"CV",null);r.__decorate([m.config(m.object,"storageRules")],n.prototype,"NE",null);n=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(h.fm)),r.__param(1,(0,k.l)(a.JF)),r.__param(2,(0,k.l)(h.r0)),r.__param(2,(0,k.optional)())],n);b.cEa=n;},function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Aea=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.Aea=a;},function(r,b,a){var f,k,m,d;function c(g,h){return m.af.call(this,g,void 0 === h?"NetworkMonitorConfigImpl":h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.QHa=void 0;r=a(1);f=a(0);k=a(46);m=a(47);a=a(37);na(c,m.af);Ya.Object.defineProperties(c.prototype,{pdb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([k.config(k.cd,"useNetworkMonitor")],d.prototype,"pdb",null);d=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.fm)),r.__param(1,(0,f.l)(a.r0)),r.__param(1,(0,f.optional)())],d);b.QHa=d;},function(r,b,a){var f,k,m,d,g,h,l,n;function c(q,p,u,t){q=d.af.call(this,q,"FtlProbeConfigImpl") || this;q.Kh=p;q.za=u;q.Zi=t;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.WDa=void 0;r=a(1);f=a(38);k=a(0);m=a(5);d=a(47);g=a(125);h=a(46);l=a(37);a=a(110);na(c,d.af);Ya.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return this.Zi.u6;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.Rna + (-1 === this.Rna.indexOf("?")?"?":"&") + "monotonic=" + this.za.d5a + "&device=web";}},Gab:{configurable:!0,enumerable:!0,get:function(){return m.eb;}},Hna:{configurable:!0,enumerable:!0,get:function(){return "";}},Rna:{configurable:!0,enumerable:!0,get:function(){return this.Kh.endpoint + "/ftl/probe" + (this.Hna?"?force=" + this.Hna:"");}}});n=c;r.__decorate([h.config(h.cd,"ftlEnabled")],n.prototype,"enabled",null);r.__decorate([h.config(h.nl,"ftlStartDelay")],n.prototype,"Gab",null);r.__decorate([h.config(h.string,"ftlEndpointForceParam")],n.prototype,"Hna",null);r.__decorate([h.config(h.url,"ftlEndpoint")],n.prototype,"Rna",null);n=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.fm)),r.__param(1,(0,k.l)(g.dK)),r.__param(2,(0,k.l)(f.di)),r.__param(3,(0,k.l)(a.JF))],n);b.WDa=n;},function(r,b,a){var f,k,m,d,g,h;function c(l,n,q){l=k.af.call(this,l,void 0 === q?"EmeConfigImpl":q) || this;l.je=n;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.rDa=void 0;r=a(1);f=a(0);k=a(47);m=a(37);d=a(5);g=a(46);a=a(167);na(c,k.af);Ya.Object.defineProperties(c.prototype,{u1a:{configurable:!0,enumerable:!0,get:function(){return this.je.M1a || this.je.SW || this.je.hO?!0:!1;}},YD:{configurable:!0,enumerable:!0,get:function(){return (0,d.Bh)(5);}},wua:{configurable:!0,enumerable:!0,get:function(){return (0,d.Bh)(10);}},uV:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},TV:{configurable:!0,enumerable:!0,get:function(){return !1;}},mma:{configurable:!0,enumerable:!0,get:function(){return !1;}},sx:{configurable:!0,enumerable:!0,get:function(){return !0;}},CRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Bh)(30);}},DRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Bh)(30);}},GRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Bh)(30);}},ERa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Bh)(30);}},HRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Bh)(30);}},Ywa:{configurable:!0,enumerable:!0,get:function(){return "";}},x6a:{configurable:!0,enumerable:!0,get:function(){return this.je.Xw?!1:!0;}},y6a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});h=c;r.__decorate([g.config(g.cd,"initializeKeySystemAtStartup")],h.prototype,"u1a",null);r.__decorate([g.config(g.nl,"licenseRenewalRequestDelay")],h.prototype,"YD",null);r.__decorate([g.config(g.nl,"persistedReleaseDelay")],h.prototype,"wua",null);r.__decorate([g.config(g.string,"drmPersistKey")],h.prototype,"uV",null);r.__decorate([g.config(g.cd,"forceLimitedDurationLicense")],h.prototype,"TV",null);r.__decorate([g.config(g.cd,"disableLicenseRenewal")],h.prototype,"mma",null);r.__decorate([g.config(g.cd,"prepareCadmium")],h.prototype,"sx",null);r.__decorate([g.config(g.nl,"apiCloseTimeout")],h.prototype,"CRa",null);r.__decorate([g.config(g.nl,"apiCreateMediaKeysTimeout")],h.prototype,"DRa",null);r.__decorate([g.config(g.nl,"apiSetServerCertificateTimeout")],h.prototype,"GRa",null);r.__decorate([g.config(g.nl,"apiGenerateRequestTimeout")],h.prototype,"ERa",null);r.__decorate([g.config(g.nl,"apiUpdateTimeout")],h.prototype,"HRa",null);r.__decorate([g.config(g.string,"serverCertificate")],h.prototype,"Ywa",null);r.__decorate([g.config(g.cd,"outputRestrictedIsFatal")],h.prototype,"x6a",null);r.__decorate([g.config(g.cd,"outputRestrictedIsFatalForUhd")],h.prototype,"y6a",null);h=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.fm)),r.__param(1,(0,f.l)(a.TB)),r.__param(2,(0,f.l)(m.r0)),r.__param(2,(0,f.optional)())],h);b.rDa=h;},function(r,b,a){var c,f,k,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.zWa=void 0;r=a(0);c=a(124);f=a(618);k=a(70);m=a(619);d=a(327);g=a(627);b.zWa=new r.rd(function(h){h(c.RCa).to(f.QCa).ba();h(k.vt).to(m.nHa).ba();h(d.tDa).to(g.sDa);});},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w,v;function c(x,y,z,A,B,E,D,F,G,C){var H;H=this;this.Oc=y;this.bB=z;this.config=A;this.hs=B;this.wDb=E;this.vM=D;this.Bk=F;this.yO=G;this.Om=C;this.m1b=function(K,M){var I;H.Om.mark(v.Ma.T0,K.dj.ca,"generate-challenge");I=!1;M.l_b(function(Q){I || (I=!0,H.Om.mark(v.Ma.S0,K.dj.ca,"generate-challenge"));H.CH(K,M,Q).then(function(L){M.VQa(L);H.Evb(M);}).catch(function(L){return M.Lsb(L);});});};this.log=x.mb("DrmServices");this.hs().Cp && this.vM.v8a().then(function(){H.IXb();}).catch(function(K){H.log.error("Unable to load the persisted DRM data",K);});this.config.u1a && this.Bk.Sw().then(function(K){return H.OUa(G(),K,h.hi.Lp).then(function(M){return M.close();});});}Object.defineProperty(b,"__esModule",{value:!0});b.QCa=void 0;r=a(1);f=a(0);k=a(7);m=a(48);d=a(326);g=a(71);h=a(60);l=a(69);n=a(208);q=a(207);p=a(327);u=a(13);t=a(70);w=a(139);v=a(64);c.prototype.vGb=function(x,y){return this.$G(y,x.type,x.context).then(function(z){return z.yGb(x.initData).then(function(A){return [z,{Wo:z.qu(),data:A.lk}];});});};c.prototype.bh=function(x,y){var z;z=this;this.log.info("Requesting challenges",this.MZa(x,x.type));return this.$G(y,x.type,x.context).then(function(A){z.b5a(x,A);return A.zGb(x.initData).then(function(){return A;});});};c.prototype.b5a=function(x,y){y.s_b(x.dj);this.m1b(x,y);};c.prototype.release=function(x,y){var z;z=this;this.log.info("Releasing server license",this.F_a(x));return this.uJb(x).then(function(){var A;A=Object.assign({active:!1,xe:[]},x.dj);z.vM.ZY(A);y.VXb();return x;});};c.prototype.MZa=function(x,y){return {movieId:x.dj.K,xid:x.dj.ca,type:(0,h.Fra)(y)};};c.prototype.F_a=function(x){return {movieId:x.dj?x.dj.K:void 0,xid:x.dj?x.dj.ca:void 0,keySessionId:x.Zz()};};c.prototype.CH=function(x,y,z){this.log.info("Sending license request",this.MZa(x,z.ag));return this.bB.bh({ca:x.dj.ca,zi:x.dj.zi,D5:[x.dj.Bm],lk:[{sessionId:y.Zz() || "session",data:z.lk}],ag:z.ag,Wo:y.qu(),oTa:z.oTa,yX:x.dj.yX,yk:x.dj.yk});};c.prototype.uJb=function(x){this.log.info("Sending release request",this.F_a(x));return this.bB.release({ca:x.dj.ca,xe:x.xe});};c.prototype.$G=function(x,y,z){var A;A=this;return this.Bk.Sw().then(function(B){return A.OUa(x,B,y,z);});};c.prototype.OUa=function(x,y,z,A){return this.wDb.create().then(function(B){return B.createSession(y,x,z,A).then(function(){return B;});});};c.prototype.HXb=function(x){var y;y=this;return this.bB.release({ca:x.ca,xe:x.xe}).catch(function(z){y.log.error("Unable to send release data to the server",z);});};c.prototype.IXb=function(){var x;x=this;this.Oc.Jk(this.config.wua,function(){x.log.trace("Removing cached sessions",{"count:":x.vM.E5.length});x.vM.E5.filter(function(y){return !y.active;}).reduce(function(y,z){return y.then(function(){return x.HXb(z);}).then(function(){return x.vM.ZY(z);});},Promise.resolve(void 0));});};c.prototype.Evb=function(x){var y;if(x.Zz() && x.dj){y=new q.J0();y.xe=x.xe;y.ca=x.dj.ca;y.K=x.dj.K;this.vM.RQa(y);}};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.ub)),r.__param(1,(0,f.l)(m.Yj)),r.__param(2,(0,f.l)(d.PCa)),r.__param(3,(0,f.l)(l.Hv)),r.__param(4,(0,f.l)(u.ad)),r.__param(5,(0,f.l)(p.tDa)),r.__param(6,(0,f.l)(n.Rca)),r.__param(7,(0,f.l)(t.vt)),r.__param(8,(0,f.l)(w.aS)),r.__param(9,(0,f.l)(g.dS))],a);b.QCa=a;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E,D,F;function c(G,C,H,K,M,I,Q,L,J,N){this.zs=G;this.se=C;this.bi=H;this.uj=K;this.Wc=M;this.is=I;this.MX=Q;this.config=L;this.sq=J;this.Vh=N;this.log=this.zs.mb("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.nHa=void 0;r=a(1);f=a(0);k=a(3);m=a(7);d=a(96);g=a(138);h=a(620);l=a(621);n=a(622);q=a(210);p=a(29);u=a(77);t=a(36);w=a(27);v=a(39);x=a(623);y=a(625);z=a(78);A=a(13);B=a(111);E=a(69);D=a(72);F=a(55);c.prototype.Sw=function(){this.promise || (this.promise=this.$Yb());return this.promise;};c.prototype.sAb=function(G){var C;C=this;return new Promise(function(H,K){var M,I;M=B.Lb.ooa(G);I=C.pZa(M);M=C.iZa(M);I.pYb(G,M.Woa()).then(function(Q){C.log.trace("Created the media keys system access",{keySystem:G,supportedconfig:Q.getConfiguration?JSON.stringify(Q.getConfiguration()):void 0});C.keySystem=(0,F.yoa)(Q);H(Q);}).catch(function(Q){C.log.error("Unable to create the media key system access object",{keySystem:G,error:Q.message});K(new d.ph(k.N.$Ca,k.M.Qk,void 0,"Unable to create media keys system access. " + Q.message,Q));});});};c.prototype.qu=function(){var G;G=this;return this.Sw().then(function(C){return G.jZa(C);});};c.prototype.HHb=function(){var G,C;G=this;C=this.config().I2a || [this.config().Im];if(1 < C.length)return this.Sw().then(function(H){return G.jZa(H);}).then(function(H){return B.Lb.hZa(H);});C=B.Lb.ooa(C[0]);return Promise.resolve(B.Lb.hZa(C));};c.prototype.IHb=function(){var G;G=this;return this.qu().then(function(C){return G.iZa(C);});};c.prototype.KHb=function(){var G;G=this;return this.qu().then(function(C){return G.pZa(C);});};c.prototype.jZa=function(G){return B.Lb.ooa(G.keySystem);};c.prototype.iZa=function(G){switch(G){case g.so.vE:return new h.pDa(this.uj,this.Wc);case g.so.rH:return new y.vLa(this.uj,this.Wc,this.bi,this.Vh);default:return new n.EBa(this.uj,this.sq,this.config);}};c.prototype.pZa=function(G){switch(G){case g.so.vE:return new l.AKa(this.MX,this.is,this.Wc,this.se,this.sq,this.bi);case g.so.rH:return new x.RDa(this.MX,this.is,this.Wc,this.se,this.sq,this.bi);default:return new q.Sv(this.MX,this.is,this.Wc,this.se,this.sq,this.bi);}};c.prototype.$Yb=function(){var G,C;G=this;C=(this.config().I2a || [this.config().Im]).map(function(H){return function(){return G.sAb(H);};});return this.aZb(C);};c.prototype.aZb=function(G){return G.reduce(function(C,H){return C.then(function(K){return Promise.resolve(K);}).catch(function(){return H();});},Promise.reject(Error("keySystem missing")));};Ya.Object.defineProperties(c.prototype,{H2a:{configurable:!0,enumerable:!0,get:function(){return this.keySystem;}}});a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.ub)),r.__param(1,(0,f.l)(p.jg)),r.__param(2,(0,f.l)(z.Xv)),r.__param(3,(0,f.l)(u.Ux)),r.__param(4,(0,f.l)(t.Ii)),r.__param(5,(0,f.l)(w.ig)),r.__param(6,(0,f.l)(v.LK)),r.__param(7,(0,f.l)(A.ad)),r.__param(8,(0,f.l)(E.Hv)),r.__param(9,(0,f.l)(D.Qv))],a);b.nHa=a;},function(r,b,a){var f,k,m,d,g,h,l,n,q;function c(p,u){this.uj=p;this.Wc=u;}Object.defineProperty(b,"__esModule",{value:!0});b.pDa=void 0;r=a(1);f=a(0);k=a(3);m=a(77);d=a(36);g=a(209);h=a(96);l=a(65);n=a(40);q=a(55);c.prototype.P4=function(){return !0;};c.prototype.Bja=function(){return !1;};c.prototype.pka=function(){return !1;};c.prototype.iW=function(){return q.Xx;};c.prototype.doa=function(){};c.prototype.Woa=function(){return [{initDataTypes:[this.iW()],audioCapabilities:[{contentType:g.EK}],videoCapabilities:[{contentType:g.ky}],sessionTypes:["temporary"]}];};c.prototype.xqa=function(){Promise.reject(new n.od(k.N.lda));};c.prototype.nla=function(p){var u;u=new Uint8Array(p.message);u=this.ana(u,"PlayReadyKeyMessage","Challenge");u=this.Wc.decode(u);return {type:p.type,sessionId:p.target.sessionId,mI:[u],messageType:p.messageType};};c.prototype.yz=function(p){var u,t,w;u=new h.ph(k.N.Gr);t=p.code;null != t && void 0 !== t?(t=parseInt(t,10),u.Ec=1 <= t && 9 >= t?k.M.tt + t:k.M.tt):u.Ec=p instanceof l.Ir?k.M.pR:k.M.Qk;try{w=(/\((\d+)\)/).exec(p.message);u.Nd=this.uj.vH(Number(w && w[1]),4);}catch(v){}u.jV(p);return u;};c.prototype.ana=function(p,u){var w,v,x;for(var t=1;t < arguments.length;++t){;}for(t=1;t < arguments.length;t++){;}t="";v=p.length;for(w=0;w < v;w++){x=p[w];0 < x && (t+=String.fromCharCode(x));}v="\\s*(.*)\\s*";for(w=arguments.length - 1;0 < w;w--){x=arguments[w];if(0 > t.search(x))return "";x="(?:[^:].*:|)" + x;v="[\\s\\S]*<" + x + "[^>]*>" + v + "</" + x + ">[\\s\\S]*";}return (t=t.match(new RegExp(v)))?t[1]:"";};c.prototype.CN=function(){};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.Ux)),r.__param(1,(0,f.l)(d.Ii))],a);b.pDa=a;},function(r,b,a){var f,k,m,d;function c(){return k.Sv.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.AKa=void 0;r=a(1);f=a(0);k=a(210);m=a(96);d=a(3);na(c,k.Sv);c.prototype.Z4=function(g,h,l,n,q){this.Y8a(l);this.W8a(n);this.U8a(q);this.cpb=this.wb;this.wb=g.createSession(h);this.$Qa(l);this.UQa(n);this.SQa(q);return this.generateRequest(this.initDataType,this.initData);};c.prototype.close=function(){var h;function g(l){return l && l.sessionId?l.close().then(function(){return l=void 0;}):Promise.resolve();}h=this;this.Uka=void 0;return this.wb?g(this.wb).then(function(){g(h.cpb);}):Promise.reject(new m.ph(d.N.ZCa,d.M.pK,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(g,h){this.initDataType=g;this.initData=h;return k.Sv.prototype.generateRequest.call(this,g,h);};a=c;a=r.__decorate([(0,f.T)()],a);b.AKa=a;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p;function c(u,t,w){this.uj=u;this.sq=t;this.config=w;}Object.defineProperty(b,"__esModule",{value:!0});b.EBa=void 0;r=a(1);f=a(0);k=a(3);m=a(77);d=a(209);g=a(96);h=a(65);l=a(69);n=a(13);q=a(40);p=a(55);c.prototype.P4=function(){return !1;};c.prototype.Bja=function(){return !0;};c.prototype.pka=function(){return !0;};c.prototype.iW=function(){return p.Xx;};c.prototype.doa=function(){return this.sq.Ywa?this.sq.Ywa:p.tNa;};c.prototype.Woa=function(){var u,t;u=[{contentType:d.ky,robustness:p.wK},{contentType:d.ky,robustness:p.Dfa},{contentType:d.ky,robustness:p.T1}];t=[{contentType:d.ky,robustness:p.T1}];return [{initDataTypes:[this.iW()],persistentState:"required",videoCapabilities:this.config().cYa?t:u}];};c.prototype.xqa=function(){Promise.reject(new q.od(k.N.lda));};c.prototype.nla=function(u){var t;return {type:u.type,sessionId:null === (t=u.target) || void 0 === t?void 0:t.sessionId,mI:[new Uint8Array(u.message)],messageType:u.messageType};};c.prototype.yz=function(u){var t,w,v;t=new g.ph(k.N.Gr);w=null === u || void 0 === u?void 0:u.code;null != w && void 0 !== w?(w=parseInt(w,10),t.Ec=1 <= w && 9 >= w?k.M.tt + w:k.M.tt):t.Ec=u instanceof h.Ir?k.M.pR:k.M.Qk;try{v=u.message.match(/\((\d*)\)/)[1];t.Nd=this.uj.vH(v,4);}catch(x){}t.jV(u);return t;};c.prototype.CN=function(){};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.Ux)),r.__param(1,(0,f.l)(l.Hv)),r.__param(2,(0,f.l)(n.ad))],a);b.EBa=a;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u;function c(t,w,v,x,y,z){t=k.Sv.call(this,t,w,v,x,y,z) || this;t.Wc=v;t.de=x;t.sq=y;t.bi=z;t.C0a=new m.QDa(t.Wc,t.de,t.bi);return t;}Object.defineProperty(b,"__esModule",{value:!0});b.RDa=void 0;r=a(1);f=a(0);k=a(210);m=a(624);d=a(39);g=a(27);h=a(36);l=a(29);n=a(69);q=a(78);p=a(328);u=a(329);na(c,k.Sv);c.prototype.generateRequest=function(t,w){var v,x,y;v=this;try{x=w.map(function(z){return v.C0a.qIb(z);});this.j1a=x.map(function(z){return v.Wc.encode(z);});y=this.C0a.ayb(x);return k.Sv.prototype.generateRequest.call(this,t,[y]);}catch(z){return Promise.reject(z);}};c.prototype.update=function(t,w,v){var x,y,z,A,B;x=this;if(v)try{y=this.bi.encode(t[0]);z=JSON.parse(y).RESPONSES.map(function(E){var D;D=u.U1.dbb(E.ID);return {keyID:w === p.SF.YKa?x.j1a[x.j1a.length - 1]:v[D],payload:E.PAYLOAD};});if(w === p.SF.Request){A=z.map(function(E){return E.keyID;});v.forEach(function(E){-1 === A.indexOf(E) && z.push({keyID:E,error:1});});}B=JSON.stringify(z);t=[this.bi.decode(B)];}catch(E){return Promise.reject(E);}return k.Sv.prototype.update.call(this,t,w);};c.prototype.YI=function(){return k.Sv.prototype.update.call(this,[this.bi.decode("renew")],p.SF.Request);};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(d.LK)),r.__param(1,(0,f.l)(g.ig)),r.__param(2,(0,f.l)(h.Ii)),r.__param(3,(0,f.l)(l.jg)),r.__param(4,(0,f.l)(n.Hv)),r.__param(5,(0,f.l)(q.Xv))],a);b.RDa=a;},function(r,b){function a(c,f,k){var m;m=this;this.Wc=c;this.de=f;this.bi=k;this.qIb=function(d){var g;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=m.Wc.decode(d);d=d.subarray(4);g=new Uint8Array(16);g.set(d);return g;};this.Rhb={Xx:1667591779,v6b:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.QDa=void 0;a.prototype.ayb=function(c){var f;f=this.Rhb.Xx;c=c.map(function(k){return {Kcc:"",hOb:k,rja:k,C0b:k,M4b:[1]};});return this.LPb(f,c);};a.prototype.KPb=function(c){var f;f=new Uint8Array(4);new DataView(f.buffer).setUint32(0,c);return this.hsa("fpsi",[f]);};a.prototype.JPb=function(c,f,k,m){c=[this.hsa("fkri",[c])];f.byteLength && c.push(this.qX("fkai",[f]));k.byteLength && c.push(this.qX("fkcx",[k]));m.length && c.push(this.qX("fkvl",[new Uint8Array(new Uint32Array(m).buffer)]));return this.qX("fpsk",c);};a.prototype.LPb=function(c,f){var k,d;k=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.KPb(c)];for(var m in f){d=f[m];c.push(this.JPb(d.hOb,d.rja,d.C0b,d.M4b));}f=this.qX("fpsd",c);m=new Uint8Array(4);new DataView(m.buffer).setUint32(0,f.byteLength);return this.hsa("pssh",[k,m,f]);};a.prototype.hsa=function(c,f){var k,m,d;k=0;for(d in f){k+=f[d].byteLength;}k=new Uint8Array(12 + k);m=new DataView(k.buffer);d=0;m.setUint32(d,k.byteLength);d+=4;k.set(this.bi.decode(c),d);d+=4;m.setUint32(d,0);d+=4;for(var g in f){c=f[g];k.set(c,d);d+=c.byteLength;}return k;};a.prototype.qX=function(c,f){var k,m;k=0;for(m in f){k+=f[m].byteLength;}k=new Uint8Array(8 + k);m=0;new DataView(k.buffer).setUint32(m,k.byteLength);m+=4;k.set(this.bi.decode(c),m);m+=4;for(var d in f){c=f[d];k.set(c,m);m+=c.byteLength;}return k;};b.QDa=a;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t;function c(w,v,x,y){this.uj=w;this.Wc=v;this.bi=x;this.Vh=y;}Object.defineProperty(b,"__esModule",{value:!0});b.vLa=void 0;r=a(1);f=a(0);k=a(3);m=a(77);d=a(78);g=a(96);h=a(65);l=a(36);n=a(55);q=a(330);p=a(40);u=a(72);t=a(329);c.prototype.P4=function(){return !1;};c.prototype.Bja=function(){return !1;};c.prototype.pka=function(){return !0;};c.prototype.iW=function(){return n.Xx;};c.prototype.doa=function(){return n.P0;};c.prototype.Woa=function(){return [{initDataTypes:[n.Xx],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E",robustness:""}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:["temporary"]}];};c.prototype.xqa=function(w){w.YI();};c.prototype.nla=function(w){var v,x;v=[];if(w.messageType === q.fea || w.messageType === q.eea){if(w.messageType === q.fea){x=this.bi.encode(new Uint8Array(w.message));v=JSON.parse(x);x=v.map(function(y){return y.keyID;});v=v.map(function(y){return y.payload;});}else v=[this.Wc.encode(new Uint8Array(w.message))];if(0 === v.length || !v.every(function(y){return y && y.length;}))throw new p.od(k.N.eDa);v=this.u2b(v);v=this.bi.decode(JSON.stringify(v));}else v=new Uint8Array(w.message);return {type:w.type,sessionId:w.target.sessionId,mI:[v],messageType:w.messageType,Yw:x};};c.prototype.yz=function(w){var v,x,y,z;x=null === (v=w.target) || void 0 === v?void 0:v.error;if(x)(y=x.systemCode,z=x.code);v=new g.ph(k.N.Gr,w instanceof h.Ir?k.M.pR:k.M.tt,y?this.uj.vH(y,4):z,"",x);v.jV(w);return v;};c.prototype.u2b=function(w){w=w.map(function(v,x){return {ID:t.U1.jMb(x),PAYLOAD:v};});return {VERSION:this.Vh.O4?3:1,CHALLENGES:w};};c.prototype.CN=function(w,v){var x,y;x=this;if(v && this.Vh.O4)try{y=this.bi.encode(v[0]);return JSON.parse(y).RESPONSES.sort(function(z,A){return z.ID > A.ID?1:-1;}).map(function(z){var A;A=t.U1.dbb(z.ID);z=x.Wc.decode(z.DHB).subarray(4,12);A=x.Wc.decode(w[A]).subarray(0,8);return {from:z,to:A};});}catch(z){throw new g.ph(k.N.Zkb,void 0,void 0,void 0,z);}};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.Ux)),r.__param(1,(0,f.l)(l.Ii)),r.__param(2,(0,f.l)(d.Xv)),r.__param(3,(0,f.l)(u.Qv))],a);b.vLa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.G1=void 0;b.G1=function(){var a;a=this;this.promise=new Promise(function(c,f){a.resolve=c;a.reject=f;});};},function(r,b,a){var f,k,m,d,g,h,l,n;function c(q,p,u,t,w,v){this.zs=q;this.Da=p;this.Wc=u;this.config=t;this.rp=w;this.Bk=v;}Object.defineProperty(b,"__esModule",{value:!0});b.sDa=void 0;r=a(1);f=a(0);k=a(7);m=a(19);d=a(36);g=a(69);h=a(65);l=a(330);a=a(70);c.prototype.create=function(){var q;q=this;return Promise.all([this.Bk.KHb(),this.Bk.IHb(),this.Bk.qu()]).then(function(p){var u,t;u=ba(p);p=u.next().value;t=u.next().value;u=u.next().value;return new l.uDa(q.zs,q.Da,q.Wc,q.config,p,t,u,q.rp);});};n=c;n=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.ub)),r.__param(1,(0,f.l)(m.md)),r.__param(2,(0,f.l)(d.Ii)),r.__param(3,(0,f.l)(g.Hv)),r.__param(4,(0,f.l)(h.sy)),r.__param(5,(0,f.l)(a.vt))],n);b.sDa=n;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,N,O;Object.defineProperty(b,"__esModule",{value:!0});b.g3a=void 0;c=a(629);f=a(654);k=a(663);m=a(666);d=a(971);g=a(1004);h=a(1042);l=a(1045);n=a(1057);q=a(1067);p=a(1071);u=a(1073);t=a(1104);w=a(1106);v=a(1110);x=a(1125);y=a(1133);z=a(1139);A=a(1142);B=a(1149);E=a(206);D=a(1157);F=a(1158);G=a(1165);C=a(1179);H=a(1185);K=a(1187);M=a(1194);I=a(1223);Q=a(1245);L=a(1249);J=a(1253);N=a(1267);O=a(1270);b.g3a=function(P){P.load(c.vz,h.IJ,f.v3a,l.In,k.a5a,m.V,d.Idb,g.G0a,n.storage,q.oM,p.$Sa,u.Q3a,t.iE,w.qk,v.u3a,x.p5a,y.qYa,z.g8a,A.MI,B.vWa,E.eme,D.crypto,F.se,G.Gd,C.Ja,H.g5a,K.b7a,M.j,I.XTa,Q.transports,L.Ql,J.eh,N.dSa,O.oa);};},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,N,O,P,S,U,Z,ja,ya,ra,Y,pa,T,R,ea,sa,la,Ka,Ua,$a,Za,cb,Va,Qa,xa,Ea,Na,Xa,hb,wb,Eb,Fb,Nb;Object.defineProperty(b,"__esModule",{value:!0});b.vz=void 0;r=a(0);c=a(39);f=a(38);k=a(48);m=a(81);d=a(141);g=a(630);h=a(631);l=a(632);n=a(633);q=a(78);p=a(77);u=a(36);t=a(29);w=a(27);v=a(98);x=a(65);y=a(333);z=a(634);A=a(334);B=a(635);E=a(636);D=a(637);F=a(199);G=a(335);C=a(638);H=a(205);K=a(113);M=a(639);I=a(19);Q=a(336);L=a(640);J=a(641);N=a(97);O=a(642);P=a(7);S=a(332);U=a(643);Z=a(71);ja=a(644);ya=a(337);ra=a(645);Y=a(646);pa=a(114);T=a(11);R=a(647);ea=a(339);sa=a(340);la=a(648);Ka=a(341);Ua=a(13);$a=a(35);Za=a(142);cb=a(342);Va=a(167);Qa=a(649);xa=a(343);Ea=a(344);Na=a(212);Xa=a(650);hb=a(345);wb=a(651);Eb=a(213);Fb=a(652);Nb=a(653);b.vz=new r.rd(function(Cb){Cb(c.qS).SE(function(){return {};}).ba();Cb(c.pF).Oj(JSON);Cb(c.wNa).Oj(nb);Cb(d.mMa).Oj(Math);Cb(c.eGa).Oj(T.t1);Cb(c.Rea).Oj(T.Ov);Cb(c.bNa).Oj(T.eC);Cb(c.lCa).Oj(Date);Cb(c.LK).Oj(T.Oe);Cb(c.Rjb).Oj(T.cC);Cb(S.IBa).to(U.HBa).ba();Cb(I.md).to(M.Yza).ba();Cb(f.di).to(n.JBa).ba();Cb(k.Yj).to(g.wLa).ba();Cb(m.gy).to(h.oFa).ba();Cb(x.sy).to(D.OKa).ba();Cb(d.N1).to(l.VKa).ba();Cb(cb.mea).to(Nb.jHa).ba();Cb(N.Ev).to(J.rCa).ba();Cb(N.pCa).to(O.oCa).ba();Cb(q.Xv).to(z.cNa).ba();Cb(p.Ux).to(A.Eca).ba();Cb(u.Ii).to(B.EAa).ba();Cb(t.jg).to(E.dNa).ba();Cb(w.ig).Oj(F.oF);Cb(xa.rR).to(Ea.IDa).ba();Cb(v.qda).to(G.Rk).fqa();Cb(v.G0).to(G.Rk).ba();Cb(v.BCa).to(G.Rk).ba();Cb(v.tda).to(G.Rk).ba();Cb(H.Mfa).to(K.lC).ba();Cb(Q.bCa).to(L.aCa).ba();Cb(Z.QF).to(ja.Rfa).ba();Cb(Z.dS).to(ja.Rfa).ba();Cb("Factory<LoggerFactory>").Xbb(P.ub);Cb(ya.gda).to(ra.sCa).ba();Cb(pa.UK).Af(function(Kb){return function(Ub){return new Y.xMa(Kb.fb.get(I.md),Kb.fb.get(k.Yj),Ub);};});Cb(hb.mCa).Af(function(Kb){return function(Ub){return new wb.nCa(Kb.fb.get(k.Yj),Ub);};});Cb(R.ofa).w2b(ea.nfa);Cb(R.ylb).Af(function(Kb){var Ub;Ub=Kb.fb.get(R.ofa);return function(){return new Ub(!1);};});Cb(R.zlb).Af(function(Kb){var Ub;Ub=Kb.fb.get(R.ofa);return function(){return new Ub(!0);};});Cb(sa.$Ma).Af(function(){return function(Kb){return new la.aNa(Kb);};});Cb(Za.rS).Af(function(Kb){return function(Ub,mc,Ec){return new Ka.bKa(Kb.fb.get(N.Ev),Kb.fb.get(Ua.ad),Kb.fb.get($a.Cl),Kb.fb.get(cb.mea),Ub,mc,Ec);};});Cb(y.fIa).Af(function(){return function(Kb){return new C.gIa(Kb);};});Cb(Va.TB).to(Qa.UAa);Cb(Na.c2).Af(function(Kb){return function(Ub,mc){return new Xa.IMa(Kb.fb.get(k.Yj),Ub,mc);};});Cb(Eb.BDa).to(Fb.ADa).ba();});},function(r,b,a){var k,m,d,g;function c(h){this.nQ=h;(0,m.kp)(this,"timers");}function f(h,l){this.nQ=h;this.lwb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.wLa=void 0;r=a(1);k=a(0);m=a(59);d=a(39);g=a(5);f.prototype.cancel=function(){this.lwb(this.nQ);};c.prototype.Yl=function(h){return this.Jk(g.eb,h);};c.prototype.Jk=function(h,l){var n;n=this.nQ.setTimeout(l,h.da(g.la));return new f(this.nQ,function(q){q.clearTimeout(n);});};c.prototype.taa=function(h,l){var n;n=this.nQ.setInterval(l,h.da(g.la));return new f(this.nQ,function(q){q.clearInterval(n);});};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.wNa))],a);b.wLa=a;},function(r,b,a){var f,k,m,d,g;function c(h,l){this.za=h;this.random=l;}Object.defineProperty(b,"__esModule",{value:!0});b.oFa=void 0;r=a(1);k=a(0);m=a(5);d=a(38);a=a(141);c.prototype.zz=function(){return this.za.jf.da(m.zo) * f.lBa + Math.floor(this.random.random() * f.lBa);};g=f=c;g.lBa=1E8;g=f=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.di)),r.__param(1,(0,k.l)(a.N1))],g);b.oFa=g;},function(r,b,a){var f,k;function c(m){this.N1b=m;}Object.defineProperty(b,"__esModule",{value:!0});b.VKa=void 0;r=a(1);f=a(0);a=a(141);c.prototype.random=function(){return this.N1b.random();};c.prototype.p8a=function(m,d){if("number" !== typeof m)(d=m.end,m=m.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(m + this.random() * (d - m));};k=c;k=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.mMa))],k);b.VKa=k;},function(r,b,a){var f,k,m,d,g,h,l;function c(n,q,p,u){var t;t=this;this.config=n;this.mBb=q;this.Wb=p;this.performance=u;this.CTb=function(w){t.n$a=w.Ka(t.jf);};(0,f.kp)(this,"date");(0,f.kp)(this,"performance");this.Ctb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.n$a=k.eb;this.Wb.addListener(l.Lda.q$a,this.CTb);}Object.defineProperty(b,"__esModule",{value:!0});b.JBa=void 0;r=a(1);f=a(59);k=a(5);m=a(0);d=a(39);g=a(332);h=a(98);l=a(15);Ya.Object.defineProperties(c.prototype,{jf:{configurable:!0,enumerable:!0,get:function(){return this.d5a?(0,k.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,k.Nc)(this.mBb.now());}},vZ:{configurable:!0,enumerable:!0,get:function(){return this.jf.add(this.n$a);}},d5a:{configurable:!0,enumerable:!0,get:function(){return this.config.rdb && this.Ctb;}}});a=c;a=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(g.IBa)),r.__param(1,(0,m.l)(d.lCa)),r.__param(2,(0,m.l)(h.tda)),r.__param(3,(0,m.l)(d.Rea)),r.__param(3,(0,m.optional)())],a);b.JBa=a;},function(r,b,a){var f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cNa=void 0;r=a(1);a=a(0);c.prototype.encode=function(m){return f.Hma(m);};c.prototype.decode=function(m){return f.Sla(m);};c.Hma=function(m){if(!m)throw new TypeError("Invalid byte array");for(var d=0,g,h=m.length,l="";d < h;){g=m[d++];if(!(0 <= g && 255 >= g))throw Error("bad utf8");if(g & 128)if(192 === (g & 224))g=((g & 31) << 6) + (m[d++] & 63);else if(224 === (g & 240))g=((g & 15) << 12) + ((m[d++] & 63) << 6) + (m[d++] & 63);else throw Error("unsupported utf8 character");l+=String.fromCharCode(g);}return l;};c.Sla=function(m){var d,g,h,l,n;d=m.length;g=0;l=0;if(!(0 <= d))throw Error("bad string");for(h=d;h--;){n=m.charCodeAt(h);128 > n?g++:g=2048 > n?g + 2:g + 3;}g=new Uint8Array(g);for(h=0;h < d;h++){n=m.charCodeAt(h);128 > n?g[l++]=n:(2048 > n?g[l++]=192 | n >>> 6:(g[l++]=224 | n >>> 12,g[l++]=128 | n >>> 6 & 63),g[l++]=128 | n & 63);}return g;};k=f=c;k=f=r.__decorate([(0,a.T)()],k);b.cNa=k;},function(r,b,a){var f,k,m,d,g,h,l,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.EAa=void 0;r=a(1);a=a(0);k=Array.prototype.slice;m=k.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");k=k.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};g={};h={};l={};n=/\s+/g;[m,k].forEach(function(q){var u;for(var p=q.length;p--;){u=q[p];d[u]=p << 18;g[u]=p << 12;h[u]=p << 6;l[u]=p;}});c.prototype.encode=function(q){return f.Hma(q,m,"=");};c.prototype.decode=function(q){return f.Sla(q);};c.Sla=function(q){var p,u,t;q=q.replace(n,"");p=q.length;u=q.charAt(p - 1);"=" !== u && "." !== u || p--;u=q.charAt(p - 1);"=" !== u && "." !== u || p--;u=3 * (p >> 2);t=0;switch(p % 4){case 2:t=1;break;case 3:t=2;break;case 1:throw Error("bad base64");}p=new Uint8Array(u + t);for(var w=0,v=0,x;v < u;){x=d[q[w++]] + g[q[w++]] + h[q[w++]] + l[q[w++]];if(!(0 <= x && 16777215 >= x))throw Error("bad base64");p[v++]=x >>> 16;p[v++]=x >>> 8 & 255;p[v++]=x & 255;}if(0 < t && (x=d[q[w++]] + g[q[w++]],p[v++]=x >>> 16,1 < t && (x+=h[q[w++]],p[v++]=x >>> 8 & 255),!(0 <= x && 16776960 >= x && 0 === (x & (1 < t?255:65535)))))throw Error("bad base64");return p;};c.Hma=function(q,p,u){for(var t="",w=0,v=q.length,x=v - 2,y;w < x;){y=(q[w++] << 16) + (q[w++] << 8) + q[w++];if(!(0 <= y && 16777215 >= y))throw Error("not bytes");t+=p[y >>> 18] + p[y >>> 12 & 63] + p[y >>> 6 & 63] + p[y & 63];}if(w == x){y=(q[w++] << 8) + q[w++];if(!(0 <= y && 65535 >= y))throw Error("not bytes");t+=p[y >>> 10] + p[y >>> 4 & 63] + p[y << 2 & 63] + u;}else if(w == v - 1){y=q[w++];if(!(0 <= y && 255 >= y))throw Error("not bytes");t+=p[y >>> 2] + p[y << 4 & 63] + u + u;}return t;};k=f=c;k=f=r.__decorate([(0,a.T)()],k);b.EAa=k;},function(r,b,a){var f,k,m,d;function c(g,h){this.is=g;this.uj=h;}Object.defineProperty(b,"__esModule",{value:!0});b.dNa=void 0;r=a(1);f=a(0);a(3);k=a(27);m=a(77);d=a(11);c.prototype.rI=function(g,h,l){var n,q,p,u;n=this;if(h)if(l){q=l.sO;p=l.prefix;u=l.TA;this.pD(h,function(t,w){if(!u || n.is.Ng(w))g[(p || "") + (q?t.toLowerCase():t)]=w;});}else this.pD(h,function(t,w){g[t]=w;});return g;};c.prototype.pD=function(g,h){for(var l in g){g.hasOwnProperty(l) && h(l,g[l]);}};c.prototype.Vt=function(g,h){if(g.length == h.length){for(var l=g.length;l--;){if(g[l] != h[l])return !1;}return !0;}return !1;};c.prototype.sUa=function(g,h){if(g.length != h.length)return !1;g.sort();h.sort();for(var l=g.length;l--;){if(g[l] !== h[l])return !1;}return !0;};c.prototype.wd=function(g){var h,l,n;if(g){h=g.stack;l=g.number;n=g.message;n || (n="" + g);h?(g="" + h,0 !== g.indexOf(n) && (g=n + "\n" + g)):g=n;l && (g+="\nnumber:" + l);return g;}};c.prototype.getFunctionName=function(g){return (g=(/function (.{1,})\(/).exec(g.toString())) && 1 < g.length?g[1]:"";};c.prototype.foa=function(g){return this.getFunctionName(g.constructor);};c.prototype.Dta=function(g){var h,l;h=this;l="";this.is.bz(g) || this.is.zRa(g)?l=Array.prototype.reduce.call(g,function(n,q){return n + (32 <= q && 128 > q?String.fromCharCode(q):".");},""):this.is.$p(g)?l=g:this.pD(g,function(n,q){l+=(l?", ":"") + "{" + n + ": " + (h.is.K3(q)?h.getFunctionName(q) || "function":q) + "}";});return "[" + this.foa(g) + " " + l + "]";};c.prototype.createElement=function(g,h,l,n){var q;q=d.Be.createElement(g);h && (q.style.cssText=h);l && (q.innerHTML=l);n && this.pD(n,function(p,u){q.setAttribute(p,u);});return q;};c.prototype.mFb=function(g,h){return function(l){return l[g] === h;};};c.prototype.lY=function(g){var h;h={};(g || "").split("&").forEach(function(l){var n,q;l=l.trim();n=l.indexOf("=");if(0 <= n){q=decodeURIComponent(l.substr(0,n)).toLowerCase();h[q]=decodeURIComponent(l.substr(n + 1));}else h[l.toLowerCase()]=void 0;});return h;};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.ig)),r.__param(1,(0,f.l)(m.Ux))],a);b.dNa=a;},function(r,b,a){var f,k,m;function c(d){this.Oc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.OKa=void 0;r=a(1);f=a(0);k=a(48);m=a(65);c.prototype.ar=function(d,g){var h;h=this;return new Promise(function(l,n){var q;q=h.Oc.Jk(d,function(){n(new m.Ir(d));});g.then(function(p){l(p);q.cancel();}).catch(function(p){n(p);q.cancel();});});};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.Yj))],a);b.OKa=a;},function(r,b,a){var f;function c(k){this.FGb=k;this.r7=!1;this.H7=this.fg=this.iQ=0;this.KW=!1;this.I7=0;}Object.defineProperty(b,"__esModule",{value:!0});b.gIa=void 0;f=a(18);c.prototype.Psb=function(k){k < this.iQ && (this.fg+=this.iQ);this.iQ=k;this.r7=!0;};c.prototype.rHb=function(){if(this.r7)return this.KW?this.I7 - this.H7:this.fg + this.iQ - this.H7;};c.prototype.refresh=function(){var k;k=this.FGb();(0,f.Ea)(k) && this.Psb(k);};c.prototype.E0b=function(){this.KW || (this.r7 && (this.I7=this.fg + this.iQ),this.KW=!0);};c.prototype.R0b=function(){this.KW && (this.r7 && (this.H7+=this.fg + this.iQ - this.I7),this.I7=0,this.KW=!1);};b.gIa=c;},function(r,b,a){var f,k,m,d;function c(g,h){this.za=g;this.v6=this.za.jf.da(m.la) - 1;this.xPb=this.D8=0;this.id="" + h.zz();}Object.defineProperty(b,"__esModule",{value:!0});b.Yza=void 0;r=a(1);f=a(0);k=a(38);m=a(5);a=a(81);c.prototype.Zb=function(){var g,h;g=this.za.jf.da(m.la) - this.v6;if(g < this.D8){h=this.D8 + 1;this.v6-=h - g;g=h;}this.D8=g;return (0,m.Nc)(this.D8);};c.prototype.zIb=function(){return this.xPb++;};Ya.Object.defineProperties(c.prototype,{xA:{configurable:!0,enumerable:!0,get:function(){return (0,m.Nc)(this.v6);}}});d=c;d=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.di)),r.__param(1,(0,f.l)(a.gy))],d);b.Yza=d;},function(r,b,a){var f,k,m,d;function c(g,h){this.is=g;this.se=h;}Object.defineProperty(b,"__esModule",{value:!0});b.aCa=void 0;r=a(1);k=a(0);m=a(27);a=a(29);c.prototype.encode=function(g){var h,l;h=this;l="";this.se.pD(g,function(n,q){n=h.TWa(n) + "=" + h.TWa(q);l=l?l + ("," + n):n;});return l;};c.prototype.TWa=function(g){return this.is.eH(g)?this.is.Oi(g)?"" + g:this.is.$p(g)?(g=g.replace(f.Nva,this.nsa.bind(this)),!f.TWb.test(g) && f.ORb.test(g) && (g='"' + g + '"'),g):this.is.VT(g)?"" + g:this.is.yia(g)?"NaN":"":"";};c.prototype.nsa=function(g){return f.map[g];};d=f=c;d.map={'"':'""',"\r":"","\n":" "};d.Nva=/(?!^.+)["\r\n](?=.+$)/g;d.TWb=/["].*["]/g;d.ORb=/[", ]/;d=f=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(m.ig)),r.__param(1,(0,k.l)(a.jg))],d);b.aCa=d;},function(r,b,a){var f,k,m,d;function c(g,h,l){this.config=g;this.nb=h;this.wa=l.mb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.rCa=void 0;r=a(1);f=a(0);k=a(27);m=a(97);a=a(7);c.prototype.assert=function(){};c.prototype.Vtb=function(g,h){this.assert(this.nb.eH(g),h);};c.prototype.Wtb=function(g,h){this.assert(this.nb.Ng(g),h);};c.prototype.d4=function(g,h){this.assert(this.nb.$p(g),h);};c.prototype.bub=function(g,h){this.assert(this.nb.Bn(g),h);};c.prototype.$tb=function(g,h){this.assert(this.nb.$p(g) || null === g || void 0 === g,h);};c.prototype.qja=function(g,h){this.assert(this.nb.Oi(g),h);};c.prototype.Ytb=function(g,h){this.assert(this.nb.dja(g),h);};c.prototype.aub=function(g,h){this.assert(this.nb.dU(g),h);};c.prototype.Ztb=function(g,h){this.assert(this.nb.WT(g),h);};c.prototype.Utb=function(g,h){this.assert(this.nb.VT(g),h);};c.prototype.Xtb=function(g,h){this.assert(this.nb.K3(g),h);};c.prototype.JMb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.pCa)),r.__param(1,(0,f.l)(k.ig)),r.__param(2,(0,f.l)(a.ub))],d);b.rCa=d;},function(r,b,a){var f,k,m,d;function c(g){g=k.WQ.call(this,g,"DebugConfigImpl") || this;g.ibc=function(){debugger;};return g;}Object.defineProperty(b,"__esModule",{value:!0});b.oCa=void 0;r=a(1);f=a(46);k=a(47);m=a(0);a=a(37);na(c,k.WQ);Ya.Object.defineProperties(c.prototype,{pvb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([f.config(f.cd,"breakOnError")],d.prototype,"pvb",null);d=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(a.Uca))],d);b.oCa=d;},function(r,b,a){var f,k,m,d;function c(g){return k.WQ.call(this,g,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.HBa=void 0;r=a(1);f=a(46);k=a(47);m=a(0);a=a(37);na(c,k.WQ);Ya.Object.defineProperties(c.prototype,{rdb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([f.config(f.cd,"usePerformanceApi")],d.prototype,"rdb",null);d=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(a.Uca))],d);b.HBa=d;},function(r,b,a){var f,k,m,d;function c(g,h){this.Da=g;this.entries=new Set();this.wa=h.mb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.Rfa=void 0;r=a(1);f=a(0);k=a(19);m=a(5);a=a(7);c.prototype.mark=function(g,h,l){g={name:g,Zs:this.Da.Zb()};h && (g.ca=h);l && (g.Mg=l);this.entries.add(g);return g;};c.prototype.Aoa=function(){var g;g=[];this.entries.forEach(function(h){return g.push(h);});return g;};c.prototype.SZa=function(g){return this.Aoa().filter(function(h){return h.ca === g;});};c.prototype.PZa=function(){var g;g={};try{g=this.Aoa().filter(function(h){return !h.ca;}).reduce(function(h,l){h[l.name]=l.Zs.da(m.la);return h;},{});}catch(h){this.wa.error(" getMapOfCommonMarks exception",h);}return g;};c.prototype.X8a=function(g){var h;h=this;this.Aoa().forEach(function(l){l.ca === g && h.entries.delete(l);});};d=c;d=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.md)),r.__param(1,(0,f.l)(a.ub))],d);b.Rfa=d;},function(r,b,a){var f,k,m,d,g,h,l,n,q;function c(p,u){this.Da=p;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.sCa=void 0;r=a(1);k=a(0);m=a(19);d=a(40);g=a(3);h=a(15);l=a(5);n=a(11);a=a(338);c.prototype.QVa=function(p){var u,t,w,v,x,y,z,A,B,E;u=this;v=p.mediaTime.value;x=p.Vr.value;y=p.Bb.value;z=p.state.value;A={segmentId:p.Poa(),mediaTime:v,segmentTime:p.zD(),bufferingState:f.vvb[x],presentingState:f.gWb[y],playbackState:f.eVb[z],mseBuffersBusy:this.LJb(p),intBuffersBusy:this.kIb(p),tabVisible:this.O1b(),decodedFrameCount:this.GBb(p),videoElementInDom:this.W4b(p),lastVideoSync:this.Da.Zb().Ka((0,l.Nc)(p.ZZ)).da(l.la)};B=y === h.hb.Uf?p.cb.bj?this.config.r6a:this.config.q6a:this.config.Y4a;if(x !== h.Cf.te){if((x=g.M.kgb,this.JSa(A.mseBuffersBusy,A.intBuffersBusy)))E=f.BAa;}else (y !== h.hb.Lc?x=g.M.mgb:(x=g.M.lgb,(y=p.dg) && 0 === y.L6() && (E=f.Nmb)),(y=p.dg) && y.$b.sourceBuffers.forEach(function(D){var F,G;F=f.Cd[D.mediaType];A[F + "Ranges"]=D.D6();try{G=D.buffered();}catch(C){G=void 0;}G && 0 !== G.length?(D=1E3 * G.end(0) - v,A[F + "Undecoded"]=D,1 < G.length && (E=f.afb),v < 1E3 * G.start(0) || v > 1E3 * G.end(0)?E=f.bfb:D < B.da(l.la)?E=f.cfb:u.JSa(A.mseBuffersBusy,A.intBuffersBusy) && (E=f.BAa)):(A[F + "Undecoded"]=0,E=f.$eb);}));y=p.h9a.M_a();z=v === (null === (t=y.repositionTrace) || void 0 === t?void 0:t[0].newMediaTime);A.lastRepositionCausedTimeout=z;A.trackChangeInProgress=null === (w=p.Ja) || void 0 === w?void 0:w.PJ;Object.assign(A,y);p="";try{p=JSON.stringify(A);}catch(D){p="Cannot stringify details: " + D;}return new d.od(g.N.rIa,x,E,void 0,void 0,void 0,p,void 0);};c.prototype.LJb=function(p){var u;if(p.$b){u={};p.$b.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.updating()};});return u;}};c.prototype.kIb=function(p){var u;if(p.$b){u={};p.$b.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.Ph()};});return u;}};c.prototype.O1b=function(){return !n.Be.hidden;};c.prototype.GBb=function(p){return (p=p.dg) && (p=p.$b.Z) && void 0 !== p.webkitDecodedFrameCount?p.webkitDecodedFrameCount:NaN;};c.prototype.W4b=function(p){if(p=p.dg)if(p=p.$b.Z)return n.Be.body.contains(p);return !1;};c.prototype.JSa=function(p,u){var t,w,v,x;return !((null === (t=p.audio) || void 0 === t?void 0:t.updating) === (null === (w=u.audio) || void 0 === w?void 0:w.updating) && (null === (v=p.video) || void 0 === v?void 0:v.updating) === (null === (x=u.video) || void 0 === x?void 0:x.updating));};q=f=c;q.$eb="1";q.afb="2";q.bfb="3";q.BAa="4";q.cfb="5";q.Nmb="6";q.Cd=["Audio","Video"];q.vvb=["","NORMAL","BUFFERING","STALLED"];q.gWb=["","WAITING","PLAYING ","PAUSED","ENDED"];q.eVb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];q=f=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(m.md)),r.__param(1,(0,k.l)(a.sea))],q);b.sCa=q;},function(r,b,a){var f,k,m,d;function c(g,h,l){var n;n=this;this.pg=g;this.Oc=h;this.V4=l;this.TO=function(q){n.Jj=void 0;n.e3b(q || n.V4);};this.K2a=(0,m.Nc)(-this.V4.da(m.la));}Object.defineProperty(b,"__esModule",{value:!0});b.xMa=void 0;r=a(1);f=a(0);k=a(19);m=a(5);a=a(48);c.prototype.Yl=function(g){this.Fwa=g;this.Jj=this.Jj || this.Xf(this.TO);};c.prototype.Mh=function(){this.Jj && this.Jj.cancel();this.Jj=void 0;};c.prototype.e3b=function(g){var h,l;h=this.pg.Zb();if(this.Fwa){l=g.Ka(h.Ka(this.K2a));0 >= l.Kl(m.eb)?(g=this.Fwa,this.Fwa=void 0,this.K2a=h,g()):this.Jj=this.Jj || this.Oc.Jk(l,this.TO.bind(this,g));}};c.prototype.Xf=function(g){return this.Oc.Jk(m.eb,g);};d=c;d=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.md)),r.__param(1,(0,f.l)(a.Yj))],d);b.xMa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ofa="PrioritizedSetOfListsSymbol";b.ylb="PrioritizedSetOfListsFactorySymbol";b.zlb="PrioritizedSetOfSetsFactorySymbol";},function(r,b){function a(){this.searchParams={};}function c(f){this.Il=f;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.aNa=void 0;c.prototype.toString=function(){return this.href;};Ya.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.Il + this.searchParams.toString();}}});b.aNa=c;a.prototype.get=function(f){return this.searchParams[f];};a.prototype.set=function(f,k){this.searchParams[f]=k;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(f,k,m){var d;d=ba(k);k=d.next().value;d=d.next().value;return "" + f + (0 == m?"?":"&") + k + "=" + d;},"");};},function(r,b,a){var f,k,m,d,g;function c(h,l){this.je=this.REb(h,l.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.hNa=b.UAa=void 0;r=a(1);f=a(0);k=a(13);m=a(37);a=a(39);c.prototype.k7=function(h,l){var n;if(l=this.hKb(l))switch(h){case g.DA:n=0 < l.length?Number(l[0]):0;break;case g.DO:n=1 < l.length?Number(l[1]):0;break;case g.WO:n=2 < l.length?Number(l[2]):0;break;case g.naa:n=3 < l.length?Number(l[3]):0;}return void 0 === n || isNaN(n)?0:n;};c.prototype.hKb=function(h){return null === h || void 0 === h?void 0:h.split(".");};c.prototype.WH=function(h){return this.je.name === h;};c.prototype.XH=function(h){return this.je.l$.name === h;};c.prototype.hNb=function(h){return this.je.KKb === h;};c.prototype.REb=function(h,l){return Object.assign(Object.assign({KKb:this.TEb(h,l)},this.QEb(h,l)),{l$:this.UEb(h,l)});};c.prototype.TEb=function(h,l){return l && l.hardware?l.hardware:(/Mobile|iPhone/).test(h)?k.f1.phone:(/Android/).test(h)?k.f1.P1b:k.f1.Oxb;};c.prototype.QEb=function(h,l){return l && l.name && l.version?{name:l.name,version:l.version}:(/OPR/).test(h)?{name:k.jn.opera,version:""}:(/Tesla/).test(h)?{name:k.jn.zbb,version:""}:(l=h.match(/Edge\/(\d*)\./))?{name:k.jn.rq,version:l[1]}:(l=h.match(/Edg\/(\d*)\./))?{name:k.jn.wWa,version:l[1]}:(l=h.match(/Chrome\/(\d*)\./))?{name:k.jn.Hka,version:l[1]}:(l=h.match(/Firefox\/(\d*)\./))?{name:k.jn.VXa,version:l[1]}:(h=h.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:k.jn.T9a,version:h[1]}:{name:k.jn.Hka,version:""};};c.prototype.UEb=function(h,l){return l && l.os && l.os.name && l.os.version?{name:l.os.name,version:l.os.version}:(/CrOS/).test(h)?{name:k.xo.zTa,version:""}:(l=h.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:k.xo.F3a,version:l[1] + "." + l[2] + "." + l[3]}:(/Windows NT/).test(h)?{name:k.xo.Bza,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(h) || (/Android.*Chrome\/[.0-9]* /).test(h)?{name:k.xo.U3,version:""}:(/Linux/).test(h)?{name:k.xo.d3a,version:""}:(/iPhone/).test(h)?{name:k.xo.F1a,version:""}:{name:k.xo.Bza,version:""};};Ya.Object.defineProperties(c.prototype,{M1a:{configurable:!0,enumerable:!0,get:function(){return this.WH(k.jn.Hka);}},cO:{configurable:!0,enumerable:!0,get:function(){return this.WH(k.jn.rq);}},Xw:{configurable:!0,enumerable:!0,get:function(){return this.WH(k.jn.wWa);}},SW:{configurable:!0,enumerable:!0,get:function(){return this.WH(k.jn.VXa);}},l8:{configurable:!0,enumerable:!0,get:function(){return this.WH(k.jn.opera);}},hO:{configurable:!0,enumerable:!0,get:function(){return this.WH(k.jn.T9a);}},m2a:{configurable:!0,enumerable:!0,get:function(){return this.WH(k.jn.zbb);}},Y7:{configurable:!0,enumerable:!0,get:function(){return this.XH(k.xo.U3);}},eO:{configurable:!0,enumerable:!0,get:function(){return this.XH(k.xo.F1a);}},Z7:{configurable:!0,enumerable:!0,get:function(){return this.XH(k.xo.U3) && this.hNb(k.f1.phone);}},bO:{configurable:!0,enumerable:!0,get:function(){return this.XH(k.xo.zTa);}},mNb:{configurable:!0,enumerable:!0,get:function(){return this.XH(k.xo.d3a);}},fO:{configurable:!0,enumerable:!0,get:function(){return this.XH(k.xo.F3a);}},VD:{configurable:!0,enumerable:!0,get:function(){return this.XH(k.xo.Bza);}},iq:{configurable:!0,enumerable:!0,get:function(){return this.k7(g.DA,this.je.version);}},XTb:{configurable:!0,enumerable:!0,get:function(){return this.k7(g.DA,this.je.l$.version);}},YTb:{configurable:!0,enumerable:!0,get:function(){return this.k7(g.DO,this.je.l$.version);}},ZTb:{configurable:!0,enumerable:!0,get:function(){return this.k7(g.WO,this.je.l$.version);}}});d=c;d=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.bNa)),r.__param(1,(0,f.l)(m.RR))],d);b.UAa=d;(function(h){h[h.DA=0]="major";h[h.DO=1]="minor";h[h.WO=2]="patch";h[h.naa=3]="revision";})(g=b.hNa || (b.hNa={}));},function(r,b,a){var f,k,m;function c(d,g,h){this.Oc=d;this.p2b=g;this.KH=h;}Object.defineProperty(b,"__esModule",{value:!0});b.IMa=void 0;r=a(1);f=a(48);k=a(0);m=a(5);c.prototype.oH=function(){this.Jj || (this.Jj=this.Oc.Jk((0,m.Nc)(this.p2b),this.KH));};c.prototype.Xs=function(){this.Jj && this.Jj.cancel();this.Jj=void 0;};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Yj))],a);b.IMa=a;},function(r,b,a){var f,k;function c(m,d){this.Oc=m;this.V4=d;}Object.defineProperty(b,"__esModule",{value:!0});b.nCa=void 0;r=a(1);f=a(0);a=a(48);c.prototype.Yl=function(m){this.Mh();this.Jj=this.Oc.Jk(this.V4,m);};c.prototype.Mh=function(){this.Jj && this.Jj.cancel();this.Jj=void 0;};k=c;k=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.Yj))],k);b.nCa=k;},function(r,b,a){var f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ADa=void 0;r=a(1);f=a(0);k=a(213);c.prototype.hN=function(m,d){var g;g=this;m && Object.entries(d).forEach(function(h){var l,n,q;l=ba(h);h=l.next().value;l=l.next().value;if(g.YMb(l)){n=ba(l);l=n.next().value;q=n.next().value;n=m[l];Array.isArray(n)?(g.bma(m,h,l),n.forEach(function(p){g.hN(p,q);})):l === k.sn?Object.values(m).forEach(function(p){g.hN(p,q);}):(g.bma(m,h,l),"object" === typeof n && g.hN(n,q));}else g.bma(m,h,l);});};c.prototype.YMb=function(m){return Array.isArray(m);};c.prototype.bma=function(m,d,g){m.hasOwnProperty(d) || d === g || Object.defineProperty(m,d,{get:function(){return m[g];},set:function(h){return m[g]=h;},enumerable:!0});};a=c;a=r.__decorate([(0,f.T)()],a);b.ADa=a;},function(r,b,a){var f,k,m;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.jHa=void 0;r=a(1);f=a(13);k=a(12);a=a(0);c.prototype.qu=function(){return this.XMb()?k.SCa:(/widevine/i).test(this.config().Im)?k.jda:(/fps/i).test(this.config().Im)?"fairplay":k.L0;};c.prototype.XMb=function(){return (/clearkey/i).test(this.config().Im);};m=c;m=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(f.ad))],m);b.jHa=m;},function(r,b,a){var c,f,k,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.v3a=void 0;c=a(655);f=a(656);r=a(0);k=a(115);m=a(7);d=a(661);b.v3a=new r.rd(function(g){g(m.ub).to(f.wGa).ba();g(k.CK).to(c.xGa).ba();g(m.Xda).to(d.lGa).ba();});},function(r,b,a){var f;function c(){this.sab={};this.ko=[];}Object.defineProperty(b,"__esModule",{value:!0});b.xGa=void 0;r=a(1);a=a(0);c.prototype.baa=function(k,m){m && (this.sab[k]=m,this.ko=Object.values(this.sab));};f=c;f=r.__decorate([(0,a.T)()],f);b.xGa=f;},function(r,b,a){var f,k,m,d,g,h,l;function c(n,q,p){this.Da=n;this.ko=q;this.Pra=p;}Object.defineProperty(b,"__esModule",{value:!0});b.wGa=void 0;r=a(1);f=a(214);k=a(0);m=a(658);d=a(19);g=a(115);h=a(7);l=a(659);c.prototype.mb=function(n,q,p,u,t){p=void 0 === p?this.ko:p;return q?new m.SJa(this.Da,this.Pra,p,q,n):t?new l.gAa(this.Da,this.Pra,p,n,u || "",t):new f.BK(this.Da,this.Pra,p,n);};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.md)),r.__param(1,(0,k.l)(g.CK)),r.__param(2,(0,k.l)(h.Xda))],a);b.wGa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.USa=void 0;b.USa=function(a,c){var k;a=a.xIb();for(var f=0;f < c.length;++f){k=c[f];void 0 != k && null != k && (k.Uh && (k=k.Uh),k.constructor === Uint8Array?a.atb(k):"MediaRequest" === k.constructor.name?a.Nsb(k):"string" === typeof k?a.Zsb(k):"function" === typeof k?a.Hsb(k):k instanceof Error?a.Esb(k):k instanceof Object?a.Osb(k):a.btb(k));}return a.ri();};},function(r,b,a){var f,k,m;function c(d,g,h,l,n){d=m.BK.call(this,d,g,h,n) || this;d.j=l;(0,f.kp)(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.SJa=void 0;f=a(59);k=a(346);m=a(214);na(c,m.BK);c.prototype.vla=function(d){return new c(this.Da,this.w4,this.ko,this.j,d);};c.prototype.PC=function(d,g,h){d=new k.Wda(d,this.Qo,this.Da.Zb(),g,h,this.j.index);g=ba(this.ko.ko);for(h=g.next();!h.done;h=g.next()){h=h.value;h(d,this.j);}};b.SJa=c;},function(r,b,a){var f,k;function c(m,d,g,h,l,n){m=f.BK.call(this,m,d,g,h) || this;m.groups=l;Array.isArray(n)?m.prefix=n:n && "string" === typeof n && (m.prefix=[],m.prefix.push(n));return m;}Object.defineProperty(b,"__esModule",{value:!0});b.gAa=void 0;f=a(214);k=a(660);na(c,f.BK);c.prototype.PC=function(m,d,g){m=new k.fAa(m,this.Qo,this.Da.Zb(),d,g,this.prefix);d=ba(this.ko.ko);for(g=d.next();!g.done;g=d.next()){g=g.value;g(m);}};c.prototype.vla=function(m){return new c(this.Da,this.w4,this.ko,m,this.groups,this.prefix);};b.gAa=c;},function(r,b,a){var f,k;function c(m,d,g,h,l,n,q){this.level=m;this.Qo=d;this.timestamp=g;this.message=h;this.jc=l;this.prefix=n;this.index=void 0 === q?0:q;}Object.defineProperty(b,"__esModule",{value:!0});b.fAa=void 0;f=a(5);k={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.mba=function(m,d){m=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.j1b(! !m));return (this.timestamp.da(f.la) / 1E3).toFixed(3) + "|" + this.index + "|" + (k[this.level] || this.level) + "|" + this.Qo + "| " + m;};c.prototype.j1b=function(m){var l;for(var d=this.jc.length,g="",h=0;h < d;++h){l=this.jc[h].hv;h && g.length && (g+=" ");if("object" === typeof l){if(null === l)g+="null";else if(l instanceof Error)g+=this.i1b(l,m);else try{g+=JSON.stringify(l);}catch(n){g+=this.h1b(l);}}else g+=l;}return g;};c.prototype.i1b=function(m,d){return m.toString() + (m.stack && !d?"\n" + m.stack:"") + "\n";};c.prototype.h1b=function(m){var d;d=[];return JSON.stringify(m,function(g,h){if("object" === typeof h && null !== h){if(-1 !== d.indexOf(h))return "<cycle>";d.push(h);}return h;});};b.fAa=c;},function(r,b,a){var f,k,m,d;function c(g,h){this.Wc=g;this.se=h;}Object.defineProperty(b,"__esModule",{value:!0});b.lGa=void 0;r=a(1);f=a(0);k=a(662);m=a(36);a=a(29);c.prototype.xIb=function(){return new k.mGa(this.Wc,this.se);};d=c;d=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.Ii)),r.__param(1,(0,f.l)(a.jg))],d);b.lGa=d;},function(r,b,a){var q,p,u;function c(t,w){this.Wc=t;this.se=w;this.jc=[];}function f(t){return n.call(this,t,function(w){return {Details:w};}) || this;}function k(t){return n.call(this,t,function(w){return JSON.parse(w.toJSON());}) || this;}function m(t,w){w=n.call(this,w,function(v){return {Base64:t.encode(v)};}) || this;w.Wc=t;return w;}function d(t,w){w=n.call(this,w,function(v){return v();}) || this;w.se=t;return w;}function g(t){return n.call(this,t,function(w){return {Exception:w.message || "" + w,StackTrace:w.stack || "nostack"};}) || this;}function h(t,w,v){w=n.call(this,w,v) || this;w.se=t;return w;}function l(t){return n.call(this,t,function(w){return {Details:w};}) || this;}function n(t,w){this.hv=t;this.value=w?w(t):t;}Object.defineProperty(b,"__esModule",{value:!0});b.mGa=void 0;r=a(1);q=a(0);p=a(29);a=a(36);n.prototype.FV=function(t){return this.hv === t;};na(l,n);l.prototype.MJ=function(t,w){return w?"":"\r\n" + this.hv;};na(h,n);h.prototype.MJ=function(){var t;t="";this.se.pD(this.value,function(w,v){try{t+=", " + w + ": " + v;}catch(x){try{t+=", " + w + ": " + JSON.stringify(v);}catch(y){t+=", error stringifying " + w;}}});return t.replace(/[\r\n]+ */g," ");};na(g,n);g.prototype.MJ=function(t){var w;w="\r\n" + this.hv.message;t || (w+="\r\n" + this.hv.stack);return w;};na(d,n);d.prototype.MJ=function(){var t;t="";this.se.pD(this.value,function(w,v){t+=", " + w + ": " + v;});return t.replace(/[\r\n]+ */g," ");};na(m,n);m.prototype.MJ=function(t,w){return this.hv && !w?"\r\n" + this.Wc.encode(this.hv):"";};na(k,n);k.prototype.MJ=function(){return this.hv?this.hv.toJSON():"";};na(f,n);f.prototype.MJ=function(){return ", " + (this.hv.toString?"" + this.hv.toString():"");};c.prototype.Zsb=function(t){this.jc.push(new l(t));};c.prototype.Osb=function(t){this.jc.push(new h(this.se,t));};c.prototype.Esb=function(t){this.jc.push(new g(t));};c.prototype.Hsb=function(t){this.jc.push(new d(this.se,t));};c.prototype.atb=function(t){this.jc.push(new m(this.Wc,t));};c.prototype.Nsb=function(t){this.jc.push(new k(t));};c.prototype.btb=function(t){this.jc.push(new f(t));};c.prototype.ri=function(){return this.jc;};u=c;u=r.__decorate([(0,q.T)(),r.__param(0,(0,q.l)(a.Ii)),r.__param(1,(0,q.l)(p.jg))],u);b.mGa=u;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.a5a=void 0;r=a(0);c=a(347);f=a(664);b.a5a=new r.rd(function(k){k(c.GHa).to(f.FHa).ba();});},function(r,b,a){var f,k,m;function c(d){this.Oc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.FHa=void 0;r=a(1);f=a(0);k=a(665);a=a(48);c.prototype.PUa=function(d,g){return new k.HHa(this.Oc,d,g);};m=c;m=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.Yj))],m);b.FHa=m;},function(r,b){function a(c,f,k){this.Oc=c;this.config=f;this.getTime=k;}Object.defineProperty(b,"__esModule",{value:!0});b.HHa=void 0;a.prototype.observe=function(c,f){var k;k=this;this.cancel();this.Jj=this.Oc.taa(this.config.s_a(),function(){k.getTime() >= c && (k.cancel(),f());});};a.prototype.cancel=function(){this.Jj && (this.Jj.cancel(),this.Jj=void 0);};b.HHa=a;},function(r,b,a){var c,f,k,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.V=void 0;r=a(0);c=a(215);f=a(348);k=a(667);m=a(969);d=a(421);g=a(970);b.V=new r.rd(function(h){h(c.Ffa).to(k.FLa).ba();h(f.DLa).to(m.CLa).ba();h(d.LMa).to(g.KMa).ba();});},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w;function c(v,x,y,z,A,B,E,D,F,G){this.Da=v;this.cg=x;this.EO=y;this.sza=z;this.tY=A;this.Oc=B;this.iM=E;this.Wh=D;this.Wma=F;this.de=G;}Object.defineProperty(b,"__esModule",{value:!0});b.FLa=void 0;r=a(1);f=a(0);k=a(19);m=a(7);d=a(347);g=a(142);h=a(349);l=a(350);n=a(668);q=a(669);p=a(103);u=a(48);t=a(344);a=a(29);c.prototype.wAb=function(v,x,y){return new n.GLa(this.Da,this.cg,this.EO,this.sza,x,v,this.Wh,this.tY,this.de,this.Wma,y);};c.prototype.Vzb=function(v,x){return new q.TAa(this.cg,v,x,this.EO,this.Oc,this.iM);};w=c;w=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.md)),r.__param(1,(0,f.l)(m.ub)),r.__param(2,(0,f.l)(d.GHa)),r.__param(3,(0,f.l)(l.lNa)),r.__param(4,(0,f.l)(h.OJa)),r.__param(5,(0,f.l)(u.Yj)),r.__param(6,(0,f.l)(p.QQ)),r.__param(7,(0,f.l)(g.rS)),r.__param(8,(0,f.l)(t.rR)),r.__param(9,(0,f.l)(a.jg))],w);b.FLa=w;},function(r,b,a){var d,g,h;function c(l,n,q,p,u,t,w,v,x,y,z){var A;A=this;this.Da=l;this.EO=q;this.Gua=p;this.config=u;this.lb=t;this.Wh=w;this.tY=v;this.de=x;this.Ok=z;this.CEb=Object.values(d.Fa).map(function(B){return {event:B,KH:function(E){return A.Wb.Hc(B,E);}};});this.Wb=y.create();this.zE=[];this.log=n.mb("SegmentManager");this.zna=!0;this.Qg=this.de.createElement("div",h.ufa);}function f(l,n,q,p,u,t,w,v,x,y,z){var A;A=this;this.log=l;this.config=n;this.MSb=q;this.Gua=p;this.Wh=u;this.tY=t;this.qv=w;this.H=v;this.Qg=x;this.lb=y;this.Ok=z;this.xM=function(){A.kE && (A.kE.cancel(),A.kE=void 0);};this.Dpa=function(B){A.log.trace("Received the transition event",{movieId:B.K});A.$Wb();};this.Ira=function(){};this.log.debug("Constructing session data",k(v));this.r2b=new Promise(function(B){A.$Wb=B;});}function k(l){return {movieId:l.K};}function m(l){return JSON.stringify({movieId:l.K,startPts:l.$,logicalEnd:l.zj,params:l.Ab?{trackingId:l.Ab.Pj,authParams:l.Ab.j4,sessionParams:l.Ab.Vm,disableTrackStickiness:l.Ab.nma,uiPlayStartTime:l.Ab.sQ,loadImmediately:l.Ab.J8,playbackState:l.Ab.playbackState?{currentTime:l.Ab.playbackState.currentTime,volume:l.Ab.playbackState.volume,muted:l.Ab.playbackState.muted,playbackRate:l.Ab.playbackState.playbackRate}:void 0,pin:l.Ab.i7a,heartbeatCooldown:l.Ab.Opa,uiLabel:l.Ab.Xd,uxLabels:l.Ab.Jba}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.GLa=void 0;d=a(15);g=a(5);h=a(12);f.prototype.load=function(l){var n,q;n=this;this.log.trace("Loading new segment",k(this.H));this.X=this.Gua.wla(this.config,this.tY,this.Wh,this.H,this.lb,this.Ok);this.X.addEventListener(d.Fa.WN,function(p){n.log.trace("Segment is inactive",k(n.H));n.qv.close(n.Wh(p.errorCode));});this.X.addEventListener(d.Fa.closed,this.xM);if(l)(this.log.debug("Pausing background segment",k(this.H)),this.X.addEventListener(d.Fa.Yqa,this.Dpa),this.X.pause());else {this.Qg.appendChild(this.X.Rn());q=function(p){n.Dpa(p);n.X.removeEventListener(d.Fa.loaded,q);};this.X.addEventListener(d.Fa.loaded,q);}};f.prototype.observe=function(){var l,n,q;l=this;this.log.trace("Observing segment",m(this.H));if(this.kE)this.log.trace("Segment is currently observing",k(this.H));else if(this.H.Ab && this.H.Ab.J8)this.Ira(this);else {n=this.MSb.PUa(this.config,function(){var p;if(l.X){p=l.X.tu();if(p)return p;}return 0;});q=this.Pvb(this.H);this.log.trace("Adding a moment to watch",{time:q});n.observe(q,function(){l.log.trace("Segment has reached its loading point",k(l.H));l.Ira(l);l.xM();});}};f.prototype.close=function(l){this.log.info("Closing segment",{segment:m(this.H),error:l});return this.X?(this.X.removeEventListener(d.Fa.Yqa,this.Dpa),this.X.close(l)):Promise.resolve();};f.prototype.FTb=function(l){this.Ira=l;};f.prototype.Pvb=function(l){var n,q;n=l.zj;l=l.Ab?l.Ab.J8:!1;q=0;n && !l && (q=n - this.config.OZa(),q < this.config.RZa() && (l=n - this.config.RZa(),q=n - l / 2));return q;};c.prototype.sJb=function(){return this.uh && this.uh.X?this.uh.X.isReady():!1;};c.prototype.Rn=function(){return this.Qg;};c.prototype.EH=function(){if(!this.uh || !this.uh.X)throw Error("Player not ready");return this.uh.X;};c.prototype.P3b=function(l){var n,q;q=this.nna(l);q?this.Xcb(q,l):this.lb.lf(l.id) || this.log.error("Tried to update a non-existent segment",{segment:m(l),currentMovieId:this.uh.H.K,queuedMovieIds:this.zE.map(function(p){return p.H.K;}),xid:null === (n=this.uh.X) || void 0 === n?void 0:n.dA()});};c.prototype.Yk=function(l){var n;this.log.info("Adding segment",m(l));if(this.zna){this.log.trace("First segment, loading",k(l));n=this.j3a(l);this.zna=!1;}else (this.log.trace("Subsequent segment, caching",k(l)),(n=this.nna(l))?this.Xcb(n,l):(n=this.createSession(l),this.zE.push(n),this.uh.observe()));return n?n.r2b:null;};c.prototype.transition=function(l,n){var q,p,u;p=this.zI;u=null === p || void 0 === p?void 0:p.X;if(p && u)return (this.zI=void 0,this.log.info("Transitioning segment",m(p.H)),u.qxa(this.Da.Zb().da(g.la)),this.mcb(p,n));n=null === p || void 0 === p?void 0:p.H;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.uh.H.K,xid:null === (q=this.uh.X) || void 0 === q?void 0:q.dA(),nextSegmentId:l,currentSegment:m(this.uh.H),nextSegment:n?m(n):void 0,queuedMovieIds:this.zE.map(function(t){return t.H.K;})});return Promise.reject();};c.prototype.close=function(l){var n;n=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(k(this.uh.H)),nextSession:this.zI?JSON.stringify(k(this.zI.H)):void 0});l=[this.uh.close(l)];this.zI && l.push(this.zI.close());return Promise.all(l).then(function(){n.zI=void 0;n.zE=[];n.zna=!0;});};c.prototype.addListener=function(l,n,q){this.Wb.addListener(l,n,q);};c.prototype.removeListener=function(l,n){this.Wb.removeListener(l,n);};c.prototype.Xcb=function(l,n){this.eUb(l.H,n);this.log.trace("Overwrote existing segment data",m(l.H));};c.prototype.j3a=function(l){var n,q;n=this;this.log.info("Loading the next episode",k(l));if(this.uh){this.config.aoa()[l.K]=l.$;q=this.nna(l);}else q=this.createSession(l);if(q)return (this.log.trace("Found the next session",k(l)),q.FTb(function(p){n.Mbb(p);}),this.uh?(this.log.trace("Subsequent playback, caching player and pausing",k(l)),this.zI=q,q.load(!0)):(this.log.trace("First playback transitioning immediately",k(l)),q.load(!1),this.mcb(q)),q);this.log.warn("Unable to find the session, make sure to add it before loading",k(l));};c.prototype.mcb=function(l,n){var q,p,u,t,w;n=void 0 === n?{}:n;t=l.X?null === (q=l.X) || void 0 === q?void 0:q.getError():"missing player";if(t)return (null === (p=l.X) || void 0 === p?void 0:p.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.uh.H.K,mid:l.H.K,error:t,xid:null === (u=l.X) || void 0 === u?void 0:u.dA()}),Promise.reject());this.log.trace("Playing episode",k(l.H));q=this.uh;this.uh=l;l=this.uh.X;l.axa(!1);this.ZJ(l,q?q.X:void 0);if(q && q.X){w=q.X.Rn();p=l.Rn();w.style.display="none";q=q.close();this.Qg.appendChild(p);q.then(function(){w.parentElement && w.parentElement.removeChild(w);});p.style.display="block";l.Cba(n);l.aQ();l.play();}return Promise.resolve();};c.prototype.Mbb=function(l){var n,q,p,u,t;if(this.zE.length && l.X){n=l.X.tu();q=this.zE[0];p=this.uh.H.zj;u=this.uh.H.Ab?this.uh.H.Ab.J8:!1;if(p || u){u?t=0:p && (t=p - this.config.OZa());null !== n && n >= t && (this.log.info("Got a time change, loading the next player",k(q.H)),this.j3a(q.H),this.zE.splice(0,1),this.Mbb(l));}}};c.prototype.nna=function(l){return this.uh.H.K === l.K?this.uh:this.zE.find(function(n){return n.H.K === l.K;});};c.prototype.eUb=function(l,n){l.$=n.$ || l.$;l.zj=n.zj || l.zj;l.Ab=n.Ab || l.Ab;l.oa=n.oa || l.oa;};c.prototype.createSession=function(l){return new f(this.log,this.config,this.EO,this.Gua,this.Wh,this.tY,this,l,this.Qg,this.lb,this.Ok);};c.prototype.ZJ=function(l,n){this.CEb.forEach(function(q){n && n.removeEventListener(q.event,q.KH);l.addEventListener(q.event,q.KH);});this.Wb.Hc(d.MF.sZ);};b.GLa=c;},function(r,b,a){var m,d,g,h,l;function c(n,q,p,u,t,w){var v;v=this;this.X=q;this.j=p;this.EO=u;this.Oc=t;this.iM=w;this.xM=function(){v.kE && (v.kE.cancel(),v.kE=void 0);};this.log=n.mb("SegmentManager",this.j);this.V=new Map();this.j.cb.bj && (this.j.addEventListener(g.ea.kJ,function(x){return v.lE(x);}),this.j.addEventListener(g.ea.closed,this.xM));}function f(n,q){this.id=n;this.Gka=q;}function k(n,q,p,u){return d.od.call(this,n,p,void 0,void 0,void 0,q,void 0,u) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.TAa=void 0;m=a(3);d=a(40);g=a(15);h=a(5);l=a(14);na(k,d.od);k.prototype.toString=function(){return this.code + "-" + this.Ec + " : " + this.message + "\n" + JSON.stringify(this.data);};f.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.Aa,contentEndPts:this.Ba};};Ya.Object.defineProperties(f.prototype,{Aa:{configurable:!0,enumerable:!0,get:function(){return this.Gka.startTimeMs;}},Ba:{configurable:!0,enumerable:!0,get:function(){return this.Gka.endTimeMs;}},RA:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.Gka.next);}}});c.prototype.lE=function(n){var q;q=this;!1;n=n.position.segmentId;0 === this.V.size && Object.entries(this.j.aW()).forEach(function(p){var u;u=ba(p);p=u.next().value;u=u.next().value;q.V.set(p,new f(p,u));});this.ja=this.V.get(n);};c.prototype.play=function(n){this.wx && (this.wx=void 0);this.xM();this.log.trace("Playing segment",n);return this.Z1a(n)?this.aVb(n):this.rY(n);};c.prototype.Js=function(n){this.log.trace("Queueing segment",n);return this.Z1a(n)?this.QWb(n):this.RWb(n);};c.prototype.Fi=function(n,q){var p,u;p=this;u=this.j.Ja;if(null === u || void 0 === u || !u.ji)return Promise.reject(this.getError(m.N.AAa,"ASE session manager is not yet initialized",m.M.Dca,{segmentId:n,updates:q}));this.log.trace("Updating next segment weights",n,q);return new Promise(function(t,w){try{u.uQ(n,q);p.j.fireEvent(g.ea.Yya,{ha:n,a4b:q});t();}catch(v){w(p.getError(m.N.AAa,"updateNextSegmentWeights threw an exception",m.M.Yeb,{segmentId:n,updates:q,error:v}));}});};c.prototype.Z1a=function(n){return this.ja?void 0 !== this.j.aW()[this.ja.id].next[n]:!1;};c.prototype.Soa=function(){var n;n=this.j.Ja;if(null === n || void 0 === n?0:n.ji)return n.Sn().pe;};c.prototype.kJb=function(){var n;n=this.j.Ja;if(null === n || void 0 === n?0:n.ji)return n.Sn().id;};c.prototype.lHb=function(n){var q;q=this.j.Ja;if(null === q || void 0 === q?0:q.ji)return (n=q.F6(n)) && n.Ee;};c.prototype.aVb=function(n){var q,p;q=this;p=this.j.Ja;return null !== p && void 0 !== p && p.ji?this.ja && 1 === this.ja.RA.length?this.rY(n):this.j.dg?void 0 === this.lHb(n)?(this.log.error("playNextSegment: branchOffset missing",{segment:n}),this.rY(n)):new Promise(function(u,t){var z,A,B,E,D,F;function w(){!B && A && z && (F.cancel(),B=!0,q.log.trace("Telling ASE to choose the next segment",{id:n,stopped:A,repositioned:z,completed:B}),p.Yr(n,!1,!0)?(u(),B=!0):(B=!0,q.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:n}),q.rY(n).then(u).catch(t)));}function v(){z=!0;q.log.trace("Player is repositioned",{id:n,stopped:A,repositioned:z,completed:B});q.j.removeEventListener(g.ea.Gk,v);w();}function x(){q.j.removeEventListener(g.ea.$I,x);p.stop();}function y(){A=!0;q.log.trace("ASE is stopped",{id:n,stopped:A,repositioned:z,completed:B});p.removeEventListener("stop",y);w();}z=!1;A=!1;B=!1;E=q.V.get(n);D=q.Soa();if(void 0 === D)return (q.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:n}),q.rY(n));q.log.trace("Seeking to next segment",JSON.stringify({segmentId:n,seekTo:D,currentSegment:q.ja,nextSegment:E},null,"  "));q.j.fireEvent(g.ea.P9,{$g:q.ja && q.ja.id,JO:n});p.addEventListener("stop",y);q.j.addEventListener(g.ea.$I,x);q.j.addEventListener(g.ea.Gk,v);F=q.Oc.Jk((0,h.Bh)(10),function(){B=!0;F.cancel();t(q.getError(m.N.UQ,"Timed out waiting for the player to be repositioned and ASE to be stopped",m.M.Ueb,{id:n,stopped:A,repositioned:z,completed:B}));});q.X.seek(D,g.Pe.SK);}):(this.log.warn("MediaPresenter is not initialized",n),Promise.reject(this.getError(m.N.UQ,"MediaPresenter is not initialized",m.M.Veb,{id:n}))):Promise.reject(this.getError(m.N.UQ,"ASE session manager is not yet initialized",m.M.Dca,{id:n}));};c.prototype.rY=function(n){var q;q=this.V.get(n);return q?this.qZ(q,m.N.UQ):Promise.reject(this.getError(m.N.UQ,"Unable to find the separated segment",m.M.zAa,{id:n}));};c.prototype.QWb=function(n){var q;q=this.j.Ja;if(null === q || void 0 === q || !q.ji)return Promise.reject(this.getError(m.N.VQ,"ASE session manager is not yet initialized",m.M.Dca,{id:n}));this.j.fireEvent(g.ea.P9,{$g:this.ja && this.ja.id,JO:n});if(q.Yr(n,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:n});return this.HVa(n);};c.prototype.RWb=function(n){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:n,mid:this.j.K,srcsegment:this.kJb()});return this.HVa(n);};c.prototype.HVa=function(n){var q,p;q=this;if(this.wx)return Promise.reject(this.getError(m.N.VQ,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",m.M.Xeb,{currentSegment:this.ja?this.ja.id:void 0,queuedSegment:this.wx.id,failedSegment:n}));if(!this.ja)return Promise.reject(this.getError(m.N.VQ,"Unable to queue segment for delayed seek because there is no currently playing segment",m.M.Teb,{nextSegmentid:n}));p=this.V.get(n);if(!p)return Promise.reject(this.getError(m.N.VQ,"Unable to find the separated segment",m.M.zAa,{nextSegmentid:n,currentSegmentId:this.ja.id}));this.wx={id:n,promise:new Promise(function(u,t){var w;q.kE=q.EO.PUa({s_a:function(){return (0,h.Nc)(100);}},function(){return q.X.tu() || 0;});w=q.Soa() - l.config.Z4a;q.log.trace("Adding moment for queued segment for delayed seek",{segment:n,pts:w});q.kE.observe(w,function(){q.log.trace("Moment has arrived, seek to segment",{segment:n,currentSegment:q.ja.id,playerEndPts:q.Soa(),pts:w});q.wx=void 0;q.xM();q.qZ(p,m.N.VQ).then(u).catch(t);});})};this.wx.promise.catch(function(u){q.j.Ld(u.code,u);});return Promise.resolve();};c.prototype.qZ=function(n,q){var p;p=this;return new Promise(function(u,t){var w;try{w=n.Aa;!1;p.X.seek(w,g.Pe.iC);u();}catch(v){t(p.getError(q,"Seek threw an exception",m.M.Web,{id:n.id,error:v}));}});};c.prototype.getError=function(n,q,p,u){this.log.warn(q,u);return new k(n,q,p,u);};b.TAa=c;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Kc=b.gp=void 0;(function(c){c[c.nj=0]="STOPPED";c[c.xd=1]="BUFFERING";c[c.Tf=2]="REBUFFERING";c[c.oj=3]="STREAMING";c[c.AS=4]="TRACK_SWITCH";})(a || (a={}));b.Kc=a;b.gp=function(c){return c === a.xd || c === a.Tf || c === a.AS;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(682),b);r.__exportStar(a(683),b);r.__exportStar(a(684),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.uea=void 0;r=b.uea || (b.uea={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.WB=1]="HAVE_SOMETHING";r[r.dy=2]="HAVE_MINIMUM";r[r.uK=3]="HAVE_ENOUGH";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.sa=void 0;r=a || (a={});r[r.Gh=0]="STARTING";r[r.xd=1]="BUFFERING";r[r.Tf=2]="REBUFFERING";r[r.Lc=3]="PLAYING";r[r.Hr=4]="STOPPING";r[r.nj=5]="STOPPED";r[r.qh=6]="PAUSED";b.sa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(705),b);r.__exportStar(a(706),b);r.__exportStar(a(707),b);r.__exportStar(a(708),b);r.__exportStar(a(709),b);r.__exportStar(a(710),b);r.__exportStar(a(711),b);r.__exportStar(a(712),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(714),b);r.__exportStar(a(715),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Wv=void 0;r=b.Wv || (b.Wv={});r[r.Skb=0]="PLAYGRAPH_CHANGED";r[r.Tkb=1]="PLAYGRAPH_UNCHANGED";r[r.dkb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.Qlb=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";r[r.Fhb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.Ehb=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.Rlb=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.meb=7]="APPENDED_PAST_TRUNCATION_POINT";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qAa=void 0;c=a(16);r=(function(){function f(k){this.config=k;}f.prototype.Dm=function(k,m){return this.config.SZ || m !== c.Kc.oj?k.filter(function(d){return d.lu;}):k;};return f;})();b.qAa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.TF=void 0;r=a(2);c=a(20);f=r.__importDefault(a(6));k=a(352);a=(function(){function m(d){this.console=d;this.zVa=[];this.BSa={};this.RVa=!1;}m.prototype.fr=function(d,g){this.zVa=d;void 0 !== g?this.BSa[g]=d:this.RVa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.RVa=!0);};m.prototype.Dm=function(d){var g,h,l,n,q;g=this;if(0 === d.length)return d;n=d[0].S;if(void 0 === n)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (h=f.default.Zt) || void 0 === h?void 0:h.call(f.default,n);}catch(p){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + p),d);}q=null !== (l=this.BSa[n]) && void 0 !== l?l:this.zVa;c.ia && this.console.trace("VideoBitrateRangesFilter: filtering " + d.length + " streams with " + JSON.stringify(q));d=d.filter(function(p){return k.ija(p.profile,p.bitrate,q,g.console).inRange;});c.ia && this.console.trace("VideoBitrateRangesFilter: ... " + d.length + " streams in range");return d;};return m;})();b.TF=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.rAa=void 0;r=(function(){function a(c){var f;f=this;c.eQ && c.eQ.enabled && c.eQ.profiles && c.eQ.profiles.length && "keepLowest" === c.eQ.action && (this.G2a={},c.eQ.profiles.forEach(function(k){return f.G2a[k]=!0;}));}a.prototype.Dm=function(c){var f,k;f={};k=this.G2a;return void 0 === k?c:c.filter(function(m){return !k[m.profile] || (f[m.profile]?!1:f[m.profile]=!0);});};return a;})();b.rAa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oAa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.Dm=function(c){var f;f=this.config;return c.filter(function(k){return !(void 0 !== k.xb && (k.xb < f.pI || k.xb > f.b4a) || (void 0 === k.xb || 0 >= f.pI) && k.bitrate < f.Usa || (void 0 === k.xb || Infinity === f.b4a) && k.bitrate > f.fQb);});};return a;})();b.oAa=r;},function(r,b,a){var f;function c(k,m){m=Math.max(k,m);return isNaN(m)?k || -Infinity:m;}Object.defineProperties(b,{__esModule:{value:!0}});b.bAa=void 0;f=a(16);r=(function(){function k(m){this.config=m;this.Z$=0;this.state=f.Kc.nj;this.$4a=c(m.Usa,m.q9);this.$sa=c(m.pI,m.EX);}k.prototype.Dm=function(m,d){var g;g=this;if(d !== this.state){this.state=d;if(d === f.Kc.xd || d === f.Kc.AS)return m;d === f.Kc.Tf && this.C8a();}return m.filter(function(h){return !(void 0 !== h.xb && h.xb < g.$sa || (void 0 === h.xb || 0 > g.$sa) && h.bitrate < g.$4a);});};k.prototype.C8a=function(){++this.Z$;this.$sa=c(this.config.pI,this.config.EX - this.config.hRb * this.Z$);this.$4a=this.config.Usa || -Infinity;};return k;})();b.bAa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nAa=void 0;c=a(25);r=(function(){function f(k){this.config=k;}f.prototype.V_b=function(k){return k % 100 + 1 <= this.config.tua;};f.prototype.Dm=function(k){var m,d,g,h,l,n,q,p,u,t,w;q=Number(null === (m=k[0]) || void 0 === m?void 0:m.K);if(!(this.config.L5 && this.V_b(q) && 0 < this.config.laa.length))return k;m=k.length;p=null !== (d=k[m - 1].kaa) && void 0 !== d?d:0;if(d=c.ie(this.config.laa,function(v){return v.sec >= p && v.E9a <= p;})){for(q=0;q < m;q++){u=k[Math.max(q - 1,0)];t=k[q];if(!((null !== (g=t.kaa) && void 0 !== g?g:0) < d.E9a || (null !== (h=u.kaa) && void 0 !== h?h:0) < d.E9a)){w=null !== (l=t.xb) && void 0 !== l?l:Infinity;u=null !== (n=u.xb) && void 0 !== n?n:Infinity;if(!(u < d.Cdc || u < d.Bdc && t.bitrate < d.maxBitrate || !w && t.bitrate < d.Zcc))break;}}return k.slice(0,q);}return k;};return f;})();b.nAa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$da=b.zca=void 0;c=a(25);b.zca={Dm:function(f){return f.filter(function(k){return k.Fu && !k.jA;});}};b.$da={Dm:function(f){return (f=c.ie(f,function(k){return ! !k.Fu && !k.jA;}))?[f]:[];}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.aea=void 0;b.aea={Dm:function(a){return [a[0]];}};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.hD=b.gD=void 0;c=a(354);f=a(99);b.gD=function(k,m){m && (null === k || void 0 === k?0:k.R0a) && (m=new f.zt(m).or(f.EF));return new f.zt(f.zca).and(null !== m && void 0 !== m?m:f.EF).or(f.$da,c.TK.sH).or(f.aea,c.TK.sH);};b.hD=function(k,m){m && k.R0a && (m=new f.zt(m).or(f.EF));return new f.zt(f.zca).and(new f.qAa(k)).and(new f.oAa(k)).and(new f.bAa(k)).and(new f.rAa(k)).and(k.L5?new f.nAa(k):f.EF).and(null !== m && void 0 !== m?m:f.EF).or(f.$da,c.TK.sH).or(f.aea,c.TK.sH);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(736),b);r.__exportStar(a(359),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Sza=void 0;c=a(2);r=(function(f){function k(m,d){m=f.call(this,k.wGb(m,d)) || this;m.gob=d;m.name="AggregateError";return m;}c.__extends(k,f);k.wGb=function(m,d){return d.reduce(function(g,h){return g + "\n" + h;},m);};Object.defineProperties(k.prototype,{R5:{get:function(){return this.gob;},enumerable:!1,configurable:!0}});return k;})(Error);b.Sza=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jKa=void 0;b.jKa=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.Pd,segments:a.FBb(c.V)},void 0 !== c.ce?{transitionType:c.ce}:{});};a.encode=function(c){return Object.assign({Pd:c.initialSegment,V:a.nEb(c.segments)},void 0 !== c.transitionType?{ce:c.transitionType}:{});};a.nEb=function(c){return Object.keys(c).reduce(function(f,k){f[k]=a.mEb(c[k]);return f;},{});};a.mEb=function(c){return Object.assign({S:c.viewableId,Aa:c.startTimeMs},c.endTimeMs?{Ba:c.endTimeMs}:{},c.defaultNext?{Md:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{ce:c.transitionType}:{},c.next?{next:a.kEb(c.next)}:{},c.exitZones?{zq:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{ci:c.uxSegment}:{});};a.kEb=function(c){return Object.keys(c).reduce(function(f,k){f[k]=a.lEb(c[k]);return f;},{});};a.lEb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{ce:c.transitionType}:{});};a.FBb=function(c){return Object.keys(c).reduce(function(f,k){f[k]=a.EBb(c[k]);return f;},{});};a.EBb=function(c){return Object.assign({viewableId:c.S,startTimeMs:c.Aa},c.Ba?{endTimeMs:c.Ba}:{},c.Md?{defaultNext:c.Md}:{},c.weight?{weight:c.weight}:{},c.ce?{transitionType:c.ce}:{},c.next?{next:a.CBb(c.next)}:{},c.zq?{exitZones:c.zq}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.ci?{uxSegment:c.ci}:{});};a.CBb=function(c){return Object.keys(c).reduce(function(f,k){f[k]=a.DBb(c[k]);return f;},{});};a.DBb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.ce?{transitionType:c.ce}:{});};return a;})();},function(r,b,a){var g;function c(h){return Object.keys(h.segments).some(function(l){return void 0 !== d(h.segments[l]);});}function f(h){return "delayedSeamless" === h?"lazy":h;}function k(h){return Object.keys(h).reduce(function(l,n){var q,p;q=h[n];p=q.weight;q=q.transitionType || q.transitionHint;n=l[n]={};void 0 !== p && (n.weight=p);q && (n.ce=f(q));return l;},{});}function m(h){var l,n;l=Object.keys(h);n=l.length;return n?l.reduce(function(q,p){return q + (h[p].weight || 0);},0) / n:void 0;}function d(h){var l;if(h.ui){l=h.ui.interactionZones;if((null === l || void 0 === l?0:l.length) && l[0].length)return l[0][0] - h.startTimeMs;h=h.ui.interactionZonesV2;if((null === h || void 0 === h?0:h.length) && h[0].length)return h[0][0];}else if(void 0 !== h.earliestSkipRequestOffset)return h.earliestSkipRequestOffset;}Object.defineProperty(b,"__esModule",{value:!0});b.rz=void 0;g=a(173);b.rz=function(h,l){var n,q,p,u,t,w;n=void 0 === l?{}:l;l=n.Cd;q=n.Pd;p=n.V;n=n.config;u=!(!n || -1 === n.Gna.indexOf(h.viewableId));t=c(h)?0:(null === n || void 0 === n?void 0:n.Fna) || 0;n=new g.ry();w=p || h.segments;n.qJ(null !== q && void 0 !== q?q:h.initialSegment).L$a(null !== l && void 0 !== l?l:h.mediaTypes).rxa(u?"immediate":f(h.transitionType)).lxa(Object.keys(w).reduce(function(v,x){var y,z,A,B,E,D;y=w[x];if(null === (z=y.weight) || void 0 === z){z=y.next && (u || (null === (B=y.exitZones) || void 0 === B?0:B.length))?m(y.next):void 0;}B=z;if(z=y.exitZones)E=void 0;else a:{if(u && y.endTimeMs){E=y.endTimeMs - y.startTimeMs;D=d(y);if(D && D < E){E=[[D,E]];break a;}if(t && E > t){E=[[E - t,E]];break a;}}E=void 0;}D=u?E?void 0:y.transitionHint || "lazy":y.transitionHint;B={S:h.viewableId,Aa:y.startTimeMs,Ba:null !== (A=y.endTimeMs) && void 0 !== A?A:Infinity,ce:f(D),zq:z || E,weight:B};y.defaultNext && (B.Md=y.defaultNext);y.next && (B.next=k(y.next));v[x]=B;return v;},{}));return n.ri();};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.HE=void 0;c=a(173);b.HE=function(f,k,m){var d;d=new c.ry();d.qJ(k).rxa("lazy").L$a(m).Yk(k,{S:f,Aa:0,Ba:Infinity});return d.ri();};},function(r,b,a){var f,k,m;function c(d,g,h){var l;l={};Object.keys(d).forEach(function(n){n !== g?l[n]=d[n]:l[h]=d[n];});return l;}Object.defineProperty(b,"__esModule",{value:!0});b.J4a=void 0;f=a(1);k=a(173);m=a(360);b.J4a=function(d,g){var h,l,n,q,p,u,t,w,v,x;l=Object.keys(g.V);m.assert(2 === l.length,"Unsupported content playgraph: must have 2 segments");n=g.Pd;q=l[0] === n?l[1]:l[0];l=g.V[n];p=g.V[q];u=p.S;m.assert(l.S !== u,"Unsupported content playgraph: must have different viewableIds");t=new k.ry();t.lxa(d.V,function(y){return y.S !== u;});t.gRa(d.V,function(y){return y.S === u && y.Aa >= p.Aa && (!p.Ba || ! !y.Ba && (Infinity === y.Ba || y.Ba <= p.Ba));});g=Object.keys(d.V).filter(function(y){return !t.ZKb(y);});m.assert(1 >= g.length,"Unsupported content playgraph: more than one source playgraph segment not contained in content playgraph main segment");if(0 < g.length){w=g[0];g=d.V[w];v=w + ":" + n;if(!g.Ba || g.Ba > p.Aa){x=w + ":" + q;t.Yk(v,f.__assign(f.__assign({},l),{ci:w,Md:x,next:(h={},h[x]={},h)}));t.Yk(x,f.__assign(f.__assign({},g),{ci:w,Aa:p.Aa}));}else t.Yk(v,f.__assign(f.__assign({},l),{ci:w,Md:g.Md,next:(x={},x[g.Md]={},x)}));Object.keys(d.V).forEach(function(y){var z,A;A=d.V[y];void 0 !== (null === (z=A.next) || void 0 === z?void 0:z[w]) && t.Yk(y,f.__assign(f.__assign({},A),{Md:A.Md === w?v:A.Md,next:c(A.next,w,v)}));});t.qJ(d.Pd === w?v:d.Pd);}else t.qJ(d.Pd);return t.ri();};},function(r,b,a){var m,d,g,h,l;function c(n,q,p){var u,t,w,v,x,y,z,A,B,E,D,F,G,C;u=f(n,q,p);if(u)return u;t=n.V[p.H];u=p.offset;w=Object.keys(q.V).filter(function(H){return q.V[H].ci === p.H;});v=[];w.forEach(function(H){var M,I;function K(Q){Q=d.f6(q,Q);null === Q || void 0 === Q?void 0:Q.forEach(function(L){var J,N;if(q.V[L].ci !== p.H){J=q.V[L];N=J.Aa;(N=(J=J.Ba)?k(n,q,{H:L,offset:J - N}):void 0) && v.push(N);N || (N=k(n,q,{H:L,offset:0})) && v.push(N);K(L);}});}M=q.V[H];I=M.Aa;(I=(M=M.Ba)?k(n,q,{H:H,offset:M - I}):void 0) && v.push(I);(M=k(n,q,{H:H,offset:0})) && v.push(M);M || I || K(H);});h.assert(0 < v.length,"No point before the content position that can be directly mapped from combined to ux playgraph founc");x=t.Aa + u;z=Infinity;v.forEach(function(H){var K;K=x - (n.V[H.H].Aa + H.offset);0 < K && K < z && (z=K,y=H);});A=[];w.forEach(function(H){var M,I,Q;function K(L){Object.keys(q.V[L].next || ({})).forEach(function(J){var N,O,P;if(q.V[J].ci !== p.H){N=q.V[J];O=N.Aa;N=N.Ba;P=k(n,q,{H:J,offset:0});P && A.push(P);P || (J=N?k(n,q,{H:J,offset:N - O}):void 0) && A.push(J);}K(L);});}M=q.V[H];I=M.Aa;Q=M.Ba;(M=k(n,q,{H:H,offset:0})) && A.push(M);(I=Q?k(n,q,{H:H,offset:Q - I}):void 0) && A.push(I);M || I || K(H);});h.assert(0 < A.length,"No point after the content position that can be directly mapped from combined to ux playgraph found");E=Infinity;A.forEach(function(H){var K;K=n.V[H.H].Aa + H.offset - x;0 < K && K < E && (E=K,B=H);});h.assert(y);h.assert(B);u=f(n,q,y);h.assert(u,"Segment not found in the combined playgraph");D=q.V[u.H];h.assert(D.Ba,"Segment of nearest point before the content position in combined playgraph must have endTimeMs");u.offset === D.Ba - D.Aa && (u={H:D.Md,offset:0},D=q.V[u.H]);F=f(n,q,B);h.assert(F,"Segment not found in the combined playgraph");w=q.V[F.H];0 === F.offset && (F=d.NXa(q,F.H),h.assert(F,"Segment of nearest point after the content position in combined playgraph must have a predecessor"),w=q.V[F],h.assert(w.Ba,"Predecessor of the segment of nearest point after the content position in combined playgraph must have endTimeMs"),F={H:F,offset:w.Ba - w.Aa});G=n.V[y.H].Aa + y.offset;D=D.Aa + u.offset;C=D + (x - G) / (n.V[B.H].Aa + B.offset - G) * (w.Aa + F.offset - D);u=u.H === F.H?u.H:g.ie(Object.keys(q.V).filter(function(H){return q.V[H].S !== t.S;}),function(H){var K;H=q.V[H];K=H.Ba;return C >= H.Aa && K && C <= K;});h.assert(u,"Segment not found in the combined playgraph");return {H:u,offset:C - q.V[u].Aa};}function f(n,q,p){var u,t,w,v,x,y,z;t=n.V[p.H];h.assert(t,"Graph position " + p.H + " does not exist in UX playgraph");w=p.offset;h.assert(0 <= w,"Graph position offset " + w + " cannot be negative");h.assert(!t.Ba || w <= t.Ba - t.Aa,"Graph position " + w + " offset outside segment");if(q.V[p.H])return p;v=Object.keys(q.V).filter(function(A){return q.V[A].ci === p.H;});h.assert(0 < v.length,"No segments found in combined playgraph that point back to the ux segment");x=t.Aa + w;y=v.filter(function(A){return q.V[A].S === t.S;}).map(function(A){return [A,q.V[A]];}).filter(function(A){A=m.__read(A,2)[1];return x >= A.Aa;});if(y=g.ie(y,function(A){A=m.__read(A,2)[1];return !A.Ba || ! !A.Ba && x <= A.Ba;})){z=m.__read(y,2);n=z[0];v=z[1];w=isFinite(x)?x:null !== (u=v.Ba) && void 0 !== u?u:Infinity;z=w - v.Aa;h.assert(0 <= z,"Content playgrah graph position offset cannot be negative");return {H:n,offset:z};}y=v.filter(function(A){return q.V[A].S !== t.S;});if(0 === w && !l.mna(n,p.H) && (u=g.ie(y,function(A){return 0 === d.f6(q,A).length;}),void 0 !== u))return {H:u,offset:0};if(t.Ba){if(!(t.Ba - t.Aa !== p.offset || t.Md && n.V[t.Md]) && (u=g.ie(y,function(A){return !q.V[A].next || 0 === Object.keys(q.V[A].next).length;}),void 0 !== u))return (n=q.V[u],z=n.Aa,n=n.Ba,h.assert(n,"Content playgraph segments from other viewables must have end time"),{H:u,offset:n - z});}else if((u=m.__read(v.map(function(A){return [A,q.V[A]];}).sort(function(A,B){A=m.__read(A,2)[1];B=m.__read(B,2)[1];return B.Ba?A.Ba?B.Ba - A.Ba:-1:A.Ba?1:0;}),1),y=u[0]))return (u=m.__read(y,2),n=u[0],v=u[1],w=isFinite(x)?x:null !== (z=v.Ba) && void 0 !== z?z:Infinity,z=w - v.Aa,h.assert(0 <= z,"Content playgrah graph position offset cannot be negative"),{H:n,offset:z});}function k(n,q,p){var u,t;u=q.V[p.H];h.assert(u,"Graph position does not exist in combined playgraph");t=p.offset;h.assert(0 <= t,"Graph position offset cannot be negative");h.assert(!u.Ba || t <= u.Ba - u.Aa,"Graph position offset outside segment");if(void 0 === u.ci)return p;n=n.V[u.ci];h.assert(n,"Referenced ux playgraph segment must exist");if(u.S === n.S)return {H:u.ci,offset:u.Aa + t - n.Aa};if(0 === t && (p=d.f6(q,p.H),0 === t && 0 === p.length))return {H:u.ci,offset:0};if(!u.Md || !q.V[u.Md])return {H:u.ci,offset:n.Ba?n.Ba - n.Aa:Infinity};}Object.defineProperty(b,"__esModule",{value:!0});b.UYa=b.zdb=b.WTa=void 0;m=a(1);d=a(57);g=a(362);h=a(360);l=a(361);b.WTa=function(n,q,p){var u,t;u=q.V[p.H];t=k(n,q,p);if(t)return t;h.assert(u.ci,"Combined playgraph must reference a ux playgraph segment since no direct mapping was possible");n=n.V[u.ci];h.assert(n,"Referenced ux playgraph segment must exist");h.assert(u.Ba,"Content playgraph segments from other viewables must have end time");t=u.Md && q.V[u.Md];if(!t)return (h.assert(n.Ba,"Must have definite end time to add terminal content playgraph segment"),{H:u.ci,offset:n.Ba - n.Aa});q=(q=l.mna(q,p.H))?q.S !== n.S?n.Aa:q.Ba:0;if(null === q || void 0 === q)return (h.assert(n.Ba,"Experience playgraph segment must have end time"),{H:u.ci,offset:n.Ba - n.Aa});n=t.S !== n.S?n.Ba:t.Aa;null !== n && void 0 !== n || h.assert(n,"Experience playgraph segment must have end time");return {H:u.ci,offset:q + p.offset / (u.Ba - u.Aa) * (n - q)};};b.zdb=c;b.UYa=function(n,q,p){var u,t,w;return m.__generator(this,function(v){switch(v.label){case 0:(u=c(n,q,p),t=q.V[u.H],w=u.H,v.label=1);case 1:return [4,w];case 2:(v.Ac(),w=t.Md,t=q.V[w],v.label=3);case 3:if((null === t || void 0 === t?void 0:t.ci) === p.H && w !== u.H)return [3,1];v.label=4;case 4:return [2];}});};},function(r,b,a){var c,f,k,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.NGa=void 0;c=a(2);f=a(17);k=a(223);m=a(357);r=c.__importDefault(a(6));d=a(770);r=new r.default.Console("ASEJS","media|asejs");r.trace.bind(r);g=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];r=(function(h){function l(n,q){var p;p=h.call(this) || this;p.J=n;p.Sh=new d.SFa(n,q);n.eN && p.rUa(q);p.dh=new f.gi();g.forEach(function(u){p.dh.on(p.Sh,u,function(t){return p.emit(u,t);});p.Wm && p.dh.on(p.Wm,u,function(t){return p.emit(u,t);});});return p;}c.__extends(l,h);Object.defineProperties(l.prototype,{Rb:{get:function(){return this.Sh.Rb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Wn:{get:function(){return this.Sh.Wn;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{rv:{get:function(){return this.Sh.rv;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{sB:{get:function(){return this.Sh.sB;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{dra:{get:function(){return this.Sh.dra;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{IE:{get:function(){return this.Sh.IE;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Jf:{get:function(){return this.Sh.Jf;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Th:{get:function(){return this.Sh.Th;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bqa:{get:function(){return this.Sh.bqa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{oX:{get:function(){return this.Sh.oX.bind(this.Sh);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{y6:{get:function(){return this.Sh.y6.bind(this.Sh);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{hka:{get:function(){var n;n=this;return function(){n.C9a();n.Sh.hka();};},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ZC:{get:function(){var n;n=this;return function(){n.C9a();n.Sh.ZC();};},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{cq:{get:function(){var n;n=this;return function(q,p,u){var t;null === (t=n.Jf) || void 0 === t?void 0:t.cq(q,p,u);};},enumerable:!1,configurable:!0}});l.prototype.rUa=function(n){return this.Wm=new (a(893).KLa)(this.J,this.ZC,this.cq,n);};l.prototype.Fb=function(n,q,p,u,t,w,v,x){void 0 === v && (v=262144);void 0 === x && (x=1048576);this.Sh.Fb(n,q,p,u,t,w);this.Wm?this.Wm.Fb(n,q,p,u,t,w,v,x):this.N2a={mub:n,S4b:q,Hw:p,sB:u,IE:t,KQb:w,wja:v,rza:x};};l.prototype.EZ=function(n,q,p){this.Sh.EZ(n,q,p);this.Wm?this.Wm.EZ(n,q,p):this.T2a={d1b:n,sB:q,IE:p};};l.prototype.createSession=function(n,q,p,u,t,w,v,x,y,z){var A,B,E,D,F;A=this;x || (x=this.Sh.config);if(x.eN && !this.Wm){B=this.rUa(this.Sh.RE);g.forEach(function(G){A.dh.on(A.Wm,G,function(C){return A.emit(G,C);});});if(this.N2a){E=this.N2a;D=E.sB;F=E.IE;B.Fb(E.mub,E.S4b,E.Hw,D,F,E.KQb,E.wja,E.rza);}this.T2a && (F=this.T2a,E=F.d1b,D=F.sB,F=F.IE,B.EZ(E,D,F));}return this.Wm && x && x.B_?(x.Tr || x.xI || this.Sh.ZC(),this.Wm.createSession(n,q,p,u,t,w,v,x,y,z)):this.Sh.createSession(n,q,p,u,t,w,v,x,y,z);};l.prototype.Nx=function(n,q,p){if(this.Wm)return this.Wm.Nx(n,q,p);throw Error("Update viewable not supported in legacy.");};l.prototype.addEventListener=function(n,q){this.addListener(n,q);return !0;};l.prototype.removeEventListener=function(n,q){this.removeListener(n,q);return !0;};l.prototype.Ib=function(){var n;this.dh.clear();this.Sh.Ib();null === (n=this.Wm) || void 0 === n?void 0:n.Ib();k.jK.reset();};l.prototype.C9a=function(){var n,q;this.J.Tr || this.J.xI || (null === (n=this.Wm) || void 0 === n?void 0:n.Ja.state) !== m.qo.OPEN || (null === (q=this.Wm) || void 0 === q?void 0:q.Ja.av.reset());};return l;})(f.EventEmitter);b.NGa=r;},function(r){function b(c,f,k,m){c.trace(":",k,":",m);f(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,f,k,m){k=m?k.bind(m):k;if(c){this.console && (k=b.bind(null,this.console,k,f));if("function" === typeof c.addListener)c.addListener(f,k);else if("function" === typeof c.addEventListener)c.addEventListener(f,k);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,k]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var k,m;k=f[0];m=f[1];f=f[2];"function" === typeof k.removeEventListener?k.removeEventListener(m,f):"function" === typeof k.removeListener && k.removeListener(m,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){r.exports={Elb:a(748),j6b:a(749)};},function(r,b,a){function c(g){this.data=g;this.right=this.left=null;this.red=!0;}function f(g){this.ef=null;this.un=g;this.size=0;}function k(g){return null !== g && g.red;}function m(g,h){var l;l=g.xh(!h);g.gr(!h,l.xh(h));l.gr(h,g);g.red=!0;l.red=!1;return l;}function d(g,h){g.gr(!h,m(g.xh(!h),!h));return m(g,h);}b=a(363);c.prototype.xh=function(g){return g?this.right:this.left;};c.prototype.gr=function(g,h){g?this.right=h:this.left=h;};f.prototype=new b();f.prototype.Hq=function(g){var h,l,n,q,p,u,t,w,v;h=!1;if(null === this.ef)(this.ef=new c(g),h=!0,this.size++);else {l=new c(void 0);n=0;q=0;p=null;u=l;t=null;w=this.ef;for(u.right=this.ef;;){null === w?(w=new c(g),t.gr(n,w),h=!0,this.size++):k(w.left) && k(w.right) && (w.red=!0,w.left.red=!1,w.right.red=!1);if(k(w) && k(t)){v=u.right === p;w === t.xh(q)?u.gr(v,m(p,!q)):u.gr(v,d(p,!q));}v=this.un(w.data,g);if(0 === v)break;q=n;n=0 > v;null !== p && (u=p);p=t;t=w;w=w.xh(n);}this.ef=l.right;}this.ef.red=!1;return h;};f.prototype.remove=function(g){var h,l,t,w,v;if(null === this.ef)return !1;h=new c(void 0);l=h;l.right=this.ef;for(var n=null,q,p=null,u=1;null !== l.xh(u);){t=u;q=n;n=l;l=l.xh(u);w=this.un(g,l.data);u=0 < w;0 === w && (p=l);if(!k(l) && !k(l.xh(u)))if(k(l.xh(!u)))(q=m(l,u),n.gr(t,q),n=q);else if(!k(l.xh(!u)) && (w=n.xh(!t),null !== w))if(k(w.xh(!t)) || k(w.xh(t))){v=q.right === n;k(w.xh(t))?q.gr(v,d(n,t)):k(w.xh(!t)) && q.gr(v,m(n,t));t=q.xh(v);t.red=!0;l.red=!0;t.left.red=!1;t.right.red=!1;}else (n.red=!1,w.red=!0,l.red=!0);}null !== p && (p.data=l.data,n.gr(n.right === l,l.xh(null === l.left)),this.size--);this.ef=h.right;null !== this.ef && (this.ef.red=!1);return null !== p;};r.exports=f;},function(r,b,a){function c(k){this.data=k;this.right=this.left=null;}function f(k){this.ef=null;this.un=k;this.size=0;}b=a(363);c.prototype.xh=function(k){return k?this.right:this.left;};c.prototype.gr=function(k,m){k?this.right=m:this.left=m;};f.prototype=new b();f.prototype.Hq=function(k){if(null === this.ef)return (this.ef=new c(k),this.size++,!0);for(var m=0,d=null,g=this.ef;;){if(null === g)return (g=new c(k),d.gr(m,g),ret=!0,this.size++,!0);if(0 === this.un(g.data,k))return !1;m=0 > this.un(g.data,k);d=g;g=g.xh(m);}};f.prototype.remove=function(k){var m,d,n;if(null === this.ef)return !1;m=new c(void 0);d=m;d.right=this.ef;for(var g=null,h=null,l=1;null !== d.xh(l);){g=d;d=d.xh(l);n=this.un(k,d.data);l=0 < n;0 === n && (h=d);}return null !== h?(h.data=d.data,g.gr(g.right === d,d.xh(null === d.left)),this.ef=m.right,this.size--,!0):!1;};r.exports=f;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.MHa=void 0;c=a(25);f=a(4);r=(function(){function k(){this.data={};}Object.defineProperties(k.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{size:{get:function(){var m;m=this;return Object.keys(this.data).reduce(function(d,g){return d + m.data[g].length;},0);},enumerable:!1,configurable:!0}});k.prototype.get=function(m){var d;return null !== (d=this.data[m]) && void 0 !== d?d:[];};k.prototype.has=function(m,d){return (m=this.data[m])?void 0 === d?!0:-1 !== m.indexOf(d):!1;};k.prototype.count=function(m){return (m=this.data[m])?m.length:0;};k.prototype.keys=function(){return Object.keys(this.data);};k.prototype.values=function(){var m;m=this;return c.flatten(this.keys().map(function(d){return m.data[d];}));};k.prototype.set=function(m,d){(this.data[m] || (this.data[m]=[])).push(d);return this;};k.prototype.clear=function(){this.data={};};k.prototype.delete=function(m,d){var g,h;g=this.data[m];if(void 0 === g)return !1;if(void 0 === d)return (f.assert(1 === arguments.length),delete this.data[m],!0);h=g.indexOf(d);if(-1 === h)return !1;1 === g.length?delete this.data[m]:g.splice(h,1);return !0;};k.prototype.forEach=function(m,d){var g;g=this;m=void 0 !== d?m.bind(d):m;this.keys().forEach(function(h){return g.data[h].forEach(function(l){return m(l,h,g);});});};k.prototype.reduce=function(m,d,g){var h,l;h=this;m=void 0 !== g?m.bind(g):m;l=d;this.forEach(function(n,q){l=m(l,n,q,h);});return l;};k.prototype.map=function(m,d){var g;g=this;m=void 0 !== d?m.bind(d):m;return c.flatten(this.keys().map(function(h){return g.data[h].map(function(l){return m(l,h,g);});}));};k.prototype.filter=function(m,d){var g;g=this;m=void 0 !== d?m.bind(d):m;return c.flatten(this.keys().map(function(h){return g.data[h].filter(function(l){return m(l,h,g);});}));};return k;})();b.MHa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.QXa=void 0;b.QXa=function(a,c){return a.filter(function(f){var k,m;f=null !== (m=null !== (k=f.Pg) && void 0 !== k?k:f.ss) && void 0 !== m?m:f.Nf;return ! !f && f.mO(c);}).pop();};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.OLa=b.NLa=void 0;c=a(25);r=(function(){function f(k){this.G=k;this.listeners=[];this.dY=[];}Object.defineProperties(f.prototype,{value:{get:function(){return this.G;},enumerable:!1,configurable:!0}});f.prototype.set=function(k){var m;this.G=k;m=this.dY;this.dY=[];this.listeners.forEach(function(d){return d(k);});m.forEach(function(d){return d(k);});};f.prototype.D9a=function(){this.G=void 0;};f.prototype.on=function(k){this.listeners=this.listeners.concat([k]);void 0 !== this.G && k(this.G);};f.prototype.once=function(k){void 0 !== this.G?k(this.G):this.dY.push(k);};f.prototype.SA=function(k){this.listeners=this.listeners.filter(function(m){return m !== k;});this.dY=this.dY.filter(function(m){return m !== k;});};return f;})();b.NLa=r;r=(function(){function f(){this.listeners=[];}f.prototype.on=function(k,m){this.listeners.push({signal:k,listener:m});k.on(m);};f.prototype.once=function(k,m){var d,g;d=this;if(void 0 === k.value){g=function(h){d.remove(k,m);m(h);};this.listeners.push({signal:k,listener:m,$db:g});k.once(g);}else k.once(m);};f.prototype.SA=function(k,m){var d,g;g=c.ie(this.listeners,function(h){return h.signal === k && h.listener === m;});void 0 !== g && k.SA(null !== (d=g.$db) && void 0 !== d?d:g.listener);this.remove(k,m);};f.prototype.removeAllListeners=function(){this.listeners.forEach(function(k){var m,d;m=k.listener;d=k.$db;return k.signal.SA(null !== d && void 0 !== d?d:m);});this.listeners=[];};f.prototype.remove=function(k,m){this.listeners=this.listeners.filter(function(d){return d.signal !== k || d.listener !== m;});};return f;})();b.OLa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mR=b.Xqa=void 0;b.Xqa=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};r=(function(){function a(){var c;c=this;this.dQa=!1;this.promise=new Promise(function(f){c.prb=f;});}Object.defineProperties(a.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{H9a:{get:function(){return this.dQa;},enumerable:!1,configurable:!0}});a.prototype.resolve=function(c){this.dQa=!0;this.prb(c);};return a;})();b.mR=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xVa=void 0;b.xVa=function(a){return JSON.parse(JSON.stringify(a));};},function(r,b,a){var f;function c(k,m,d){var g,l,n;if(k === m || !d.no && k == m)return !0;if(typeof k !== typeof m)return !1;if(k && "object" === typeof k){for(var h in k){if(!c(k[h],m[h],d))return !1;}if(!d.Jwb){l=Object.keys(k);n=Object.keys(m).filter(function(t){return 0 > l.indexOf(t);});try{for(var q=f.__values(n),p=q.next();!p.done;p=q.next()){if((h=p.value,!c(k[h],m[h],d)))return !1;}}catch(t){var u;u={error:t};}finally{try{p && !p.done && (g=q.return) && g.call(q);}finally{if(u)throw u.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.l5=void 0;f=a(2);b.l5=function(k,m,d){void 0 === d && (d={});d=f.__assign({no:!1,Jwb:!1},d);return c(k,m,d);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.X1=void 0;r=(function(){function a(){this.count=0;this.max=this.min=this.Ha=NaN;}Object.defineProperties(a.prototype,{Ks:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.Ha=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.Ha+=(c - this.Ha) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.Ha};};return a;})();b.X1=r;},function(r,b,a){var f;function c(k){this.EP=new Uint16Array(k.length);for(var m=0;m < k.length;++m){this.EP[m]=k.charCodeAt(m);}}f=new (a(6).default.Console)("ASEJS_XORCiper","media|asejs");c.prototype.constructor=c;c.prototype.encrypt=function(k){var m;m=this.EP.length;if(void 0 === this.EP)f.warn("XORCiper.encrypt is called with undefined secret!");else {for(var d="",g=0;g < k.length;++g){d+=String.fromCharCode(this.EP[g % m] ^ k.charCodeAt(g));}return encodeURIComponent(d);}};c.prototype.decrypt=function(k){var m,d;m="";d=this.EP.length;k=decodeURIComponent(k);for(var g=0;g < k.length;g++){m+=String.fromCharCode(this.EP[g % d] ^ k.charCodeAt(g));}return m;};r.exports=c;},function(r){function b(a,c){this.Ha=a;this.kj=c;}b.prototype.Pua=function(a){var c,f,k,m,g,h;c=this.Ha;f=Math.sqrt(2 * this.kj);a*=2;if(2 <= a)a=-100;else if(0 >= a)a=100;else {k=1 > a?a:2 - a;m=Math.sqrt(-2 * Math.log(k / 2));m=-.70711 * ((2.30753 + .27061 * m) / (1 + m * (.99229 + .04481 * m)) - m);for(var d=0;2 > d;d++){g=Math.abs(m);h=1 / (1 + g / 2);g=h * Math.exp(-g * g - 1.26551223 + h * (1.00002368 + h * (.37409196 + h * (.09678418 + h * (-.18628806 + h * (.27886807 + h * (-1.13520398 + h * (1.48851587 + h * (-.82215223 + .17087277 * h)))))))));g=(0 <= m?g:2 - g) - k;m+=g / (1.1283791670955126 * Math.exp(-(m * m)) - m * g);}a=1 > a?m:-m;}return c - f * a;};r.exports=b;},function(r,b,a){var k,m,d,g;function c(h,l,n){k.call(this,h,l,n);}function f(h,l){m.call(this,new c(h,l,!1));}k=a(760);m=a(761);d=a(117).RGb;g=a(117).gKb;c.prototype=Object.create(k.prototype);c.prototype.Ha=function(){return Math.floor(8 * d(this.Sd) / this.Jd);};c.prototype.kj=function(){return Math.floor(64 * g(this.Sd) / (this.Jd * this.Jd));};c.prototype.get=function(){return {Ha:this.Ha(),kj:this.kj(),Mac:this.Sd.length};};c.prototype.toString=function(){return "bsw(" + this.aM + "," + this.Jd + "," + this.jk + ")";};f.prototype=Object.create(m.prototype);f.prototype.setInterval=function(h){this.pL.setInterval(h);};r.exports=f;},function(r){function b(a,c,f){this.aM=a;this.jk=Math.floor((a + c - 1) / c);this.Jd=c;this.Xqb=f;this.reset();}b.prototype.shift=function(){this.Sd.shift();this.li.shift();};b.prototype.update=function(a,c){this.Sd[a]+=c;};b.prototype.push=function(a){this.Sd.push(0);this.li.push(a?a:0);this.Db+=this.Jd;};b.prototype.add=function(a,c,f,k){var m,d;if(null === this.Db){m=Math.max(Math.floor((f - c + this.Jd - 1) / this.Jd),1);for(this.Db=c;this.Sd.length < m;){this.push(k);}}for(;this.Db < f;){if((this.push(k),this.Xqb))for(;1 < this.Sd.length && f + k - (this.Db - this.Jd * this.Sd.length + this.li[0]) > this.aM;){this.shift();}else this.Sd.length > this.jk && this.shift();}if(c > this.Db - this.Jd)this.update(this.Sd.length - 1,a);else if(c == f)(k=this.Sd.length - Math.max(Math.ceil((this.Db - f) / this.Jd),1),0 <= k && this.update(k,a));else for(k=1;k <= this.Sd.length;++k){m=this.Db - k * this.Jd;d=m + this.Jd;if(!(m > f)){if(d < c)break;this.update(this.Sd.length - k,Math.round(a * (Math.min(d,f) - Math.max(m,c)) / (f - c)));}}for(;this.Sd.length > this.jk;){this.shift();}};b.prototype.reset=function(){this.Sd=[];this.li=[];this.Db=null;};b.prototype.setInterval=function(a){this.jk=Math.floor((a + this.Jd - 1) / this.Jd);};r.exports=b;},function(r){function b(a){this.pL=a;this.Re=0;this.VL=null;}b.prototype.add=function(a,c,f){null !== this.VL && c > this.VL && (this.Re+=c - this.VL,this.VL=null);this.pL.add(a,c - this.Re,f - this.Re,this.Re);};b.prototype.stop=function(a){null === this.VL && (this.VL=a);};b.prototype.Rua=function(a,c){return this.pL.Rua(a,c);};b.prototype.get=function(){return this.pL.get();};b.prototype.reset=function(){this.pL.reset();};b.prototype.toString=function(){return this.pL.toString();};r.exports=b;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p;function c(u){this.Tnb=u;}b=a(366);f=b.ihb;k=b.ghb;m=a(226).hhb;d=a(226).Imb;g=a(367);h=a(368);l=a(369).uMa;n=a(763);q=a(764);p=a(175);c.prototype.constructor=c;c.prototype.create=function(u,t){var w,v,x,y;w=this.Tnb[u];v=t[u];x={};w && Object.keys(w).forEach(function(z){x[z]=w[z];});v && Object.keys(v).forEach(function(z){x[z]=v[z];});switch(x.type){case "slidingwindow":y=new m(x.mw);break;case "discontiguous-ewma":y=new k(x.mw);break;case "wssl":y=new d(x.mw,x.max_n);break;case "iqr":y=new g(x.mx,x.mn,x.bw,x.iv);break;case "tdigest":y=new h(x);break;case "discrete-ewma":y=new f(x.hl);break;case "tdigest-history":y=new l(x);break;case "iqr-history":y=new n(x);break;case "avtp":y=new p();break;case "entropy":y=new q(x);}y && (y.type=x.type);return y;};r.exports=c;},function(r,b,a){var f;function c(){this.fk=void 0;this.HC=0;}f=a(10);c.prototype.getState=function(){return 0 !== this.HC && this.fk?{p25:this.fk.Sl,p50:this.fk.Fk,p75:this.fk.Tl,c:this.HC}:null;};c.prototype.Xe=function(k){if(!(!f.Kb(k) && f.has(k,"p25") && f.has(k,"p50") && f.has(k,"p75") && f.has(k,"c") && f.isFinite(k.p25) && f.isFinite(k.p50) && f.isFinite(k.p75) && f.isFinite(k.c)))return (this.fk=void 0,this.HC=0,!1);this.fk={Sl:k.p25,Fk:k.p50,Tl:k.p75};this.HC=k.c;};c.prototype.get=function(){return {w$:this.fk,Awa:this.HC};};c.prototype.set=function(k,m){this.fk=k;this.HC=m;};c.prototype.reset=function(){this.fk=void 0;this.HC=0;};c.prototype.toString=function(){return "IQRHist(" + this.fk + "," + this.HC + ")";};r.exports=c;},function(r,b,a){var f;function c(k){var m,d;m=k.sw;d=k.mw;this.$L=m;this.nga={uhd:k.uhdl,hd:k.hdl};this.jk=Math.max(Math.ceil(1 * m / d),1);this.ypb=k.mins || 1;f.call(this,m,d);this.reset();}f=a(144);new (a(6).default.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(f.prototype);c.prototype.flush=function(){this.Sd.map(function(k,m){this.iRa(k,this.Tna(m));},this);};c.prototype.Ivb=function(){var k,m,d,g,h,l,n,t;k=this.nga;for(m in k){if(k.hasOwnProperty(m)){d=k[m];g=this.pia[m];h=this.oia[m];if(g.first){l=g.first;n=g.SI;void 0 !== n && (h[l][n]+=1);g.first=void 0;}g=[];l=0;d=n=d.length + 1;for(var q=0;q < n;q++){for(var p=0,u=0;u < d;u++){p+=h[u][q];}l+=p;g.push(p);}p=-1;if(l > this.ypb){for(q=p=0;q < n;q++){if(0 < g[q])for(u=0;u < d;u++){t=h[u][q];0 < t && (p-=t * Math.log(1 * t / g[q]));}}p/=l * Math.log(2);}this.Nga[m]=p;}}return this.Nga;};c.prototype.iRa=function(k,m){var l,n;for(var d=this.jk,g=this.nga;this.G2.length >= d;){this.G2.shift();}for(;this.H2.length >= d;){this.H2.shift();}this.G2.push(k);this.H2.push(m);k=this.G2.reduce(function(q,p){return q + p;},0);m=this.H2.reduce(function(q,p){return q + p;},0);if(0 < m){k=8 * k / m;for(var h in g){if(g.hasOwnProperty(h)){m=this.pia[h];d=this.oia[h];l=this.NWb(k,g[h]);n=m.SI;void 0 !== n?d[l][n]+=1:m.first=l;m.SI=l;}}}};c.prototype.NWb=function(k,m){for(var d=0;d < m.length && k > m[d];){d+=1;}return d;};c.prototype.shift=function(){this.iRa(this.Sd[0],this.Tna(0));f.prototype.shift.call(this);};c.prototype.reset=function(){var k,m,d,g,h,l,n;this.pia={};this.G2=[];this.H2=[];this.oia={};this.Nga={};k=this.nga;for(m in k){if(k.hasOwnProperty(m)){d=this.oia;g=m;l=void 0;n=Array(l);l=h=k[m].length + 1;for(var q=0;q < l;q++){n[q]=Array(h);for(var p=0;p < h;p++){n[q][p]=0;}}d[g]=n;this.pia[m]={first:void 0,SI:void 0};this.Nga[m]=0;}}f.prototype.reset.call(this);};r.exports=c;},function(r,b,a){var f,k;function c(m){this.J=m;this.qT();}f=a(10);k=a(6).default;new k.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var m;m=this.getState();k.storage.set("nh",m);};c.prototype.L0b=function(){this.wG || (this.wG=!0,this.Oy=k.time.fa());};c.prototype.S0b=function(){var m;if(this.wG){m=k.time.fa();this.Uy+=m - this.Oy;this.Oy=m;this.wG=!1;this.pT=null;}};c.prototype.E1a=function(m,d){this.wG && (d > this.Oy && (this.Uy+=d - this.Oy,this.Oy=d),null === this.pT || m > this.pT) && (m=d - m,this.CL.push([this.Uy - m,m]),this.Srb(),this.pT=d);};c.prototype.Srb=function(){var m;m=this.Uy - this.J.RRb;this.CL=this.CL.filter(function(d){return d[0] > m;});};c.prototype.qT=function(){var m;m=k.storage.get("nh");this.gia(m) || (this.Oy=k.time.fa(),this.Uy=0,this.wG=!1,this.pT=null,this.CL=[]);};c.prototype.gia=function(m){if(!(m && f.has(m,"t") && f.has(m,"s") && f.has(m,"i") && f.Ea(m.t) && f.Ea(m.s) && f.isArray(m.i)))return !1;this.Oy=k.time.yta(1E3 * m.t);this.Uy=1E3 * m.s;this.wG=!1;this.CL=m.i.map(function(d){return [1E3 * d[0],d[1]];});this.pT=null;return !0;};c.prototype.getState=function(){return this.wG?{t:k.time.now() / 1E3 | 0,s:(this.Uy + (k.time.fa() - this.Oy)) / 1E3 | 0,i:this.CL.map(function(m){return [m[0] / 1E3 | 0,m[1]];})}:{t:k.time.bta(this.Oy) / 1E3 | 0,s:this.Uy / 1E3 | 0,i:this.CL.map(function(m){return [m[0] / 1E3 | 0,m[1]];})};};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.wDa=void 0;r=a(2);c=a(767);new (r.__importDefault(a(6)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var K00;K00=2;for(;K00 !== 7;){switch(K00){case 4:f.prototype.vw=function(k,m,d,g){var P00;P00=2;for(;P00 !== 1;){switch(P00){case 2:g.vi && (this.jqa?this.QE.add(k,m,d,g.vi):this.aU === g.vi && this.QE.add(k,m,d,g.vi));P00=1;break;}}};f.prototype.uu=function(){var Q00;Q00=2;for(;Q00 !== 1;){switch(Q00){case 2:return this.QE.get();break;case 4:return this.QE.get();break;Q00=1;break;}}};f.prototype.Jcb=function(k){var R00,m,d;R00=2;for(;R00 !== 5;){switch(R00){case 2:(m=Object.keys(this.Qz),d=this.Qz[m[0]]);R00=1;break;case 1:1 === m.length && !1 === d.e6?(this.QE.start(k,d.vi),this.aU=d.vi):1 < m.length && this.aU && (m=this.Qz[this.aU],this.QE.stop(k,this.aU),m.e6=!1,this.aU=void 0);R00=5;break;}}};K00=8;break;case 8:return f;break;case 2:f.prototype.reset=function(){var M00;M00=2;for(;M00 !== 1;){switch(M00){case 2:this.QE=new c.zBa();M00=1;break;}}};f.prototype.wP=function(k,m){var N00;N00=2;for(;N00 !== 1;){switch(N00){case 2:m.vi && (this.jqa?this.QE.start(k,m.vi):1 === m.type && (this.Qz[m.vi]?this.Qz[m.vi].I_+=1:this.Qz[m.vi]={vi:m.vi,I_:1,e6:!1},this.Jcb(k)));N00=1;break;}}};f.prototype.eZ=function(k,m){var O00,d;O00=2;for(;O00 !== 9;){switch(O00){case 1:O00=this.jqa?5:4;break;case 5:this.QE.stop(k,m.vi);O00=9;break;case 2:O00=m.vi?1:9;break;case 4:d=this.Qz[m.vi];1 === m.type && d && (--d.I_,0 === d.I_ && (d.e6 && this.QE.stop(k,m.vi),d.e6=!1,delete this.Qz[m.vi]),this.Jcb(k));O00=9;break;case 7:O00=m.vi?2:5;break;O00=m.vi?1:9;break;}}};K00=4;break;}}function f(k){var L00;L00=2;for(;L00 !== 4;){switch(L00){case 2:var V7p="1SI";V7p+="Yb";V7p+="Z";V7p+="rNJCp";V7p+="9";this.jqa=k;this.Qz={};V7p;L00=4;break;}}}})();b.wDa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zBa=void 0;c=a(2).__importDefault(a(175));r=(function(){var S00;S00=2;function f(){var T00;T00=2;for(;T00 !== 5;){switch(T00){case 2:var x7p="1";x7p+="SI";x7p+="Y";x7p+="bZ";x7p+="rNJCp9";this.j3={};x7p;T00=5;break;case 3:this.j3={};"";T00=3;break;T00=5;break;}}}for(;S00 !== 9;){switch(S00){case 2:f.prototype.add=function(k,m,d,g){var U00,h;U00=2;for(;U00 !== 4;){switch(U00){case 2:h=this.j3;void 0 === h[g] && (h[g]=new c.default());h[g].add(k,m,d);U00=4;break;}}};f.prototype.start=function(k,m){var V00,d;V00=2;for(;V00 !== 4;){switch(V00){case 2:d=this.j3;void 0 === d[m] && (d[m]=new c.default());d[m].start(k);V00=4;break;}}};f.prototype.stop=function(k,m){var W00,d;W00=2;for(;W00 !== 5;){switch(W00){case 2:d=this.j3;void 0 !== d[m] && d[m].stop(k);W00=5;break;}}};f.prototype.get=function(){var X00,k,m,d,g,h,l;X00=2;for(;X00 !== 8;){switch(X00){case 2:(k=this.j3,m=Object.keys(k),d=[],g=0);X00=1;break;case 5:(h=m[g],l=k[h].get());l && d.push({cdnid:h,avtp:l.Ha,tm:l.lD});X00=3;break;case 1:X00=g < m.length?5:9;break;case 3:g++;X00=1;break;case 9:return d;break;}}};return f;break;}}})();b.zBa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.AIa=void 0;c=a(2).__importDefault(a(175));r=(function(){var Y00;Y00=2;for(;Y00 !== 3;){switch(Y00){case 2:f.prototype.reset=function(){var a10;a10=2;for(;a10 !== 4;){switch(a10){case 2:this.iZ=[0,0];this.jh=[0,0];this.jY=[0,0];a10=4;break;}}};f.prototype.vw=function(k,m,d,g){var b10,h,l;b10=2;for(;b10 !== 8;){switch(b10){case 5:b10=(null === (h=g.cJ) || void 0 === h?0:h.m8())?4:3;break;case 2:this.jh[g.type]+=k;b10=5;break;case 3:b10=(null === (l=g.cJ) || void 0 === l?0:l.a4a(k,m,d,this.o$))?9:8;break;case 9:this.jY[g.type]+=k;b10=8;break;case 4:(this.iZ[g.type]+=k,this.G6a.add(k,m,d),this.bua[g.type].add(k,m,d));b10=3;break;}}};f.prototype.a7=function(){var c10;c10=2;for(;c10 !== 1;){switch(c10){case 2:return {bytesRequestedPacingVideo:this.iZ[1],bytesRequestedPacingAudio:this.iZ[0],estimatedBytesPacedVideo:this.jY[1],estimatedBytesPacedAudio:this.jY[0],bytestotalVideo:this.jh[1],bytestotalAudio:this.jh[0],pacedAvtpVideo:this.bua[1].get().Ha,pacedAvtpAudio:this.bua[0].get().Ha,pacedAvtp:this.G6a.get().Ha};break;}}};return f;break;}}function f(k){var Z00;Z00=2;for(;Z00 !== 7;){switch(Z00){case 2:this.iZ=[0,0];Z00=1;break;case 1:var t7p="1SIYb";t7p+="ZrNJC";t7p+="p9";this.jh=[0,0];this.jY=[0,0];t7p;Z00=3;break;case 3:this.o$=k.o$;this.bua=[new c.default(),new c.default()];this.G6a=new c.default();Z00=7;break;}}}})();b.AIa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xFa=void 0;c=a(2).__importDefault(a(175));r=(function(){var d10;d10=2;for(;d10 !== 9;){switch(d10){case 1:f.prototype.vw=function(k,m,d){var g10;g10=2;for(;g10 !== 1;){switch(g10){case 2:this.W$ || (this.TH.add(k,m,d),this.PO++,1 === d - m && this.NO++);g10=1;break;}}};f.prototype.fMb=function(k){var h10;h10=2;for(;h10 !== 1;){switch(h10){case 2:this.W$ || (++this.n_[k],this.n_[1] >= this.tQb && (this.W$=!0));h10=1;break;}}};f.prototype.S6=function(){var i10;i10=2;for(;i10 !== 1;){switch(i10){case 2:return {TH:this.TH.get().Ha,lD:this.TH.get().lD,q1a:this.n_[0],r1a:this.n_[1],PO:this.PO,NO:this.NO};break;}}};return f;break;case 2:f.prototype.reset=function(){var f10;f10=2;for(;f10 !== 3;){switch(f10){case 1:this.W$=!1;this.TH=new c.default();this.NO=this.PO=0;f10=3;break;case 2:this.n_=[0,0];f10=1;break;}}};d10=1;break;}}function f(k){var e10;e10=2;for(;e10 !== 8;){switch(e10){case 3:var B7p="1";B7p+="S";B7p+="IYbZrNJ";B7p+="Cp9";B7p;this.tQb=k?k:3;e10=8;break;case 2:this.n_=[0,0];this.TH=new c.default();this.W$=!1;this.NO=this.PO=0;e10=3;break;}}}})();b.xFa=r;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.SFa=void 0;c=a(2);f=c.__importStar(a(10));r=a(17);k=c.__importDefault(a(28));m=c.__importDefault(a(771));d=c.__importDefault(a(6));g=a(172);h=a(223);c.__importDefault(a(225));l=c.__importDefault(a(772));a(370);n=a(4);q=a(775);p=a(878);u=new d.default.Console("ASEJS","media|asejs");t=u.trace.bind(u);w=u.warn.bind(u);r=(function(v){function x(y,z){var k10,A;k10=2;for(;k10 !== 13;){switch(k10){case 2:var h7p="D";h7p+="EB";h7p+="UG";h7p+=":";var r7p="nf-ase ";r7p+="v";r7p+="er";r7p+="sio";r7p+="n:";A=v.call(this) || this;A.config=y;A.RE=z;y=a(407);t(r7p,y,h7p,!1);A.kha=!1;A.Gqb=!1;k10=7;break;case 7:var j7p="1S";j7p+="IY";j7p+="bZrNJCp";j7p+="9";A.rG=[];j7p;return A;break;}}}var j10;j10=2;for(;j10 !== 27;){switch(j10){case 7:Object.defineProperties(x.prototype,{Jf:{get:function(){var s10;s10=2;for(;s10 !== 1;){switch(s10){case 4:return this.Hy;break;s10=1;break;case 2:return this.Hy;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Th:{get:function(){var t10;t10=2;for(;t10 !== 1;){switch(t10){case 2:return this.v2.Th;break;case 4:return this.v2.Th;break;t10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{bqa:{get:function(){var u10;u10=2;for(;u10 !== 1;){switch(u10){case 2:return this.Gqb;break;}}},enumerable:!1,configurable:!0}});x.prototype.Fb=function(y,z,A,B,E,D){var v10,F,G;v10=2;for(;v10 !== 11;){switch(v10){case 13:var n7p="m";n7p+="edia";n7p+="cache";var W7p="ca";W7p+="ch";W7p+="eEvi";W7p+="c";W7p+="t";var q7p="f";q7p+="lushedByte";q7p+="s";var a7p="discar";a7p+="de";a7p+="dB";a7p+="yte";a7p+="s";var m7p="pre";m7p+="bu";m7p+="ff";m7p+="stat";m7p+="s";(z=new p.yEa(this,G,A,D),y=function(C){var w10;w10=2;for(;w10 !== 1;){switch(w10){case 4:F.emit(C.type,C);w10=9;break;w10=1;break;case 2:F.emit(C.type,C);w10=1;break;}}},z.addListener(m7p,y),z.addListener(a7p,y),z.addListener(q7p,y),z.addListener(W7p,y),(G.kza || G.jza) && z.addListener(n7p,function(C){var x10;x10=2;for(;x10 !== 1;){switch(x10){case 2:var d7p="medi";d7p+="ac";d7p+="a";d7p+="ch";d7p+="e";F.emit(d7p,C);x10=1;break;}}}),this.Hy=z);v10=12;break;case 14:v10=G.ndb || G.gza?13:12;break;case 7:this.v2=h.jK.j_a(G,this.RE);this.dia=new l.default(G);v10=14;break;case 2:(F=this,G=this.config);h.jK.reset();0 < G.Lu && (!f.ka(y) && y > G.Lu && (y=G.Lu),z > G.Lu && (z=G.Lu));f.ka(y) && (this.pQa=z);this.s3=B;this.mQa=E;m.default(G);v10=7;break;case 12:this.kha=!0;v10=11;break;}}};x.prototype.EZ=function(y,z,A){var y10;y10=2;for(;y10 !== 4;){switch(y10){case 2:this.pQa=y;this.s3=z || 0;this.mQa=A || 0;y10=4;break;}}};x.prototype.createSession=function(y,z,A,B,E,D,F,G,C,H){var z10;z10=2;for(;z10 !== 4;){switch(z10){case 2:z10=this.kha?1:5;break;case 9:z10=this.kha?6:9;break;z10=this.kha?1:5;break;case 1:return (G=G || this.config,this.Rb.reset(),this.Wn.L0b(),this.dia.reset(),void 0 === D && (D=this.y6(y,z)),f.ka(this.s3) && (this.s3=d.default.Zo()[k.default.Wa.Pb] <= G.oRb?0:G.jZ),y=new q.JLa(this,y,H,z,A,B,E,D,F,G,C),this.rG.push(y),y);break;case 5:var U7p="open:";U7p+=" streami";U7p+="ngManager not initted";w(U7p);z10=4;break;}}};j10=10;break;case 17:x.prototype.ZC=function(){var E10,y;E10=2;for(;E10 !== 5;){switch(E10){case 2:null === (y=this.Hy) || void 0 === y?void 0:y.oCb();E10=5;break;}}};x.prototype.Ib=function(){var F10;F10=2;for(;F10 !== 6;){switch(F10){case 2:var i7p="Attempted to ";i7p+="destruct Manag";i7p+="er before al";i7p+="l Sessions removed";n.assert(0 === this.rG.length,i7p);this.kha=!1;F10=5;break;case 5:delete this.v2;F10=4;break;case 7:h.jK.reset();F10=6;break;case 4:delete this.dia;delete this.RE;this.ZC();delete this.Hy;F10=7;break;}}};return x;break;case 2:c.__extends(x,v);Object.defineProperties(x.prototype,{Rb:{get:function(){var l10;l10=2;for(;l10 !== 1;){switch(l10){case 2:return this.v2.Rb;break;case 4:return this.v2.Rb;break;l10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Wn:{get:function(){var m10;m10=2;for(;m10 !== 1;){switch(m10){case 4:return this.v2.Wn;break;m10=1;break;case 2:return this.v2.Wn;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{rv:{get:function(){var n10;n10=2;for(;n10 !== 1;){switch(n10){case 2:return this.dia;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{sB:{get:function(){var o10;o10=2;for(;o10 !== 1;){switch(o10){case 2:return this.s3;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{dra:{get:function(){var q10;q10=2;for(;q10 !== 1;){switch(q10){case 2:return !f.ka(this.pQa);break;case 4:return ~f.ka(this.pQa);break;q10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{IE:{get:function(){var r10;r10=2;for(;r10 !== 1;){switch(r10){case 2:return this.mQa;break;case 4:return this.mQa;break;r10=1;break;}}},enumerable:!1,configurable:!0}});j10=7;break;case 10:x.prototype.oX=function(y,z){var A10;A10=2;for(;A10 !== 1;){switch(A10){case 2:return this.Hy && (y=this.Hy.oX(y,z))?y:!1;break;}}};x.prototype.arb=function(y){var B10,z;B10=2;for(;B10 !== 4;){switch(B10){case 2:var Q7p="can't fin";Q7p+="d session i";Q7p+="n array, movieId:";this.Rb.OP(null);z=this.rG.indexOf(y);f.ka(z)?w(Q7p,y.Ge.R.K):(this.rG.splice(z,1),0 === this.rG.length && this.Wn.S0b(),this.Wn.save(),this.Th.save());B10=4;break;}}};x.prototype.y6=function(y,z,A){var C10;C10=2;for(;C10 !== 1;){switch(C10){case 2:return g.WZa(y,z,A);break;}}};x.prototype.hka=function(){var D10,y;D10=2;for(;D10 !== 5;){switch(D10){case 1:null === (y=this.Hy) || void 0 === y?void 0:y.ZXa();D10=5;break;case 3:D10=2;break;D10=1;break;case 2:D10=1;break;}}};j10=17;break;}}})(r.EventEmitter);b.SFa=r;},function(r,b,a){var f,k,m,d;function c(g){var h;h=nrdp.qk.Uec.match(/android-(\d*)/);h?23 < h[1]?g.fya=!1:(h=nrdp.qk.b$b.Wt.platform.platformVersion.match(/(\d*)\.(\d*).(\d*)/),g.fya=h?6 < h[1] || 6 == h[1] && 1 < h[2] || 6 == h[1] && 1 == h[2] && 1 <= h[3]?!0:!1:!1):g.fya=!1;g.z1b=!1;}f=a(4).assert;a(126);k=a(6).default;m=k.Br;d=k.Qjb;r.exports=function(){var g,h,l,n;g=new k.Console("ASEJSMONKEY","media|asejs");if(!k.Br.Rc){h=function(q){this.qpb=q;};l=d.prototype.appendBuffer;k.MediaSource.Rc || (k.MediaSource.Rc={});"undefined" !== typeof nrdp && nrdp.U3 && (c(k.MediaSource.Rc,g),k.MediaSource.Rc.PTa=!1,k.MediaSource.Rc.j5a=!1);k.Br.Rc={lZ:{oeb:!0,yS:!0,bkb:!0}};Object.defineProperty(m.prototype,"_response",{get:function(){return this.Krb || this.Rnb;},set:function(q){this.Rnb=q;}});n=m.prototype.open;m.prototype.open=function(q,p,u,t,w,v,x){1 === u && (this.Krb=new h(this));return n.call(this,q,p,u,t,w,v,x);};m.prototype.WY=function(){this.QL=void 0;};d.prototype.appendBuffer=function(q){if(q instanceof ArrayBuffer)return l.call(this,q);if(q instanceof h)return this.V3(q.qpb);f(!1);};}};},function(r,b,a){var k,m;function c(){this.Ky=this.$S=this.N2=this.a3=this.J2=null;}function f(d){this.J=d;this.JC=[];this.Kr=new c();this.qT();}k=a(10);a(28);a(9);m=a(6).default;new m.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.Xe=function(d){var g;g=!1;d && k.has(d,"ens") && k.has(d,"lns") && k.has(d,"fns") && k.has(d,"d") && k.has(d,"t") && (this.J2=d.ens,this.a3=d.lns,this.N2=d.fns,this.$S=d.d,this.Ky=d.t,g=!0);return g;};c.prototype.getState=function(){var d;if(k.Kb(this.J2) || k.Kb(this.a3) || k.Kb(this.N2) || k.Kb(this.$S) || k.Kb(this.Ky))return null;d={d:this.$S,t:this.Ky};d.ens=this.J2;d.lns=this.a3;d.fns=this.N2;return d;};c.prototype.get=function(){var d,g;d=this.getState();if(d){g=new Date(this.Ky);d.dateint=1E4 * g.getFullYear() + 100 * (g.getMonth() + 1) + g.getDate();d.hour=g.getHours();}return d;};f.prototype.qT=function(){var d;d=m.storage.get("sth");d && this.Xe(d);};f.prototype.Xe=function(d){var g,h;g=null;h=this.J;d.forEach(function(l){var n;n=new c();n.Xe(l)?(g=!0,this.JC.push(n)):k.Kb(g) && (g=!1);},this);this.JC=this.JC.filter(function(l){return l.$S >= h.z9;});this.JC.sort(function(l,n){return l.Ky - n.Ky;});return k.Kb(g)?!0:g;};f.prototype.cha=function(){var d;d=[];this.JC.forEach(function(g){d.push(g.getState());},this);return d;};f.prototype.save=function(){var d,g,h;d=this.cha();g=this.J;h=this.Kr.getState();h && h.d >= g.z9 && (d.push(h),this.JC.push(this.Kr));d.length > g.Y8 && (d=d.slice(d.length - g.Y8,d.length));this.Kr=new c();d && m.storage.set("sth",d);};f.prototype.reset=function(){this.Kr=new c();};f.prototype.tHb=function(){return this.Kr.get();};f.prototype.GJb=function(){return this.JC.length + 1;};f.prototype.Csb=function(d){this.Kr.J2=d;this.Kr.Ky=m.time.fa();};f.prototype.Msb=function(d){this.Kr.a3=d;this.Kr.Ky=m.time.fa();};f.prototype.Gsb=function(d,g){this.Kr.N2=d;this.Kr.Ky=m.time.fa();this.Kr.$S=g;};r.exports=f;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.yGa=void 0;r=(function(){function a(c,f,k){this.Orb=f;this.mnb=k;this.I=c;}a.prototype.Rua=function(c){c=this.xMb(c,this.Orb) + this.mnb;return this.Tha=isNaN(c)?NaN:this.wxa(c);};a.prototype.fxb=function(c){return isNaN(this.Tha)?0:this.Tha > c?1:0;};a.prototype.xMb=function(c,f){var k;k=0;if(c.length !== f.length)k=NaN;else for(var m=0;m < c.length;m++){k+=c[m] * f[m];}return k;};a.prototype.wxa=function(c){return 1 / (1 + Math.exp(-c));};return a;})();b.yGa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.pS=void 0;r=(function(){function a(c){this.fk={};this.Aha=c;this.og=[];this.Rr=!1;this.sG=void 0;}a.prototype.M3=function(c){this.og.length === this.Aha && this.og.shift();Array.isArray(c)?this.og=this.og.concat(c):this.og.push(c);this.Rr=!0;};a.prototype.JN=function(){return this.og.length;};a.prototype.jka=function(){var c;c=this.og;return 0 < c.length?c.reduce(function(f,k){return f + k;},0) / this.og.length:void 0;};a.prototype.C4=function(){var c,f;c=this.og;f=this.jka();if(0 < c.length && "undefined" !== typeof f)return (c=c.reduce(function(k,m){return k + m * m;},0) / c.length,Math.sqrt(c - f * f));};a.prototype.Ut=function(c){var f,k,m;if(this.Rr || void 0 === this.sG)(this.sG=this.og.slice(0).sort(function(d,g){return d - g;}),this.Rr=!1);if(void 0 === this.fk[c]){f=this.sG;k=Math.floor(c / 100 * (f.length - 1) + 1) - 1;m=(c / 100 * (f.length - 1) + 1) % 1;this.fk[c]=k === f.length - 1?f[k]:f[k] + m * (f[k + 1] - f[k]);}return this.fk[c];};return a;})();b.pS=r;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L;Object.defineProperties(b,{__esModule:{value:!0}});b.JLa=void 0;r=a(2);c=a(17);f=r.__importStar(a(10));k=a(143);m=a(776);d=a(172);g=a(16);h=a(217);l=a(241);n=a(242);q=a(822);p=a(823);u=r.__importDefault(a(6));t=u.default.MediaSource;w=a(9);v=a(4);x=a(174);y=a(388);z=a(825);A=a(826);B=a(238);r=a(43);E=a(827);D=a(828);F=a(389);G=a(860);C=a(399);H=a(868);K=a(403);M=a(874);I=a(875);Q=a(876);L=a(877);a=(function(){var G10;G10=2;for(;G10 !== 91;){switch(G10){case 87:J.prototype.eia=function(N,O){var h40,S,U,P;h40=2;for(;h40 !== 9;){switch(h40){case 1:h40=P.kb(N)?5:9;break;case 5:(S=this.Cb.Of[N],U=this.Cb.vB[N]);h40=4;break;case 4:var P7p="p";P7p+="tsc";P7p+="ha";P7p+="ng";P7p+="ed";f.ka(S.Mo) && (S.Mo=O,1 === N && this.Ur && (N=this.Cb.Of[0],f.ka(N.Mo) && (P=P.kb(0),P.rJ(O)),this.emit(P7p,O)));f.ka(U.DU) && (U.DU=O);h40=9;break;case 2:P=this.Pa.Yc;h40=1;break;}}};J.prototype.b0a=function(N){var i40;i40=2;for(;i40 !== 1;){switch(i40){case 2:this.Hh && (this.Hh.aQb(N),this.qTa());i40=1;break;}}};J.prototype.q7=function(N){var j40;j40=2;for(;j40 !== 1;){switch(j40){case 2:this.Hh && (this.Hh.$Pb(N),this.qTa());j40=1;break;}}};J.prototype.qTa=function(){var k40,N;k40=2;for(;k40 !== 4;){switch(k40){case 1:var X7p="al";X7p+="lComp";X7p+="le";X7p+="ted";N=this.J;this.Hh.FD() || (this.Hh=void 0,N.Tr || this.yy.cz || this.ST(X7p));k40=4;break;case 2:k40=this.Hh?1:4;break;}}};J.prototype.TT=function(){var l40,N,O,P,S,U,Z,ja,ya;l40=2;for(;l40 !== 7;){switch(l40){case 8:this.NC=setTimeout(this.TT.bind(this),ya);l40=7;break;case 2:(N=this,O=this.J,P=this.CY,S=this.Kd[P],U=this.Pa.Yc,Z=this.X.Te() || 0,ja=this.Xt(P,Z),ya=O.Eba);this.qc.Jf && void 0 !== S.AI && S.AI - Z <= O.R4a && this.qc.Jf.cq(!0,this.hm.sessionId);this.X.getState() === g.sa.Lc && ([1,0].forEach(function(ra){var m40,pa,T,R,ea,sa,la,Y;m40=2;for(;m40 !== 35;){switch(m40){case 27:ea=T.Ta;ea != R.xra && (R.xra=ea,ra=N.Kd[sa].R.Tw(ra,ea),sa=N.Xt(sa,T.zd),N.Gb.fqb(ra,T.zd,sa,ra.R.Qb));T=T.bitrate;m40=24;break;case 4:pa=Y.Ua;Y.zM(Z);(T=N.Pa.ku(Z,U,ra)) && !T.gf && (T=N.Tg[ra].mOb);m40=7;break;case 6:pa=T.pe - Z;pa < ya && (ya=pa);(R=N.Cb.hx[ra],ea=T.R,sa=ea.Qb);pa=T.Ua;m40=11;break;case 21:var v7p="Unable to find request";v7p+=" presenting at ";v7p+="playerPts:";Y.Ub(v7p,Z);m40=23;break;case 11:m40=!N.dn || 1 === ra?10:15;break;case 16:N.IL && T.gv != R.uOb && N.Gb.kqb(T.gv);m40=15;break;case 20:N.Y2=sa;la=0 < sa?sa - 1:null;N.Gb.Wpb(ea,Z,T.gv,null !== la?N.Kd[la].R.K:null,la);m40=17;break;case 10:m40=(N.Pa.sSb(T,T.gv),sa > N.Y2)?20:16;break;case 1:Y=U.kb(ra);m40=5;break;case 7:m40=T?6:21;break;case 15:R.uOb=T.gv;m40=27;break;case 17:ja=N.Xt(sa,Z);m40=15;break;case 24:f.ka(T) || T == Y.s7a || (Y.s7a=T);m40=23;break;case 2:m40=N.oc(ra)?1:35;break;case 5:m40=Y?4:35;break;case 23:N.Uqb(pa,Z);N.Pa.IWb();m40=35;break;}}}),this.Pa.ft(Z,ja));this.rg.gk();ya=Math.max(ya,1);this.NC && clearTimeout(this.NC);l40=8;break;}}};J.prototype.w2=function(N){var n40;n40=2;for(;n40 !== 1;){switch(n40){case 2:return this.rg.w2(N);break;}}};J.prototype.gk=function(){var o40;o40=2;for(;o40 !== 1;){switch(o40){case 2:return this.rg.gk();break;}}};J.prototype.AG=function(N,O){var p40,S,P;p40=2;for(;p40 !== 13;){switch(p40){case 5:S=N.mediaType;N.abort();N.fd();N.Mi && N.Mi.clear();P.eaa(N);this.Tg[S].eaa(N);!0 === O && this.rg.gk();p40=13;break;case 1:p40=P?5:14;break;case 14:var s7p="ab";s7p+="or";s7p+="tRequest ";s7p+="with no ";s7p+="requestManagaer:";this.Ub(s7p,N);p40=13;break;case 2:P=N.Ua;p40=1;break;}}};J.prototype.Grb=function(N){var q40,O,P;q40=2;for(;q40 !== 5;){switch(q40){case 2:var y7p="no";y7p+=" newAudio";y7p+="Track set";(O=N.mediaType,P=this.Cb.Of[O]);f.ka(P.N9)?N.Ub(y7p):(this.Tg[O].pause(),P.EQ=!0,N=this.Ge.Bq(0),P=this.Ge.R.getTrackById(P.N9.trackId),this.Gb.Lpb(N,P));q40=5;break;}}};J.prototype.Oqb=function(N){var r40,Z,ja,ya,ra,O,P,S,U;r40=2;for(;r40 !== 27;){switch(r40){case 12:this.Cg.MP(null);this.aia(0,F.wS.hYa,N);this.Pa.B$a(N,!0);r40=20;break;case 18:this.tWb(P,ya,ra);r40=17;break;case 3:(Z=this.Ge,ja=Z.R.getTrackById(this.Cb.fz.trackId),ya=ja.TE,ra=this.X.Te() - N.Ee);r40=9;break;case 8:var F7p="aud";F7p+="i";F7p+="oSwi";F7p+="tc";F7p+="h";(this.Hh.aYb(function(Y){var s40;s40=2;for(;s40 !== 5;){switch(s40){case 2:s40=0 === Y.mediaType?1:5;break;case 1:return (O.AG(Y,!1),!0);break;case 3:s40=8 == Y.mediaType?8:4;break;s40=0 === Y.mediaType?1:5;break;}}}),this.Hh.FD() || (this.Hh=void 0,S.Tr || this.yy.cz || this.ST(F7p)));r40=7;break;case 7:P=this.qc.y6(Z.R.oa,[ya],0);this.jga[0]=P[0];this.sV.WPa(0,N.R);U.N9=void 0;r40=12;break;case 19:r40=P < this.Kd.length?18:16;break;case 16:N.O8a(ja,ra);this.xJ(0);r40=27;break;case 9:r40=(null === (P=this.Hh) || void 0 === P?0:P.FD())?8:7;break;case 20:P=this.JL;r40=19;break;case 2:(O=this,S=this.J);N=N.ib;U=this.Cb.Of[0];this.Cb.fz=U.N9;r40=3;break;case 17:++P;r40=19;break;}}};G10=104;break;case 2:Object.defineProperties(J.prototype,{addEventListener:{get:function(){var M10;M10=2;for(;M10 !== 1;){switch(M10){case 2:return this.addListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{removeEventListener:{get:function(){var N10;N10=2;for(;N10 !== 1;){switch(N10){case 2:return this.removeListener.bind(this);break;case 4:return this.removeListener.bind(this);break;N10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{PQb:{get:function(){var O10;O10=2;for(;O10 !== 1;){switch(O10){case 4:return this.mg.Rc;break;O10=1;break;case 2:return this.mg.Rc;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{mediaSourceId:{get:function(){var P10;P10=2;for(;P10 !== 1;){switch(P10){case 2:return this.mg?this.mg.JZ:void 0;break;case 4:return this.mg?this.mg.JZ:!1;break;P10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{Ur:{get:function(){var Q10;Q10=2;for(;Q10 !== 1;){switch(Q10){case 2:return this.oc(0);break;case 4:return this.oc(2);break;Q10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{dn:{get:function(){var R10;R10=2;for(;R10 !== 1;){switch(R10){case 2:return this.oc(1);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{attributes:{get:function(){var S10;S10=2;for(;S10 !== 1;){switch(S10){case 2:return this.jga;break;case 4:return this.jga;break;S10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{dh:{get:function(){var T10;T10=2;for(;T10 !== 1;){switch(T10){case 2:return this.Mi;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{CY:{get:function(){var U10;U10=2;for(;U10 !== 1;){switch(U10){case 4:return 6 >= this.Y2?this.Y2:8;break;U10=1;break;case 2:return 0 <= this.Y2?this.Y2:0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{Ge:{get:function(){var V10;V10=2;for(;V10 !== 1;){switch(V10){case 2:return this.Kd[this.JL];break;}}},enumerable:!1,configurable:!0}});G10=13;break;case 27:J.prototype.EN=function(){var k20;k20=2;for(;k20 !== 1;){switch(k20){case 2:return this.Kd.length;break;case 4:return this.Kd.length;break;k20=1;break;}}};J.prototype.Hqa=function(N,O){var l20;l20=2;for(;l20 !== 9;){switch(l20){case 1:return !0;break;case 6:return -9;break;l20=5;break;case 2:l20=N === O?1:5;break;case 5:N=this.Kd[N];O=this.Kd[O];return N.R.nf.He && O.R.nf.xX || O.R.nf.He && N.R.nf.xX;break;}}};J.prototype.F6=function(N){var m20;m20=2;for(;m20 !== 5;){switch(m20){case 1:return {id:N.H.id,Ee:N.Ee,zd:N.Iua,pe:N.pe,gd:N.yaa,Mc:N.Mc};break;case 2:m20=(N=this.Pa.Ai.children[N])?1:5;break;}}};J.prototype.Sn=function(){var n20,N;n20=2;for(;n20 !== 5;){switch(n20){case 2:N=this.Pa.Ai;return {id:N.H.id,Ee:N.Ee,zd:N.Iua,pe:N.pe,gd:N.yaa,Mc:N.Mc};break;}}};J.prototype.uQ=function(N,O){var o20;o20=2;for(;o20 !== 1;){switch(o20){case 2:return this.Pa.uQ(N,O);break;}}};J.prototype.open=function(){var p20,ra,Y,N,O,P,S,U,Z,ja,ya;p20=2;for(;p20 !== 33;){switch(p20){case 13:var g7p="cre";g7p+="at";g7p+="eMed";g7p+="iaSourceStart";Z.forEach(function(pa,T){var q20;q20=2;for(;q20 !== 1;){switch(q20){case 2:var C7p="h";C7p+="e";C7p+="ade";C7p+="rs";C7p === pa?N.jT=ya[T]:N.Cb.Of[pa].Lf=ya[T];q20=1;break;}}});this.Gb.km(g7p);ra=new t(this.X.QG);p20=10;break;case 5:var c7p="NFErr_MC_S";c7p+="treamingInitFa";c7p+="ilure";var I7p="startPts must be";I7p+=" a ";I7p+="positive numbe";I7p+="r, not";I7p+=" ";this.Wp(I7p + this.LC,void 0,c7p);p20=33;break;case 18:this.mg=ra;p20=17;break;case 15:ra.sourceBuffers.forEach(function(pa){var r20,T,R;r20=2;for(;r20 !== 13;){switch(r20){case 4:var D7p="e";D7p+="r";D7p+="r";D7p+="o";D7p+="r";var N7p="req";N7p+="uestA";N7p+="ppe";N7p+="nd";N7p+="ed";var L7p="head";L7p+="er";L7p+="Ap";L7p+="pe";L7p+="nded";pa.addListener(L7p,N.Eob.bind(N));pa.addListener(N7p,N.Hob.bind(N));pa.addListener(D7p,function(ea){var s20;s20=2;for(;s20 !== 1;){switch(s20){case 2:var A7p="NFErr_";A7p+="MC_St";A7p+="reamingFa";A7p+="ilure";N.Wp(ea.errorstr,void 0,A7p);s20=1;break;}}});r20=8;break;case 8:var z7p="managerde";z7p+="bu";z7p+="gevent";var f7p="l";f7p+="o";f7p+="g";f7p+="data";pa.addListener(f7p,function(ea){var t20;t20=2;for(;t20 !== 1;){switch(t20){case 2:w.Ya(N,ea.type,ea);t20=1;break;case 4:w.Ya(N,ea.type,ea);t20=6;break;t20=1;break;}}});O.ti && pa.addListener(z7p,function(ea){var u20;u20=2;for(;u20 !== 1;){switch(u20){case 2:w.Ya(N,ea.type,ea);u20=1;break;case 4:w.Ya(N,ea.type,ea);u20=2;break;u20=1;break;}}});N.Tg[T]=pa;r20=14;break;case 2:(T=pa.mediaType,R=N.Cb.Of[T]);pa=new n.Ica(R.I,T,ra,pa,O,!1,N.X,void 0,N.wh.bind(N));R=new G.NFa(pa,T,N.Pa,N.J,R.I);r20=4;break;case 14:N.lw[T]=R;r20=13;break;}}});this.Ay=new E.ZJa(this.lw,this.SL.bind(this),this.X.Te.bind(this.X));this.Ms && this.Gb.Jpb();P=this.TZa();this.Gb.zPa(P);p20=23;break;case 16:var o7p="Err";o7p+="o";o7p+="r";o7p+=":";throw (this.An(o7p,ra.error),ra.error);p20=15;break;case 35:this.emit(P.type,P);p20=33;break;case 23:var Y9p="s";Y9p+="tart";Y9p+="play";var O9p="l";O9p+="ogdat";O9p+="a";Y=function(){var v20;v20=2;for(;v20 !== 5;){switch(v20){case 2:var G7p="shutdown ";G7p+="detected bef";G7p+="ore start";G7p+="Requests";N.Gb.aqb();N.wn()?N.Ub(G7p):N.Hrb();v20=5;break;}}};O.VBb?setTimeout(function(){var w20;w20=2;for(;w20 !== 1;){switch(w20){case 2:N.XNa(S).then(Y);w20=1;break;}}},0):this.XNa(S).then(function(){var x20;x20=2;for(;x20 !== 1;){switch(x20){case 2:setTimeout(Y,0);x20=1;break;case 4:setTimeout(Y,4);x20=9;break;x20=1;break;}}});P={type:O9p,target:Y9p,fields:{audiogapconfig:O.BO,audiogapdpi:this.mg.Rc && this.mg.Rc.BO,aseApiVersion:this.EG}};p20=35;break;case 17:p20=!ra.N3(U)?16:15;break;case 34:var J9p="N";J9p+="FErr_M";J9p+="C_S";J9p+="treamingInitFai";J9p+="lure";var E9p="exception ";E9p+="in ini";E9p+="t";var S9p="Err";S9p+="or";S9p+=":";(this.An(S9p,ra.error),this.Wp(E9p,void 0,J9p));p20=33;break;case 20:var w9p="cre";w9p+="ateMe";w9p+="di";w9p+="a";w9p+="SourceEnd";this.Gb.km(w9p);ra.Rc || (ra.Rc=t.Rc);p20=18;break;case 1:p20=!f.Ea(this.LC) || 0 > this.LC?5:4;break;case 10:p20=1 === ra.readyState?20:34;break;case 2:N=this;p20=1;break;case 4:var R9p="h";R9p+="e";R9p+="ad";R9p+="ers";(O=this.J,P=this.Ge.R,S=P.K,U=[],Z=[R9p]);this.dn && (U.push(1),Z.push(1));this.Ur && (U.push(0),Z.push(0));this.sV.Rob();ja=O.Tr;this.qc.Jf && this.qc.Jf.cq(ja,this.hm.sessionId);ya=this.sV.Jnb(Z,P);p20=13;break;}}};Object.defineProperties(J.prototype,{EG:{get:function(){var y20;y20=2;for(;y20 !== 1;){switch(y20){case 4:return "";break;y20=1;break;case 2:var e9p="1";e9p+=".";e9p+="0";return e9p;break;}}},enumerable:!1,configurable:!0}});J.prototype.Toa=function(){};J.prototype.flush=function(){var z20;z20=2;for(;z20 !== 1;){switch(z20){case 2:this.cj.flush();z20=1;break;case 4:this.cj.flush();z20=3;break;z20=1;break;}}};J.prototype.paused=function(){var A20;A20=2;for(;A20 !== 1;){switch(A20){case 2:this.X.paused();A20=1;break;case 4:this.X.paused();A20=0;break;A20=1;break;}}};G10=32;break;case 39:J.prototype.stop=function(){var N20;N20=2;for(;N20 !== 1;){switch(N20){case 2:this.cj.stop();N20=1;break;}}};J.prototype.Qs=function(N,O){var O20;O20=2;for(;O20 !== 1;){switch(O20){case 4:return this.io.Qs(N,O);break;O20=1;break;case 2:return this.io.Qs(N,O);break;}}};J.prototype.seek=function(N,O){var P20;P20=2;for(;P20 !== 1;){switch(P20){case 2:return this.io.seek(N,O);break;}}};J.prototype.oo=function(N){var Q20,O,P,S,U,Z,T20;Q20=2;for(;Q20 !== 18;){switch(Q20){case 12:Q20=this.gs?11:10;break;case 2:var p9p="bran";p9p+="chOff";p9p+="set";p9p+=":";var M9p="e";M9p+="ntry.m";M9p+="anifest";M9p+="Of";M9p+="fset:";var K9p="co";K9p+="nten";K9p+="tPts:";var Z9p="u";Z9p+="nde";Z9p+="rflow: going to BUFFERI";Z9p+="NG at pla";Z9p+="yer pts:";(O=this,P=this.J,S=this.Xt(this.CY,N));this.Ub(Z9p,N,K9p,S,M9p,this.Ge.bx,p9p,this.Pa.Ee);U=P.IA;Q20=4;break;case 4:this.Tg.forEach(function(ja){var R20;R20=2;for(;R20 !== 1;){switch(R20){case 2:U=Math.max(0,Math.min(U,ja.zoa - N));R20=1;break;}}});this.Vha+=1;Z=this.Pa.Yc;Q20=8;break;case 8:var B9p="under";B9p+="flo";B9p+="w";h.Df.forEach(function(ja){var S20,ya,ra,Y,pa;S20=2;for(;S20 !== 6;){switch(S20){case 1:S20=ra?5:6;break;case 2:ra=Z.Ud(ja);S20=1;break;case 3:var t9p=", toA";t9p+="ppend";t9p+=":";t9p+=" ";var x9p=", ";x9p+="fra";x9p+="gme";x9p+="nts";x9p+=": ";var V9p=", comp";V9p+="leteStreamingPts:";V9p+=" ";var l9p=",";l9p+=" stre";l9p+="am";l9p+="ingPts";l9p+=": ";var b9p=", pa";b9p+="rtials";b9p+=": ";var H9p=", complet";H9p+="ed";H9p+="Bytes";H9p+=": ";var k9p=", compl";k9p+="et";k9p+="ed";k9p+="Ms: ";var T9p=", ";T9p+="me";T9p+="diaType: ";var u9p="un";u9p+="d";u9p+="erf";u9p+="low";u9p+=": ";Y=u9p + N + T9p + ja + k9p + ra.CM + H9p + pa + b9p + ra.Ua.mE + l9p + ra.Bc + V9p + ra.mq + x9p + JSON.stringify(ra.Ua.Y) + t9p + (Y && Y.Faa());S20=9;break;case 4:(Y=O.Tg[ja],pa=O.Pa.NG(Z,ja));S20=3;break;case 5:S20=P.ti?4:9;break;case 9:P.ti && O.Gb.Mm(Y);ra.Lka();null === (ya=ra.ih) || void 0 === ya?void 0:ya.mYb();S20=6;break;}}});this.Ge.R.Dk();this.emit(B9p);this.u3(2);this.rg.gk();Q20=12;break;case 10:S=this.qc.Rb.get();S=S.confidence?S.Sa.Ha:0;U > P.$Eb && S > P.ZEb && this.hia();Q20=18;break;case 11:try{T20=2;for(;T20 !== 1;){switch(T20){case 2:this.T5(g.sa.xd);T20=1;break;}}}catch(ja){var r9p="Hindsight: Error when";r9p+=" ev";r9p+="aluati";r9p+="ng QoE at B";r9p+="uffering: ";a000.g3p(2);this.Gb.Yn(a000.y3p(ja,r9p));}Q20=10;break;}}};J.prototype.lo=function(N){var U20;U20=2;for(;U20 !== 1;){switch(U20){case 2:return this.io.lo(N);break;case 4:return this.io.lo(N);break;U20=1;break;}}};J.prototype.Yr=function(N,O,P){var V20;V20=2;for(;V20 !== 1;){switch(V20){case 2:return this.io.Yr(N,O,P);break;}}};J.prototype.hPa=function(N){var W20,O;W20=2;for(;W20 !== 3;){switch(W20){case 4:this.Gb.zPa(O.R.ex);W20=3;break;case 2:this.JL=N;O=this.Kd[N];this.Gb.Ypb(N,O);W20=4;break;}}};J.prototype.eM=function(N,O){var X20,U,Z,P,S,ja,ya,ra,Y;X20=2;for(;X20 !== 35;){switch(X20){case 7:var h9p="addMan";h9p+="ifest in fastplay but not drm manifest";h9p+=", leaving space fo";h9p+="r it";O.xY && (this.h3=!0);U=this.Kd.length;O.replace && 1 !== U?U=1:this.Ge.R.nf.He && !O.replace && 1 === U && (this.Ub(h9p),U=this.Kd[0].clone(),this.Kd.push(U),U=this.Kd.length);X20=13;break;case 5:var j9p="addMan";j9p+="i";j9p+="fest: pipelines alread";j9p+="y shutdown";this.Ub(j9p);X20=35;break;case 8:var m9p="addManifest ig";m9p+="nored, pipeli";m9p+="nes already set EOS:";this.Ub(m9p,U.yr,Z.yr);X20=35;break;case 4:O || (O={});(U=this.Pa.Yc.Ud(0),Z=this.Pa.Yc.Ud(1));X20=9;break;case 2:(P=this,S=this.J);X20=1;break;case 1:X20=this.wn()?5:4;break;case 13:var q9p="video";q9p+="_";q9p+="tr";q9p+="ac";q9p+="ks";var a9p="a";a9p+="udi";a9p+="o_tr";a9p+="acks";Z=O.$ || 0;ja=O.La;N=m.jea.create({Qb:U,oa:N,qp:void 0,i$a:O.oQ || [this.Ge.K6(0),this.Ge.K6(1)],He:!1,X1a:! !O.replace,Vi:! !O.Vi,Cd:h.m9(! !O.lU,! !O.WE),$:Z,La:ja,Gb:this.Gb,ns:this.KOa.bind(this),bc:this,config:this.J,I:this.I,rg:this.rg,io:this.io,Jf:this.EQa?this.qc.Jf:void 0,HD:this.HD});ya=N.R;(O.cvb || this.QNa) && this.Cb.fr(O.cvb || this.QNa,ya.S);(ra=[a9p,q9p],Y=this.TZa());O.replace && ra.forEach(function(pa,T){var Y20,R,ea;Y20=2;for(;Y20 !== 3;){switch(Y20){case 8:R=ya.AD(T);Y20=2;break;Y20=1;break;case 5:ea=P.Kd[0].R;Object.keys(R).forEach(function(sa){var Z20,la;Z20=2;for(;Z20 !== 5;){switch(Z20){case 2:la=ea.Tw(T,sa);la && la.me && (R[sa].W4(la),sa=ya.ex,sa[T] > Y[T] && (Y[T]=sa[T]));Z20=5;break;}}});Y20=3;break;case 1:Y20=R?5:3;break;case 7:Y20=R?6:0;break;Y20=R?5:3;break;case 2:R=ya.AD(T);Y20=1;break;}}});X20=17;break;case 26:N.cTa();O.replace || this.Pa.Wsb(ya,Z,ja);X20=24;break;case 9:X20=!O.xcc && (this.Ur && U.yr || this.dn && Z.yr)?8:7;break;case 17:var W9p="bool";W9p+="e";W9p+="a";W9p+="n";ra.forEach(function(pa,T){var a30,R;a30=2;for(;a30 !== 5;){switch(a30){case 2:R=ya.AD(T);R && Object.keys(R).forEach(function(ea){var b30;b30=2;for(;b30 !== 1;){switch(b30){case 2:R[ea].Lcb(u.default.Zo()[T],ya.Ww()?S.h4a:0);b30=1;break;}}});a30=5;break;}}});N.fU=W9p === typeof O.Dub?O.Dub:!0;this.Kd[U] && this.Kd[U].fd();this.Kd[U]=N;X20=26;break;case 24:var P9p=",";P9p+=" ";var Q9p=") ";Q9p+="lastSt";Q9p+="r";Q9p+="eamAppended:";Q9p+=" (";var i9p=",";i9p+=" ";var U9p=" streamC";U9p+="oun";U9p+="t";U9p+=":";U9p+=" (";var d9p=" pl";d9p+="ayerS";d9p+="t";d9p+="ate: ";var n9p="a";n9p+="ddM";n9p+="anifest, currentPt";n9p+="s: ";O=this.Cb.hx[0].fI;U=this.Cb.hx[1].fI;S.ti && this.Gb.Mm(n9p + this.X.Te() + d9p + this.X.getState() + U9p + N.Bq(0).ae.length + i9p + N.Bq(1).ae.length + Q9p + O + P9p + U + ")");this.Ur && f.ka(O) || this.dn && f.ka(U) || (N.R.yP([N.Bq(0),N.Bq(1)]),this.G3());X20=35;break;}}};J.prototype.ZT=function(N){var c30;c30=2;for(;c30 !== 1;){switch(c30){case 4:return this.io.ZT(N);break;c30=1;break;case 2:return this.io.ZT(N);break;}}};J.prototype.Mz=function(N){var d30,O,P,S,U,Z;d30=2;for(;d30 !== 7;){switch(d30){case 2:S=this.J;d30=1;break;case 1:d30=!this.wn()?5:7;break;case 9:var X9p="drmRe";X9p+="ad";X9p+="y";a000.C3p(2);this.X.BZ(a000.F3p("",N),O);O && (this.Tg.forEach(function(ja){var e30;e30=2;for(;e30 !== 5;){switch(e30){case 2:S.m6 && ja.bYa();ja.Mz();e30=5;break;}}}),S.Tba && this.KT(),this.Ge.R.nf.He && this.F3(this.io.CC?this.io.CC.Qb:this.JL + 1),S.Tr || (null === (P=this.Hh) || void 0 === P?0:P.FD()) || this.yy.cz || this.ST(X9p),this.io.Tga());d30=7;break;case 5:var F9p=" readyS";F9p+="t";F9p+="a";F9p+="te:";F9p+=" ";var y9p=" for m";y9p+="ovi";y9p+="eId";y9p+=": ";var s9p=",";s9p+=" ";var v9p="drmRea";v9p+="d";v9p+="y";v9p+=" at stre";v9p+="aming pts: ";f.ka(O) && (O=!0);(U=this.Pa.Yc.Ud(0),Z=this.Pa.Yc.Ud(1));S.ti && this.Gb.Mm(v9p + (U?U.Bc:null) + s9p + (Z?Z.Bc:null) + y9p + N + F9p + O);d30=9;break;}}};G10=48;break;case 72:J.prototype.u3=function(N,O){var D30,P,S,U,Z,ja;D30=2;for(;D30 !== 19;){switch(D30){case 14:this.pga=u.default.time.fa();U.Jl=Z.Jl=this.pga;0 === N && (!this.dn || 0 < Z.Zu) && (!this.Ur || 0 < U.Zu) && this.Cb.Cy();S.DV && (this.Lga=setTimeout(function(){var F30;F30=2;for(;F30 !== 1;){switch(F30){case 2:P.erb();F30=1;break;}}},S.Ama));this.X.ug() && (this.jL=setTimeout(function(){var G30;G30=2;for(;G30 !== 1;){switch(G30){case 4:P.Cb.Cy();G30=4;break;G30=1;break;case 2:P.Cb.Cy();G30=1;break;}}},S.YA));this.rg.gk();D30=19;break;case 9:var C9p="st";C9p+="ar";C9p+="tB";C9p+="uffering";this.Ay.reset();this.Ge.R.Nta();this.emit(C9p);h.Df.forEach(function(ya){var E30;E30=2;for(;E30 !== 5;){switch(E30){case 2:E30=(ya=P.Pa.Yc.Ud(ya))?1:5;break;case 1:(ya.Zja=0,ya.seeking=0 === N || 1 === N,ya.Lka());E30=5;break;}}});D30=14;break;case 2:(P=this,S=this.J,U=this.Cb.Of[0] || ({}),Z=this.Cb.Of[1] || ({}),ja=this.Cb.vB[1] || ({}));(this.Cb.vB[0] || ({})).DU=void 0;ja.DU=void 0;this.X.Xe(2 === N?g.sa.Tf:g.sa.xd);this.Gb.Opb(O);D30=9;break;}}};J.prototype.ST=function(N){var H30,O;H30=2;for(;H30 !== 3;){switch(H30){case 2:var I9p="AdoptingDat";I9p+="a still has lo";I9p+="ck:";var g9p="wipeHea";g9p+="derC";g9p+="ache:";a000.g3p(2);N=a000.y3p(N,g9p);this.yy.cz && this.Vk(I9p + N);O=this.J;H30=4;break;case 4:O.xI || (O.ti && this.Gb.Mm(N),this.qc.ZC(),this.Hh && (this.Hh=void 0));H30=3;break;}}};J.prototype.XNa=function(N){var I30,P,S,U,Z;I30=2;function O(ja,ya){var J30,T,R,ea,sa,ra,Y,pa;J30=2;for(;J30 !== 10;){switch(J30){case 5:(T=Y.Ta,R=Y.header.stream,ea=P.Cb.Of[ra],sa=P.Cb.vB[ra]);f.ka(ya.JD) || P.Cg.G$a(ya.JD,ya.ep,ya.fp);sa.pA=ya.pA;sa.Pw=ya.Pw;J30=8;break;case 2:(ra=ja.mediaType,Y=ya[ra],pa=Promise.resolve(void 0));J30=1;break;case 6:J30=!Y.header?14:13;break;case 13:ya=P.Ge.R;J30=12;break;case 14:var c9p="adop";c9p+="t";c9p+="Pipeline ";c9p+="no header for stream";c9p+="Id:";return (ja.Vk(c9p,T),pa);break;case 7:return pa;break;case 1:J30=Y?5:11;break;case 12:ya.L3(Y.header,!ya.nf.He && !ya.Vi && 1 === ra,!0) && (void 0 !== ja.JI && ja.rJ(ja.JI),pa=ya.kl(ra,T).stream.Y.Nn(ja.Bc,void 0,!0),ya=R.jl(pa),R=ya.$,(ya=ya.pna(ja.Bc)) && 0 < ya.Fd && (R=ya.Fd),ja.Bc !== R && (ja.PP(R,pa),P.eia(ra,R)),pa=P.Xmb(ja,Y.data).then(function(){var K30;K30=2;for(;K30 !== 1;){switch(K30){case 4:return T;break;K30=1;break;case 2:return T;break;}}}),ea.QFb=!0,0 === ra && P.Cg.MP(Y.header.bitrate));J30=11;break;case 11:return pa;break;case 8:J30=!ja.L4b(T)?7:6;break;}}}for(;I30 !== 13;){switch(I30){case 9:return (this.qc.hka(),Promise.resolve());break;case 2:var L9p="Previo";L9p+="usly adopted request li";L9p+="st still retained was unexpected";P=this;(null === (S=this.Hh) || void 0 === S?0:S.FD()) && this.Vk(L9p);this.Hh=void 0;U=this.J;I30=3;break;case 8:var N9p="ch";N9p+="eckForHcdS";N9p+="t";N9p+="a";N9p+="rt";this.Gb.km(N9p);this.Kd.forEach(function(ja){var L30;L30=2;for(;L30 !== 1;){switch(L30){case 2:ja.R.K === N && (Z=ja);L30=1;break;}}});I30=14;break;case 3:I30=!this.Zrb || !this.qc.Jf?9:8;break;case 14:return this.qc.Jf.EPb(N,Z?Z.R:void 0).then(function(ja){var M30,ya,ra;M30=2;for(;M30 !== 8;){switch(M30){case 5:var D9p="headerCac";D9p+="heDataN";D9p+="otFound";return (U.Tr || P.yy.cz || P.ST(D9p),Promise.resolve());break;case 2:var A9p="checkFo";A9p+="rHcdE";A9p+="nd";P.Gb.km(A9p);M30=1;break;case 4:var f9p="a";f9p+="d";f9p+="optHc";f9p+="dS";f9p+="tart";(ya=P.Pa.Yc.Ud(0),ra=P.Pa.Yc.Ud(1));P.Gb.km(f9p);return P.yy.Cza(function(){var N30,Y,pa;N30=2;for(;N30 !== 7;){switch(N30){case 3:var z9p="adoptHc";z9p+="dE";z9p+="nd";P.NOa=ja;P.Gb.km(z9p);return Promise.all([Y,pa]);break;case 2:Y=Promise.resolve();P.dn && (Y=O(ra,ja));pa=Promise.resolve();!P.Ur || U.x0a && !Y || (pa=U.x0a?Y.then(function(T){var O30;O30=2;for(;O30 !== 1;){switch(O30){case 2:return T?O(ya,ja):Promise.resolve();break;}}}):O(ya,ja));N30=3;break;}}});break;case 1:M30=f.ka(ja)?5:4;break;}}}).then(function(){var P30,ja;P30=2;for(;P30 !== 5;){switch(P30){case 2:var o9p="adopt";o9p+="e";o9p+="dC";o9p+="omplete";o9p+="dRequests";U.Tr || (null === (ja=P.Hh) || void 0 === ja?0:ja.FD()) || P.yy.cz || !P.X.hp(P.Ge.R) || P.ST(o9p);P30=5;break;}}}).catch(function(ja){var Q30;Q30=2;for(;Q30 !== 1;){switch(Q30){case 2:var G9p="headerCache";G9p+=":lookupDataPromise c";G9p+="aught error:";P.Ub(G9p,ja);Q30=1;break;}}});break;}}};J.prototype.Xmb=function(N,O){var R30,P,S,U,Z,ja,ya,ra;R30=2;for(;R30 !== 9;){switch(R30){case 2:P=this;R30=1;break;case 1:R30=0 === O.length?5:4;break;case 5:return Promise.resolve();break;case 6:R30=7 != O.length?4:8;break;R30=0 === O.length?5:4;break;case 4:(S=N.I8,U=S.H,Z=Math.min(this.Kd[0].La || Infinity,S.Mc || Infinity),ja=N.mediaType,ya=this.Cb.Of[ja]);return this.yy.Cza(function(){var S30,pa;S30=2;for(;S30 !== 3;){switch(S30){case 2:pa=[];S30=1;break;case 1:S30=0 < O.length?5:4;break;case 5:Y();S30=1;break;case 6:Y();S30=7;break;S30=1;break;case 4:return Promise.all(pa);break;case 14:return Promise.all(pa);break;S30=3;break;}}function Y(){var T30,T;T30=2;for(;T30 !== 5;){switch(T30){case 2:var Y6p="adoptD";Y6p+="ata, not adopting fai";Y6p+="led mediaRequ";Y6p+="est:";var O6p="adoptData, not";O6p+=" adopting aborted";O6p+=" mediaRequest:";T=O.shift();7 === T.readyState?N.Ub(O6p,T.toString()):6 === T.readyState?(N.Ub(Y6p,T.toString()),P.AG(T,!1)):N.Bc >= T.gd && N.Bc < T.Mc && (N.Bc < Z || !f.Ea(Z))?(pa.push(P.Ymb(N,T).then(function(){var U30;U30=2;for(;U30 !== 1;){switch(U30){case 2:T.complete && P.b0a(T);U30=1;break;case 4:T.complete || P.b0a(T);U30=9;break;U30=1;break;}}})),N.o_b(T.Mc),f.Ea(Z) && N.Bc >= Z && P.Gb.Gha(U,T.Mc),0 === ja && P.Cg.MP(T.bitrate),T.complete?(ya.Zu+=T.duration,T.mPb && (ya.yY+=T.duration),ra=T):(P.Hh || (P.Hh=new D.Rza(P.I)),P.Hh.push(T))):P.AG(T,!1);T30=5;break;}}}}).then(function(){var V30,pa,Y;V30=2;for(;V30 !== 8;){switch(V30){case 5:V30=ra || (null === (Y=P.Hh) || void 0 === Y?0:Y.FD())?4:8;break;case 4:Y=P.Kd[S.R.Qb];pa=N.ina(N.Bc);void 0 !== pa?(N.Xn=pa,N.ke=Y.R.yh[ja].stream.jl(N.Xn)):N.Xn=N.Kf?N.Kf.index + 1:N.Xn + 1;V30=8;break;case 2:ra && N.c0a(ra);V30=5;break;}}});break;}}};J.prototype.Ymb=function(N,O){var W30,P,S;W30=2;for(;W30 !== 3;){switch(W30){case 2:var J6p=",";J6p+=" ";J6p+="p";J6p+="t";J6p+="s: ";var E6p=", s";E6p+="ta";E6p+="te";E6p+=": ";var S6p="adoptMediaRequest:";S6p+=" ty";S6p+="pe: ";(P=this,S=N.mediaType);this.J.ti && this.Gb.Mm(S6p + S + E6p + O.readyState + J6p + O.gd);this.eia(S,O.gd);return N.Ua.qtb(O).catch(function(U){var X30;X30=2;for(;X30 !== 1;){switch(X30){case 2:var w6p="Err";w6p+="or ad";w6p+="opting ";w6p+="request";w6p+="s";P.Vk(w6p,U);X30=1;break;}}});break;}}};J.prototype.aia=function(N,O,P){var Y30,S;Y30=2;for(;Y30 !== 9;){switch(Y30){case 2:S=this;void 0 === O && (O=F.wS.Hja);(P || this.Pa.Yc).nwa(N,O);this.Ay.reset();(void 0 === N?h.Df:[N]).forEach(function(U){var Z30;Z30=2;for(;Z30 !== 1;){switch(Z30){case 2:S.oc(U) && (S.lw[U].reset(),S.nrb(U),S.Cg.lTb(U));Z30=1;break;}}});Y30=9;break;}}};J.prototype.Rxa=function(){var a40,N;a40=2;for(;a40 !== 5;){switch(a40){case 2:N=this;h.Df.forEach(function(O){var b40,P;b40=2;for(;b40 !== 5;){switch(b40){case 2:null === (P=N.lw[O]) || void 0 === P?void 0:P.stop();b40=5;break;}}});a40=5;break;}}};J.prototype.xJ=function(N){var c40,O;c40=2;for(;c40 !== 4;){switch(c40){case 2:O=this;(void 0 === N?h.Df:[N]).forEach(function(P){var d40,S;d40=2;for(;d40 !== 5;){switch(d40){case 2:null === (S=O.lw[P]) || void 0 === S?void 0:S.resume();d40=5;break;}}});return Promise.resolve();break;}}};J.prototype.KT=function(N){var e40,O,P;e40=2;for(;e40 !== 3;){switch(e40){case 2:O=this;N=void 0 === N?h.Df:[N];null === (P=this.Ay) || void 0 === P?void 0:P.reset();N.forEach(function(S){var f40,U;f40=2;for(;f40 !== 5;){switch(f40){case 2:null === (U=O.lw[S]) || void 0 === U?void 0:U.resume();f40=5;break;}}});e40=3;break;}}};J.prototype.nrb=function(N){var g40,O;g40=2;for(;g40 !== 3;){switch(g40){case 14:O.yY=7;g40=6;break;g40=3;break;case 4:O.yY=0;g40=3;break;case 2:O=this.Cb.Of[N];this.Cb.hx[N].xra=void 0;O.Zu=0;g40=4;break;}}};G10=87;break;case 94:J.prototype.Iob=function(N,O){var G40;G40=2;for(;G40 !== 5;){switch(G40){case 2:O=d.XZa(O);this.jga[N.mediaType]=O;G40=5;break;}}};Object.defineProperties(J.prototype,{fz:{set:function(N){var H40;H40=2;for(;H40 !== 1;){switch(H40){case 2:this.Cb.fz=N;H40=1;break;}}},enumerable:!1,configurable:!0}});return J;break;case 59:J.prototype.T5=function(N,O){var q30,r30,P,S;q30=2;for(;q30 !== 6;){switch(q30){case 8:O=S.eHb();try{r30=2;for(;r30 !== 1;){switch(r30){case 4:this.Gb.Tpb(O);r30=4;break;r30=1;break;case 2:this.Gb.Tpb(O);r30=1;break;}}}catch(U){var e6p="]";e6p+=" ";e6p+="[";var R6p="exc";R6p+="epti";R6p+="o";R6p+="n";R6p+=": [";this.I.error(R6p + U.message + e6p + U.Wec + "]");}q30=6;break;case 3:q30=O?9:8;break;case 2:P=this.Cb;N=P.fna(N,O);S=this.Cg.rva;N && !N.hM && S.Tma(N);q30=3;break;case 9:P.mwa();q30=6;break;}}};J.prototype.nka=function(N,O){var s30;s30=2;for(;s30 !== 5;){switch(s30){case 2:a000.C3p(3);v.assert(a000.y3p(0,O));return this.Kd[O].$vb(N);break;}}};J.prototype.Xt=function(N,O){var t30,S,P;t30=2;for(;t30 !== 7;){switch(t30){case 4:S=P.Ee;t30=3;break;case 5:t30=P?4:8;break;case 3:f.Ea(S) || (S=this.Kd[N].bx);a000.g3p(1);return a000.y3p(O,S);break;case 2:void 0 === N && (N=this.CY);P=this.Pa.vFb(O,N);t30=5;break;case 8:(P=this.Pa.gna(N),0 < P.length && (P=P[0],S=P.Ee));t30=3;break;}}};J.prototype.IM=function(N,O){var u30,S,P;u30=2;for(;u30 !== 7;){switch(u30){case 4:S=P.Ee;u30=3;break;case 8:(P=this.Pa.gna(N),0 < P.length && (P=P[0],S=P.Ee));u30=3;break;case 5:u30=P?4:8;break;case 2:void 0 === N && (N=this.CY);P=this.Pa.uFb(O,N);u30=5;break;case 3:f.Ea(S) || (S=this.Kd[N].bx);a000.C3p(2);return a000.F3p(S,O);break;}}};J.prototype.SL=function(){var v30,N;v30=2;for(;v30 !== 4;){switch(v30){case 2:N=this.X.ug();v30=1;break;case 1:v30=N || this.Cb.fz?5:4;break;case 8:v30=N && this.Cb.fz?6:6;break;v30=N || this.Cb.fz?5:4;break;case 5:(N && this.Gb.Fha(),this.TT(),this.X.Xe(g.sa.Lc),this.rg.gk());v30=4;break;}}};J.prototype.hia=function(){var w30,N,O;w30=2;for(;w30 !== 3;){switch(w30){case 2:(N=this,O=this.X.ug());w30=1;break;case 1:this.Pa.Yc.Haa(O,function(P){var x30;x30=2;for(;x30 !== 1;){switch(x30){case 2:return N.Tg[P]?N.Tg[P].Faa():"";break;}}});this.jL && (clearTimeout(this.jL),this.jL=void 0);this.Ay.cQb();w30=3;break;}}};J.prototype.hQa=function(N){var y30,O,z30;y30=2;for(;y30 !== 7;){switch(y30){case 2:N.ei=!0;N.yr=!1;O=this.X.Te() || 0;y30=4;break;case 4:N.zM(O);this.Cb.Cy();y30=9;break;case 9:y30=this.gs && 1 === N.mediaType?8:7;break;case 8:try{z30=2;for(;z30 !== 1;){switch(z30){case 2:this.T5(g.sa.Hr,{La:N.Mc});z30=1;break;}}}catch(P){var Z6p="H";Z6p+="indsight: Error evaluating QoE at endOf";Z6p+="Stream: ";a000.g3p(2);this.Gb.Yn(a000.F3p(P,Z6p));}y30=7;break;}}};J.prototype.erb=function(){var A30,N;A30=2;for(;A30 !== 5;){switch(A30){case 2:N=this.qc.Rb;N && (N=N.get()) && N.avtp && this.rv.Csb({avtp:N.avtp.Ha});A30=5;break;}}};J.prototype.Hrb=function(){var B30,N,O,P;B30=2;for(;B30 !== 4;){switch(B30){case 2:var p6p="start";p6p+="up, playerSta";p6p+="te no lon";p6p+="ger STAR";p6p+="TING:";var M6p="fail";M6p+="ed to star";M6p+="t au";M6p+="dio pipeline";var K6p="failed t";K6p+="o s";K6p+="tart ";K6p+="video pipeline";this.X.Xe(g.sa.Gh);(N=this.Pa.Yc,O=N.Ud(0),P=N.Ud(1));this.dn && !this.nQa(P)?this.Ub(K6p):this.Ur && !this.nQa(O)?this.Ub(M6p):(this.JPa=!0,this.Kd[0].R.y7=!0,O=this.Cb.Of[1],P=this.Cb.Of[0],(O && 0 < O.Zu || P && 0 < P.Zu) && this.Gb.Rpb(String(N.R.K),P?P.Zu:0,O?O.Zu:0,P?P.yY:0,O?O.yY:0),this.X.j2a()?(this.u3(0),this.Ur && (N=this.Ge.K6(0),O=this.Ge.Bq(0).trackId,this.Gb.Upb(N,O))):this.Ub(p6p,this.X.getState()));B30=4;break;}}};J.prototype.nQa=function(N){var C30,O,P;C30=2;for(;C30 !== 14;){switch(C30){case 2:(O=N.mediaType,P=this.Cb.FJb(N));C30=1;break;case 4:N=N.track.ae[P];C30=3;break;case 3:C30=N.kl()?9:8;break;case 1:C30=f.ka(P)?5:4;break;case 9:return !0;break;case 8:P=this.Ge.R;N.R.MUa(N,{offset:0,nD:!P.nf.He && !P.Vi && 1 === O,Ow:!this.Cb.Of[O].QFb});return !0;break;case 5:var T6p="NFErr_MC_S";T6p+="treamingInitFail";T6p+="ure";var u6p="startPipelin";u6p+="e ";u6p+="failed";return (this.wn() || this.Wp(u6p,N.ib.R.Qb,T6p),!1);break;}}};G10=72;break;case 13:Object.defineProperties(J.prototype,{rv:{get:function(){var W10;W10=2;for(;W10 !== 1;){switch(W10){case 2:return this.qc.rv;break;case 4:return this.qc.rv;break;W10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{Ms:{get:function(){var X10;X10=2;for(;X10 !== 1;){switch(X10){case 2:return this.irb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{P8:{get:function(){var Y10;Y10=2;for(;Y10 !== 1;){switch(Y10){case 4:return this.IL;break;Y10=1;break;case 2:return this.IL;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{xY:{get:function(){var Z10;Z10=2;for(;Z10 !== 1;){switch(Z10){case 2:return this.h3;break;}}},enumerable:!1,configurable:!0}});J.prototype.oc=function(N){var a20;a20=2;for(;a20 !== 1;){switch(a20){case 4:return this.Mrb[N];break;a20=1;break;case 2:return this.Mrb[N];break;}}};J.prototype.$V=function(){var b20;b20=2;for(;b20 !== 1;){switch(b20){case 4:return u.default.time.fa() * this.pga;break;b20=1;break;case 2:return u.default.time.fa() - this.pga;break;}}};J.prototype.TZa=function(){var c20;c20=2;for(;c20 !== 1;){switch(c20){case 2:return (this.Kd || []).reduce(function(N,O){var d20,P;d20=2;for(;d20 !== 4;){switch(d20){case 2:P=O.R;h.Df.forEach(function(S){var e20;e20=2;for(;e20 !== 1;){switch(e20){case 2:P.ex[S] > N[S] && (N[S]=P.ex[S]);e20=1;break;}}});return N;break;}}},[0,0]);break;}}};J.prototype.uO=function(){var f20,N;f20=2;for(;f20 !== 4;){switch(f20){case 2:N=0;f.forEach(this.Ge.R.oa.audio_tracks,function(O){var g20;g20=2;for(;g20 !== 1;){switch(g20){case 2:f.forEach(O.streams,function(P){var h20;h20=2;for(;h20 !== 1;){switch(h20){case 2:N=Math.max(N,P.bitrate);h20=1;break;}}});g20=1;break;}}});return N;break;}}};J.prototype.wh=function(N){var i20;i20=2;for(;i20 !== 1;){switch(i20){case 2:return this.Kd[N];break;}}};J.prototype.gIb=function(){var j20,N;j20=2;for(;j20 !== 5;){switch(j20){case 2:N=this.Kd[0];return N.R.nf.He?this.Kd[1]:N;break;}}};G10=27;break;case 32:J.prototype.Eua=function(){};J.prototype.close=function(){var B20;B20=2;for(;B20 !== 4;){switch(B20){case 2:this.t$a.Ib();this.Kd.forEach(function(N){var C20;C20=2;for(;C20 !== 1;){switch(C20){case 2:N.close();C20=1;break;}}});this.cj.close();B20=4;break;}}};J.prototype.$8a=function(){var D20;D20=2;for(;D20 !== 1;){switch(D20){case 2:this.qc.arb(this);D20=1;break;}}};J.prototype.fd=function(){var E20,N;E20=2;for(;E20 !== 20;){switch(E20){case 3:this.sV.Vnb();null === (N=this.Ay) || void 0 === N?void 0:N.reset();this.lw.forEach(function(O){var F20;F20=2;for(;F20 !== 1;){switch(F20){case 2:O.reset();F20=1;break;}}});this.X.Xe(g.sa.nj);this.Kd.forEach(function(O){var G20;G20=2;for(;G20 !== 1;){switch(G20){case 2:O.fd();G20=1;break;}}});E20=14;break;case 2:this.Cg.YSb();this.s2();this.Pa.Ib();E20=3;break;case 11:var k6p="Err";k6p+="o";k6p+="r o";k6p+="n MediaSource de";k6p+="stroy: ";this.mg=void 0;f.ka(N) || N.qq() || this.Ub(k6p,N.error);E20=20;break;case 14:this.Kd=[];this.Mi.clear();N=this.mg;E20=11;break;}}};J.prototype.suspend=function(){var H20;H20=2;for(;H20 !== 1;){switch(H20){case 2:this.cj.suspend();H20=1;break;}}};J.prototype.resume=function(){var I20;I20=2;for(;I20 !== 1;){switch(I20){case 2:this.cj.resume();I20=1;break;case 4:this.cj.resume();I20=3;break;I20=1;break;}}};J.prototype.wn=function(){var J20;J20=2;for(;J20 !== 1;){switch(J20){case 2:return this.cj.wn();break;case 4:return this.cj.wn();break;J20=1;break;}}};J.prototype.Crb=function(){var K20,N;K20=2;for(;K20 !== 8;){switch(K20){case 3:this.z3 || (this.z3=setInterval(this.Gb.jqb.bind(this.Gb),N.$xa));this.Ms && !this.o2 && (this.o2=setInterval(this.Gb.wPa.bind(this.Gb),N.a4));K20=8;break;case 2:N=this.J;this.NC && clearTimeout(this.NC);this.NC=setTimeout(this.TT.bind(this),N.Eba);this.zy || (this.zy=setInterval(this.Gb.xPa.bind(this.Gb),N.qM));K20=3;break;}}};J.prototype.s2=function(){var L20;L20=2;for(;L20 !== 7;){switch(L20){case 3:this.jL && (clearTimeout(this.jL),this.jL=void 0);this.Lga && (clearTimeout(this.Lga),this.Lga=void 0);this.rg.s2();L20=7;break;case 2:this.NC && (clearTimeout(this.NC),this.NC=void 0);this.zy && (clearInterval(this.zy),this.zy=void 0);this.z3 && (clearInterval(this.z3),this.z3=void 0);this.o2 && (clearInterval(this.o2),this.o2=void 0);L20=3;break;}}};J.prototype.play=function(){var M20;M20=2;for(;M20 !== 1;){switch(M20){case 2:this.cj.play();M20=1;break;}}};G10=39;break;case 104:J.prototype.tWb=function(N,O,P){var t40,S;t40=2;for(;t40 !== 6;){switch(t40){case 9:N.Bq(0).ae.some(function(U){var u40;u40=2;for(;u40 !== 4;){switch(u40){case 5:return ! !S;break;case 9:S=U.kl();u40=4;break;u40=1;break;case 2:S=U.kl();u40=1;break;case 7:return + ~S;break;u40=4;break;case 1:u40=!(S && S.stream && S.stream.Y && P < S.stream.Y.Kj(0))?5:4;break;}}});t40=8;break;case 4:t40=N.R.y7?3:7;break;case 2:k.gn.Cq(0);N=this.Kd[N];N.Sya(O);t40=4;break;case 7:this.KT(0);t40=6;break;case 3:t40=9;break;case 8:S?(N.R.yh[0]=S,N.NY=!1,S.stream.me && N.z4()):(N.R.yh[0]=void 0,N.NY=!1,N.R.yP([N.Bq(0)],!0,0));t40=7;break;}}};J.prototype.Uqb=function(N,O){var v40,P;v40=2;for(;v40 !== 4;){switch(v40){case 2:P=this.Tg[N.mediaType];N=this.Pa.JY(N.ib,N.mediaType,O,this.qc.sB || 0,function(S){var w40;w40=2;for(;w40 !== 1;){switch(w40){case 4:P.eaa(S);w40=0;break;w40=1;break;case 2:P.eaa(S);w40=1;break;}}});f.ka(N) || this.rg.gk();v40=4;break;}}};J.prototype.Eob=function(N){var x40,O,P,S;x40=2;for(;x40 !== 8;){switch(x40){case 4:this.Arb(N,O);this.J=this.xUa.dnb(O.Lg,this.J);this.Kd.forEach(function(U,Z){var y40,ja;y40=2;for(;y40 !== 5;){switch(y40){case 2:ja=U.R;ja.y7 || 0 === Z || ja.yP([U.Bq(0),U.Bq(1)]);y40=5;break;}}});x40=8;break;case 2:(O=N.mediaType,P=N.manifestIndex,S=N.streamId);N=this.Pa.Yc.kb(O);O=this.Kd[P].R.Tw(O,S);x40=4;break;}}};J.prototype.Hob=function(N){var z40,O,P;z40=2;for(;z40 !== 8;){switch(z40){case 3:O.k6 && this.Gb.Qpb(O);O.Lq && this.Gb.dqb(N,O.R.Qb,P.H);z40=8;break;case 2:O=N.request;N=N.mediaType;P=O.Ua.ib;P.YPb(N);z40=3;break;}}};J.prototype.Arb=function(N,O){var A40;A40=2;for(;A40 !== 1;){switch(A40){case 2:this.Cb.hx[N.mediaType].fI={id:O.Ta,index:O.Pf,bitrate:O.bitrate,Sa:O.zb && O.zb.confidence && O.zb.Sa?O.zb.Sa.Ha:0,location:O.location};A40=1;break;}}};J.prototype.W7=function(N){var B40,ra,Y,pa,O,P,S,U,Z,ja,ya;B40=2;for(;B40 !== 11;){switch(B40){case 1:B40=!ya.Yc.Lh?5:12;break;case 5:(ra=ya.Yc,Y=ra.Ud(0),pa=ra.Ud(1));Z.vspts=null !== (O=null === pa || void 0 === pa?void 0:pa.Bc) && void 0 !== O?O:0;Z.aspts=null !== (P=null === Y || void 0 === Y?void 0:Y.Bc) && void 0 !== P?P:0;Z.vbuflbytes=null !== (S=null === pa || void 0 === pa?void 0:pa.Hn.ga) && void 0 !== S?S:0;Z.abuflbytes=null !== (U=null === Y || void 0 === Y?void 0:Y.Hn.ga) && void 0 !== U?U:0;B40=7;break;case 12:return Z;break;case 7:Z.vbuflmsec=ya.Cw(ra,1);Z.abuflmsec=ya.Cw(ra,0);N && (Z.a=null === Y || void 0 === Y?void 0:Y.Ua.Y.toJSON(),Z.v=null === pa || void 0 === pa?void 0:pa.Ua.Y.toJSON());B40=13;break;case 2:(Z={},ja=this.Tg,ya=this.Pa);B40=1;break;case 13:N && ja && (N=ja[1],ja=ja[0],Z.atoappend=null === N || void 0 === N?void 0:N.Faa(),Z.vtoappend=null === ja || void 0 === ja?void 0:ja.Faa());B40=12;break;}}};J.prototype.I_a=function(N){var C40,S,U,O,P,Z,ja;C40=2;for(;C40 !== 8;){switch(C40){case 5:(S=this.Cb.hx[N],U=this.Pa.NG(O,N));S=S.fI?S.fI.bitrate:0;C40=3;break;case 2:(O=this.Pa.Yc,P=O.kb(N));C40=1;break;case 1:C40=P?5:8;break;case 3:(Z=P.Ua.iua,ja=this.Pa.Ee);return {type:N,availableMediaBuffer:u.default.Zo()[N] - U,completeBuffer:O.Oh(N),incompleteBuffer:Z,playbackBitrate:P.s7a,streamingBitrate:S,streamingTime:P.Bc + ja,usedMediaBuffer:U,toappend:P.h5b};break;}}};J.prototype.rYb=function(){var D40,N;D40=2;for(;D40 !== 5;){switch(D40){case 2:var H6p="request";H6p+="Garbag";H6p+="eCollection";N={type:H6p,time:u.default.time.fa()};w.Ya(this,N.type,N);D40=5;break;}}};J.prototype.Wp=function(N,O,P,S,U,Z,ja){var E40;E40=2;for(;E40 !== 5;){switch(E40){case 2:var b6p="NF";b6p+="Err_MC_Streami";b6p+="ngFailure";void 0 === ja && (ja=!1);this.y3 || (f.ka(P) && (P=b6p),this.y3=!0,this.Gb.hqb(P,N,S,U,Z,void 0 !== O?O:this.CY,ja));E40=5;break;}}};J.prototype.KOa=function(){var F40;F40=2;for(;F40 !== 5;){switch(F40){case 2:var l6p="Network fai";l6p+="lures ";l6p+="reset";l6p+="!";this.Ub(l6p);this.rg.gk();F40=5;break;}}};G10=94;break;case 48:J.prototype.v7=function(){var f30;f30=2;for(;f30 !== 1;){switch(f30){case 4:return this.X.hp(this.Ge.R);break;f30=1;break;case 2:return this.X.hp(this.Ge.R);break;}}};J.prototype.YNa=function(N){var g30,O,P,S;g30=2;for(;g30 !== 11;){switch(g30){case 1:return !1;break;case 2:g30=N >= this.Kd.length?1:5;break;case 6:N=P.yh[0];O=P.yh[1];O=!this.dn || O && O.stream.me;return (!this.Ur || N && N.stream.me) && O?!0:!1;break;case 5:(O=this.Pa.Yc.Ud(0),P=this.Pa.Yc.Ud(1));O=!O || O.ei;S=!P || P.ei;P=this.Kd[N].R;g30=8;break;case 8:g30=!(N === this.JL + 1 && P.nf.replace || O && S) || !this.X.hp(P)?7:6;break;case 7:return !1;break;}}};J.prototype.G3=function(){var h30;h30=2;for(;h30 !== 1;){switch(h30){case 2:this.F3(this.JL + 1);h30=1;break;}}};J.prototype.F3=function(N){var i30,O;i30=2;for(;i30 !== 6;){switch(i30){case 4:i30=O.XEb || !O.R.nf.replace?3:9;break;case 1:return !1;break;case 2:i30=!this.YNa(N)?1:5;break;case 5:O=this.Kd[N];i30=4;break;case 9:this.Nrb(N);this.rg.gk();return !0;break;case 3:return !1;break;}}};J.prototype.Nrb=function(N){var j30,O,P,S,U,Z,ja;j30=2;for(;j30 !== 20;){switch(j30){case 2:(O=this.Kd[N],P=this.J,S=this.Pa.Yc,U=S.kb(0));U=U?U.Bc:void 0;j30=5;break;case 5:var t6p=",";t6p+=" ";var x6p=", st";x6p+="re";x6p+="ami";x6p+="n";x6p+="gPts: ";var V6p="switc";V6p+="h";V6p+="Man";V6p+="ifest ";V6p+="manifestIndex: ";Z=S.kb(1);Z=Z?Z.Bc:void 0;P.ti && this.Gb.Mm(V6p + N + x6p + U + t6p + Z);j30=9;break;case 9:P=this.Ge;j30=8;break;case 8:U=P.R.nf.He;ja=[];[1,0].forEach(function(ya){var k30;k30=2;for(;k30 !== 1;){switch(k30){case 2:O.R.oc(ya) && (ja[ya]=O.Bq(ya));k30=1;break;}}});U?this.Pa.eYb(P.R,O.R,ja):S.Z$a(O.R,ja);this.hPa(N);O.rta();this.io.Tga();j30=10;break;case 10:this.rg.gk();j30=20;break;}}};J.prototype.a6a=function(){var l30,N,O,P,S;l30=2;for(;l30 !== 6;){switch(l30){case 2:(N=this.Pa.Yc,O=N.kb(0));l30=1;break;case 5:var B6p="onAudioTrackSwitc";B6p+="hStarted but current playing reque";B6p+="st not found";(P=this.X.Te(),S=this.Cb.Of[O.mediaType]);(N=this.Pa.ku(P,N,0))?O=N.Ua:(this.Ub(B6p),O=O.Ua);this.Oqb(O);S.EQ=!1;this.rg.gk();l30=6;break;case 7:var r6p="onAudioTrackSwitchStarted i";r6p+="gnored, no audio";r6p+=" ";r6p+="pipeline";this.Ub(r6p);l30=6;break;case 1:l30=O?5:7;break;}}};J.prototype.eba=function(N){var m30,Z,O,U,S,P;m30=2;for(;m30 !== 35;){switch(m30){case 15:Z=this.Ge.Bq(0).trackId;m30=27;break;case 2:O=this.J;m30=1;break;case 11:U=this.Pa.Cw(S,1);m30=10;break;case 13:S=this.Pa.Yc;m30=12;break;case 6:m30=P.EQ?14:13;break;case 7:P=this.Cb.Of[0];m30=6;break;case 12:m30=this.X.getState() === g.sa.Lc?11:19;break;case 21:return !0;break;case 25:var j6p=" t";j6p+="o";j6p+=":";j6p+=" ";var h6p="switch";h6p+="Tracks c";h6p+="urren";h6p+="t: ";O.ti && this.Gb.Mm(h6p + Z + j6p + U.trackId);P.N9={trackId:N};O=S.kb(0);this.Grb(O);m30=21;break;case 14:var m6p="switchTracks rejected, previo";m6p+="u";m6p+="s switch still waiting to start";return (this.Ub(m6p),!1);break;case 3:var a6p="switchTracks ";a6p+="rejec";a6p+="ted, previous switch still in progress: ";return (this.Ub(a6p + JSON.stringify(this.Cb.fz)),!1);break;case 20:var q6p="switchTrac";q6p+="ks rejecte";q6p+="d, bu";q6p+="fferLe";q6p+="velMs";return (this.Ub(q6p,U,"<",O.t9),!1);break;case 9:m30=this.X.ug()?8:7;break;case 8:var W6p="s";W6p+="witchT";W6p+="racks";W6p+=" re";W6p+="jected, buffering";return (this.Ub(W6p),!1);break;case 10:m30=U < O.t9?20:19;break;case 4:m30=this.Cb.fz?3:9;break;case 26:return !1;break;case 16:var n6p="swi";n6p+="tchTrac";n6p+="ks ";n6p+="can't";n6p+=" find trackId:";return (this.Ub(n6p,N),!1);break;case 27:m30=Z === U.trackId?26:25;break;case 5:var d6p="switchTracks rejecte";d6p+="d, au";d6p+="dio ";d6p+="dis";d6p+="abled";return (this.Ub(d6p),!1);break;case 19:N=N.Dn;U=this.Ge.R.getTrackById(N);m30=17;break;case 17:m30=!U?16:15;break;case 1:m30=!this.Ur?5:4;break;}}};J.prototype.fr=function(N,O){var n30;n30=2;for(;n30 !== 1;){switch(n30){case 4:this.Cb.fr(N,O);n30=6;break;n30=1;break;case 2:this.Cb.fr(N,O);n30=1;break;}}};J.prototype.ku=function(N,O,P){var o30;o30=2;for(;o30 !== 1;){switch(o30){case 2:return this.Pa.ku(N,this.Pa.Ai,O,P);break;}}};J.prototype.Ti=function(N){var p30;p30=2;for(;p30 !== 1;){switch(p30){case 2:return this.io.Ti(N);break;}}};G10=59;break;}}function J(N,O,P,S,U,Z,ja,ya,ra,Y,pa){var H10,R,ea,sa,T,Ka;H10=2;for(;H10 !== 74;){switch(H10){case 39:var U6p="m";U6p+="anagerdebugeven";U6p+="t";this.Mi.on(this.qc.Jf,U6p,function(Ua){var I10;I10=2;for(;I10 !== 1;){switch(I10){case 2:w.Ya(T,Ua.type,Ua);I10=1;break;case 4:w.Ya(T,Ua.type,Ua);I10=3;break;I10=1;break;}}});H10=38;break;case 37:var i6p="me";i6p+="di";i6p+="ac";i6p+="a";i6p+="che";this.Mi.on(this.qc.Jf,i6p,function(Ua){var J10;J10=2;for(;J10 !== 1;){switch(J10){case 4:w.Ya(T,"",Ua);J10=2;break;J10=1;break;case 2:var Q6p="me";Q6p+="diac";Q6p+="ache";w.Ya(T,Q6p,Ua);J10=1;break;}}});H10=36;break;case 56:this.Cb=new K.aMa(this.I,this.Cg,this.J,this.oc.bind(this),this.X,Y,this.qc.Rb,this.Gb,this.rg,this.Pa,sa);H10=55;break;case 40:H10=Y.ti && this.qc.Jf?39:38;break;case 62:Y=Y.jLb;for(var la in Y){P=Y[la];Y.hasOwnProperty(la) && P && (this.J[la]=P);}H10=60;break;case 6:this.An=this.I.trace.bind(this.I);R=new L.YHa(this,this.I);H10=13;break;case 65:this.Kd=[O];this.Cg=new H.Tza(this,this.I,N,this.qc.Rb,Y,this.uO(),U,this.oc.bind(this),sa);H10=63;break;case 43:this.io=new M.ALa(this,this.I,this.oc.bind(this),R);this.rg=new I.LCa(this,this.I,this.oc.bind(this));this.sV=new z.KCa(this,this.I,R);H10=40;break;case 23:this.Zrb=! !Z.gza;this.IL=Z.P8;this.m3=void 0;this.X=new A.eAa(ra);this.LC=U || 0;H10=33;break;case 33:this.JL=0;this.jga=ya;this.y3=!1;this.jT=void 0;H10=29;break;case 29:this.Y2=-1;this.Vha=0;this.Mi=new c.gi();H10=43;break;case 60:this.Cg.Tya(this.J);H10=59;break;case 36:ea && Y.dN && !Y.CDb && (Y.set?Y.set({enableAdaptiveParallelStreaming:!1}):Y.dN=!1);0 === Math.floor(1E6 * Math.random()) % Y.kM && (this.irb=new q.cLa(Y));this.lw=[];this.Tg=[];this.t$a=new l.Uda(O,this.qc.Rb,this.qc.Th,this.J,void 0);N=this.t$a.OJb();H10=49;break;case 13:var P6p="bra";P6p+="nc";P6p+="h";P6p+="ing";this.Gb=R;this.xUa=new y.UBa(this.I);(ea=!(!O || !O.choiceMap || P6p !== O.choiceMap.type),sa=ea?{AV:!1,gs:!1}:p.EZa(Y));H10=10;break;case 38:H10=(Y.kza || Y.jza) && this.qc.Jf?37:36;break;case 2:var X6p="1S";X6p+="IYbZrN";X6p+="JC";X6p+="p9";T=this;this.yy=new B.wfa();this.QNa=[];this.HD={hw:[Object.create(null),Object.create(null)]};X6p;H10=9;break;case 55:H10=this.gs?77:75;break;case 59:la=O.R;this.Pa=new C.Hca(this,this.Gb,this.I,this.hia.bind(this),la,this.LC,this.J,this.rg,this.X,this.$V.bind(this));Y={P8:this.P8,Ms:this.Ms,dn:this.dn,xY:this.xY};H10=56;break;case 77:Ka=this;H10=76;break;case 75:pa && this.Cb.fr(pa,la.S);H10=74;break;case 76:this.X.addListener(function(Ua){var K10,L10;K10=2;for(;K10 !== 1;){switch(K10){case 2:try{L10=2;for(;L10 !== 1;){switch(L10){case 2:Ka.Cb.M3b.bind(Ka.Cb)(Ua);L10=1;break;}}}catch($a){var v6p="Hindsight: Erro";v6p+="r when adding updatePlaySegment L";v6p+="istener: ";a000.g3p(2);Ka.Gb.Yn(a000.y3p($a,v6p));}K10=1;break;}}});H10=75;break;case 49:U=null;Y.DV && (U=this.qc.rv.JC);x.Vx.instance().reset();H10=46;break;case 17:this.Mrb=[!Z.WE,!Z.lU];H10=16;break;case 10:this.AV=sa.AV;this.gs=sa.gs;this.Ax=Y.Ax;this.cj=new Q.bGa(this,this.I,this.oc.bind(this),sa);H10=17;break;case 46:O=m.jea.create({Qb:0,oa:O,qp:P,i$a:S,He:! !Z.He,X1a:!1,Vi:! !Z.Vi,Cd:h.m9(! !Z.lU,! !Z.WE),$:0,La:Z.La,Gb:this.Gb,ns:this.KOa.bind(this),bc:this,config:this.J,I:this.I,rg:this.rg,io:this.io,Jf:this.EQa?this.qc.Jf:void 0,HD:this.HD});O.fU=!0;H10=65;break;case 16:this.oc(0) && this.oc(1);this.qc=N;this.hm=ja;H10=26;break;case 26:this.J=Y=this.xUa.cnb(O,Y);this.h3=Z.xY;this.EQa=! !Z.ndb;H10=23;break;case 63:H10=Y.Fma && this.Cg.i8?62:59;break;case 9:var y6p="m";y6p+="edi";y6p+="a|asej";y6p+="s";var s6p="A";s6p+="S";s6p+="E";s6p+="J";s6p+="S";this.I=new u.default.Console(s6p,y6p,"(" + ja.sessionId + ")");this.Vk=this.I.error.bind(this.I);this.Ub=this.I.warn.bind(this.I);H10=6;break;}}}})();b.JLa=a;r.Bf(c.EventEmitter,a);},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.jea=void 0;c=a(17);f=a(9);k=a(227);r=(function(){function m(d,g,h,l,n,q,p,u,t,w,v,x){void 0 === h && (h=0);this.he=d;this.q3=g;this.$=h;this.La=l;this.A6=n;this.wh=q;this.EN=p;this.config=u;this.I=t;this.Gb=w;this.XEb=v;this.dh=x;this.bx=0;}m.create=function(d){var h,l,n,q,p,u,t,w,v,x,y,z,A,B,E;function g(D){f.Ya(w,D.type,D);}h=d.Qb;l=d.oa;n=d.i$a;q=d.$;p=d.La;u=d.ns;t=d.Gb;w=d.bc;v=d.config;x=d.I;y=d.rg;z=d.io;A=d.Jf;B=d.HD;E=new k.yca(Number(l.movieId),{Qb:h,oa:l,qp:d.qp,y4a:{Iqa:d.He,g2a:! !d.X1a},Vi:d.Vi,Cd:d.Cd,config:v,y0a:{Yl:y.gk.bind(y),Jf:A,HD:B,Zn:g,c8:function(D){return D === w.Pa.Yc.R;},sW:function(D,F,G,C,H){D=w.Cb.Of[D];return !F || G || C || H?w.jT:D.Lf;},xD:function(D){return w.Cb.hx[D];},wh:w.wh.bind(w)},UX:function(D){w.emit("requestComplete",{type:"requestComplete",timestamp:D.xf,mediaRequest:D});},x6:function(){return w.Cg;},Rb:w.qc.Rb,Th:w.qc.Th,fXa:{ns:u,hh:function(D,F,G,C,H,K){void 0 === K && (K=!1);return !K || w.X.ug()?(w.Wp(D,h,F,G,C,H,K),!0):!1;},Un:function(){return w.y3;},Zn:g},zP:void 0,vJ:{U:w.qc.sB,ga:w.qc.IE}});v.Pz && E.DE({Ds:w.hm.Ds,ca:w.hm.ca,mD:w.hm.mD,Yn:t.Yn.bind(t)});d=new c.gi();d.addListener(E.Au,"onHeaderFragments",function(D){var F,G,C,H,K;F=D.mediaType;G=D.Ta;C=D.stream.Y;H=w.wh(h);if(H){if(E.yh[F] && D !== E.yh[F])D.Ow && (H=E.yh[F],D=D.stream,K=H && H.stream,x.warn("first header received for non-current track (trackId " + D.trackId + "streamId " + D.Ta + "), expected track " + (K && K.trackId) + ", stream " + (K && K.Ta) + ", " + H));else {E.yh[F]=D;D=w.Pa.Yc;if(0 === h){K=E.oc(1)?D.kb(1).Bc:D.kb(0).Bc;D.B4(K,E);}H.NY=!1;H.z4();w.G3();}z.Tga();t.bqb(h,F,G,E.K,C);y.gk();}else x.warn("addFragments for stale manifestIndex:",h);});d.addListener(E.Au,"onHeaderRequestComplete",function(D){var F,G;D.gl?w.G3():D.nD && (x.warn("drm header header:",D.toString(),"but no headers seen, marking pipeline drmReady"),w.Mz(D.K));F=D.mediaType;G=Object.getOwnPropertyNames(B.hw[F]);w.Tg[F].J5a(D.stream,1 === G.length && G[0] === D.Ta);y.nOa();w.rYb();});d.addListener(E.Au,"onHeaderFromCache",function(D){var F;F=D.header;D=D.RFb;F.gl && w.G3();D && t.Spb(F.K,F.Ta);});return new m(E,n,q,p,function(){return w.Pa;},w.wh.bind(w),w.EN.bind(w),v,x,t,!1,d);};Object.defineProperties(m.prototype,{R:{get:function(){return this.he;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Qb:{get:function(){return this.R.Qb;},enumerable:!1,configurable:!0}});m.prototype.Bq=function(d){return this.he.$Jb(d,this.K6(d));};m.prototype.K6=function(d){return this.q3[d];};m.prototype.close=function(){this.dh.clear();this.R.close();};m.prototype.fd=function(){this.he.fd();delete this.he;};m.prototype.clone=function(){return new m(this.R,this.q3,this.$,this.La,this.A6,this.wh,this.EN,this.config,this.I,this.Gb,!0,this.dh);};m.prototype.Sya=function(d){this.I.trace("updateAudioTrack:",this.q3[0],"->",d);this.q3[0]=d;};m.prototype.JZa=function(){return void 0 !== this.AI?this.AI:this.La?this.La:this.he.duration;};m.prototype.$vb=function(d){var g,h;g=this.he.yh[1];if(g && g.stream.me){if(this.Uz && this.Uz[1] && this.Uz[1].$ <= d && this.Uz[1].La > d)return this.Uz[1].zd;g=g.stream.Y;d=g.Nn(d,void 0,!0);h=void 0;void 0 === h && (h=g.Kj(d));return h;}};m.prototype.z4=function(){var d,g;if(!this.NY && this.n0a()){this.rta();d=[0,0];if(0 !== this.Qb && !this.he.nf.xX && !this.he.nf.replace){g=this.wh(this.Qb - 1);g=this.he.K === g.he.K;d=this.A6().Yc;g=d.B4(this.$,this.R,d,g);d=g.jP;}this.$=d[1];this.jP=d;this.Uz=g && g.Uz;this.cTa();g=this.he.oc(1)?this.he.yh[1].stream.Y.La:this.he.yh[0].stream.Y.La;this.Gb.Xpb(this.Qb,this.bx,this.$,this.AI,g);this.NY=!0;for(g=this.Qb + 1;g < this.EN();++g){d=this.wh(g);d.NY=!1;d.z4();}}};m.prototype.cTa=function(){var d;if(0 === this.Qb || this.he.nf.replace)this.bx=0;else {d=this.wh(this.Qb - 1);this.bx=d.bx + d.JZa() - this.$;}};m.prototype.rta=function(){var d,g,h,l,n,q,p,u;if(this.n0a()){n=this.A6().Yc;q=this.La || Infinity;p=this.he.oc(1);u=n.LV(q,this.R);this.AI=p?u[1].La:u[0].La;n=p?this.he.yh[1].stream.Y.La:this.he.yh[0].stream.Y.La;p=Math.min(null !== (g=null === (d=u[1]) || void 0 === d?void 0:d.La) && void 0 !== g?g:Infinity,null !== (l=null === (h=u[0]) || void 0 === h?void 0:h.La) && void 0 !== l?l:Infinity);this.Gb.Zpb(this.Qb,this.AI,n,p);d=this.A6().gna(this.Qb);0 < d.length && d.forEach(function(t){t.G3b(u,q);});}};m.prototype.n0a=function(){var d,g,h,l;d=this.he.oc(0);g=this.he.oc(1);h=this.he.yh[0];l=this.he.yh[1];h=h && h.stream.me;l=l && l.stream.me;return (!d || h) && (!g || l);};return m;})();b.jea=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.MLa=void 0;r=a(2);c=a(9);a=r.__importDefault(a(6));f=a.default.Br;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function k(m,d,g){this.Yn=g;this.isb=new c.ANa(m);this.ca=d.ca;this.pnb=1E3 * d.BQb / d.qvb;this.OCb=d.mD;this.QRa=!1;}k.prototype.$t=function(m){var d,g;d={s_xid:this.ca,dl:this.OCb?1:0};m.jq && (d.bs=c.G4(Math.floor(m.jq / this.pnb) + 1,1,5));m.R9 && (d.limit_rate=m.R9);m.DSa && (d.bb_reason=m.DSa);m.Vbb && (d.tm=m.Vbb);if(m.SU){g=m.SU.m8();if(g || !g && this.QRa)(d.cpr_ss=m.SU.VP,d.cpr_ca=m.SU.EM,d.cpr_rec=m.SU.oP,this.QRa=g);}m.Pja && (d.br="" + m.Pja.start + "+" + m.Pja.size);return this.lqb(d);};k.prototype.Rwa=function(m,d){var g,h;try{g=new f(void 0,"notification");h=this.$t({DSa:m});d && h && g.open(d,void 0,2,void 0,void 0,void 0,h);}catch(l){this.Yn("SideChannel: Error when sending sendBlackBoxNotification. Error: " + l);}};k.prototype.lqb=function(m){var d;try{d=this.xrb(m);return this.isb.encrypt(d);}catch(g){this.Yn("SideChannel: Error when obfuscating msg. Error: " + g);}};k.prototype.xrb=function(m){return Object.keys(m).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(m[d]));}).join("&");};return k;})();b.MLa=a;},function(r,b,a){var f,k,m,d,g,h;function c(l,n){var q,p;q=Math.floor(1E3 * l / n);p=1E3 * Math.round(q / 1E3);return new k.O(p,Math.abs(Math.floor(1001 * l / n) - p) > Math.abs(q - p)?1E3:1001);}Object.defineProperties(b,{__esModule:{value:!0}});b.xca=void 0;f=a(371);k=a(21);m=a(4);d=a(9);g=a(372);h=a(373);r=(function(){function l(n,q,p){this.J=q;this.I=p;this.sC=new d.NLa();this.e3=0;this.Ju=n.Ju;this.R=n.R;this.mediaType=n.mediaType;this.TE=n.TE;this.QC=n.QC;1 === this.mediaType && (q=this.Ju.streams[0],void 0 !== q.framerate_value && void 0 !== q.framerate_scale && (this.yha=c(q.framerate_value,q.framerate_scale).Jva()));this.ob=(this.yL=this.yha) && this.yL.W;this.dha=this.NPa=!1;this.Tpa=-Infinity;this.C3a=Infinity;n=l.Lnb(this,n.He);q=n.maxBitrate;p=n.ae;this.Uw=n.Uw;this.maxBitrate=q;this.ae=p;this.Jrb=p.reduce(function(u,t){u[t.Ta]=t;return u;},{});!1;}l.Lnb=function(n,q){var p,u,t,w,v,x;p=n.J;u=1 === n.mediaType;t=!1;w=0;v=n.Ju.streams.some(function(y){return y.ml;});x=[];n.Ju.streams.forEach(function(y,z){var A,B,E;A=y.bitrate;B=!0;if(u){E=y.ml;B=p.eN && p.B_?q?!0:E === v:q && !E || !q && (E || !v);t=t || E;}B && A > w && (w=A);y=new h.pAa({As:y,Pf:z,track:n,Fu:B},p,n.I);x.push(y);});return {Uw:t,maxBitrate:w,ae:x};};Object.defineProperties(l.prototype,{I9:{get:function(){return !this.me && 0 === this.e3;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{me:{get:function(){return ! !this.Bp && ! !this.sC.value;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Zua:{get:function(){return this.NPa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{K:{get:function(){return String(this.R.K);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{trackId:{get:function(){return this.Ju.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{va:{get:function(){return this.yL;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{W:{get:function(){return this.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{FO:{get:function(){return this.Bpb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Bp:{get:function(){return this.qd;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ZN:{get:function(){return this.sC.value;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Mna:{get:function(){return this.va.W;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Lna:{get:function(){return this.va.pc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{$:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{wna:{get:function(){return this.sC;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{wX:{get:function(){return this.ae.some(function(n){var q;return 1 < ((null === (q=n.ah) || void 0 === q?void 0:q.length) || 0);});},enumerable:!1,configurable:!0}});l.prototype.Tw=function(n){return this.AD()[n];};l.prototype.AD=function(){return this.Jrb;};l.prototype.equals=function(n){return ! !n && this.K === n.K && this.mediaType === n.mediaType && this.trackId === n.trackId;};l.prototype.e$=function(){this.e3++;};l.prototype.d$=function(){0 < this.e3 && this.e3--;};l.prototype.c$=function(n,q,p,u,t){if(u && void 0 !== u.ul && (this.me || void 0 !== u.vd && u.vd.length)){if(n.ml || !n.track.Uw)this.NPa=!0;if(this.me)!this.dha && u.vd && u.vd.length > this.Bp.length && (this.qd=new f.Sfa(this.mediaType,this.va,u,t),this.sC.D9a(),this.Tpa=-Infinity,this.dha=!0);else {this.jQa(q);if(p=p || this.yha)(this.iQa(p || this.yha),void 0 === this.W && this.kQa(p.W));this.qd=new f.Sfa(this.mediaType,this.va,u,t);if(n.ml || !n.track.Uw)this.dha=!0;}}else this.I && this.I.error("AseTrack.onHeaderReceived with missing fragments data");};l.prototype.fTb=function(n){void 0 === this.sC.value && this.sC.set(n);};l.prototype.oyb=function(n){this.me || (this.kQa(n.W),this.jQa(n.FO),this.iQa(n.va),this.qd=n.Bp,n.wna.value?this.sC.set(n.wna.value):this.sC.D9a());};l.prototype.Em=function(n,q,p,u){m.assert(this.ZN);return g.Em(this.mediaType,n,this.ZN,q,p,u);};l.prototype.Tz=function(n,q,p){m.assert(this.ZN);return g.Tz(this.mediaType,n,this.ZN,q,p);};l.prototype.toJSON=function(){return {movieId:this.K,mediaType:this.mediaType,trackId:this.trackId};};l.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};l.prototype.kQa=function(n){this.ob=n;};l.prototype.jQa=function(n){this.Bpb=n;};l.prototype.iQa=function(n){this.yL=n;};return l;})();b.xca=r;},function(r,b,a){var c,f,k,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.fMa=b.jmb=void 0;c=a(2);a(118);f=a(4);r=c.__importDefault(a(6));k=a(381);a=a(371);m=new r.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(h){d=!1;}g=(function(h){function l(n,q){q=h.call(this,n.Bp,q) || this;q.uG=n;return q;}c.__extends(l,h);Object.defineProperties(l.prototype,{ga:{get:function(){return this.uG.tab(this.Qe);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{offset:{get:function(){return this.uG.Vd(this.Qe);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{cta:{get:function(){return this.uG.tI && this.uG.tI[this.Qe];},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{mi:{get:function(){return this.uG.GGb(this.Qe);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{xb:{get:function(){return this.uG.Gi && this.uG.Gi[this.Qe];},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{CSa:{get:function(){return 8 * this.ga / (1E3 * this.eu / this.W);},enumerable:!1,configurable:!0}});l.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.Za,contentEndTicks:this.tb,durationTicks:this.eu,timescale:this.W,startPts:this.$,endPts:this.La,duration:this.duration,additionalSAPs:this.mi};};return l;})(a.JMa);b.jmb=g;r=(function(){function h(l,n,q,p,u,t,w){this.NL=128;this.qd=n;this.Re=q.offset;this.hk=q.sizes;this.XL=l;this.lL=this.RS=this.li=this.xQa=this.iia=void 0;this.Apb=p;this.hga=u && u.Vd;this.Lt=t;this.qf=Math.min(this.qd.length,this.hk.length);this.mpb=this.Qvb();this.Bp.Lr.length !== this.hk.length && m.trace("Mis-matched stream duration (" + this.Bp.Lr.length + "," + this.hk.length + ") for movie id " + w);this.Bp.O3 && !this.hga && m.error("Mis-matched additional SAPs information for movie id " + w);}Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.qd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{length:{get:function(){return this.qf;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ul:{get:function(){return this.qd.ul;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Kma:{get:function(){return this.qd.Kma;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$:{get:function(){return this.qd.$;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{La:{get:function(){return this.qd.La;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{usa:{get:function(){return this.qd.usa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{KA:{get:function(){return this.mpb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{va:{get:function(){return this.qd.va;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{W:{get:function(){return this.qd.W;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{jh:{get:function(){return this.xQa || this.rga();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{tI:{get:function(){return this.Apb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Xia:{get:function(){return this.hga;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Gi:{get:function(){return this.Lt;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Bp:{get:function(){return this.qd;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Dx:{get:function(){return this.iia || this.Knb();},enumerable:!1,configurable:!0}});h.prototype.tab=function(l){if(this.hk)return this.hk[l];m.error("sizesByIndex _sizes is undefined");return -1;};h.prototype.Kj=function(l){return this.qd.Kj(l);};h.prototype.EV=function(l){return this.qd.Kj(l) + this.qd.vd(l);};h.prototype.Vd=function(l){var n,q,p;if(this.RS !== l || void 0 === this.lL){if(0 === l)return this.Re;if(this.RS === l - 1 && void 0 !== this.lL)(this.lL+=this.hk[this.RS],++this.RS);else {n=this.li || this.vnb();q=Math.floor(l / this.NL);p=q * this.NL;for(n=n[q];p < l;++p){n+=this.hk[p];}this.RS=l;this.lL=n;}}return this.lL;};h.prototype.vd=function(l){return this.qd.vd(l);};h.prototype.get=function(l){return new g(this,l);};h.prototype.GGb=function(l){var n,q,p,u,t;f.assert(0 <= l);n=this.Bp.O3;q=this.Bp.mRa;p=this.hga;if(!p || !n || !q || l >= n.length)return [];u=[];t=l === n.length - 1?q.length:n[l + 1];for(n=n[l];n < t;++n){u.push({sl:q[n],Fd:this.Kj(l) + this.va.vI(q[n]).U,offset:p[n]});}return u;};h.prototype.Nn=function(l,n,q){return this.qd.Nn(l,n,q);};h.prototype.g6=function(l,n,q){return this.qd.g6(l,n,q);};h.prototype.pla=function(l,n){return this.qd.pla(l,n);};h.prototype.Nvb=function(l,n,q,p,u){var t,w,v,x,y,z,A,B,E;t=!0;w=0;v=this.qd.Lr;x=this.hk;l=Math.floor(l * this.W / 1E3);y=Math.floor(q * this.W / 1E3);z=0;A=0;B=0;if(this.qd.Pya && this.qd.Oya)for(w=this.qd.Pya;w <= this.qd.Oya;++w){z+=v[w];A+=x[w];}if(A > n)t=!1;else for(;w < this.length && (!u || w < u);){E=x[w];q=v[w];if(A + E > n){for(;1 < w - B && A + E > n && (z - v[B] >= y || A - x[B] > p);){z-=v[B];A-=x[B];++B;}if(z < l || A + E > n){t=!1;this.qd.Pya=B;this.qd.Oya=w;break;}}z+=q;A+=E;++w;}return t;};h.prototype.subarray=function(l,n){f.assert(void 0 === l || 0 <= l && l < this.length);f.assert(void 0 === n || n > l && n <= this.length);return new h(this.XL,this.qd.subarray(l,n),{offset:this.Vd(l),sizes:this.hk.subarray(l,n)},this.tI && this.tI.subarray(l,n),this.Xia && ({Vd:this.Xia}),this.Lt && this.Lt.subarray(l,n));};h.prototype.forEach=function(l){for(var n=0;n < this.length;++n){l(this.get(n),n,this);}};h.prototype.map=function(l){for(var n=[],q=0;q < this.length;++q){n.push(l(this.get(q),q,this));}return n;};h.prototype.reduce=function(l,n){for(var q=0;q < this.length;++q){n=l(n,this.get(q),q,this);}return n;};h.prototype.toJSON=function(){return {length:this.length};};h.prototype.dump=function(){var n;m.trace("StreamFragments: " + this.length);for(var l=0;l < this.length;++l){n=this.get(l);m.trace("StreamFragments: " + l + ": [" + n.$ + "-" + n.La + "] @ " + n.offset + ", " + n.ga + " bytes");}};h.prototype.Qvb=function(){var l,n,q,p,t;l=0;n=this.qd.g4a;q=this.qd.Lr;p=this.hk;if(void 0 === n || n >= this.length){for(var u=0;u < this.length;++u){t=p[u] / q[u];t > l && (l=t,n=u);}void 0 === this.qd.g4a && (this.qd.g4a=n);}else l=p[n] / q[n];return Math.floor(l * this.W / 125);};h.prototype.rga=function(){for(var l=0,n=0;n < this.length;++n){l+=this.hk[n];}return this.xQa=l;};h.prototype.Knb=function(){var l;l=new Uint8Array(this.hk.length);f.assert(void 0 !== l,"invalid streamIndices");if(l){f.assert(void 0 !== this.XL,"invalid _streamIndex");for(var n=0;n < l.length;n++){l[n]=this.XL;}}n=this.Lt || new Uint8Array(this.hk.length);return this.iia=new k.Gfa(this.qd.Lr,this.hk,l,n,this.qd.W);};h.prototype.vnb=function(){if(!this.li){for(var l=d?new Float64Array(Math.ceil(this.length / this.NL)):Array(Math.ceil(this.length / this.NL)),n=this.Re,q=0;q < l.length;++q){l[q]=n;for(var p=0;p < this.NL;++p){n+=this.hk[q * this.NL + p];}}this.li=l;}return this.li;};return h;})();b.fMa=r;r.prototype.Lab=a.ax(r.prototype.Kj);a.ax(r.prototype.EV);a.ax(r.prototype.vd);a.ax(r.prototype.Vd);a.ax(r.prototype.tab);a.ax(r.prototype.get);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.zc();this.jc=1 === this.version?this.hj([{creationTime:"int64"},{modificationTime:"int64"},{W:"int32"},{duration:"int64"}]):this.hj([{creationTime:"int32"},{modificationTime:"int32"},{W:"int32"},{duration:"int32"}]);return !0;};k.Yb="mvhd";k.Ra=!1;return k;})(a(32).Fc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Yb="trak";k.Ra=!0;return k;})(a(32).Fc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var m;this.zc();m=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];m=m.concat({offset:64,type:"offset"},{BOb:"int16"},{Atb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.jc=this.hj(m);this.jc.H2b=! !(this.flags & 1);this.jc.I2b=! !(this.flags & 2);this.jc.J2b=! !(this.flags & 4);this.jc.K2b=! !(this.flags & 8);this.u.console.trace("Finished parsing track box");return !0;};k.Yb="tkhd";k.Ra=!1;return k;})(a(32).Fc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.zc();this.jc=this.hj(1 === this.version?[{s6:"int64"}]:[{s6:"int32"}]);return !0;};k.Yb="mehd";k.Ra=!1;return k;})(a(32).Fc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.jc=this.hj([{sLb:"int32"},{P4b:"int32"}]);return !0;};k.Yb="pasp";k.Ra=!1;return k;})(a(32).Fc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.jc=this.hj([{svb:"int32"},{maxBitrate:"int32"},{Fja:"int32"}]);return !0;};k.Yb="btrt";k.Ra=!1;return k;})(a(32).Fc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.u.Vl();this.u.Vl();for(this.TG=[];this.u.offset <= this.byteOffset + this.byteLength - 4;){this.TG.push(this.u.Vl());}return !0;};k.Yb="ftyp";k.Ra=!1;return k;})(a(32).Fc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(83);r=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.parse=function(){this.zc();this.jc=this.hj([{FVb:"int32"},{BW:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.jc.BW=f.Bo(this.jc.BW);return !0;};m.Yb="hdlr";m.Ra=!1;return m;})(a(32).Fc);b.default=r;},function(r,b,a){var c,f,k,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(100);k=a(229);m=a(176);r=a(32);d=a(84);a=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(){this.zc();this.Cm=this.u.Ca();return !0;};h.prototype.ju=function(l){var n;n=Object.keys(this.Xa);n.length && (n=n[0],this.Xa[n].length && (n=this.Xa[n][0],n instanceof m.default?this.va=new k.O(n.Wz,n.samplerate):n instanceof d.default && (n=n.Xa[f.BF]) && n.length && (n=n[0].jc,1E3 !== n.Hz && 1001 !== n.Hz || 0 !== n.BI % 1E3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.BI + "/" + n.Hz):this.va=new k.O(n.Hz,n.BI)),this.va && (l.va=this.va)));return !0;};h.prototype.$Y=function(l){void 0 !== this.Xa[l] && 0 !== this.Xa[l].length && (this.na.kh(this.Cm - 1,this.byteOffset + 12),l=this.Xa[l][0],this.Je(l.byteLength,l.byteOffset));};h.Yb="stsd";h.Ra=!0;return h;})(r.Fc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.Qna=this.u.yc(2);this.Rja=this.u.yc(5);this.Sja=this.u.yc(3);this.Bia=this.u.yc(3);this.u.yc(1);this.u.yc(5);this.u.yc(5);return !0;};k.Yb="dac3";return k;})(a(32).Fc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var d;this.Cta=this.u.$c() & 7;this.cya=[];for(var m=0;m < this.Cta;m++){d={Qna:this.u.yc(2),Rja:this.u.yc(5),Sja:this.u.yc(5),Bia:this.u.yc(3),EOb:this.u.yc(1),Bta:this.u.yc(4)};0 < d.Bta?d.xwb=this.u.yc(9):this.u.yc(1);this.cya.push(d);}return !0;};k.Yb="dec3";return k;})(a(32).Fc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(32);r=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.parse=function(){this.zc();this.pZ=this.u.Vl();f.ia && this.u.console.trace("SchemeTypeBoxTranslator: " + this.pZ);"cenc" === this.pZ && (this.u.offset-=4,f.ia && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.u.offset),this.na.Q_("piff"));this.u.Ca();return !0;};m.Yb="schm";m.Ra=!1;return m;})(f.Fc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var m;this.u.sb();this.pca=this.u.sb();this.u.sb();this.u.sb();this.u.sb();this.LZ=this.lG(this.u.sb() & 31);this.lG(this.u.sb());this.aB=this.LZ.length?this.LZ[0][0]:this.pca;this.CT=this.u.offset;this.startOffset + this.length < this.u.offset && (100 === this.aB || 110 === this.aB || 122 === this.aB || 144 === this.aB) && (this.u.sb(),this.u.sb(),this.lG(this.u.sb()));m=this.startOffset + this.length - this.CT;0 < m && this.Je(m,this.CT);return !0;};k.prototype.lG=function(m){var h;for(var d=[],g=0;g < m;++g){h=this.u.$c();d.push(this.u.eB(h));}return d;};k.Yb="avcC";k.Ra=!1;return k;})(a(32).Fc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.ju=function(){var m;m=this.Nl("esds");if(m=m && m.mda.Nl(5))this.Wz=m.Wz;return !0;};k.Yb="mp4a";k.Ra=!0;return k;})(a(176).default);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(231);r=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.parse=function(){this.zc();this.mda=f.qR.PY(this.u);return !0;};m.Yb="esds";m.Ra=!1;return m;})(a(32).Fc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(100);a=a(32);f=r.BF;a=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.parse=function(){this.zc();this.jc=this.hj([{BI:"int32"},{Hz:"int16"}]);return !0;};m.Yb=f;m.Ra=!1;return m;})(a.Fc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var m,d,g,h,l;this.zc();m=this.hj([{RJ:"int32"},{iV:"int32"},{Ez:"int32"},{Gz:"int32"},{Fz:"int32"}]);d=m.RJ;g=m.iV;h=m.Ez;l=m.Fz;m=m.Gz;this.jc={trackId:d,OBb:g,Dz:h,PBb:l,QBb:m};this.RJ=d;this.iV=g;this.Ez=h;this.Gz=m;this.Fz=l;return !0;};k.Yb="trex";k.Ra=!1;return k;})(a(32).Fc);b.default=r;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(798);k=a(235);m=a(146);d=a(229);g=a(32);r=a(376);h=a(377);l=a(379);n=a(147);q=a(228);p=a(100);u=a(380);a=(function(){function t(w,v,x,y,z,A){this.console=w;this.stream=v;this.Yh=y;this.Tia=z;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=A || ({});this.m0a=n.loa();}t.path=function(w,v){return v.reduce(function(x,y){return x && x.Xa[y] && x.Xa[y][0];},w);};t.Doa=function(w){return w && w.TG && -1 !== w.TG.indexOf("mcl0")?"mcl0":void 0;};t.kna=function(w,v){var x,y;m.assert("mcl0" === w,"Unsupported McClearen brand");x=v.Y;w=x.vd;v=new d.O(120,1).eg(x.W).pc;y=0;for(x=x.ul;y < w.length && x < v;){x+=w[y++];}return y;};t.prototype.parse=function(w){var v;v=this.Cwa();if(!v.done){if(v.OX)return {Nm:!1,lRa:v.OX};this.console.error("Scan error: " + v.error);return {Nm:!1,parseError:v.error || "unknown mp4 scan error"};}v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + v.offset);this.view=new DataView(v);w=this.eua(w);return w.done?this.kla():(this.console.error("Parse error: " + w.error),{Nm:!1,parseError:w.error || "unknown mp4 parse error"});};t.prototype.Mn=function(w){return g.Fc.Mn(this,w);};t.prototype.Nl=function(w){return g.Fc.Nl(this,w);};t.prototype.Cwa=function(){var w,v;w=new u.Dda(this.Yh,this.Tia?[p.ny,p.my]:[],this.config && this.config.Y1b || ["moof",p.fS],this.config && this.config.mY);v=c.__assign(c.__assign({},this.config),{II:!1});return new l.dF(t.jJ,w,this.view,this.console,v).parse();};t.prototype.eua=function(w){var v,x,y;v=new u.lR(this.view.byteLength);x=Object.create(q.Oq.Xa);this.config && ((this.config.s$ || this.config.uba || this.config.JE) && f(q.Oq.hJ,x),this.config.vba && f(q.Oq.Bya,x),this.config.uba && f(q.Oq.r_,x));y=c.__assign(c.__assign({},this.config),{II:!0});this.wc=new l.dF(x,v,this.view,this.console,y);w=this.wc.parse(w);w.done && (this.Xa=this.wc.Xa);return w;};t.prototype.kla=function(){var w,v,x,y,z,A;w={Nm:!0};v=t.path(this,["moov"]);x=t.path(v,["trak","mdia","minf","stbl","stsd"]);if(this.config.s$)if(x)(w.va=x.va,w.cZb=x.Xa);else return {Nm:!1,parseError:"Missing sample descriptions"};y=t.path(x,["encv","sinf","schi"]);y && (y=t.path(y,["tenc"]) || t.path(y,[p.kS])) && (w.UWa={dyb:y.wj,aI:y.aI,dOb:!1});if(y=t.path(v,["trak","mdia","mdhd"]))w.W=y.W;if(y=t.path(v,["mvex","trex"]))w.Dz=y && y.jc.Dz;w.Dz && w.W && (w.va=new d.O(w.Dz,w.W));if(y=t.path(this,["sidx"])){z=t.path(this,[p.ny]);z=z && z.Csa;A=t.path(this,[p.my]);A=A && A.mi;w.Y=y.Y;w.tI=z;w.mi=A;}if(z=this.Xa.vmaf && this.Xa.vmaf[0])w.Gi=z.Gi;if(this.config.K9a)if(v)(this.trim(v.byteOffset + v.byteLength),this.config.JE && x && 1 < x.Cm && y && (w.ah=this.JE(x,y)),void 0 === w.ah && (v=this.wc.Nz?k.concat(this.wc.ya()):this.view.buffer,w.ah=[{Bd:0,data:v}]));else return {Nm:!1,parseError:"Missing movie box"};w.Nm=!0;w.nY=this.wc.offset;return w;};t.prototype.trim=function(w){var v;v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(w,this.view.byteLength));this.wc.trim(w);this.view=new DataView(v);};t.prototype.JE=function(w,v){var x,y,z;x=Object.keys(w.Xa);y=x.filter(function(A){return "encv" !== A;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=t.path(this,["ftyp"]);z=t.Doa(x);if(z)return (x=[],this.wc.pva(),w.$Y("encv"),x.push({Bd:0,gl:!1,data:k.concat(this.wc.ya())}),this.wc.Nua(),w.$Y(y[0]),w=t.kna(z,v),x.push({Bd:w,gl:!0,data:k.concat(this.wc.ya())}),x);}};t.jJ={};return t;})();b.Er=a;a.jJ[p.CF]=r.default;a.jJ[p.DF]=h.default;},function(r){r.exports=function f(a,c){var k;a.__proto__ && a.__proto__ !== Object.prototype && f(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(m){k=Object.getOwnPropertyDescriptor(a,m);void 0 !== k && Object.defineProperty(c,m,k);});};},function(r,b,a){var c,f,k,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(146);k=a(235);m=a(83);r=a(800);d=(function(){function g(h){h?(this.Mf=h.Mf.slice(),this.mh=h.mh.slice(),this.Vd=h.Vd.slice(),this.trim=h.trim):(this.Mf=[],this.mh=[],this.Vd=[]);}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.Mf.length && 0 === this.mh.length && 0 === this.Vd.length;},enumerable:!0,configurable:!0}});return g;})();r=(function(g){function h(l,n,q){l=g.call(this,l,n,q) || this;l.xV=[];l.rb=new d();return l;}c.__extends(h,g);h.lja=function(l,n){if(n.offset + n.size <= l.byteLength)switch(n.size){case 1:l.setUint8(n.offset,n.value);break;case 2:n.tv?l.setInt16(n.offset,n.value):l.setUint16(n.offset,n.value);break;case 4:n.tv?l.setInt32(n.offset,n.value):l.setUint32(n.offset,n.value);break;case 8:f.assert(!n.tv);l.setUint32(n.offset,Math.floor(n.value / 4294967296));l.setUint32(n.offset + 4,n.value & 4294967295);break;default:f.assert(!1);}};Object.defineProperties(h.prototype,{Nz:{get:function(){return !this.rb.empty;},enumerable:!0,configurable:!0}});h.prototype.KB=function(l,n){this.rb.mh.push({offset:void 0 !== n?n:this.offset,value:l,size:1});void 0 === n && (this.offset+=1);};h.prototype.Eza=function(l,n){this.rb.mh.push({offset:void 0 !== n?n:this.offset,value:l,size:2,tv:!1});void 0 === n && (this.offset+=2);};h.prototype.kh=function(l,n){this.rb.mh.push({offset:void 0 !== n?n:this.offset,value:l,size:4,tv:!1});void 0 === n && (this.offset+=4);};h.prototype.Fza=function(l,n){this.rb.mh.push({offset:void 0 !== n?n:this.offset,value:l,size:8,tv:!1});void 0 === n && (this.offset+=8);};h.prototype.Q_=function(l){this.kh(m.VS(l));};h.prototype.$J=function(l,n){this.rb.Vd.push({offset:this.offset,Il:l,value:n});this.offset+=4;};h.prototype.Je=function(l,n,q){this.rb.Mf.push({offset:n,remove:l,fb:q});};h.prototype.kv=function(l,n,q,p){this.rb.Mf.push({offset:q,remove:l,replace:n,fb:p});};h.prototype.trim=function(l){this.rb.trim=l;};h.prototype.pva=function(){this.xV.push(new d(this.rb));};h.prototype.Nua=function(){this.rb=this.xV.pop() || new d();};h.prototype.ya=function(){var l,n,q,p,u,t,w;l=this;if(0 === this.rb.Mf.length && 0 === this.rb.mh.length && 0 === this.rb.Vd.length)return [void 0 === this.rb.trim?this.view.buffer:this.view.buffer.slice(0,this.rb.trim)];this.rb.Mf.sort(function(v,x){return v.offset - x.offset;});this.rb.mh.sort(function(v,x){return v.offset - x.offset;});this.pwa();n=this.hna();q=this.view.buffer.slice(0,n);p=new DataView(q);this.rb.mh.forEach(h.lja.bind(void 0,p));this.Wya(p);this.Uya(p);u=[];t=void 0 !== this.rb.trim?Math.min(this.rb.trim,this.view.byteLength):this.view.byteLength;w=0;this.rb.Mf.filter(function(v){return v.offset <= t;}).forEach(function(v){v.offset > w && (u.push(p.buffer.slice(w,v.offset)),v.offset > p.byteLength && p !== l.view && (p=l.view,u.push(p.buffer.slice(n,v.offset))));v.replace && u.push(v.replace);w=v.offset + v.remove;});w < n && u.push(q.slice(w));w < t && u.push(this.view.buffer.slice(Math.max(q.byteLength,w),t));return u;};h.prototype.hna=function(){var l,n,q;l=[];n=this.rb.mh[this.rb.mh.length - 1];q=this.rb.Vd[this.rb.Vd.length - 1];n && l.push(n.offset + n.size);q && l.push(q.offset + 4);this.rb.Mf.filter(function(p){return p.fb;}).forEach(function(p){return l.push(p.fb.byteOffset + 4);});n=Math.max.apply(void 0,l);return void 0 !== this.rb.trim?Math.min(n,this.rb.trim):n;};h.prototype.pwa=function(){this.rb.Mf=this.rb.Mf.reduce(function(l,n){var q,p;if(0 === l.length)return (l.push(n),l);q=l[l.length - 1];p=q.offset + q.remove;n.offset >= p?l.push(n):n.offset + n.remove > p && (f.assert(q.fb === n.fb),q.remove+=n.offset + n.remove - p,n.replace && (q.replace=q.replace?k.concat(q.replace,n.replace):n.replace));return l;},[]);};h.prototype.Wya=function(l){var n;n=this;this.rb.Vd.forEach(function(q){var p,u,t,w;p=l;u=q.offset;n.rb.Mf.some(function(v){return v.offset <= q.offset && v.replace && v.offset + v.replace.byteLength >= q.offset + 4?(p=new DataView(v.replace),u=q.offset - v.offset,!0):!1;});t=q.Il + (void 0 !== q.value?q.value:p.getInt32(u));w=n.rb.Mf.reduce(function(v,x){return x.offset > q.Il && x.offset < t?v + (x.remove - (x.replace?x.replace.byteLength:0)):v;},0);p.setInt32(u,t - q.Il - w);});};h.prototype.Uya=function(l){this.rb.Mf.forEach(function(n){var q;q=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== q)for(n=n.fb;n;){l.setUint32(n.byteOffset,l.getUint32(n.byteOffset) - q);n=n.parent;}});};return h;})(r.Yfa);b.Xfa=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(147);a(147);f=a(83);r=(function(){function k(m,d,g){this.view=m;this.console=d;this.config=g;this.view=m;this.console=d;this.Vn=this.iz=this.offset=0;}k.prototype.ioa=function(m){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,m);};k.prototype.yc=function(m){for(;this.Vn < m;){this.iz=(this.iz << 8) + this.sb();this.Vn+=8;}this.Vn-=m;return this.iz >>> this.Vn & (1 << m) - 1;};k.prototype.sb=function(){var m;m=this.view.getUint8(this.offset);this.offset+=1;return m;};k.prototype.$c=function(m){m=this.view.getUint16(this.offset,m);this.offset+=2;return m;};k.prototype.Ca=function(m){m=this.view.getUint32(this.offset,m);this.offset+=4;return m;};k.prototype.WI=function(){var m;m=this.view.getInt32(this.offset,void 0);this.offset+=4;return m;};k.prototype.pua=function(m,d){var g;g=this.view.getUint32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === (g & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * g + m;};k.prototype.Wd=function(m,d){m=this.pua(m,d);this.offset+=8;return m;};k.prototype.qua=function(m,d){var g;g=this.view.getInt32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === ((0 < g?g:-g) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * g + m;};k.prototype.Dva=function(){var m;m=this.qua(void 0,void 0);this.offset+=8;return m;};k.prototype.Vl=function(){return f.Bo(this.Ca());};k.prototype.gB=function(){var d,g,h,l,n,q;function m(p,u){return ("000000" + p.toString(16)).slice(2 * -u);}d=this.Ca(!0);g=this.$c(!0);h=this.$c(!0);l=this.$c();n=this.$c();q=this.Ca();return [m(d,4),m(g,2),m(h,2),m(l,2),m(n,2) + m(q,4)].join("-");};k.prototype.Ava=function(m){var d;d=this.view.byteOffset + this.offset;return this.view.buffer.slice(d,d + m);};k.prototype.yva=function(m){var d;d=[];if(0 === m)return "";m=m || Number.MAX_SAFE_INTEGER;for(var g=this.sb();0 !== g && 0 <= --m;){d.push(g);g=this.sb();}return String.fromCharCode.apply(null,d);};k.prototype.eB=function(m){var d,g;void 0 === d && (d=1);void 0 === g && (g=!0);return this.Xh(this.config.FB && c.wpa || c.Fq,1,m,d,g);};k.prototype.wva=function(m,d,g){var h;void 0 === d && (d=2);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.Xh(this.config.FB && c.upa || c.cA,2,m,d,g,h);};k.prototype.dB=function(m,d,g){var h;void 0 === d && (d=4);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.Xh(this.config.FB && c.vpa || c.vu,4,m,d,g,h);};k.prototype.Bva=function(){for(var m=this.sb(),d=m & 127;m & 128;){m=this.sb();d=d << 7 | m & 127;}return d;};k.prototype.Xh=function(m,d,g,h,l,n){void 0 === l && (l=!0);void 0 === n && (n=!1);m=m(this.view,this.offset,g,h,n);this.offset=l || !h || h === d?this.offset + g * (h || d):this.offset + d;return m;};return k;})();b.Yfa=r;},function(r,b,a){var k,m,d,g;function c(h,l,n,q){m.call(this,h,l,n,q);}function f(h,l,n){m.call(this,h,l,n,void 0);}k=a(100);m=a(236).Cr;d=a(378);g=a(83).VS;c.prototype=Object.create(m.prototype);f.prototype=Object.create(c.prototype);f.prototype.bha=function(h,l){return "string" === typeof l?d[l]:l?d.reset[h] || d.Hxa[h]:d.Hxa[h];};f.prototype.Vva=function(h,l,n){return this.ya(h,l,!1,n,void 0);};f.prototype.Zva=function(h,l,n){return this.ya(h,l,!0,n,void 0);};f.prototype.ya=function(h,l,n,q,p){var t,w,v,x,y,z,A,B,E,D,F,G,C,H;function u(K){w=t[K];v=w.ai("traf");if(void 0 === v || void 0 === v.kk)return !1;A=v.ai("tfdt");if(void 0 === A)return !1;x=v.ai("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;t=this.Xa.moof;if(!t || 0 === t.length)return !1;if(void 0 !== h){y=h;for(h=0;h < t.length;++h){if(!u(h,this.wc.console.trace))return !1;if(x.Ob > y || n && x.Ob === y)break;y-=x.Ob;}}else if((h=n?t.length - 1:0,!u(h,this.wc.console.trace)))return !1;if(n && h < t.length - 1){z=t[h + 1];this.wc.Je(this.lBb - z.startOffset,z.startOffset);}else !n && 0 < h && this.wc.Je(w.startOffset,0);z=v.ai("tfhd");if(void 0 === z)return !1;A=v.ai("tfdt");B=x.Ob;E=v.ai("saiz");D=v.ai("saio");F=v.ai(k.jS);G=v.ai("sbgp");if(!(!E && !D || E && D))return !1;C=v.ai("sdtp");if(this.Xa.mdat && h < this.Xa.mdat.length)H=this.Xa.mdat[h];else if(h !== t.length - 1)return !1;void 0 === y && (y=n?x.Ob:0);if(x.ya(v,z,H || this.wc,l,y,v.kk,n))x.Nz && (!n && A && A.ya(x.Fxa),E && D && (E.ya(x.hr,n),D.ya(F?0:E.gJ,v.kk,n)),F && F.ya(x.hr,n),C && C.ya(x.hr,B,n),G && G.ya(x.hr,n));else if(!n){if(h === t.length - 1)return !1;this.wc.Je(t[h + 1].startOffset - w.startOffset,w.startOffset);}else if(0 === x.hr)return !1;q && (l=this.bha(this.stream.profile,p)) && x.cwa(v,z,H,n,q,l);n=this.wc.ya();q=n.reduce(function(K,M){return K + M.byteLength;},0);n={Od:n,length:q,eo:this.wc.view.byteLength};x.Nz && !H && (n.Zq=v.kk + x.Zq,n.ij=x.ij);return n;};r.exports={Dr:f,EA:function(h){var l,n;l=new ArrayBuffer(8);n=new DataView(l);n.setUint32(0,h + 8);n.setUint32(4,g("mdat"));return l;}};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(236);f=a(235);a=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.ya=function(d){var g,h,l,n;g=this;if(!this.parse().done)return !1;h=this.Xa.moov;if(!h || 0 === h.length)return !1;l=h[0].Nl("tenc");if(!l)return !1;n=new Uint8Array(l.wj);d.forEach(function(q){for(var p=q.from,u=!0,t=0;t < p.length;t++){if(n[t] !== p[t]){u=!1;break;}}u && g.wc.kv(q.from.length,q.to,l.aI);});return f.concat(this.wc.ya());};return m;})(r.Cr);b.zK=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.Xj || (b.Xj={});r[r.Xb=0]="AUDIO";r[r.Pb=1]="VIDEO";},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v,x;Object.defineProperties(b,{__esModule:{value:!0}});b.CDa=void 0;r=a(2);c=a(17);f=r.__importStar(a(10));k=r.__importDefault(a(6));m=new k.default.Console("ASEJS_ERROR_DIRECTOR","asejs");d=r.__importDefault(a(28));g=r.__importDefault(a(805));h=a(238);l=k.default.Br;n=l.N0;q={};p={};a=[d.default.Fh.oy,!1];r=[d.default.Fh.oy,!0];u=[d.default.Fh.OF,!1];t=[d.default.Fh.OF,!0];w=[d.default.Fh.URL,!0];v=[-1,!1];x=[d.default.Fh.OF,!1];q[n.D5b]=u;q[n.UNKNOWN_ERROR]=u;q[n.W8b]=u;q[n.Mgb]=u;q[n.iCa]=u;q[n.Ygb]=u;q[n.Qgb]=t;q[n.Pfb]=t;q[n.kBa]=x;q[n.iBa]=x;q[n.Qfb]=v;q[n.Rfb]=x;q[n.Sfb]=x;q[n.Mfb]=u;q[n.Ofb]=u;q[n.jBa]=a;q[n.Nfb]=u;q[n.Lfb]=x;q[n.x6b]=t;q[n.cib]=x;q[n.uEa]=x;q[n.tEa]=x;q[n.qEa]=x;q[n.rEa]=x;q[n.bib]=w;q[n.yda]=t;q[n.Ada]=w;q[n.zda]=r;q[n.xEa]=t;q[n.eib]=w;q[n.e1]=x;q[n.vEa]=t;q[n.dib]=t;q[n.Tgb]=t;q[n.Ngb]=u;q[n.Ylb]=u;q[n.Dgb]=u;q[n.Egb]=u;q[n.Fgb]=u;q[n.Ggb]=u;q[n.Hgb]=u;q[n.Igb]=u;q[n.Jgb]=u;q[n.Kgb]=u;q[n.Lgb]=u;q[n.Ogb]=u;q[n.Pgb]=u;q[n.Rgb]=u;q[n.Sgb]=u;q[n.Ugb]=u;q[n.Vgb]=u;q[n.Wgb]=u;q[n.Xgb]=u;q[n.Zgb]=u;q[n.$gb]=u;q[n.Xlb]=x;q[n.TIMEOUT]=a;p[n.kBa]=!0;p[n.uEa]=!0;p[n.tEa]=!0;p[n.rEa]=!0;p[n.iCa]=!0;a=(function(){var I40;I40=2;function y(z,A,B,E){var J40;J40=2;for(;J40 !== 20;){switch(J40){case 4:var F6p="1S";F6p+="I";F6p+="YbZr";F6p+="NJCp9";this.ns=E;this.events=new c.EventEmitter();this.dh=new c.gi();F6p;this.ATa=new h.wfa();J40=6;break;case 2:this.Jm=z;this.config=A;this.IKb=B;J40=4;break;case 6:var C6p="net";C6p+="w";C6p+="orkF";C6p+="ailed";q[n.qEa]=A.ALb?t:x;this.dh.addListener(this.Jm,C6p,this.BKb.bind(this));this.lO=k.default.time.fa();J40=12;break;case 12:this.bu=0;this.pya={};this.ava=new g.default(z,E,A);J40=20;break;}}}for(;I40 !== 12;){switch(I40){case 4:y.prototype.jYb=function(z){var R40,A,B,E;R40=2;for(;R40 !== 7;){switch(R40){case 1:R40=E?5:8;break;case 2:(A=k.default.time.fa(),B=this.config,E=this.pya[z]);R40=1;break;case 5:R40=E.jp < this.lO?4:3;break;case 4:(E.jp=A,E.count=1);R40=7;break;case 3:R40=!(E.jp >= A - B.gba || E.iB || (E.jp=A,++E.count,E.count < B.a9))?9:7;break;case 8:this.pya[z]={jp:A,count:1};R40=7;break;case 9:return E.iB=!0;break;}}};y.prototype.BKb=function(z){var S40,A,B,E,D,F,G,C;S40=2;for(;S40 !== 7;){switch(S40){case 2:var N6p="Network";N6p+=" h";N6p+="as fail";N6p+="ed";N6p+=" ";var L6p="te";L6p+="mp";L6p+="orarily";var c6p="p";c6p+="e";c6p+="rmane";c6p+="n";c6p+="tly";var I6p=" m";I6p+="s";I6p+=" a";I6p+="g";I6p+="o";var g6p=" last success";g6p+=" wa";g6p+="s ";(A=this,B=k.default.time.fa() - this.lO,E=z,D=this.config);a000.C3p(4);m.warn(a000.F3p(g6p,I6p,B,z?c6p:L6p,N6p));!z && B > D.ita && (E=!0);S40=4;break;case 4:S40=this.wA?3:9;break;case 3:(F=this.wA.vh,G=this.wA.KD,C=this.wA.Cj);S40=9;break;case 9:var A6p="temp";A6p+="oraryNet";A6p+="workEr";A6p+="r";A6p+="or";var D6p="tem";D6p+="p";D6p+="o";D6p+="raryNetworkErr";D6p+="or";z || this.events.emit(D6p,{type:A6p,errorCode:F,httpCode:G,nativeCode:C});E?(this.AP && (clearTimeout(this.AP),this.AP=void 0),this.JTa(),this.ava.reset(),this.IKb({uNb:z,TTb:F,UTb:G,VTb:C})):this.AP || (this.AP=setTimeout(function(){var T40;T40=2;for(;T40 !== 5;){switch(T40){case 2:A.AP=void 0;A.iaa();T40=5;break;}}},D.jta));S40=7;break;}}};y.prototype.iaa=function(){var U40,z;U40=2;for(;U40 !== 5;){switch(U40){case 1:this.ATa.cz || this.ATa.Cza(function(){var V40;V40=2;for(;V40 !== 1;){switch(V40){case 2:z.AP || (z.Jm.iaa(),z.pya={},z.ns());V40=1;break;}}});U40=5;break;case 2:z=this;U40=1;break;}}};I40=8;break;case 2:y.prototype.Ib=function(){var K40;K40=2;for(;K40 !== 1;){switch(K40){case 2:this.dh.clear();K40=1;break;case 4:this.dh.clear();K40=9;break;K40=1;break;}}};y.prototype.DE=function(z){var L40;L40=2;for(;L40 !== 1;){switch(L40){case 2:this.Qaa=z;L40=1;break;}}};y.prototype.Ls=function(z,A,B,E){var M40,K,D,F,G,C,H,I,Q,M;M40=2;for(;M40 !== 15;){switch(M40){case 19:F=H.QZb(z.host,z.port);M40=11;break;case 12:M && (F[M]=[z.url]);M40=11;break;case 18:var f6p="Invalid affe";f6p+="cted for ";f6p+="netwo";f6p+="rk failure";m.error(f6p);M40=17;break;case 9:var o6p="cri";o6p+="ticalNet";o6p+="workE";o6p+="rror";var z6p="cr";z6p+="it";z6p+="icalNetworkErr";z6p+="or";K=q[B];this.wA={KD:A,vh:B,vXa:G,Cj:E};p[B] && (++this.bu,this.events.emit(z6p,{type:o6p,vh:B}));M40=6;break;case 6:M40=K !== v?14:15;break;case 3:M40=B && f.isArray(q[B])?9:16;break;case 2:var Y8p=" ";Y8p+=": critical err";Y8p+="or count = ";var O8p=" ";O8p+="o";O8p+="n";O8p+=" ";var G6p="Fail";G6p+="ur";G6p+="e ";(D=this,F=l.N0.name,G=B?F[B]:void 0);F={};(C=this.config,H=this.Jm);m.warn(G6p + G + O8p + JSON.stringify(z) + Y8p + this.bu);M40=3;break;case 17:return;break;case 11:(I=K[0],Q=K[1]);C.dv?f.forEach(F,function(L,J){var N40;N40=2;for(;N40 !== 5;){switch(N40){case 2:var S8p="e";S8p+="r";S8p+="r";S8p+="o";S8p+="r";K === x || K === u?D.ava.oWb({url:void 0 !== z.url?z.url:L[0],Qd:J},{qRa:J,v_:K,KD:A,vh:B,vXa:G,Cj:E}):L.some(function(N){var O40;O40=2;for(;O40 !== 5;){switch(O40){case 2:H.Ls(I,Q,N);return I === d.default.Fh.OF;break;}}});!D.Qaa || 0 !== A && void 0 !== A || (L=void 0 !== z.url?z.url:L[0]) && D.Qaa.Rwa(S8p,L);N40=5;break;}}}):f.forEach(F,function(L,J){var P40;P40=2;for(;P40 !== 5;){switch(P40){case 2:P40=K !== x || D.jYb(J)?1:5;break;case 1:var E8p="e";E8p+="r";E8p+="r";E8p+="o";E8p+="r";(L.some(function(N){var Q40;Q40=2;for(;Q40 !== 5;){switch(Q40){case 2:H.Ls(I,Q,N);return I === d.default.Fh.OF;break;}}}),!D.Qaa || 0 !== A && void 0 !== A || (L=void 0 !== z.url?z.url:L[0]) && D.Qaa.Rwa(E8p,L));P40=5;break;}}});M40=15;break;case 13:M=H.o$a(z.url);M40=12;break;case 14:M40=void 0 !== z.url?13:20;break;case 16:var J8p="Unma";J8p+="pped failure code in JSASE e";J8p+="r";J8p+="ror dire";J8p+="ctor : ";a000.C3p(2);m.error(a000.F3p(B,J8p));M40=15;break;case 20:M40=void 0 !== z.host && void 0 !== z.port?19:18;break;}}};I40=4;break;case 8:y.prototype.Aba=function(z){var W40,A;W40=2;for(;W40 !== 9;){switch(W40){case 2:var R8p="updating";R8p+="La";R8p+="stSuccessEve";R8p+="nt";var w8p="updati";w8p+="ngLas";w8p+="t";w8p+="Succ";w8p+="essEvent";A=this.config;this.lO=Math.max(z.timestamp || k.default.time.fa(),this.lO);this.JTa();A.dv && this.ava.Aba(z);this.events.emit(w8p,{type:R8p});W40=9;break;}}};y.prototype.Nta=function(){var X40;X40=2;for(;X40 !== 1;){switch(X40){case 2:this.bu=0;X40=1;break;}}};y.prototype.Dk=function(){var Y40,z,A,B;Y40=2;for(;Y40 !== 4;){switch(Y40){case 2:var Z8p="m";Z8p+="s";var e8p="Setting";e8p+=" ";e8p+="unde";e8p+="rflow time";e8p+="out in ";(z=this,A=this.config,B=A.U8);this.lO=Math.max(k.default.time.fa(),this.lO);!A.hdb || this.w_ || A.B_ && A.eN && A.$Rb || (m.info(e8p + B + Z8p),this.w_=setTimeout(function(){var Z40;Z40=2;for(;Z40 !== 4;){switch(Z40){case 2:var M8p="F";M8p+="orcin";M8p+="g p";M8p+="ermanent network failure afte";M8p+="r ";var K8p="ms, sinc";K8p+="e unde";K8p+="rflow with ";K8p+="no ";K8p+="success";a000.C3p(5);m.info(a000.y3p(K8p,B,M8p));z.w_=void 0;z.Jm.Ls(d.default.Fh.oy,!0);Z40=4;break;}}},B));Y40=4;break;}}};y.prototype.JTa=function(){var a50;a50=2;for(;a50 !== 1;){switch(a50){case 2:var p8p="Cleared u";p8p+="nder";p8p+="flow";p8p+=" timeout";this.w_ && (clearTimeout(this.w_),this.w_=void 0,m.info(p8p));a50=1;break;}}};I40=13;break;case 13:return y;break;}}})();b.CDa=a;},function(r,b,a){var f,k,m;function c(d,g,h){this.rT=d;this.dG=0 === Math.floor(1E6 * Math.random()) % h.TI;this.groupId=1;this.config=h;this.Rz={};this.xE={};this.ns=g;}f=a(10);k=a(6).default;new k.Console("ASEJS_PROBE_MANAGER","asejs");m=a(806).lAa;c.prototype.constructor=c;c.prototype.oWb=function(d,g){var h,l,n,q,p,u,t,w,v,x,y;h=this.rT;l=d.Qd;n=h.Yab(d.url);q=h.K8(d.url);p=this.config;u=k.time.fa();t=g;w=[];v=n.yj[0];x=!1;y=this.Rz[l];if(!y)y=this.Rz[l]={count:0,jp:u,iB:!1,error:g,$wa:[],cva:{}};else if(y.jp >= u - p.gba)return;y.iB || (v && q.id === v.id && (d.isPrimary=!0),y.jp=u,y.iB=!1,y.error=g,++y.count,n && n.urls && 0 !== n.urls.length && (f.forEach(n.urls,function(z){var A,B,E;A=z.Pc.id;B=A + "-" + l;E=this.xE[B];if(void 0 === E || void 0 === E.R$)(E && E.zp && clearTimeout(E.zp),z=this.TUa(z.url,d,A),this.xE[B]={aa:!1,count:0,R$:z.wi()},w.push(z.wi()),x=!0);-1 === y.$wa.indexOf(A) && y.$wa.push(A);},this),this.dG && 0 < w.length && (n={type:"logdata",target:"endplay",fields:{}},g=t,t={ts:k.time.fa(),es:g.qRa,fc:g.vh,fn:g.vXa,nc:g.Cj,pb:w,gid:this.groupId},g.KD && (t.hc=g.KD),n.fields.errpb={type:"array",value:t,adjust:["ts"]},h.Zn(n)),x && this.groupId++));};c.prototype.TUa=function(d,g,h){var l,n,q;l=this.rT.K8(g.url);l && l.zb && l.zb.Cu && l.zb.Cu.Ha || Math.random(0,1);l=new m(this);n=d.split("?");q="random=" + parseInt(1E7 * Math.random(),10);l.OTb(1 < n.length?d + "&" + q:d + "?" + q,g,h);return l;};c.prototype.pWb=function(d,g){var h,l,n,q,p,u,t,w;h=this.rT;l=this.config;n=g.Qd;q=this.Rz[n];p=d.url;u=this.xE[d.Qd + "-" + n];if(q){t=q.error;if(u){u && u.zp && clearTimeout(u.zp);u.aa=!0;u.count=0;u.R$=void 0;q.cva[d.Qd]=!0;(u=this.Rz[d.Qd]) && !0 === u.iB && l.az && (h.B9a(d.Qd,u.error.v_[1]),this.dG && (u={type:"logdata",target:"endplay",fields:{}},u.fields.errst={type:"array",value:{ts:k.time.fa(),id:d.requestId,servid:g.Qd,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.Zn(u)),this.Rz[d.Qd]=void 0,this.ns());if(p !== g.url){w=this.xE[n + "-" + n];w && w.aa || (n=(n=h.K8(p)) && n.zb && n.zb.Cu && n.zb.Cu.Ha || Math.random(0,1) * l.V8,n=Math.min(n,l.V8),setTimeout((function(){var v;if(!(!1 !== q.iB || w && w.aa) && (q.iB=!0,h.Ls(t.v_[0],t.v_[1],g.url,t),this.dG)){v={type:"logdata",target:"endplay",fields:{}};v.fields.erep={type:"array",value:{ts:k.time.fa(),id:d.requestId,servid:g.Qd,gid:d.groupId?d.groupId:-1},adjust:["ts"]};h.Zn(v);}}).bind(this),n));}this.dG && (u={type:"logdata",target:"endplay",fields:{}},u.fields.pbres={type:"array",value:{ts:k.time.fa(),id:d.requestId,result:1,servid:d.Qd,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.Zn(u));}}};c.prototype.mWb=function(d,g){var h,l,n,q,p,u,t,w,v,x;h=this.rT;l=parseInt(g.Qd,10);n=this.Rz[l];q=parseInt(d.Qd,10);p=this.xE[q + "-" + l];u=0;t=this.config;if(p && n){p.aa=!1;p.R$=void 0;n.cva[q]=!1;w=n.$wa;if(t.az && q === l && g.isPrimary){v=h.K8(g.url);v=v && v.zb && v.zb.Cu && v.zb.Cu.Ha || 300 * Math.random(0,1);v*=Math.pow(2,p.count);v=Math.min(v,12E4);v+=Math.random(0,1) * (1E4 > v?100:1E4);p.zp=setTimeout((function(){var y;p.zp=void 0;y=this.TUa(d.url,g,q);y.i_b(d.groupId);p.R$=y.wi();}).bind(this),v);}++p.count;if(q === l && (u=0,w.forEach(function(y){!1 === n.cva[y] && u++;}),w.length === u && n.count >= t.a9)){x=n.error;n.iB=!0;f.forEach(h.Yab(g.url).urls,function(y){var z;h.Ls(x.v_[0],x.v_[1],y.url,x);if(this.dG){z={type:"logdata",target:"endplay",fields:{}};z.fields.erep={type:"array",value:{ts:k.time.fa(),id:-1,servid:y.Pc.id},adjust:["ts"]};h.Zn(z);}},this);}this.dG && (l={type:"logdata",target:"endplay",fields:{}},l.fields.pbres={type:"array",value:{ts:k.time.fa(),id:d.requestId,result:0,servid:d.Qd,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.Zn(l));}};c.prototype.Aba=function(d){var g,h,l;g=d.url || d.mediaRequest.url;if(g){d=this.rT;g=d.o$a(g);h=this.Rz[g];l=this.xE[g + "-" + g];h && h.iB && this.config.az && (d.B9a(h.error.qRa,!1),this.dG && (h={type:"logdata",target:"endplay",fields:{}},h.fields.errst={type:"array",value:{ts:k.time.fa(),id:-1,servid:g},adjust:["ts"]},d.Zn(h)),this.Rz[g]=void 0,l && l.zp && clearTimeout(l.zp));}};c.prototype.reset=function(){var d,g,h;d=this.xE;for(h in d){d.hasOwnProperty(h) && (g=d[h + "-" + h]) && g.zp && clearTimeout(g.zp);}this.xE={};this.Rz={};};r.exports=c;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.lAa=void 0;c=a(2);f=a(17);k=c.__importDefault(a(6)).default.Rv;r=(function(m){function d(g){var h;h=m.call(this) || this;h.PPa=g;h.R2=g.groupId;h.Mi=new f.gi();h.Mi.on(h,k.Ne.iS,h.Jha);h.Mi.on(h,k.Ne.FF,h.vT);return h;}c.__extends(d,m);d.prototype.OTb=function(g,h,l){k.prototype.open.call(this,g,h,l);};d.prototype.i_b=function(g){this.R2=g;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.R2;},enumerable:!1,configurable:!0}});d.prototype.fd=function(){this.Mi && this.Mi.clear();k.prototype.fd.call(this);};d.prototype.Jha=function(g){this.PPa.pWb(g.probed,g.affected);this.fd();};d.prototype.vT=function(g){this.PPa.mWb(g.probed,g.affected);this.fd();};return d;})(k);b.lAa=r;},function(r,b,a){var c,f,k,m,d,g,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.BEa=void 0;c=a(2);f=a(143);k=a(382);m=a(16);d=c.__importDefault(a(6));r=a(82);g=a(385);h=a(4);l=a(127);a=(function(n){function q(p,u,t,w,v,x,y,z,A,B,E){var D;D=n.call(this,p) || this;D.he=p;D.I=u;D.J=t;D.Zn=w;D.xD=x;D.c8=y;D.Hy=z;D.fQa=A;D.wh=B;D.YOa=[void 0,void 0];D.iT=null !== E && void 0 !== E?E:{hw:[Object.create(null),Object.create(null)]};v?D.sW=v:(D.De=l.Gp.instance.au("headers","" + D.he.S,!0,!1,{},D.J),D.De.Fb());return D;}c.__extends(q,n);Object.defineProperties(q.prototype,{hw:{get:function(){return this.iT.hw;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qC:{get:function(){return this.iT.qC;},set:function(p){this.iT.qC=p;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{rL:{get:function(){return this.iT.rL;},set:function(p){this.iT.rL=p;},enumerable:!1,configurable:!0}});q.prototype.fd=function(){var p;p=this;this.hw.forEach(function(u,t){for(var w in u){u[w].fd();p.dma(t,w);}});this.De && l.Gp.instance.TM(this.De);this.De=void 0;};q.prototype.kl=function(p,u){return this.hw[p][u];};q.prototype.s7=function(){return !(!this.qC || !this.qC.length);};q.prototype.Nka=function(){this.qC=void 0;};q.prototype.NP=function(p){this.qC=p;};q.prototype.Hya=function(){var p,u;if(!this.s7() || this.rL)return !1;for(f.gn.Cq(1);0 < this.qC.length;){p=this.qC.shift();u=this.he.Tw(1,p);if(u && !this.RKb(p) && u.Hu)return (this.rL=p,this.xba(u,{offset:0,XP:!0}));}return !1;};q.prototype.aza=function(p,u){var t;t=this;u.forEach(function(w){var v;v=t.kl(p,w.Ta);v && !w.me && (v.stream.me?w.W4(v.stream):(v.gY || (v.gY=[]),v.gY.push(t.he)));});};q.prototype.yP=function(p,u,t){var w,v,x;w=this;x=this.he;m.Df.forEach(function(y){var z,A,B,E,D;if(x.oc(y) && (void 0 === t || y === t)){E=p[y];h.assert(E && x.getTrackById(E.trackId) === E);E=E.ae;if(x.vk)w.I.warn("requestHeadersFromManifest, shutdown detected");else if(x.Jm.y_(x.S,E)){D=null !== (B=null === (A=null === (z=w.xD(y)) || void 0 === z?void 0:z.fI) || void 0 === A?void 0:A.bitrate) && void 0 !== B?B:0;z=g.lna(E,D);void 0 === z && w.I.warn("Unable to find stream for bitrate " + D);z=E[z];(A=x.kl(y,z.Ta)) && A.stream.Y?x.C3b(y,A):(y={offset:0,XP:!1,nD:1 === y,Ow:!0,GO:!w.c8(x)},x.MUa(z,y,u));}else w.I.warn("requestHeadersFromManifest, unable to update urls");}});x.y7=!0;null === (v=this.wh) || void 0 === v?void 0:v.call(this,x.Qb).z4();};q.prototype.UE=function(p,u){var t,w,v,x;t=this.J;w=this.kl(p.mediaType,p.Ta);if(w)return (w.stream.Y || w.XP && this.GTa(w),!1);w=this.apb;v=this.bpb;if(void 0 !== t.Xsa && void 0 !== w && void 0 !== v){x=d.default.time.fa();if(x - w < t.Xsa || x - v < t.Xsa)return !1;}p=this.xba(p,{url:p.url,offset:0},void 0,void 0,u);this.bpb=d.default.time.fa();return p;};q.prototype.xba=function(p,u,t,w,v){var x,y,z,A,B;A=p.mediaType;f.gn.Cq(A);B=p.Ta;if(this.xnb(B,! !u.Ow))return (null === (x=this.fQa) || void 0 === x?void 0:x.call(this),!1);if(x=this.kl(A,B))p=!1;else {x=c.__assign(c.__assign({},u),{ga:null !== (y=u.ga) && void 0 !== y?y:this.hob(p)});y=! !x.nD;B=! !x.GO;this.sW?v=this.sW(A,! !x.Ow,y,B,! !t):v || (v=this.De);h.assert(v);p.url && (this.xD(A).Cra=p.url);x=p=this.aOa(p,v,x);if(!p.UO())return (this.he.hh("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);p=!0;}u.Ow && w && (this.he.yh[A]=x);null === (z=this.fQa) || void 0 === z?void 0:z.call(this);return p;};q.prototype.cn=function(){var p,u;p=this;u=[];this.hw.forEach(function(t,w){var x;f.gn.Cq(w);for(var v in t){w=t[v];x=w.bza();1 === x?u.push(w):2 === x && p.he.hh("swapUrl failure");}});return u;};q.prototype.Ek=function(p){var u,t;u=p.mediaType;t=f.gn.Cq(u);this.he.vk?t.warn("header onrequestcomplete ignored, session shutdown:",p.toString()):(this.Zn({type:"logdata",target:"startplay",jc:{usedNativeDataView:p.w4b}}),p.nY > p.RTb && (this.YOa[u]=p.nY),p.XP && this.GTa(p),this.Gob(p),this.apb=d.default.time.fa(),this.he.Au.emit("onHeaderRequestComplete",p));this.pu(p);};q.prototype.L3=function(p,u,t){var w;w=p.mediaType;f.gn.Cq(w);w=this.he.Tw(w,p.Ta);if(u !== ! !p.gl)return !1;this.TQa(p);p.ptb(w);this.GNa(p);this.he.Au.emit("onHeaderFromCache",{header:p,RFb:t});return !0;};q.prototype.cM=function(p,u){var t,w,v,x;t=[];w=this.hw[p];for(v in w){x=w[v];x && !x.stream.Y && x.Js === u && (this.dma(p,v),t.push({stream:x.stream,offset:x.offset,ga:x.ga,nD:x.nD,Ow:x.Ow,GO:x.GO,jua:x.jua}),x.fd());}return t;};q.prototype.swa=function(p){var u;u=this;p.forEach(function(t){u.xba(t.stream,t);});};q.prototype.TQa=function(p){this.hw[p.mediaType][p.Ta]=p;};q.prototype.RKb=function(p){return ! !this.kl(1,p);};q.prototype.Gob=function(p){var u,t,w,x;u=this.J;t=f.gn.Cq(p.mediaType);w=p.stream.Y;if(u.Mla){u=w.length;t.trace("fragment count:",u);for(var v=0;v < u;++v){x=w.get(v);t.trace("fragment: " + v + ", startPts: " + x.$ + ", duration: " + x.duration + ", offset: " + x.offset);}}this.GNa(p);};q.prototype.GNa=function(p){var u,t;u=p.mediaType;t=p.Ta;f.gn.Cq(u);p.gY && (p.gY.forEach(function(w){(w=w.Tw(u,t)) && w !== p.stream && !w.me && w.W4(p.stream);}),p.gY=void 0);this.he.yKb(p);};q.prototype.aOa=function(p,u,t){var w,v;w=this;v=f.gn.Cq(p.mediaType);p=new k.uca(p,this.J,u,t,this,!1,v);p.addListener("headerRequestCancelled",function(x){w.Fob(x.request);});p.Fb(void 0);this.TQa(p);return p;};q.prototype.xnb=function(p,u){return this.Hy && (p=this.Hy.oX(this.he.K,p)) && this.L3(p,!1,u)?!0:!1;};q.prototype.hob=function(p){var u,t,w,v;u=p.Vs;t=p.R;w=t.duration;v=this.J;return t.nf.He?v.xXa?v.xXa:v.x7:v.t4b && u?u.offset + u.size:(p=this.YOa[p.mediaType])?p + 128:v.Sma?2292 + 12 * Math.ceil(w / 2E3):v.x7;};q.prototype.Fob=function(p){this.dma(p.mediaType,p.Ta);};q.prototype.dma=function(p,u){delete this.hw[p][u];};q.prototype.GTa=function(p){this.rL === p.Ta && (this.rL=void 0);};return q;})(r.Av);b.BEa=a;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.jLa=void 0;c=a(2);f=a(17);r=(function(k){function m(d,g,h,l){var n;n=k.call(this) || this;n.I=d;n.track=g;n.So=!1;n.jha=!1;n.dh=new f.gi();n.dh.on(g,"networkfailing",function(){n.emit("networkfailing");});n.dh.on(g,"error",function(){n.I.warn("requestQueue got error");n.emit("error");});if(h)(n.So=!0,Promise.resolve().then(function(){return n.emit("created");}));else n.dh.on(g,"created",function(){n.So=!0;n.emit("created");});n.jha=l;return n;}c.__extends(m,k);Object.defineProperties(m.prototype,{b6:{get:function(){return this.track.b6;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{vh:{get:function(){return this.track.vh;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Cj:{get:function(){return this.track.Cj;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{JV:{get:function(){return this.track.JV;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});m.prototype.Fb=function(){var d,g;this.jha || (null === (g=(d=this.track).Fb) || void 0 === g?void 0:g.call(d),this.jha=!0);};m.prototype.Gu=function(){return this.track.Gu();};m.prototype.toString=function(){return this.track.toString();};m.prototype.toJSON=function(){return this.track;};m.prototype.qq=function(){this.dh.clear();};return m;})(f.EventEmitter);b.jLa=r;},function(r,b,a){var g,h,l,n,q,p,u;function c(t){var w,v,x;t=t.parent;w=!1;if(t && t.children){v={};v[p.dm]=[];v[p.Bl]=[];v[p.TEMPORARY]=[];x=t.children;x.forEach(function(y){y && v[y.kf].push(y);});0 < v[p.dm].length || (v[p.Bl].length === x.length?t.kf !== p.Bl && (t.kf=p.Bl,q.error("PERM failing :",l.default.Fh.name[t.Ln] + " " + t.id),w=!0):(t.kf === p.dm && (t.kf=p.TEMPORARY,q.error("TEMP failing :",l.default.Fh.name[t.Ln] + " " + t.id),w=!0),v[p.TEMPORARY].forEach(function(y){y.kf=p.dm;})),w && c(t));}}function f(t){var w;if((t=t.parent) && 0 < t.children.length && t.kf !== p.dm){w={};w[p.dm]=[];w[p.Bl]=[];w[p.TEMPORARY]=[];t.children.forEach(function(v){v && w[v.kf].push(v);});0 < w[p.dm].length && (t.kf=p.dm,f(t));}}function k(t){return t.kf !== p.dm;}function m(t){switch(t.kf){case p.dm:return "OK";case p.Bl:return "FAILED PERMANENTLY";case p.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function d(t,w){if(t.kf === p.TEMPORARY || t.kf === p.Bl && w)t.kf=p.dm;t.children && t.children.forEach(function(v){v && d(v,w);});}Object.defineProperties(b,{__esModule:{value:!0}});b.Uda=void 0;g=a(2);h=g.__importStar(a(10));r=a(17);l=g.__importDefault(a(28));n=g.__importDefault(a(6));q=new n.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(t){t[t.dm=0]="OK";t[t.TEMPORARY=1]="TEMPORARY";t[t.Bl=2]="PERMANENT";})(p || (p={}));(function(t){t[t.Tv=0]="STARTUP";t[t.Glb=1]="REBUFFER";})(u || (u={}));a=(function(t){var b50;b50=2;for(;b50 !== 26;){switch(b50){case 2:g.__extends(w,t);w.prototype.OJb=function(){var d50;d50=2;for(;d50 !== 1;){switch(d50){case 2:return this.QA[0].zb;break;case 4:return this.QA[3].zb;break;d50=1;break;}}};b50=5;break;case 8:w.prototype.eM=function(v,x){var i50,y;i50=2;for(;i50 !== 19;){switch(i50){case 2:y=this;void 0 === x && (x=l.default.uy.rjb);v.locations.forEach(function(z){var j50,A,B,E,D;j50=2;for(;j50 !== 7;){switch(j50){case 2:A=z.key;j50=1;break;case 5:(y.yj[A].dc=z.rank,y.yj[A].level=z.level,y.yj[A].weight=z.weight);j50=7;break;case 1:j50=y.yj[A]?5:4;break;case 4:(B=[],E=y.Th.get(A),D=y.np);z={id:A,Ln:l.default.Fh.LOCATION,kf:p.dm,dc:z.rank,level:z.level,weight:z.weight,tx:void 0,parent:D,children:B,tl:B,streams:{},zb:E};y.yj[z.id]=z;j50=8;break;case 8:D.children.push(z);j50=7;break;}}});this.b3=n.default.time.fa();i50=3;break;case 7:v.video_tracks.forEach(function(z){var n50;n50=2;for(;n50 !== 1;){switch(n50){case 4:y.Y7a(z);n50=6;break;n50=1;break;case 2:y.Y7a(z);n50=1;break;}}});v=this.QA.filter(function(z){var o50,A;o50=2;for(;o50 !== 4;){switch(o50){case 2:A=z.tl.every(function(B){var q50;q50=2;for(;q50 !== 1;){switch(q50){case 2:return 0 === B.urls.length;break;}}});A && (z.tl.forEach(function(B){var r50;r50=2;for(;r50 !== 1;){switch(r50){case 2:y.tl[B.id]=void 0;r50=1;break;}}}),y.yj[z.id]=void 0,z.parent=void 0,z.children.length=0,z.streams={});return !A;break;}}});v.forEach(function(z){var s50;s50=2;for(;s50 !== 1;){switch(s50){case 2:z.tl.sort(function(A,B){var t50;t50=2;for(;t50 !== 1;){switch(t50){case 2:return A.dc - B.dc;break;}}});s50=1;break;}}});i50=13;break;case 3:this.QA.sort(function(z,A){var k50;k50=2;for(;k50 !== 1;){switch(k50){case 2:return z.level - A.level || z.dc - A.dc;break;}}});v.servers.forEach(function(z){var l50,A,B,E;l50=2;for(;l50 !== 14;){switch(l50){case 1:l50=y.tl[A]?5:4;break;case 3:l50=B?9:14;break;case 5:y.tl[A].dc=z.rank;l50=14;break;case 2:A=z.id;l50=1;break;case 4:B=y.yj[z.key];l50=3;break;case 9:E=[];z={id:A,Ln:l.default.Fh.OF,kf:p.dm,tx:void 0,parent:B,children:E,urls:E,name:z.name,type:z.type,dc:z.rank,location:B};y.tl[z.id]=z;B.children.push(z);l50=14;break;}}});v.audio_tracks.forEach(function(z){var m50;m50=2;for(;m50 !== 1;){switch(m50){case 4:y.Y7a(z);m50=0;break;m50=1;break;case 2:y.Y7a(z);m50=1;break;}}});i50=7;break;case 10:this.IP=x;this.dump();i50=19;break;case 13:this.QA=v;this.np.children=v;this.nJ=null;i50=10;break;}}};w.prototype.y_=function(v,x){var u50,y,z,A,B,D,E;u50=2;for(;u50 !== 19;){switch(u50){case 4:return !1;break;case 5:u50=k(this.np)?4:3;break;case 2:(y=this,z=this.config,A=this.Rb.get(),B=0);n.default.Zt && n.default.Zt(v);u50=5;break;case 6:u50=!this.nJ?14:13;break;case 13:D=this.nJ;u50=12;break;case 3:E=l.default.Sf.WB;z.NX && (E=l.default.Sf.dy);this.Rb.location && A.confidence >= E && (v=this.yj[this.Rb.location]) && (v.zb=A);h.Kb(this.nJ) && (this.nJ=this.H3b());u50=6;break;case 14:return (this.Ls(l.default.Fh.oy,!1),!1);break;case 11:return (this.Ls(l.default.Fh.oy,!1),!1);break;case 10:var h8p="(em";h8p+="pty stream lis";h8p+="t)";var r8p="Did not find a URL for A";r8p+="NY stream";r8p+="...";var B8p="n";B8p+="etworkFa";B8p+="iled";var t8p="Network ha";t8p+="s ";t8p+="failed, not updating stream selection";x.forEach(function(F,G){var v50,C;v50=2;for(;v50 !== 5;){switch(v50){case 2:var x8p=" K";x8p+="b";x8p+="ps";x8p+=")";var V8p=" ";V8p+="(";var l8p="]";l8p+=" ";var b8p="Faili";b8p+="n";b8p+="g stream [";C=F.id;D.some(function(H){var w50,K,M;w50=2;for(;w50 !== 8;){switch(w50){case 2:K=H.streams[C];w50=1;break;case 1:w50=!K?5:4;break;case 5:return !1;break;case 4:M=K.yj[0];void 0 === F.Q$ && (F.Q$=M.id,F.$ua=K.A_[M.id][0].Pc.id);return K.A_[H.id].some(function(I){var x50,Q;x50=2;for(;x50 !== 12;){switch(x50){case 2:x50=k(I.Pc)?1:5;break;case 1:return (I.Pc.kf === p.TEMPORARY && (F.kf=p.TEMPORARY),z.dv && F.Pc === I.Pc.id && I.Pc.tx && (F.tx=I.Pc.tx),!1);break;case 4:return !1;break;case 3:var H8p="l";H8p+="ocationfailo";H8p+="ver";var k8p="se";k8p+="rverf";k8p+="ail";k8p+="ov";k8p+="er";var T8p="perf";T8p+="orma";T8p+="nce";var u8p="unkn";u8p+="o";u8p+="wn";Q=u8p;F.location !== H.id && (z.dv?F.gra=H.id === M.id:Q=H !== D[0]?"" + l.default.uy.Cca:void 0 === F.location?"" + l.default.uy.Tv:h.ka(F.P2a) || F.P2a === H.id?h.ka(F.S2a) || F.S2a === I.Pc.id?T8p:k8p:H8p,F.location=H.id,F.Mra=H.level,F.Ss=Q);F.url=I.url;F.Pc=I.Pc.id;F.oJ=I.Pc.name;F.zb=z.Nja?H.zb.confidence >= l.default.Sf.dy || A.confidence < E?H.zb:A:A.confidence === l.default.Sf.HAVE_NOTHING || H.zb.confidence >= l.default.Sf.dy?H.zb:A;return !0;break;case 5:x50=k(I)?4:3;break;}}});break;}}})?(F.jA=!1,F.kf=void 0,F.Fu && ++B):F.kf && F.kf === p.TEMPORARY?y.np.kf=p.TEMPORARY:F.jA || (q.warn(b8p + G + l8p + C + V8p + F.bitrate + x8p),F.oxb(),F.jA=!0);v50=5;break;}}});return k(this.np)?(q.warn(t8p),this.K9=!0,this.emit(B8p,this.np.kf === p.Bl),!1):B?!0:(q.warn(r8p + (x.length?"":h8p)),this.Ls(l.default.Fh.oy,!0),!1);break;case 12:u50=!D.length?11:10;break;}}};w.prototype.QZb=function(v,x){var y50,y,z;y50=2;for(;y50 !== 4;){switch(y50){case 7:return y;break;y50=4;break;case 2:(y={},z=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);h.forEach(this.urls,function(A,B){var z50,E,D,F,G;z50=2;for(;z50 !== 7;){switch(z50){case 5:z50=D && 4 === D.length?4:7;break;case 2:A=A.parent?A.parent.id:"";(E=y[A],D=B.match(z));z50=5;break;case 4:var m8p="8";m8p+="0";var j8p="4";j8p+="4";j8p+="3";(F="s" === D[1],G=D[2]);D=D[3];D.length || (D=F?j8p:m8p);h.Ue(G) && h.Ue(D) && G === v && D == x && (E?E.push(B):y[A]=[B]);z50=7;break;}}});y50=5;break;case 5:return y;break;}}};w.prototype.Ls=function(v,x,y,z){var A50,B50,C50,A,B,E,F,G,D;A50=2;for(;A50 !== 42;){switch(A50){case 11:B50=F.Ln;A50=B50 === l.default.Fh.OF?10:18;break;case 30:A50=C50 === p.TEMPORARY?24:29;break;case 16:A50=B50 === l.default.Fh.URL?15:19;break;case 1:A50=A && A.parent && A.Ln !== v?5:4;break;case 12:A50=F?11:27;break;case 17:x.unshift(F.id);A50=19;break;case 15:var a8p="<";a8p+="u";a8p+="r";a8p+="l fo";a8p+="r ";x.unshift(a8p + F.stream.bitrate + ">");A50=19;break;case 5:A=A.parent;A50=1;break;case 25:return;break;case 26:C50=A.kf;A50=C50 === p.Bl?25:30;break;case 34:this.nJ=null;this.IP=l.default.uy.Rf;z && (this.IP=l.default.uy.llb,A.tx=z);this.dump();A50=42;break;case 44:var q8p="I";q8p+="nva";q8p+="lid failure ";q8p+="state";throw Error(q8p);A50=24;break;case 20:x.unshift(G.id + "(" + G.name + ")");A50=19;break;case 2:(A=v !== l.default.Fh.oy && y?this.urls[y]:this.np,B=this.np.kf,E=x?p.Bl:p.TEMPORARY);A50=1;break;case 18:A50=B50 === l.default.Fh.LOCATION?17:16;break;case 4:A50=A?3:43;break;case 14:A50=13;break;case 19:F=F.parent;A50=12;break;case 10:G=F;A50=20;break;case 3:A50=E !== A.kf?9:42;break;case 27:var W8p=" : ";W8p+="w";W8p+="as ";D.call(y,v + (x.length?"/" + x.join("/"):"") + W8p + m(A));A50=26;break;case 43:var n8p="Unable to f";n8p+="ind failure e";n8p+="ntity for URL ";a000.C3p(2);q.warn(a000.F3p(y,n8p));A50=42;break;case 9:var Q8p=" ";Q8p+="a";Q8p+="t";Q8p+=" ";var i8p=" f";i8p+="ail";i8p+="u";i8p+="re reported for ";var U8p="TE";U8p+="M";U8p+="P";var d8p="P";d8p+="ER";d8p+="M";y=q;D=y.warn;v=(x?d8p:U8p) + i8p + l.default.Fh.name[v] + Q8p;A50=6;break;case 29:A50=C50 === p.dm?24:28;break;case 6:x=[];A50=14;break;case 13:F=A;A50=12;break;case 28:A50=44;break;case 24:var X8p="network";X8p+="Faile";X8p+="d";var P8p="E";P8p+="mitting netwo";P8p+="rkFa";P8p+="iled, permanen";P8p+="t =";A.kf=E;c(A);this.K9=this.K9 || k(this.np);E=this.np.kf;E > B && (q.warn(P8p,E === p.Bl),this.emit(X8p,E === p.Bl));A50=34;break;}}};w.prototype.B9a=function(v,x){var D50;D50=2;for(;D50 !== 3;){switch(D50){case 5:this.nJ=null;this.IP=l.default.uy.Iea;D50=3;break;case 2:D50=(v=this.tl[v])?1:5;break;case 8:D50=(v=this.tl[v])?4:9;break;D50=(v=this.tl[v])?1:5;break;case 1:(d(v,x),f(v));D50=5;break;}}};w.prototype.iaa=function(){var E50;E50=2;for(;E50 !== 1;){switch(E50){case 2:d(this.np,!1);E50=1;break;case 4:d(this.np,+2);E50=4;break;E50=1;break;}}};b50=11;break;case 11:w.prototype.Zn=function(v){var F50,x;F50=2;for(;F50 !== 5;){switch(F50){case 2:null === (x=this.Vpb) || void 0 === x?void 0:x.call(this,v);F50=5;break;}}};w.prototype.Dk=function(){var G50;G50=2;for(;G50 !== 1;){switch(G50){case 2:this.oYb(u.Glb);G50=1;break;case 4:this.oYb(u.Glb);G50=3;break;G50=1;break;}}};w.prototype.Ib=function(){var H50;H50=2;for(;H50 !== 1;){switch(H50){case 2:this.config.qPb && this.MUb();H50=1;break;}}};b50=19;break;case 5:w.prototype.iu=function(){var e50;e50=2;for(;e50 !== 1;){switch(e50){case 4:return k(this.np);break;e50=1;break;case 2:return k(this.np);break;}}};w.prototype.o$a=function(v){var f50;f50=2;for(;f50 !== 5;){switch(f50){case 2:f50=(v=this.urls[v]) && v.parent?1:5;break;case 1:return v.parent.id;break;case 9:return v.parent.id;break;f50=5;break;}}};w.prototype.K8=function(v){var g50;g50=2;for(;g50 !== 5;){switch(g50){case 1:return v.Pc.location;break;case 2:g50=(v=this.urls[v]) && v.Pc?1:5;break;}}};w.prototype.Yab=function(v){var h50;h50=2;for(;h50 !== 5;){switch(h50){case 2:h50=(v=this.urls[v])?1:5;break;case 3:h50=(v=this.urls[v])?0:2;break;h50=(v=this.urls[v])?1:5;break;case 1:return v.stream;break;}}};b50=8;break;case 19:w.prototype.Y7a=function(v){var I50,x;I50=2;for(;I50 !== 5;){switch(I50){case 2:x=this;v.streams.forEach(function(y){var J50,z,A,B;J50=2;for(;J50 !== 6;){switch(J50){case 3:x.streams[A.id]=A;J50=9;break;case 1:J50=h.ka(A)?5:9;break;case 2:(z=y.downloadable_id,A=x.streams[z]);J50=1;break;case 5:var v8p="no";v8p+="n";v8p+="e-";B=y.content_profile;A={id:z,bitrate:y.bitrate,xb:y.vmaf,type:y.type,profile:B,clear:0 === B.indexOf(v8p),Fu:!0,urls:[],A_:{},yj:[]};J50=3;break;case 9:y.urls.forEach(function(E){var K50,G,D,F;K50=2;for(;K50 !== 13;){switch(K50){case 5:G=E.location;F={id:D,Ln:l.default.Fh.URL,kf:p.dm,tx:void 0,parent:E,children:[],url:D,Pc:E,stream:A};K50=3;break;case 6:G.streams[A.id]=A;(D=A.A_[G.id])?D.push(F):A.A_[G.id]=[F];K50=13;break;case 3:x.urls[D]=F;E.children.push(F);A.urls.push(F);0 === A.yj.filter(function(C){var L50;L50=2;for(;L50 !== 1;){switch(L50){case 2:return C.id === G.id;break;case 4:return C.id == G.id;break;L50=1;break;}}}).length && A.yj.push(G);K50=6;break;case 2:(D=E.url,F=x.urls[D]);K50=1;break;case 1:K50=h.ka(F) && (E=x.tl[E.cdn_id])?5:13;break;}}});h.sf(A.A_,function(E){var M50;M50=2;for(;M50 !== 1;){switch(M50){case 2:E.sort(function(D,F){var N50;N50=2;for(;N50 !== 1;){switch(N50){case 2:return D.Pc.dc - F.Pc.dc;break;case 4:return D.Pc.dc + F.Pc.dc;break;N50=1;break;}}});M50=1;break;}}});A.yj=A.yj.sort(function(E,D){var O50;O50=2;for(;O50 !== 1;){switch(O50){case 2:return E.level - D.level || E.dc - D.dc;break;}}});J50=6;break;}}});I50=5;break;}}};w.prototype.H3b=function(){var P50,v,x,y,z;P50=2;for(;P50 !== 6;){switch(P50){case 5:return null;break;case 2:(v=this,x=this.config,y=this.QA.filter(function(A){var Q50;Q50=2;for(;Q50 !== 1;){switch(Q50){case 4:return +k(A) || 8 != A.level;break;Q50=1;break;case 2:return !k(A) && 0 !== A.level;break;}}}));P50=1;break;case 4:z=n.default.time.fa();P50=3;break;case 9:(y.forEach(function(A){var R50;R50=2;for(;R50 !== 1;){switch(R50){case 2:A.id !== v.Rb.location && (A.zb=v.Th.get(A.id));R50=1;break;}}}),this.b3=z);P50=8;break;case 1:P50=0 === y.length?5:4;break;case 3:P50=null === this.b3 || this.b3 + x.Lra < z?9:8;break;case 8:y.sort(function(A,B){var S50;S50=2;for(;S50 !== 1;){switch(S50){case 2:return A.level - B.level || A.dc - B.dc;break;}}});return y;break;}}};w.prototype.oYb=function(v){var T50,x;T50=2;for(;T50 !== 4;){switch(T50){case 2:x=this.Rb.location;this.sWb=v;this.QA.forEach(function(y){var U50;U50=2;for(;U50 !== 1;){switch(U50){case 2:y.id !== x && y.zb && y.zb.confidence > l.default.Sf.WB && (y.zb.confidence=l.default.Sf.WB);U50=1;break;}}});T50=4;break;}}};w.prototype.MUb=function(){var V50,v;V50=2;for(;V50 !== 5;){switch(V50){case 2:v=this;this.K9 || this.QA.forEach(function(x){var W50;W50=2;for(;W50 !== 1;){switch(W50){case 2:x.kf === p.TEMPORARY && v.Th.fail(x.id,n.default.time.fa());W50=1;break;}}});V50=5;break;}}};b50=15;break;case 15:w.prototype.dump=function(){};return w;break;}}function w(v,x,y,z,A){var c50,B;c50=2;for(;c50 !== 15;){switch(c50){case 7:B.tl={};B.urls={};B.streams={};B.QA=[];B.K9=!1;c50=11;break;case 11:var s8p="n";s8p+="etw";s8p+="ork";B.np={id:s8p,Ln:l.default.Fh.oy,kf:p.dm,tx:void 0,parent:void 0,children:B.QA};B.b3=null;B.nJ=null;B.IP=l.default.uy.Tv;c50=18;break;case 18:var y8p="1S";y8p+="IYbZrNJC";y8p+="p9";B.eM(v,l.default.uy.Tv);y8p;c50=16;break;case 2:B=t.call(this) || this;B.Rb=x;B.Th=y;B.config=z;B.Vpb=A;B.sWb=u.Tv;B.yj={};c50=7;break;case 16:return B;break;}}}})(r.EventEmitter);b.Uda=a;},function(r,b,a){var c,f,k,m,d,g,h,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.vHa=void 0;c=a(21);f=a(4);k=a(811);m=a(812);d=a(813);g=a(814);h=a(815);l=a(816);n=a(817);r=(function(){function q(p,u,t,w){this.config=p;this.mediaType=u;this.Rc=t;this.console=w;}q.prototype.append=function(p,u){var t,w,v,x;w=u.endOfStream;v=u.l9;x=u.QX;void 0 === this.track?this.$N(p.stream):this.track !== p.stream.track && (f.assert(this.track.va),f.assert(p.stream.track.va),f.assert(1 === this.mediaType || this.track.va.equal(p.stream.track.va)),this.track=p.stream.track);f.assert(void 0 !== this.Wt);u={Od:p,offset:null !== (t=p.lva) && void 0 !== t?t:c.O.eb,We:this.config.uaa};u=this.Wt.reduce(function(y,z){return z.append(y,{endOfStream:w,l9:v,QX:x});},u);t=u.Od;u=u.offset;t.ya && p.Lk(t.ya);return u;};q.prototype.reset=function(){this.Wt=this.track=void 0;};q.prototype.$N=function(p){var u,t;this.track=p.track;this.Wt=[];if(0 === this.mediaType){this.config.uaa && this.Wt.push(new d.xLa(this.config,p.track,this.console));t=this.lka(p);t.equal(c.O.eb)?this.config.qm && p.zf && this.zqa(p.R.S) && this.Wt.push(new l.zFa(this.config)):this.Wt.push(new k.pfa(t));this.config.Ksa || (this.console.log("MediaSplicer: NegativePtsGuard: " + t.$d() + ", " + (null === (u=p.zf) || void 0 === u?void 0:u.$d())),this.Wt.push(new g.PHa(this.config,p,this.console)));this.sNb() && (this.config.ih || this.Wt.push(new n.vAa(p,this.config,this.Rc,this.console)),this.Wt.push(new m.ZHa(this.config,p,this.console)),this.e0b(p) && (f.assert(p.va),this.Wt.push(this.cyb(p.zf || c.O.eb,p.va,t))));}};q.prototype.zqa=function(p){return this.config.zqa || this.config.A1a && -1 !== this.config.A1a.indexOf(p);};q.prototype.lka=function(p){return k.pfa.lka(this.config,p.zf,this.Rc,this.console);};q.prototype.sNb=function(){return !this.config.AE;};q.prototype.e0b=function(p){return this.config.b3b && this.config.qm && ! !p.zf;};q.prototype.cyb=function(p,u,t){return new h.YMa(p.Ka(t),u,this.console);};return q;})();b.vHa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.pfa=void 0;c=a(21);f=a(20);r=(function(){function k(m){this.zf=m;}k.lka=function(m,d,g,h){var l;l=c.O.eb;d && (g=null === g || void 0 === g?void 0:g.kbc,m.j4b && void 0 !== g && 0 <= g?(m=new c.O(g,48E3),l=d.add(m),f.ia && h.trace("Adjusting profile timestamp offset of " + d + (" by DPI assumed delay of " + m) + (" for ASE applied offset of " + l + "."))):m.GG && (l=d));return l;};k.prototype.append=function(m){var d;d=m.We;return {Od:m.Od,offset:m.offset.add(this.zf),We:d};};return k;})();b.pfa=r;},function(r,b,a){var f,k,m,d;function c(g){return g.toString() + " (nrdp: " + g.fJ + "ms)";}Object.defineProperties(b,{__esModule:{value:!0}});b.ZHa=void 0;f=a(21);k=a(242);m=a(20);d=a(4);r=(function(){function g(h,l,n){this.console=n;this.offset=f.O.eb;this.zf=h.qm?l.zf:void 0;d.assert(l.va);this.va=l.va;}g.prototype.append=function(h){var l,n,q;l=h.Od;n=h.offset;q=h.We;void 0 !== this.L2a && (d.assert(void 0 !== this.ora),l.Xc.add(h.offset).equal(this.L2a)?(h=this.Uvb(l,n.add(this.offset)).U - this.ora,0 > h?this.offset=this.offset.add(f.O.ox):0 === h?this.offset.lessThan(f.O.eb) && (this.offset=this.offset.add(f.O.ox)):1 === h?this.offset.greaterThan(f.O.eb) && (this.offset=this.offset.Ka(f.O.ox)):this.offset=this.offset.Ka(f.O.ox)):this.offset=f.O.eb);this.ora=this.Tvb(l,n.add(this.offset)).U;this.L2a=l.Td.add(n);return {Od:l,offset:n.add(this.offset),We:q};};g.prototype.Uvb=function(h,l){var n,q;h=this.oRa(h.Xc);n=k.Ru(h).add(k.Ru(l));q=h.add(l).Ka(n);m.ia && this.console.trace("NrdpRounding: content start " + c(h) + ", timestamp offset: " + c(l) + ", start rounding error: " + k.Ru(h).toString() + ", offset rounding error: " + k.Ru(l).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + q.$d() + ", (" + h.fJ + l.fJ + "ms), last fragment end nrdp: " + this.ora);return q;};g.prototype.Tvb=function(h,l){var n,q,p;n=this.va;h=this.oRa(h.Td);q=k.Ru(h.Ka(n)).add(k.Ru(n)).add(k.Ru(l));p=h.add(l).Ka(q);m.ia && this.console.trace("NrdpRounding: content end: start of last frame:" + c(h.Ka(n)) + ", frame duration: " + c(n) + ", offset: " + c(l) + ", timestamp rounding error: " + k.Ru(h.Ka(n)).toString() + ", frame duration rouding error: " + k.Ru(n).toString() + ", offset rounding error: " + k.Ru(l).toString() + ", total rounding error: " + q.toString() + ", expected nrdp value: " + p.$d() + ", (" + h.Ka(n).fJ + n.fJ + l.fJ + "ms)");return p;};g.prototype.oRa=function(h){return this.zf?h.Ka(this.zf):h;};return g;})();b.ZHa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.xLa=void 0;c=a(21);f=a(4);k=a(20);r=(function(){function m(d,g,h){this.config=d;this.console=h;this.yw=c.O.eb;f.assert(g.va);this.va=g.va;d=g.ae[0].profile;this.B9=this.FIb(d,this.va);this.c9=this.DIb(d,this.va);}m.prototype.append=function(d,g){var h,l,n,q;h=d.Od;l=d.offset;d=d.We;n=g.l9;g=g.QX;if(this.sua){q=this.ARb(h,this.sua);h.ya && this.Eja(q)?(k.ia && this.console.trace("SeamlessAudio: dropping one first frame"),h.wma(1),this.yw=q):(this.yw=q.add(this.va),this.tSa(this.yw) || (k.ia && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + h.Pg.$d() + " error would be " + this.yw.$d() + " (editing " + (h.ya?"":"not ") + "allowed)"),this.yw=c.O.eb,d=!1));this.sua=void 0;}if(h.Lq || h.Zw)(f.assert(n,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!h.ya || !g && h.Zw || (q=this.BRb(h,n,g),q.ms(c.O.eb) && h.xma(1)),this.sua=n);f.assert(this.tSa(this.yw));this.sra=h.ye;return {Od:h,offset:l.add(this.yw),We:d};};m.prototype.BRb=function(d,g,h){var l;if(h)l=this.yw.add(d.ye.Ka(h)).Ka(this.va);else (l=d.ye.Ka(g),l=this.yw.add(l).Ka(this.va));k.ia && this.console.trace("SeamlessAudio: fragment end: " + d.ye.$d() + ", splice " + g.$d() + ", next start " + (null === h || void 0 === h?void 0:h.$d()) + ", error " + l.add(this.va).$d() + ", error with frame drop " + l.$d() + ", is" + (this.Eja(l)?"":" not") + " within bounds of [" + this.B9.$d() + " and " + this.c9.$d() + ")");return l;};m.prototype.ARb=function(d,g){var h;f.assert(this.sra);h=this.yw.add(this.sra.Ka(d.Pg)).Ka(this.va);k.ia && this.console.trace("SeamlessAudio: fragment start: " + d.Pg.$d() + ", splice " + g.$d() + ", last fragment end: " + this.sra.$d() + ", error " + h.add(this.va).$d() + ", error with frame drop " + h.$d() + ", is" + (this.Eja(h)?"":" not") + " within bounds of [" + this.B9.$d() + " and " + this.c9.$d() + ")");return h;};m.prototype.Eja=function(d){return d.lessThan(this.c9) && d.ms(this.B9);};m.prototype.tSa=function(d){return d.lessThan(this.c9.add(c.O.ox)) && d.ms(this.B9.Ka(c.O.ox));};m.prototype.DIb=function(d,g){return "object" === typeof this.config.Hwa && void 0 !== this.config.Hwa[d]?(d=new c.O(this.config.Hwa[d],1E3).eg(g.W).add(new c.O(1,g.W)),c.O.min(g,d)):g;};m.prototype.FIb=function(d,g){var h;if("object" === typeof this.config.Iwa && void 0 !== this.config.Iwa[d]){h=g.Ml(-2);d=new c.O(this.config.Iwa[d],1E3).eg(g.W).Ka(new c.O(1,g.W));return c.O.max(h,d);}return new c.O(-12,1E3);};return m;})();b.xLa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.PHa=void 0;c=a(21);f=a(4);k=a(20);r=(function(){function m(d,g,h){var l;this.console=h;this.hZ=!1;f.assert(g.va,"NegativePtsGuard: stream.frameDuration must exist.");this.va=g.va;this.qm=d.qm;this.zf=null !== (l=g.zf) && void 0 !== l?l:c.O.eb;}m.prototype.append=function(d){var g,h,l,n;if(this.hZ)return d;g=d.Od;h=d.offset;d=d.We;if(g.ya){l=g.Xc.Ka(this.qm?this.zf:c.O.eb).add(h);if(l.lessThan(c.O.eb)){n=Math.ceil(l.vI(-1).Ml(this.va));k.ia && this.console.trace("NegativePtsGuard: dropping " + n + " frames on first fragment to avoid nagative pts, profile offset " + (this.zf.$d() + ", request content start ") + (g.Xc.$d() + ", current timestamp offset ") + (h.$d() + " => firstPlatformTimestamp ") + (l.$d() + "."));g.wma(n);}}this.hZ=!0;return {Od:g,offset:h,We:d};};return m;})();b.PHa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.YMa=void 0;c=a(21);f=a(20);r=(function(){function k(m,d,g){this.zf=m;this.va=d;this.console=g;}k.prototype.append=function(m,d){var g,h,l,n;g=m.Od;h=m.offset;m=m.We;l=d.endOfStream;d=d.l9;if(l && d){l=g.Xc.Ka(this.zf).add(h);n=g.Td.Ka(this.zf).add(h);d=d.Ka(c.O.ox);f.ia && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + l.$d() + "-" + n.$d() + " vs media splice point at " + d.$d());l.add(this.va).ms(d)?(f.ia && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),g.vma()):n.ms(d) && (d=Math.ceil(n.Ka(d).Ml(this.va)),g.ya?(f.ia && this.console.trace("TruncateEndOfStreamAudio: drop " + d + " frames"),g.xma(d)):(f.ia && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),g.vma()));}else l && f.ia && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");return {Od:g,offset:h,We:m};};return k;})();b.YMa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zFa=void 0;r=(function(){function a(c){this.hZ=!1;this.n0b=c.yMb;}a.prototype.append=function(c){c.Od.ya && (c.Od.y_b(this.hZ?0:this.n0b),this.hZ=!0);return c;};return a;})();b.zFa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.vAa=void 0;c=a(386);f=a(9);r=(function(){function k(m,d,g,h){this.config=d;this.Rc=g;this.console=h;this.va=m.va;}k.prototype.append=function(m,d){var g,h,l,n,q,p,u,t;h=c.Goa(this.config,this.Rc);l=m.Od;n=l.ye;q=l.Pg;p=l.Zw;u=m.We;p=l.Lq || p;if(!m.Od.ya || !p || u)return m;u=l.Td.Ka(l.Xc);l=Math.floor(u.Ml(this.va));p=null !== (g=d.QX) && void 0 !== g?g:n.Ka(this.va.vI(2));n=p.Ka(q);g=l;t=!1;d.QX && (d=this.fTa(u,n,n),g=d.Awa,t=d.y5a);h=p.Ka(f.O.Na(h));q=f.O.max(h.Ka(q),f.O.eb);t || (q=this.fTa(u,q,n),g=q.Awa,q.y5a && (--g,this.va.vI(g)));g < (this.config.vRb || 1)?m.Od.vma():0 < l - g && m.Od.xma(l - g);return m;};k.prototype.fTa=function(m,d,g){var h;m=f.O.min(m,d);m=Math.floor(m.Ml(this.va));d=this.va.vI(m);g=g.Ka(d);h=0 < m && g.lessThan(f.O.ox);return {Awa:m,Aec:d,Vbc:g,y5a:h};};return k;})();b.vAa=r;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w,v;function c(x,y,z,A){var B,E;g.assert(x.xk,"Current time: " + n.default.time.fa() + " cr: " + x.currentTime);g.assert(x.currentTime.isFinite());B=z.Ka(x.currentTime);B=Math.max(Math.ceil(B.NI / x.speed),0);E=null !== A && void 0 !== A?A:{id:void 0,JVa:B,S5a:0,STb:B};E.id=setTimeout(function(){z.Ka(x.currentTime).mO(m.O.eb)?y():(E.S5a++,c(x,y,z,E));},B);E.JVa=B;return E;}Object.defineProperties(b,{__esModule:{value:!0}});b.Vba=b.CS=void 0;f=a(2);k=a(17);m=a(21);d=a(243);g=a(4);h=a(20);l=a(819);n=f.__importDefault(a(6));q=a(178);p=a(820);u=a(821);t=a(149);w=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{LJ:{get:function(){return this.nia;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{u5a:{get:function(){return this.Gpb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{cBb:{get:function(){return this.Onb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Dwa:{get:function(){return this.rrb;},enumerable:!1,configurable:!0}});x.prototype.set=function(y,z,A){this.Onb=z === v.LO?0:n.default.time.fa();this.Gpb=y;this.rrb=z;h.ia && g.assert(!this.nia,"Invalid replacement of timeout value");this.nia=A;};x.prototype.complete=function(){this.nia=void 0;this.set(m.O.ND,v.LO);};return x;})();(function(x){x[x.LO=0]="none";x[x.L4a=1]="microTask";x[x.setTimeout=2]="setTimeout";})(v || (v={}));r=(function(x){function y(z,A,B){var E;void 0 === B && (B="unknown");E=x.call(this) || this;E.za=z;E.console=A;E.name=B;E.Epb=0;E.lha=!1;E.Xk=new w();E.V5=new k.gi();E.im=new d.o1([],l.fUa(function(D,F){return D.BP.Kl(F.BP);},function(D,F){return F.mr.priority - D.mr.priority;},function(D,F){return D.mr.id > F.mr.id?1:D.mr.id < F.mr.id?-1:0;}));E.$Ra(z);return E;}f.__extends(y,x);Object.defineProperties(y.prototype,{X_b:{get:function(){return this.za.xk;},enumerable:!1,configurable:!0}});y.prototype.cVa=function(z,A){z=new (z.bind.apply(z,f.__spread([void 0],A)))();z.id=this.Epb++;z.cub(this);this.Sia(z);return z;};y.prototype.aH=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.cVa(p.EFa,z);};y.prototype.OGb=function(){var z;z={hasSchedule:! !this.Xk.LJ,schedule:this.Xk.LJ && ({sleepTime:this.Xk.LJ.JVa,originalSleepTime:this.Xk.LJ.STb,clockSkewAdjustments:this.Xk.LJ.S5a}),nextWakeup:this.Xk.u5a.U,timeScheduled:this.Xk.cBb,scheduleType:v[this.Xk.Dwa],numTasks:this.im.length,clock:{ir:this.za.xk,ct:this.za.currentTime.U,sp:this.za.speed}};h.ia && this.trace("audit",z);return z;};y.prototype.WU=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.cVa(u.QLa,z);};y.prototype.NUa=function(z,A,B){return this.aH(function(){return f.__generator(this,function(E){switch(E.label){case 0:return [4,t.Tk.YJ(A)];case 1:return (E.Ac(),z(),[3,0]);case 2:return [2];}});},B);};y.prototype.$Ra=function(z){var A;A=this;this.dD();this.V5.clear();this.za=z;this.V5.on(z,"stopStart",function(){return A.nP();});this.V5.on(z,"clockAdjusted",function(){return A.ZX();});this.V5.on(z,"speedChanged",function(){return A.ETb();});this.ZX();this.emit("clockChanged");};y.prototype.ETb=function(){this.dD();this.nP();};y.prototype.Ib=function(){this.reset();};y.prototype.reset=function(){this.dD();this.im.clear();};y.prototype.ZX=function(){var z,A;z=this;A=this.im.map(function(B){return B.mr;});this.dD();this.im.clear();A.forEach(function(B){return z.Sia(B,!1);});this.nP();};y.prototype.Sia=function(z,A){var B,E;void 0 === A && (A=!0);B=z.Q9();E=this.Wbb(B);z={mr:z,BP:E,faa:B};g.assert(!this.im.contains(z));this.im.push(z);A && this.nP();};y.prototype.nP=function(){var z,A,B,E,D;z=this;h.ia && this.trace("recheck schedule task count:" + this.im.length);if(this.X_b){if(this.lha)h.ia && this.trace("already executing, bailing");else {E=this.Xk.u5a;D=null !== (B=null === (A=this.im.px()) || void 0 === A?void 0:A.BP) && void 0 !== B?B:m.O.ND;D.isFinite() && D.V9(E)?(this.dD(!1),this.za.currentTime.ms(D)?(this.Xk.set(D,v.L4a),Promise.resolve().then(function(){z.Xk.Dwa === v.L4a && (z.Xk.complete(),z.S9a());})):(h.ia && this.trace("scheduling next wake up for:" + D.U),A=c(this.za,function(){z.Xk.complete();z.S9a();},D),this.Xk.set(D,v.setTimeout,A))):D.isFinite() || this.Xk.Dwa !== v.setTimeout || this.dD(!1);}}else (h.ia && this.trace("should check schedule is false, stopping"),this.dD());};y.prototype.S9a=function(){var z,A,B,E;B=0;E=null === (z=this.im.px()) || void 0 === z?void 0:z.faa;try{for(this.lha=!0;1E4 > B++ && this.f3b();){;}}finally{this.lha=!1;this.dD();1E4 < B && !this.YKb(E)?null === (A=this.console) || void 0 === A?void 0:A.error("Task scheduler executed more than 10000 iterations in same tick"):this.nP();}};y.prototype.YKb=function(z){var A,B;B=null === (A=this.im.px()) || void 0 === A?void 0:A.faa;return z && B && z.timestamp.equal(B.timestamp) && z.type === B.type?!1:!0;};y.prototype.f3b=function(){var z,A,B;B=null !== (A=null === (z=this.im.px()) || void 0 === z?void 0:z.BP) && void 0 !== A?A:m.O.ND;h.ia && this.trace("tryExecuteNextTask @" + this.za.currentTime.U + ", next wakeup at " + B);if(this.za.currentTime.ms(B) && (z=this.im.pop())){A=z.mr;h.ia && this.trace("Running a task @" + this.za.currentTime.U + ", scheduled for time:" + B.U + ("Name:" + A.name));try{A.Bx();z.faa=A.Q9();z.BP=this.Wbb(z.faa);}catch(E){throw (this.console.error("Unhandled error from a task " + A.name + " occurred. Removing the task from future executions:" + E,{stack:E.stack}),A.Ib(),E);}finally{z.BP !== m.O.ND && A.state === q.rn.qaa && (g.assert(!this.im.contains(z)),this.im.push(z));}return !0;}};y.prototype.OYb=function(z){g.assert(z.Me === this);this.Yva(z,!1);this.Sia(z);};y.prototype.Yva=function(z,A){var B;void 0 === A && (A=!0);B=this.im.find(function(E){return E.mr === z;});B && this.$Xb(B,A);};y.prototype.$Xb=function(z,A){this.im.remove(z);A && this.nP();};y.prototype.dD=function(z){void 0 === z && (z=!0);this.Xk.LJ && (z && this.emit("stopping"),clearTimeout(this.Xk.LJ.id),this.Xk.complete());};y.prototype.Wbb=function(z){return z.type === t.Efa.absolute?z.timestamp:z.timestamp.add(this.za.currentTime);};y.prototype.trace=function(){for(var z,A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}null === (z=this.console) || void 0 === z?void 0:z.trace.apply(z,f.__spread(["TaskScheduler(" + this.name + "):"],A));};return y;})(k.EventEmitter);b.CS=r;b.Vba=function(x,y,z){var A;A=void 0;return (z || x.za.xk) && x.za.currentTime.ms(y)?{promise:Promise.resolve()}:{promise:new Promise(function(B){A=x.WU(t.Tk.DQ(y),B);}),mr:A};};},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.fUa=void 0;c=a(2);f=a(20);k=a(4);b.fUa=function(){for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}f.ia && k.assert(m.length);return function(g,h){var l,p,u;try{for(var n=c.__values(m),q=n.next();!q.done;q=n.next()){p=q.value;u=p(g,h);if(0 !== u)return u;}}catch(w){var t;t={error:w};}finally{try{q && !q.done && (l=n.return) && l.call(n);}finally{if(t)throw t.error;}}return 0;};};},function(r,b,a){var c,f,k,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.EFa=void 0;c=a(2);f=a(21);k=a(4);m=a(178);d=a(149);r=(function(g){function h(l,n,q){n=g.call(this,n,q) || this;n.kZb=l;n.reset();return n;}c.__extends(h,g);h.prototype.reset=function(){var l,n;if(this.bd === m.rn.qaa || this.bd === m.rn.pending)null === (n=null === (l=this.E2) || void 0 === l?void 0:l.return) || void 0 === n?void 0:n.call(l);this.bd=m.rn.pending;this.E2=this.kZb();this.Eha=d.Tk.YJ(f.O.eb);};h.prototype.Tm=function(){this.reset();k.assert(this.qw);this.qw.OYb(this);};h.prototype.Q9=function(){return this.Eha;};h.prototype.tg=function(){var l,n,q;q=this.E2.next();q.done?(this.Eha=d.Tk.xza,null === (n=(l=this.E2).return) || void 0 === n?void 0:n.call(l)):this.Eha=q.value;};h.prototype.Ib=function(){var l,n;null === (n=(l=this.E2).return) || void 0 === n?void 0:n.call(l);g.prototype.Ib.call(this);};return h;})(m.Qfa);b.EFa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.QLa=void 0;c=a(2);f=a(178);k=a(149);r=(function(m){function d(g,h,l){l=m.call(this,l) || this;l.Gwa=g;l.FU=h;return l;}c.__extends(d,m);d.prototype.Q9=function(){return this.bd === f.rn.pending?this.Gwa:k.Tk.xza;};d.prototype.tg=function(){this.FU();};return d;})(f.Qfa);b.QLa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.cLa=void 0;r=a(2);c=r.__importDefault(a(28));f=r.__importDefault(a(387));a=(function(){function k(m){this.A3=[];this.A3[c.default.Wa.Pb]=new f.default(m,c.default.Wa.Pb);this.A3[c.default.Wa.Xb]=new f.default(m,c.default.Wa.Xb);}k.prototype.Ysb=function(m,d,g){this.A3[m].add(d,g);};k.prototype.hpa=function(){var m;m=[];this.A3.forEach(function(d){var g;if(d){g=d.get();g && 0 < g.length && g.forEach(function(h){m.push(h);});d.reset(!0);}});return m;};k.prototype.iFb=function(m){var d;d=this.hpa();m.strmsel=d;return 0 < d.length;};return k;})();b.cLa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.EZa=void 0;b.EZa=function(a){var c,f,k;c=Math.floor(1E6 * Math.random());f=a.Upa;k=a.A7;a=0 === c % a.Vpa && 0 < k.length;return {gs:a,AV:a && 0 === c % f};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wUa=void 0;b.wUa=function(a,c){var f;if(!Array.isArray(a.tUa))return a;f=a.Yt?a.Yt():Object.create(a);a.tUa.forEach(function(k){if(void 0 !== k.tRb && c.duration >= k.tRb && k.config)for(var m in k.config){f[m]=k.config[m];}});return f;};},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.KCa=void 0;c=a(2).__importStar(a(10));f=a(127);k=a(4);r=(function(){function m(d,g,h){var Y50;Y50=2;for(;Y50 !== 3;){switch(Y50){case 2:this.Jn=d;this.I=g;Y50=5;break;case 5:var F8p="1S";F8p+="IYbZrNJ";F8p+="Cp9";this.ki=h;F8p;Y50=3;break;case 6:this.ki=h;"";Y50=9;break;Y50=3;break;}}}var X50;X50=2;for(;X50 !== 7;){switch(X50){case 8:return m;break;case 2:m.prototype.Jnb=function(d,g){var Z50,h,l;Z50=2;for(;Z50 !== 8;){switch(Z50){case 2:var C8p="cre";C8p+="ate";C8p+="DlTra";C8p+="cks";C8p+="Start";(h=this,l=this.Jn.J);0 === this.oG && this.Jn.Gb.km(C8p);this.oG+=d.length;Z50=4;break;case 4:d=d.map(function(n){var a60;a60=2;for(;a60 !== 1;){switch(a60){case 2:return h.bOa(n,g.K,g.Ww(),h.Jn.hm,l);break;}}});f.Gp.instance.tg();return d;break;}}};m.prototype.Vnb=function(){var b60,d,g;b60=2;for(;b60 !== 3;){switch(b60){case 2:(d=this,g=[]);this.Jn.Cb.Of.forEach(function(h){var c60;c60=2;for(;c60 !== 5;){switch(c60){case 2:c.ka(h.Lf) || g.push(h.Lf);h.Lf=void 0;c60=5;break;}}});b60=5;break;case 5:this.Jn.jT && (g.push(this.Jn.jT),this.Jn.jT=void 0);g.forEach(function(h){var d60;d60=2;for(;d60 !== 5;){switch(d60){case 2:h.So || --d.oG;f.Gp.instance.TM(h);d60=5;break;}}});b60=3;break;}}};m.prototype.Rob=function(){var e60;e60=2;for(;e60 !== 1;){switch(e60){case 2:this.oG=0;e60=1;break;}}};m.prototype.WPa=function(d,g){var f60,h,l;f60=2;for(;f60 !== 5;){switch(f60){case 2:(h=this.Jn.Cb.Of[d],l=h.Lf);l && (l=g.cM(d,l),this.Unb(d),h.Lf=this.bOa(d,g.K,g.Ww(),this.Jn.hm,this.Jn.J),g.swa(l));f60=5;break;}}};m.prototype.bOa=function(d,g,h,l,n){var g60,q,p;g60=2;for(;g60 !== 7;){switch(g60){case 2:var z8p="transportr";z8p+="ep";z8p+="ort";var N8p="e";N8p+="r";N8p+="r";N8p+="o";N8p+="r";var c8p="net";c8p+="workfa";c8p+="i";c8p+="li";c8p+="ng";var g8p="cr";g8p+="e";g8p+="at";g8p+="ed";(q=this,p=f.Gp.instance.au(d,g,!0,h,l,n));p.dh.on(p,g8p,function(){var h60;h60=2;for(;h60 !== 5;){switch(h60){case 2:var I8p="cre";I8p+="ate";I8p+="DlTracks";I8p+="En";I8p+="d";--q.oG;0 === q.oG && q.Jn.Gb.km(I8p);h60=5;break;}}});p.dh.on(p,c8p,function(){var i60,u;i60=2;for(;i60 !== 8;){switch(i60){case 2:var L8p="repor";L8p+="t";L8p+="NetworkFai";L8p+="li";L8p+="ng: ";n.ti && q.ki.Mm(L8p + p);i60=1;break;case 1:i60=p.b6?5:8;break;case 5:k.assert(p.JV);u=q.Jn.Ge.R;u.uq.Ls(p.JV,void 0,p.vh,p.Cj);i60=9;break;case 9:u.cn();i60=8;break;}}});p.dh.on(p,N8p,function(){var j60;j60=2;for(;j60 !== 5;){switch(j60){case 2:var f8p="NFErr_MC";f8p+="_Streami";f8p+="ngFailure";var A8p="Download";A8p+="Track fatal";A8p+=" ";A8p+="error";var D8p="DownloadTrack";D8p+=" fatal e";D8p+="rror";n.ti && q.ki.Mm(D8p);q.Jn.Wp(A8p,void 0,f8p,p.vh,0,p.Cj);j60=5;break;}}});p.on(z8p,function(u){var k60;k60=2;for(;k60 !== 1;){switch(k60){case 2:var o8p="transportre";o8p+="po";o8p+="rt";q.Jn.emit(o8p,u);k60=1;break;case 4:q.Jn.emit("",u);k60=2;break;k60=1;break;}}});p.Fb();g60=8;break;case 8:return p;break;}}};m.prototype.Unb=function(d){var l60,g;l60=2;for(;l60 !== 9;){switch(l60){case 2:d=this.Jn.Cb.Of[d];g=d.Lf;g.So || --this.oG;f.Gp.instance.TM(g);d.Lf=void 0;l60=9;break;}}};X50=8;break;}}})();b.KCa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.eAa=void 0;c=a(16);f=a(9);r=(function(){function k(m){this.QG=m;this.state=new f.Fr(c.sa.Gh);this.xj={};}k.prototype.getState=function(){return this.state.value;};k.prototype.Xe=function(m){this.state.set(m);};k.prototype.addListener=function(m){this.state.addListener(m);};k.prototype.paused=function(){this.state.value === c.sa.Lc && this.state.set(c.sa.qh);};k.prototype.j2a=function(){return this.state.value === c.sa.Gh;};k.prototype.Jq=function(){return "function" === typeof this.QG.Jq?this.QG.Jq():this.state.value === c.sa.Lc;};k.prototype.ug=function(){return this.state.value === c.sa.xd || this.state.value === c.sa.Tf;};k.prototype.k2a=function(){return this.state.value === c.sa.nj;};k.prototype.l2a=function(){return this.state.value === c.sa.Hr;};k.prototype.Te=function(){return this.QG.Te();};k.prototype.$o=function(){return "function" === typeof this.QG.$o?this.QG.$o():1;};k.prototype.lW=function(){return this.QG.lW();};k.prototype.BZ=function(m,d){this.xj[m]=d;};k.prototype.hp=function(m){return ! !this.xj[m.K] || m.Vi;};return k;})();b.eAa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ZJa=void 0;r=(function(){function a(c,f,k){var m;this.Rtb=c;this.Fha=f;this.Pnb=k;this.Rga=(m={},m[0]=!1,m[1]=!1,m);this.reset();}a.prototype.qz=function(){var c,f;c=this;f=this.Rtb.filter(function(k){return !k.L1a(c.Pnb());});0 === f.length && this.pha?this.Npb():f.forEach(function(k){c.Rga[k.mediaType] || (k.once("requestAppended",function(){c.Rga[k.mediaType]=!1;c.qz();}),c.Rga[k.mediaType]=!0);});};a.prototype.reset=function(){var c;c=this;this.pha=!1;new Promise(function(f){c.Npb=f;}).then(function(){return c.Fha();});};a.prototype.cQb=function(){this.pha || (this.pha=!0,this.qz());};return a;})();b.ZJa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Rza=void 0;c=a(20);r=(function(){function f(k){this.console=k;this.iG=[];this.BC=[];c.ia && this.console.trace("Received pending adoption " + this.Wl.length);}Object.defineProperties(f.prototype,{length:{get:function(){return this.iG.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Wl:{get:function(){return this.BC;},enumerable:!1,configurable:!0}});f.prototype.$Pb=function(k){k=this.BC.indexOf(k);-1 !== k && (c.ia && this.console.trace("Marking request attached"),this.iG[k].G1a=!0,this.tcb(k));};f.prototype.aQb=function(k){k=this.BC.indexOf(k);-1 !== k && (c.ia && this.console.trace("Marking request completed"),this.iG[k].sA=!0,this.tcb(k));};f.prototype.aYb=function(k){var m,d;m=this;d=[];this.BC.forEach(function(g,h){k(g) && d.unshift(h);});d.forEach(function(g){m.BC.splice(g,1);m.iG.splice(g,1);});};f.prototype.push=function(k){this.BC.push(k);this.iG.push({G1a:!1,sA:!1});c.ia && this.console.trace("Pushing pending request, " + this.length + " total");};f.prototype.FD=function(){return 0 < this.length;};f.prototype.tcb=function(k){var m;m=this.iG[k];m.G1a && m.sA && (m=this.BC[k],this.BC.splice(k,1),this.iG.splice(k,1),c.ia && this.console.trace("Removing request, " + this.length + " left"),0 === this.length && c.ia && this.console.trace("Removing last request, contentEndPts: " + m.Mc));};return f;})();b.Rza=r;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u;function c(t,w){return (1 === t.mediaType?0:1) - (1 === w.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.TFa=b.Tea=b.slb=void 0;f=a(2);k=a(82);m=a(150);d=a(390);g=a(16);h=a(9);l=a(4);n=a(21);q=f.__importDefault(a(6));r=a(102);p=a(43);u=(function(t){function w(){return null !== t && t.apply(this,arguments) || this;}f.__extends(w,t);return w;})(a(245).IK);b.slb=u;b.Tea={Gdb:c};a=(function(t){function w(v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q){var L;A=t.call(this) || this;A.Zec=v;A.J=x;A.R=z;A.Yp=B;A.T6=E;A.At=G;A.fT=C;A.Uk=K;A.By=M;A.events=I;A.ow=Q;A.fe=new u([]);A.gm=!1;A.oT=0;A.PS=A.YX.bind(A);A.I=h.Nq(q.default,y,B.id && B.id.length?"{" + B.id + "}":"");A.Vk=A.I.error.bind(A.I);A.Ub=A.I.warn.bind(A.I);A.An=A.I.trace.bind(A.I);A.rs=null !== F && void 0 !== F?F:n.O.Na(A.H.$);A.Nha=null === H || void 0 === H?void 0:H.ye;null === (L=A.By) || void 0 === L?void 0:L.addListener(A.PS);z && D && A.qMb(z,D);return A;}f.__extends(w,t);Object.defineProperties(w.prototype,{Lh:{get:function(){return this.gm;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{H:{get:function(){return this.Yp;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{$w:{get:function(){return this.fe.every(function(v){return v.$w;});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Hl:{get:function(){return this.fe.every(function(v){return v.Hl;});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Nt:{get:function(){return this.Dq().reduce(function(v,x){return v + x.Nt;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{zh:{get:function(){return this.Dq().every(function(v){return v.zh();});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{gg:{get:function(){return this.Dq().map(function(v){return v.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{W:{get:function(){return this.Ht.W;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Za:{get:function(){return this.Ht.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{tb:{get:function(){return this.Ht.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Hj:{get:function(){return this.Fe.eg(this.W).pc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ss:{get:function(){return this.rs.add(this.Fe);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Gs:{get:function(){return this.H.Nf.add(this.Fe);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{qE:{get:function(){return this.H.$i.add(this.Fe);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{pN:{get:function(){var v,x;x=null === (v=this.H.H.zq) || void 0 === v?void 0:v[0];return x && this.Xc?n.O.Na(Math.max(0,x[0] - this.Xc.U - this.H.Nf.U)):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{F8:{get:function(){return this.fe.reduce(function(v,x){return v && x.ye?n.O.max(v,x.ye):x.ye?x.ye:v;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{tqa:{get:function(){return this.ss.U;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ee:{get:function(){return this.Fe.U;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{pr:{get:function(){return this.Ht.pr;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Fe:{get:function(){return this.At;},enumerable:!1,configurable:!0}});w.prototype.Mx=function(v){this.Fe.equal(v) || (this.At=v);};w.prototype.bA=function(v){return (v=this.kb(v))?Promise.resolve(v.bA()):Promise.resolve(m.AsyncIterator.qZa());};w.prototype.mH=function(){this.Dq().forEach(function(v){return v.mH();});};w.prototype.reset=function(){this.fe.forEach(function(v){v.reset();});};w.prototype.rf=function(){var v,x;this.gm || (this.gm=!0,null === (v=this.DC) || void 0 === v?void 0:v.fd(),this.DC=void 0,this.fe.forEach(function(y){y.rf();}),null === (x=this.By) || void 0 === x?void 0:x.removeListener(this.PS),this.events.removeAllListeners());};w.prototype.RW=function(){return !0;};w.prototype.kb=function(v){return this.fe.get(v);};w.prototype.Dq=function(v){void 0 === v && (v=c);return this.fe.items.slice().sort(v);};w.prototype.W6=function(){return this.fe.items;};w.prototype.FN=function(v){return this.kb(v);};w.prototype.Oh=function(v,x){v=this.kb(v);if(!v)return 0;if(x)return v.Sm;x=v.mq;if(void 0 === x)return 0;v=this.fT();return x - v;};w.prototype.tD=function(){var v,x,y,z,A,B,E;E=null === (v=this.kb(0)) || void 0 === v?void 0:v.Hn;v=null === (x=this.kb(1)) || void 0 === x?void 0:x.Hn;return {po:null !== (y=null === v || void 0 === v?void 0:v.U) && void 0 !== y?y:0,Sr:null !== (z=null === E || void 0 === E?void 0:E.U) && void 0 !== z?z:0,jt:null !== (A=null === v || void 0 === v?void 0:v.ga) && void 0 !== A?A:0,RC:null !== (B=null === E || void 0 === E?void 0:E.ga) && void 0 !== B?B:0};};w.prototype.uW=function(v){var x;return (v=this.kb(v))?null !== (x=v.mq) && void 0 !== x?x:0:0;};w.prototype.cn=function(v){v=this.kb(v);l.assert(v);return v.cn();};w.prototype.YX=function(v){g.gp(v.newValue) && this.Pr();};w.prototype.XG=function(v){return this.fe.every(function(x){return x.XG(v);});};w.prototype.I6=function(v){var x,y;return null !== (y=null === (x=this.fe.get(v)) || void 0 === x?void 0:x.hVa) && void 0 !== y?y:n.O.eb;};w.prototype.Ek=function(v){this.gm || (v.Q3 || l.assert(!v.dd),this.Pr(),this.Hl && this.Lha());this.pu(v);};w.prototype.EI=function(v){this.J.K5 && this.Pr(!0);this.uH(v);};w.prototype.DI=function(v){this.J.K5 && this.Pr(!0);this.rD(v);};w.prototype.sxa=function(v){var x;return g.gp((null === (x=this.By) || void 0 === x?void 0:x.value) || g.Kc.oj) && (!v || this.oT + this.J.u9 < q.default.time.fa());};w.prototype.Pr=function(v){void 0 === v && (v=!1);this.sxa(v) && (this.oT=q.default.time.fa(),v={type:"checkBufferingProgress"},this.events.emit(v.type,v));};w.prototype.Lha=function(){var v;v={type:"branchStreamingComplete"};this.events.emit(v.type,v);};w.prototype.qMb=function(v,x){var y,z;y=this;this.jxa(v);l.assert(v.S === this.H.S || isNaN(v.S) && isNaN(this.H.S));this.Zga=[];v=null !== x && void 0 !== x?x:null === (z=this.T6) || void 0 === z?void 0:z.call(this,v);l.assert(v,"tracks need to exist upon initialization");v.forEach(function(A){var B;A=A.mediaType;B=new d.wea(A,y.J,y.I);y.Zga[A]=B;});};w.prototype.toJSON=function(){var v,x;return {segment:this.H.id,branchOffset:this.Ee,viewableId:this.Yp.S,contentStartPts:null === (v=this.Xc) || void 0 === v?void 0:v.U,contentEndPts:null === (x=this.Td) || void 0 === x?void 0:x.U};};return w;})(k.Av);b.TFa=a;p.Bf(r.Sx,a);p.Bf(r.RB,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xWa=b.gNb=b.P1a=b.v_a=void 0;c=a(25);b.v_a=function(f,k){if((f=f.ib.H.zx) && 0 !== f.length)return c.ie(f,function(m){return m.Xc.U <= k && k < m.Td.U;});};b.P1a=function(f,k){return k.index === f.ke.index?!0:(f=f.ib.H.zx) && 0 !== f.length?f.some(function(m){m=m.Xc;return k.Xc.mO(m) && m.lessThan(k.Td);}):!1;};b.gNb=function(f,k){return k.index === f.Kf.index?!0:(f=f.ib.H.zx) && 0 !== f.length?f.some(function(m){m=m.Td;return k.Xc.lessThan(m) && m.mO(k.Td);}):!1;};b.xWa=function(f,k,m,d){var g,h,l,n,q,p,u,t;f=null === (g=k.ya) || void 0 === g?void 0:g.start;g=null === (h=k.ya) || void 0 === h?void 0:h.end;t=h=!1;if((null === d || void 0 === d?0:d.rNb) || (null === d || void 0 === d || !d.eNb) && k.Xc.lessThan(m.Xc)){if(u=k.ona(m.Xc.U))(u=(null !== (n=null === (l=k.ya) || void 0 === l?void 0:l.start) && void 0 !== n?n:0) + u.sl,f=Math.max(null !== f && void 0 !== f?f:0,u));u=m.Xc.U;h=!0;}if((null === d || void 0 === d || !d.kNb) && k.Td.greaterThan(m.Td)){if(u=k.ona(m.Td.U))(u=(null !== (p=null === (q=k.ya) || void 0 === q?void 0:q.start) && void 0 !== p?p:0) + u.sl,g=Math.min(null !== g && void 0 !== g?g:Infinity,u),k.HO=k.index);u=m.Td.U;t=!0;}if(void 0 !== f || void 0 !== g)(k.Lk({start:f,end:g}),void 0 !== u && (!k.uv || u > k.uv) && k.QP(u));k.u_b(m.region,h,t);};},function(r,b,a){var c,f,k,m,d,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.yJa=void 0;r=a(2);c=r.__importDefault(a(28));f=c.default.Wa;k=c.default.uy;m=a(9);d=a(21);g=r.__importDefault(a(145));h=r.__importDefault(a(6));a=(function(){function l(n,q,p,u,t){this.rx=n;this.fu=q;this.J=p;this.I=u;this.Wg=t;}l.prototype.rSb=function(n){n={type:"requestCreated",request:n};m.Ya(this.fu,n.type,n);};l.prototype.qSb=function(n){var q;q=n.Ua.ib.H;n={type:"updateStreamingPts",mediaType:n.mediaType,position:{ha:q.id,offset:d.O.Na(this.rx.ala - q.$)},completePlayerStreamingTimestamp:d.O.Na(this.rx.mq),trackIndex:n.stream.track.QC};m.Ya(this.fu,n.type,n);};l.prototype.O5a=function(n,q,p){var u,t;u=this.Wg;t=this.rx.Mj.Qf;t.T$a(n);1 === u && this.J.saa && (void 0 === t.wra?t.V$a(h.default.time.fa()):h.default.time.fa() - t.wra > this.J.saa && (n.bitrate !== t.U2a && (h.default.storage.set("vb",n.bitrate),t.A_b(n.bitrate)),t.V$a(h.default.time.fa())));t.cX && t.cX === n || (this.rx.Mj.Z0b(q,t.cX,n),t.p_b(n),q=0,n.zb && n.zb.confidence && n.zb.Sa && (q=n.zb.Sa.Ha),t={ha:this.rx.ib.H.id,offset:d.O.Na(p - this.rx.ib.H.$)},n={type:"streamSelected",nativetime:h.default.time.fa(),mediaType:u,streamId:n.id,manifestIndex:n.R.Qb,trackIndex:n.track.QC,streamIndex:n.Pf,movieTime:p,bandwidth:q,longtermBw:q,rebuffer:0,position:t,stream:n},m.Ya(this.fu,n.type,n));};l.prototype.mSb=function(n,q,p){var u,t,w,v,x;u=q.R;t=u.Jm;w=this.rx.Mj.Qf;v=u.MNb(q);x=v.gra;v=v.NNb;p && q.Pc && !w.dX?(v=k.Tv,q.Ss=k.name[v],this.N5a(n,q.Pc,q.Ss,q.location,q.bitrate),w.dX=q.Pc):!p && q.Pc && q.Pc !== w.dX && (v=v?void 0 === w.dX?k.Tv:t.IP === k.Iea?k.Tlb:k.Cca:k.Slb,q.Ss=k.name[v],this.N5a(n,q.Pc,q.Ss,q.location,q.bitrate),w.dX=q.Pc);w.kO || (v={type:"logdata",target:"startplay",fields:{}},this.Wg === f.Xb?v.fields.alocid=q.location:this.Wg === f.Pb && (v.fields.locid=q.location),m.Ya(this.fu,v.type,v));p && q.location && !w.kO?(v=k.Tv,q.Ss=k.name[v],this.L5a(u.Qb,n,q.location,q.Mra,q.Pc,q.oJ,q.Ss,q.tx),w.kO=q.location):!p && q.location && q.location !== w.kO && (v=x?void 0 === w.kO?k.Tv:t.IP === k.Iea?k.njb:k.Cca:k.mjb,q.Ss=k.name[v],this.L5a(u.Qb,n,q.location,q.Mra,q.Pc,q.oJ,q.Ss,q.tx),q.tx=void 0,w.kO=q.location);this.J.dv || (q.P2a=q.location,q.S2a=q.Pc);};l.prototype.Z9=function(n){n={type:"requestsPruned",requests:n};m.Ya(this.fu,n.type,n);};l.prototype.N5a=function(n,q,p,u,t){var w,v;w=this.Wg === f.Pb?"video":"audio";v=g.default.instance().get();n={type:"serverSwitch",segmentId:n,mediatype:w,server:q,reason:p,location:u,bitrate:t,confidence:v.confidence};v.confidence && (n.throughput=v.Sa.Ha);this.rx.Mj.Qf.dX && (n.oldserver=q);m.Ya(this.fu,n.type,n);};l.prototype.L5a=function(n,q,p,u,t,w,v,x){m.Ya(this.fu,"locationSelected",{type:"locationSelected",manifestIndex:n,segmentId:q,mediatype:this.Wg === f.Pb?"video":"audio",location:p,locationlv:u,serverid:t,servername:w,selreason:v,seldetail:x});};l.prototype.Gha=function(n,q){q={type:"lastSegmentPts",segmentId:n.id,pts:Math.floor(q)};n.uE || m.Ya(this.fu,q.type,q);};l.prototype.Mm=function(n){n={type:"managerdebugevent",message:"@" + h.default.time.fa() + ", " + n};m.Ya(this.fu,n.type,n);};l.prototype.eGb=function(n){m.Ya(this.fu,"transportReport",n);};return l;})();b.yJa=a;},function(r,b,a){var c,f,k,m,d,g,h,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.hLa=void 0;c=a(2);f=c.__importStar(a(10));k=a(246);m=a(835);d=a(838);r=a(82);g=a(4);h=a(248);l=a(9);n=a(67);a=(function(q){function p(u,t,w,v,x,y,z,A){var B;B=q.call(this,u) || this;B.J=t;B.I=w;B.xn=v;B.Zd=x;B.Wg=y;B.Loa=A;B.gdb=!0;B.De=new h.j0(B.I);B.Vk=B.I.error.bind(B.I);B.Ub=B.I.warn.bind(B.I);B.An=B.I.trace.bind(B.I);B.bQa();B.Vp=null === z || void 0 === z?void 0:z.aH(function(){return B.sYb();},"pruner");return B;}c.__extends(p,q);Object.defineProperties(p.prototype,{console:{get:function(){return this.I;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{mediaType:{get:function(){return this.Wg;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ib:{get:function(){return this.Zd;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Fx:{get:function(){return 0 < this.jB;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Mxa:{get:function(){return !this.vL;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{jB:{get:function(){return this.Ga.length;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{et:{get:function(){return this.Ga.et;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{PWb:{get:function(){return this.De.count;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{OU:{get:function(){return this.Ga.complete.ye;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{mq:{get:function(){return this.Ga.bUa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ala:{get:function(){return this.Ga.aUa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{OE:{get:function(){return this.Ga.ye;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Sm:{get:function(){return void 0 === this.Ga.zd?0:this.Ga.pe - this.Ga.zd;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Hn:{get:function(){return {ga:this.Ga.eD,U:Math.max(this.Ga.bUa - this.Ga.zd,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{CM:{get:function(){return this.Ga.Fxb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{eD:{get:function(){return this.Ga.eD;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Nt:{get:function(){return this.Ga.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{mE:{get:function(){return this.zob();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{iua:{get:function(){return this.Ga.eMb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{t7:{get:function(){return this.Ga.length > this.Ga.et;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{aq:{get:function(){return this.Ga.aq;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{oOb:{get:function(){return this.XOa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{d7a:{get:function(){return this.Ga.length - this.jm;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Y:{get:function(){return this.Ga;},enumerable:!1,configurable:!0}});p.prototype.rf=function(){var u,t;t=this.Ga;setTimeout(function(){t.forEach(function(w){w.abort();w.fd();});},1);this.bQa();this.De.O5();null === (u=this.Vp) || void 0 === u?void 0:u.Ib();};p.prototype.reset=function(){this.rf();this.De.z9a();};p.prototype.close=function(){this.De.O5();};p.prototype.w$a=function(){this.KNa=!0;};p.prototype.Toa=function(){return {endMarked:void 0 !== this.De.count,queueCount:this.De.count,isComplete:this.De.sA,itemCount:this.De.cUa,continuousEndPts:this.De.Ap().reduce(function(u,t){return t && !t.done && (t=t.value,100 > Math.abs(t.Kna - u) || -1 === u)?t.fGb:u;},-1),sentinelItemCount:this.De.Ap().filter(function(u){return u && u.done;}).length,processedCount:this.De.eCb,rc:this.jB};};p.prototype.OAb=function(u,t,w){var v;v=this.J;g.assert(!u.header);u=v.WDb && 1 === this.mediaType?new d.hAa(w,v,t.track,u,this.Ga,this.I):k.f0.create(w,v,t.track,u,this.Ga,!1,this.I,this.Loa);u.Fb(this);this.Zy(u);return u;};p.prototype.qtb=function(u){var t;u.Fb(this);u.Q3=!0;this.Zy(u);t=Promise.resolve();u.complete?(this.vga(u),this.xn.O5a(u.stream,u.zd,u.gd),t=this.yba(),this.pu(u)):(u.active && this.sN(u),u.Iva && this.rD(u));return t;};p.prototype.Zy=function(u){var t,w;this.Ga.Hq(u);(null === (t=this.Vp) || void 0 === t?void 0:t.state) === n.rn.complete && (null === (w=this.Vp) || void 0 === w?void 0:w.Tm());this.vga(u);u.Lq && (this.vL=!1);};p.prototype.bA=function(){return this.De.QGb();};p.prototype.xka=function(){this.jm === this.Ga.length && this.KNa && this.De.O5();};p.prototype.yba=function(){var u,t,w,v,A;u=this;w=Promise.resolve();v=this.Zd;if(!v.RW(this.Wg) || this.jm === this.Ga.length)return w;for(var x=this.J.sQb,y=0,z=[];this.jm < this.Ga.length;){if(t=this.Ga.get(this.jm)){if(this.Ga.XXa && this.Ga.XXa.Za < t.Za)break;if(!t.Eu())break;z.push(t);++y;f.Ea(this.zd) || (this.zd=t.zd);}++this.jm;if(!f.ka(x) && y >= x)break;}if(z.length){void 0 !== this.De.count && (this.Vk("tryToAtach() but requestQueue has sentinel:",this.De.count),this.De.z9a());if(this.gdb)w=Promise.all(z.map(function(B){return u.De.enqueue(B).then(function(){return u.q7(B);});}));else for(t=0;t < z.length;t++){try{A=z[t];v.iJb(this.mediaType).ACb(A);this.q7(A);}catch(B){return (this.jm-=z.length - t,Promise.reject(B));}}this.xka();}return w;};p.prototype.q7=function(u){this.XOa=u;this.gYa(u);};p.prototype.XT=function(u,t){var w,v,x;w=this;v=[];if(0 !== this.Ga.et){x=this.Ga.X6a;this.Ga.t3b.Gxa(function(y){if(!f.ka(u) && y.R.Qb !== u || y.Lq || x > y.zd)return !0;y.k6 && (w.vL=!1);if(!w.l2(y))return (w.Ub("request abort failed:",y.toString()),!0);v.unshift(y);});this.Uha();v.length && "function" === typeof t && t(v);}};p.prototype.eaa=function(){this.Uha();};p.prototype.sYb=function(){var u,t,w,v,x,y;return c.__generator(this,function(z){switch(z.label){case 0:z.label=1;case 1:if(!this.Ga.length)return [3,3];u=this.Ga.get(0);t=l.O.Na(null !== (y=null === (x=this.J.UP) || void 0 === x?void 0:x.U) && void 0 !== y?y:0);w=t.add(u.ye);return [4,n.Tk.DQ(w)];case 2:z.Ac();if(1 >= this.Ga.complete.length && !u.Lq)return [3,3];g.assert(u === this.Ga.get(0));u.gf || this.l2(u);v=this.Ga.splice(0,1);0 < this.jm && this.jm--;this.xn.Z9(v);return [3,1];case 3:return [2];}});};p.prototype.JY=function(u,t){var w,v,x,y,z,A;w=this;v=this.J;x=!1;y=0;z=this.Ga.some(function(B){if(u < B.pe)return (x && w.vga(B),!0);++y;B.gf || (w.Ub("pruning unappended request:",B && B.toString()),v.ti && w.xn.Mm("prune pts:" + u + " unappended request:" + (B && B.toString())),B.k6 && (w.vL=!1,x=!0),w.l2(B,t) || w.Vk("MediaRequest.abort error:",B.vh));});if(0 < y){A=this.Ga.splice(0,y);this.jm-=Math.min(y,this.jm);this.xn.Z9(A);}return z;};p.prototype.e7=function(u){var t,w,v;void 0 === u && (u={PU:null,eP:null,zd:null,Ej:0,jh:0,Y:[]});t=this.J;w=this.Ga;f.Ea(w.zd) && (null === u.zd || w.zd < u.zd) && (u.zd=w.zd);v=this.mq;void 0 !== v && null === u.PU && (u.PU=v);v=w.pe;void 0 !== v && (null === u.eP || v > u.eP) && (u.eP=v);u.Ej+=w.Ej;u.jh=t.Axa?u.jh + w.F8a:u.jh + w.eD;Array.prototype.unshift.apply(u.Y,w.Ac.Y);return u;};p.prototype.ku=function(u){if(this.Ga.length && (u=this.Ga.JXa(u)))return u;};p.prototype.msb=function(u){var t,w,v;w=u.Td;u=u.gd;g.assert(w,"expected contentEndTimestamp to be defined");g.assert(void 0 !== u,"expected contentStartPts to be defined");u=this.Ga.jna(u);v=this.Ga.get(u);g.assert(v && void 0 !== v.gd && void 0 !== v.Mc && void 0 !== v.index,"expected existing request to be defined with properties");if(null === (t=v.Td) || void 0 === t?0:t.equal(w))return (this.KQa(u),[v.Mc,v.index + 1]);this.KQa(u - 1);return [v.gd,v.index];};p.prototype.cn=function(){var u,t;u=this;t=[];this.Ga.forEach(function(w){var v;v=w.bza();1 === v?t.push(w):2 === v && u.ib.R.hh("swapUrl failure");});return t;};p.prototype.DI=function(u){u.SD && u.Eu() && this.yba();this.rD(u);};p.prototype.Ek=function(u){var t,w;u.SD && !u.gf && this.yba();(null === (t=this.Vp) || void 0 === t?void 0:t.state) === n.rn.complete && (null === (w=this.Vp) || void 0 === w?void 0:w.Tm());this.pu(u);};p.prototype.eja=function(u){var t,w,v;t=1 === this.Wg?"v_":"a_";w=this.Ga;v=w.oN(u);u=0 <= v?w.get(v):void 0;return (w=0 <= v && v + 1 < w.length?w.get(v + 1):void 0) && u?u.pe !== w.zd?t + "rg":u.complete && w.complete?t + "uk":t + "fd":t + "rm";};p.prototype.zob=function(){return this.Ga.aq + this.Ga.et;};p.prototype.bQa=function(){var u,t,w;t=void 0 !== this.Ga && 0 < this.Ga.length;w=this.Ga;this.Ga=new m.cAa(this.I,this);this.jm=0;this.De.clear();this.XOa=void 0;this.zd=null;null === (u=this.Vp) || void 0 === u?void 0:u.Tm();this.KNa=this.vL=!1;t && (u=w.map(function(v){return v;}),this.xn.Z9(u));};p.prototype.vga=function(u){this.vL?u.k6=!1:this.vL=u.k6=!0;};p.prototype.KQa=function(u){var t;for(u+=1;u < this.jB;u++){t=this.Ga.get(u);g.assert(t,"expected request to exist");this.De.remove(t);t.aborted || (this.l2(t),t.fd());}this.Uha();};p.prototype.l2=function(u,t){if(!u.abort())return !1;"function" === typeof t && t(u);return !0;};p.prototype.Uha=function(){var u,t,w,v;u=this;if(0 !== this.Ga.length){w=[];v=0;this.Ga.HWb(function(x,y){y < u.jm && ++v;w.push(x);});this.jm-=v;null === (t=this.Vp) || void 0 === t?void 0:t.Tm();this.xn.Z9(w);}};return p;})(r.Av);b.hLa=a;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q;Object.defineProperties(b,{__esModule:{value:!0}});b.$za=void 0;c=a(2);f=a(118);k=c.__importDefault(a(28));r=c.__importDefault(a(6));m=a(9);d=a(4);g=a(247);h=a(101);l=a(239);n=a(119);q=r.default.Br;a=(function(p){function u(t,w,v,x,y,z,A,B){var E;x=p.call(this,t,v,x,z,A,B) || this;y=h.hn.prototype.toString.call(x) + (y?"(cache)":"");B={offset:v.offset,ga:v.cta + 8,responseType:0};x.push(new l.SQ(t,w,y + "(moof)",B,x,z,A));B={offset:v.offset + B.ga,ga:v.ga - B.ga,responseType:q.Rc && !q.Rc.lZ.yS?0:1};if(x.mediaType === k.default.Wa.Pb && x.ya){if(0 < x.ya.start){E=x.OXa(x.ya.start);E && (B.offset=v.offset + E,B.ga=v.ga - E);}x.ya.end < x.sD && (E=x.OXa(x.ya.end)) && (B.ga-=v.ga - E);}x.push(new l.SQ(t,w,y + "(mdat)",B,x,z,A));return x;}c.__extends(u,p);u.prototype.Eu=function(){return !this.gf && ! !this.Ga.length && this.Ga.every(function(t){return t.Eu();});};u.prototype.FG=function(t){var w,v,x,y,z,A,B,E;if(this.gf)return {status:n.Qj.Yx};if(!this.Eu())return {status:n.Qj.Rf};w=!1;v=this.Ga[0].response;x=v.slice(0,v.byteLength - 8);y=new DataView(v);v=y.getUint32(x.byteLength);d.assert("mdat" === f.Bo(y.getUint32(x.byteLength + 4)));z=this.ya && 0 < this.ya.start;y=this.ya && this.ya.end < this.sD;if(this.ya && (z || y)){if(z)(A=new f.Dr(this.I,this.stream,x),B=A.Vva(this.ya.start,this.W));if(y && !1 !== B){A=new f.Dr(this.I,this.stream,B?m.fD(B.Od):x);E=A.Zva(this.ya.end - this.ya.start,this.W);}if(x=y?E:B)(w=t.appendBuffer(m.fD(x.Od),m.Mq(this)),B && (v-=B.ij),E && (v-=E.ij));A=this.Xha();}else w=t.appendBuffer(x,m.Mq(this));w && (w=t.appendBuffer(f.EA(v - 8),m.Mq(this))) && (w=t.appendBuffer(this.Ga[1].response,m.Mq(this)));this.gf=w;this.KXb();return {status:w?n.Qj.Yx:n.Qj.Rf,zk:A};};u.prototype.toString=function(){return "ID: " + this.wi() + ":" + p.prototype.toString.call(this);};return u;})(g.aF);b.$za=a;},function(r,b,a){var c,f,k,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Meb=void 0;r=a(2);c=a(118);f=r.__importDefault(a(28));k=a(9);a(4);m=r.__importDefault(a(6));d=a(119);a=(function(){var m60;m60=2;function g(){var n60;n60=2;for(;n60 !== 1;){switch(n60){case 2:var G8p="1S";G8p+="I";G8p+="YbZrN";G8p+="JC";G8p+="p9";G8p;n60=1;break;}}}for(;m60 !== 3;){switch(m60){case 2:g.prototype.FG=function(h,l,n){var o60,q;o60=2;for(;o60 !== 10;){switch(o60){case 5:return {status:d.Qj.Rf};break;case 1:o60=this.gf?5:4;break;case 2:l=this.hf;o60=1;break;case 3:o60=this.ya && (this.Lq || this.Zw)?9:12;break;case 7:q=q.zk;o60=6;break;case 6:this.gf=!0;this.WY();return {status:h?d.Qj.Yx:d.Qj.Rf,zk:q};break;case 12:h=this.mediaType === f.default.Wa.Xb && l.AE && n && this.uv && n.pe >= this.pe && this.Mc - this.uv < this.uv - this.gd?!0:h.appendBuffer(this.response,k.Mq(this));o60=6;break;case 11:(q=this.aob(h),h=q.aa,q=q.zk);o60=6;break;case 9:q=this.bob(h);h=q.aa;o60=7;break;case 4:o60=!this.ya || this.Lq || this.Zw?3:11;break;}}};g.prototype.aob=function(h){var p60,l,n,q,p;p60=2;for(;p60 !== 12;){switch(p60){case 3:p60=this.ya && (0 < this.ya.start || l.GE)?9:14;break;case 4:p60=q?3:13;break;case 2:(l={GE:0},n=!1,q=!0);this.ya && (l.GE=this.ya.xxa);0 >= this.duration && (q=!1,n=!0);p60=4;break;case 14:n=h.appendBuffer(this.response,k.Mq(this));p60=13;break;case 9:var Y5p="medi";Y5p+="a";Y5p+="|asej";Y5p+="s";var O5p="M";O5p+="P";O5p+="4";p60=(n=new c.Dr(new m.default.Console(O5p,Y5p),this.stream,this.response),n=n.Vva(this.ya.start,this.FO,l.GE))?8:6;break;case 6:var E5p=" f";E5p+="ro";E5p+="m";E5p+=" ";E5p+="[ ";var S5p="AseFragm";S5p+="entMedi";S5p+="aReque";S5p+="st: Fragment edit failed for ";(this.I.error(S5p + this.toString() + E5p + this.tN + "-" + this.t6 + "]"),n=!0);p60=13;break;case 8:n=h.appendBuffer(k.fD(n.Od),k.Mq(this));p60=7;break;case 7:p=this.Xha(l);p60=13;break;case 13:return {aa:n,zk:p};break;}}};g.prototype.bob=function(h){var q60,l,n,q;q60=2;for(;q60 !== 12;){switch(q60){case 5:q60=l?4:13;break;case 3:q60=(l=new c.Dr(this.I,this.stream,this.response),l=l.Zva(this.ya && this.ya.end,this.W,n.GE))?9:6;break;case 4:q60=this.ya && this.ya.end < this.sD || n.GE?3:14;break;case 2:n={GE:0};(l=!0,0 === this.duration) && (l=!1);q60=5;break;case 9:h=h.appendBuffer(k.fD(l.Od),k.Mq(this));q60=8;break;case 7:return {aa:h,zk:q};break;case 8:q=this.Xha(n);q60=7;break;case 6:var w5p=" fro";w5p+="m";w5p+=" [ ";var J5p="AseFragmentMedi";J5p+="aRequest: Fragme";J5p+="nt edit";J5p+=" failed for ";(this.I.error(J5p + this.toString() + w5p + this.tN + "-" + this.t6 + "]"),h=!0);q60=7;break;case 14:h=h.appendBuffer(this.response,k.Mq(this));q60=7;break;case 13:h=!0;q60=7;break;}}};return g;break;}}})();b.Meb=a;b.default=new a();},function(r,b,a){var c,f,k,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.cAa=void 0;c=a(2);a(4);f=a(836);r=a(43);k=a(837);m=a(102);d=a(82);g=a(237);a=(function(h){function l(n,q){var p,u;p=this;u=[new k.e0(n),new k.e0(n),new k.e0(n)];p=h.call(this,u,function(t){return t.complete?p.empty || t.Za <= p.Gxb?0:1:t.active?1:2;}) || this;u=c.__read(u,3);p.Li=u[0];p.bf=u[1];p.Kt=u[2];p.Qr=0;p.gga=0;p.I=n;p.cf=q;return p;}c.__extends(l,h);Object.defineProperties(l.prototype,{ga:{get:function(){return this.Li.ga + this.bf.ga + this.Kt.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{t3b:{get:function(){return this.Kt;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{active:{get:function(){return this.bf;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{complete:{get:function(){return this.Li;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{F8a:{get:function(){return this.Qr;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{eD:{get:function(){return this.Li.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ej:{get:function(){return this.Li.ga + this.bf.ga - this.Qr;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{u3b:{get:function(){return this.Kt.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{first:{get:function(){return this.qGb();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{jp:{get:function(){return this.Lub();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{zma:{get:function(){return !this.Li.empty || this.Kt.empty || this.bf.empty?this.first:this.bf.Za < this.Kt.Za?this.bf.first:this.Kt.first;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{X2a:{get:function(){return this.Kt.empty || this.bf.empty?this.jp:this.bf.tb < this.Kt.tb?this.Kt.jp:this.bf.jp;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{XXa:{get:function(){return this.Kt.first;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{W:{get:function(){return this.first && this.first.W;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Za:{get:function(){return this.zma && this.zma.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{tb:{get:function(){return this.X2a && this.X2a.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Hj:{get:function(){return this.first && this.first.Hj;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Fxb:{get:function(){return this.Li.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{eMb:{get:function(){return this.Mc - this.aUa || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Gxb:{get:function(){return this.Li.empty?this.Za:this.Li.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{aUa:{get:function(){return this.Li.empty?this.gd:this.Li.Mc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bUa:{get:function(){return this.Li.empty?this.zd:this.Li.pe;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{X6a:{get:function(){return this.bf.pe || this.Li.pe;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{et:{get:function(){return this.Kt.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{aq:{get:function(){return this.bf.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{dUa:{get:function(){return this.Li.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ac:{get:function(){return this.Li.concat(this.bf);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Zr:{get:function(){return this.Gg;},enumerable:!1,configurable:!0}});l.prototype.bL=function(n){var q;n.aborted?++this.gga:this.Qr+=n.bytesReceived || 0;if(this.empty)this.Gg=new g.SB(this,{});else if(n.Za !== this.tb)if(n.Za > this.Gg.tb)this.Gg.AZ(this.Gg.tb);else if(n.Za < this.Za || n.Za === this.Gg.tb){q=n.tb;this.WFb(function(p,u){return p.Za - u.Za;},function(p){q=p.Za === q?p.tb:q;});q === Math.max(this.tb,n.tb)?this.Gg.Mka():this.Gg.AZ(q);}n.jxa(this);};l.prototype.Py=function(n){n.aborted?--this.gga:this.Qr-=n.bytesReceived;this.empty?this.Gg=void 0:n.Za !== this.tb && n.tb <= this.Gg.tb && n.Za > this.Gg.Za && this.Gg.AZ(n.Za);n.FTa();};l.prototype.push=function(n){this.bL(n);return h.prototype.push.call(this,n);};l.prototype.shift=function(){var n;n=h.prototype.shift.call(this);n && this.Py(n);return n;};l.prototype.pop=function(){var n;n=h.prototype.pop.call(this);n && this.Py(n);return n;};l.prototype.unshift=function(n){this.bL(n);return h.prototype.unshift.call(this,n);};l.prototype.Hq=function(n){this.bL(n);h.prototype.Hq.call(this,n);};l.prototype.remove=function(n){if(!h.prototype.remove.call(this,n))return !1;this.Py(n);return !0;};l.prototype.splice=function(n,q){for(var p=[],u=2;u < arguments.length;u++){p[u - 2]=arguments[u];}u=h.prototype.splice.apply(this,c.__spread([n,q],p));p.forEach(this.bL.bind(this));u.forEach(this.Py.bind(this));return u;};l.prototype.HWb=function(n){var q;q=this;this.reduce(function(p,u,t){u.aborted && (n && n(u,t,q),0 === p.length || p[0].end !== t?p.unshift({start:t,end:t + 1}):p[0].end+=1);return p;},[]).forEach(function(p){return q.splice(p.start,p.end - p.start);});};l.prototype.jna=function(n){return this.KXa(function(q){return q.jna(n);});};l.prototype.oN=function(n){return this.KXa(function(q){return q.oN(n);});};l.prototype.JXa=function(n){n=this.oN(n);return -1 !== n?this.get(n):void 0;};l.prototype.AZb=function(n){var p;for(var q=[];n < this.length;){p=this.get(n);p && q.push(p);n++;}return q;};l.prototype.UA=function(n){this.move(n);this.sN(n);};l.prototype.EI=function(n){this.Qr+=n.bytesReceived - n.Is;this.uH(n);};l.prototype.Ek=function(n){for(this.Qr+=n.bytesReceived - n.Is;this.bf.first && this.bf.first.complete && (this.Li.empty?this.bf.first === this.zma:this.bf.first.Za === this.Li.tb);){this.S_b();}this.pu(n);};l.prototype.eY=function(n,q,p){this.Qr-=n.bytesReceived;++this.gga;this.rN(n,q,p);};return l;})(f.KBa);b.cAa=a;r.Bf(d.Av,a,!1);r.Bf(m.Sx,a);r.Bf(m.RB,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.KBa=void 0;c=a(2);a(4);r=(function(){function f(k,m){this.ud=k;this.nL=m;this.Jy();}Object.defineProperties(f.prototype,{length:{get:function(){return this.qf;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.qf;},enumerable:!1,configurable:!0}});f.prototype.qGb=function(){return this.Ug && this.Ug.get(0);};f.prototype.Lub=function(){return this.hL && this.hL.get(this.hL.length - 1);};f.prototype.get=function(k){0 > k && (k+=this.length);for(var m=0;m < this.ud.length;++m){if(this.li[m + 1] > k)return this.ud[m].get(k - this.li[m]);}};f.prototype.push=function(k){this.ud[this.nL(k)].push(k);this.Jy();return this.qf;};f.prototype.shift=function(){var k;if(this.Ug){k=this.Ug.shift();this.Jy();return k;}};f.prototype.pop=function(){var k;if(this.hL){k=this.hL.pop();this.Jy();return k;}};f.prototype.unshift=function(k){this.ud[this.nL(k)].unshift(k);this.Jy();return this.qf;};f.prototype.Hq=function(k){var m;m=this.nL(k);this.ud[m].Hq(k);this.Jy();};f.prototype.remove=function(k){var m;m=this.ud.some(function(d){return d.remove(k);});m && this.Jy();return m;};f.prototype.splice=function(k,m){var p,u,t,w;for(var d,g=[],h=2;h < arguments.length;h++){g[h - 2]=arguments[h];}h=[];for(var l,n=k + Math.max(0,m),q=0;q < this.ud.length;++q){p=this.ud[q];u=this.li[q];t=this.li[q + 1];if(k < t){w=k - u;u=Math.min(n - u,p.length);void 0 === l && 0 < w && u < p.length?Array.prototype.push.apply(h,p.splice.apply(p,c.__spread([w,u - w],g))):(Array.prototype.push.apply(h,p.splice(w,u - w)),void 0 === l && (l=0 < q && 0 === w?q - 1:q));k=t;if(k >= n)break;}}if(g.length && void 0 !== l){for(n=this.nL(g[0]);0 < l && n < l && this.ud[l].empty;){--l;}for(;g.length && n === l;){this.ud[l].push(g.shift());if(!g.length)break;n=this.nL(g[0]);}for(;g.length && ++l < this.ud.length && this.ud[l].empty;){for(;g.length && n === l;){this.ud[l].push(g.shift());if(!g.length)break;n=this.nL(g[0]);}}g.length && (d=this.ud[l]).splice.apply(d,c.__spread([0,0],g));}this.Jy();return h;};f.prototype.find=function(k){var m,d;m=this;return this.ud.some(function(g,h){d=g.find(m.OC(k,h));return void 0 !== d;})?d:void 0;};f.prototype.findIndex=function(k){var d;for(var m=0;m < this.ud.length;++m){d=this.ud[m].findIndex(this.OC(k,m));if(-1 !== d)return d + this.li[m];}return -1;};f.prototype.indexOf=function(k){var d;for(var m=0;m < this.ud.length;++m){d=this.ud[m].indexOf(k);if(-1 !== d)return d + this.li[m];}return -1;};f.prototype.map=function(k){var m,d;m=this;d=this.ud.map(function(g,h){return g.map(m.OC(k,h));});return Array.prototype.concat.apply([],d);};f.prototype.reduce=function(k,m){var d;d=this;return this.ud.reduce(function(g,h,l){return h.reduce(d.hsb(k,l),g);},m);};f.prototype.forEach=function(k){var m;m=this;this.ud.forEach(function(d,g){d.forEach(m.OC(k,g));});};f.prototype.l6=function(k){for(var m=this.ud.length - 1;0 <= m;--m){this.ud[m].l6(this.OC(k,m));}};f.prototype.some=function(k){var m;m=this;return this.ud.some(function(d,g){return d.some(m.OC(k,g));});};f.prototype.Gxa=function(k){for(var m=this.ud.length - 1;0 <= m;--m){if(this.ud[m].Gxa(this.OC(k,m)))return !0;}return !1;};f.prototype.every=function(k){var m;m=this;return this.ud.every(function(d,g){return d.every(m.OC(k,g));});};f.prototype.WFb=function(k,m){var n,q;function d(p){return p.reduce(function(u,t,w,v){return void 0 === t?u:void 0 === u?w:0 > k(t,v[u])?w:u;},void 0);}for(var g=this,h=this.ud.map(function(){return 0;}),l=this.ud.filter(function(p){return p.empty;}).length;l < this.ud.length;){n=h.map(function(p,u){return p < g.ud[u].length?g.ud[u].get(p):void 0;});q=d(n);m(n[q],this.li[q] + h[q],this);++h[q];h[q] === this.ud[q].length && ++l;}};f.prototype.move=function(k){return this.remove(k)?(this.Hq(k),!0):!1;};f.prototype.S_b=function(){var k;if(this.ud[1].length){k=this.ud[1].shift();this.ud[0].push(k);this.Jy();}};f.prototype.KXa=function(k){for(var m=-1,d=0;d < this.ud.length;++d){if((m=k(this.ud[d]),-1 !== m)){m+=this.li[d];break;}}return m;};f.prototype.toJSON=function(){return this.map(function(k){return k.toJSON();});};f.prototype.Jy=function(){var m;this.qf=0;this.li=[0];this.hL=this.Ug=void 0;for(var k=0;k < this.ud.length;++k){m=this.ud[k];this.qf+=m.length;this.li.push(this.li[this.li.length - 1] + m.length);!this.Ug && m.length && (this.Ug=m);m.length && (this.hL=m);}};f.prototype.OC=function(k,m){var d,g;d=this;g=this.li[m];return function(h,l){return k(h,g + l,d);};};f.prototype.hsb=function(k,m){var d,g;d=this;g=this.li[m];return function(h,l,n){return k(h,l,g + n,d);};};return f;})();b.KBa=r;},function(r,b,a){var c,f,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.e0=void 0;c=a(2);f=a(4);r=a(43);k=a(237);a=a(102);m=(function(){function d(g,h){this.Qa=[];this.Gg=void 0;this.Qc=0;this.I=g;h && h.length && (Array.isArray(h)?(this.Qa=h.slice(),this.KS(0,this.Qa.length)):h instanceof d && (this.Qa=h.Qa.slice(),this.KS(0,this.Qa.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Qa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Qa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Qa[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{jp:{get:function(){return this.Qa[this.Qa.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Za:{get:function(){return this.first && this.first.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{tb:{get:function(){return this.jp && this.jp.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Zr:{get:function(){return this.Gg;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ga:{get:function(){return this.Qc;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{W:{get:function(){return this.first && this.first.W;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Hj:{get:function(){return this.first && this.first.Hj;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Y:{get:function(){return this.Qa;},enumerable:!1,configurable:!0}});d.prototype.zub=function(){var g;if(0 === this.Qa.length)(f.assert(void 0 === this.Gg),f.assert(0 === this.Qc));else {f.assert(this.Gg instanceof k.SB);f.assert("number" === typeof this.Qc);f.assert(void 0 !== this.Zr && this.Zr.Za === this.Za);g=this.Qa.reduce(function(h,l,n){return 0 === n || l.Za === h?l.tb:h;},0);f.assert(this.Zr.tb === g);f.assert(this.Qa.reduce(function(h,l,n){return 0 === n || l.Za === h?l.tb:h;},0) === this.Zr.tb);f.assert(this.Qa.reduce(function(h,l){return h + l.ga;},0) === this.Qc);}};d.prototype.get=function(g){0 > g && (g+=this.Qa.length);return this.Qa[g];};d.prototype.push=function(g){this.Qa.push(g);this.KS(this.Qa.length - 1);return this.length;};d.prototype.unshift=function(g){this.Qa.unshift(g);this.KS(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Qa.length)return (this.Wha(this.Qa.length - 1),this.Qa.pop());};d.prototype.shift=function(){if(0 !== this.Qa.length)return (this.Wha(0),this.Qa.shift());};d.prototype.splice=function(g,h){for(var l,n=[],q=2;q < arguments.length;q++){n[q - 2]=arguments[q];}0 > g && (g+=this.Qa.length);0 > g && (g=0);g > this.Qa.length && (g=this.Qa.length);if(void 0 === h || 0 > h)h=0;h=Math.min(h,this.Qa.length - g);0 < h && this.Wha(g,g + h);q=(l=this.Qa).splice.apply(l,c.__spread([g,h],n));0 < n.length && this.KS(g,g + arguments.length - 2);return q;};d.prototype.slice=function(g,h){void 0 === g && (g=0);void 0 === h && (h=this.Qa.length);0 > g && (g+=this.Qa.length);if(g >= this.Qa.length)return new d(this.I);h > this.Qa.length && (h=this.Qa.length);0 > h && (h+=this.Qa.length);return new d(this.I,this.Qa.slice(g,h));};d.prototype.Hq=function(g){if(0 === this.Qa.length || g.Za >= this.tb)this.push(g);else if(g.tb <= this.Za)this.unshift(g);else {for(var h=0,l=this.Qa.length - 1,n;h < l - 1;){n=Math.floor((l + h) / 2);f.assert(n !== l && n !== h);g.Za >= this.Qa[n].tb?h=n:l=n;}f.assert(h !== l);f.assert(this.Qa[h].tb <= g.Za && this.Qa[l].Za >= g.tb);this.splice(l,0,g);}};d.prototype.remove=function(g){g=this.Qa.indexOf(g);if(0 > g)return !1;this.splice(g,1);return !0;};d.prototype.concat=function(){for(var g=[],h=0;h < arguments.length;h++){g[h]=arguments[h];}g=g.map(function(l){return l.Qa;});return new d(this.I,Array.prototype.concat.apply(this.Qa,g));};d.prototype.forEach=function(g){var h;h=this;this.Qa.forEach(function(l,n){return g(l,n,h);});};d.prototype.some=function(g){var h;h=this;return this.Qa.some(function(l,n){return g(l,n,h);});};d.prototype.every=function(g){var h;h=this;return this.Qa.every(function(l,n){return g(l,n,h);});};d.prototype.map=function(g){var h;h=this;return this.Qa.map(function(l,n){return g(l,n,h);});};d.prototype.reduce=function(g,h){var l;l=this;return this.Qa.reduce(function(n,q,p){return g(n,q,p,l);},h);};d.prototype.indexOf=function(g){return this.Qa.indexOf(g);};d.prototype.find=function(g){var h,l;h=this;return this.Qa.some(function(n,q){l=q;return g(n,q,h);})?this.Qa[l]:void 0;};d.prototype.findIndex=function(g){var h,l;h=this;return this.Qa.some(function(n,q){l=q;return g(n,q,h);})?l:-1;};d.prototype.filter=function(g){var h;h=this;return new d(this.I,this.Qa.filter(function(l,n){return g(l,n,h);}));};d.prototype.l6=function(g){for(var h=this.Qa.length - 1;0 <= h;--h){g(this.Qa[h],h,this);}};d.prototype.Gxa=function(g){for(var h=this.Qa.length - 1;0 <= h;--h){if(g(this.Qa[h],h,this))return !0;}return !1;};d.prototype.jna=function(g){if(this.empty || g < this.gd || g >= this.Mc)return -1;for(var h=0,l=this.Qa.length - 1,n;l > h;){n=Math.floor((l + h) / 2);if(g >= this.Qa[n].gd && g < this.Qa[n].Mc){l=n;break;}g < this.Qa[n].Mc?l=n - 1:h=n + 1;}return l;};d.prototype.oN=function(g){if(this.empty || g < this.zd || g >= this.pe)return -1;for(var h=0,l=this.Qa.length - 1,n;l > h;){n=Math.floor((l + h) / 2);if(g >= this.Qa[n].zd && g < this.Qa[n].pe){l=n;break;}g < this.Qa[n].pe?l=n - 1:h=n + 1;}return l;};d.prototype.JXa=function(g){g=this.oN(g);return 0 <= g?this.Qa[g]:void 0;};d.prototype.H3=function(g){var h;h=this.Qa[g].tb;for(g+=1;g < this.Qa.length && h === this.Qa[g].Za;++g){h=this.Qa[g].tb;}g < this.Qa.length?void 0 === this.Gg?this.Gg=new k.SB(this,{tb:h}):this.Gg.AZ(h):void 0 === this.Gg?this.Gg=new k.SB(this,{}):this.Gg.Mka();};d.prototype.bL=function(g,h){for(var l=g;l < h;++l){this.Qc+=this.Qa[l].ga;}void 0 === this.Gg || 0 === g?this.H3(0):this.Gg.tb === this.tb?this.H3(g - 1):this.Qa[g].Za === this.Gg.tb && this.H3(g);};d.prototype.Py=function(g,h){var l;if(0 === g)(this.Gg=void 0,h < this.length && this.H3(h));else {l=this.Gg;l.tb > this.Qa[g - 1].tb && (h < this.length?l.AZ(this.Qa[g - 1].tb):l.Mka());}for(;g < h;++g){this.Qc-=this.Qa[g].ga;}};d.prototype.KS=function(g,h){void 0 === h && (h=g + 1);this.bL(g,h);};d.prototype.Wha=function(g,h){void 0 === h && (h=g + 1);this.Py(g,h);};return d;})();b.e0=m;r.Bf(a.Sx,m);r.Bf(a.RB,m);},function(r,b,a){var c,f,k,m,d,g,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.hAa=void 0;c=a(2);f=a(118);k=a(4);c.__importDefault(a(6));m=a(9);d=a(247);g=a(101);h=a(239);l=a(119);r=(function(n){function q(p,u,t,w,v,x){u=n.call(this,p,w,v,u,x) || this;u.Znb=t;u.L2=q.iF.INIT;u.kac=w.offset;u.rha=g.hn.prototype.toString.call(u) + " multiple";u.wqb=w.ga;u.UL(p.url,w.offset,8,0);return u;}c.__extends(q,n);Object.defineProperties(q.prototype,{data:{get:function(){return this.vn;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ga:{get:function(){return this.wqb;},enumerable:!1,configurable:!0}});q.prototype.Ek=function(p){var u,t;this.vn=this.L2 === q.iF.INIT?p.response:m.fD(this.vn,p.response);p.WY();switch(this.L2){case q.iF.INIT:(u=new DataView(this.vn),t=u.getUint32(0));u=u.getUint32(4);f.Bo(u);this.UL(p.url,p.offset + p.ga,t,0);d.aF.prototype.Ek.call(this,p);this.L2=q.iF.IGa;break;case q.iF.IGa:u=new DataView(this.vn);t=u.getUint32(this.VNa - 8);u=u.getUint32(this.VNa - 4);f.Bo(u);this.UL(p.url,p.offset + p.ga,t - 8,0);this.L2=q.iF.DGa;d.aF.prototype.Ek.call(this,p);break;case q.iF.DGa:d.aF.prototype.Ek.call(this,p);break;default:k.assert(!1);}};q.prototype.FG=function(p){if(this.gf)return {status:l.Qj.Yx};if(!this.Eu())return {status:l.Qj.Rf};this.gf=p.appendBuffer(this.vn,m.Mq(this));return {status:this.gf?l.Qj.Yx:l.Qj.Rf};};q.prototype.UL=function(p,u,t,w){p=new h.SQ(this.stream,this.Znb,this.rha + " (" + this.Ga.length + ")",{K:this.K,mediaType:this.mediaType,Ta:this.Ta,bitrate:this.bitrate,offset:u,ga:t,url:p,location:this.location,Qd:this.Qd,responseType:w},this,this.hf,this.I);this.push(p);this.VNa=this.Ga.reduce(function(v,x){return v + x.ga;},0);};q.iF={INIT:0,IGa:1,DGa:2,name:["INIT","MOOF","MDAT"]};return q;})(d.aF);b.hAa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.XLa=void 0;c=a(386);f=a(21);r=(function(){function k(m,d){this.ih=m;this.console=d;this.gG=Infinity;this.US=this.l3=0;this.AQa=!1;}k.prototype.mYb=function(){this.AQa=!0;};k.prototype.yFb=function(m,d,g,h,l){var n;if(this.ih){n=m.Y;if(n){if(1 === g)(g=n.Nn(Math.ceil(this.ih * m.va.NI),void 0,!0),n=m.jl(g),m=n.jH.Ml(m.va),n.Lk({start:0,end:this.ih - g * m}),this.gG=this.ih);else {void 0 !== h.Eab?(d=h.Eab,g=d * m.va.U):(g=c.Goa(h,l) + Math.ceil(h.rub * m.va.NI),f.O.Na(g).Ml(m.va),g=d + g,d=Math.ceil(g / m.va.NI));g=n.Nn(g,void 0,!0);for(l=h=0;l < g;++l){n=m.jl(l);h+=n.jH.Ml(m.va);}h=d - h;n=m.jl(g);n.Lk({end:h});this.gG=d;}n.Y3a();return n;}}};k.prototype.gMb=function(m){this.US+=m.p9a;this.console.warn("StallAtFrameCount, adding frames: " + m.p9a,"total frames: " + this.US,"needed frames: " + this.gG);};k.prototype.QKb=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: " + this.l3,"needed: " + this.gG);return this.l3 >= this.gG;};k.prototype.PKb=function(){return this.US >= this.gG;};k.prototype.iMb=function(m,d){this.l3+=this.vD(m,d);};k.prototype.sEb=function(m,d,g){m.p9a=this.vD(d,g);};k.prototype.vD=function(m,d){return m.jH.Ml(d.va);};k.prototype.qz=function(){if(!this.PKb())return !1;if(this.AQa)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",this.US + " >= " + this.gG);return !0;};return k;})();b.XLa=r;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Lfa=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(28));k=r.__importDefault(a(6));m=a(25);d=a(16);g=a(244);h=a(841);l=new k.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");n=[d.sa[d.sa.Gh],d.sa[d.sa.xd],d.sa[d.sa.Tf],d.sa[d.sa.Lc],d.sa[d.sa.qh],"checkBuffering"];q={first:a(843),random:a(844),optimized:a(180).default,roundrobin:a(848),selectaudio:a(395),selectaudioadaptive:a(849),"default":a(180).default,lowest:a(850),highest:a(851),throughputthreshold:a(852),replay:a(853).default,checkdefault:a(855),testscript:a(856)};p={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};a=(function(){var r60;r60=2;for(;r60 !== 6;){switch(r60){case 3:u.prototype.l6=function(t,w){var E60,v;E60=2;for(;E60 !== 3;){switch(E60){case 1:E60=0 <= v?5:3;break;case 5:w(t[v],v,t);E60=4;break;case 4:--v;E60=1;break;case 2:a000.g3p(6);var u31=a000.y3p(137,15,8,16);v=t.length - u31;E60=1;break;}}};Object.defineProperties(u.prototype,{C8:{get:function(){var F60;F60=2;for(;F60 !== 1;){switch(F60){case 2:return this.sha;break;case 4:return this.sha;break;F60=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Bra:{get:function(){var G60;G60=2;for(;G60 !== 1;){switch(G60){case 2:return this.wha;break;case 4:return this.wha;break;G60=1;break;}}},enumerable:!1,configurable:!0}});return u;break;case 2:u.prototype.Qwa=function(t,w,v,x,y,z){var u60,K,M,H,L,A,B,E,D,F,G,C,v60,Q,I;u60=2;for(;u60 !== 61;){switch(u60){case 44:u60=!x?43:39;break;case 45:u60=v60 === d.sa.Tf?46:65;break;case 26:t.state !== d.sa.Gh && void 0 === G && (t.state=d.sa.Gh);u60=25;break;case 28:C.Y && C.Y.length || (x=!0,L.Jz.push(C.Ta));u60=44;break;case 13:(K=v.Y,M=K.length);u60=12;break;case 20:u60=!(0 <= G)?19:16;break;case 40:C.Y && C.Y.length || (x=!0,L.Jz.push(C.Ta));u60=39;break;case 14:this.Qf.DZ(G);u60=13;break;case 21:u60=L.Rg && (L.Jz=[],w.forEach(function(J,N){var z60;z60=2;for(;z60 !== 4;){switch(z60){case 2:J === L.Rg && (L.Ke=N);(!F.FDb || J.Y && J.Y.length) && !J.Xaa || L.Jz.push(J.Ta);J.Xaa=!1;z60=4;break;}}}),!L.Jz.length)?35:38;break;case 39:x || (L.Jz=void 0);u60=38;break;case 65:u60=v60 === d.sa.Lc?22:64;break;case 47:u60=v60 === d.sa.xd?46:45;break;case 8:H=this.Qf.Iu.bitrate;G=m.fq(w,function(J){var w60;w60=2;for(;w60 !== 1;){switch(w60){case 2:return J.bitrate > H;break;}}});G=0 < G?G - 1:0 === G?0:w.length - 1;u60=14;break;case 43:y=L.Ke - 1;u60=42;break;case 32:u60=F.vab && y > F.FX?31:39;break;case 38:u60=!L || null === L.Ke?37:36;break;case 12:u60=0 < M?11:16;break;case 9:u60=c.ka(G) && t.state === d.sa.Lc && (C=!0,void 0 !== this.Qf.Iu)?8:13;break;case 4:c.Ea(G) && t.state === d.sa.Gh && (this.Qf.DZ(void 0),G=void 0);c.Ea(G) && G >= w.length && (this.Qf.DZ(void 0),G=void 0);u60=9;break;case 22:L=this.Cg[d.sa[t.state]].call(this,F,t,w,G,x,! !y,C);u60=21;break;case 62:var R5p="Str";R5p+="eam selector called ";R5p+="with invalid player state ";return (l.error(R5p + d.sa[t.state]),null);break;case 31:y=L.Ke + 1;u60=30;break;case 2:v=null === t || void 0 === t?void 0:t.buffer;(D=k.default.time.fa(),F=this.J,G=this.Qf.R2a,C=!1);u60=4;break;case 35:y=v.al - v.Cc;C=void 0;x=!1;u60=32;break;case 41:C=w[y];u60=40;break;case 64:u60=v60 === d.sa.qh?22:63;break;case 46:this.Qf.F$a(f.default.V0.Gh);u60=22;break;case 25:v60=t.state;u60=v60 === d.sa.Gh?24:47;break;case 16:c.ka(G) && (G=this.Qf.R2a);void 0 !== x && this.Sua(w,! !t.ws,t.buffer,x);t.state === d.sa.Gh && c.Ea(G) && (t.state=d.sa.xd);u60=26;break;case 48:return L;break;case 17:G=0 < G?G - 1:0 === G?0:w.length - 1;u60=16;break;case 29:C=w[y];u60=28;break;case 30:u60=y < w.length?29:44;break;case 24:this.wha=this.sha=void 0;u60=23;break;case 36:var Z5p="p";Z5p+="l";Z5p+="a";Z5p+="ying";var e5p="min_f";e5p+="r";e5p+="ag";e5p+="ment_vm";e5p+="af";void 0 === L.T4a?this.Qf.DZ(L.Ke):this.Qf.DZ(L.T4a);x=w[L.Ke];L.reason && (x.Ss=L.reason,e5p !== L.reason && (x.Pwa=L.Bu,x.oA=L.oA,x.ep=L.ep,x.fp=L.fp));this.F6a && (L.Su=this.F6a.ZIb({jq:v.al - v.Cc,GPb:w[0],Rg:x,f4b:w[L.Ke + 1] || x,C2b:w[w.length - 1],yf:t.state,playbackRate:t.playbackRate,Bd:t.Bd}));c.Ea(G) && x.bitrate < w[G].bitrate && (this.sha=v.Bc);t.state !== d.sa.Lc && t.state !== d.sa.qh?(w=g.H$(t.state),z=this.qz(t.buffer,w,t.playbackRate,x,z),(L.Se=z.complete)?L.r4=z.reason:(L.Se=!1,L.dJ=z.dJ,L.$D=z.$D,L.progress=z.progress)):(L.Se=!0,L.r4=Z5p);t.bN && (L.Bc=v.Bc,z=t && t.Bd,w=x.Y,L.nk=w && void 0 !== z && !isNaN(z) && 0 <= z && z < w.length?w.Kj(z):v.Bc,L.IVb=x.Sa || 0,L.KSb=x.zb && x.zb.Sa && x.zb.Sa.Ha || 0,L.bka=v.al - v.Cc,L.TSa=v.jh,L.oVb=null !== (E=null === (B=null === (A=k.default.bcc) || void 0 === A?void 0:A.call(k.default)) || void 0 === B?void 0:B[1 === t.mediaType?1:0]) && void 0 !== E?E:-1,L.yf=t.state,L.aq=t && t.aq,L.Jya=D,L.X1b=k.default.time.fa());u60=48;break;case 19:Q=K[M - 1].bitrate;G=m.fq(w,function(J){var y60;y60=2;for(;y60 !== 1;){switch(y60){case 2:return J.bitrate > Q;break;case 4:return J.bitrate < Q;break;y60=1;break;}}});u60=17;break;case 42:u60=0 <= y?41:39;break;case 63:u60=62;break;case 11:I=K[M - 1].Ta;G=m.fq(w,function(J){var x60;x60=2;for(;x60 !== 1;){switch(x60){case 2:return J.Ta === I;break;}}});u60=20;break;case 23:this.Qf.F$a(f.default.V0.Gh);u60=22;break;case 37:return null;break;}}};u.prototype.qz=function(t,w,v,x,y){var A60;A60=2;for(;A60 !== 1;){switch(A60){case 2:return this.Cg.checkBuffering.call(this,t,w,v,x,y,this.J);break;}}};u.prototype.Z0b=function(t,w,v){var B60;B60=2;for(;B60 !== 1;){switch(B60){case 2:c.ka(w)?this.sha=this.wha=void 0:w.bitrate < v.bitrate && (this.wha=t);B60=1;break;}}};u.prototype.Sua=function(t,w,v,x){var C60,y,z;C60=2;for(;C60 !== 5;){switch(C60){case 2:this.l6(t,function(A){var D60;D60=2;for(;D60 !== 1;){switch(D60){case 2:A.Hu && A.zb && A.zb.confidence?(y !== A.zb && (y=A.zb,w && A.zb && (A.zb.ws=!0),z=Math.floor(x(A.zb,v,A.track.R.ex[0])),z=0 === z?1:z),A.Sa=z):A.Sa=void 0;D60=1;break;}}});C60=5;break;}}};r60=3;break;}}function u(t,w,v,x){var s60,y;s60=2;for(;s60 !== 6;){switch(s60){case 2:y=this;this.JP=t;this.J=w;s60=4;break;case 4:var K5p="1";K5p+="SIYb";K5p+="ZrN";K5p+="JCp";K5p+="9";this.Qf=v;K5p;t=t || this.J.Wxa;this.Cg=n.reduce(function(z,A){var t60;t60=2;for(;t60 !== 5;){switch(t60){case 2:z[A]=((q[t] || q[p[A]])[A] || q[p[A]][A]).bind(y);return z;break;}}},{});s60=7;break;case 7:x && (this.F6a=new h.BIa(w));s60=6;break;}}}})();b.Lfa=a;},function(r,b,a){var l,n,q;function c(p){return d(p.Rg);}function f(p,u){var t,w,v,x;if(!u || "object" !== typeof u)return 0;t=p.Rg;w=p.f4b;v=p.C2b;x={selectedFragmentBitrate:m(t,p.Bd) * p.playbackRate,upswitchFragmentBitrate:m(w,p.Bd) * p.playbackRate,maxFragmentBitrate:m(v,p.Bd) * p.playbackRate,selectedPeakBitrate:(t.KA || g(t) || 0) * p.playbackRate,upswitchPeakBitrate:(w.KA || g(w) || 0) * p.playbackRate,maxPeakBitrate:(v.KA || g(v) || 0) * p.playbackRate,selectedAverageBitrate:g(t) * p.playbackRate,upswitchAverageBitrate:g(w) * p.playbackRate,maxAverageBitrate:d(t) * p.playbackRate,bufferLevelMs:p.jq,observedThroughput:h(p.Rg) || 0,predictedThroughput:(null === t || void 0 === t?void 0:t.Sa) || 0};p=u.offset || 0;return Object.keys(x).reduce(function(y,z){return y + (u[z] || 0) * x[z];},p);}function k(p,u){var t,w,v,x;if(!Array.isArray(u.Qva) || 1 > u.Qva.length)return 0;t=Array.from(u.Qva).sort(function(y,z){return y.jq - z.jq;});w=-1;for(u=0;u < t.length;u++){if(t[u].jq >= p.jq){w=u;break;}}if(-1 === w)return f(p,t[t.length - 1].Vka);if(0 === w)return f(p,t[0].Vka);v=t[w - 1].jq;u=f(p,t[w - 1].Vka);x=t[w].jq;t=f(p,t[w].Vka);p=Math.min((p.jq - v) / (x - v),1);return (1 - p) * u + p * t;}function m(p,u){var t;return (void 0 !== u?null === (t=p.Y) || void 0 === t?void 0:t.get(u).CSa:void 0) || p.KA || 0;}function d(p){var u,t;t=null === (u=null === p || void 0 === p?void 0:p.R) || void 0 === u?void 0:u.ex;return t?t[p.mediaType] || 0:0;}function g(p){return (null === p || void 0 === p?void 0:p.bitrate) || 0;}function h(p){var u,t;return (null === (t=null === (u=null === p || void 0 === p?void 0:p.zb) || void 0 === u?void 0:u.Sa) || void 0 === t?void 0:t.Ha) || 0;}Object.defineProperties(b,{__esModule:{value:!0}});b.BIa=void 0;r=a(2).__importDefault(a(6));l=a(16);n=a(842);new r.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");q={maxStreamBitrate:c,"static":function(p,u){return u.O0b;},none:function(){return 0;},regression:k,epsGreedy:function(p,u){return Math.min(k(p,u) || 0,h(p.Rg));},"default":c};a=(function(){function p(u){var I60;I60=2;for(;I60 !== 4;){switch(I60){case 9:this.J=u;"";I60=3;break;I60=5;break;case 2:var M5p="1";M5p+="SIY";M5p+="bZ";M5p+="rNJC";M5p+="p9";this.J=u;M5p;I60=5;break;case 5:var p5p="de";p5p+="fa";p5p+="u";p5p+="l";p5p+="t";this.algorithm=(q[this.J.fUb] || q[p5p]).bind(this);I60=4;break;}}}var H60;H60=2;for(;H60 !== 3;){switch(H60){case 2:p.prototype.moa=function(u,t,w){var J60,v;J60=2;for(;J60 !== 8;){switch(J60){case 4:a000.C3p(7);t=Math.ceil(a000.F3p(t,w));u=(this.J.Rka.Qcc || 0) * ((null === (v=u.GPb) || void 0 === v?void 0:v.KA) || 0);return t < u?0:t;break;case 5:return 0;break;case 2:J60=1;break;case 1:J60=!w?5:4;break;}}};p.prototype.g0b=function(u,t){var K60,w,v;K60=2;for(;K60 !== 5;){switch(K60){case 2:return !t.Rka.Cbc || u.yf !== l.sa.Gh && u.yf !== l.sa.xd?!1:(u=null === (w=u.Rg) || void 0 === w?void 0:w.zb) && u.confidence >= l.uea.dy && (null === (v=u.Sa) || void 0 === v?0:v.Ha)?!0:!1;break;}}};p.prototype.ZIb=function(u){var L60,t,w,v;L60=2;for(;L60 !== 14;){switch(L60){case 5:return t;break;case 2:(t=new n.Lea({VP:0,EM:0,oP:0}),w=this.J.Rka);L60=1;break;case 1:L60=!w?5:4;break;case 3:L60=v && u.Bd && 0 === u.Bd % v?9:8;break;case 4:v=this.J.s3b;L60=3;break;case 8:t=0;this.g0b(u,this.J)?t=h(u.Rg):u.jq >= w.qI && (t=this.algorithm(u,this.J));return new n.Lea({VP:this.moa(u,t,w.q8a[0]),oP:this.moa(u,t,w.q8a[2]),EM:this.moa(u,t,w.q8a[1])});break;case 9:return t;break;}}};return p;break;}}})();b.BIa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Lea=void 0;c=a(2);r=(function(){function f(k){this.VP=k.VP;this.EM=k.EM;this.oP=k.oP;}Object.defineProperties(f.prototype,{r8a:{get:function(){return [this.VP,this.EM,this.oP];},enumerable:!1,configurable:!0}});f.prototype.m8=function(){return this.r8a.some(function(k){return 0 < k;});};f.prototype.a4a=function(k,m,d,g){var h;h=8 * k / Math.max(d - m,1);if(!this.m8())return !1;k=this.r8a.map(function(l){return Math.abs(h - l) / l;});return Math.min.apply(Math,c.__spread(k)) < g;};return f;})();b.Lea=r;},function(r,b,a){var f,k,m,d;function c(g,h,l,n){if(f.ka(n))g=k(l);else if(m(l[n]))g=n;else if((g=k(l,n),0 > g))return null;return new d(g);}f=a(10);b=a(34);k=b.sna;m=b.YH;d=b.Mp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var f;function c(k,m,d){k=d.map(function(g,h){return g.Hu?h:null;}).filter(function(g){return null !== g;});return k.length?new f(k[Math.floor(Math.random() * k.length)]):null;}f=a(34).Mp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var c,f,k,m,d,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.zaa=void 0;r=a(2);c=r.__importStar(a(10));f=a(25);r=r.__importDefault(a(34));k=a(393);m=a(394);d=r.default.assert;g=r.default.Mp;b.zaa=h;(function(){var M60;function l(n,q,p,u){function t(B){var O60,E;O60=2;for(;O60 !== 7;){switch(O60){case 2:void 0 !== y && (null === w || void 0 === w?0:w.Y) && k.e9(n,p,w.Y.Dx,y,y + 1);E=B.Sa;O60=5;break;case 5:O60=!E || (B.bitrate > v?n.e4b:1) * B.bitrate * q.playbackRate > E?4:3;break;case 4:return !1;break;case 3:var u5p="buff_";u5p+="lt_h";u5p+="ist";z=u5p;A=E;return !0;break;}}}var N60,w,v,x,y,z,A;N60=2;for(;N60 !== 20;){switch(N60){case 2:var T5p="Must have at ";T5p+="least one sele";T5p+="cted st";T5p+="rea";T5p+="m";d(!c.ka(u),T5p);(w=p[u],v=w.bitrate,x=w,y=q.Bd);N60=5;break;case 8:var k5p="fal";k5p+="lback_l";k5p+="owest_accepta";k5p+="ble_stre";k5p+="am";z=k5p;N60=7;break;case 9:w=p[0];N60=8;break;case 4:w=f.ie(p.slice(0,Math.min(u + (n.ztb?2:1),p.length)).reverse(),t);N60=3;break;case 5:N60=w.Sa?4:14;break;case 3:N60=void 0 === w?9:6;break;case 7:A=null === w || void 0 === w?void 0:w.Sa;N60=14;break;case 6:var H5p="select_feasible_buf";H5p+="f";H5p+="ering";z=H5p;N60=7;break;case 10:return u;break;case 14:u=new g();u.Rg=w;x !== w && (u.reason=z,u.Bu=A);k.d9(n,p,y,u);N60=10;break;}}}M60=2;for(;M60 !== 5;){switch(M60){case 2:var l5p="1SI";l5p+="YbZr";l5p+="N";l5p+="JC";l5p+="p9";b.zaa=h=function(n,q,p,u,t,w,v){var P60;P60=2;for(;P60 !== 1;){switch(P60){case 2:var b5p="pl";b5p+="a";b5p+="y";b5p+="in";b5p+="g";return b5p === n.$ja?m.Cx.call(this,n,q,p,u,t,w,v):l.call(this,n,q,p,u);break;}}};l5p;M60=5;break;}}})();},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});c=a(2);c.__importStar(a(10));f=a(34);b.default=function(k){var g3I=a000;var Q60,G,C,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,K,H,A,B,E,D,F;Q60=2;for(;Q60 !== 54;){switch(Q60){case 19:0 === q && (g=0);g3I.C3p(8);g*=g3I.F3p(A,1E3);g3I.C3p(8);q*=g3I.F3p(A,1E3);g3I.g3p(8);y*=g3I.F3p(A,1E3);g3I.C3p(8);x*=g3I.F3p(A,1E3);Q60=27;break;case 37:return (k && n.push(m / (A / 1E3)),c.__assign({result:!1,pX:Math.min(m,h) / (A / 1E3),lu:!0},k && ({u4:n})));break;case 38:Q60=(m=Math.max(q - g,0),m < x && m < G)?37:31;break;case 41:k && n.push(m / (A / 1E3));G=m;Q60=39;break;case 26:Q60=p < d?25:36;break;case 6:(G=0,C=0);m=m.vd[0];g3I.g3p(9);l=g3I.y3p(A,m,1E3,l);Q60=12;break;case 28:Q60=l < g && C < p?44:43;break;case 34:Q60=!z && (m=q - g,m < y)?33:32;break;case 29:w-=F;Q60=28;break;case 33:return (k && n.push(m / (A / 1E3)),c.__assign({result:!1,pX:m / (A / 1E3),lu:!1},k && ({u4:n})));break;case 32:g3I.C3p(1);m=g3I.y3p(q,g);Q60=31;break;case 21:Q60=w < G?35:34;break;case 42:Q60=p >= u && m > D?36:41;break;case 2:var V5p="1S";V5p+="IYbZr";V5p+="NJCp";V5p+="9";(m=k.Y,d=k.blocks,g=k.Cc,h=k.al,l=k.u0b,n=k.Ej,q=k.Bc,p=k.Bd,u=k.OFb,t=k.tV,w=k.pYa,v=k.Sa,x=k.s9,y=k.qI,z=k.ONb);k=k.GDb;V5p;Q60=4;break;case 22:G=Math.max(F,t);Q60=21;break;case 31:g3I.g3p(10);g+=g3I.y3p(0,v,H,F);q+=K;Q60=29;break;case 35:(g=l,w+=E[C],++C,m=B[C],l+=m);Q60=21;break;case 23:Q60=w < F?22:38;break;case 39:h=Math.min(m,h);Q60=26;break;case 36:return c.__assign({result:!0,pX:h / (A / 1E3),lu:!0},k && ({u4:n}));break;case 43:++p;Q60=42;break;case 44:(w+=E[C],++C,l+=B[C]);Q60=28;break;case 25:F=E[p];K=B[p];Q60=23;break;case 12:var t5p=" >= fragm";t5p+="e";t5p+="ntsLen";t5p+="gth: ";var x5p="Strea";x5p+="min";x5p+="gInde";x5p+="x: ";g3I.C3p(11);v=g3I.y3p(0,8,v);g3I.C3p(8);H=g3I.y3p(A,1E3);p >= d && f.console.error(x5p + p + t5p + d);g+=F;Q60=19;break;case 27:g3I.g3p(8);D*=g3I.y3p(A,1E3);Q60=26;break;case 4:A=m.W;d=Math.min(m.length,d);(B=m.vd,E=m.sizes,D=h - g,F=8 * n / v | 0);n=[];h=Infinity;Q60=6;break;}}};},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.dNb=b.f$a=void 0;c=a(2);f=c.__importDefault(a(85));k=c.__importStar(a(10));m=a(25);d=a(369);g=c.__importDefault(a(6));r=c.__importDefault(a(117));a=c.__importDefault(a(34));h=a.default.GRb;l=a.default.Dvb;n=a.default.G4;q=a.default.Mp;p=r.default.wxa;a=(function(){var R60;R60=2;function x(B,E,D){var X60,F,G,C,H,K,M;X60=2;for(;X60 !== 19;){switch(X60){case 2:(F=! !B.Qu && ! !B.t4a && D.every(function(I){var Y60;Y60=2;for(;Y60 !== 1;){switch(Y60){case 2:return I.xb && 110 >= I.xb;break;}}}),G=null,C=D.length - 1);X60=1;break;case 1:X60=0 <= C && (F?D[C].xb >= B.Qu:D[C].bitrate >= B.jx)?5:11;break;case 5:H=D[C];G=u(H,B);(K=t(H.bitrate * E.playbackRate,G.Bu,B),M=v(G.Bu,B));M=y(H,G.Bu,F,K,M,B);X60=8;break;case 14:X60=H?11:13;break;case 8:H=M.d6;M=M.reason;G.oA=K;X60=14;break;case 13:G.reason=M;X60=12;break;case 12:C--;X60=1;break;case 11:var B5p="fallbac";B5p+="k_n";B5p+="o_";B5p+="acceptable_st";B5p+="ream";k.Kb(G) && (G=u(D[0],B));k.Kb(G) && (G=u(D[0],B),G.reason=B5p);X60=20;break;case 20:return G;break;}}}function A(B,E,D,F){var d70,G;d70=2;for(;d70 !== 7;){switch(d70){case 4:var r5p="h";r5p+="ist_bitra";r5p+="te";B=new q();B.Rg=m.ie(D.slice().reverse(),function(C){var e70;e70=2;for(;e70 !== 1;){switch(e70){case 4:return C.bitrate > G;break;e70=1;break;case 2:return C.bitrate <= G;break;}}}) || D[0];B.reason=r5p;return B;break;case 2:var h5p="v";h5p+="b";G=g.default.storage.get(h5p);d70=1;break;case 1:var j5p="n";j5p+="umb";j5p+="e";j5p+="r";d70=j5p !== typeof G?5:4;break;case 5:return B.$T?x(B,E,D,F):z(B,E,D,F);break;}}}function w(B,E){var U60,D,F;U60=2;for(;U60 !== 13;){switch(U60){case 1:(D=B.P7,F=m.fq(D,function(G){var V60;V60=2;for(;V60 !== 1;){switch(V60){case 2:return E <= G.r;break;}}}));U60=5;break;case 3:U60=-1 === F?9:8;break;case 9:return D[D.length - 1].d;break;case 2:U60=B.P7?1:14;break;case 5:U60=0 === F?4:3;break;case 8:a000.C3p(1);B=D[a000.y3p(F,1)];D=D[F];U60=6;break;case 6:return Math.floor(B.d + (D.d - B.d) * (E - B.r) / (D.r - B.r));break;case 14:return B.Cs;break;case 4:return D[0].d;break;}}}function v(B,E){var L3I=a000;var W60,D;W60=2;for(;W60 !== 9;){switch(W60){case 5:D=E.GP;W60=4;break;case 1:var m5p="l";m5p+="o";m5p+="g";W60=0 === E.GP.lastIndexOf(m5p,0)?5:3;break;case 3:var a5p="si";a5p+="g";a5p+="m";a5p+="oi";a5p+="d";return 0 === E.GP.lastIndexOf(a5p,0)?(D=E.GP,(D=E.g$a[D]) && 2 === D.length?1E3 * (D[0] + D[1] * p(B)):E.Cs):E.Cs;break;case 2:L3I.g3p(2);var x31=L3I.y3p(92308,7692);L3I.C3p(12);var y31=L3I.F3p(308978,17,18,1013);B=n(B,0,x31) / y31;W60=1;break;case 4:return (D=E.g$a[D]) && 2 === D.length?1E3 * (D[0] + D[1] * Math.log(1 + B)):E.Cs;break;case 14:D=E.GP;W60=7;break;W60=4;break;}}}function u(B,E){var S60,F,D;S60=2;for(;S60 !== 12;){switch(S60){case 4:D.fp=B.pm && B.Nk;D.ep=B.pm?B.pm:0;S60=9;break;case 9:B=f.default(D.fp,{});S60=7;break;case 7:S60=(F=k.Ea(E.Aaa) && 0 <= E.Aaa && 100 >= E.Aaa && !k.ka(B) && !k.Kb(B))?6:14;break;case 6:(F=d.uMa.bJb(B),k.kd(F)?(B.Fj=F,F=!0):F=!1);S60=14;break;case 2:D=new q();D.Rg=B;B=D.Rg.zb || ({});S60=4;break;case 14:var W5p="hi";W5p+="st_throughpu";W5p+="t";var q5p="hist_tdi";q5p+="ge";q5p+="s";q5p+="t";F?(E=B.Fj(E.Aaa / 100) || D.Rg.Sa,D.Bu=E,D.reason=q5p):D.Rg.Sa && (E=D.Rg.Sa,D.Bu=E,D.reason=W5p);return D;break;}}}function t(B,E,D){var T60;T60=2;for(;T60 !== 5;){switch(T60){case 2:B=l(D.Bj,B * D.Isa);return h(B,E);break;}}}for(;R60 !== 5;){switch(R60){case 2:var n5p="1";n5p+="SIY";n5p+="bZr";n5p+="NJCp9";n5p;return {urb:function(B,E,D,F){var f70;f70=2;for(;f70 !== 1;){switch(f70){case 2:var d5p="histori";d5p+="ca";d5p+="l";return d5p === B.qqa?A(B,E,D,F):B.$T?x(B,E,D,F):z(B,E,D,F);break;}}},Vob:y};break;}}function y(B,E,D,F,G,C){var Z60;Z60=2;for(;Z60 !== 5;){switch(Z60){case 2:var Q5p="no_";Q5p+="valid_Bitr";Q5p+="ate";var i5p="n";i5p+="o_";i5p+="valid";i5p+="_VM";i5p+="AF";var U5p="no_valid";U5p+="_";U5p+="DelayTarget";B=D?B.xb >= C.Qu && B.xb <= C.t4a:B.bitrate >= C.jx && B.bitrate <= C.HA;return (F=F < G && B)?{d6:F}:{d6:F,reason:B?U5p:D?i5p:Q5p};break;}}}function z(B,E,D){var a70,F,G;a70=2;for(;a70 !== 4;){switch(a70){case 2:(F=new q(),G=Math.max(B.jx,B.q9,E.Kqa?B.Vsa:-Infinity));F.Rg=m.ie(D.filter(function(C){var b70;b70=2;for(;b70 !== 1;){switch(b70){case 2:return C.bitrate <= B.HA;break;}}}).reverse(),function(C){var c70,K,H,M;c70=2;for(;c70 !== 13;){switch(c70){case 8:var P5p="hist";P5p+="_buf";P5p+="ftime";t(C,K,B) <= M?(F.Bu=K,H && (F.ep=H.pm?H.pm:0,F.fp=H.pm && H.Nk),F.reason=P5p,H=!0):H=!1;c70=7;break;case 1:c70=C.bitrate > G?5:14;break;case 5:C=C.bitrate * E.playbackRate;K=H.Sa;c70=3;break;case 2:H={Sa:C.Sa,pm:C.zb && C.zb.pm,Nk:C.zb && C.zb.Nk};c70=1;break;case 7:return H;break;case 3:c70=K?9:6;break;case 6:H=!1;c70=7;break;case 9:M=w(B,C);c70=8;break;case 14:var s5p="no_histor";s5p+="ical_lte_minbitra";s5p+="te";var v5p="hist_tp";v5p+="ut_";v5p+="lt_min";v5p+="bitrate";var X5p="lt";X5p+="_hist_";X5p+="lte_minbitrate";(K=H.Sa,C.bitrate * E.playbackRate <= K?(F.Bu=K,H && (F.ep=H.pm?H.pm:0,F.fp=H.pm?H.Nk:void 0),F.reason=X5p,H=!0):K?(F.Bu=K,H && (F.ep=H.pm?H.pm:0,F.fp=H.pm?H.Nk:void 0),F.reason=v5p,H=!1):(F.reason=s5p,H=!0));c70=7;break;}}}) || D[0];return F;break;}}}})();r=a.Vob;b.f$a=a.urb;b.dNb=r;},function(r,b,a){var f,k,m,d;function c(g,h,l){var n,q;n=this.uha;h=h.buffer.Bc;q="forward" === g.VYb;if(f.ka(n))return (n=q?k(l):k(l,l.length),this.vha=h,this.uha=n,new d(n));m(l[n]) || (n=k(l,n),this.vha=h,this.uha=n);if(0 > n)return null;if(h > this.vha + g.i2b){g=l.map(function(p,u){return p.Hu?u:null;}).filter(function(p){return null !== p;});if(!g.length)return null;q?n=(g.indexOf(n) + 1) % g.length:(n=g.indexOf(n) - 1,0 > n && (n=g.length - 1));this.uha=g[n];this.vha=h;return new d(g[n]);}return new d(n);}f=a(10);b=a(34);k=b.sna;m=b.YH;d=b.Mp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){function f(t,w,v,x){var j70,z,A,H,K,C,B,E,D,F,G,y;j70=2;for(;j70 !== 32;){switch(j70){case 27:j70=w.Jq && C > G.AA && (void 0 === K || Number(H) > K || E.Bc - K > G.L8)?26:22;break;case 19:j70=n(C) && (0 == D || C.bitrate * w.playbackRate * G.gWa < F)?18:17;break;case 3:z=x;t.ubb.some(function(M){var k70,I,Q,L,J,N,O;k70=2;for(;k70 !== 9;){switch(k70){case 1:k70=Q?5:3;break;case 2:(I=M.profiles,Q=I && 0 <= I.indexOf(y));k70=1;break;case 5:(L=(M=M.hY) && M.y9 || t.y9,J=M && M.vdc || -Infinity,N=M && M.uO || Infinity,O=w.buffer.Dw);k70=4;break;case 3:return Q;break;case 12:return Q;break;k70=9;break;case 4:A=v.filter(function(P){var l70,S;l70=2;for(;l70 !== 5;){switch(l70){case 2:S=P.bitrate;return S >= J && S <= N && 0 <= I.indexOf(P.Lg) && S * L / 8 < O;break;}}}).map(function(P){var m70;m70=2;for(;m70 !== 1;){switch(m70){case 2:return P.Pf;break;}}});k70=3;break;}}});j70=8;break;case 21:var D5p="kbps";D5p+=", streamingP";D5p+="ts :";var N5p=", audio";N5p+=" t";N5p+="hro";N5p+="ughput:";var L5p=" kbps";L5p+=", p";L5p+="rofi";L5p+="le :";var c5p="se";c5p+="lectAud";c5p+="ioS";c5p+="tream: selected stream :";var I5p=" k";I5p+="bp";I5p+="s";var g5p=" k";g5p+="bps, to";g5p+=" ";var C5p="switc";C5p+="h";C5p+="ing au";C5p+="di";C5p+="o from ";var F5p="d";F5p+="o";F5p+="w";F5p+="n";var y5p="u";y5p+="p";F=v[z];z !== x && g && d.log((z > x?y5p:F5p) + C5p + B.bitrate + g5p + F.bitrate + I5p);g && d.log(c5p + F.bitrate + L5p + y + N5p + F.Sa + D5p + w.buffer.Bc);j70=33;break;case 15:(H=this.Bra,K=this.C8);j70=27;break;case 5:j70=!(t && t.hQ && 0 <= t.hQ.indexOf(y))?4:3;break;case 14:z=0;j70=21;break;case 12:var z5p=" kbps, try ";z5p+="to ";z5p+="dow";z5p+="nswitc";z5p+="h";var f5p=" k";f5p+="b";f5p+="ps";f5p+=" < ";var A5p="throughput for";A5p+=" ";A5p+="audi";A5p+="o ";(g && d.log(A5p + F + f5p + G.gWa + "*" + E + z5p),--D);j70=11;break;case 11:j70=0 <= D?10:21;break;case 13:j70=D && F < G.gWa * E * w.playbackRate?12:16;break;case 33:return new q(z);break;case 10:E=A[D];C=v[E];j70=19;break;case 23:z=E;j70=21;break;case 17:D--;j70=11;break;case 24:j70=(E=A[D],C=v[E],n(C) && F > G.Hcb * C.bitrate * w.playbackRate)?23:25;break;case 8:j70=A && 1 < A.length?7:21;break;case 7:(B=v[x],E=B.bitrate,D=A.indexOf(x),F=B.Sa,G=t.xub);j70=6;break;case 6:j70=0 > D?14:13;break;case 2:var o5p="Must have at least o";o5p+="ne selected ";o5p+="stream";h(!k.ka(x),o5p);y=v[x].Lg;j70=5;break;case 16:var Y4p=" kb";Y4p+="p";Y4p+="s";var O4p=" k";O4p+="bps";O4p+=" ";O4p+=">";O4p+=" ";var G5p="throughpu";G5p+="t for au";G5p+="d";G5p+="io ";j70=D < A.length - 1 && F > G.Hcb * E * w.playbackRate && (g && d.log(G5p + F + O4p + G.Hcb + "*" + E + Y4p),E=w.buffer,C=E.al - E.Cc,B.Y && B.Y.length)?15:21;break;case 25:j70=++D < A.length?24:21;break;case 4:return new q(x);break;case 26:var J4p=", ";J4p+="streamin";J4p+="gPt";J4p+="s =";J4p+=" ";var E4p=", lastUps";E4p+="wit";E4p+="chP";E4p+="ts = ";var S4p="  Upsw";S4p+="itch ";S4p+="allowed. lastDownswitch";S4p+="Pts = ";g && d.log(S4p + K + E4p + H + J4p + E.Bc);j70=25;break;case 18:z=E;j70=21;break;case 22:var Z4p="m";Z4p+="s";var e4p=", b";e4p+="uffer l";e4p+="evel";e4p+=" ";e4p+="= ";var R4p=", las";R4p+="tUpswi";R4p+="tchPts";R4p+=" =";R4p+=" ";var w4p="  Upswitch ";w4p+="not allowed. lastDow";w4p+="nswitch";w4p+="Pts ";w4p+="= ";g && d.log(w4p + K + R4p + H + e4p + C + Z4p);j70=21;break;}}}function c(t,w){var h70,v;h70=2;for(;h70 !== 4;){switch(h70){case 2:v=void 0;w.some(function(x){var i70,y;i70=2;for(;i70 !== 4;){switch(i70){case 2:y=x.profiles;(y=y && 0 <= y.indexOf(t)) && (v=x.override);return y;break;}}});return v;break;}}}var g70,k,m,d,g,h,l,n,q,p,u;g70=2;for(;g70 !== 4;){switch(g70){case 2:var u4p="1SI";u4p+="Y";u4p+="bZrNJCp9";(k=a(10),m=a(34),d=m.console,g=m.debug,h=m.assert,l=a(85),n=m.YH,q=m.Mp,p=a(395),u=a(16).sa);r.exports={STARTING:function(t,w,v,x){var n70,y,z;n70=2;for(;n70 !== 7;){switch(n70){case 1:n70=(z=t && t.hQ && 0 <= t.hQ.indexOf(z)?c(z,t.ubb):c(z,t.vub))?5:4;break;case 5:var K4p="selectAudioStreamStart";K4p+="ing: overriding config ";K4p+="wit";K4p+="h ";(y={minInitAudioBitrate:t.IX,minHCInitAudioBitrate:t.HX,maxInitAudioBitrate:t.tX,minRequiredAudioBuffer:t.y9},g && d.log(K4p + JSON.stringify(z)),l(z,y));n70=4;break;case 2:(y=t,z=v[x || 0].Lg);n70=1;break;case 4:var p4p=" kbps, ";p4p+="profil";p4p+="e ";p4p+=":";var M4p="selectAudioStreamStartin";M4p+="g: selected";M4p+=" stream :";t=p[u[u.Gh]](y,w,v,x);v=v[t.Ke];g && d.log(M4p + v.bitrate + p4p + v.Lg);n70=8;break;case 8:return t;break;}}},BUFFERING:f,REBUFFERING:f,PLAYING:f,PAUSED:f};u4p;g70=4;break;}}})();},function(r,b,a){var f;function c(){return new f(0);}a(10);f=a(34).Mp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var f;function c(k,m,d){return new f(d.length - 1);}a(10);f=a(34).Mp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){var o70,m,d,f,k;o70=2;for(;o70 !== 6;){switch(o70){case 4:a(6);(m=k.assert,d=k.Mp);k=a(180).default;o70=8;break;case 2:f=a(10);a(28);k=a(34);o70=4;break;case 8:var T4p="1SIYbZrN";T4p+="J";T4p+="Cp9";r.exports={STARTING:k.STARTING,BUFFERING:k.BUFFERING,REBUFFERING:k.REBUFFERING,PLAYING:c,PAUSED:c};T4p;o70=6;break;}}function c(g,h,l,n){var p70,q;p70=2;for(;p70 !== 12;){switch(p70){case 9:q=l[n];p70=8;break;case 6:--n;p70=3;break;case 2:var H4p="pla";H4p+="yer missin";H4p+="g fragme";H4p+="n";H4p+="tIndex";var k4p="Must hav";k4p+="e at lea";k4p+="st one se";k4p+="lected stre";k4p+="am";m(!f.ka(n),k4p);m(f.Ea(h.Bd),H4p);h=d(n);p70=4;break;case 8:p70=q.zb && q.zb.Sa && q.bitrate < q.zb.Sa.Ha - g.f2b?7:6;break;case 4:a000.C3p(8);var z31=a000.y3p(11,11);n=l.length - z31;p70=3;break;case 3:p70=-1 < n?9:14;break;case 7:return (h.Ke=n,h);break;case 14:h.Ke=0;return h;break;}}}})();},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(854);b.default={PLAYING:r.Cx,PAUSED:r.Cx};},function(r,b,a){var c,f,k,m,d,g,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Cx=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(34));k=r.__importDefault(a(180));m=a(101);d=r.__importDefault(a(6));g=f.default.assert;h=f.default.Mp;b.Cx=l;(function(){var q70;q70=2;for(;q70 !== 5;){switch(q70){case 2:var V4p="1SI";V4p+="YbZ";V4p+="rNJ";V4p+="Cp9";b.Cx=l=function(n,q,p,u,t,w,v){var r70,E,M,I,Q,D,F,G,J,C,H,L,B,K,x,y,z,A;r70=2;for(;r70 !== 66;){switch(r70){case 56:B+=1;r70=55;break;case 61:z.jSa=t;r70=60;break;case 6:a000.g3p(1);B=a000.F3p(A,x);0 > B && (B=0);B >= y.length && (B=y.length - 1);E=y[B].f;r70=11;break;case 38:K=void 0;E.zb && E.zb.tputTrace && (K=E.zb.tputTrace);(M=[],I=E.Y,Q=0);r70=54;break;case 54:r70=void 0 !== I?53:65;break;case 16:t=[];r70=27;break;case 59:return k.default.PLAYING.call(this,n,q,p,u,t,w,v);break;case 39:H.push(K.max);r70=38;break;case 21:B=0;r70=35;break;case 51:J=I.get(L);M.push({d:J.duration,b:J.ga});r70=49;break;case 52:r70=L < Math.min(L + n.Aub,I.length)?51:48;break;case 34:E=p[B];x=B <= u?!0:!1;(C=void 0,H=[]);E.zb && E.zb.throughput && (C=E.zb.throughput.Ha);r70=30;break;case 48:L=q.Bd;r70=47;break;case 47:r70=L < I.length?46:65;break;case 27:w=q.buffer;w=w.al - w.Cc;r70=25;break;case 30:r70=E.zb && E.zb.tdigest?29:38;break;case 73:A=x;r70=20;break;case 72:--B;r70=71;break;case 58:x=void 0;r70=57;break;case 77:r70=y[B].f === A?76:75;break;case 41:H.push(K.Tl);H.push(K.n$);r70=39;break;case 53:L=q.Bd;r70=52;break;case 17:r70=n.dEb?16:60;break;case 20:r70=void 0 !== A?19:59;break;case 71:r70=0 <= B?70:73;break;case 3:x=y[0].f;B=y[y.length - 1].f;r70=8;break;case 7:return k.default.PLAYING.call(this,n,q,p,u,t,w,v);break;case 29:K=E.zb.tdigest;H.push(K.min);H.push(K.m$);r70=43;break;case 8:r70=A < x || A > B?7:6;break;case 2:var l4p="play";l4p+="e";l4p+="r missing";l4p+=" fragmentIndex";var b4p="Must have at least";b4p+=" one sele";b4p+="cted stream";g(!c.ka(u),b4p);g(c.Ea(q.Bd),l4p);(y=n.$0b,z=new h(u),A=null !== (x=q.Bd) && void 0 !== x?x:-1);r70=3;break;case 25:v=m.hn.YUa(q.buffer.Y);v=q.buffer.Dw - v.ga;y=p[u];A=p[u];r70=21;break;case 57:r70=E < A?56:72;break;case 35:r70=B < p.length?34:61;break;case 49:L++;r70=52;break;case 76:x=B;r70=73;break;case 10:A=B;r70=20;break;case 68:r70=y[B].f < A?73:67;break;case 11:r70=E === A?10:58;break;case 70:r70=y[B].f === A?69:68;break;case 75:r70=y[B].f > A?73:74;break;case 19:z.Ke=y[A].bZb;r70=18;break;case 67:B--;r70=71;break;case 46:Q+=I.get(L).duration;r70=45;break;case 55:r70=B < y.length?77:73;break;case 65:I=void 0;q.BU && (I=d.default.time.fa() - q.BU);t.push({Bd:q.Bd,ifc:I,fdc:Q,Cac:C,ffc:H,hfc:K,bka:w,pYa:v,Xac:M,Lcc:y.bitrate,Mcc:null !== (D=y.xb) && void 0 !== D?D:0,dbc:E.bitrate,ebc:null !== (F=E.xb) && void 0 !== F?F:0,Iec:A.bitrate,Jec:null !== (G=A.xb) && void 0 !== G?G:0,RD:x});r70=62;break;case 45:L++;r70=47;break;case 60:return z;break;case 74:B++;r70=55;break;case 62:B++;r70=35;break;case 43:H.push(K.Sl);H.push(K.Fk);r70=41;break;case 69:x=B;r70=73;break;case 18:z.Rg=p[z.Ke];r70=17;break;}}};V4p;q70=5;break;}}})();},function(r,b,a){(function(){var s70,c;s70=2;for(;s70 !== 8;){switch(s70){case 3:var h4p="1S";h4p+="I";h4p+="Yb";h4p+="ZrNJCp9";r.exports={checkBuffering:function(f,k,m,d,g,h){var O7I=a000;function l(x){var u70;u70=2;for(;u70 !== 5;){switch(u70){case 2:x=d.Y.g6(f.Cc + x,void 0,!0);return (t - f.Ej) / (t + (x.offset + x.ga) - w);break;}}}var t70,n,q,p,u,w,t,v;t70=2;for(;t70 !== 37;){switch(t70){case 11:t70=!k?10:20;break;case 23:t70=n >= p?22:39;break;case 15:return (k < q && (p=Math.min(u,Math.max(h.SY * (q / k - 1),p))),{complete:!1,dJ:p,progress:0});break;case 21:var x4p="h";x4p+="ig";x4p+="ht";x4p+="p";return {complete:!0,reason:x4p};break;case 31:--h;t70=30;break;case 7:return {complete:!1,$D:!0};break;case 3:t70=n >= u?9:8;break;case 22:t70=k > q * h.c6?21:35;break;case 40:var t4p="n";t4p+="o";t4p+="re";t4p+="bu";t4p+="ff";return {complete:!0,reason:t4p};break;case 44:t70=0 < v?43:42;break;case 43:return (p=Math.min(u,n + v),{complete:!1,dJ:p,progress:l(p)});break;case 26:t70=-1 === g?25:24;break;case 27:g=d.Y.Nn(f.Bc);t70=26;break;case 2:(n=f.al - f.Cc,q=k === c.Tf);k=d.Sa || 0;(p=0,u=h.iza && !q?h.cE:h.zsa);t70=4;break;case 24:w=d.Y.Vd(g);t70=23;break;case 16:t70=!d.Y || !d.Y.length?15:27;break;case 29:q=d.Y.get(h);v=8 * v * m / k - q.$ - p;t70=44;break;case 8:t70=k <= h.dsa && (0 < k || !h.Xma)?7:6;break;case 32:O7I.C3p(13);var B31=O7I.F3p(32,17,7);p=B31 * w * m / k - f.Cc;t70=31;break;case 20:t=0;f.Y.forEach(function(x){var v70;v70=2;for(;v70 !== 1;){switch(v70){case 2:t+=x.$ + x.duration > f.Cc?x.ga:0;v70=1;break;}}});m=Math.max(m,1);q=m * d.bitrate;t70=16;break;case 25:var B4p="ou";B4p+="tofran";B4p+="ge";return {complete:!0,reason:B4p};break;case 30:t70=h > g?29:40;break;case 4:u=Math.min(h.IA,u);t70=3;break;case 6:O7I.C3p(14);var C31=O7I.y3p(213,17,12,2,12);p=h.Bj * (q?h.Hva:C31);h.ZDb && d.zb && d.zb.Ij && d.zb.Ij.Ha > h.Xra && (p+=h.Uia + d.zb.Ij.Ha * h.rua);g && (p+=g.bu * h.Via);p=u?Math.min(u,p):p;t70=11;break;case 35:p=d.Y.vd(g);h=Math.min(g + Math.floor(h.SY / p),d.Y.length - 1);v=d.Y.Vd(h);t70=32;break;case 42:v=q.offset;t70=41;break;case 10:return {complete:!1,dJ:p};break;case 39:0 < k && k < q && (p=Math.min(u,Math.max(h.SY * (q / k - 1),p)));t70=38;break;case 41:--h;t70=30;break;case 9:var r4p="max";r4p+="siz";r4p+="e";return {complete:!0,reason:r4p};break;case 38:return {complete:!1,dJ:p,progress:l(p)};break;}}}};h4p;s70=8;break;case 2:a(10);a(28);a(34);c=a(16).Kc;s70=3;break;}}})();},function(r,b,a){var f,k,m,d,g,h;function c(l,n,q){g=q;h=q.map(function(p,u){return u;});if(null === d)return (l=k(q),d=q[l].bitrate,new m(l));if(!q.length)return null;l=h.filter(function(p){return q[p].bitrate == d;})[0];return void 0 === l?(f.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new m(h[0])):new m(l);}b=a(34);a=a(6).default;f=b.console;k=b.sna;m=b.Mp;d=null;g=null;h=null;a.wwb && (a.wwb.Mj={Fb:function(){h=g=d=null;},Qwa:function(l){d=l;},ecc:function(){return {all:g,fdb:h};}});r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var c,f,k,m,d,g,h,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.ZGa=void 0;c=a(2);r=c.__importDefault(a(117));f=c.__importDefault(a(6));k=a(250);m=a(251);d=r.default.G4;g=r.default.dxb;h=r.default.jXa;l=r.default.BEb;n=r.default.jZb;new f.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(q){var w70;w70=2;function p(u,t){var x70,w;x70=2;for(;x70 !== 12;){switch(x70){case 2:w=q.call(this,u,t) || this;w.wE=function(v,x){var y70;y70=2;for(;y70 !== 1;){switch(y70){case 2:return m.wE(w.config,v,x);break;case 4:return m.wE(w.config,v,x);break;y70=1;break;}}};w.M$=function(v,x,y){var z70,z,A,B,E,D,F;z70=2;for(;z70 !== 13;){switch(z70){case 3:B=Math.pow(Math.max(1 - z / w.Sub,0),w.Nub);E=x.al - x.Cc;z70=8;break;case 2:y=null !== y && void 0 !== y?y:w.uO;F=null !== (A=null === (z=v.Sa) || void 0 === z?void 0:z.Ha) && void 0 !== A?A:0;z=null !== (E=null === (B=v[w.filter]) || void 0 === B?void 0:B.Ha) && void 0 !== E?E:F;z70=3;break;case 8:w.p0b?(x=h(w.kVa,E,1),E=h(w.jVa,E,1),x=x * B + E * (1 - B)):x=h(n(w.kVa,w.jVa,B),E,1);v=w.w5a && (null === (D=v[w.w5a]) || void 0 === D?void 0:D.TX);void 0 !== v && (D=l(w.ZRb,v),x=Math.min(x * D,1));z70=14;break;case 14:a000.g3p(15);return w.VVa(a000.y3p(F,x,1),y);break;}}};Array.isArray(u.Rt.curves) && (w.kVa=g(u.Rt.curves[0],0,0,1),w.jVa=g(u.Rt.curves[1],0,0,1));w.Sub=d(u.Rt.threshold || 6E3,1,1E5);w.Nub=d(u.Rt.gamma || 1,.1,10);x70=8;break;case 8:var j4p="1S";j4p+="I";j4p+="YbZrNJ";j4p+="Cp9";w.filter=u.Rt.filter;w.p0b=! !u.Rt.simpleScaling;u.Rt.niqrfilter && u.Rt.niqrcurve && (w.w5a=u.Rt.niqrfilter,w.ZRb=g(u.Rt.niqrcurve,1,0,4));j4p;return w;break;}}}for(;w70 !== 5;){switch(w70){case 3:c.__extends(p,q);return p;break;w70=5;break;case 2:c.__extends(p,q);return p;break;}}})(k.fK);b.ZGa=a;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.PLa=void 0;c=a(2);r=c.__importDefault(a(6));f=a(250);k=a(251);new r.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(m){var A70;A70=2;function d(g,h){var B70,l;B70=2;for(;B70 !== 9;){switch(B70){case 2:var m4p="1SIYbZ";m4p+="rNJC";m4p+="p";m4p+="9";l=m.call(this,g,h) || this;l.wE=function(n,q){var C70;C70=2;for(;C70 !== 1;){switch(C70){case 2:return k.wE(l.config,n,q);break;}}};l.M$=function(n,q,p){var D70,u;D70=2;for(;D70 !== 3;){switch(D70){case 2:p=null !== p && void 0 !== p?p:l.uO;u=d.f0b(n,l.config);n=n.Sa?n.Sa.Ha * (100 - l.TGb(q,u)) / 100 | 0:0;D70=4;break;case 14:return l.VVa(n,p);break;D70=3;break;case 4:return l.VVa(n,p);break;}}};m4p;return l;break;}}}for(;A70 !== 3;){switch(A70){case 2:c.__extends(d,m);d.f0b=function(g,h){var E70,l,n;E70=2;for(;E70 !== 4;){switch(E70){case 2:n=! !g.ws;h.iya && (null === (l=g.Sa) || void 0 === l?void 0:l.Ha) < h.QU && (n=!0);return n;break;}}};d.prototype.TGb=function(g,h){var F70,l,n;F70=2;for(;F70 !== 3;){switch(F70){case 2:(l=this.config,n=h?l.gla:l.Ija);h=h?l.hla:l.Kja;Array.isArray(h) && (n=k.iXa(h,g.al - g.Cc,l.Jja));return n;break;}}};return d;break;}}})(f.fK);b.PLa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.PFa=void 0;r=(function(){function a(c,f,k,m,d,g,h,l){this.ib=c;this.MSa=f;this.config=k;this.console=m;this.mediaType=d;this.Gb=g;this.Ua=h;this.bc=l;this.yr=this.ei=!1;}a.prototype.zM=function(c,f){!this.ib.H.vv || this.bc.IL || this.bc.h3 || (c-=this.ib.Ee,this.ei && !this.yr && c + this.config.Lbb >= f && 0 === this.Ua.mE && 0 === this.Ua.et && 0 === this.Ua.PWb && (f=this.bc.Ge.R.Qb,c=this.bc.EN(),f + 1 < c || (this.MSa[this.mediaType].mbb || this.Gb.Ppb(this.mediaType),this.yr=!0,this.MSa[this.mediaType].Y9())));};return a;})();b.PFa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.NFa=void 0;c=a(2);f=a(20);r=a(397);k=a(391);a=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.ACb=function(g){m.prototype.v8.call(this,{value:g});};d.prototype.L1a=function(){return !0;};d.prototype.Jxa=function(){};d.prototype.v8=function(g){m.prototype.v8.call(this,g);g.done && (g=this.Ry.e5,f.ia && this.I.trace("Requests drained",{Dac:g && g.H.id}),(g=g && g.kb(this.Wg)) && g instanceof k.l1 && g.zM(this.Eg.zoa() || 0));};return d;})(r.wca);b.NFa=a;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.QAa=void 0;c=a(2);f=a(150);k=a(20);r=(function(){function m(d,g,h){this.I=d;this.onb=g;this.Wg=h;this.D2=0;this.X2=!1;this.LS=[];this.aG=void 0;k.ia && d.trace("BranchRequestIterator [" + this.Wg + "]: created");}Object.defineProperties(m.prototype,{hBb:{get:function(){return this.D2;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{e5:{get:function(){return this.dOa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{xk:{get:function(){return this.X2;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{iVa:{get:function(){return this.El?this.El.sA?"Complete":this.El.hva?"WaitingForBranch":void 0 !== this.aG && 0 !== this.aG?"In Policy " + this.LS[this.aG].name:"WaitingForRequest":"Uninitialized;Prior:" + this.aPa;},enumerable:!1,configurable:!0}});m.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,g,h,l;return c.__generator(this,function(n){switch(n.label){case 0:d=this.El;if(!d)return [3,6];this.aG=void 0;return [4,d.next()];case 1:(g=n.Ac(),h=0,n.label=2);case 2:if(!(h < this.LS.length))return [3,5];this.aG=h;l=this.LS[h];return [4,l.process(g)];case 3:(g=n.Ac(),n.label=4);case 4:return (h++,[3,2]);case 5:this.aG=void 0;if(g.done || this.El !== d)return [2,{done:!0}];this.D2++;g.value.LQa();return [2,{done:!1,value:g.value.value}];case 6:return [2,f.AsyncIterator.mpa()];}});});};m.prototype.MYb=function(){this.Qab();this.hXb();};m.prototype.Qab=function(){var d;if(this.El){this.aPa=this.iVa;d=this.El;d && d.Mh();this.LS.forEach(function(g){return g.reset();});d && k.ia && this.I.trace("BranchRequestIterator [" + this.Wg + "]: Disposing iterator that was on branch ",this.e5 && this.e5.H.id);this.X2=!1;this.aG=this.El=void 0;}};m.prototype.cRa=function(d){this.LS.push(d);};m.prototype.hXb=function(){var d,g,h,l;d=this;if(!this.X2){g=this.I;h=this.onb;l=this.Wg;this.D2=0;this.aPa=this.dOa=void 0;this.El=f.flatten(f.map(h.E_a(),function(n){return c.__awaiter(d,void 0,void 0,function(){var q;return c.__generator(this,function(p){switch(p.label){case 0:return (this.dOa=n,this.D2=0,k.ia && g.trace("BranchRequestIterator [" + this.Wg + "]: new branch " + n.H.id),[4,n.bA(l)]);case 1:if(q=p.Ac())return [2,{value:q}];k.ia && g.error("BranchRequestIterator [" + this.Wg + "]: skipping branch " + n.H.id);return [2,{value:[]}];}});});},g),g);this.X2=!0;}};return m;})();b.QAa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.LKa=void 0;c=a(2);f=a(863);k=a(864);r=(function(){function m(d,g,h,l,n,q,p,u){this.mediaType=d;this.Ia=h;this.events=n;this.q_=[];1 === this.mediaType && this.q_.push(new k.HLa(d,g,h,l,n,q,p,u,2));this.q_.push(new f.gMa(d,g,h,l,n,q,p,"stream",1));}m.prototype.reset=function(){this.q_.forEach(function(d){return d.reset();});};m.prototype.close=function(){this.q_.forEach(function(d){return d.close();});};m.prototype.Ti=function(d){return c.__read(this.q_,1)[0].Ti(d);};return m;})();b.LKa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.gMa=void 0;c=a(2);f=a(4);k=a(20);r=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.MA=function(g){var h,l;h=g.stream;l=g.Pg;g=g.ye;f.assert(void 0 !== l);this.ZQa(h,l,g) && k.ia && this.trace("stream " + h.id + ", " + h.bitrate + "kbit/s @ " + l.U + "ms");};d.prototype.CWa=function(g,h){var l,n,q;n=g.SJ;q=this.Ia.pp(h);f.assert(void 0 !== q);k.ia && this.trace("emitStreamPresentingEvent @ " + g.timestamp.U + "ms for " + (null === n || void 0 === n?void 0:n.id) + ", " + ((null === n || void 0 === n?void 0:n.bitrate) + "kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:this.mediaType,playerTimestamp:h,position:q,trackIndex:null === (l=null === n || void 0 === n?void 0:n.track) || void 0 === l?void 0:l.QC,streamIndex:null === n || void 0 === n?void 0:n.Pf,stream:n});};return d;})(a(398).mfa);b.gMa=r;},function(r,b,a){var c,f,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.HLa=void 0;c=a(2);f=a(20);k=a(4);m=a(9);r=(function(d){function g(h,l,n,q,p,u,t,w,v){h=d.call(this,h,l,n,q,p,u,t,"segment",v) || this;h.Ix=w;return h;}c.__extends(g,d);g.prototype.MA=function(h){var l,n,q;n=h.Pg;h=h.ye;k.assert(void 0 !== n);q=null === (l=this.Ia.pp(n)) || void 0 === l?void 0:l.ha;k.assert(void 0 !== q);this.ZQa(q,n,h) && f.ia && this.trace("segment " + q + " @ " + n.U + "ms");};g.prototype.CWa=function(h,l){var n,q;n=h.SJ;q=this.Ia.pp(l);k.assert(void 0 !== q);f.ia && this.trace("emitSegmentPresentingEvent @ " + h.timestamp.U + "ms for segment " + n);q.ha !== n && (f.ia && this.console.warn("player position:",q,"not equal to trackedElement:",n),q={ha:n,offset:m.O.eb});h={type:"segmentPresenting",playerTimestamp:l,position:q};this.Ix && (h.metrics=this.Ix.Foa(n));f.ia && this.trace("segmentPresenting: " + JSON.stringify(h));this.events.emit(h.type,h);};return g;})(a(398).mfa);b.HLa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.KDa=void 0;c=a(2);f=a(20);k=a(67);r=(function(){function m(d,g,h){this.Me=d;this.iRb=g;this.I=h;}Object.defineProperties(m.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});m.prototype.waitUntil=function(d){var g;d=k.Vba(this.Me,d,!0);g=d.promise;this.gsb=d.mr;return g;};m.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,h;return c.__generator(this,function(l){switch(l.label){case 0:if(d.done)return [3,2];g=d.value.value;if(!g.yna)return [3,2];h=g.Pg.Ka(this.iRb);f.ia && this.I.trace("[" + g.mediaType + "] JIT: waiting until playertime >= " + h.U,"to append next request " + g.toString());return [4,this.waitUntil(h)];case 1:(l.Ac(),f.ia && this.I.trace("[" + g.mediaType + "] JIT: now appending request " + g.toString()),l.label=2);case 2:return [2,d];}});});};m.prototype.reset=function(){var d;null === (d=this.gsb) || void 0 === d?void 0:d.Ib();};return m;})();b.KDa=r;},function(r,b,a){var c,f,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.CIa=void 0;c=a(2);f=a(20);k=a(4);m=a(67);r=(function(){function d(g,h,l,n){var q;q=this;this.Me=g;this.gUb=h;this.cua=l;this.I=n;g.za.on("stopStart",function(){return q.vxb();});}Object.defineProperties(d.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});d.prototype.vxb=function(){var g,h;h=this.Me.za;this.L4=h.xk?h.currentTime:void 0;this.eU=this.OV=void 0;f.ia && this.I.trace("PacingThrottler: clock reset " + (null === (g=this.L4) || void 0 === g?void 0:g.U));};d.prototype.waitUntil=function(g){var h;g=m.Vba(this.Me,g,!0);h=g.promise;this.f5b=g.mr;return h;};d.prototype.process=function(g){return c.__awaiter(this,void 0,void 0,function(){var h,l,n,q;return c.__generator(this,function(p){switch(p.label){case 0:if(g.done)return [3,9];h=g.value.value;k.assert(h.Pg);l=this.Me.za;if(!this.OV || !this.eU)return [3,8];if(!this.eU.greaterThan(this.cua))return [3,6];if(!this.L4)return [3,3];n=h.Pg.Ka(this.L4).Ka(this.cua);q=this.L4.add(n.Ml(this.gUb));if(!q.greaterThan(l.currentTime))return [3,2];f.ia && this.I.trace("PacingThrottler: waiting until " + q.U + "ms for mediaRequest @" + (h.Pg.U + "ms, current time ") + l.currentTime.U);return [4,this.waitUntil(q)];case 1:(p.Ac(),p.label=2);case 2:return [3,5];case 3:n=h.Pg.Ka(this.OV);if(!n.greaterThan(this.cua))return [3,5];f.ia && this.I.trace("PacingThrottler: (buffering) waiting until " + this.OV.U + "ms for mediaRequest @" + (h.Pg.U + "ms, current time ") + l.currentTime.U);return [4,this.waitUntil(this.OV)];case 4:(p.Ac(),p.label=5);case 5:return [3,7];case 6:(this.eU=this.eU.add(h.jH),p.label=7);case 7:return [3,9];case 8:(this.OV=h.Pg,this.eU=h.jH,p.label=9);case 9:return [2,g];}});});};d.prototype.reset=function(){var g;null === (g=this.f5b) || void 0 === g?void 0:g.Ib();};return d;})();b.CIa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.BLa=void 0;r=(function(){function a(c,f,k,m,d,g,h,l,n,q){var p;p=this;this.id=c;this.R=f;this.$=k;this.fV=d;this.Ll=g;this.vv=h;this.zq=l;this.qp=n;this.ce=q;this.ON=function(u){var t,w;return (null === (w=null === (t=p.Ll) || void 0 === t?void 0:t[u]) || void 0 === w?void 0:w.S2b) || p.ce;};this.La=m || Infinity;}Object.defineProperties(a.prototype,{S:{get:function(){return this.R.S;},enumerable:!1,configurable:!0}});a.prototype.bZa=function(){var c,f,k;c=this;k=Object.keys(this.Ll || ({})).filter(function(m){var d,g;return !(null === (g=null === (d=c.Ll) || void 0 === d?void 0:d[m]) || void 0 === g || !g.weight);});return k.length?null !== (f=k.map(this.ON).reduce(function(m,d){return m === d?d:void 0;})) && void 0 !== f?f:this.ce:this.ce;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.qp + " viewableId: " + this.R.S + " pts: " + this.$ + "-" + this.La + " defaultKey: " + this.fV + " dests: " + JSON.stringify(this.Ll) + " terminal: " + ! !this.vv;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.R.S,"startPts:":this.$,endPts:this.La,defaultKey:this.fV,"dests:":this.Ll,terminal:! !this.vv,playlistSegmentId:this.qp};};return a;})();b.BLa=r;},function(r,b,a){var c,f,k,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Tza=void 0;r=a(2);c=r.__importStar(a(10));f=a(181);k=r.__importDefault(a(869));m=a(370);d=r.__importDefault(a(28));g=r.__importDefault(a(6));a=(function(){var G70;G70=2;for(;G70 !== 27;){switch(G70){case 13:h.prototype.lTb=function(l){var V70;V70=2;for(;V70 !== 1;){switch(V70){case 2:this.J.dN && l === d.default.Wa.Pb && (this.kya=this.jya=this.qab=this.rab=this.H6a=this.I6a=0);V70=1;break;}}};h.prototype.jTb=function(l,n){var W70;W70=2;for(;W70 !== 1;){switch(W70){case 2:l === d.default.Wa.Pb && (this.X4b=n);W70=1;break;}}};h.prototype.Kwb=function(l){var X70,p,n,q,u,t;X70=2;for(;X70 !== 6;){switch(X70){case 1:var a4p="n";a4p+="o";a4p+="ne";X70=a4p !== n.PE && !0 !== this.ws && l.state <= n.ysa?5:6;break;case 5:p=this.ng.get();X70=4;break;case 4:var q4p="i";q4p+="q";q4p+="r";X70=q4p === n.PE?3:8;break;case 2:n=this.J;X70=1;break;case 3:u=this.EOa(p);X70=9;break;case 9:void 0 !== u && void 0 !== u.Sl && void 0 !== u.Fk && void 0 !== u.Tl && (q=(u.Tl - u.Sl) / u.Fk);X70=8;break;case 8:t=n.NX?d.default.Sf.dy:d.default.Sf.WB;p && p.confidence >= t && this.nha(n.PE,p,u,q) && (this.ws=!0,this.R4=l.state);X70=6;break;}}};G70=10;break;case 7:h.prototype.wsb=function(l,n,q,p,u,t){var R70,w;R70=2;for(;R70 !== 5;){switch(R70){case 2:w=this.J;w.Uba && this.Fqb(n) || !q || !p || !(q=t?Math.min(q,p,t):Math.min(q,p)) || (this.ng.get(),p=this.wb.Pa,l=p.Cw(p.Yc,l),n.track.Gu() && l > w.Uja && q === u?(w.set?(w.set({pipelineEnabled:!0}),w.set({maxParallelConnections:1}),w.set({maxActiveRequestsPerSession:2}),w.set({maxPendingBufferLen:500})):(w.Sq=!0,w.vO=1,w.dx=2,w.Z8=500),n.track.$$({type:n.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:w.AQ,minRequestSize:w.CO}),this.jya++,w.Uba && (this.o3=!0)):w.Sq && !n.Gu() && (l < w.Tja || q !== u) && (w.set?(w.set({pipelineEnabled:!0}),w.set({maxParallelConnections:3}),w.set({maxActiveRequestsPerSession:3}),w.set({maxPendingBufferLen:12E3})):(w.Sq=!0,w.vO=3,w.dx=3,w.Z8=12E3),n.track.$$({type:n.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:w.AQ,minRequestSize:w.CO}),this.kya++,w.Uba && (this.p3=!0)));R70=5;break;}}};h.prototype.zsb=function(l,n){var S70,q,p,u;S70=2;for(;S70 !== 6;){switch(S70){case 2:q=this.J;S70=1;break;case 5:void 0 === this.tn && (this.tn={startTime:g.default.time.fa(),kU:[],H_:[],yra:void 0,rra:void 0});q=Math.floor((g.default.time.fa() - this.tn.startTime) / q.qM);(p=this.tn.rra,u=this.tn.yra?q - this.tn.yra - 1:q);S70=9;break;case 9:S70=void 0 === p || q > p?8:7;break;case 8:(this.tn.kU[u]=l,this.tn.H_[u]=n);S70=7;break;case 7:this.tn.rra=q;S70=6;break;case 1:S70=this.fPa?5:6;break;}}};h.prototype.YSb=function(){var T70,U70,l;T70=2;for(;T70 !== 4;){switch(T70){case 5:try{U70=2;for(;U70 !== 1;){switch(U70){case 2:(this.ng.TXb(),this.SPa.fd());U70=1;break;}}}catch(n){var W4p="Hindsight: Error during c";W4p+="lean u";W4p+="p:";W4p+=" ";a000.g3p(2);l.Gb.Yn(a000.y3p(n,W4p));}T70=4;break;case 9:l=this.wb;T70=2;break;T70=1;break;case 1:T70=this.mG.gs?5:4;break;case 2:l=this.wb;T70=1;break;}}};G70=13;break;case 2:Object.defineProperties(h.prototype,{i8:{get:function(){var K70;K70=2;for(;K70 !== 1;){switch(K70){case 2:return this.mha;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{rva:{get:function(){var L70;L70=2;for(;L70 !== 1;){switch(L70){case 2:return this.SPa;break;}}},enumerable:!1,configurable:!0}});h.prototype.G$a=function(l,n,q){var M70;M70=2;for(;M70 !== 4;){switch(M70){case 2:this.JD=l;c.ka(n) || (this.F0a=n);c.ka(q) || (this.E0a=q);M70=4;break;}}};h.prototype.Tya=function(l){var N70;N70=2;for(;N70 !== 5;){switch(N70){case 2:this.J=l;this.i3.Tya(l);N70=5;break;}}};h.prototype.nha=function(l,n,q,p){var O70,u;O70=2;for(;O70 !== 7;){switch(O70){case 4:return ! !(n.Sa && q && c.Ea(p) && n.Sa.Ha < u.QU && p > u.Ida);break;case 1:var n4p="i";n4p+="q";n4p+="r";O70=l === n4p?5:9;break;case 2:u=this.J;O70=1;break;case 3:return !1;break;case 9:var d4p="a";d4p+="v";d4p+="g";O70=l === d4p?8:3;break;case 5:O70=void 0 !== p?4:3;break;case 8:return n.Sa?n.Sa.Ha < u.QU:!0;break;}}};h.prototype.IN=function(l){var P70;P70=2;for(;P70 !== 1;){switch(P70){case 2:return 1 === l?this.i3.M$:this.i3.wE;break;}}};h.prototype.MP=function(l){var Q70;Q70=2;for(;Q70 !== 1;){switch(Q70){case 2:this.i3.MP(l);Q70=1;break;case 4:this.i3.MP(l);Q70=5;break;Q70=1;break;}}};G70=7;break;case 18:h.prototype.Fqb=function(l){var f80,n;f80=2;for(;f80 !== 6;){switch(f80){case 2:n=this.J;f80=1;break;case 3:f80=this.p3 && n.Sq && !l.Gu()?9:8;break;case 5:return !0;break;case 1:f80=this.o3 && l.Gu()?5:4;break;case 4:this.o3 && (this.o3=!1);f80=3;break;case 9:return !0;break;case 8:this.p3 && (this.p3=!1);return !1;break;}}};h.prototype.EOa=function(l){var g80,h80;g80=2;for(;g80 !== 4;){switch(g80){case 2:var U4p="tdig";U4p+="e";U4p+="s";U4p+="t";h80=this.J.Wpa;g80=h80 === U4p?1:3;break;case 1:l=l.Nk;g80=5;break;case 5:return l;break;case 3:g80=9;break;case 14:return l;break;g80=4;break;case 9:l=l.Du && l.Du.w$;g80=5;break;}}};h.prototype.Sob=function(l,n,q){var i80,p;i80=2;for(;i80 !== 3;){switch(i80){case 2:p=this.J;this.nha(p.PE,l,n,q)?this.ws=!0:this.ws=!1;this.R4=0;this.nha(p.Zra,l,n,q) && (this.nNb=!0);i80=3;break;}}};return h;break;case 10:h.prototype.Vsb=function(l){var Y70;Y70=2;for(;Y70 !== 1;){switch(Y70){case 2:l.ws=this.ws;Y70=1;break;}}};h.prototype.jFb=function(l){var Z70,w,n,q,p,u,t,v,x;Z70=2;for(;Z70 !== 25;){switch(Z70){case 14:n.histdiscbw=this.JD;w=this.E0a;Z70=12;break;case 7:n.ccs=this.R4;n.isLowEnd=this.nNb;Z70=14;break;case 2:var Q4p="star";Q4p+="tpl";Q4p+="ay";var i4p="l";i4p+="o";i4p+="g";i4p+="dat";i4p+="a";(n={},q=this.J,p=this.wb,u={type:i4p,target:Q4p,fields:{}});u.fields=n;Object.keys(l).forEach(function(y){var a80;a80=2;for(;a80 !== 1;){switch(a80){case 2:n[y]=l[y];a80=1;break;case 4:n[y]=l[y];a80=0;break;a80=1;break;}}});t=this.ng.get();t && t.Sa && (t=t.Sa.Ha);n.actualbw=t;n.isConserv=this.ws;Z70=7;break;case 11:v=function(y){var b80;b80=2;for(;b80 !== 1;){switch(b80){case 2:return c.Ea(y)?Number(y).toFixed(2):-1;break;}}};t=[v(w.min || void 0),v(w.m$ || void 0),v(w.Sl || void 0),v(w.Fk || void 0),v(w.Tl || void 0),v(w.n$ || void 0),v(w.max || void 0)];x=[];w=c.isArray(w.Ui) && w.Ui.reduce(function(y,z){var c80,A;c80=2;for(;c80 !== 3;){switch(c80){case 2:A=v(z.vg || void 0);z=v(z.n || void 0);-1 < A && -1 < z && y.push({mean:A,n:z});return y;break;}}},x);n.histtdc=w;Z70=17;break;case 17:n.histtd=t;Z70=16;break;case 26:p.emit(u.type,u);Z70=25;break;case 12:Z70=w?11:16;break;case 16:n.histage=this.F0a;q.Fma && this.zL && (n.ishighstable=this.mha,n.avg_avtp=this.zL.Gub,n.avg_ne=Number(this.zL.Iub).toFixed(4));p.qc && (q=g.default.Zo(),n.maxAudioBufferAllowedBytes=q[d.default.Wa.Xb],n.maxVideoBufferAllowedBytes=q[d.default.Wa.Pb]);Z70=26;break;}}};h.prototype.kFb=function(l){var d80,n,q,p,u,t,w,v;d80=2;for(;d80 !== 6;){switch(d80){case 9:var P4p="n";P4p+="o";P4p+="n";P4p+="e";l.location={responseTime:w,httpResponseTime:v,bandwidth:t,confidence:p.confidence,name:this.X4b};this.fPa && (l.bt={startTime:this.tn.startTime,audioMs:this.tn.kU,videoMs:this.tn.H_},this.tn.kU=[],this.tn.H_=[],this.tn.yra=this.tn.rra);P4p !== q.PE && (l.isConserv=this.ws,l.ccs=this.R4);d80=6;break;case 2:(n=this,q=this.J,p=this.ng.get(),u=[]);[d.default.Wa.Pb,d.default.Wa.Xb].forEach(function(x){var e80,y;e80=2;for(;e80 !== 4;){switch(e80){case 1:y=n.wb.I_a(x);void 0 !== y && (x === d.default.Wa.Pb && (q.dN && (y.parallelDownloadMs=n.I6a,y.parallelDownloadBytes=n.H6a,y.singleDownloadMs=n.rab,y.singleDownloadBytes=n.qab,y.switchFromParallelToSingle=n.jya,y.switchFromSingleToParallel=n.kya),p && p.confidence && p.Sa && (y.asetput=p.Sa,y.aseiqr=p.Du,y.tdigest=p.Nk && p.Nk.$z() || void 0),p && p.avtp && (y.avtp=p.avtp.Ha)),u.push(y));e80=4;break;case 2:e80=n.oc(x)?1:4;break;}}});l.stat=u;(t=0,w=0,v=0);p.confidence && (t=p.Sa?p.Sa.Ha:0,w=p.Ij?p.Ij.Ha:0,v=p.Cu?p.Cu.Ha:0);d80=9;break;}}};G70=18;break;}}function h(l,n,q,p,u,t,w,v,x){var H70,y,J70,z,I70;H70=2;for(;H70 !== 32;){switch(H70){case 16:H70=this.mG.gs?15:27;break;case 21:this.zL=new m.FEa(w,u,this.I);H70=23;break;case 2:this.I=n;this.ng=p;this.oc=v;this.mG=x;H70=3;break;case 23:this.mha=this.zL.i8();H70=33;break;case 20:void 0 !== n && void 0 !== n.Sl && void 0 !== n.Fk && void 0 !== n.Tl && (y=(n.Tl - n.Sl) / n.Fk);p=u.NX?d.default.Sf.dy:d.default.Sf.WB;q && q.confidence >= p && q.Sa && y && this.Sob(q,n,y);H70=16;break;case 27:this.mha=!1;H70=26;break;case 26:H70=w && 1 < w.length && u.Fma?25:33;break;case 24:this.zL=new m.Eda(w,u,this.I);H70=23;break;case 33:u.Uba && (this.p3=this.o3=!1);H70=32;break;case 3:var X4p="1S";X4p+="IYb";X4p+="ZrNJC";X4p+="p";X4p+="9";X4p;this.wb=l;this.Ub=this.I.warn.bind(this.I);this.An=this.I.trace.bind(this.I);this.J=u;a000.g3p(1);var D31=a000.y3p(19000000,18000000);this.fPa=0 === Math.floor(D31 * Math.random()) % u.Vja;this.JD=this.E0a=this.F0a=this.R4=this.ws=void 0;H70=12;break;case 12:this.kya=this.qab=this.rab=this.jya=this.H6a=this.I6a=0;this.i3=f.IN(u,t);n=this.EOa(q);H70=20;break;case 35:H70=34;break;case 15:try{J70=2;for(;J70 !== 4;){switch(J70){case 2:z=new k.default(l,this.I,{bufferSize:g.default.Zo()},u);this.ng.Fsb(z);J70=5;break;case 5:this.SPa=z;J70=4;break;case 7:this.SPa=z;J70=8;break;J70=4;break;}}}catch(A){var v4p="Hindsi";v4p+="ght: Er";v4p+="ror when crea";v4p+="ting QoEEvalu";v4p+="ator: ";a000.g3p(2);l.Gb.Yn(a000.F3p(A,v4p));}H70=27;break;case 22:var s4p="L";s4p+="R";H70=I70 === s4p?21:35;break;case 34:this.zL=new m.Eda(w,u,this.I);H70=23;break;case 25:var y4p="b";y4p+="a";y4p+="seli";y4p+="n";y4p+="e";I70=u.iLb;H70=I70 === y4p?24:22;break;}}}})();b.Tza=a;},function(r,b,a){var f,k,m;function c(d,g,h,l){this.wb=d;this.I=g;this.Vk=this.I.error.bind(this.I);this.Ub=this.I.warn.bind(this.I);this.An=this.I.trace.bind(this.I);this.Ig=this.I.log.bind(this.I);this.Zmb=new k();this.J=l;this.g3=[];this.w3=void 0;d=l.B7;f.call(this,d.numB * d.bSizeMs,d.bSizeMs);this.hha=!0;}a(28);b=a(6).default;f=a(144);a(400);k=a(870);new b.Console("ASEJS_QOE_EVAL","media|asejs");m=a(128).NKa || a(128);c.prototype=Object.create(f.prototype);c.prototype.add=function(d,g,h){this.w3 || (this.w3=g);f.prototype.add.call(this,d,g,h);};c.prototype.eHb=function(){var d;if(0 !== this.g3.length){d=[];this.g3.forEach(function(g){g && g.hM && d.push(g.$z());});return d;}};c.prototype.fd=function(){this.g3=[];};c.prototype.XJb=function(){var d,g,h;d=this.get(this.J.B7.fillS);if(0 === d[0] || null === d[0]){d.some(function(n,q){if(n)return (g=n,h=q,!0);});if(g)for(var l=0;l < h;l++){d[l]=g;}}d={trace:d,timestamp:this.w3,jz:this.Jd};this.hha=!1;f.prototype.reset.call(this);this.hha=!0;this.w3=void 0;return d;};c.prototype.Tma=function(d){var g,h,l,n,q,p;if(d && !d.hM){h=d.gu.e2a;h && (d.Gva=this.eja(d),d.Y$=!1);if((g=this.XJb()) && g.trace && g.trace.length){l=d.Lj.tE;n=g.timestamp;if(n > l){q=g.jz;p=g.trace[0];l=Math.ceil((n - l) / q);g.timestamp=n - l * q;for(n=0;n < l;n++){g.trace.splice(0,0,p);}}g.trace.length && g.trace.pop();}d.zB=g;g.trace && 0 === g.trace.length || void 0 === g.timestamp || (g=this.Jvb(d),d.o6a=g,h && g && (d.Y$=g.RD),d.hM=!0,this.g3.push(d));}};c.prototype.Jvb=function(d){var q,p,u,t;function g(w){var y;for(var v,x=0;x < w.length;x++){y=w[x].reduce(function(z,A){return A.xb?z + 1:z;},0);if(void 0 === v)v=y;else if(y !== v)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(y > v?y - v:v - y) * Math.LOG2E) + "]");}}for(var h=this.J.A7,l={RD:!1,X7:!1,vDb:0},n=0;n < h.length;n++){q=h[n];p=this.Zmb.create(q);if(p){u=m.now();t={};try{g(d.Ox);t=p(d);}catch(w){t.kN=w;}t.stb=m.now() - u;l[q]=t;l.RD=l.RD || t.RD;l.X7=l.X7 || t.X7;l.kN=l.kN || t.kN;}}return l;};c.prototype.eja=function(d){var g;d=d.gu;g="";1E3 > d.po && (g+=d.Pdb);1E3 > d.Sr && (g=g + ("" !== g?",":"") + d.PRa);1E3 <= d.po && 1E3 <= d.Sr && (g="media");return g;};r.exports=c;},function(r,b,a){var k;function c(){}function f(m,d,g){return function(h){h.dr=d;h.compare=g;return m(h);};}k=a(871);c.prototype.constructor=c;c.prototype.create=function(m){var d;switch(m){case "htwbr":break;case "htwbr-dlvmaf":d=f(k.zW,!1,k.YTa);break;case "htwbr-segvmaf":d=f(k.zW,!0,k.YTa);break;case "hvmafgr":d=f(k.zW,!1,k.Zka);break;case "hvmafgr-dlvmaf":d=f(k.zW,!1,k.Zka);break;case "hvmafgr-segvmaf":d=f(k.zW,!0,k.Zka);break;case "hvmafdp":d=f(k.dp,!1);break;case "hvmafdp-dlvmaf":d=f(k.dp,!1);break;case "hvmafdp-segvmaf":d=f(k.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return d;};r.exports=c;},function(r,b,a){var p,u,t,w,v,x,y,z,A,B,E;function c(D){var F,G,C;F=D.zB;G=D.Lj;C=D.gu.La - G.$;F.timestamp > G.tE && B.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + F.timestamp + " and " + G.tE);D=[];for(var H,K=F.timestamp,M=0;M < F.trace.length;M++){K >= G.tE && (D.push(F.trace[M]),H=F.trace[M]);K+=F.jz;C-=F.jz;}for(;0 < C;){D.push(H);C-=F.jz;}G=F.jz;F=D.length;if(0 === F)F=[];else {for(G=[G / 1E3];2 * G.length <= F;){G=G.concat(G);}G.length < F && (G=G.concat(G.slice(0,F - G.length)));F=G;}return new x(D,F,!1);}function f(D,F,G){F=D.Ox[F][G];return F.ga + D.Lj.rU * F.duration / 8;}function k(D){var F,G,C,H,K,M,I,Q,L;F=D.Lj;G=F.Xm;C=D.gu;H=C.Kw;M=[];for(C=H=Math.min(C.jI,H);C >= G;C--){E.update("backward step loop");I=K=D.Ox[0][C].$ - D.Lj.$;C < H && (p(void 0 !== M[C + 1],"expect solution[(fragIndex + 1)] !== undefined"),I=Math.min(M[C + 1].startTime,I));Q=f(D,0,C);L=q(Q,I,D.zB,F.tE);if(0 > L)throw Error("Infeasible: reason throughput at min bitrate");Q={startTime:L,endTime:I,g5:I,VCb:K,HP:Q,Ke:0};Q.jYa=C;M[C]=Q;}F=0;for(C=G;C <= H;C++){F+=M[C].HP;M[C].oma=F;}if(!m(D,M,G,H))throw Error("Infeasible: reason buffer capacity at min bitrate");return {RD:!0,ota:0 == M.length,jr:M};}function m(D,F,G,C){var H,K,M,I,Q,L,J,N,O,P;for(;G <= C;G++){E.update("checkBuffer");H=D;K=F;M=G;E.update("check buffer vacancy");I=H.Lj;Q=H.Ox[I.MW];L=H.LSa;J=!0;H=H.EFb(Math.floor(K[M].startTime) + I.$);N=I.jt + K[M].oma;O=0;P=0;if(H.index < I.Xm){for(var S=0,U=I.uB;U < H.index;U++){S+=Q[U].ga;}O+=S;S=0;for(U=I.uB;U < H.index;U++){S+=Q[U].duration;}P+=S;}else (O+=I.jt,P+=I.po);S=0;for(U=I.Xm;U < H.index;U++){S+=K[U].HP;}O+=S;S=0;for(U=I.Xm;U < H.index;U++){S+=Q[K[U].jYa].duration;}P+=S;H=N - O;I=Q[M].$ + Q[M].duration - I.$ - P;if(I >= L.IA || H >= L.Cdb)J=!1;K[M].TSa=H;K[M].bka=I;if(!J)return !1;}return !0;}function d(D){D=D.Lj.Y;for(var F=[],G,C=0;C < D.length;C++){E.update("get prebuffered chunks loop");G=D[C];p(void 0 !== G.xb,"expect frag.vmaf !== undefined");G=new t(G.ga,G.duration / 1E3,G.xb);F.push(G);}return F;}function g(D){var F,G,C,H,K,M,L;F=D.Ox;G=D.Lj;C=D.gu;H=C.Kw;K=D.ae;M=[];H=Math.min(C.jI,H);for(var I=0;I < F.length;I++){C=[];for(var Q=G.Xm;Q <= H;Q++){E.update("get chunk map from play segment");L=F[I][Q];L=new t(L.ga,L.duration / 1E3,D.dr && void 0 !== L.xb?L.xb:K[I].xb);C.push(L);}M.push(C);}return new w(M,!1);}function h(D,F,G){p(D.QN() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var C=0,H=0,K,M,I=0;I < F.length;I++){E.update("calculate twvmaf");p(F[I].O0a === I,"expect stream_choices[idx].i_epoch === idx");M=D.vm[F[I].G7][I];K=void 0 !== G?G(M.quality):M.quality;M=M.Um;C+=K * M;H+=M;}return {bWa:C / H,aWa:1E3 * H};}function l(D,F,G){p(D.QN() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var C=0,H=0,K=G.Lj.rU,M,I=0,Q=0,L=0;L < F.length;L++){E.update("calculate Bytes");p(F[L].O0a === L,"expect stream_choices[idx].i_epoch === idx");M=D.vm[F[L].G7][L];C+=M.ga;H+=K * M.Um * 1E3 / 8;I+=M.Um * G.ae[F[L].G7].bitrate;Q+=M.Um;}return {$Va:C,XVa:H,ZVa:0 < Q?1 * I / Q:0};}function n(D,F,G){F=Math.min(D.length - 1,F);F=Math.max(0,F);return D[F] * G / 8;}function q(D,F,G,C){var H,K,M,I,Q;H=G.trace;K=1 * G.jz;M=F + C - G.timestamp;I=Math.floor(1 * M / K);F=(M - I * K) / K * n(H,I,K);if(F >= D)Q=M - 1 * D / F * (M - I * K);else for(M=I;F < D;){E.update("find download start time");--M;if(0 > M)return -1;I=n(H,M,K);if(F + I >= D){D=(D - F) / I * K;Q=(M + 1) * K - D;break;}F+=I;}return Q + G.timestamp - C;}p=a(4).assert;u=a(872);t=a(401).agb;w=a(401).bgb;v=a(873).phb;x=a(402).vmb;y=a(252).VAa;z=a(243).o1;A=a(85).default;B=new (a(6).default.Console)("ASEJS_QOE_EVAL","media|asejs");E=a(128).NKa || a(128);r.exports={zW:function(D){var F,G,C,H,K,M,I,Q,L,J,N,O,P,S,U,Z,ja,ya,ra,Y,pa,ea,sa,la,Ka,Ua,$a,Za;B.debug("greedy DEBUG false");E.cxa("greedy-" + (D.dr?"segvmaf":"dlvmaf") + ": ");try{D.iI=[];F=D.Ox;G=D.Lj;C=D.gu;H=C.Kw;K=D.ae;H=Math.min(C.jI,H);for(I=G.Xm;I <= H;I++){Q=new u();D.iI[I]=Q;F[0][I].gka=F[0][I].ga;for(M=1;M < F.length;M++){F[M][I].gka=F[M][I].ga;}M=0;L=F[M][I];L.aE=Infinity;L.Pf=M;for(M=1;M < F.length;M++){L=F[M][I];L.Pf=M;J=Q.e8()?F[0][I]:Q.FUb();N=8 * L.gka / L.duration;O=8 * J.gka / J.duration;if(D.dr && void 0 !== L.xb)(P=L.xb,S=J.xb);else (P=K[M].xb,S=K[J.Pf].xb);L.Ku=N - O;L.aE=(P - S) / L.Ku;isFinite(L.aE) && (0 < L.aE || M == F.length - 1) && 0 < L.Ku && Q.enqueue(L);}}for(I=G.Xm;I <= H;I++){G=[];U=[];Z=[];ja=D.iI[I].Ap();for(F=0;F < ja.length;F++){L=ja[F];G.push(L.Ku.toFixed(2));D.dr && void 0 !== L.xb?U.push(L.xb):U.push(K[L.Pf].xb);Z.push(L.aE.toFixed(4));}}ya=k(D);if(ya.ota)return ya;ra=D.Lj;Y=D.gu;pa=Y.Kw;pa=Math.min(Y.jI,pa);Z=[];for(var T=ra.Xm;T <= pa;T++){D.iI[T].e8() || Z.push(D.iI[T].SM());}p(void 0 !== D.compare,"playSegment.compare required for greedy");for(var R=new z(Z,D.compare);0 < R.length;){E.update("upgrade frags");ea=R.pop();a:{pa=ra=void 0;T=D;Z=ya;U=ea;sa=T.Lj;la=T.gu;Ka=Math.min(la.jI,la.Kw);Ua=JSON.parse(JSON.stringify(Z.jr));p(U && Ua[U.index].Ke < U.Pf,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");pa=U.index;ra=Ua[pa];ra.Ke=U.Pf;ra.HP=f(T,ra.Ke,pa);ra.startTime=q(ra.HP,ra.g5,T.zB,sa.tE);Ua[pa]=ra;if(0 > ra.startTime)$a=!1;else {for(pa=U.index - 1;pa >= sa.Xm;pa--){ra=Ua[pa];Za=Ua[pa + 1].startTime;if(ra.g5 <= Za)break;ra.g5=Za;ra.startTime=q(ra.HP,ra.g5,T.zB,sa.tE);Ua[pa]=ra;if(0 > ra.startTime){$a=!1;break a;}}for(var cb=U.index + 1;cb <= Ka;cb++){Ua[cb].oma=Ua[cb].HP + (cb > T.Lj.Xm?Ua[cb - 1].oma:0);}for(var Va=U.index + 1;Va <= Ka;Va++){if(Ua[Va].startTime > Ua[U.index].VCb){Ka=Va - 1;break;}}m(T,Ua,U,Math.min(pa + 1,U.index),Ka)?(Z.jr=Ua,$a=!0):$a=!1;}}$a && (D.iI[ea.index].e8() || R.push(D.iI[ea.index].SM()));}}finally{delete D.iI;}for(Ka=la=sa=$a=ea=R=0;Ka < ya.jr.length;Ka++){if(Ua=ya.jr[Ka])(Za=D.Ox[Ua.Ke][Ua.jYa],R+=(Za.xb?Za.xb:D.ae[Ua.Ke].xb) * Za.duration,ea+=Za.duration,$a+=Za.ga,sa+=D.Lj.rU * Za.duration / 8,la+=Za.duration * D.ae[Ua.Ke].bitrate);}ya.bWa=0 < ea?1 * R / ea:0;ya.aWa=ea;ya.$Va=$a;ya.XVa=sa;ya.ZVa=0 < ea?1 * la / ea:0;ya.GA=E.UZa();B.debug("Max heap used: " + Math.round(ya.GA / 1024 / 1024) + " MB");return ya;},Zka:function(D,F){if(D.aE < F.aE)return 1;if(D.aE > F.aE)return -1;if(D.Ku > F.Ku)return 1;if(D.Ku < F.Ku)return -1;if(D.index > F.index)return 1;if(D.index < F.index)return -1;throw Error("Invalid frag comparison");},YTa:function(D,F){if(D.Ku > F.Ku)return 1;if(D.Ku < F.Ku)return -1;if(D.index > F.index)return 1;if(D.index < F.index)return -1;throw Error("Invalid frag comparison");},dp:function(D){var F,G,C,H,K,M;E.cxa("dp-" + (D.dr?"segvmaf":"dlvmaf") + ": ");F=k(D);if(!1 === F.RD || !0 === F.ota)return F;G=g(D);C=new v(G);H=d(D);H={Rbb:c(D),hSa:D.Lj.rU,X4a:0,x4a:240,w4a:8 * D.LSa.Cdb / 1E3,QSa:.5,xSa:new y(H),XWa:0,icc:void 0,a0a:void 0,k8a:void 0,wRa:!0};C=C.Bx(H);H=h(G,C,void 0);G=l(G,C,D);K=[];M=D.Lj.Xm;C.forEach(function(I){K[M]={Ke:I.G7};M++;});A(H,F);A(G,F);F.jr=K;F.GA=E.UZa();B.debug("Max heap used: " + Math.round(F.GA / 1024 / 1024) + " MB");return F;}};},function(r){var c;function b(f){this.Fg=a(f);this.Ug=this.qf=0;if(c(f)){for(var k=f.length,m=0;m < k;++m){this[m]=f[m];}this.qf=k;}}function a(f){if("number" !== typeof f)if(c(f))f=f.length;else return 16;f=Math.min(Math.max(16,f),1073741824);f=(f >>> 0) - 1;f|=f >> 1;f|=f >> 2;f|=f >> 4;f|=f >> 8;return (f | f >> 16) + 1;}b.prototype.Ap=function(){for(var f=this.qf,k=Array(f),m=this.Ug,d=this.Fg,g=0;g < f;++g){k[g]=this[m + g & d - 1];}return k;};b.prototype.push=function(f){var k,m,d,h;k=arguments.length;m=this.qf;if(1 < k){d=this.Fg;if(m + k > d){for(var g=0;g < k;++g){this.r2(m + 1);h=this.Ug + m & this.Fg - 1;this[h]=arguments[g];m++;this.qf=m;}return m;}h=this.Ug;for(g=0;g < k;++g){this[h + m & d - 1]=arguments[g];h++;}this.qf=m + k;return m + k;}if(0 === k)return m;this.r2(m + 1);g=this.Ug + m & this.Fg - 1;this[g]=f;this.qf=m + 1;return m + 1;};b.prototype.pop=function(){var f,k,m;f=this.qf;if(0 !== f){k=this.Ug + f - 1 & this.Fg - 1;m=this[k];this[k]=void 0;this.qf=f - 1;return m;}};b.prototype.shift=function(){var f,k,m;f=this.qf;if(0 !== f){k=this.Ug;m=this[k];this[k]=void 0;this.Ug=k + 1 & this.Fg - 1;this.qf=f - 1;return m;}};b.prototype.unshift=function(f){var k,m,d,h;k=this.qf;m=arguments.length;if(1 < m){d=this.Fg;if(k + m > d){for(var g=m - 1;0 <= g;g--){this.r2(k + 1);d=this.Fg;h=(this.Ug - 1 & d - 1 ^ d) - d;this[h]=arguments[g];k++;this.qf=k;this.Ug=h;}return k;}h=this.Ug;for(g=m - 1;0 <= g;g--){h=(h - 1 & d - 1 ^ d) - d;this[h]=arguments[g];}this.Ug=h;this.qf=k + m;return k + m;}if(0 === m)return k;this.r2(k + 1);d=this.Fg;g=(this.Ug - 1 & d - 1 ^ d) - d;this[g]=f;this.qf=k + 1;this.Ug=g;return k + 1;};b.prototype.FUb=function(){var f;f=this.qf;if(0 !== f)return this[this.Ug + f - 1 & this.Fg - 1];};b.prototype.get=function(f){var k;if(f === (f | 0)){k=this.qf;0 > f && (f+=k);if(!(0 > f || f >= k))return this[this.Ug + f & this.Fg - 1];}};b.prototype.e8=function(){return 0 === this.qf;};b.prototype.clear=function(){for(var f=this.qf,k=this.Ug,m=this.Fg,d=0;d < f;++d){this[k + d & m - 1]=void 0;}this.Ug=this.qf=0;};b.prototype.toString=function(){return this.Ap().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.SM=b.prototype.shift;b.prototype.toJSON=b.prototype.Ap;Object.defineProperty(b.prototype,"length",{get:function(){return this.qf;},set:function(){throw new RangeError("");}});b.prototype.r2=function(f){this.Fg < f && this.orb(a(1.5 * this.Fg + 16));};b.prototype.orb=function(f){var k,m;k=this.Fg;this.Fg=f;f=this.Ug;m=this.qf;if(f + m > k)for((f=f + m & k - 1,m=0);m < f;++m){this[m + k]=this[m + 0];this[m + 0]=void 0;}};c=Array.isArray;r.exports=b;},function(r,b,a){var p,u,t,w,v;function c(x,y,z){this.ASa=this.Enb(x,y,z);}function f(){}function k(){}function m(){}function d(x){this.Xwb=x;}function g(){}function h(){}function l(){}function n(){this.kma={};}function q(x,y){return Array.apply(0,Array(y)).map(function(z,A){return A + x;});}p=a(2);u=a(4).assert;b=a(252).VAa;t=a(402).wmb;w=a(252).Dfb;new (a(6).default.Console)("ASEJS_QOE_EVAL","media|asejs");v=a(128).NKa || a(128);c.prototype.constructor=c;c.prototype.Enb=function(x,y,z){u(x < y,"expect min_buffer_sec < max_buffer_sec but got " + x + " and " + y);u(0 < z,"expect buffer_step_sec > 0. but got " + z);for(var A=[];x < y;x+=z){A.push(x);}A[A.length - 1] < y && A.push(y);return A;};c.prototype.CD=function(x){return this.Dob(x,this.ASa);};c.prototype.Dob=function(x,y){x=this.xCb(x,y);if(0 === x)throw new f();if(x === y.length)throw new k();return x;};c.prototype.xCb=function(x,y){u(0 < y.length,"expect bins.length > 0 but got " + y.length);if(x < y[0])return 0;if(x >= y[y.length - 1])return y.length;for(var z=1;z < y.length;z++){if(y[z - 1] <= x && x < y[z])return z;}u(!1,"expect not coming here in digitize()");};c.prototype.n7=function(){return q(1,this.ASa.length - 1);};f.prototype=Error();k.prototype=Error();m.prototype=Error();d.prototype.constructor=d;d.prototype.VERSION="0.5";d.prototype.wgb=-20;d.prototype.vgb=20;d.prototype.ugb=void 0;d.prototype.pgb=new b(void 0);d.prototype.rgb=0;d.prototype.qgb=1;d.prototype.zgb=!1;d.prototype.tgb=!0;d.prototype.sgb=!0;d.prototype.xgb=void 0;d.prototype.ngb=!0;d.prototype.ogb=0;d.prototype.Bx=function(x){u(void 0 !== x.Rbb,"expect recipe.time_varying_bandwidth !== undefined");return this.qrb(this.Xwb,x.Rbb,void 0 !== x.X4a?x.X4a:this.wgb,void 0 !== x.x4a?x.x4a:this.vgb,void 0 !== x.w4a?x.w4a:this.ugb,void 0 !== x.xSa?x.xSa:this.pgb,void 0 !== x.XWa?x.XWa:this.rgb,void 0 !== x.QSa?x.QSa:this.qgb,void 0 !== x.v0b?x.v0b:this.zgb,void 0 !== x.sKb?x.sKb:this.tgb,void 0 !== x.a0a?x.a0a:this.sgb,void 0 !== x.k8a?x.k8a:this.xgb,void 0 !== x.wRa?x.wRa:this.ngb,void 0 !== x.hSa?x.hSa:this.ogb);};d.prototype.qrb=function(x,y,z,A,B,E,D,F,G,C,H,K,M,I){var L,J,N,O,P,ra,sa,la,Ka,Ua,$a,Za,cb,Va,Qa,xa,Ea,Na,Xa,hb,Eb;function Q(Fb){return Fb[P];}v.cxa("dp: ");u(z <= E.Dh,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");u(E.Dh <= A,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");u(z <= D,"expect min_buffer_sec <= end_buffer_sec");u(D <= A,"expect end_buffer_sec <= max_buffer_sec");void 0 !== B && u(E.am <= B,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + E.am + " and " + B);J=new c(z,A,F);F=new n();N=0;O=E;F.put([0,J.CD(E.Dh)],[N,O,void 0,void 0,y,void 0,void 0,void 0]);y=O=0;E=x.nKb();u(x.QN() == E.length,"expect chunk_map.get_n_epoch() == durations_sec.length");P=-1;try{for(var S=p.__values(E),U=S.next();!U.done;U=S.next()){P+=1;E=!0;for(var Z=x.vm.map(Q),ja=J.n7(),ya=0;ya < ja.length;ya++){ra=ja[ya];if(F.kra([P,ra]))for(var Y=F.get([P,ra]),pa=Y[0],T=Y[1],R=Y[4],ea=0;ea < Z.length;ea++){sa=Z[ea];v.update("epoch-ibuf-chunk loop");la=void 0 !== K?K(sa.quality):sa.quality;Ka=R.Yt();try{Y=this.job(T,sa,Ka,I);Ua=Y[0];$a=Y[1];Za=Y[2];cb=Y[3];Va=Y[4];Qa=Y[5];}catch(Fb){if(Fb instanceof t)continue;else if(Fb instanceof f){O+=1;continue;}else throw Fb;}xa=!1;Ea=!1;try{Na=J.CD(cb.Dh);C && J.CD(Ua);H && J.CD($a);if(void 0 !== B)if(H){if(Za.am > B)throw new m();}else if(cb.am > B)throw new m();}catch(Fb){if(Fb instanceof f)(Na=void 0,O+=1);else if(Fb instanceof k)(M?xa=!0:y+=1,Na=void 0);else if(Fb instanceof m)(M?Ea=xa=!0:y+=1,Na=void 0);else throw Fb;}try{if(xa && Ea){u(void 0 !== B,"expect max_buffer_kb !== undefined");Xa=H?Za.am - B:cb.am - B;u(0 <= Xa,"pause dlnd kb cannot be -ve but is " + Xa);try{hb=cb.bVb(Xa);}catch(Fb){if(Fb instanceof w)throw new f();throw Fb;}Ka.Y6a(hb);Va+=hb;u(cb.Dh < A,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");Na=J.CD(cb.Dh);}else if(xa && !Ea){hb=H?Za.Dh - A + 1E-8:cb.Dh - A + 1E-8;u(0 <= hb,"pause dlnd kb cannot be -ve but is " + hb);try{cb.r7a(hb);}catch(Fb){if(Fb instanceof w)throw new f();throw Fb;}Ka.Y6a(hb);Va+=hb;u(z <= cb.Dh,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");u(cb.Dh < A,"cur_buffer_queue.total_remain_sec < max_buffer_sec");Na=J.CD(cb.Dh);}else hb=0;}catch(Fb){if(Fb instanceof f)(Na=void 0,O+=1,hb=void 0);else if(Fb instanceof t)continue;else throw Fb;}N=F.kra([P + 1,Na])?F.get([P + 1,Na])[0]:-Infinity;this.Yrb(cb,Na,sa,la,ra,P + 1,N,F,pa,ea,Ka,Va,Qa,hb) && (E=!1);}}if(E){--P;break;}}}catch(Fb){var wb;wb={error:Fb};}finally{try{U && !U.done && (L=S.return) && L.call(S);}finally{if(wb)throw wb.error;}}try{Eb=this.vOa(P + 1,J.CD(D),F,G,J);}catch(Fb){if(Fb instanceof g)try{Eb=this.vOa(P + 1,J.CD(D),F,!G,J);}catch(Nb){if(Nb instanceof g){if(O > y)throw new h();throw new l();}throw Nb;}else throw Fb;}ra=Eb;for(z=[];-1 < P;P--){Y=F.get([P + 1,ra]);N=Y[0];O=Y[1];ra=Y[3];A=Y[5];B=Y[6];D=Y[7];Y=Y[2];sa=x.vm[Y][P];G=sa.eA();la=sa.quality;z.unshift({O0a:P,G7:Y,info:{Iac:G,quality:la,Xja:O.Dh,Wja:O.am,yWa:A,Sa:B,lua:D}});}return z;};d.prototype.vOa=function(x,y,z,A,B){var E,D;E=!1;D=B.n7()[0];for(B=B.n7()[B.n7().length - 1];;){if(y < D || y > B){E=!0;break;}if(z.kra([x,y]))break;else y=A?y - 1:y + 1;}if(E)throw new g("backtrack fails to find a solution");return y;};d.prototype.Yrb=function(x,y,z,A,B,E,D,F,G,C,H,K,M,I){z=G + A * z.Um;return void 0 !== y && z > D?(F.put([E,y],[z,x,C,B,H,K,M,I]),!0):!1;};d.prototype.job=function(x,y,z,A){var B,E,D;A=(y.eA() + A) * y.Um;z=z.cDb(A);A/=z;B=x.Dh - z;E=x.Dh + y.Um;D=x.Yt();D.add(y,void 0);x=x.Yt();x.add(y,void 0);try{x.r7a(z);}catch(F){if(F instanceof w)throw new f();throw F;}return [B,E,D,x,z,A];};g.prototype=Error();h.prototype=new g();l.prototype=new g();n.prototype={Lya:function(x){return x.join(",");},put:function(x,y){this.kma[this.Lya(x)]=y;},get:function(x){return this.kma[this.Lya(x)];},kra:function(x){return (this.Lya(x) in this.kma);}};r.exports={phb:d,o6b:c,O5b:f,P5b:k};},function(r,b,a){var c,f,k,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ALa=void 0;r=a(2);c=r.__importStar(a(10));f=a(16);k=a(16);m=r.__importDefault(a(6));d=a(221);g=a(399);a=(function(){var j80;j80=2;function h(l,n,q,p){var k80;k80=2;for(;k80 !== 9;){switch(k80){case 2:this.bb=l;this.I=n;k80=5;break;case 5:var F4p="1SIYbZr";F4p+="NJC";F4p+="p9";this.oc=q;this.ki=p;F4p;k80=9;break;}}}for(;j80 !== 13;){switch(j80){case 8:h.prototype.Tga=function(){var w80,l,n;w80=2;for(;w80 !== 4;){switch(w80){case 2:w80=this.CC?1:4;break;case 1:(l=this.CC.nk,n=this.CC.Qb);this.bb.wh(n) && (this.CC=void 0,this.Qs(l,n));w80=4;break;}}};h.prototype.lo=function(l){function n(u,t){var y80;y80=2;for(;y80 !== 5;){switch(y80){case 2:var C4p="ski";C4p+="p: unexpected behaviour - a non-presenting branch";C4p+=" doesn't have a previo";C4p+="us branch";u !== q.bb.Pa.Ai && (u.yg?n(u.yg,t):q.I.error(C4p));(u=u.Ud(t)) && u.lo();y80=5;break;}}}var x80,q,p;x80=2;for(;x80 !== 7;){switch(x80){case 3:k.Df.forEach(function(u){var z80,t;z80=2;for(;z80 !== 9;){switch(z80){case 7:z80=q.oc(u)?3:7;break;z80=q.oc(u)?1:9;break;case 2:z80=q.oc(u)?1:9;break;case 1:var g4p="sk";g4p+="ip: not resuming";g4p+=" bufferManager, audio track switch in progress";t=q.bb.Cb.Of[u];q.bb.gs && (t.Exa=m.default.time.fa());t.EQ?t.Ub(g4p):q.bb.Tg[u].resume();z80=3;break;case 3:n(q.bb.Pa.Yc,u);z80=9;break;}}});this.bPa=l=new d.RF(this.bb.xJ());return l.Ota(function(){var A80;A80=2;for(;A80 !== 5;){switch(A80){case 2:q.bb.X.Xe(f.sa.Lc);q.bb.TT();A80=5;break;}}}).twa;break;case 2:q=this;null === (p=this.bPa) || void 0 === p?void 0:p.cancel();this.bb.Rxa();this.bb.Pa.Ai.lo(l);x80=3;break;}}};h.prototype.Ti=function(l){var B80,n,q,p;B80=2;for(;B80 !== 8;){switch(B80){case 5:return !1;break;case 2:(q=this.bb.Pa.Ai,p=0 < Object.keys(q.H && q.H.Ll || ({})).length && !q.el?q.pe - this.bb.J.gE:q.pe);B80=1;break;case 1:B80=l < (null !== (n=q.zd) && void 0 !== n?n:q.tqa) || l >= p?5:4;break;case 4:n=this.bb.ku(l,0,!0);l=this.bb.ku(l,1,!0);return void 0 !== n && void 0 !== l && n.complete && l.complete;break;}}};return h;break;case 2:h.prototype.Qs=function(l,n){var l80,w,x,u,t,q,p,v;l80=2;for(;l80 !== 50;){switch(l80){case 24:t=this.bb.Ur?this.bb.dn?Math.min(t[0].$,t[1].$):t[0].$:t[1].$;l80=23;break;case 15:l80=this.Yr(g.Hca.Sna(n),!1,!0)?27:26;break;case 31:this.bb.X.Xe(f.sa.Gh);this.bb.Rxa();this.bb.Pa.I1b(l,n);l80=28;break;case 53:this.bb.KT();l80=43;break;case 19:l80=!this.bb.YNa(n)?18:15;break;case 52:var I4p="see";I4p+="kDelaye";I4p+="d";(this.CC={Qb:n,nk:l},this.bb.emit(I4p));l80=50;break;case 41:var L4p="seekFa";L4p+="i";L4p+="led";var c4p="after seeking, playerState no lo";c4p+="nge";c4p+="r ST";c4p+="ART";c4p+="ING: ";this.I.warn(c4p + this.bb.X.getState());this.bb.emit(L4p);l80=50;break;case 22:l80=u.R.nf.He?21:32;break;case 11:n < t.R.Qb && u.R.nf.replace && (u.R.nf.replace=!1);w=this.bb.Pa.Yc;k.Df.forEach(function(y){var m80;m80=2;for(;m80 !== 1;){switch(m80){case 2:(y=w.Ud(y)) && q.bb.hQa(y);m80=1;break;}}});l80=19;break;case 12:l80=n != t.R.Qb?11:26;break;case 36:x=this.bb.Pa.Yc;k.Df.forEach(function(y){var o80,z;o80=2;for(;o80 !== 5;){switch(o80){case 2:z=x.Ud(y);q.oc(y) && q.Rqb(z,v[y]);o80=5;break;}}});l80=53;break;case 35:var N4p="se";N4p+="ek";N4p+="D";N4p+="elayed";this.CC={Qb:u.R.Qb + 1,nk:l};this.bb.emit(N4p);l80=33;break;case 5:var o4p=" p";o4p+="l";o4p+="aye";o4p+="rS";o4p+="tate: ";var z4p=" m";z4p+="edia.";z4p+="currentPt";z4p+="s: ";var f4p=" curr";f4p+="en";f4p+="t manifest: ";var A4p=" ma";A4p+="ni";A4p+="festIn";A4p+="dex:";A4p+=" ";var D4p="se";D4p+="e";D4p+="k: ";(u=this.bb.J,t=this.bb.X.Te());p=l;u.ti && this.ki.Mm(D4p + l + A4p + n + f4p + this.bb.Ge.R.Qb + z4p + t + o4p + this.bb.X.getState());c.ka(n) && (n=this.bb.Ge.R.Qb);this.bb.Pa.A9a();l80=7;break;case 32:(l=t,p=l + this.bb.Pa.Ee);l80=31;break;case 26:t=this.bb.Pa.Yc.LV(u.La || Infinity,u.R);l80=25;break;case 21:l80=!this.bb.F3(u.R.Qb + 1)?35:31;break;case 51:var O2I="seekF";O2I+="ai";O2I+="l";O2I+="ed";var G4p="seek, no manifest at manifest";G4p+="I";G4p+="ndex";G4p+=":";(this.I.warn(G4p,n),this.bb.emit(O2I));l80=50;break;case 2:q=this;null === (p=this.bPa) || void 0 === p?void 0:p.cancel();l80=5;break;case 25:l80=t.length?24:52;break;case 27:return;break;case 33:return;break;case 7:l80=(u=this.bb.wh(n))?6:51;break;case 28:l80=(t=this.bb.Ge.R.Qb === n && !this.Wob(n) && l === u.$)?44:39;break;case 43:l80=this.bb.X.j2a()?42:41;break;case 6:!u.R.nf.xX && 0 < n && (p=this.bb.IM(n,l));this.bb.X.Xe(f.sa.nj);t=this.bb.Ge;l80=12;break;case 39:this.bb.aia();v=this.bb.Pa.Yc.B4(l).jP;u.rta();l80=36;break;case 42:var S2I="s";S2I+="e";S2I+="e";S2I+="k";var Y2I="ptscha";Y2I+="n";Y2I+="ged";return (this.bb.emit(Y2I,p),this.bb.emit(S2I),this.ZT(n),l=t && this.bb.Cb.Cy()?100:0,this.bb.u3(1,l),this.bb.gk(),p);break;case 23:l80=l > t?22:31;break;case 44:k.Df.forEach(function(y){var n80;n80=2;for(;n80 !== 1;){switch(n80){case 2:q.bb.lw[y].Tm(!0);n80=1;break;}}});l80=43;break;case 18:var E2I="seekD";E2I+="e";E2I+="l";E2I+="a";E2I+="yed";this.CC={Qb:n,nk:l};this.bb.emit(E2I);l80=16;break;case 16:return;break;}}};h.prototype.seek=function(l,n){var p80,q;p80=2;for(;p80 !== 9;){switch(p80){case 2:q=l;c.ka(n) && (n=this.bb.Ge.R.Qb);this.bb.Pa.A9a();this.bb.wh(n).R.nf.xX || this.bb.IL || (q=this.bb.Xt(n,l));p80=3;break;case 12:return this.Qs(q,n);break;p80=9;break;case 3:return this.Qs(q,n);break;}}};j80=5;break;case 5:h.prototype.Yr=function(l,n,q){var q80,p,u;q80=2;for(;q80 !== 9;){switch(q80){case 5:return u;break;case 2:u=this.bb.Pa.Yr(l,n);q80=1;break;case 1:q80=n?5:4;break;case 4:var w2I="s";w2I+="e";w2I+="e";w2I+="k";var J2I="pt";J2I+="s";J2I+="chan";J2I+="ged";u?(this.bb.X.Xe(f.sa.nj),(l=this.bb.Pa.Ai.children[l]) && this.bb.emit(J2I,null !== (p=l.zd) && void 0 !== p?p:l.tqa),this.bb.X.Xe(f.sa.Gh),this.bb.emit(w2I),l && this.ZT(l.R.Qb),this.bb.u3(1),this.bb.gk(),this.bb.Cb.Cy()):q || (p=this.bb.Pa.DJb(l),this.Qs(p));q80=3;break;case 6:q80=n?2:0;break;q80=n?5:4;break;case 3:return u;break;}}};h.prototype.Wob=function(l){var r80;r80=2;for(;r80 !== 1;){switch(r80){case 2:return ! !this.bb.wh(l).fU;break;case 4:return - ~this.bb.wh(l).fU;break;r80=1;break;}}};h.prototype.ZT=function(l){var s80,n;s80=2;for(;s80 !== 4;){switch(s80){case 2:n=this;l=this.bb.wh(l);s80=5;break;case 5:l.fU || (l.fU=!0,k.Df.forEach(function(q){var t80;t80=2;for(;t80 !== 1;){switch(t80){case 2:n.bb.Tg[q].resume();t80=1;break;}}}),this.bb.KT());s80=4;break;}}};h.prototype.Rqb=function(l,n){var u80,q,p,u;u80=2;for(;u80 !== 8;){switch(u80){case 3:(this.bb.Hh.Wl.forEach(function(t){var v80;v80=2;for(;v80 !== 1;){switch(v80){case 2:q.bb.AG(t,!1);v80=1;break;}}}),this.bb.Hh=void 0);u80=9;break;case 9:this.bb.sV.WPa(u,l.ib.R);u80=8;break;case 4:u80=(null === (p=this.bb.Hh) || void 0 === p?0:p.FD())?3:9;break;case 2:(q=this,u=l.mediaType);l.rJ(n);l.EYb();u80=4;break;}}};j80=8;break;}}})();b.ALa=a;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.LCa=void 0;r=a(2);c=r.__importStar(a(10));f=a(16);k=r.__importDefault(a(6));a=(function(){var C80;C80=2;for(;C80 !== 18;){switch(C80){case 11:m.prototype.Bob=function(d){var Y80;Y80=2;for(;Y80 !== 1;){switch(Y80){case 2:return this.Va.Pa.Hb.reduce(function(g,h){var Z80;Z80=2;for(;Z80 !== 1;){switch(Z80){case 2:return g + h.wJb(d);break;}}},0);break;}}};m.prototype.Gwb=function(d){var a90,g,h,l;a90=2;for(;a90 !== 4;){switch(a90){case 2:(g=this,h=this.Va.Pa,l=!0);c.sf(d.H.Ll,function(n,q){var b90,p;b90=2;for(;b90 !== 7;){switch(b90){case 8:var e2I="in de";e2I+="st";e2I+="s";e2I+=":";var R2I="inv";R2I+="al";R2I+="id";R2I+=" segme";R2I+="nt:";d.Ub(R2I,q,e2I,d.H.Ll);b90=7;break;case 2:b90=(n=h.lf(q))?1:8;break;case 1:q=n.R;n=q.yh[0];p=q.yh[1];b90=3;break;case 3:n && p && n.stream.me && p.stream.me || (l=!1);g.Va.X.hp(q) || (l=!1);b90=7;break;}}});return l;break;}}};m.prototype.Trb=function(){var c90,d,g,h;c90=2;for(;c90 !== 5;){switch(c90){case 2:(d=this.Va.J,g=this.Va.Pa,h=g.Yc);this.Va.X.ug() || g.Cw(h,1) < d.FX || h.R.Hya();c90=5;break;}}};C80=19;break;case 3:m.prototype.gk=function(){var I80,d,g;I80=2;for(;I80 !== 5;){switch(I80){case 2:(d=this,g=this.Va.J);!this.Va.JPa || this.Va.m3 || this.Va.y3 || (this.Va.m3=setTimeout(function(){var J80;J80=2;for(;J80 !== 4;){switch(J80){case 2:clearTimeout(d.Va.m3);d.Va.m3=void 0;d.nOa();J80=4;break;}}},g.zua),g.dN && this.Va.dn && (this.XF || (this.XF=setTimeout(function(){var K80,h;K80=2;for(;K80 !== 3;){switch(K80){case 5:h=d.Va.Pa.Yc.Ud(1);h && d.FNa(h);K80=3;break;case 2:clearTimeout(d.XF);d.XF=void 0;K80=5;break;}}},g.xsb))));I80=5;break;}}};m.prototype.FNa=function(d,g){var L80,h,l,n,q;L80=2;for(;L80 !== 3;){switch(L80){case 2:(h=d.mediaType,l=this.Va.Cb.hx[h].fI,n=d.Qf.cX);L80=1;break;case 7:L80=l || n?3:4;break;L80=l && n?5:3;break;case 1:L80=l && n?5:3;break;case 5:q=this.Va.Cb.Of[h].Lf;q && (this.Va.X.ug() || this.Va.Cg.wsb(h,q,l.bitrate,n.bitrate,d.lLb.bitrate,g));L80=3;break;}}};m.prototype.kOa=function(d,g){var M80,h,l,n,q,p;M80=2;for(;M80 !== 7;){switch(M80){case 9:var Z2I="St";Z2I+="ill ";Z2I+="in buffering state whi";Z2I+="le pipeline's are done";this.Va.X.ug() && (this.I.warn(Z2I),this.Va.Cb.Cy());g || h.vv || d.R.nf.He || !this.Gwb(d) || ((g=this.Va.X.ug()) && this.Va.J.Qla && (this.Va.hia(),g=!1),d.p6 || this.Va.Pa.pLb(d,g),d.mM(),d.Hwb() && (g=Object.keys(d.children),this.Va.J.F5 && 1 === g.length && !d.children[g[0]].active && this.Va.Pa.I3a(d,g[0]),this.$nb(d,h)));M80=7;break;case 2:(h=d.H,l=d.Ud(1),n=d.Ud(0),q=!n || n.ei,p=!l || l.ei);h.Qq || this.Va.Pa.S9(d,h,d.R.nf.He && 0 === d.R.Qb);M80=5;break;case 4:M80=(this.Va.dn && this.lOa(d,l,n),this.Va.Ur && this.lOa(d,n,l),q=!n || n.ei,p=!l || l.ei,!p || !q)?3:9;break;case 5:M80=!p || !q?4:9;break;case 3:return;break;}}};C80=7;break;case 7:m.prototype.$nb=function(d,g){var N80,n,q,p,u,h,t,w,l;N80=2;for(;N80 !== 23;){switch(N80){case 17:n=u[0].ib;q=u[0].weight;d.mL=n;N80=27;break;case 8:N80=!n?7:26;break;case 13:N80=1 < u.length?12:20;break;case 9:(n=d.mL,q=g.Ll[n.H.id].weight);N80=8;break;case 27:d.wga=n.Sm;N80=26;break;case 7:(p=[],u=[]);c.sf(d.children,function(v,x){var O80;O80=2;for(;O80 !== 5;){switch(O80){case 2:x=g.Ll[x].weight;0 !== x && (x={weight:x,ib:v},v.Bka(!0,!0) || u.push(x),p.push(x));O80=5;break;}}});0 === u.length?u=p:2 < u.length && (u.sort(function(v,x){var P80;P80=2;for(;P80 !== 1;){switch(P80){case 2:return x.weight - v.weight;break;}}}),u.length=2);N80=13;break;case 3:d.mL=void 0;N80=8;break;case 18:return;break;case 2:h=this.Va.J;N80=1;break;case 10:0 !== t && 0 !== w?(c.sf(u,function(v){var R80;R80=2;for(;R80 !== 4;){switch(R80){case 2:v.n5b=v.weight / t;v.rvb=v.s9 / w;v.usage=v.rvb - v.n5b;R80=4;break;}}}),u.sort(function(v,x){var S80;S80=2;for(;S80 !== 1;){switch(S80){case 4:return v.usage + x.usage;break;S80=1;break;case 2:return v.usage - x.usage;break;}}})):u.sort(function(v,x){var T7I=a000;var T80;T80=2;for(;T80 !== 4;){switch(T80){case 5:T7I.g3p(1);return T7I.F3p(v,x);break;case 2:v=Math.min.apply(null,v.ib.Sm);x=Math.min.apply(null,x.ib.Sm);T80=5;break;case 7:T7I.C3p(16);return T7I.F3p(v,x);break;T80=4;break;}}});N80=20;break;case 12:n=u.reduce(function(v,x){var Q80;Q80=2;for(;Q80 !== 4;){switch(Q80){case 2:x.Sm=x.ib.Sm;x.s9=Math.min(x.Sm[0],x.Sm[1]);a000.g3p(17);var E31=a000.F3p(17,12,20,351);return [v[0] + x.weight,v[E31] + x.s9];break;}}},[0,0]);(t=n[0],w=n[1]);N80=10;break;case 20:N80=0 === u.length?19:17;break;case 4:N80=Math.min(l[0] - d.wga[0],l[1] - d.wga[1]) >= h.Wwb?3:9;break;case 1:N80=this.Va.qc.bqa && d.mL && d.wga?5:8;break;case 19:var K2I="No s";K2I+="u";K2I+="bbranch candidates to d";K2I+="rive";this.I.warn(K2I);N80=18;break;case 5:l=d.mL.Sm;N80=4;break;case 26:n.oe || (n.oe={Q7:k.default.time.fa(),jB:0});n.oe.weight=q;this.kOa(n,!0);N80=23;break;}}};m.prototype.lOa=function(d,g,h){var U80,l,n,q,p,u,t;U80=2;for(;U80 !== 8;){switch(U80){case 2:(l=this.Va.J,n=g.mediaType);U80=1;break;case 4:U80=q.Lf && (void 0 === g.JI || (g.rJ(g.JI,g.GUb),void 0 === g.JI))?3:8;break;case 1:U80=!g.ei?5:8;break;case 5:(q=this.Va.Cb.Of[n],p=this.Va.Cb.vB[n],u=this.Va.Cb.hx[n]);U80=4;break;case 3:var p2I="Still in";p2I+=" b";p2I+="uffering state while pipeline ";p2I+="does not have vacan";p2I+="cy";var M2I="drivePip";M2I+="eline, delay";M2I+="ing audio until ";M2I+="video actualStartPts determine";M2I+="d";t=this.Va.Ge;c.ka(t.AI) || (l.AE && 0 === n && c.ka(this.Va.Cb.Of[1].Mo)?g.Ub(M2I):(c.ka(g.Xn) && (g.Xn=g.ke?g.ke.index:g.ina(g.Bc)),g.Kf && g.Xn > g.Kf.index?d.R.nf.He && c.ka(t.La) && c.ka(d.Mc) || (g.ei || this.Va.hQa(g),d=this.Va.Ge.R.Qb,d < this.Va.EN() - 1 && this.Va.F3(d + 1)):this.w2(g) && (l.aEb && !this.Va.X.ug() && 0 >= g.lI?g.I3b(l.OQb):this.znb(g,h)?(g.wOb=k.default.time.fa(),h=this.Va.Cb.gpa(g),l=h.Pf,c.ka(l) || (l=g.track.ae[l],this.ynb(g,l) || ((n=l.R6())?(g.qOb=l.bitrate,g.QPb(l,n,this.Va.X.ug(),q.Lf,h.Su),this.T3b(l,u,p),d.oe && ++d.oe.jB):l.UE()))):this.Va.X.ug() && (g.An(p2I),this.Va.Cb.Cy()))));U80=8;break;}}};m.prototype.T3b=function(d,g,h){var V80;V80=2;for(;V80 !== 4;){switch(V80){case 2:g.vra=d.Pc;c.Ea(h.Pw) || (h.Q3b(d.Ss,d.oA || -1,d.bitrate),c.ka(d.Pwa) || this.Va.Cg.G$a(d.Pwa,d.ep,d.fp));d.url && (g.Cra=d.url);V80=4;break;}}};m.prototype.ynb=function(d,g){var W80,h;W80=2;for(;W80 !== 5;){switch(W80){case 2:h=this.Va.Cb.hx[d.mediaType];return this.Va.JPa && g.Pc && h.vra && g.Pc !== h.vra && (0 < d.Ua.mE || 0 < d.Ua.et)?!0:!1;break;}}};m.prototype.znb=function(d,g){var X80,x,h,l,n,q,p,u,t,w,v;X80=2;for(;X80 !== 32;){switch(X80){case 25:return !1;break;case 8:X80=p >= l.Z8?7:6;break;case 22:return !1;break;case 20:X80=g && (x=this.Va.Pa.NG(q,g.mediaType),v=d.Bc - v,this.oc(g.mediaType) && !g.ei && v >= l.Bsa && w > l.Bj)?19:26;break;case 18:return !1;break;case 13:X80=u === f.sa.Lc && t > l.rsa && !h.nf.He && !x && !h.wX || t && p > Math.max(t * l.wsa / 100,l.nRb)?12:11;break;case 7:return !1;break;case 24:w=this.Va.Pa.E2b();X80=23;break;case 6:h=this.Va.Ge.R;x=this.Va.X.hp(h);X80=13;break;case 3:return !1;break;case 19:X80=this.Va.qc.dra?18:17;break;case 34:return !1;break;case 15:X80=void 0 === w || w < l.iQb?27:26;break;case 4:X80=(null === (h=d.ih) || void 0 === h?0:h.QKb())?3:9;break;case 33:return 0 < l.Lu && !q && u + (g?x:0) > l.Lu || void 0 !== this.SNa && t > this.SNa || 1 === n && h.nf.He && t > l.W8 && (g=this.Va.qc.Rb.get(),g.confidence && g.Sa && g.Sa.Ha * d.CM > l.tsa)?!1:!0;break;case 26:X80=this.Bob(n) >= l.q4a?25:24;break;case 27:return !1;break;case 17:w=void 0;g && (w=g.mediaType,v=k.default.Zo()[w],w=l.h4b?this.Va.Pa.J3a(q,w).jh / v:x / v);X80=15;break;case 23:X80=!c.ka(l.dx) && w >= l.dx || d.CM + p >= Math.max(l.IA,this.Va.qc.sB + l.zta * q.R.mQb[n])?22:21;break;case 12:return !1;break;case 21:X80=(q=this.Va.X.ug())?35:33;break;case 11:u=this.Va.Pa.NG(q,n);x=0;X80=20;break;case 35:X80=(p=1,d.Zja < l.JA && (p=l.JA),d.Ua.mE >= p)?34:33;break;case 9:p=d.Ua.iua;X80=8;break;case 2:var T2I="f";T2I+="loored to ";T2I+="0";var u2I="negativ";u2I+="e";u2I+=" scheduledB";u2I+="u";u2I+="fferLevel:";(l=this.Va.J,n=d.mediaType,q=d.I8,p=this.Va.X.Te(),u=this.Va.X.getState(),t=this.Va.Pa.Cw(q,n),w=d.Bc + q.Ee - p);0 > w && (d.Ub(u2I,w,T2I),w=0);v=g?g.Bc:0;X80=4;break;}}};C80=11;break;case 2:m.prototype.s2=function(){var E80;E80=2;for(;E80 !== 1;){switch(E80){case 2:this.XF && (clearTimeout(this.XF),this.XF=void 0);E80=1;break;}}};m.prototype.nOa=function(){var F80,d,g,h,l;F80=2;for(;F80 !== 6;){switch(F80){case 5:(d=this.Va.Pa,g=d.Yc.Ud(0),h=d.Yc.Ud(1),l=!h || h.ei);(!g || g.ei) && l && this.Va.IL && d.wxb(h?h.Mc:g.Mc);h=!h || h.yr;F80=9;break;case 2:F80=!this.Va.cj.mia && !this.Va.wn()?1:6;break;case 1:var k2I="firs";k2I+="tDriv";k2I+="eStreaming";void 0 === this.Va.Wnb && (this.Va.Wnb=!0,this.Va.Gb.km(k2I));F80=5;break;case 9:g && !g.yr || !h || this.Va.IL || (this.Va.qc.Jf && this.Va.qc.Jf.cq(!0,this.Va.hm.sessionId),this.Va.Gb.P5a());this.kOa(d.Yc);this.Trb();F80=6;break;}}};m.prototype.qQa=function(){var G80;G80=2;for(;G80 !== 1;){switch(G80){case 2:return this.Va.wn() || this.Va.X.l2a() || this.Va.X.k2a()?!0:!1;break;}}};m.prototype.w2=function(d){var H80;H80=2;for(;H80 !== 1;){switch(H80){case 2:return this.qQa() || this.Va.Cb.Of[d.mediaType].EQ || this.Va.yy.cz?!1:!0;break;}}};C80=3;break;case 19:return m;break;}}function m(d,g,h){var D80;D80=2;for(;D80 !== 9;){switch(D80){case 2:var H2I="1";H2I+="SIYbZrNJ";H2I+="Cp";H2I+="9";this.Va=d;this.I=g;this.oc=h;H2I;this.SNa=this.XF=void 0;D80=9;break;}}}})();b.LCa=a;},function(r,b,a){var c,f,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.bGa=void 0;c=a(174);f=a(16);k=a(16);m=a(9);r=(function(){function d(g,h,l,n){var e90;e90=2;for(;e90 !== 8;){switch(e90){case 2:this.bc=g;this.I=h;this.oc=l;this.mG=n;e90=3;break;case 3:var b2I="1SIYbZ";b2I+="rNJ";b2I+="C";b2I+="p9";this.GPa=this.mia=!1;b2I;e90=8;break;}}}var d90;d90=2;for(;d90 !== 6;){switch(d90){case 2:d.prototype.play=function(){var f90,g;f90=2;for(;f90 !== 5;){switch(f90){case 2:var x2I="p";x2I+="l";x2I+="a";x2I+="y";var l2I="play called afte";l2I+="r p";l2I+="ipelines a";l2I+="lready shutdown";g=this;this.wn()?this.I.warn(l2I):(this.bc.X.Xe(f.sa.Lc),this.bc.Crb(),this.bc.Cb.Of.forEach(function(h){var g90;g90=2;for(;g90 !== 1;){switch(g90){case 2:var V2I="play: not resuming buffer";V2I+="Mana";V2I+="ge";V2I+="r, audio track swi";V2I+="tch in progress";g.oc(h.mediaType) && (h.EQ?h.Ub(V2I):(g.bc.Tg[h.mediaType].resume(),g.bc.lw[h.mediaType].resume()));g90=1;break;}}}),this.bc.TT(),this.bc.emit(x2I));f90=5;break;}}};d.prototype.stop=function(){var h90,g,h,l,n;h90=2;for(;h90 !== 6;){switch(h90){case 7:var t2I="s";t2I+="t";t2I+="o";t2I+="p";this.bc.emit(t2I);h90=6;break;case 2:(g=this,h=this.bc.X.l2a(),l=this.bc.X.k2a());this.bc.X.Xe(f.sa.Hr);this.bc.s2();h90=4;break;case 4:h || l || this.bc.Pa.Ai.KE(!1,this.bc.X);n=this.bc.Pa.Yc;k.Df.forEach(function(q){var i90;i90=2;for(;i90 !== 5;){switch(i90){case 3:i90=(q=n.Ud(q))?9:8;break;i90=(q=n.Ud(q))?1:5;break;case 2:i90=(q=n.Ud(q))?1:5;break;case 9:q.ei=-5;i90=6;break;i90=5;break;case 1:q.ei=!1;i90=5;break;}}});k.Df.forEach(function(q){var j90;j90=2;for(;j90 !== 1;){switch(j90){case 2:(q=g.bc.Tg[q]) && q.pause();j90=1;break;}}});h90=7;break;}}};d.prototype.suspend=function(){var k90;k90=2;for(;k90 !== 1;){switch(k90){case 2:this.mia=!0;k90=1;break;}}};d.prototype.resume=function(){var l90;l90=2;for(;l90 !== 5;){switch(l90){case 2:this.mia=!1;this.bc.rg.gk();l90=5;break;}}};d.prototype.close=function(){var m90,g;m90=2;for(;m90 !== 6;){switch(m90){case 2:g=this.bc.J;this.GPa=!0;m90=5;break;case 5:var h2I="end";h2I+="p";h2I+="lay";var r2I="lo";r2I+="g";r2I+="data";var B2I="c";B2I+="l";B2I+="o";B2I+="s";B2I+="e";this.stop();this.bc.emit(B2I);g.PWa && (g=c.Vx.instance().zb()) && (g={type:r2I,target:h2I,fields:{bridgestat:g}},m.Ya(this.bc,g.type,g));this.bc.qc.Jf && this.bc.qc.Jf.cq(!0,this.bc.hm.sessionId,!0);m90=8;break;case 8:this.bc.Gb.P5a();this.bc.$8a();m90=6;break;}}};d.prototype.flush=function(){var n90,u,t,n,q,p,g,h,l,o90;n90=2;for(;n90 !== 16;){switch(n90){case 8:(u=l.sZa(),t=l.MQa);n90=7;break;case 5:(n={},q=l.get(),p={});q && q.avtp && q.avtp.Ha && (n.avtp=q.avtp.Ha,n.dltm=q.avtp.lD,p.avtp=n.avtp);q && q.cdnavtp && (n.cdnavtp=q.cdnavtp,n.activecdnavtp=q.activecdnavtp);l.flush();n90=8;break;case 1:n90=l?5:19;break;case 14:t && t.length && (n.activeRequests=JSON.stringify(t));n90=13;break;case 6:for(var w in u){var a2I="n";a2I+="e";var m2I="n";m2I+="e";var j2I="n";j2I+="e";u.hasOwnProperty(w) && (n[j2I + w]=Number(u[w]).toFixed(6),p[m2I + w]=1 * n[a2I + w]);}n90=14;break;case 18:n90=this.mG.gs?17:16;break;case 20:var i2I="endp";i2I+="la";i2I+="y";var U2I="logda";U2I+="t";U2I+="a";var d2I="t";d2I+="hroug";d2I+="hpu";d2I+="t-sw";var n2I="t";n2I+="hroughp";n2I+="ut-sw";var W2I="thro";W2I+="ughpu";W2I+="t-sw";var q2I="th";q2I+="r";q2I+="oughp";q2I+="ut-s";q2I+="w";h.DV && (q && q[q2I] && q[W2I].Ha && this.bc.rv.Msb({avtp:q[n2I].Ha,variance:q[d2I].kj}),this.bc.rv.Gsb(p,null === (g=q.avtp) || void 0 === g?void 0:g.lD),g=this.bc.rv.tHb(),h=this.bc.rv.GJb(),g && (g.n=h,g={type:U2I,target:i2I,fields:{ibef:g}},m.Ya(this.bc,g.type,g),this.bc.rv.save()));n90=19;break;case 19:this.bc.Gb.wPa();n90=18;break;case 13:var P2I="e";P2I+="n";P2I+="dpla";P2I+="y";var Q2I="l";Q2I+="o";Q2I+="gdat";Q2I+="a";n.aseApiVersion=this.bc.EG;h.NWa && (u=l.a7()) && (u.bytesRequestedPacingVideo && (n.bytesRequestedPacingVideo=u.bytesRequestedPacingVideo,n.estimatedBytesPacedVideo=u.estimatedBytesPacedVideo,n.bytestotalVideo=u.bytestotalVideo,n.pacedAvtpVideo=u.pacedAvtpVideo),u.bytesRequestedPacingAudio && (n.bytesRequestedPacingAudio=u.bytesRequestedPacingAudio,n.estimatedBytesPacedAudio=u.estimatedBytesPacedAudio,n.bytestotalAudio=u.bytestotalAudio,n.pacedAvtpAudio=u.pacedAvtpAudio),u.pacedAvtp && (n.pacedAvtp=u.pacedAvtp));h.J5 && (l=l.S6()) && (n.initial_avtp=l.TH,n.initial_dltime=l.lD,n.initial_responses_audio=l.q1a,n.initial_responses_video=l.r1a,n.initial_tput_samples=l.PO,n.initial_1sec_tput_samples=l.NO);Object.keys(n).length && (n={type:Q2I,target:P2I,fields:n},m.Ya(this.bc,n.type,n));n90=20;break;case 2:(h=this.bc.J,l=this.bc.qc.Rb);n90=1;break;case 17:try{o90=2;for(;o90 !== 1;){switch(o90){case 2:this.bc.T5(f.sa.Hr);o90=1;break;}}}catch(v){var X2I="Hindsigh";X2I+="t: Error evalua";X2I+="ting QoE at stopping: ";a000.g3p(2);this.bc.Gb.Yn(a000.F3p(v,X2I));}n90=16;break;case 7:n90=u?6:14;break;}}};d.prototype.wn=function(){var q90;q90=2;for(;q90 !== 1;){switch(q90){case 2:return this.GPa || this.bc.Pa.vk;break;}}};d90=7;break;case 7:return d;break;}}})();b.bGa=r;},function(r,b,a){var c,f,k,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.YHa=void 0;r=a(2);c=r.__importStar(a(10));f=a(143);k=r.__importDefault(a(28)).default.Wa;m=r.__importDefault(a(6));d=a(9);g=a(4);a=(function(){var r90;r90=2;for(;r90 !== 38;){switch(r90){case 12:h.prototype.cqb=function(l,n){var F90;F90=2;for(;F90 !== 5;){switch(F90){case 2:var v2I="segmentAp";v2I+="p";v2I+="e";v2I+="nded";n={type:v2I,segmentId:l.id,metrics:n};l.uE || d.Ya(this.gb,n.type,n);F90=5;break;}}};h.prototype.dqb=function(l,n,q){var G90;G90=2;for(;G90 !== 5;){switch(G90){case 2:var s2I="segme";s2I+="ntCo";s2I+="mplet";s2I+="e";l={type:s2I,mediaType:l,manifestIndex:n,segmentId:q.id};d.Ya(this.gb,l.type,l);G90=5;break;}}};h.prototype.Gha=function(l,n){var H90;H90=2;for(;H90 !== 5;){switch(H90){case 2:var y2I="last";y2I+="Segme";y2I+="n";y2I+="tP";y2I+="ts";n={type:y2I,segmentId:l.id,pts:Math.floor(n)};l.uE || d.Ya(this.gb,n.type,n);H90=5;break;}}};r90=20;break;case 2:h.prototype.km=function(l){var t90;t90=2;for(;t90 !== 5;){switch(t90){case 2:var F2I="sta";F2I+="rt";F2I+="Ev";F2I+="en";F2I+="t";l={type:F2I,event:l,time:m.default.time.fa()};d.Ya(this.gb,l.type,l);t90=5;break;}}};h.prototype.aqb=function(){var u90,l;u90=2;for(;u90 !== 5;){switch(u90){case 2:var C2I="op";C2I+="en";C2I+="C";C2I+="omplete";l={type:C2I};d.Ya(this.gb,l.type,l);u90=5;break;}}};h.prototype.bqb=function(l,n,q,p,u){var v90;v90=2;for(;v90 !== 1;){switch(v90){case 2:var g2I="pts";g2I+="S";g2I+="ta";g2I+="rts";this.gb.J.CCb || (l={type:g2I,manifestIndex:l,mediaType:n,movieId:p,streamId:q,ptsStarts:u.Lab()},d.Ya(this.gb,l.type,l));v90=1;break;}}};h.prototype.Spb=function(l,n){var w90;w90=2;for(;w90 !== 5;){switch(w90){case 2:var I2I="headerCac";I2I+="h";I2I+="eHit";l={type:I2I,movieId:l,streamId:n};d.Ya(this.gb,l.type,l);w90=5;break;}}};r90=3;break;case 3:h.prototype.Rpb=function(l,n,q,p,u){var x90,t;x90=2;for(;x90 !== 3;){switch(x90){case 2:var c2I="headerCache";c2I+="Da";c2I+="taHit";t=this.gb.NOa;this.gb.NOa=void 0;l={type:c2I,movieId:l,audio:n,audioFromMediaCache:p,video:q,videoFromMediaCache:u,actualStartPts:t && t.Mo,headerCount:t && t.TN,stats:t && t.ic};d.Ya(this.gb,l.type,l);x90=3;break;}}};h.prototype.Zpb=function(l,n,q,p){var y90;y90=2;for(;y90 !== 5;){switch(y90){case 2:var L2I="ma";L2I+="xPosi";L2I+="tion";l={type:L2I,index:l,endPts:n,maxPts:q,maxSeekPts:p};d.Ya(this.gb,l.type,l);y90=5;break;}}};h.prototype.hqb=function(l,n,q,p,u,t,w){var z90;z90=2;for(;z90 !== 3;){switch(z90){case 2:var D2I="notif";D2I+="y";D2I+="StreamingError: ";var N2I="err";N2I+="o";N2I+="r";void 0 === w && (w=!1);l={type:N2I,error:l,errormsg:n,networkErrorCode:q,httpCode:p,nativeCode:u,manifestIndex:t,temporaryFailure:w};this.I.error(D2I + JSON.stringify(l));d.Ya(this.gb,l.type,l);z90=3;break;}}};h.prototype.d3=function(l,n){var A90;A90=2;for(;A90 !== 5;){switch(A90){case 2:var A2I="segmen";A2I+="tStart";A2I+="in";A2I+="g";n={type:A2I,segmentId:l.id,contentOffset:n,maxBitrates:{audio:l.R.ex[0],video:l.R.ex[1]}};l.uE || d.Ya(this.gb,n.type,n);A90=5;break;}}};h.prototype.Hha=function(l){var B90,n;B90=2;for(;B90 !== 5;){switch(B90){case 2:var f2I="segmen";f2I+="tAb";f2I+="orted";n={type:f2I,segmentId:l.id};l.uE || d.Ya(this.gb,n.type,n);B90=5;break;}}};h.prototype.Cob=function(l,n){var C90,q,p;C90=2;for(;C90 !== 12;){switch(C90){case 4:var Y1I="r";Y1I+="es";Y1I+="e";Y1I+="t";var O1I="s";O1I+="k";O1I+="i";O1I+="p";var G2I="l";G2I+="o";G2I+="n";G2I+="g";var o2I="l";o2I+="o";o2I+="n";o2I+="g";var z2I="s";z2I+="e";z2I+="a";z2I+="mless";p=n.We?n.DW?z2I:o2I:n.o5a?G2I:n.lo?O1I:Y1I;q.transitionType=p;C90=9;break;case 9:var S1I="s";S1I+="e";S1I+="aml";S1I+="ess";n.ama || (q.delayToTransition=n.s5);p=S1I === p?0:m.default.time.fa() - n.startTime;q.durationOfTransition=p;C90=6;break;case 2:(q={segment:l,srcsegment:n.Raa,srcoffset:n.ZP,seamlessRequested:n.We,atRequest:{},discard:{}},p=n.oe[l]);p?q.atRequest={weight:p.weight,abuflmsec:p.Xr.Sr,vbuflmsec:p.Xr.po,abuflbytes:p.Xr.RC,vbuflbytes:p.Xr.jt}:(p=this.gb.Pa.D_a(n.Raa,l),void 0 !== p && (q.atRequest.weight=p));c.sf(n.oe,function(u,t){var D90;D90=2;for(;D90 !== 1;){switch(D90){case 2:t != l && (q.discard[t]={weight:u.weight,abuflmsec:u.Xr.Sr,vbuflmsec:u.Xr.po,abuflbytes:u.Xr.RC,vbuflbytes:u.Xr.jt});D90=1;break;}}});C90=4;break;case 6:q.atTransition=n.lcb;q.srcsegmentduration=this.gb.Pa.CJb(n.Raa);C90=13;break;case 13:return q;break;}}};h.prototype.eqb=function(l,n,q){var E90;E90=2;for(;E90 !== 4;){switch(E90){case 2:var E1I="seg";E1I+="mentPre";E1I+="sent";E1I+="ing";q=q?this.Cob(l.id,q):void 0;l={type:E1I,segmentId:l.id,contentOffset:n,metrics:q,playlistSegment:l.uE,manifestIndex:l.R.Qb};d.Ya(this.gb,l.type,l);E90=4;break;}}};r90=12;break;case 20:h.prototype.Xpb=function(l,n,q,p,u){var I90;I90=2;for(;I90 !== 5;){switch(I90){case 2:var J1I="mani";J1I+="fe";J1I+="s";J1I+="tRan";J1I+="ge";l={type:J1I,index:l,manifestOffset:n,startPts:Math.floor(q),endPts:Math.floor(p),maxPts:Math.floor(u)};d.Ya(this.gb,l.type,l);I90=5;break;}}};h.prototype.zPa=function(l){var J90;J90=2;for(;J90 !== 5;){switch(J90){case 2:var w1I="maxBitra";w1I+="t";w1I+="es";l={type:w1I,audio:l[0],video:l[1]};d.Ya(this.gb,l.type,l);J90=5;break;}}};h.prototype.Ypb=function(l,n){var K90,q;K90=2;for(;K90 !== 3;){switch(K90){case 2:var e1I="n";e1I+="otifyManifes";e1I+="tSele";e1I+="cted: ";var R1I="manifestS";R1I+="el";R1I+="ecte";R1I+="d";q=this.gb.J;l={type:R1I,index:l,replace:n.R.nf.replace,ptsStarts:n.jP,streamingOffset:n.$ + n.bx};q.ti && (n=e1I + JSON.stringify(l),q.ti && this.Mm(n));d.Ya(this.gb,l.type,l);K90=3;break;}}};h.prototype.Wpb=function(l,n,q,p,u){var L90;L90=2;for(;L90 !== 4;){switch(L90){case 2:var Z1I="manife";Z1I+="stPresen";Z1I+="t";Z1I+="ing";l={type:Z1I,index:l.Qb,pts:Math.floor(n),movieId:l.K,replace:l.nf.replace,contentOffset:q};null != p && null != u && (l.previousMovieId=p,l.previousIndex=u);d.Ya(this.gb,l.type,l);L90=4;break;}}};r90=16;break;case 26:h.prototype.Qpb=function(l){var P90;P90=2;for(;P90 !== 5;){switch(P90){case 2:var K1I="firstR";K1I+="equest";K1I+="Appen";K1I+="de";K1I+="d";l={type:K1I,manifestIndex:l.Ua.ib.R.Qb,mediatype:l.mediaType,time:m.default.time.fa()};d.Ya(this.gb,l.type,l);P90=5;break;}}};h.prototype.Upb=function(l,n){var Q90;Q90=2;for(;Q90 !== 5;){switch(Q90){case 2:var M1I="i";M1I+="nitia";M1I+="lAudioTrack";l={type:M1I,trackId:n,trackIndex:l};d.Ya(this.gb,l.type,l);Q90=5;break;}}};h.prototype.Lpb=function(l,n){var R90;R90=2;for(;R90 !== 3;){switch(R90){case 2:var p1I="audioTrackSw";p1I+="itchStart";p1I+="ed";l=l.Ju;n=n.Ju;n={type:p1I,oldLangCode:l.language,oldNumChannels:l.channels,newLangCode:n.language,newNumChannels:n.channels,sourceBufferReset:void 0};d.Ya(this.gb,n.type,n);R90=3;break;}}};h.prototype.Kpb=function(l,n){var S90,q;S90=2;for(;S90 !== 5;){switch(S90){case 2:q=this;setTimeout(function(){var T90,p;T90=2;for(;T90 !== 5;){switch(T90){case 2:var u1I="audioTra";u1I+="c";u1I+="k";u1I+="Sw";u1I+="itchComplete";p={type:u1I,trackId:l,trackIndex:n};d.Ya(q.gb,p.type,p);T90=5;break;}}},0);S90=5;break;}}};h.prototype.Opb=function(l){var U90,n;U90=2;for(;U90 !== 4;){switch(U90){case 2:var T1I="buffer";T1I+="in";T1I+="gStar";T1I+="te";T1I+="d";n={type:T1I,time:m.default.time.fa(),percentage:l || 0};d.Ya(this.gb,n.type,n);this.tha=l || 0;U90=4;break;}}};h.prototype.Mpb=function(){var V90,l,n,q,p,u;V90=2;for(;V90 !== 3;){switch(V90){case 4:var k1I="bu";k1I+="ff";k1I+="e";k1I+="ring";l != this.tha && (n={type:k1I,time:n,percentage:l},d.Ya(this.gb,n.type,n),this.tha=l);V90=3;break;case 2:(l=this.gb.J,n=m.default.time.fa(),q=this.gb.Pa.Yc,p=this.gb.dn?1:0,u=q.kb(p));q=q.Oh(p);l=Math.min(Math.max(Math.round(100 * (u.$D?(n - this.gb.pga) / l.YA:u.progress?u.progress:q / l.Bj)),this.tha),99);V90=4;break;}}};h.prototype.Fha=function(){var W90,l,n,q,p,u;W90=2;for(;W90 !== 8;){switch(W90){case 2:var H1I="bufferi";H1I+="ngCom";H1I+="plete";(l=this.gb.Pa.Yc,n=l.kb(0),q=l.kb(1));this.xPa();(p=this.gb.dn?this.gb.Cb.vB[k.Pb]:this.gb.Cb.vB[k.Xb],u=p.DU);l={type:H1I,time:m.default.time.fa(),actualStartPts:u,aBufferLevelMs:l.Oh(0),vBufferLevelMs:l.Oh(1),selector:q?q.JP:n.JP,initBitrate:p.Pw,skipbackBufferSizeBytes:this.gb.qc.IE};this.gb.Cg.jFb({initSelReason:p.pA,initSelectionPredictedDelay:p.oA,buffCompleteReason:p.Tt,hashindsight:this.gb.gs,hasasereport:! !this.gb.Ms,bcVBufferLevelMs:l.vBufferLevelMs,bcABufferLevelMs:l.aBufferLevelMs});d.Ya(this.gb,l.type,l);W90=8;break;}}};r90=34;break;case 39:return h;break;case 28:h.prototype.Ppb=function(l){var d01;d01=2;for(;d01 !== 5;){switch(d01){case 2:var b1I="en";b1I+="dO";b1I+="fStre";b1I+="am";l={type:b1I,mediaType:l};d.Ya(this.gb,l.type,l);d01=5;break;}}};h.prototype.Yn=function(l){var e01;e01=2;for(;e01 !== 1;){switch(e01){case 2:var V1I="aseex";V1I+="cep";V1I+="tion";var l1I="a";l1I+="seexce";l1I+="p";l1I+="t";l1I+="ion";this.gb.emit(l1I,{type:V1I,msg:l});e01=1;break;}}};h.prototype.nSb=function(l,n,q,p){var f01;f01=2;for(;f01 !== 5;){switch(f01){case 2:var t1I="maxvideobit";t1I+="ra";t1I+="t";t1I+="echanged";var x1I="maxvi";x1I+="deobitratechang";x1I+="ed";l={type:x1I,time:m.default.time.fa(),spts:p,maxvb_old:l,maxvb:n,reason:q};this.gb.emit(t1I,l);f01=5;break;}}};h.prototype.P5a=function(){var g01,l;g01=2;for(;g01 !== 3;){switch(g01){case 2:g01=!this.Lrb && this.gb.J.M5a?1:3;break;case 1:var B1I="stre";B1I+="am";B1I+="erend";this.Lrb=!0;l={type:B1I,time:m.default.time.fa()};d.Ya(this.gb,l.type,l);g01=3;break;}}};h.prototype.uSb=function(l){var h01;h01=2;for(;h01 !== 5;){switch(h01){case 2:var r1I="stre";r1I+="amSelectionAug";r1I+="me";r1I+="ntData";l={type:r1I,augmentData:l,fragmentIndex:l[0].Bd};d.Ya(this.gb,l.type,l);h01=5;break;}}};h.prototype.Mm=function(l){var i01;i01=2;for(;i01 !== 5;){switch(i01){case 2:var j1I=",";j1I+=" ";var h1I="man";h1I+="agerdebug";h1I+="e";h1I+="ven";h1I+="t";l={type:h1I,message:"@" + m.default.time.fa() + j1I + l};d.Ya(this.gb,l.type,l);i01=5;break;}}};r90=39;break;case 16:h.prototype.fqb=function(l,n,q,p){var M90,u;M90=2;for(;M90 !== 3;){switch(M90){case 4:d.Ya(this.gb,l.type,l);M90=3;break;case 2:var m1I="s";m1I+="trea";m1I+="mPre";m1I+="senti";m1I+="ng";u=l.mediaType;f.gn.Cq(u);l={type:m1I,startPts:Math.floor(n),contentStartPts:Math.floor(q),mediaType:u,manifestIndex:p,trackIndex:l.track.QC,streamIndex:l.Pf};M90=4;break;}}};h.prototype.kqb=function(l){var N90;N90=2;for(;N90 !== 5;){switch(N90){case 2:var a1I="vide";a1I+="oLoo";a1I+="ped";l={type:a1I,offset:l};d.Ya(this.gb,l.type,l);N90=5;break;}}};h.prototype.iqb=function(l,n,q,p,u){var O90;O90=2;for(;O90 !== 4;){switch(O90){case 2:var q1I="u";q1I+="pdateS";q1I+="treami";q1I+="ng";q1I+="Pts";n={type:q1I,mediaType:l,manifestIndex:n,trackIndex:q,movieTime:Math.floor(p),segmentId:u};f.gn.Cq(l);d.Ya(this.gb,n.type,n);O90=4;break;}}};r90=26;break;case 34:h.prototype.xPa=function(){var X90,n,q,p,u,t,w,l;X90=2;for(;X90 !== 12;){switch(X90){case 1:X90=!this.gb.wn()?5:12;break;case 5:(n=this.gb.Pa.Yc,q=n.Oh(0),p=n.Oh(1));this.gb.Cg.zsb(q,p);u=this.gb.qc.Rb.get();u=u.confidence?u.Sa.Ha:0;(t=this.gb.Pa,w=t.NG(n,0));X90=7;break;case 7:var W1I="up";W1I+="dat";W1I+="eBufferL";W1I+="ev";W1I+="el";n=t.NG(n,1);q={type:W1I,abuflbytes:w,vbuflbytes:n,totalabuflmsecs:q,totalvbuflmsecs:p,currentBandwidth:u};p > l.R4a && this.gb.qc.Jf && this.gb.qc.Jf.cq(!0,this.gb.hm.sessionId);d.Ya(this.gb,q.type,q);X90=12;break;case 2:l=this.gb.J;X90=1;break;}}};h.prototype.hpb=function(l){var Y90,n,q,p;Y90=2;for(;Y90 !== 7;){switch(Y90){case 2:Y90=!c.ka(l)?1:7;break;case 1:c.Ea(l.$Z);Y90=5;break;case 5:Y90=!c.ka(this.KL)?4:8;break;case 4:var i1I=",";i1I+=" osAllocat";i1I+="orDelta: ";var U1I=",";U1I+=" j";U1I+="s";U1I+="HeapDe";U1I+="lta: ";var d1I=", f";d1I+="ast";d1I+="Mallo";d1I+="cD";d1I+="elta: ";var n1I="m";n1I+="em";n1I+="or";n1I+="yUsage at ti";n1I+="me: ";(n=l.zXa - this.KL.zXa,q=l.B0a - this.KL.B0a,p=l.u6a - this.KL.u6a);(4194304 < n || 4194304 < p) && this.I.warn(n1I + m.default.time.fa() + d1I + n + U1I + q + i1I + p);Y90=9;break;case 9:var P1I=", ";P1I+="s";P1I+="y";P1I+="stemD";P1I+="elta: ";var Q1I="memoryUsag";Q1I+="e";Q1I+=" at time: ";c.Ea(l.$Z) && c.Ea(this.KL.$Z) && (n=l.$Z - this.KL.$Z,4194304 < n && this.I.warn(Q1I + m.default.time.fa(),P1I + n));Y90=8;break;case 8:this.KL=l;Y90=7;break;}}};h.prototype.jqb=function(){var Z90,l;Z90=2;for(;Z90 !== 3;){switch(Z90){case 4:d.Ya(this.gb,l.type,l);Z90=3;break;case 2:var X1I="stre";X1I+="a";X1I+="mingst";X1I+="at";this.gb.J.uPb && m.default.memory.aIb(this.hpb.bind(this));l={type:X1I,time:m.default.time.fa(),playbackTime:this.gb.X.Te()};this.gb.Cg.kFb(l);Z90=4;break;}}};h.prototype.wPa=function(){var a01,l;a01=2;for(;a01 !== 4;){switch(a01){case 9:a01=this.gb.Ms?7:9;break;a01=this.gb.Ms?1:4;break;case 2:a01=this.gb.Ms?1:4;break;case 1:var v1I="a";v1I+="s";v1I+="erepo";v1I+="r";v1I+="t";l={type:v1I};this.gb.Ms.iFb(l) && d.Ya(this.gb,l.type,l);a01=4;break;}}};h.prototype.Jpb=function(){var b01,l;b01=2;for(;b01 !== 5;){switch(b01){case 2:var s1I="a";s1I+="ser";s1I+="ep";s1I+="ortenabled";l={type:s1I};d.Ya(this.gb,l.type,l);b01=5;break;}}};h.prototype.Tpb=function(l){var z3I=a000;var c01,n,q,p,u,t,w,v,x,y,z,A,B,E,D,F,G,C,H,K,I;c01=2;for(;c01 !== 6;){switch(c01){case 1:var y1I="h";y1I+="i";y1I+="ndsightre";y1I+="port";(n={type:y1I},q=this.gb.J.A7);for(I in q){var I1I="hv";I1I+="ma";I1I+="fdp";var g1I="hv";g1I+="m";g1I+="afgr";var C1I="hv";C1I+="maft";C1I+="b";var F1I="ht";F1I+="w";F1I+="br";p=q[I];u=0;t=0;w=0;v=0;x=0;y=0;z=void 0;A=void 0;B=!1;E=-1;D=-1;F=-1;G=-1;C=-1;H=-1;for(K in l){A=l[K];void 0 === A.nd && (z=(z=A.sols) && z[p]) && (B=!0,w+=z.dlvdur,u+=z.dltwbr * z.dlvdur,t+=z.dlvmaf * z.dlvdur);y+=A.pbdur;v+=A.pbtwbr * A.pbdur;x+=A.pbvmaf * A.pbdur;z=A.rr;A=A.ra;}0 < y && (E=1 * v / y,G=1 * x / y);B && (0 < w && (D=1 * u / w,C=1 * t / w),0 < w + y && (F=1 * (u + v) / (w + y),H=1 * (t + x) / (w + y)));switch(p){case F1I:n.htwbr=F;n.hptwbr=D;n.pbtwbr=E;z && (n.rr=z,n.ra=A);break;case C1I:n.hvmaftb=H;n.hpvmaftb=C;n.pbvmaftb=G;z && (n.rrvmaftb=z,n.ravmaftb=A);break;case g1I:n.hvmafgr=H;n.hpvmafgr=C;n.pbvmafgr=G;z && (n.rrvmafgr=z,n.ravmafgr=A);break;case I1I:(n.hvmafdp=H,n.hpvmafdp=C,n.pbvmafdp=G,z && (n.rrvmafdp=z,n.ravmafdp=A));}}c01=4;break;case 4:c01=this.gb.AV || this.gb.Ax?3:9;break;case 9:c01=this.gb.Ax?8:7;break;case 8:for(var M in l){if((q=l[M],void 0 !== q.zab))for(p in q.zab){if((z=q.zab[p],void 0 !== z.$aa)){var D1I=" ";D1I+="a";D1I+="nd ";var N1I="expect sol.strmsel.length === sol.frag";N1I+="sel.length b";N1I+="ut got ";var L1I="expect";L1I+=" report.fragments";L1I+="Pr";L1I+="ebuffered !== und";L1I+="efined";var c1I="e";c1I+="xpect report.fragmentsPrebuffered";c1I+=" !=";c1I+="= undefined";I=void 0 !== q.lYa;I || (console.error(c1I),g.assert(I,L1I));I=[];for(var Q in q.lYa){u=q.lYa[Q];I.push({ga:u.ga,Um:u.duration / 1E3,quality:u.xb});}I=z.$aa.length === z.mYa.length;u=N1I + z.$aa.length + D1I + z.mYa.length;I || (console.error(u),g.assert(I,u));I=[];u=0;for(var L in z.$aa){w=z.$aa[L];t=z.mYa[L];z3I.g3p(2);u=w=z3I.y3p(w,u);I.push({Kec:w,jfc:z.yWa[L],tbc:z.Sa[L],Xja:z.Xja[L],Wja:z.Wja[L],PSa:z.PSa[L],Yac:{ga:t.ga,Um:t.duration / 1E3,quality:t.xb?t.xb:z.ae[w].xb,Pec:t.Pf,Zac:t.Qe},C8a:0,oec:0,lua:z.lua[L]});}z=[];I=0;for(var J in q.zB.trace){u=q.zB.trace[J];z3I.C3p(2);I=u=z3I.F3p(u,I);z.push(u);}}}}c01=7;break;case 2:c01=l?1:6;break;case 3:n.report=l;c01=9;break;case 7:d.Ya(this.gb,n.type,n);c01=6;break;}}};r90=28;break;}}function h(l,n){var s90;s90=2;for(;s90 !== 4;){switch(s90){case 2:var A1I="1SIYb";A1I+="Zr";A1I+="NJ";A1I+="Cp9";this.gb=l;this.I=n;A1I;s90=4;break;}}}})();b.YHa=a;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v,x;Object.defineProperties(b,{__esModule:{value:!0}});b.yEa=void 0;c=a(2);r=a(17);f=c.__importStar(a(10));a(4);a(227);k=a(246);m=a(382);d=a(82);a(373);a(388);g=a(127);h=c.__importDefault(a(28));a(241);l=a(879);n=c.__importDefault(a(126));a(16);q=c.__importDefault(a(6));a(181);a(249);a(179);a(99);p=new q.default.Console("HEADERCACHE","media|asejs");a=new q.default.Console("MEDIACACHE","media|asejs");u=q.default.mK;t=p.trace.bind(p);a.trace.bind(a);w=p.warn.bind(p);v=p.error.bind(p);x=p.info.bind(p);a=(function(y){function z(A,B,E,D){var k01;k01=2;for(;k01 !== 25;){switch(k01){case 12:A.pw=[];A.F2=!1;A.sL=[];A.rG={};A.tia=(A.Go.jza || A.Go.kza) && 0 < (A.Go.nV || (q.default.options || ({})).AO || 0);A.eG=A.Go.Esa;k01=17;break;case 3:A.gac=x;A.S2=Object.create(null);A.Go=B;A.kg=Object.create(null);A.YF=0;A.Jo=[];A.iPa=B.o5;k01=12;break;case 2:A=y.call(this) || this;A.An=t;A.Vk=v;A.Ub=w;k01=3;break;case 17:var o1I="1SI";o1I+="YbZrN";o1I+="J";o1I+="Cp";o1I+="9";A.ck=void 0;A.tia && (A.Go.nV || (B=(q.default.options || ({})).AO || 0,A.Go.set?A.Go.set({nV:B}):A.Go.nV=(q.default.options || ({})).AO || 0),A.ck=new l.iHa(A.Go,q.default,A),A.ck.Fb(A,D).then(function(){var l01;l01=2;for(;l01 !== 1;){switch(l01){case 2:var f1I="Med";f1I+="ia";f1I+=" cache initialize";f1I+="d";t(f1I);l01=1;break;case 4:t("");l01=4;break;l01=1;break;}}}).catch(function(F){var m01;m01=2;for(;m01 !== 1;){switch(m01){case 2:var z1I="Media cache d";z1I+="id not initiali";z1I+="ze";v(z1I,F);m01=1;break;}}}));A.hm=E;o1I;return A;break;}}}var j01;j01=2;for(;j01 !== 39;){switch(j01){case 40:return z;break;case 30:z.prototype.wrb=function(A,B){var e11;e11=2;for(;e11 !== 4;){switch(e11){case 2:var G1I="p";G1I+="reb";G1I+="uffstats";A.ic.GVb=B;A={type:G1I,movieId:A.K,stats:{prebuffstarted:A.ic.J7a,prebuffcomplete:A.ic.GVb}};this.emit(A.type,A);e11=4;break;}}};z.prototype.epb=function(A,B){var f11,E;f11=2;for(;f11 !== 5;){switch(f11){case 2:var O0I="Media ";O0I+="ca";O0I+="c";O0I+="he is not enab";O0I+="led";E=this;return this.ck?this.ck.gPb(A,B).then(function(D){var g11;g11=2;for(;g11 !== 5;){switch(g11){case 3:g11=D || D.Lm?2:6;break;g11=D && D.Lm?1:5;break;case 2:g11=D && D.Lm?1:5;break;case 1:return (E.kg[A]=D.Lm,++E.YF,E.uga(),E.Jo.push(D.Lm),E.Jo.sort(E.W7a),E.INa(A,D),E.cache[A]);break;}}}):Promise.reject(O0I);break;}}};z.prototype.dpb=function(A,B){var h11,E,D,F;h11=2;for(;h11 !== 8;){switch(h11){case 2:E=this;h11=1;break;case 3:return D.then(function(G){var i11;i11=2;for(;i11 !== 1;){switch(i11){case 2:return !f.ka(G) && E.ck?E.ck.fPb(A,B,G).then(function(C){var j11;j11=2;for(;j11 !== 5;){switch(j11){case 2:C && (F || (E.kg[A]=G,++E.YF,E.uga(),E.Jo.push(G),E.Jo.sort(E.W7a)),E.INa(A,C));return E.kg[A];break;}}}):Promise.resolve(void 0);break;}}});break;case 5:(D=void 0,F=!1);this.ck.Y1a(this.kg[A])?(D=Promise.resolve(this.kg[A]),F=!0):D=this.ck.jPb(A);h11=3;break;case 9:var Y0I="M";Y0I+="edi";Y0I+="a cache is n";Y0I+="ot enabled";return Promise.reject(Y0I);break;case 1:h11=this.ck?5:9;break;}}};z.prototype.INa=function(A,B){var k11,E,G,D,F;k11=2;for(;k11 !== 7;){switch(k11){case 3:k11=B.data?9:7;break;case 2:E=this;k11=1;break;case 9:G=B.data;Object.keys(G).forEach(function(C){var m11,H,K;m11=2;for(;m11 !== 9;){switch(m11){case 2:H=G[C];f.ka(D.data) && (D.data={});f.ka(D.data[C]) && (D.data[C]=[]);K=D.data;m11=3;break;case 3:H.forEach(function(M){var n11;n11=2;for(;n11 !== 1;){switch(n11){case 4:K[C].push(M);n11=2;break;n11=1;break;case 2:K[C].push(M);n11=1;break;}}});m11=9;break;}}});k11=7;break;case 5:(D=this.kg[A],F=B.headers);D && F && Object.keys(F).forEach(function(C){var l11;l11=2;for(;l11 !== 1;){switch(l11){case 2:E.Umb(F[C],D);l11=1;break;case 4:E.Umb(F[C],D);l11=7;break;l11=1;break;}}});k11=3;break;case 1:k11=B?5:7;break;}}};j01=43;break;case 6:z.prototype.EPb=function(A,B){var u01,E,D;u01=2;for(;u01 !== 5;){switch(u01){case 1:return D || !this.ck?Promise.resolve(D):(this.eG?this.epb(A,B):this.dpb(A,B)).then(function(F){var v01;v01=2;for(;v01 !== 1;){switch(v01){case 2:return E.Z7a(F);break;case 4:return E.Z7a(F);break;v01=1;break;}}});break;case 2:(E=this,D=this.DPb(A));u01=1;break;}}};z.prototype.DPb=function(A){var w01;w01=2;for(;w01 !== 1;){switch(w01){case 2:return this.Z7a(this.kg[A]);break;case 4:return this.Z7a(this.kg[A]);break;w01=1;break;}}};z.prototype.ZXa=function(){var x01,E,D,F;x01=2;function B(C,H){var z01;z01=2;for(;z01 !== 1;){switch(z01){case 2:C && C.data && C.data[H].forEach(function(K){var A01;A01=2;for(;A01 !== 5;){switch(A01){case 2:K.abort();E+=K.bytesReceived;A01=5;break;}}});z01=1;break;}}}function A(C){var y01;y01=2;for(;y01 !== 1;){switch(y01){case 2:C.FTa();y01=1;break;}}}for(;x01 !== 4;){switch(x01){case 5:this.frb(E);x01=4;break;case 2:E=0;for(D in this.kg){F=this.kg[D];if(F.data){for(var G in F.data){var E0I="i";E0I+="n e";E0I+="ntry:";var S0I="missing heade";S0I+="rEntry ";S0I+="for streamId:";F.headers[G] || v(S0I,G,E0I,F);B(F,G);F.data[G].forEach(A);delete F.data[G];}delete F.data;}}x01=5;break;case 7:this.frb(E);x01=9;break;x01=4;break;}}};j01=12;break;case 42:z.prototype.Z7a=function(A){var p11,B,E,D;p11=2;for(;p11 !== 11;){switch(p11){case 1:p11=A && A.data?5:11;break;case 6:B.JD=A.JD;B.ep=A.ep;B.fp=A.fp;return B;break;case 2:B={};p11=1;break;case 5:for(E in A.data){D=A.data[E];0 < D.length && (B[D[0].mediaType]={Ta:E,header:A.headers[E],data:D});}B.Mo=A.Mo;B.TN=A.TN;B.ic=A.ic;B.Pw=A.Pw;B.pA=A.pA;p11=6;break;}}};z.prototype.dd=function(A){var q11;q11=2;for(;q11 !== 1;){switch(q11){case 2:return ! !A.dd;break;case 4:return - ~A.dd;break;q11=1;break;}}};j01=40;break;case 43:z.prototype.W7a=function(A,B){var o11;o11=2;for(;o11 !== 1;){switch(o11){case 2:return B.priority - A.priority;break;}}};j01=42;break;case 2:c.__extends(z,y);Object.defineProperties(z.prototype,{cache:{get:function(){var n01;n01=2;for(;n01 !== 1;){switch(n01){case 2:return this.kg;break;case 4:return this.kg;break;n01=1;break;}}},enumerable:!1,configurable:!0}});z.prototype.oCb=function(){var o01;o01=2;for(;o01 !== 5;){switch(o01){case 2:this.flush();this.hOa();o01=5;break;}}};z.prototype.Fba=function(A){var p01;p01=2;for(;p01 !== 5;){switch(p01){case 2:this.hm=A;this.pw.forEach(function(){});p01=5;break;}}};z.prototype.cq=function(A,B,E){var q01,D,F;q01=2;for(;q01 !== 9;){switch(q01){case 2:(D=this.rG,F=A);q01=1;break;case 1:q01=(D[B]=A)?5:4;break;case 5:for(var G in D){D.hasOwnProperty(G) && !1 === D[G] && (F=!1);}q01=4;break;case 4:E && delete D[B];F?(this.F2=!1,this.jpb()):this.F2=!0;q01=9;break;}}};j01=9;break;case 21:z.prototype.HNa=function(A,B){var X01,E;X01=2;for(;X01 !== 4;){switch(X01){case 1:X01=(B=this.kg[A.K] || B)?5:4;break;case 5:(B.etb || B.Zh && !this.eG || (B.etb=!0,++this.YF),B.headers || (B.headers={}),B.headers[E]=A,this.Go.gEb && (B.TN || (B.TN=0),++B.TN),this.uga());X01=4;break;case 2:E=A.Ta;X01=1;break;}}};z.prototype.uga=function(){var Y01,B,E,D;Y01=2;function A(G){var Z01;Z01=2;for(;Z01 !== 5;){switch(Z01){case 2:G.abort();E+=G.bytesReceived;Z01=5;break;}}}for(;Y01 !== 12;){switch(Y01){case 5:Y01=this.YF > this.iPa?4:13;break;case 1:Y01=!(this.YF <= this.iPa)?5:12;break;case 2:E=0;Y01=1;break;case 3:D=B.K;Y01=9;break;case 8:for(var F in B.data){B.data[F].forEach(A);delete B.data[F];}Y01=7;break;case 13:this.drb(E);Y01=12;break;case 9:Y01=B.data?8:7;break;case 4:Y01=(B=this.Jo.shift())?3:5;break;case 14:this.crb(D);Y01=5;break;case 7:delete this.kg[D];--this.YF;Y01=14;break;}}};z.prototype.drb=function(A){var a11;a11=2;for(;a11 !== 1;){switch(a11){case 2:var J0I="di";J0I+="sca";J0I+="rdedBy";J0I+="tes";0 !== A && (A={type:J0I,bytes:A},this.emit(A.type,A));a11=1;break;}}};j01=33;break;case 27:z.prototype.Hnb=function(A,B){var P01,E;P01=2;for(;P01 !== 8;){switch(P01){case 2:E=A.stream.mediaType;2 > this.pw.length && this.cOa();B=k.f0.create(A.stream,B,this.pw[E].track,A,this,!0,p);B.Zh=A.Zh;P01=3;break;case 3:B.Jf=this;return B;break;}}};z.prototype.t2=function(A){var Q01,B;Q01=2;for(;Q01 !== 9;){switch(Q01){case 2:this.dd(A) && delete this.S2[A.Ta];this.dd(A) || delete A.response;A.fd();B=this.kg[A.K] || A.Lm;Q01=3;break;case 3:var w0I="savet";w0I+="o";w0I+="d";w0I+="i";w0I+="sk";B && 0 === B.z0a && 0 === B.$U && (this.wrb(B,A.xf),B.Zh && this.ck && (B.ic.qdc || (this.eG?this.ck.iZb(B):this.ck.KP(w0I,{X9a:B.ic.$s}))));Q01=9;break;}}};z.prototype.ppb=function(A,B,E){var R01,D,F;R01=2;for(;R01 !== 8;){switch(R01){case 5:R01=0 < D?4:3;break;case 2:D=A.n5;B.Zh && this.ck && (A.B4a?D=A.B4a:A.k4a && 0 < A.k4a && (D=2E3 * A.k4a));R01=5;break;case 4:return function(G,C){var k7I=a000;var S01;S01=2;for(;S01 !== 1;){switch(S01){case 4:k7I.C3p(18);return k7I.y3p(C,D);break;S01=1;break;case 2:k7I.C3p(19);return k7I.F3p(D,C);break;}}};break;case 3:F=E && E.length < A.AVa?E.length:A.AVa;return function(G){var b7I=a000;var T01;T01=2;for(;T01 !== 1;){switch(T01){case 4:b7I.g3p(20);return b7I.F3p(G,F);break;T01=1;break;case 2:b7I.C3p(19);return b7I.y3p(F,G);break;}}};break;}}};z.prototype.Yha=function(A,B){var U01,M,Q,L,I,E,D,F,G,C,H,K;U01=2;for(;U01 !== 53;){switch(U01){case 44:(M.R3(H.get(Q)),M.HO=Q + 1,K=Q);U01=43;break;case 4:U01=this.sL.length > G.bLb?3:53;break;case 26:var M0I="man";M0I+="ag";M0I+="erd";M0I+="ebu";M0I+="gevent";var K0I=",";K0I+=" s";K0I+="tartPt";K0I+="s:";K0I+=" ";var Z0I=",";Z0I+=" pt";Z0I+="s";Z0I+=": ";var e0I=",";e0I+=" strea";e0I+="mI";e0I+="d: ";var R0I=", headerCache r";R0I+="eque";R0I+="s";R0I+="tData: ";R0I+="movieId: ";G.ti && (B="@" + q.default.time.fa() + R0I + E + e0I + D + Z0I + B + K0I + M.$,this.emit(M0I,{message:B}));U01=25;break;case 34:G=Q === h.default.Wa.Pb?G.qRb:G.kRb;U01=33;break;case 29:a000.g3p(2);Q=a000.F3p(1,K);U01=28;break;case 18:M=A.stream.jl(K);U01=17;break;case 42:var p0I="unde";p0I+="f";p0I+="i";p0I+="ne";p0I+="d";f.ka(C.Mo) && (C.Mo=M.$);M.Zh && (M.responseType=0);A.Zh && this.ck && A.zX && A.zX[D] && p0I !== typeof M.$ && A.zX[D][M.$] || (Q=this.Hnb(M,A.hf),Q.Zh && (Q.Lm=A.Lm),Q.UO(),++C.$U,B.push(Q));++I;F+=M.duration;U01=37;break;case 14:C.cma=A;U01=13;break;case 33:U01=K < (H && H.length || 0) && !E(I,F)?32:54;break;case 37:M=void 0;U01=36;break;case 8:U01=C?7:53;break;case 36:++K;U01=33;break;case 20:U01=-1 === K || void 0 === K?19:18;break;case 1:U01=this.F2?5:9;break;case 31:M.Zh=A.Zh;U01=30;break;case 6:U01=void 0 === C.Mo?14:12;break;case 7:U01=A.mediaType === h.default.Wa.Xb?6:11;break;case 22:E=this.ppb(G,A,H);I=F=0;(Q=M && M.mediaType,L=Q === h.default.Wa.Pb?G.A9:G.r9);U01=34;break;case 12:B=C.Mo;U01=11;break;case 16:M.Zh=A.Zh;I=M.pna(B);I && (M.mediaType === h.default.Wa.Xb && !G.Ksa && I.Fd < (G.qm && !G.GG && F.zf?Math.floor(F.zf.U):0) && (++I.sl,I.Fd+=M.va.U),0 < I.sl && M.Lk({start:I.sl}));U01=26;break;case 19:var u0I="no proper ";u0I+="fragment found to re";u0I+="quest data at pts";v(u0I,B);U01=53;break;case 3:this.sL.shift();U01=4;break;case 2:(E=A.K,D=A.Ta,F=A.stream,G=A.hf);U01=1;break;case 54:C.cma && !f.ka(C.Mo) && (A=C.cma,delete C.cma,this.Yha(A,C.Mo));U01=53;break;case 9:C=this.kg[E] || A.Lm;U01=8;break;case 28:U01=Q < H.length && (M.ga < L || M.duration < G)?44:42;break;case 5:this.sL.push({fLb:A,Fd:B});U01=4;break;case 25:void 0 === C.data && (C.data={});void 0 === C.data[D] && (C.data[D]=[]);B=C.data[D];U01=22;break;case 11:A.mediaType === h.default.Wa.Xb && G.qm && !G.GG && F.zf && (B=Math.max(F.Y && F.Y.Kj(0) || 0,B + F.zf.U));(H=A.stream.Y,K=H && H.Nn(B));U01=20;break;case 43:++Q;U01=28;break;case 13:return;break;case 17:U01=!f.ka(M)?16:25;break;case 30:U01=!f.ka(H) && !M.ya?29:42;break;case 32:U01=(void 0 === M && (M=A.stream.jl(K)),void 0 !== M)?31:36;break;}}};j01=23;break;case 10:z.prototype.fY=function(A){var D01;D01=2;for(;D01 !== 5;){switch(D01){case 2:var T0I="_";T0I+="on";T0I+="Error:";T0I+=" ";w(T0I,A.toString());this.t2(A);D01=5;break;}}};z.prototype.LTb=function(A){var E01,B;E01=2;for(;E01 !== 9;){switch(E01){case 2:B=this;A.j2b=A.xf;this.Vmb(A);f.ka(A.cLb) || A.cLb(A.j2b);E01=3;break;case 3:this.jrb(A,function(){var F01;F01=2;for(;F01 !== 1;){switch(F01){case 2:f.ka(A) || (f.ka(A.Lm) || A.Lm.z0a--,B.t2(A));F01=1;break;}}});E01=9;break;}}};z.prototype.MTb=function(A){var G01,B,E,D,F;G01=2;for(;G01 !== 8;){switch(G01){case 2:(B=this,E=A.K,D=this.kg[E] || A.Lm);G01=1;break;case 5:var V0I="manager";V0I+="debuge";V0I+="vent";var l0I=", r";l0I+="e";l0I+="mai";l0I+="ni";l0I+="ng: ";var b0I=", ";b0I+="pt";b0I+="s: ";var H0I=", ";H0I+="str";H0I+="eamId: ";var k0I=", headerCach";k0I+="e dataComplete: movi";k0I+="eId: ";G01=(this.Go.ti && (E="@" + q.default.time.fa() + k0I + E + H0I + A.Ta + b0I + A.$ + l0I + (D.$U - 1),this.emit(V0I,{message:E})),A.Zh && 0 === A.responseType && this.ck && !this.eG)?4:9;break;case 1:G01=D?5:8;break;case 4:F=q.default.time.now();this.ck.gZb(A,D,function(G){var H01;H01=2;for(;H01 !== 4;){switch(H01){case 2:G || f.ka(D) || (G=q.default.time.fa() - F,f.ka(D.ic) && (D.ic={}),f.ka(D.ic.$s) && (D.ic.$s=0),D.ic.$s+=G);--D.$U;B.t2(A);H01=4;break;}}});G01=8;break;case 9:(--D.$U,B.t2(A));G01=8;break;}}};z.prototype.cOa=function(){var I01;I01=2;for(;I01 !== 1;){switch(I01){case 2:0 === this.pw.length && (this.pw=[g.Gp.instance.au(0,void 0,!1,!1,this.hm,this.Go),g.Gp.instance.au(1,void 0,!1,!1,this.hm,this.Go)],this.pw.forEach(function(A){var J01;J01=2;for(;J01 !== 1;){switch(J01){case 2:return A.Fb();break;case 4:return A.Fb();break;J01=1;break;}}}),u.tg());I01=1;break;}}};z.prototype.hOa=function(){var K01,A;K01=2;for(;K01 !== 4;){switch(K01){case 2:A=this.pw;this.pw=[];A.forEach(function(B){var L01;L01=2;for(;L01 !== 1;){switch(L01){case 2:g.Gp.instance.TM(B);L01=1;break;}}});K01=4;break;}}};z.prototype.jpb=function(){var M01,A;M01=2;for(;M01 !== 5;){switch(M01){case 2:A=this;M01=1;break;case 3:A=this;M01=9;break;M01=1;break;case 1:!this.F2 && 0 < this.sL.length && (this.sL.forEach(function(B){var N01;N01=2;for(;N01 !== 1;){switch(N01){case 2:A.Yha(B.fLb,B.Fd);N01=1;break;}}}),this.sL=[]);M01=5;break;}}};z.prototype.aOa=function(A,B){var O01,E;O01=2;for(;O01 !== 8;){switch(O01){case 2:E=A.stream.mediaType;2 > this.pw.length && this.cOa();B=new m.uca(A.stream,B,this.pw[E],A,this,!0,p);B.Zh=A.Zh;O01=3;break;case 3:B.Jf=this;return B;break;}}};j01=27;break;case 9:z.prototype.flush=function(){var r01,B;r01=2;for(;r01 !== 8;){switch(r01){case 2:var t0I="mana";t0I+="ge";t0I+="rdebu";t0I+="geven";t0I+="t";var x0I=", head";x0I+="erCach";x0I+="e flush: ";this.ZXa();for(var A in this.S2){B=this.S2[A];B.abort();}this.kg=Object.create(null);this.YF=0;this.Jo=[];this.Go.ti && (B="@" + q.default.time.fa() + x0I,this.emit(t0I,{message:B}));r01=8;break;}}};z.prototype.list=function(){var s01;s01=2;for(;s01 !== 1;){switch(s01){case 2:return this.Jo;break;}}};z.prototype.oX=function(A,B){var t01;t01=2;for(;t01 !== 4;){switch(t01){case 2:t01=(A=this.kg[A])?1:4;break;case 7:return B;break;t01=4;break;case 1:t01=(B=A.headers[B])?5:4;break;case 5:return B;break;}}};j01=6;break;case 23:z.prototype.Vmb=function(A){var V01;V01=2;for(;V01 !== 1;){switch(V01){case 2:this.HNa(A,A.Lm);V01=1;break;}}};z.prototype.Umb=function(A,B){var W01;W01=2;for(;W01 !== 1;){switch(W01){case 2:this.HNa(A,B);W01=1;break;}}};j01=21;break;case 33:z.prototype.frb=function(A){var b11;b11=2;for(;b11 !== 1;){switch(b11){case 2:var B0I="flu";B0I+="shedB";B0I+="ytes";0 !== A && (A={type:B0I,bytes:A},this.emit(A.type,A));b11=1;break;}}};z.prototype.crb=function(A){var c11;c11=2;for(;c11 !== 5;){switch(c11){case 2:var r0I="cache";r0I+="E";r0I+="v";r0I+="ict";A={type:r0I,movieId:A};this.emit(A.type,A);c11=5;break;}}};z.prototype.jrb=function(A,B){var d11,E;d11=2;for(;d11 !== 3;){switch(d11){case 2:E=A.hf;f.ka(A.tYb) || this.Yha(A,A.tYb);d11=5;break;case 5:!this.ck || !A.Zh || this.eG || f.ka(A.zX) || A.zX[A.Ta] && A.zX[A.Ta].header?B():this.ck.hZb(A,B);E.gza || 0 !== Object.keys(this.S2).length || this.hOa();d11=3;break;}}};j01=30;break;case 12:z.prototype.UA=function(A){var B01,B;B01=2;for(;B01 !== 5;){switch(B01){case 2:B=this.kg[A.K];B && (this.dd(A)?f.ka(B.ic.gLb) && !f.ka(A.loadTime) && (B.ic.gLb=A.loadTime):f.ka(B.ic.J7a) && !f.ka(A.loadTime) && (B.ic.J7a=A.loadTime));B01=5;break;}}};z.prototype.Ek=function(A){var C01;C01=2;for(;C01 !== 1;){switch(C01){case 2:this.dd(A)?this.LTb(A):this.MTb(A);C01=1;break;}}};j01=10;break;}}})(d.Av);b.yEa=a;n.default(r.EventEmitter.prototype,a.prototype);},function(r,b,a){var c,f,k,m,d,g,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.iHa=void 0;c=a(2);f=a(17);k=c.__importStar(a(880));m=c.__importStar(a(10));a(4);d=a(246);g=a(9);r=a(43);h=c.__importStar(a(891));l=h.EGa;a=(function(){var r11;r11=2;for(;r11 !== 18;){switch(r11){case 3:n.prototype.hZb=function(q,p){var N11,u,t,w,v,x,y;N11=2;for(;N11 !== 13;){switch(N11){case 4:N11=q.stream.me && !m.ka(q.stream.Y)?3:14;break;case 2:(u=this,t=[q.K,q.Ta,l.Whb].join("."),w=this.Io.time.fa(),v=h.CZa(q),x={});x[t + "." + l.gea]={cr:v,Ic:l.tF};x[t + "." + l.wib]={cr:g.fD(q.ah.map(function(z){var O11;O11=2;for(;O11 !== 1;){switch(O11){case 2:return z.data;break;}}})),Ic:l.tF};N11=4;break;case 14:this.Fo.W9a(l.zr,x,function(z){var P11;P11=2;for(;P11 !== 5;){switch(P11){case 2:z || (z=u.Io.time.fa() - w,q.Lm && (m.ka(q.Lm.ic.$s) && (q.Lm.ic.$s=0),q.Lm.ic.$s+=z));p();P11=5;break;}}});N11=13;break;case 3:v={timescale:q.stream.Y.W,startTicks:q.stream.Y.ul,offset:q.stream.Y.Vd(0)};y=q.stream.Y.Dx;x[t + "." + l.PDa]={cr:v,Ic:l.tF};x[t + "." + l.Ohb]={cr:y.sizes.buffer,Ic:l.tF};N11=6;break;case 6:x[t + "." + l.Nhb]={cr:y.vd.buffer,Ic:l.tF};N11=14;break;}}};n.prototype.gZb=function(q,p,u){var Q11,t,w,v,x,y;Q11=2;for(;Q11 !== 14;){switch(Q11){case 2:(t=this,w=q.response);Q11=1;break;case 7:this.Fo.W9a(l.zr,y,function(z){var R11;R11=2;for(;R11 !== 5;){switch(R11){case 2:var h0I="Failed to sa";h0I+="v";h0I+="e fr";h0I+="agmen";h0I+="t";z?t.I.warn(h0I,z):(z=t.Io.time.fa() - v,m.ka(p.ic.$s) && (p.ic.$s=0),p.ic.$s+=z);u();R11=5;break;}}});Q11=14;break;case 5:(v=this.Io.time.fa(),x=[q.K,q.Ta,q.gd].join("."));q=h.Eoa(q);y={};y[x + "." + l.gea]={cr:q,Ic:l.tF};m.ka(w) || (y[x + "." + l.Cjb]={cr:w,Ic:l.tF});Q11=7;break;case 1:Q11=w instanceof ArrayBuffer?5:6;break;case 6:var j0I="Un";j0I+="able to save fragment bec";j0I+="ause respons";j0I+="e is not an ArrayBuffer";u(Error(j0I));Q11=14;break;}}};n.prototype.iZb=function(q){var S11,z,p,u,t,w,v,x,y,A,B,U11,E,D,V11,K,C,H,M,W11,X11,Y11,F,G,Z11,a21,b21;S11=2;for(;S11 !== 20;){switch(S11){case 4:z={};Object.keys(q.headers).forEach(function(Q){var T11,L;T11=2;for(;T11 !== 5;){switch(T11){case 2:L=h.AZa(q.headers[Q]);z[Q]=L;T11=5;break;}}});S11=9;break;case 8:S11=q && q.data?7:12;break;case 5:S11=q.headers?4:8;break;case 13:x.data=y;S11=12;break;case 2:(w=this,v=this.Io.time.fa(),x={},y=h.a_a(q));x.movieEntry=y;S11=5;break;case 7:y={};(A=q.data,B=Object.keys(q.data));try{U11=2;for(;U11 !== 6;){switch(U11){case 2:(E=c.__values(B),D=E.next());U11=1;break;case 9:try{V11=2;for(;V11 !== 7;){switch(V11){case 1:V11=!H.done?5:7;break;case 5:K=H.value;V11=4;break;case 2:(C=(u=void 0,c.__values(G)),H=C.next());V11=1;break;case 4:V11=K instanceof d.f0 && K.response instanceof ArrayBuffer && !m.ka(K.gd)?3:8;break;case 3:M=h.Eoa(K);V11=9;break;case 9:B[K.gd]={mediaType:M.mediaType,streamId:M.streamId,movieId:M.movieId,bitrate:M.bitrate,location:M.location,serverId:M.serverId,saveToDisk:M.saveToDisk,offset:M.offset,bytes:M.bytes,timescale:M.timescale,startTicks:M.startTicks,durationTicks:M.durationTicks,response:K.response};V11=8;break;case 8:H=C.next();V11=1;break;}}}catch(Q){u={error:Q};}finally{W11=2;for(;W11 !== 1;){switch(W11){case 2:try{X11=2;for(;X11 !== 1;){switch(X11){case 2:H && !H.done && (t=C.return) && t.call(C);X11=1;break;}}}finally{Y11=2;for(;Y11 !== 5;){switch(Y11){case 3:Y11=u?2:7;break;Y11=u?1:5;break;case 1:throw u.error;Y11=5;break;case 2:Y11=u?1:5;break;}}}W11=1;break;}}}U11=8;break;case 7:D=E.next();U11=1;break;case 1:U11=!D.done?5:6;break;case 3:U11=G?9:7;break;case 5:(F=D.value,G=A[F]);B={};U11=3;break;case 8:y[F]=B;U11=7;break;}}}catch(Q){var I;I={error:Q};}finally{Z11=2;for(;Z11 !== 1;){switch(Z11){case 2:try{a21=2;for(;a21 !== 1;){switch(a21){case 2:D && !D.done && (p=E.return) && p.call(E);a21=1;break;}}}finally{b21=2;for(;b21 !== 5;){switch(b21){case 1:throw I.error;b21=5;break;case 3:b21=I?4:9;break;b21=I?1:5;break;case 2:b21=I?1:5;break;case 9:throw I.error;b21=6;break;b21=5;break;}}}Z11=1;break;}}}S11=13;break;case 9:x.headers=z;S11=8;break;case 12:I={lifespan:259200};this.opb && (I.convertToBinaryData=!0);this.Fo.save(l.zr,q.K,x,I,function(Q){var c21;c21=2;for(;c21 !== 1;){switch(c21){case 2:var m0I="save";m0I+="to";m0I+="disk";Q || w.KP(m0I,{X9a:w.Io.time.fa() - v});c21=1;break;}}});S11=20;break;}}};n.prototype.Y1a=function(q){var d21;d21=2;for(;d21 !== 1;){switch(d21){case 2:return !(m.ka(q) || m.Kb(q) || m.ka(q.ic) || m.Kb(q.ic) || m.ka(q.K) || m.Kb(q.K) || m.ka(q.priority) || m.Kb(q.priority));break;}}};r11=6;break;case 2:n.prototype.Fb=function(q,p){var t11,u;t11=2;for(;t11 !== 4;){switch(t11){case 2:var q0I="Media cac";q0I+="he";q0I+=" is ";q0I+="disabled";u=this;this.tia?this.Ft=new Promise(function(t,w){var u11;u11=2;for(;u11 !== 1;){switch(u11){case 2:(void 0 !== p && null !== p?p.$N:function(v){var v11;v11=2;for(;v11 !== 1;){switch(v11){case 2:return k.$N(u.Io,u.J,v);break;case 4:return k.$N(u.Io,u.J,v);break;v11=1;break;}}})(function(v){var w11,x;w11=2;for(;w11 !== 4;){switch(w11){case 2:var a0I="Media c";a0I+="ach";a0I+="e did not initialize";u.Fo=v;x=v.Tn;(v=v.VH)?w(v):x?(u.P_b(q),t()):w(Error(a0I));w11=4;break;}}});u11=1;break;}}}):(this.Ft=Promise.reject(q0I),this.Ft.catch(function(){}));return this.Ft;break;}}};n.prototype.jPb=function(q){var x11,p,u,t;x11=2;for(;x11 !== 5;){switch(x11){case 2:(p=this,u=[l.JGa,q].join("."),t=this.Io.time.fa());return this.Ft.then(function(){var y11;y11=2;for(;y11 !== 1;){switch(y11){case 2:return new Promise(function(w){var z11;z11=2;for(;z11 !== 1;){switch(z11){case 2:p.Fo.LY(l.zr,u,function(v){var A11,x;A11=2;for(;A11 !== 3;){switch(A11){case 2:A11=!v || 0 >= v.length?1:5;break;case 5:x=v[0];p.Fo.read(l.zr,x,function(y,z){var B11,C11,A,B;B11=2;for(;B11 !== 14;){switch(B11){case 2:var n0I=" ";n0I+="fail";n0I+="e";n0I+="d";var W0I="Re";W0I+="adin";W0I+="g mo";W0I+="vie e";W0I+="ntry ";y && p.I.warn(W0I + x + n0I,y);B11=1;break;case 4:try{C11=2;for(;C11 !== 1;){switch(C11){case 2:A=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(z)));C11=1;break;}}}catch(E){}B11=9;break;case 3:A={priority:z.priority,movieId:z.movieId,saveToDisk:z.saveToDisk,firstSelectedStreamBitrate:z.firstSelectedStreamBitrate,initSelectionReason:z.initSelectionReason,histDiscountedThroughputValue:z.histDiscountedThroughput,histTdigest:z.histTdigest,histAge:z.histAge,headerCount:z.headerCount,dataRequestCount:z.dataRequestCount,headerRequestCount:z.headerRequestCount,stats:z.stats};B11=9;break;case 6:p.Y1a(B)?w(B):(p.srb(q),w());B11=14;break;case 1:B11=!m.ka(z)?5:9;break;case 5:B11=z instanceof ArrayBuffer?4:3;break;case 9:m.ka(A) || (B=h.Hoa(A));m.ka(B) || m.Kb(B) || (B.ic=B.ic || ({}),B.headers=B.headers || ({}));B11=6;break;}}});A11=3;break;case 1:var d0I="mediacac";d0I+="he";d0I+="lookup";(w(),p.KP(d0I,{O8:p.Io.time.fa() - t,f5:!1}));A11=3;break;}}});z11=1;break;}}});break;}}});break;}}};n.prototype.fPb=function(q,p,u){var D11,w,t;D11=2;for(;D11 !== 9;){switch(D11){case 4:w=this.Io.time.fa();return this.Ft.then(function(){var E11;E11=2;for(;E11 !== 1;){switch(E11){case 2:return new Promise(function(v){var F11;F11=2;for(;F11 !== 1;){switch(F11){case 2:t.Fo.LY(l.zr,q,function(x){var G11;G11=2;for(;G11 !== 5;){switch(G11){case 2:x=x.reduce(function(y,z){var H11,A;H11=2;for(;H11 !== 9;){switch(H11){case 2:A=z.substr(0,z.lastIndexOf("."));H11=1;break;case 1:var U0I="drmH";U0I+="e";U0I+="ader.__em";U0I+="bed";U0I+="__";H11=-1 !== A.indexOf(U0I)?5:4;break;case 5:return y;break;case 14:return y;break;H11=4;break;case 4:y[A]?y[A].push(z):y[A]=[z];return y;break;}}},{});G11=1;break;case 1:t.MWb(x,p).then(function(y){var I11,z,A;I11=2;for(;I11 !== 8;){switch(I11){case 5:var Q0I="m";Q0I+="edi";Q0I+="acacheloo";Q0I+="k";Q0I+="up";var i0I="No conte";i0I+="nt";i0I+=" data found for ";(z=t.Io.time.fa() - w,A=!1);m.ka(y) || m.ka(y.data) || !m.Rh(y.data)?t.I.trace(i0I + q,u):A=!0;t.KP(Q0I,{O8:z,f5:A});v(y);I11=8;break;case 1:return v();break;case 2:I11=void 0 === u || void 0 === y?1:5;break;}}},function(){var J11;J11=2;for(;J11 !== 1;){switch(J11){case 2:v();J11=1;break;}}});G11=5;break;}}});F11=1;break;}}});break;}}});break;case 7:t=this;D11=9;break;D11=1;break;case 2:t=this;D11=1;break;case 1:D11=!this.Ft?5:4;break;case 5:var P0I="Media c";P0I+="a";P0I+="ch";P0I+="e is not enabled";return Promise.reject(P0I);break;}}};n.prototype.gPb=function(q,p){var K11,u,t;K11=2;for(;K11 !== 5;){switch(K11){case 2:(u=this,t=this.Io.time.fa());return this.Ft.then(function(){var L11;L11=2;for(;L11 !== 1;){switch(L11){case 2:return u.Xob(q);break;}}}).then(function(w){var M11;M11=2;for(;M11 !== 5;){switch(M11){case 1:return u.Wqb(q.toString(),p,t);break;case 2:M11=w?1:4;break;case 4:var X0I="mediac";X0I+="achelo";X0I+="oku";X0I+="p";u.KP(X0I,{O8:u.Io.time.fa() - t,f5:!1});M11=5;break;}}});break;}}};r11=3;break;case 19:return n;break;case 6:n.prototype.KP=function(q,p){var e21,u;e21=2;for(;e21 !== 9;){switch(e21){case 3:var v0I="me";v0I+="diac";v0I+="ache";this.dob && this.emit(v0I,u);e21=9;break;case 2:var F0I="mediacac";F0I+="hel";F0I+="ookup";var y0I="sa";y0I+="v";y0I+="et";y0I+="odisk";var s0I="med";s0I+="i";s0I+="acache";s0I+="stats";u={type:s0I,operation:q};y0I === q && (u.saveTime=p.X9a);F0I === q && (u.lookupTime=p.O8,u.dataFound=p.f5);u.oneObject=this.eG;e21=3;break;}}};n.prototype.MWb=function(q,p){var f21,u,t;f21=2;for(;f21 !== 5;){switch(f21){case 2:(u=this,t=Object.keys(q).map(function(w){var g21;g21=2;for(;g21 !== 1;){switch(g21){case 4:return u.eAb(q[w]);break;g21=1;break;case 2:return u.eAb(q[w]);break;}}}));return Promise.all(t).then(function(w){var h21;h21=2;for(;h21 !== 5;){switch(h21){case 2:w.sort(function(v,x){var i21;i21=2;for(;i21 !== 1;){switch(i21){case 2:return v.dd === x.dd?0:v.dd?-1:1;break;}}});return h.Ioa(u.J,u.I,u.cf,w,p);break;}}});break;}}};n.prototype.eAb=function(q){var j21,p,u,t,w;j21=2;for(;j21 !== 5;){switch(j21){case 2:(p=this,w={});return new Promise(function(v,x){var k21,y;k21=2;for(;k21 !== 5;){switch(k21){case 2:p.Fo.X$(l.zr,q,function(z,A){var l21,m21,B;l21=2;for(;l21 !== 1;){switch(l21){case 2:try{m21=2;for(;m21 !== 19;){switch(m21){case 7:y=h.Wna(t,w,u);m21=6;break;case 10:var C0I="Miss";C0I+="ing";C0I+=" or invalid ";C0I+="me";C0I+="dia data parts for stream ";return (B=C0I + y.Ta,x(B));break;case 12:v(y);m21=19;break;case 14:m21=h.Mqa(y)?13:12;break;case 20:y=h.Vna(t,{response:w.response});m21=6;break;case 9:var g0I="Header fragments ";g0I+="was an a";g0I+="rray bu";g0I+="ffer";g0I+=", is invalid type ";B=g0I + y.Ta;m21=8;break;case 6:m21=y.dd?14:11;break;case 8:return x(B);break;case 1:return x(z);break;case 3:m21=u instanceof ArrayBuffer?9:7;break;case 13:var I0I="Missin";I0I+="g or invalid heade";I0I+="r data parts for stre";I0I+="am ";return (B=I0I + y.Ta,x(B));break;case 4:m21=h.R1a(t)?3:20;break;case 5:Object.keys(A).map(function(E){var n21,D,o21,F;n21=2;for(;n21 !== 3;){switch(n21){case 1:n21=D === l.gea?5:4;break;case 2:D=E.substr(E.lastIndexOf(".") + 1);n21=1;break;case 7:n21=D == l.gea?3:5;break;n21=D === l.gea?5:4;break;case 5:try{o21=2;for(;o21 !== 5;){switch(o21){case 2:F=new Uint8Array(A[E]);t=JSON.parse(String.fromCharCode.apply(null,F));o21=5;break;}}}catch(G){t=A[E];}n21=3;break;case 4:D === l.PDa?u=A[E]:w[D]=A[E];n21=3;break;}}});m21=4;break;case 11:m21=h.Lqa(y)?10:12;break;case 2:m21=z || void 0 === A?1:5;break;}}}catch(E){x(E);}l21=1;break;}}});k21=5;break;}}});break;}}};n.prototype.Wqb=function(q,p,u){var p21,t;p21=2;for(;p21 !== 5;){switch(p21){case 2:t=this;return new Promise(function(w,v){var q21,x;q21=2;for(;q21 !== 5;){switch(q21){case 2:t.Fo.read(l.zr,q,function(y,z){var r21,w21,O,x21,P,S,U,Z,y21,z21,A21,J,N,B21,C21,D21,F,G,s21,K,M,I,C,H,Q,t21,u21,v21,A,B,E,D;r21=2;for(;r21 !== 4;){switch(r21){case 10:r21=F.data?20:17;break;case 17:x=h.Ioa(t.J,t.I,t.cf,z,p);r21=16;break;case 13:r21=F.headers?12:10;break;case 18:try{w21=2;for(;w21 !== 8;){switch(w21){case 5:K=N.value;O=Object.keys(L[K]);try{x21=2;for(;x21 !== 7;){switch(x21){case 2:(P=(E=void 0,c.__values(O)),S=P.next());x21=1;break;case 1:x21=!S.done?5:7;break;case 4:x21=h.Lqa(Z)?3:9;break;case 5:(U=L[K][S.value],Z=h.Vna(U,U));x21=4;break;case 3:var c0I="Mi";c0I+="ssing or inval";c0I+="id me";c0I+="dia data parts for st";c0I+="ream ";return (I=c0I + Z.Ta,v(I));break;case 9:z.push(Z);x21=8;break;case 8:S=P.next();x21=1;break;}}}catch(ya){E={error:ya};}finally{y21=2;for(;y21 !== 1;){switch(y21){case 2:try{z21=2;for(;z21 !== 1;){switch(z21){case 2:S && !S.done && (D=P.return) && D.call(P);z21=1;break;}}}finally{A21=2;for(;A21 !== 5;){switch(A21){case 3:A21=E?6:1;break;A21=E?1:5;break;case 2:A21=E?1:5;break;case 9:throw E.error;A21=9;break;A21=5;break;case 1:throw E.error;A21=5;break;}}}y21=1;break;}}}w21=9;break;case 2:(J=c.__values(A),N=J.next());w21=1;break;case 9:N=J.next();w21=1;break;case 1:w21=!N.done?5:8;break;}}}catch(ya){var ja;ja={error:ya};}finally{B21=2;for(;B21 !== 1;){switch(B21){case 2:try{C21=2;for(;C21 !== 1;){switch(C21){case 2:N && !N.done && (B=J.return) && B.call(J);C21=1;break;}}}finally{D21=2;for(;D21 !== 5;){switch(D21){case 3:D21=ja?7:7;break;D21=ja?1:5;break;case 1:throw ja.error;D21=5;break;case 2:D21=ja?1:5;break;}}}B21=1;break;}}}r21=17;break;case 8:F=z[q];r21=7;break;case 9:w();r21=4;break;case 1:r21=y?5:3;break;case 6:y=h.Hoa(F.movieEntry);z=[];r21=13;break;case 12:G=Object.keys(F.headers);r21=11;break;case 11:try{s21=2;for(;s21 !== 12;){switch(s21){case 9:return v(I);break;case 5:(K=H.value,M=F.headers[K]);s21=4;break;case 4:s21=M.fragments instanceof ArrayBuffer?3:8;break;case 3:var L0I="Header";L0I+=" ";L0I+="fragments was an array buffer, ";L0I+="is invalid type ";I=L0I + M.streamId;s21=9;break;case 14:z.push(Q);s21=13;break;case 1:s21=!H.done?5:12;break;case 7:s21=h.Mqa(Q)?6:14;break;case 6:var N0I="Missing";N0I+=" or inva";N0I+="lid header data parts for ";N0I+="stream ";return (I=N0I + Q.Ta,v(I));break;case 13:H=C.next();s21=1;break;case 2:(C=c.__values(G),H=C.next());s21=1;break;case 8:Q=h.Wna(M,M,M.fragments);s21=7;break;}}}catch(ya){var L;L={error:ya};}finally{t21=2;for(;t21 !== 1;){switch(t21){case 2:try{u21=2;for(;u21 !== 1;){switch(u21){case 2:H && !H.done && (A=C.return) && A.call(C);u21=1;break;}}}finally{v21=2;for(;v21 !== 5;){switch(v21){case 9:throw L.error;v21=2;break;v21=5;break;case 2:v21=L?1:5;break;case 1:throw L.error;v21=5;break;}}}t21=1;break;}}}r21=10;break;case 2:r21=1;break;case 7:r21=F.movieEntry?6:15;break;case 20:L=F.data;A=Object.keys(L);r21=18;break;case 3:r21=m.ka(z)?9:8;break;case 5:v(y);r21=4;break;case 16:void 0 !== x && (x.Lm=y);r21=15;break;case 15:var D0I="m";D0I+="ediacacheloo";D0I+="kup";t.KP(D0I,{O8:t.Io.time.fa() - u,f5:!0});w(x);r21=4;break;}}});q21=5;break;}}});break;}}};n.prototype.Xob=function(q){var E21,p;E21=2;for(;E21 !== 5;){switch(E21){case 2:var A0I="M";A0I+="edia cache is not ena";A0I+="bl";A0I+="ed";p=this;return this.Ft?this.Ft.then(function(){var F21;F21=2;for(;F21 !== 1;){switch(F21){case 2:return new Promise(function(u){var G21;G21=2;for(;G21 !== 1;){switch(G21){case 2:p.Fo.LY(l.zr,q.toString(),function(t){var H21;H21=2;for(;H21 !== 1;){switch(H21){case 2:t && 0 !== t.length?1 === t.length && t[0] === q.toString()?u(!0):u(!1):u(!1);H21=1;break;}}});G21=1;break;}}});break;}}}):Promise.reject(A0I);break;}}};n.prototype.srb=function(q){var I21,t,w;function u(v){var K21;K21=2;for(;K21 !== 1;){switch(K21){case 2:v.map(p);K21=1;break;}}}I21=2;for(;I21 !== 4;){switch(I21){case 2:(t=this,w=q.toString());this.Fo.LY(l.zr,[l.JGa,q].join("."),u);this.Fo.LY(l.zr,w,u);I21=4;break;}}function p(v){var J21;J21=2;for(;J21 !== 1;){switch(J21){case 2:t.Fo.delete(l.zr,v);J21=1;break;}}}};n.prototype.P_b=function(q){var L21,p;L21=2;for(;L21 !== 4;){switch(L21){case 2:var o0I="media";o0I+="cache-err";o0I+="or";var f0I="me";f0I+="diacach";f0I+="e";p=new f.gi();p.on(this.Fo,f0I,function(u){var M21;M21=2;for(;M21 !== 4;){switch(M21){case 1:u.keys || u.items.map(function(t){var N21;N21=2;for(;N21 !== 1;){switch(N21){case 2:return t.key;break;}}});M21=5;break;case 2:M21=u.keys || u.items?1:5;break;case 5:var z0I="m";z0I+="e";z0I+="dia";z0I+="cac";z0I+="he";q.emit(z0I,u);M21=4;break;case 7:q.emit("",u);M21=0;break;M21=4;break;}}});p.on(this.Fo,o0I,function(u){var O21;O21=2;for(;O21 !== 5;){switch(O21){case 2:var O3I="me";O3I+="diaca";O3I+="ch";O3I+="e";var G0I="e";G0I+="rro";G0I+="r";u.type=G0I;q.emit(O3I,u);O21=5;break;}}});L21=4;break;}}};r11=19;break;}}function n(q,p,u){var s11;s11=2;for(;s11 !== 12;){switch(s11){case 7:var S3I="1SIYbZr";S3I+="NJCp";S3I+="9";var Y3I="Media";Y3I+=" cache has n";Y3I+="ot been";Y3I+=" initiaize";Y3I+="d";this.cf=u;this.Ft=Promise.reject(Y3I);this.Ft.catch(function(){});S3I;s11=12;break;case 2:var J3I="m";J3I+="edia|as";J3I+="e";J3I+="j";J3I+="s";var E3I="M";E3I+="EDIACA";E3I+="CHE";this.I=new p.Console(E3I,J3I);this.tia=(q.jza || q.kza) && 0 < (q.nV || (p.options || ({})).AO || 0);this.dob=q.TDb?q.TDb:!1;this.eG=q.Esa?q.Esa:!1;this.opb=q.A4a?q.A4a:!1;this.J=q;this.Io=p;s11=7;break;}}}})();b.iHa=a;r.Bf(f.EventEmitter,a);},function(r,b,a){var c,f,k,m,d;c=a(10);k=[];d=!1;r.exports={$N:function(g,h,l){var n;if(d)c.kd(l) && (f.Tn || f.VH?setTimeout(function(){l(f);},0):k.push(l));else {d=!0;n=a(129);n.LW(g);m=new n.Console("MEDIACACHE","media|asejs");f=new (a(404))(h,function(q){q && m.warn("Failed to initialize MediaCache",q);c.kd(l) && setTimeout(function(){l(f);},0);k.map(function(p){setTimeout(function(){p(f);},0);});});}return f;},Sbc:function(g,h){f=new (a(404))(g,function(l,n){l && m.warn("Failed to initialize MediaCache",l);c.kd(h) && setTimeout(function(){h(n);},0);});}};},function(r,b,a){var f,k,m,d,g;function c(h){this.Jr=h;this.context=h.context;this.H5a="NULLCONTEXT" === h.context?!0:!1;}f=a(10);k=a(129);m=new k.Console("DISKCACHE","media|asejs");d={context:"NULLCONTEXT",read:function(h,l,n,q,p){p("MediaCache is not supported");},remove:function(h,l,n){n("MediaCache is not supported");},create:function(h,l,n,q){q("MediaCache is not supported");},append:function(h,l,n,q){q("MediaCache is not supported");},query:function(h,l,n){n([]);}};c.prototype.xG=function(){var h,l,n;h=Array.prototype.slice.call(arguments);l=h[0];n=h[h.length - 1];h=h.slice(1,h.length - 1);h.push(function(q){n(null,q);});try{if(this.H5a)throw Error("Media Cache not supported");l.apply(this.Jr,h);}catch(q){n(q);}};c.prototype.query=function(h,l,n,q){try{if(this.H5a)throw Error("Media Cache not supported");this.Jr.query(h,l,function(p){n(null,p);},q);}catch(p){n(p);}};c.prototype.read=function(h,l,n,q,p){this.xG(this.Jr.read,h,l,n,q,p);};c.prototype.remove=function(h,l,n){this.xG(this.Jr.remove,h,l,n);};c.prototype.create=function(h,l,n,q){this.xG(this.Jr.create,h,l,n,q);};c.prototype.append=function(h,l,n,q){this.xG(this.Jr.append,h,l,n,q);};c.prototype.info=function(h){this.xG(this.Jr.info,h);};c.prototype.validate=function(h){this.xG(this.Jr.validate,h);};c.prototype.flush=function(h){this.xG(this.Jr.flush,h);};c.prototype.clear=function(){this.Jr.clear();};r.exports={hAb:function(h){var l,n,q,p,u;l=h.nbc || "NRDMEDIADISKCACHE";g=h.nV || 0;0 !== g || f.ka(k.options) || f.ka(k.options.AO) || (g=k.options.AO);h=g;try{q=k.storage.JCb;if(!q || !f.Rh(q))throw (m.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(n=q[l]){m.warn("Disk store exists, returning");p=new c(n);}else {if(f.ka(k.storage) || !f.kd(k.storage.JUa) || k.options && 0 === k.options.AO)throw (m.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");m.warn("Disk store context doesn't exist, creating with size " + h);u=k.storage.JUa({context:l,size:h,encrypted:!0,signed:!0});if(!u || !u.valid)throw "Failed to create disk store context";p=new c(u);}}catch(t){m.warn("Exception creating disk store context - returning NullContext (noops)",t);p=new c(d);}return p;},BHb:function(){return g;},Y6b:c};},function(r,b,a){var g,h,l,n,q,p,u,t,w;function c(){}function f(v,x,y,z,A){var B;B=g.kd(z)?z:c;this.kw=v;this.Fg=y.Dw;this.Vy=0;this.iob=y.DEb || "NONE";this.Ey=g.ka(A) || g.Kb(A)?0:A;this.Ce={};this.Ct=y.pdc || h.storage.gS;this.dw=x;this.bM=q.create(this.dw,y.kBb * this.Ey,this.kw);this.on=this.addEventListener=w.addEventListener;this.removeEventListener=w.removeEventListener;this.emit=this.Ya=w.Ya;this.LOa=m(this,f.Ne.REPLACE);this.Job=m(this,f.Ne.uNa);this.qG;this.qG=y.qdb?a(887):a(888);this.dw.query(this.Ct,this.Pq(""),(function(E,D){var F;if(E)B(E);else {F=this.bM.xoa();E=Object.keys(D).filter(function(G){return G !== F && p.gO(G);}).map(this.Fya.bind(this));this.X$(E,(function(G,C){Object.keys(C).map((function(H){var K,M;K=C[H];this.Ce[p.a6(H)]=K;if(K.qwa && 1 < Object.keys(K.qwa).length){M=0;Object.keys(K.qwa).forEach((function(I){D[this.Pq(I)] && g.Ea(D[this.Pq(I)].size) && (M+=D[this.Pq(I)].size);}).bind(this));H=p.a6(H);this.Ce[H].size=M;}else (H=p.a6(H),D[this.Pq(H)] && (this.Ce[H].size=D[this.Pq(H)].size));}).bind(this));k(this.dw,this.Ct,this.kw,(function(H,K){this.Vy=K;H?B(H):B(null,this);}).bind(this));}).bind(this));}}).bind(this));}function k(v,x,y,z){var A;A=g.kd(z)?z:c;v.query(x,y,function(B,E){B?A(B):(B=Object.keys(E).reduce(function(D,F){return D + (E[F].size || 0);},0),A(null,B));});}function m(v,x){return function(y,z,A,B,E){return function(D,F){var G;if(D)(z || v.Ya(f.Ne.Rf,{itemKey:y,error:D}),A(D));else {G={Zk:0,duration:0,items:[],time:h.time.now()};Object.keys(F.actions).map(function(C){var H;H=F.actions[C];C={key:v.Fya(H.u8),ol:C};H.aa?(G.Zk+=H.Zk,C.t8=H.Zk,g.Ea(H.duration) && (G.duration+=H.duration)):C.error=H.error;G.items.push(C);});D=g.kd(B)?B():0;0 < E && (G.OM=E - D);k(v.dw,v.Ct,v.kw,function(C,H){C?A(C):(v.Vy=H,G.On=v.Fg - H,z || v.Ya(x,t.VYa(G)),A(null,G));});}};};}function d(v,x){return 0 < x && v >= x?!0:!1;}g=a(10);h=a(129);l=a(254);b=a(85);n=new h.Console("MEDIACACHE","media|asejs");q=a(883);p=a(405);u=a(130);t=a(255);w=a(406).EventEmitter;b({Ne:{uNa:"writeitem",REPLACE:"replaceitem",Mda:"journalupdate",Rf:"mediacache-error"}},f);f.prototype.JIb=function(){return this.kw;};f.prototype.Fya=function(v){return v.slice(this.kw.length + 1);};f.prototype.roa=function(){return Object.keys(this.Ce).filter((function(v){v=p.Ona(this.Ce[v]);return void 0 === v || 0 >= v.hUa();}).bind(this));};f.prototype.WIb=function(){return Object.keys(this.Ce).reduce((function(v,x){var y;y=this.Ce[x];return y && y.creationTime < v.creationTime?{resourceKey:x,creationTime:y.creationTime}:v;}).bind(this),{resourceKey:null,creationTime:h.time.now()}).tec;};f.prototype.NHb=function(){var v;switch(this.iob){case "FIFO":v=this.WIb();}return v;};f.prototype.bCb=function(v){var x;x=g.kd(v)?v:c;this.IZa((function(y){var z,A,B;z=this.Ce;A=Object.keys(z).reduce(function(E,D){D=z[D];D.resourceIndex && Object.keys(D.resourceIndex).forEach(function(F){E.push(F);});return E;},[]);if((y=y.filter(function(E){return !p.gO(E) && 0 > A.indexOf(E);})) && 0 < y.length){B=this;y=h.Promise.all(y.map(function(E){return new h.Promise(function(D,F){B.delete(E,function(G){G?F(G):D();});});})).then(function(){x(void 0,{Mva:!0});},function(E){x(E,{Mva:!1});});t.ux(y);}else v(void 0,{Mva:!1});}).bind(this));};f.prototype.YWb=function(v,x,y){var z,A;z=g.kd(x)?x:c;x=this.Pq(v);A=h.time.now();this.dw.read(this.Ct,x,0,-1,(function(B,E){var D;if(B)z(B);else if(E && E.aa && E.value){g.kd(y) || (y=this.qG.eW(u.Ar.fF),p.gO(v)?y=this.qG.eW(u.Ar.x1):(B=this.Ce[v],!g.ka(B) && g.Ea(B.resourceIndex[v])?(B=B.resourceIndex[v],g.ka(B) && (B=u.Ar.fF),y=this.qG.eW(B)):n.warn("Metadata is undefined or does not contain a resource format for key",v,":",B)));try{D=y(E.value);}catch(F){return z(l.QK.vr(F.message));}E={duration:h.time.now() - A};this.Ce[v] && g.Ea(this.Ce[v].size) && (E.lz=g.Ea(this.Ce[v].size)?this.Ce[v].size:0);z(null,D,E);}else z(l.QK.vr(E.error));}).bind(this));};f.prototype.read=function(v,x,y){this.YWb(v,x,y);};f.prototype.X$=function(v,x,y){var z,A,B;z=g.kd(x)?x:c;if("[object Array]" !== Object.prototype.toString.call(v))z(l.QK.vr("item keys must be an array"));else {A={};B=[];v=h.Promise.all(v.map((function(E){return new h.Promise((function(D,F){var G;y && !g.ka(y[E]) && (G=this.qG.eW(y[E]));this.read(E,function(C,H,K){C?(H={},H[E]=C,F(H)):(A[E]=H,B.push({duration:K.duration,lz:K.lz}),D());},G);}).bind(this));}).bind(this))).then(function(){var E;E={};0 < B.length && (E=B.reduce(function(D,F){g.Ea(F.duration) && (D.duration+=F.duration);g.Ea(F.lz) && (D.lz+=F.lz);return D;},{duration:0,lz:0}));z(null,A,E);},function(E){z(E);});t.ux(v);}};f.prototype.write=function(v,x,y,z,A){var B,E,D;y=g.kd(y)?y:c;B=this.Pq(v);E="function" === typeof A?A():0;D=u.tpa(x);D=this.qG.apa(D)(x);D.byteLength + this.Vy >= this.Fg?y(l.gK):d(D.byteLength + E,this.Ey)?y(l.k2):this.bM.save(this.Ct,B,x,this.Job(v,z,y,A,this.Ey),D.byteLength);};f.prototype.replace=function(v,x,y,z,A){var B,E,D,F;B=g.kd(y)?y:c;E=this.Pq(v);D=0;"function" === typeof A && (D=A());y=u.tpa(x);F=this.qG.apa(y)(x);y=(this.Ce[v] || ({})).size || 0;0 >= y && this.Ce[v]?this.l_a([v],(function(G){n.trace("Replacing key",v,"which exists:",! !this.Ce[v],this.Ce[v]?this.Ce[v]:void 0,"and has size",G,"with",x,"with size",F.byteLength,"plus _used",this.Vy,"vs capacity",this.Fg);F.byteLength - G + this.Vy >= this.Fg?B(l.gK):d(F.byteLength - G + D,this.Ey)?B(l.k2):this.bM.replace(this.Ct,E,x,this.LOa(v,z,B,A,this.Ey),F.byteLength);}).bind(this)):(n.trace("Replacing key",v,"which exists:",! !this.Ce[v],this.Ce[v]?this.Ce[v]:void 0,"and has size",y,"with",x,"with size",F.byteLength,"plus _used",this.Vy,"vs capacity",this.Fg),F.byteLength - y + this.Vy >= this.Fg?B(l.gK):d(F.byteLength - y + D,this.Ey)?B(l.k2):this.bM.replace(this.Ct,E,x,this.LOa(v,z,B,A,this.Ey),F.byteLength));};f.prototype.fYb=function(v,x,y,z){var A;A=g.kd(x)?x:c;"[object Object]" !== Object.prototype.toString.call(v)?A(l.j2.vr("items must be a map of keys to objects")):(x=h.Promise.all(Object.keys(v).map((function(B){return new h.Promise((function(E){this.replace(B,v[B],function(D,F){D?E({error:D,cr:B}):E(F);},!0,z);}).bind(this));}).bind(this))).then((function(B){var E,D,F,G;try{E=Number.MAX_VALUE;D=B.reduce(function(C,H){H.error || (C.Zk+=H.Zk,g.Ea(H.duration) && (C.duration+=H.duration),!g.ka(H.On) && H.On < E && (E=H.On),H.items.map(function(K){C.items.push({key:K.key,ol:K.ol,t8:K.t8,yPb:K.yPb,duration:K.duration});}),E < Number.MAX_VALUE && (C.On=E));return C;},{Zk:0,items:[],time:h.time.now(),duration:0});0 < this.Ey && (D.OM=this.Ey - z());F=B.filter(function(C){return !g.ka(C.error);});G=t.Z_a(F);y || (G?G.forEach((function(C){this.Ya(f.Ne.Rf,C);}).bind(this)):this.Ya(f.Ne.REPLACE,t.VYa(D)));A(G,D);}catch(C){A(C);}}).bind(this),(function(B){y || this.Ya(f.Ne.Rf,B);A(B);}).bind(this)),t.ux(x));};f.prototype.delete=function(v,x){var y;y=g.kd(x)?x:c;this.dw.remove(this.Ct,this.Pq(v),(function(z,A){z?y(z):A && A.aa?k(this.dw,this.Ct,this.Pq(""),(function(B,E){B?y(B):(this.Vy=E,y());}).bind(this)):y(l.Agb.vr(A.error));}).bind(this));};f.prototype.IZa=function(v){this.query("",function(x,y){x?(n.error("Failed to get keys",x),v([])):v(y);});};f.prototype.query=function(v,x){var y,z;y=g.kd(x)?x:c;z=this.bM.xoa();this.dw.query(this.Ct,this.Pq(v),(function(A,B){A?y(A):y(null,Object.keys(B).filter(function(E){return E !== z;}).map(this.Fya.bind(this)));}).bind(this));};f.prototype.Pq=function(v){return this.kw + "." + v;};f.prototype.clear=function(v){var x;x=g.kd(v)?v:c;this.IZa((function(y){var z;z=h.Promise.all(y.map((function(A){return new h.Promise((function(B){A && this.delete(A,function(){B();});}).bind(this));}).bind(this))).then(function(){x(y);},(function(A){this.Ya(f.Ne.Rf,A);x([],A);}).bind(this));t.ux(z);}).bind(this));};f.prototype.l_a=function(v,x){var y,z;y=g.kd(x)?x:c;z=(v || []).map((function(A){return this.Pq(A);}).bind(this));this.dw.query(this.Ct,this.kw,(function(A,B){A?(n.error("failed to get persisted size for keyset ",v,A),y(0)):(A=Object.keys(B).filter(function(E){return 0 <= z.indexOf(E);}).reduce(function(E,D){return E + (B[D].size || 0);},0),y(A));}).bind(this));};f.prototype.cHb=function(v){return this.bM.KYa(v);};f.prototype.constructor=f;r.exports=f;},function(r,b,a){var f,k,m,d,g,h,l,n;function c(q,p,u){var A,B;function t(E,D,F,G){E.info.call(E,(function(C,H){var K;if(C)G(C);else {try{K=H.values[this.context].entries[D][F].size;}catch(M){K=-1;}-1 < K?G(null,K):this.validate(function(M,I){M?G(M):(I[F] && (K=I[F].size),G(null,K));});}}).bind(E));}function w(E,D,F,G,C,H,K){var M;H?H.actions || (H.actions={}):H={actions:{}};A(G);M=k.time.now();G=new l(function(I,Q){E.create(k.storage.gS,D,F,function(L,J){L?Q(L):I(J);});}).then(function(I){I.aa?t(E,k.storage.gS,D,function(Q,L){Q?K(Q):(B(L),A(L),H.actions[c.W_.Mda]={aa:!0,time:C,Zk:L,u8:D,s8a:I,duration:k.time.now() - M},H.On=I.On,K(null,H));}):(H.actions[c.W_.Mda]={aa:!1,u8:D,error:I.error},K(null,H));},function(I){K(I);});g.ux(G);}function v(E,D,F,G,C,H){G.Hq(F.time,F);for(var K=F.time - 864E5,M=G.px();M && !isNaN(M.time) && M.time < K;){M=G.SM();A(0 - (M.ga || 0));M=G.px();}G=G.Ap().map(function(I){return I.time + ";" + I.ga;});w(E,D,Array.prototype.join.call(G,"|"),F.ga,F.time,C,H);}function x(E,D,F,G,C,H,K,M,I){var Q;Q=k.time.now();E.create(F,G,C,function(L,J){var N;if(L)h.error("Failed to replace item",G,L);else if(J.aa){N=J.On;t(E,F,G,function(O,P){var S,U;if(O)I(O);else {O={time:M,ga:P || 0};S={On:N,actions:{}};U=k.time.now() - Q;S.actions[c.W_.REPLACE]={aa:!0,time:M,Zk:P,u8:G,s8a:J,duration:U};H?v(E,D,O,K,S,I):(A(P),I(null,S));}});}else I(m.j2.vr(J.error || "Failed to create item"));});}function y(E,D,F,G,C,H,K,M,I){var Q;Q=k.time.now();E.append(F,G,C,function(L,J){var N;if(L)(h.error("Failed to save item " + G,L),I(L));else if(J.aa){N=J.On;t(E,F,G,function(O,P){var S,U;if(O)I(O);else {O={time:M,ga:P || 0};S={On:N,actions:{}};U=k.time.now() - Q;S.actions[c.W_.Nlb]={aa:!0,time:M,Zk:P,u8:G,s8a:J,duration:U};H?v(E,D,O,K,S,I):(A(P),I(null,S));}});}else I(m.j2.vr(J.error || "Failed to save item"));});}function z(E,D){E && f.kd(E.remove) && E.Jr.valid && E.remove(k.storage.gS,D.EL,function(F,G){if(F)h.error("Failed to delete old journal key",F);else try{G && (f.ka(G.error) || G.error.some(function(C){return "NFErr_FileNotFound" === C.Fbc;})) && v(E,D.EL,{time:0,ga:0},D.HT,0,function(){});}catch(C){}});}if(!q.Jr.valid)return n;this.gOa=f.ka(p) || f.Kb(p)?0:p;this.Jga=q;this.qha=this.QS=0;this.HT=new d();this.Cqb=u || "default";this.EL=this.Cqb + ".NRDCACHEJOURNALKEY";A=(function(E){isNaN(E) || (this.QS+=E);return this.QS;}).bind(this);B=(function(E){isNaN(E) || (this.qha+=E);return this.qha;}).bind(this);this.xoa=function(){return this.EL;};this.save=function(E,D,F,G){var C;C=k.time.now();y(this.Jga,this.EL,E,D,F,0 <= this.gOa,this.HT,C,G);};this.replace=function(E,D,F,G){var C;C=k.time.now();x(this.Jga,this.EL,E,D,F,0 <= this.gOa,this.HT,C,G);};this.KYa=function(E){var D,C;D=this.QS;E-=864E5;for(var F=this.HT.Ap(),G=0;G < F.length;G++){C=F[G];C.time < E && !isNaN(C.ga) && (D-=C.ga);}return D;};(function(E){var D;D=E.Jga;E.QS=0;D.read(k.storage.gS,E.EL,0,-1,function(F,G){var C,H,K,I;C=[];H=0;K=!0;if(F)h.error("Failed to compile records",F);else if(G.aa){F=String.fromCharCode.apply(null,new Uint8Array(G.value));F=String.prototype.split.call(F,"|");G=F.reduce(function(Q,L){return Q + (L.length + 40);},0);A(G);C=F.map(function(Q){Q=Q.split(";");return {time:Number(Q[0]),ga:Number(Q[1])};});try{if(!isNaN(C.reduce(function(Q,L){return Q + L.ga;},0))){K=!1;for(var M=k.time.now() - 864E5;H < C.length;H++){I=C[H];I.time < M || (E.HT.Hq(I.time,I),A(I.ga));}}}catch(Q){}}K && z(D,E);});})(this);}f=a(10);k=a(129);m=a(254);d=a(884);b=a(85);g=a(255);h=new k.Console("DISKWRITEMANAGER","media|asejs");l=k.Promise;b({W_:{Nlb:"saveitem",REPLACE:"replaceitem",Mda:"journalupdate"}},c);n={save:function(q,p,u,t){t(m.FGa);},replace:function(q,p,u,t){t(m.FGa);},xoa:function(){return "";},KYa:function(){return 0;}};c.prototype.constructor=c;r.exports={create:function(q,p,u){return new c(q,p,u);},f9b:n};},function(r){function b(f){if(!(this instanceof b))return new b(f);if("undefined" === typeof f)this.un=function(k,m){return k <= m;};else {if("function" !== typeof f)throw Error("heap comparator must be a function");this.un=f;}this.Tp=[];}function a(f,k){var m,d,g,h,l,n,q;m=f.Tp;d=f.un;g=2 * k + 1;h=2 * k + 2;l=m[k];n=m[g];q=m[h];n && d(n.priority,l.priority) && (!q || d(n.priority,q.priority))?(c(m,k,g),a(f,g,d)):q && d(q.priority,l.priority) && (c(m,k,h),a(f,h,d));}function c(f,k,m){var d;d=f[k];f[k]=f[m];f[m]=d;}b.prototype.clear=function(){this.Tp=[];};b.prototype.Hq=function(f,k){this.Tp.push({priority:f,value:k});f=this.Tp;k=this.un;for(var m=f.length - 1,d=0 === m?null:Math.floor((m - 1) / 2);null !== d && k(f[m].priority,f[d].priority);){c(f,m,d);m=d;d=0 === m?null:Math.floor((m - 1) / 2);}};b.prototype.remove=function(){var f;if(0 !== this.Tp.length){f=this.Tp[0];c(this.Tp,0,this.Tp.length - 1);this.Tp.pop();a(this,0);return f.value;}};b.prototype.px=function(){if(0 !== this.Tp.length)return this.Tp[0].value;};b.prototype.enqueue=b.prototype.Hq;b.prototype.SM=b.prototype.remove;b.prototype.e8=function(){return 0 === this.Tp.length;};b.prototype.Ap=function(){return this.Tp.map(function(f){return f.value;});};r.exports=b;},function(r){function b(c,f){var k;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Ad)return (this.Ad={},this.Ad[c]=[f],!0);k=this.Ad[c];return void 0 === k?(this.Ad[c]=[f],!0):0 > k.indexOf(f)?(k.push(f),!0):!1;}function a(c,f){c=this.Ad?this.Ad[c]:void 0;if(!c)return !1;c.forEach(function(k){k(f);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,f){var k;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Ad)return !1;k=this.Ad[c];if(void 0 === k)return !1;f=k.indexOf(f);if(0 > f)return !1;if(1 === k.length)return (delete this.Ad[c],!0);k.splice(f,1);return !0;},Ya:a,emit:a,removeAllListeners:function(c){this.Ad && (void 0 === c?delete this.Ad:delete this.Ad[c]);return this;}};},function(r){function b(c,f,k,m){c.trace(":",k,":",m);f(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,f,k,m){k=m?k.bind(m):k;m=!1;if(c){this.console && (k=b.bind(null,this.console,k,f));if("function" === typeof c.addEventListener)m=c.addEventListener(f,k);else if("function" === typeof c.addListener)m=c.addListener(f,k);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,k]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var k,m;k=f[0];m=f[1];f=f[2];"function" === typeof k.removeEventListener?k.removeEventListener(m,f):"function" === typeof k.removeListener && k.removeListener(m,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var c,f,k,m;c=a(10);f=a(130);k={};k[f.Ar.fF]=function(d){return d;};k[f.Ar.R1]=function(d){d=d || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(d));};k[f.Ar.x1]=function(d){var g;g=d || new ArrayBuffer(0);d="";g=new Uint8Array(g);for(var h=0;h < g.byteLength;h++){d+=String.fromCharCode(g[h]);}return JSON.parse(d);};m={};m[f.Ar.fF]=function(d){return d;};m[f.Ar.R1]=function(d){for(var g=new ArrayBuffer(d.length),h=new Uint8Array(g),l=0,n=d.length;l < n;l++){h[l]=d.charCodeAt(l);}return g;};m[f.Ar.x1]=function(d){return c.ka(d) || c.Kb(d)?d:m[f.Ar.R1](JSON.stringify(d));};r.exports={eW:function(d){return k[d] || k[f.Ar.fF];},apa:function(d){return m[d] || m[f.Ar.fF];}};},function(r,b,a){function c(k){return k;}function f(){return c;}a(10);r.exports={eW:f,apa:f};},function(r,b,a){var k;function c(m,d){return m.length > d.length?1:d.length > m.length?-1:0;}function f(m,d){var g,h,l;g=[];if(k.Rh(d)){h={};l={};l[m]=h;g.push(l);g=Object.keys(d).reduce(function(n,q){var p,u,t;p=d[q];u={};if(k.a8(p)){t=m + ".__embed__." + q;u[t]=p;n.push(u);}else k.Rh(p)?(t=m + ".__sub__." + q,p=f(t,p),h[q]=p[0][t],n=n.concat(p.slice(1))):h[q]=p;return n;},g);}else (l={},l[m]=d,g.push(l));return g;}k=a(130);r.exports={ICb:f,CMb:function(m){var d,g,h,t;d=Object.keys(m).map(function(w){return w.split(".");});d.sort(c);g=d[0];h=g.length;g=m[g.join(".")];for(var l=1;l < d.length;l++){for(var n=!1,q=!1,p=g,u=h;u < d[l].length;u++){t=d[l][u];switch(t){case "__metadata__":break;case "__sub__":q=!0;break;case "__embed__":n=!0;break;default:q?(p=p[t],q=!1):n && (p[t]=m[d[l].join(".")],n=!1);}}}return g;},jNb:function(m){return m && (0 <= m.indexOf("__sub__") || 0 <= m.indexOf("__embed__"));}};},function(r,b,a){var m,d;function c(g,h,l){Object.keys(g).forEach(function(n){var q,p;if(m.Rh(g[n]))if(g[n].a8){q=g[n];p=l + q.offset;g[n]=h.slice(p,p + q.byteLength);}else g[n]=c(g[n],h,l);});return g;}function f(g,h,l){Object.keys(g).forEach(function(n){var q;if(m.a8(g[n])){q=g[n];h.push(q);g[n]={a8:!0,offset:l.Fla,byteLength:q.byteLength};l.Fla+=q.byteLength;}else m.Rh(g[n]) && f(g[n],h,l);});return g;}function k(){var g,h,l;g=Array.prototype.concat.apply([],arguments);h=g.reduce(function(n,q){return n + q.byteLength;},0);l=new Uint8Array(h);g.reduce(function(n,q){l.set(new Uint8Array(q),n);return n + q.byteLength;},0);return l.buffer;}m=a(130);d=a(85);r.exports={myb:function(g){var h,l,n;h=d(g,{});g=[];h=f(h,g,{Fla:0});h=JSON.stringify(h);l=new ArrayBuffer(h.length + 4);n=new DataView(l);n.setUint32(0,h.length);for(var q=4,p=0,u=h.length;p < u;p++){n.setUint8(q,h.charCodeAt(p));q++;}g=[l].concat(g);return k.apply(null,g);},lyb:function(g){for(var h=new DataView(g,0,4).getInt32(0),l=new Uint8Array(g,4,h),n="",q=0;q < l.byteLength;q++){n+=String.fromCharCode(l[q]);}h=4 + h;n=JSON.parse(n);return c(n,g,h);}};},function(r,b,a){var f,k,m,d,g;function c(h){return {mediaType:h.mediaType,streamId:h.Ta,movieId:h.K,bitrate:h.bitrate,location:h.location,serverId:h.Qd,saveToDisk:!0,offset:h.offset,bytes:h.ga,timescale:h.W,frameDuration:h.stream.va && h.stream.va.pc,encrypted:h.gl,initSegments:1 < h.ah.length?h.ah.map(function(l){return {fi:l.Bd,s:l.data.byteLength,e:! !l.gl};}):void 0};}Object.defineProperties(b,{__esModule:{value:!0}});b.Lqa=b.Mqa=b.R1a=b.a_a=b.AZa=b.CZa=b.Eoa=b.Ioa=b.Hoa=b.Vna=b.Wna=b.EGa=void 0;f=a(2).__importStar(a(10));k=a(892);m=a(383);d=a(9);g=a(21);b.EGa={JGa:"movieEntry",Whb:"header",gea:"metadata",wib:"headerData",Z7b:"headerMetadata",Ohb:"sizes",Nhb:"durations",PDa:"fragments",Cjb:"response",zr:"billboard",tF:{lifespan:259200}};b.Wna=function(h,l,n){var q,p;q=l.headerData;n && l.sizes instanceof ArrayBuffer && l.durations instanceof ArrayBuffer && (p={ul:n.startTicks,offset:n.offset,W:n.timescale,sizes:new Uint32Array(l.sizes),vd:new Uint32Array(l.durations)});return {dd:!0,mediaType:h.mediaType,K:h.movieId,Ta:h.streamId,bitrate:h.bitrate,location:h.location,Qd:h.serverId,ga:h.bytes,offset:h.offset,Mpa:q,N7:h.initSegments,gl:h.encrypted,W:h.timescale,va:h.frameDuration,Zh:h.saveToDisk,Y:p};};b.Vna=function(h,l){var n,q,p;l=l.response;n=h.startTicks;q=h.durationTicks;void 0 !== n && void 0 !== q && (p=n + q);return {dd:!1,mediaType:h.mediaType,K:h.movieId,Ta:h.streamId,bitrate:h.bitrate,location:h.location,Qd:h.serverId,ga:h.bytes,offset:h.offset,response:l,W:h.timescale,Za:h.startTicks,eu:q,Zh:h.saveToDisk,tb:p};};b.Hoa=function(h){return {priority:h.priority,K:h.movieId,headers:{},TN:0,$U:0,z0a:0,Zh:h.saveToDisk,ic:h.stats,Pw:h.firstSelectedStreamBitrate,pA:h.initSelectionReason,JD:h.histDiscountedThroughputValue,fp:h.histTdigest,ep:h.histAge,Mo:void 0};};b.Ioa=function(h,l,n,q,p){var u,t;u={headers:{},data:{}};q.forEach(function(w){var v,x,A;v=w.mediaType;v=p && p.Tw(v,w.Ta);x=[];if(w.dd)if(!Array.isArray(w.N7) || 2 > w.N7.length)x.push({Bd:0,data:w.Mpa});else for(var y=0,z=0;z < w.N7.length;++z){A=w.N7[z];x.push({Bd:A.fi,data:w.Mpa.slice(y,y + A.s),gl:A.e});y+=A.s;}v?(w.Y && v.c$(x,w.W,w.va?new g.O(w.va,w.W):void 0,w.Y),w.dd && v && v.me?(void 0 === u.headers && (u.headers={}),u.headers[w.Ta]=new m.g0(v,{ga:w.ga,offset:w.offset,ah:x,gl:w.gl},l)):w.response instanceof ArrayBuffer && void 0 !== v.Y && void 0 !== w.Za && void 0 !== w.W && void 0 !== w.tb && (x=v.Y.g6(new g.O(w.Za,w.W).U),void 0 !== x && (v=new k.aAa(v,{W:w.W,Za:w.Za,tb:w.tb,index:x.index,offset:w.offset,ga:w.ga},w.response,n,h,l),void 0 === u.data && (u.data={}),u.data[w.Ta] || (u.data[w.Ta]=[]),u.data[w.Ta].push(v)))):l.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + w.Ta + " movieId: " + w.K);});if(!f.ka(u.data)){t=u.data;Object.keys(t).forEach(function(w){t[w].sort(function(v,x){return v.Za - x.Za;});});}return u;};b.Eoa=function(h){return {mediaType:h.mediaType,streamId:h.Ta,movieId:h.K,bitrate:h.bitrate,location:h.location,serverId:h.Qd,saveToDisk:!0,offset:h.offset,bytes:h.ga,timescale:h.W,startTicks:h.Za,durationTicks:h.eu};};b.CZa=c;b.AZa=function(h){var l,n,q,p;l=c(h);if(h.stream.me && h.stream && h.stream.Y){n={timescale:h.stream.Y.W,startTicks:h.stream.Y.ul,offset:h.stream.Y.Vd(0)};q=h.stream.Y.Dx;p=q.sizes.buffer;q=q.vd.buffer;}return {mediaType:l.mediaType,streamId:l.streamId,movieId:l.movieId,bitrate:l.bitrate,location:l.location,serverId:l.serverId,saveToDisk:!0,offset:l.offset,bytes:l.bytes,timescale:l.timescale,frameDuration:l.frameDuration,headerData:d.fD(h.ah.map(function(u){return u.data;})),initSegments:l.initSegments,encrypted:h.gl,fragments:n,sizes:p,durations:q};};b.a_a=function(h){return {priority:h.priority,movieId:h.K,saveToDisk:h.Zh,firstSelectedStreamBitrate:h.Pw,initSelectionReason:h.pA,histDiscountedThroughputValue:h.JD,histTdigest:h.fp,histAge:h.ep};};b.R1a=function(h){return !f.has(h,"startTicks");};b.Mqa=function(h){return !h.Mpa || !h.W || !h.Y || void 0 === h.Y.ul || void 0 === h.Y.offset || void 0 === h.Y.vd || !h.Y.vd.length || void 0 === h.Y.sizes || !h.Y.sizes.length;};b.Lqa=function(h){return void 0 === h.ga || void 0 === h.offset || void 0 === h.W || void 0 === h.Za || void 0 === h.eu;};},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.aAa=void 0;c=a(2);f=a(9);r=a(43);k=a(101);a=(function(m){function d(g,h,l,n,q,p){n=m.call(this,g,h,n,q,p) || this;h.ga=l.byteLength;k.hn.Fb(n,g,h);n.QL=l;n.snb=h.ga;return n;}c.__extends(d,m);Object.defineProperties(d.prototype,{dd:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Gu:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xf:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Cj:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{vh:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{active:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{response:{get:function(){return this.QL;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{mPb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{url:{get:function(){return "disk://";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aborted:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{mN:{get:function(){return "";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Iva:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bytesReceived:{get:function(){return this.snb;},enumerable:!1,configurable:!0}});d.prototype.Eu=function(){return !0;};d.prototype.FG=function(g){this.gf=g.appendBuffer(this.response,f.Mq(this));return {aa:this.gf};};d.prototype.wi=function(){return -1;};d.prototype.abort=function(){return !0;};d.prototype.fd=function(){};d.prototype.dba=function(){return !1;};return d;})(a(240).eK);b.aAa=a;r.Bf(k.hn,a);},function(r,b,a){var c,f,k,m,d,g,h,l,n,q;Object.defineProperties(b,{__esModule:{value:!0}});b.KLa=void 0;c=a(2);r=a(17);f=a(57);k=c.__importDefault(a(6));m=a(16);d=a(256);g=a(9);h=a(4);l=a(964);n=a(222);q=new k.default.Console("ASEJS","media|asejs");q.trace.bind(q);r=(function(p){var P21;P21=2;for(;P21 !== 17;){switch(P21){case 5:Object.defineProperties(u.prototype,{Wn:{get:function(){var S21;S21=2;for(;S21 !== 1;){switch(S21){case 4:return this.Ja.Wn;break;S21=1;break;case 2:return this.Ja.Wn;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Th:{get:function(){var T21;T21=2;for(;T21 !== 1;){switch(T21){case 2:return this.Ja.Th;break;}}},enumerable:!1,configurable:!0}});u.prototype.Fb=function(t,w,v,x,y,z,A,B){var U21;U21=2;for(;U21 !== 5;){switch(U21){case 2:this.Ja.bxa({audio:t,video:w,wja:A,rza:B},{U:x,ga:y});this.Ja.open(this.config,this.RE);U21=5;break;}}};u.prototype.EZ=function(t,w,v){var V21;V21=2;for(;V21 !== 1;){switch(V21){case 2:this.Ja.bxa({total:t},{U:w,ga:v});V21=1;break;}}};u.prototype.createSession=function(t,w,v,x,y,z,A,B,E,D){var W21,G,F;W21=2;for(;W21 !== 19;){switch(W21){case 7:var w3I="en";w3I+="dPts is n";w3I+="ot supported";G=D[0];E=G.ma.V[G.ma.Pd].Aa;G=[this.tW(F,G.ma,v,E)];D[1] && G.push(this.tW(F,D[1].ma,v,E));h.assert(void 0 === x.La,w3I);W21=11;break;case 2:var R3I="c";R3I+="reating sess";R3I+="i";R3I+="on";this.console.trace(R3I);this.Ja.Rb.reset();F=Number(t.movieId);E=this.m7(F,y.ca);this.qB[E]={qka:function(){},ca:y.ca,equals:function(C){var X21;X21=2;for(;X21 !== 1;){switch(X21){case 2:return C.S === F && (y.ca === C.ca || !C.ca || !y.ca);break;}}},hu:!1,qr:Promise.resolve({oa:t,Vi:! !x.Vi,He:! !x.He,Cd:m.m9(! !x.lU,! !x.WE),config:B}),S:F};W21=9;break;case 11:this.G8=new l.LLa(this.console,this,t,D,w,G,x,y,z,A,B);B.Tr || B.xI || this.ZC();return this.G8;break;case 9:B.Pz && this.Ja.DE(this.qB[E],{Ds:y.Ds,ca:y.ca,mD:y.mD});D=this.HAb(F,t,B.A7a,B,y,D || u.RBb,x);W21=7;break;}}};P21=7;break;case 13:var p3I="s";p3I+="0";u.prototype.kxb=function(){var g31;g31=2;for(;g31 !== 1;){switch(g31){case 4:this.Rb.OP(1);g31=7;break;g31=1;break;case 2:this.Rb.OP(null);g31=1;break;}}};u.prototype.Fm=function(t,w){var h31;h31=2;for(;h31 !== 1;){switch(h31){case 4:return this.qB[this.m7(w,t)];break;h31=1;break;case 2:return this.qB[this.m7(w,t)];break;}}};u.prototype.ZXb=function(t){var i31,w,v;i31=2;for(;i31 !== 13;){switch(i31){case 3:t.Ia && this.Ja.pP(t.Ia);t.Og && this.Ja.jv(t.Og);t.Dj && this.Ja.pP(t.Dj);i31=7;break;case 2:this.kxb();(w=this.m7(t.S,t.ca),v=this.qB[w]);v && (v.hu=!0);this.Ja.jv(t.qa);i31=3;break;case 7:t === this.G8 && delete this.G8;this.Ja.Wva(this.qB[w]);delete this.qB[w];i31=13;break;}}};u.prototype.Ib=function(){var j31;j31=2;for(;j31 !== 9;){switch(j31){case 2:var M3I="Attempt to destruct ShimManager wit";M3I+="h lates";M3I+="t ";M3I+="session still defined";var K3I="Attempted to destruct ";K3I+="ShimManager with s";K3I+="ession config active";var Z3I="Att";Z3I+="empted to destruct ShimManager with players present in A";Z3I+="SE";var e3I="Attempte";e3I+="d to destruct Shi";e3I+="mManager with playgraphs present in ASE";h.assert(0 === this.Ja.sE.length,e3I);h.assert(0 === this.Ja.z7a.length,Z3I);h.assert(0 === Object.keys(this.qB).length,K3I);h.assert(void 0 === this.G8,M3I);j31=3;break;case 3:this.Ja.close();j31=9;break;}}};u.prototype.m7=function(t,w){var k31;k31=2;for(;k31 !== 1;){switch(k31){case 2:a000.g3p(5);return a000.F3p(w,"-",t);break;}}};u.RBb=p3I;return u;break;case 7:u.prototype.tW=function(t,w,v,x){var Y21;Y21=2;for(;Y21 !== 1;){switch(Y21){case 2:var u3I="invalid";u3I+=" start";u3I+=" po";u3I+="sition";u3I+=" relative to playgraph";return w.V[w.Pd].Aa === x?(t=n.FM(w,t,g.O.Na(v)),h.assert(t,u3I),t):{ha:w.Pd,offset:g.O.eb};break;}}};u.prototype.Nx=function(t,w,v){var Z21;Z21=2;for(;Z21 !== 1;){switch(Z21){case 2:return c.__awaiter(this,void 0,void 0,function(){var a31,x,y,z,A;a31=2;for(;a31 !== 5;){switch(a31){case 3:a31=5;break;a31=1;break;case 1:return c.__generator(this,function(B){var b31,c31;b31=2;for(;b31 !== 3;){switch(b31){case 1:var T3I="Can n";T3I+="ot update vi";T3I+="ewab";T3I+="le. Viewable not fou";T3I+="nd ";return (x=this.Fm.bind(this,v.ca),y=this.m7(t,v.ca),z=x(t),h.assert(void 0 !== z,T3I + y),[4,z.qr]);break;case 5:return (A=B.Ac(),this.qB[y]={qka:function(){},ca:v.ca,equals:function(E){var d31;d31=2;for(;d31 !== 1;){switch(d31){case 2:return E.S === t && (v.ca === E.ca || !E.ca || !v.ca);break;}}},hu:!1,qr:Promise.resolve({oa:w,Vi:A.Vi,He:A.He,Cd:A.Cd,config:A.config}),S:t},[4,this.Ja.Nx(this.qB[y])]);break;case 2:c31=B.label;b31=c31 === 0?1:9;break;case 9:b31=c31 === 1?5:8;break;case 8:b31=c31 === 2?4:3;break;case 4:return (B.Ac(),[2]);break;}}});break;case 2:a31=1;break;}}});break;}}};u.prototype.HAb=function(t,w,v,x,y,z,A){var e31,C,B,E,D,F,G;e31=2;for(;e31 !== 7;){switch(e31){case 8:return G;break;case 3:C=E.iUb;e31=9;break;case 4:e31=E && E.iUb?3:8;break;case 2:var V3I="v";V3I+="i";V3I+="d";V3I+="e";V3I+="o";var l3I="a";l3I+="ud";l3I+="io";var b3I="a";b3I+="ud";b3I+="i";b3I+="o";var H3I="v";H3I+="ide";H3I+="o";var k3I="Generated play";k3I+="graph from choicema";k3I+="p.";(B=this,E=w.choiceMap);E?(t=f.rz(E,{config:x}),this.console.trace(k3I)):t=f.HE(t,z,A.lU || A.WE?A.WE?[H3I]:[b3I]:[l3I,V3I]);(D=Object.create(x,{Oz:{value:y.mD},XFb:{value:y.lM}}),F=this.Fm.bind(this,y.ca),G=[this.Ja.BG(t,v,D,{Fm:F})]);e31=4;break;case 9:Object.keys(C).forEach(function(H,K){var f31;f31=2;for(;f31 !== 9;){switch(f31){case 2:var B3I="Currently";B3I+=" parallel graph can only be media t";B3I+="ype [audio]";var t3I="a";t3I+="u";t3I+="d";t3I+="i";t3I+="o";var x3I="Currentl";x3I+="y only ";x3I+="one parallel ";x3I+="graph";x3I+=" is supported";a000.g3p(21);h.assert(a000.F3p(K,0),x3I);K=C[H];h.assert(K.Cd && 1 === K.Cd.length && t3I === K.Cd[0],B3I);H=f.rz(E,c.__assign(c.__assign({},C[H]),{config:x}));f31=3;break;case 3:G.push(B.Ja.BG(H,v,D,{Fm:F}));f31=9;break;}}});e31=8;break;}}};P21=13;break;case 2:c.__extends(u,p);Object.defineProperties(u.prototype,{Rb:{get:function(){var R21;R21=2;for(;R21 !== 1;){switch(R21){case 2:return this.Ja.Rb;break;}}},enumerable:!1,configurable:!0}});P21=5;break;}}function u(t,w,v,x){var Q21,y;Q21=2;for(;Q21 !== 11;){switch(Q21){case 3:var j3I="1SIY";j3I+="bZrNJC";j3I+="p9";var h3I="D";h3I+="E";h3I+="B";h3I+="UG";h3I+=":";var r3I="nf-ase shim";r3I+=" v";r3I+="e";r3I+="rsio";r3I+="n:";y.RE=x;y.qB={};t=a(407);y.console=q;y.console.trace(r3I,t,h3I,!1);y.Ja=d.DH();j3I;Q21=12;break;case 12:return y;break;case 2:y=p.call(this) || this;y.config=t;y.ZC=w;y.cq=v;Q21=3;break;}}}})(r.EventEmitter);b.KLa=r;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,N;Object.defineProperties(b,{__esModule:{value:!0}});b.Qza=void 0;c=a(2);f=a(17);k=a(358);m=a(227);d=a(895);g=a(223);h=a(16);a(216);l=a(409);n=a(412);q=a(933);p=a(403);u=a(25);t=a(4);w=a(238);v=a(934);x=a(935);y=a(936);z=a(86);A=a(183);B=a(937);E=a(67);D=a(258);F=a(9);G=c.__importDefault(a(6));C=a(938);H=a(939);K=a(940);M=a(941);I=a(56);Q=a(356);L=a(419);J=a(952);N=a(953);r=(function(){function O(P){this.I=P;this.events=new f.EventEmitter();this.bd=k.qo.CLOSED;this.tw=[];this.HZ=[];this.zT=[];this.Up=[];this.RNa={};this.t3={};this.Zxa=k.TQ.default;this.Qrb=new z.Vv({Rq:this,source:"engine",LA:10,console:P});}Object.defineProperties(O.prototype,{av:{get:function(){t.assert(this.Ny);return this.Ny;},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{state:{get:function(){return this.bd;},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{z7a:{get:function(){return this.zT;},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{sE:{get:function(){return this.Up.map(function(P){return P.ma;});},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{qVb:{get:function(){return this.Up;},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{Rb:{get:function(){this.JJ();return this.vz.Rb;},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{Wn:{get:function(){this.JJ();return this.vz.Wn;},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{Th:{get:function(){this.JJ();return this.vz.Th;},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{$4b:{get:function(){return this.tw.length;},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{s4:{get:function(){return this.RNa;},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{vJ:{get:function(){return this.t3;},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{UQb:{get:function(){return this.oPa || (this.oPa=this.Rvb());},enumerable:!1,configurable:!0}});O.prototype.open=function(P,S,U,Z){var ja;ja=this;if(this.bd === k.qo.OPEN)return !1;this.J=P;this.kt=new E.CS(new D.W1({xk:!0,currentTime:function(){return F.O.Na(G.default.time.fa());},speed:1}),this.I,"Engine Scheduler");this.JOa=new d.gEa(this.I,P);this.GC=new q.iLa(this.s8.bind(this),P);this.vz=g.jK.j_a(P,S);this.bd=k.qo.OPEN;P=Object.create(P,{utb:{value:P.xI || P.Tr}});this.Ny=L.oW(P);U && this.Ny.S$a(U);Z && this.Ny.ixa(Z);this.C7a=new J.tKa({$k:function(){ja.bd !== k.qo.CLOSED && ja.GC.$k("playgraphOpportunity");}});this.pPa=new K.yHa(function(){return ja.X6();},function(){return ja.Y6().global;},this.I);this.NAb();return !0;};O.prototype.BG=function(P,S,U,Z,ja){var ya,ra,Y;ya=this;void 0 === ja && (ja=!0);this.JJ();ra=Object.create(U,{UP:{value:this.vJ}});if(ja && (U=this.av.bxb(P,ra)))return (U.adb(S),P=this.bJ.bind(this,Z,U),U.w_b(P),U);P=[P,S,ra,O.WRb++,this.Rb,function(){for(var pa=[],T=0;T < arguments.length;T++){pa[T]=arguments[T];}return ya.bJ.apply(ya,c.__spread([Z,Y],pa));},function(pa){var T,R,ea;R=Z.Fm(pa.S);ea=null === (T=u.ie(ya.tw,function(sa){return sa.DM.equals(R);})) || void 0 === T?void 0:T.R;return null === ea || void 0 === ea?void 0:ea.Em(ra,pa.ym.U);},function(pa){return ya.GC.$k(pa);},ja?this.av.axb.bind(this.av):function(){},this.X6.bind(this)];if(this.J.H5){S=a(954);Y=S.qUa.apply(S,c.__spread([{}],P));}else Y=new (n.i0.bind.apply(n.i0,c.__spread([void 0],P)))();Y.sh(new x.$La(Y));Y.sh(new y.tMa(Y.Hs));Y.r3a.sh(new M.mAa(Y));this.Qy.sP.forEach(function(pa){return Y.sh(pa);});this.C7a.BG(Y);P=new f.gi();P.on(Y.events,"requestsPruned",this.yYb.bind(this));P.on(Y.events,"weightUpdated",this.Zta.bind(this));P.on(Y.events,"underflow",this.Dk.bind(this,Y));this.Up.push({ma:Y,dh:P,VY:0});this.Zta();return Y;};O.prototype.Dk=function(P){P=this.pPa.jGb(P);(null === P || void 0 === P?0:P.v5) || this.av.reset();};O.prototype.jv=function(P){this.C7a.jv(P);this.Up=this.Up.filter(function(S){return S.ma === P?(S.dh.clear(),!1):!0;});P.Ib();this.Zta();};O.prototype.bRa=function(P,S){var U,Z,ja;this.JJ();ja=S.Cd;P=[P,void 0 === ja?[0,1]:ja,c.__assign({UP:null !== (Z=null !== (U=S.UP) && void 0 !== U?U:this.t3) && void 0 !== Z?Z:{}},S)];U=this.J.H5?a(961).pUa.apply(void 0,c.__spread(P)):new (l.RQ.bind.apply(l.RQ,c.__spread([void 0],P)))();this.zT.push(U);return U;};O.prototype.pP=function(P){this.JJ();this.zT=this.zT.filter(function(S){return S !== P;});P.Ib();};O.prototype.bxa=function(P,S){this.RNa=P;this.t3=S;this.oPa=void 0;};O.prototype.DE=function(P,S){var U,Z;Z=null === (U=u.ie(this.tw,function(ja){return ja.DM.equals(P);})) || void 0 === U?void 0:U.R;Z?Z.DE(c.__assign(c.__assign({},S),{Yn:this.tta.bind(this)})):this.HZ.push({Ldb:P,oab:S});};O.prototype.Wva=function(P){this.HZ=this.HZ.filter(function(S){return !S.Ldb.equals(P);});};O.prototype.close=function(){this.bd !== k.qo.CLOSED && (this.OXb(),t.assert(0 === this.tw.length,"Unexpected viewable lease after Playgraph destruction."),this.NXb(),this.HZ=[],delete this.vz,this.bd=k.qo.CLOSED,this.kt.Ib());};O.prototype.C_b=function(P){this.Zxa=P;this.GC.$k("streamingModeChanged");};O.prototype.Qn=function(){return this.Qy.Qn();};O.prototype.NAb=function(){this.Qy=new I.xfa(this.J);this.Qy.sh(new C.zDa(this));this.Qy.sh(new B.kLa(this.Rb,this.GC));this.Qy.sh(new v.vDa(this.Rb));this.Qy.sh(new A.Uv(this.Qrb));this.Qy.sh(new A.Uv(this.GC.Kq));this.Qy.sh(new A.Uv(this.JOa.Eh));this.Qy.sh(new A.Uv(this.pPa.Eh));};O.prototype.tta=function(){};O.prototype.Nx=function(P){return c.__awaiter(this,void 0,void 0,function(){var S,U,Z,ja;return c.__generator(this,function(ya){switch(ya.label){case 0:return (t.assert(P,"ase.updateViewable(): Viewable config not found."),S=u.ie(this.tw,function(ra){return !0 !== ra.DM.hu && ra.DM.equals(P);}),t.assert(S,"ase.updateViewable(): Viewable entry not found."),[4,S.YE]);case 1:return (U=ya.Ac(),ja=(Z=U).Nx,[4,P.qr]);case 2:return (ja.apply(Z,[ya.Ac()]),[2]);}});});};O.prototype.bJ=function(P,S,U,Z){var ja,ya,ra,Y;ja=this;ya=P.Fm(U,Z);t.assert(ya,"ase.requestViewable(): Viewable config not found.");ra=u.ie(this.tw,function(pa){return !0 !== pa.DM.hu && pa.DM.equals(ya);});ra || (ra={DM:ya,YE:(function(){return c.__awaiter(ja,void 0,void 0,function(){var pa,T;return c.__generator(this,function(R){switch(R.label){case 0:return [4,ya.qr];case 1:return (pa=R.Ac(),T=this.XU(U,ya,pa),ra.R=T,[2,T]);}});});})(),R:void 0,COb:new w.MFa(function(pa){pa() && ja.$va(ra);},F.Nq(G.default,this.I,"" + U))},this.tw.push(ra));Y=this;return {get R() {return null === ra || void 0 === ra?void 0:ra.R;},get YE() {var pa;pa=this;return (function(){return c.__awaiter(pa,void 0,void 0,function(){var T;return c.__generator(this,function(R){switch(R.label){case 0:return (R.$m.push([0,2,,3]),[4,ra.YE]);case 1:return [2,R.Ac()];case 2:throw (T=R.Ac(),Q.MJa.vNb(T) && S.hh(T),Y.$va(ra,!1),T);case 3:return [2];}});});})();},H8:ra.COb.Xy()};};O.prototype.$va=function(P,S){var U,Z;void 0 === S && (S=!0);t.assert(P,"expected viewableEntry to exist");U=P.R;Z=P.YE;S && (U?U.Ib():Z.then(function(ja){ja.Ib();}));this.tw=this.tw.filter(function(ja){return ja !== P;});};O.prototype.XU=function(P,S,U){var ja,ya,ra,Y,pa,T,R;function Z(ea){ja.events.emit("logdata",ea);}ja=this;this.JJ();ra=U.oa;Y=U.Vi;pa=U.He;T=U.Cd;T=void 0 === T?h.Df:T;U=U.config;R=[new p.oea(0),new p.oea(1)];ra={oa:ra,config:U,Vi:Y,Cd:T,x6:void 0,Rb:this.vz.Rb,Th:this.vz.Th,fXa:{ns:function(){return ja.GC.$k("networkFailureReset");},hh:this.hh.bind(this,P),Un:this.Un.bind(this,P),Zn:Z},y0a:{Zn:Z,sW:void 0,xD:function(ea){return R[ea];},c8:function(){return !0;},Jf:void 0,Yl:void 0,wh:void 0,HD:void 0},zP:{Zy:this.Zy.bind(this),XI:this.XI.bind(this)},vJ:this.t3,Qb:0,qp:void 0,y4a:{Iqa:! !pa,g2a:!1},UX:function(){}};P=new m.yca(P,ra);U.Pz && (ra=(null === (ya=u.ie(this.HZ,function(ea){return ea.Ldb.equals(S);})) || void 0 === ya?void 0:ya.oab) || ({}),this.Wva(S),P.DE(c.__assign(c.__assign({},ra),{Yn:this.tta.bind(this)})));return P;};O.prototype.s8=function(){var P,S;t.assert(this.state === k.qo.OPEN);P=this.Y6();S=this.LN();return this.JOa.j6a(P,S);};O.prototype.LN=function(){var P,S,U;P=this;U=null !== (S=this.J.PVb) && void 0 !== S?S:this.Up.every(function(Z){return !Z.ma.MH;});S=u.flatten(this.Up.map(function(Z){return Z.ma.LN().map(function(ja){Z.ma.MH || 1 === Z.VY || (ja.IH=Z.VY);return ja;});}));this.Zxa === k.TQ.disabled?S=[]:this.Zxa === k.TQ.FPb && (S=S.filter(function(Z){return P.J.rsa >= Z.Ys - Z.$r;}));U || (U=S.filter(function(Z){var ja;return 1 === (null !== (ja=Z.IH) && void 0 !== ja?ja:1);}),U.length && (S=U));U=this.tw.reduce(function(Z,ja){return ja.R?c.__spread(Z,ja.R.LN()):Z;},[]);return u.flatten(c.__spread(S,U));};O.prototype.JJ=function(){if(this.bd === k.qo.CLOSED)throw Error("Engine CLOSED");};O.prototype.OXb=function(){var P,Z;try{for(var S=c.__values(this.Up),U=S.next();!U.done;U=S.next()){Z=U.value;Z.dh.clear();this.jv(Z.ma);}}catch(ya){var ja;ja={error:ya};}finally{try{U && !U.done && (P=S.return) && P.call(S);}finally{if(ja)throw ja.error;}}};O.prototype.NXb=function(){var P;try{for(var S=c.__values(this.zT),U=S.next();!U.done;U=S.next()){this.pP(U.value);}}catch(ja){var Z;Z={error:ja};}finally{try{U && !U.done && (P=S.return) && P.call(S);}finally{if(Z)throw Z.error;}}};O.prototype.hh=function(P,S,U,Z,ja,ya,ra){var Y;void 0 === ra && (ra=!1);Y=!1;this.q_a(P).forEach(function(pa){if(!ra || h.gp(pa.Gf.value))(pa.hh(S,P,U,Z,ja,ya,ra),Y=!0);});return Y;};O.prototype.Un=function(P){return this.q_a(P).some(function(S){return S.Un();});};O.prototype.q_a=function(P){return this.Up.filter(function(S){S=S.ma.ma;return "" + P === "" + S.V[S.Pd].S;}).map(function(S){return S.ma;});};O.prototype.Y6=function(){var P;P=new H.dEa();this.Up.forEach(function(S){var U,Z;U=S.ma;S=S.VY;Z=U.Y6();Z.IH=S;P.add(U.id,Z);});return P;};O.prototype.X6=function(){return this.UQb;};O.prototype.Rvb=function(){var P,S;S=N.gTa(this.J,this.s4);return {total:(P={},P[1]=this.s4.video || Infinity,P[0]=this.s4.audio || Infinity,P.total=this.s4.total || Infinity,P),Qxa:S};};O.prototype.Zy=function(P){this.GC.Zy(P);};O.prototype.XI=function(P){this.GC.XI(P);};O.prototype.Zta=function(){var P;P=this.sE.reduce(function(S,U){return Math.max(U.weight,0) + S;},0);this.Up.forEach(function(S){S.VY=0 >= S.ma.weight?0:S.ma.weight / P;});};O.prototype.yYb=function(){};O.WRb=0;c.__decorate([z.Sb({methodName:"open"})],O.prototype,"open",null);c.__decorate([z.Sb({methodName:"addPlaygraph",context:function(P){var S,U;return {playgraphCount:null !== (U=null === (S=P.Z5a.Up) || void 0 === S?void 0:S.length) && void 0 !== U?U:0};}})],O.prototype,"BG",null);c.__decorate([z.Sb({methodName:"removePlaygraph",context:function(P){return {playgraphCount:P.Z5a.Up.length};}})],O.prototype,"jv",null);c.__decorate([z.Sb({methodName:"close"})],O.prototype,"close",null);c.__decorate([z.Sb({methodName:"setStreamingMode",No:!0})],O.prototype,"C_b",null);c.__decorate([z.Sb({methodName:"notifyAseException",No:!0})],O.prototype,"tta",null);c.__decorate([z.Sb({methodName:"updateViewable"})],O.prototype,"Nx",null);c.__decorate([z.Sb({methodName:"requestViewable"})],O.prototype,"bJ",null);c.__decorate([z.Sb({methodName:"removeViewable"})],O.prototype,"$va",null);c.__decorate([z.Sb({methodName:"createViewable"})],O.prototype,"XU",null);c.__decorate([z.Sb({methodName:"issueRequestOpportunity",fl:!0,return:!0})],O.prototype,"s8",null);c.__decorate([z.Sb({methodName:"reportStreamingFailure",No:!0})],O.prototype,"hh",null);return O;})();b.Qza=r;},function(r,b,a){var f,k,m,d,g,h,l;function c(n,q){return n.filter(function(p){return p.groupId === q.groupId;}).reduce(m.S4a(function(p){return p.WA;}),q).WA;}Object.defineProperties(b,{__esModule:{value:!0}});b.gEa=void 0;f=a(2);k=a(216);m=a(25);d=a(16);g=a(86);h=f.__importDefault(a(6));l=a(408);r=(function(){function n(q,p){this.I=q;this.config=p;this.V2a=0;this.Eh=new g.Vv({LA:10,Rq:this,source:"GraphStreamingProcess"});}n.prototype.j6a=function(q,p){var u,t,w,v,x,y,z,A,D,F,G,C,H;w=!1;v=[];if(0 < p.length){x=this.z0b(p);y=x.some(function(M){return 1 === l.iTa(M) && d.gp(M.Gf);});z=x.slice();A=[!1,!1];try{for(var B=f.__values(x),E=B.next();!E.done;E=B.next()){D=E.value;if(D.UD && "global" !== A[D.mediaType]){F=D.r2a(q,null !== (t=D.IH) && void 0 !== t?t:1);G=k.A8a(F.reason);G && (A[D.mediaType]=G,m.URa(z,D));if(F.result){C=c(z,D);if(this.Qwb(D,y,C)){H=D.v2a();this.Rra(v,D,H.reason);H.Hm && (this.V2a=h.default.time.fa());if(w=H.Hm)break;}else if((this.Rra(v,D,"concurrencyCheck"),!G))break;}else this.Rra(v,D,F.reason);}}}catch(M){var K;K={error:M};}finally{try{E && !E.done && (u=B.return) && u.call(B);}finally{if(K)throw K.error;}}}this.Eh.uw({streamableCount:p.length,streamableReasons:v,lastSuccessfulIssueRequestMs:this.V2a});return w;};n.prototype.z0b=function(q){return this.jWb(q).sort(function(p,u){return p.priority - u.priority;}).map(function(p){return p.a1b;});};n.prototype.jWb=function(q){var p;p=this;return q.map(function(u){return {priority:-l.hTa(p.config,u,p.I),a1b:u};});};n.prototype.Rra=function(q,p,u){this.Eh.enabled && q.push(this.RJb(u,p));};n.prototype.RJb=function(q,p){return {mediaType:p.mediaType,reason:q,bufferingState:p.Gf,currentPlayerMs:p.$r,pathCompletePlayerMs:p.WA,streamingPlayerMs:p.Ys};};n.prototype.Qwb=function(q,p,u){return this.config.CU && (p || d.gp(q.Gf))?this.Rwb(q,u):this.Swb(q,u);};n.prototype.Twb=function(q){return q.Ys <= q.WA;};n.prototype.Swb=function(q,p){return q.Ys - (q.$r > p?q.$r:p) <= Math.max(this.config.Wsa,Math.min((q.WA - q.$r) * this.config.Xxa,this.config.wQb));};n.prototype.Rwb=function(q,p){var u,t;if(void 0 === this.config.CU)return !0;u=this.config.CU;t=q.$r + u;return q.Ys <= t?!0:this.Twb(q) && p >= t && q.Ys - p < u;};f.__decorate([g.Sb({methodName:"onRequestOpportunity",fl:!0})],n.prototype,"j6a",null);return n;})();b.gEa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.VSa=void 0;c=a(257);f=a(898);b.VSa=function(){return function(k){var g,h,l,n;function m(q){n[q]=function(p){return h({rules:[{Xl:q,config:p}]},!0);};}function d(q){g[q]=function(p){return h({rules:[{Xl:q,config:p}]});};}g={};h=c.map(k.X3a);for(l in k.nZ){d(l);}g.BSb=h({rules:[],cja:!0});g.no=h({rules:[],no:!0});n={};for(l in k.nZ){m(l);}n.BSb=h({rules:[],cja:!0});n.no=h({rules:[],no:!0});g.return=n;return {Vla:g,Q9a:k,h8a:function(q,p,u){return f.VUa(q,p,u,k.nZ,k.X3a);}};};};},function(r,b,a){(function(c,f){var k;(function(m){(function(d){var h,l;function g(n,q){return function(p,u){"function" !== typeof n[p] && Object.defineProperty(n,p,{configurable:!0,writable:!0,value:u});q && q(p,u);};}h="object" === typeof f?f:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();l=g(m);"undefined" === typeof h.Reflect?h.Reflect=m:l=g(h.Reflect,l);d(l);})(function(d){var H,K,M,I,Q,L,J,N,O,P,S;function g(U,Z,ja){var ya;ya=S.get(U);if(w(ya)){if(!ja)return;ya=new O();S.set(U,ya);}U=ya.get(Z);if(w(U)){if(!ja)return;U=new O();ya.set(Z,U);}return U;}function h(U,Z,ja){if(l(U,Z,ja))return !0;Z=E(Z);return null === Z?!1:h(U,Z,ja);}function l(U,Z,ja){Z=g(Z,ja,!1);return w(Z)?!1:! !Z.has(U);}function n(U,Z,ja){if(l(U,Z,ja))return q(U,Z,ja);Z=E(Z);if(null !== Z)return n(U,Z,ja);}function q(U,Z,ja){Z=g(Z,ja,!1);if(!w(Z))return Z.get(U);}function p(U,Z){var ja,Y,pa;ja=u(U,Z);U=E(U);if(null === U)return ja;Z=p(U,Z);if(0 >= Z.length)return ja;if(0 >= ja.length)return Z;U=new P();for(var ya=[],ra=0;ra < ja.length;ra++){Y=ja[ra];pa=U.has(Y);pa || (U.add(Y),ya.push(Y));}for(ja=0;ja < Z.length;ja++){Y=Z[ja];(pa=U.has(Y)) || (U.add(Y),ya.push(Y));}return ya;}function u(U,Z){var ja,ya;ja=[];U=g(U,Z,!1);if(w(U))return ja;U=U.keys();Z=B(U,I);if(!A(Z))throw new TypeError();U=Z.call(U);if(!v(U))throw new TypeError();for(Z=0;;){ya=U.next();ya=ya.done?!1:ya;if(!ya)return (ja.length=Z,ja);ya=ya.value;try{ja[Z]=ya;}catch(Y){var ra;try{ra=U["return"];ra && ra.call(U);}finally{throw Y;}}Z++;}}function t(U){if(null === U)return 1;switch(typeof U){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === U?1:6;default:return 6;}}function w(U){return void 0 === U;}function v(U){return "object" === typeof U?null !== U:"function" === typeof U;}function x(U,Z){var ja;switch(t(U)){case 0:return U;case 1:return U;case 2:return U;case 3:return U;case 4:return U;case 5:return U;}Z=3 === Z?"string":5 === Z?"number":"default";ja=B(U,M);if(void 0 !== ja){U=ja.call(U,Z);if(v(U))throw new TypeError();return U;}a:{if("string" === ("default" === Z?"number":Z)){Z=U.toString;if(A(Z) && (Z=Z.call(U),!v(Z)))break a;Z=U.valueOf;}else {Z=U.valueOf;if(A(Z) && (Z=Z.call(U),!v(Z)))break a;Z=U.toString;}if(!A(Z) || (Z=Z.call(U),v(Z)))throw new TypeError();}return Z;}function y(U){U=x(U,3);return "symbol" === typeof U?U:"" + U;}function z(U){return Array.isArray?Array.isArray(U):U instanceof Object?U instanceof Array:"[object Array]" === Object.prototype.toString.call(U);}function A(U){return "function" === typeof U;}function B(U,Z){U=U[Z];if(void 0 !== U && null !== U){if(!A(U))throw new TypeError();return U;}}function E(U){var Z,ja;Z=Object.getPrototypeOf(U);if("function" !== typeof U || U === N || Z !== N)return Z;ja=U.prototype;ja=ja && Object.getPrototypeOf(ja);if(null == ja || ja === Object.prototype)return Z;ja=ja.constructor;return "function" !== typeof ja || ja === U?Z:ja;}function D(){var ya,ra,Y;function U(pa){return pa;}function Z(pa,T){return T;}function ja(pa,T){return [pa,T];}ya={};ra=[];Y=(function(){function pa(T,R,ea){this.Qe=0;this.df=T;this.Ff=R;this.vrb=ea;}pa.prototype["@@iterator"]=function(){return this;};pa.prototype[I]=function(){return this;};pa.prototype.next=function(){var T,R;T=this.Qe;if(0 <= T && T < this.df.length){R=this.vrb(this.df[T],this.Ff[T]);T + 1 >= this.df.length?(this.Qe=-1,this.Ff=this.df=ra):this.Qe++;return {value:R,done:!1};}return {value:void 0,done:!0};};pa.prototype.throw=function(T){0 <= this.Qe && (this.Qe=-1,this.Ff=this.df=ra);throw T;};pa.prototype.return=function(T){0 <= this.Qe && (this.Qe=-1,this.Ff=this.df=ra);return {value:T,done:!0};};return pa;})();return (function(){function pa(){this.df=[];this.Ff=[];this.Zv=ya;this.Bt=-2;}Object.defineProperty(pa.prototype,"size",{get:function(){return this.df.length;},enumerable:!0,configurable:!0});pa.prototype.has=function(T){return 0 <= this.Gy(T,!1);};pa.prototype.get=function(T){T=this.Gy(T,!1);return 0 <= T?this.Ff[T]:void 0;};pa.prototype.set=function(T,R){T=this.Gy(T,!0);this.Ff[T]=R;return this;};pa.prototype.delete=function(T){var R,ea;R=this.Gy(T,!1);if(0 <= R){ea=this.df.length;for(R+=1;R < ea;R++){this.df[R - 1]=this.df[R];this.Ff[R - 1]=this.Ff[R];}this.df.length--;this.Ff.length--;T === this.Zv && (this.Zv=ya,this.Bt=-2);return !0;}return !1;};pa.prototype.clear=function(){this.df.length=0;this.Ff.length=0;this.Zv=ya;this.Bt=-2;};pa.prototype.keys=function(){return new Y(this.df,this.Ff,U);};pa.prototype.values=function(){return new Y(this.df,this.Ff,Z);};pa.prototype.entries=function(){return new Y(this.df,this.Ff,ja);};pa.prototype["@@iterator"]=function(){return this.entries();};pa.prototype[I]=function(){return this.entries();};pa.prototype.Gy=function(T,R){this.Zv !== T && (this.Bt=this.df.indexOf(this.Zv=T));0 > this.Bt && R && (this.Bt=this.df.length,this.df.push(T),this.Ff.push(void 0));return this.Bt;};return pa;})();}function F(){return (function(){function U(){this.Vg=new O();}Object.defineProperty(U.prototype,"size",{get:function(){return this.Vg.size;},enumerable:!0,configurable:!0});U.prototype.has=function(Z){return this.Vg.has(Z);};U.prototype.add=function(Z){return (this.Vg.set(Z,Z),this);};U.prototype.delete=function(Z){return this.Vg.delete(Z);};U.prototype.clear=function(){this.Vg.clear();};U.prototype.keys=function(){return this.Vg.keys();};U.prototype.values=function(){return this.Vg.values();};U.prototype.entries=function(){return this.Vg.entries();};U.prototype["@@iterator"]=function(){return this.keys();};U.prototype[I]=function(){return this.keys();};return U;})();}function G(){var ya,ra;function U(){var Y,R;do {Y="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):ja(new Uint8Array(16),16):ja(Array(16),16);Y[6]=Y[6] & 79 | 64;Y[8]=Y[8] & 191 | 128;for(var pa="",T=0;16 > T;++T){R=Y[T];if(4 === T || 6 === T || 8 === T)pa+="-";16 > R && (pa+="0");pa+=R.toString(16).toLowerCase();}Y="@@WeakMap@@" + pa;}while(J.has(ya,Y));ya[Y]=!0;return Y;}function Z(Y,pa){if(!H.call(Y,ra)){if(!pa)return;Object.defineProperty(Y,ra,{value:J.create()});}return Y[ra];}function ja(Y,pa){for(var T=0;T < pa;++T){Y[T]=255 * Math.random() | 0;}return Y;}ya=J.create();ra=U();return (function(){function Y(){this.Gt=U();}Y.prototype.has=function(pa){pa=Z(pa,!1);return void 0 !== pa?J.has(pa,this.Gt):!1;};Y.prototype.get=function(pa){pa=Z(pa,!1);return void 0 !== pa?J.get(pa,this.Gt):void 0;};Y.prototype.set=function(pa,T){Z(pa,!0)[this.Gt]=T;return this;};Y.prototype.delete=function(pa){pa=Z(pa,!1);return void 0 !== pa?delete pa[this.Gt]:!1;};Y.prototype.clear=function(){this.Gt=U();};return Y;})();}function C(U){U.Qmb=void 0;delete U.Qmb;return U;}H=Object.prototype.hasOwnProperty;K="function" === typeof Symbol;M=K && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";I=K && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";K="function" === typeof Object.create;Q=({__proto__:[]}) instanceof Array;L=!K && !Q;J={create:K?function(){return C(Object.create(null));}:Q?function(){return C({__proto__:null});}:function(){return C({});},has:L?function(U,Z){return H.call(U,Z);}:function(U,Z){return (Z in U);},get:L?function(U,Z){return H.call(U,Z)?U[Z]:void 0;}:function(U,Z){return U[Z];}};N=Object.getPrototypeOf(Function);O=(K="object" === typeof c && c.dXa && "true" === c.dXa.REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?D():Map;P=K || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?F():Set;S=new (K || "function" !== typeof WeakMap?G():WeakMap)();d("decorate",function(U,Z,ja,ya){var Y;if(w(ja)){if(!z(U))throw new TypeError();if("function" !== typeof Z)throw new TypeError();for(ja=U.length - 1;0 <= ja;--ja){if((ya=(0,U[ja])(Z),!w(ya) && null !== ya)){if("function" !== typeof ya)throw new TypeError();Z=ya;}}return Z;}if(!z(U))throw new TypeError();if(!v(Z))throw new TypeError();if(!v(ya) && !w(ya) && null !== ya)throw new TypeError();null === ya && (ya=void 0);ja=y(ja);for(var ra=U.length - 1;0 <= ra;--ra){Y=(0,U[ra])(Z,ja,ya);if(!w(Y) && null !== Y){if(!v(Y))throw new TypeError();ya=Y;}}return ya;});d("metadata",function(U,Z){return function(ja,ya){var ra;if(!v(ja))throw new TypeError();if(ra=!w(ya)){a:switch(t(ya)){case 3:ra=!0;break a;case 4:ra=!0;break a;default:ra=!1;}ra=!ra;}if(ra)throw new TypeError();g(ja,ya,!0).set(U,Z);};});d("defineMetadata",function(U,Z,ja,ya){if(!v(ja))throw new TypeError();w(ya) || (ya=y(ya));g(ja,ya,!0).set(U,Z);});d("hasMetadata",function(U,Z,ja){if(!v(Z))throw new TypeError();w(ja) || (ja=y(ja));return h(U,Z,ja);});d("hasOwnMetadata",function(U,Z,ja){if(!v(Z))throw new TypeError();w(ja) || (ja=y(ja));return l(U,Z,ja);});d("getMetadata",function(U,Z,ja){if(!v(Z))throw new TypeError();w(ja) || (ja=y(ja));return n(U,Z,ja);});d("getOwnMetadata",function(U,Z,ja){if(!v(Z))throw new TypeError();w(ja) || (ja=y(ja));return q(U,Z,ja);});d("getMetadataKeys",function(U,Z){if(!v(U))throw new TypeError();w(Z) || (Z=y(Z));return p(U,Z);});d("getOwnMetadataKeys",function(U,Z){if(!v(U))throw new TypeError();w(Z) || (Z=y(Z));return u(U,Z);});d("deleteMetadata",function(U,Z,ja){var ya;if(!v(Z))throw new TypeError();w(ja) || (ja=y(ja));ya=g(Z,ja,!1);if(w(ya) || !ya.delete(U))return !1;if(0 < ya.size)return !0;U=S.get(Z);U.delete(ja);if(0 < U.size)return !0;S.delete(Z);return !0;});});})(k || (k={}));}).call(this,a(253),a(198));},function(r,b,a){var k,m,d,g,h;function c(l,n){var q,p;q=Object.getOwnPropertyNames(Object.getPrototypeOf(l));l=Object.keys(l).concat(q);p=Object.getPrototypeOf(n);l.forEach(function(u){Object.getOwnPropertyDescriptor(n,u) || Object.getOwnPropertyDescriptor(p,u) || n[u] || Object.defineProperty(n,u,{get:function(){throw Error("Proxy-provided, not implemented");},configurable:!0,enumerable:!1});});}function f(l,n,q,p){var w;for(var u=[],t=4;t < arguments.length;t++){u[t - 4]=arguments[t];}w=p();if((null === w || void 0 === w?0:w.Psa) || (null === w || void 0 === w?0:w.Ab))u=u.map(function(v,x){var y;x=h.I4a(w.Psa,null === (y=w.Ab) || void 0 === y?void 0:y[x]);return g.paa(n,v,q,x);});u=l.call.apply(l,k.__spread([void 0],u));return (null === w || void 0 === w?0:w.return)?g.paa(n,u,q,w.return,d.Mv.Rya):u;}Object.defineProperties(b,{__esModule:{value:!0}});b.sGb=b.WBb=b.VUa=void 0;k=a(2);m=a(257);d=a(182);g=a(410);h=a(899);b.VUa=function(l,n,q,p,u){var t,w;t={};w=m.QZa(u);c(n,l);return new Proxy(l,{get:function(v,x){var y,z,A;if((x in n)){z=n[x];return "function" === typeof z?z.bind(n):z;}A=t[x];if(!A && !Object.getOwnPropertyDescriptor(t,x)){A=null !== (z=null === (y=null === v || void 0 === v?void 0:v.constructor) || void 0 === y?void 0:y.prototype) && void 0 !== z?z:v;y=Object.getOwnPropertyDescriptor(A,x);if(null === y || void 0 === y?0:y.get)return (z=y.get,y=w.bind(null,v,x),v=f.bind(v,z.bind(v),q,p,y),Object.defineProperty(t,x,{get:v,enumerable:!0,configurable:!0}),v());z=v[x];return "function" === typeof z?(y=w.bind(null,v,x),v=f.bind(v,z.bind(v),q,p,y),t[x]=v):z;}return A;},set:function(v,x,y){if((x in n))return (n[x]=y,!0);v[x]=y;delete t[x];return !0;}});};b.WBb=c;b.sGb=f;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.I4a=void 0;c=a(2);f=a(25);b.I4a=function(k,m){var d;if(k || m){d=(null === k || void 0 === k?0:k.rules) && (null === m || void 0 === m?0:m.rules)?f.Y3(k.rules,m.rules):(null === k || void 0 === k?void 0:k.rules) || (null === m || void 0 === m?void 0:m.rules);return c.__assign(c.__assign(c.__assign({},k),m),{rules:d});}};},function(r,b,a){var f;function c(k,m){var d,g;d=f.__assign({},k);g=f.__read(null !== m && void 0 !== m?m:[],1)[0];g && k[g] && (k=k[g],"object" === typeof k?(m=m.concat(),m.shift(),d[g]=c(k,m)):d[g]=k);return d;}Object.defineProperties(b,{__esModule:{value:!0}});b.E$a=b.Ska=b.Q6=b.J1a=b.N1a=b.h2a=b.o0a=b.c2a=b.Zf=void 0;f=a(2);b.Zf=function(k){return !(null === k || void 0 === k || !k.position);};b.c2a=function(k){return !(null === k || void 0 === k || !k.ha) && !(null === k || void 0 === k || !k.offset);};b.o0a=function(k){return !(null === k || void 0 === k || !k.ha);};b.h2a=function(k,m){return "string" === typeof k && !(!m.xQ.ma.V[k] && !m.Kg.ma.V[k]);};b.N1a=function(k){return !(null === k || void 0 === k || !k.S) && !(null === k || void 0 === k || !k.ym);};b.J1a=function(k){return !(null === k || void 0 === k || !k.Fe);};b.Q6=function(k,m){var d;d=k;m.forEach(function(g){d=null === d || void 0 === d?void 0:d[g];});return d;};b.Ska=c;b.E$a=function(k,m,d){for(var g=0;g < m.length - 1 && k;g++){k=k[m[g]];}return k?(k[m[m.length - 1]]=d,!0):!1;};},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.uAa=void 0;c=a(2);f=a(397);k=c.__importDefault(a(6));m=a(248);a(16);d=a(242);g=a(9);h=a(25);l=a(67);n=a(219);q=a(4);p=a(902);r=(function(){function u(t,w,v,x,y,z,A,B,E,D){var F;F=this;this.qa=t;this.X=w;this.I=v;this.J=x;this.nw=y;this.Ih=z;this.Cd=A;this.Hs=B;this.yC=E;this.xC=D;this.q2=!1;this.wOa=new g.OLa();this.Iha=this.TSb.bind(this);this.qj=new m.j0(this.I);this.Ix=new p.MMa(this.I,t);this.DAb(this.Ix);this.Uk && (this.Lqb=this.Xna(this.lJb()),this.npb=g.Fr.yza(this.Uk.map(function(G){return G.MA;}),function(G){return G.every(function(C){return C;});},function(G){return F.yC.set(G);}),this.qnb=new n.zea(this.Uk.map(function(G){return G.aX;}),function(G){return g.O.min.apply(g.O,c.__spread(G));},function(G){F.xC.set(G);},g.O.Na(-Infinity)));this.Vp=B.aH(function(){return F.mvb();},"branchPruner");}u.prototype.mvb=function(){var t,w,v,x,y,z,A;return c.__generator(this,function(B){switch(B.label){case 0:if(!this.qj.cUa)return [3,2];t=c.__read(this.qj.oba(),1);w=t[0];v=null !== (A=null === (z=this.nw.UP) || void 0 === z?void 0:z.U) && void 0 !== A?A:0;x=w.F8 || w.ye;y=x.add(g.O.Na(v + 1E3));return [4,l.Tk.DQ(y)];case 1:return (B.Ac(),this.qj.remove(w),w.events.removeListener("branchEdited",this.Iha),w.rf(),[3,0]);case 2:return [2];}});};Object.defineProperties(u.prototype,{iWb:{get:function(){var t;return !(null === (t=this.Lqb) || void 0 === t || !t.MA.value);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{xB:{get:function(){var t;return !(null === (t=this.Uk[0]) || void 0 === t || !t.xB);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{AOb:{get:function(){return this.q2?g.O.max.apply(g.O,c.__spread(this.Uk.map(function(t){var w;return null === (w=t.iub) || void 0 === w?void 0:w.Q2a;}).filter(h.U9))):void 0;},enumerable:!1,configurable:!0}});u.prototype.FE=function(t){this.Uk.forEach(function(w){w.FE(t);});};u.prototype.TSb=function(){var t;this.Vp.Tm();t=this.Uk.filter(function(w){return w.QMb;}).map(function(w){return w.mediaType;});this.yJ(t);this.resume(t);};u.prototype.rEb=function(t){q.assert(-1 === this.qj.oba().indexOf(t),"Branch " + t.H.id + " is already in the collection, cannot re-queue");t.events.addListener("branchEdited",this.Iha);this.qj.enqueue(t);this.Vp.state === l.rn.complete && this.Vp.Tm();t.H.vv && this.qj.O5();this.q2 || this.NFb(t);};u.prototype.$X=function(t){this.Uk.forEach(function(w){w.$X(t);});};u.prototype.reset=function(){this.Uk.forEach(function(t){t.reset();});this.q2=!1;this.wOa.removeAllListeners();this.PG();};u.prototype.kZ=function(t){t=this.Xna(t);null === t || void 0 === t?void 0:t.reset();};u.prototype.PG=function(){var t;t=this;this.qj.oba().forEach(function(w){return w.events.removeListener("branchEdited",t.Iha);});this.qj.clear();this.Vp.Tm();};u.prototype.resume=function(t){this.Uk.forEach(function(w){void 0 !== t && -1 === t.indexOf(w.mediaType) || w.resume();});};u.prototype.yJ=function(t){this.Uk.forEach(function(w){return (void 0 === t || -1 !== t.indexOf(w.mediaType)) && w.stop();});};u.prototype.Dk=function(){this.I.trace("attached-player: onUnderflow");};u.prototype.E_a=function(){return this.qj.getIterator();};u.prototype.fIb=function(){return this.Xz()[0];};u.prototype.Xz=function(){return this.qj.oba();};u.prototype.DAb=function(t){var w,v;w=this;this.km("createMediaSourceStart");if(this.nw.mW)v=this.nw.mW();else (v=new k.default.MediaSource(this.X.X),v.Rc || (v.Rc=k.default.MediaSource.Rc));if(1 !== v.readyState)this.Wp("exception in init","NFErr_MC_StreamingInitFailure");else {this.km("createMediaSourceEnd");this.mg=v;if(!v.N3(this.Cd))throw (this.I.trace("Error:",v.error),this.Wp("error creating source buffers","NFErr_MC_StreamingInitFailure"),v.error);this.Uk=v.sourceBuffers.filter(function(x){return 0 <= w.Cd.indexOf(x.mediaType);}).map(function(x){var y;y=new d.Ica(w.I,x.mediaType,v,x,w.J,!0,{Te:function(){return w.X.Zg.U;},hp:function(z){return w.X.hp(z.S);}},w.Hs);y.addListener("error",function(z){return w.Wp(z.errorstr);});y.addListener("logdata",function(z){return w.Ih.emit("logdata",z);});y.addListener("managerdebugevent",function(z){w.Ih.emit("managerdebugevent",z);});return new f.wca(y,x.mediaType,w,w.J,w.I,w.X,w.nw,w.Hs,t);});}};u.prototype.Ib=function(){this.npb.clear();this.qnb.clear();this.Uk.forEach(function(t){return t.Ib();});this.nw.mW || this.mg.qq();this.PG();this.Vp.Ib();};u.prototype.Ti=function(t){return this.Uk.every(function(w){return w.Ti(t);});};u.prototype.Zna=function(){return {SWb:this.Xz(),hVb:this.Uk};};u.prototype.NFb=function(t){var w;w=this;this.q2=!0;t.gg.forEach(function(v){var x;x=w.Xna(v.mediaType);if(void 0 !== x)w.wOa.once(v.wna,function(y){return x.PFb(y);});});if(t.Xc)this.DWa();else t.events.once("branchNormalized",function(){return w.DWa();});};u.prototype.DWa=function(){var t;t=this.fIb();t && (q.assert(t.Pg),this.Ih.emit("ptsChanged",{initialTimestamp:t.Pg}));};u.prototype.Xna=function(t){return h.ie(this.Uk,function(w){return w.mediaType === t;});};u.prototype.lJb=function(){return -1 !== this.Cd.indexOf(1)?1:0;};u.prototype.km=function(t){t={type:"startEvent",event:t,time:k.default.time.fa()};this.Ih.emit(t.type,t);};u.prototype.Wp=function(t,w){this.qa.hh(t,void 0,w);};return u;})();b.uAa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.MMa=void 0;c=a(2).__importDefault(a(6));f=a(21);k=a(34);r=(function(){function m(d,g){this.I=d;this.My=g;}m.prototype.KE=function(d,g,h,l,n){var q,p;void 0 === n && (n=!1);q=d.H;p=this.wob(q);this.RT={startTime:c.default.time.fa(),B0b:d,A0b:h.U,pDb:g,ce:this.vIb(l,g),T2b:this.aKb(l,n),ama:n,We:l,yTa:p,VRb:this.NIb(q,h)};};m.prototype.Foa=function(d){var g,h,l,n,q,p,u,t,w,v,x,y,z;if(this.RT && 0 !== Object.keys(this.RT.yTa).length && d === this.RT.pDb){g=this.RT;h=g.yTa;l=g.VRb;n=g.ama;q=g.We;p=g.B0b;u=g.A0b;t=g.startTime;w=g.ce;g=g.T2b;this.RT=void 0;v=this.$ga(d).Xr;x=this.JGb(p.H.id,d,h);v=this.gPa(x.weight,v);y={};for(z in h){z !== d && (y[z]=h[z].details);}h=c.default.time.fa() - t;t=q?0:h;z={offset:f.O.Na(this.MJb(p,u,q,n)),ha:p.H.id};u={offset:f.O.Na(u),ha:p.H.id};return {segment:d,destPosition:{ha:d,offset:f.O.eb},srcsegment:p.H.id,srcTransitionPosition:z,srcStartPosition:u,srcsegmentduration:p.tba.U,srcoffset:z.offset.U,seamlessRequested:q,atRequest:x,atTransition:v,discard:y,transitionType:w,transitionTypeAtRequest:g,delayToTransition:this.vHb(h,q,n),durationOfTransition:t,nextExitPositionAtRequest:l};}};m.prototype.JGb=function(d,g,h){var l,n,q;q={};(h=h[g])?q=h.details:(k.assert(this.My),q.weight=null === (n=null === (l=this.My.ma.V[d].next) || void 0 === l?void 0:l[g]) || void 0 === n?void 0:n.weight);return q;};m.prototype.vHb=function(d,g,h){var l;h || (l=g?d:0);return l;};m.prototype.NIb=function(d,g){var h,l,n;l=d.Nf.add(g);null === (h=d.zx) || void 0 === h?void 0:h.some(function(q){l.lessThan(q.Xc) && (n=q.Xc.U);});return n;};m.prototype.MJb=function(d,g,h,l){return h || l?d.tba.U:g;};m.prototype.vIb=function(d,g){return d?"seamless":this.$ga(g).DW?"reset":"long";};m.prototype.aKb=function(d,g){return d || g?"lazy":"immediate";};m.prototype.wob=function(d){var g,h;g=this;h={};d.RA.forEach(function(l){var n,q;n=d.YRb[l];q=g.$ga(l).Xr;h[l]={details:g.gPa(n,q)};});return h;};m.prototype.$ga=function(d){var g,h;d=this.My.B6(d);g=0 < d.length?d[0]:void 0;d=null === g || void 0 === g?void 0:g.tD();if(!g || !d)return {DW:!1,Xr:{po:0,Sr:0,jt:0,RC:0}};h=g.l0a(0) && !d.Sr;g=g.l0a(1) && !d.po;return {DW:!h && !g,Xr:d};};m.prototype.gPa=function(d,g){return {weight:d,vbuflmsec:g.po,abuflmsec:g.Sr,vbuflbytes:g.jt,abuflbytes:g.RC};};return m;})();b.MMa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ja=void 0;c=a(17);r=a(43);a=(function(){function f(k){var m;m=this;this.X=k;this.oha=!1;this.fG=new c.gi();this.fG.on(k,"paused",function(){return m.i$();});this.fG.on(k,"playing",function(){return m.i$(!0);});this.fG.on(k,"underflow",function(){return m.i$();});this.fG.on(k,"skipped",function(){return m.bY();});this.fG.on(k,"clockAdjusted",function(){return m.ZX();});this.fG.on(k,"playbackRateChanged",function(){return m.pTb();});}Object.defineProperties(f.prototype,{currentTime:{get:function(){return this.oQa || this.X.Cc;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xk:{get:function(){return this.oha;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{speed:{get:function(){var k;return null !== (k=this.X.playbackRate) && void 0 !== k?k:1;},enumerable:!1,configurable:!0}});f.prototype.i$=function(k){void 0 === k && (k=!1);k !== this.oha && (this.oQa=(this.oha=k)?void 0:this.X.Cc);this.emit("stopStart",{type:"stopStart"});};f.prototype.bY=function(){this.oQa=void 0;this.ZX();};f.prototype.ZX=function(){this.emit("clockAdjusted",{type:"clockAdjusted"});};f.prototype.pTb=function(){this.emit("speedChanged",{type:"speedChanged"});};f.prototype.Ib=function(){this.i$();this.fG.clear();};return f;})();b.$Ja=a;r.Bf(c.EventEmitter,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.SAa=void 0;c=a(2);r=(function(){function f(k,m,d,g){this.S=k;this.bJ=m;this.Xta=d;this.Yta=g;}Object.defineProperties(f.prototype,{R:{get:function(){var k;return null === (k=this.N_) || void 0 === k?void 0:k.R;},enumerable:!1,configurable:!0}});f.prototype.Ib=function(){var k;this.R && (this.R.Qya(this.ib),this.Yta(this.R));null === (k=this.N_) || void 0 === k?void 0:k.H8.release();this.N_=void 0;};f.prototype.Fb=function(k){return c.__awaiter(this,void 0,void 0,function(){var m,d,g,h,l;return c.__generator(this,function(n){switch(n.label){case 0:return (this.ib=k,m=this.bJ(this.S),d=m.YE,g=m.R,h=m.H8,this.N_={H8:h,R:g},g?(this.o1a(g,k,!1),[2,g]):[4,d]);case 1:return (l=n.Ac(),this.o1a(l,k,!0),[2,l]);}});});};f.prototype.o1a=function(k,m,d){this.N_ && (this.N_.R=k,k.Ova(m),this.Xta(m,k,d));};return f;})();b.SAa=r;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t;function c(w,v){return (1 === w.mediaType?0:1) - (1 === v.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.OAa=b.RAa=b.Ujb=void 0;f=a(2);k=a(17);m=a(9);d=a(21);r=a(102);g=a(43);h=a(906);l=a(4);n=a(908);q=a(179);p=a(245);u=a(20);b.Ujb={Gdb:c};(function(w){w[w.Pca=0]="CREATED";w[w.YAa=1]="CANCELLED";})(t=b.RAa || (b.RAa={}));a=(function(){function w(v,x,y,z,A,B,E,D,F,G,C,H){var K,M;K=this;this.J=v;this.I=x;this.y$=y;this.Yp=z;this.T6=A;this.rs=B;this.At=E;this.fT=D;this.parent=F;this.By=G;this.ow=C;this.M_=H;this.bd=t.Pca;this.E3=[];this.Vw=new p.IK();this.hwa=0;this.Pta=function(){!K.Lh && K.u7 && (K.R.Au.SA("onHeaderFragments",K.Pta),K.R7.resolve());};this.events=new k.EventEmitter();this.Qq=new m.mR();this.R7=new m.mR();if(null === (M=this.parent) || void 0 === M?0:M.ye)this.At=this.parent.ye.Ka(this.Yp.Nf);}Object.defineProperties(w.prototype,{state:{get:function(){return this.bd;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Lh:{get:function(){return this.bd === t.YAa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{H:{get:function(){return this.Yp;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{$w:{get:function(){var v;return !(null === (v=this.yd) || void 0 === v || !v.$w);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Hl:{get:function(){var v;return !(null === (v=this.yd) || void 0 === v || !v.Hl);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Nt:{get:function(){var v,x;return null !== (x=null === (v=this.yd) || void 0 === v?void 0:v.Nt) && void 0 !== x?x:0;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{zh:{get:function(){var v;return !(null === (v=this.yd) || void 0 === v || !v.zh);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{d5b:{get:function(){return this.Qq.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{gg:{get:function(){return this.E3;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{SN:{get:function(){var v;return !(null === (v=this.M_) || void 0 === v || !v.R);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{u7:{get:function(){return ! !this.gg.length && this.E3.every(function(v){return v.me;});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{R:{get:function(){l.assert(this.M_.R,"viewable should be available");return this.M_.R;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{W:{get:function(){var v;return (null === (v=this.yd) || void 0 === v?void 0:v.W) || this.rs.W;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Za:{get:function(){var v,x;return null !== (x=null === (v=this.yd) || void 0 === v?void 0:v.Za) && void 0 !== x?x:this.rs.pc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{tb:{get:function(){var v,x;return null !== (x=null === (v=this.yd) || void 0 === v?void 0:v.tb) && void 0 !== x?x:this.H.$i.pc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Hj:{get:function(){var v,x;return null !== (x=null === (v=this.yd) || void 0 === v?void 0:v.Hj) && void 0 !== x?x:this.Fe.eg(this.W).pc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ss:{get:function(){var v,x,y;return null !== (x=null === (v=this.yd) || void 0 === v?void 0:v.ss) && void 0 !== x?x:null === (y=this.rs) || void 0 === y?void 0:y.add(this.Fe);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{pN:{get:function(){var v,x;x=null === (v=this.H.H.zq) || void 0 === v?void 0:v[0];return x && this.Xc?d.O.Na(Math.max(0,x[0] - this.Xc.U - this.H.Nf.U)):d.O.eb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Gs:{get:function(){var v,x;return null !== (x=null === (v=this.yd) || void 0 === v?void 0:v.Gs) && void 0 !== x?x:this.H.Nf.add(this.Fe);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{qE:{get:function(){var v,x;return null !== (x=null === (v=this.yd) || void 0 === v?void 0:v.qE) && void 0 !== x?x:this.H.$i.add(this.Fe);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{F8:{get:function(){var v;return null === (v=this.yd) || void 0 === v?void 0:v.F8;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Fe:{get:function(){var v,x;return null !== (x=null === (v=this.yd) || void 0 === v?void 0:v.Fe) && void 0 !== x?x:this.At;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{pr:{get:function(){var v,x;return null !== (x=null === (v=this.yd) || void 0 === v?void 0:v.pr) && void 0 !== x?x:this.H.$i.Ka(this.rs || this.H.Nf);},enumerable:!1,configurable:!0}});w.prototype.Fb=function(){return f.__awaiter(this,void 0,void 0,function(){var v,x;x=this;return f.__generator(this,function(y){switch(y.label){case 0:if(this.Lh)return [2];u.ia && this.I.log("AseBranch {" + this.H.id + "} awaiting viewable");return [4,this.M_.Fb(this)];case 1:y.Ac();u.ia && this.I.log("AseBranch {" + this.H.id + "} viewable available, branch " + (this.Lh?"cancelled":"active"));if(this.Lh)return [2];l.assert(this.T6,"tracks need to exist upon initialization");this.E3=this.T6(this.R).sort(c);v=this.gg.map(function(z){var A;return null === (A=x.parent) || void 0 === A?void 0:A.ipa(z.mediaType);});this.H$a(this.rs);return [4,this.BXa()];case 2:return (y.Ac(),u.ia && this.I.log("AseBranch {" + this.H.id + "} have headers"),this.Lh?[2]:this.parent?[4,this.parent.d5b]:[3,4]);case 3:y.Ac();if(this.Lh)return [2];this.Vw.forEach(function(z){var A,B;B=null === (A=x.parent) || void 0 === A?void 0:A.ipa(z.mediaType);l.assert(B,"Parent state should be defined");-1 === v.indexOf(B) && (z.Mj.Qf.Ib(),A=new q.Y1(B),z.Mj.Qf=A);});y.label=4;case 4:return (this.normalize(),[2]);}});});};w.prototype.BXa=function(){return f.__awaiter(this,void 0,void 0,function(){return f.__generator(this,function(){this.u7?this.R7.resolve():(this.R.Au.on("onHeaderFragments",this.Pta),this.events.emit("needsRequest"));return [2,this.R7.promise];});});};w.prototype.normalize=function(){this.Lh || (this.yd=new h.WHa(this,this.J,this.I,this.R,this.y$,this.Yp,this.rs,this.Vw.items,this.At,this.fT,this.parent,this.By,this.events,this.ow),this.Bma(this.yd.kD),this.Qq.resolve(this.yd));};w.prototype.update=function(v){var x;this.Yp=v;(null === (x=this.yd) || void 0 === x?0:x.update(v)) && this.Bma(!0);};w.prototype.Mx=function(v){var x;this.At=v;null === (x=this.yd) || void 0 === x?void 0:x.Mx(v);};w.prototype.bA=function(v){return f.__awaiter(this,void 0,void 0,function(){var x;return f.__generator(this,function(y){switch(y.label){case 0:return [4,this.Qq];case 1:return (x=y.Ac(),[2,null === x || void 0 === x?void 0:x.bA(v)]);}});});};w.prototype.mH=function(){var v;null === (v=this.yd) || void 0 === v?void 0:v.mH();};w.prototype.reset=function(){var v;null === (v=this.yd) || void 0 === v?void 0:v.reset();};w.prototype.rf=function(){var v;this.bd=t.YAa;this.SN && this.R.Au.SA("onHeaderFragments",this.Pta);null === (v=this.yd) || void 0 === v?void 0:v.rf();this.Vw.forEach(function(x){return x.cancel();});this.M_.Ib();};w.prototype.RW=function(v){var x;return !(null === (x=this.yd) || void 0 === x || !x.RW(v));};w.prototype.kb=function(v){var x;return null === (x=this.yd) || void 0 === x?void 0:x.kb(v);};w.prototype.l0a=function(v){return this.gg.some(function(x){return x.mediaType === v;});};w.prototype.Dq=function(v){var x,y;void 0 === v && (v=c);return null !== (y=null === (x=this.yd) || void 0 === x?void 0:x.Dq(v)) && void 0 !== y?y:[];};w.prototype.ipa=function(v){var x,y;return (null === (x=this.kb(v)) || void 0 === x?void 0:x.Mj.Qf) || (null === (y=this.Vw.get(v)) || void 0 === y?void 0:y.Mj.Qf);};w.prototype.W6=function(){var v,x;return this.u7?null !== (x=null === (v=this.yd) || void 0 === v?void 0:v.W6()) && void 0 !== x?x:[]:this.Vw.items;};w.prototype.FN=function(v){var x;return (null === (x=this.yd) || void 0 === x?void 0:x.FN(v)) || this.Vw.get(v);};w.prototype.Oh=function(v,x){var y;return (null === (y=this.yd) || void 0 === y?void 0:y.Oh(v,x)) || 0;};w.prototype.tD=function(){var v;return (null === (v=this.yd) || void 0 === v?void 0:v.tD()) || ({});};w.prototype.uW=function(v){var x;return (null === (x=this.yd) || void 0 === x?void 0:x.uW(v)) || this.ss.U;};w.prototype.EE=function(v,x,y){return f.__awaiter(this,void 0,void 0,function(){var z,A,B,E;return f.__generator(this,function(D){switch(D.label){case 0:this.E3=v.sort(c);this.H$a(x);if(!this.zh)return [3,2];l.assert(this.yd);z=this.Vw.filter(function(F){return F.track.me;}).items;A=this.yd.Tcb(z,x,y);B=A.lV;E=A.kD;B && this.Bma(E);if(this.u7)return [3,2];this.R7=new m.mR();this.Qq=new m.mR();u.ia && this.I.log("AseBranch {" + this.H.id + "} setTracks waiting for headers");return [4,this.BXa()];case 1:D.Ac();if(this.Lh)return [2];this.yd.Tcb(this.Vw.items,x,y);u.ia && this.I.log("AseBranch {" + this.H.id + "} setTracks pipelines updated");this.Qq.resolve(this.yd);this.events.emit("needsRequest");D.label=2;case 2:return [2];}});});};w.prototype.H$a=function(v){var x;x=this;this.hwa=0;this.Vw=new p.IK(this.gg.map(function(y){var z,A;A=x.Vw.find(function(B){return B.track === y;});A || (++x.hwa,A=new n.CEa(x,y,(null === v || void 0 === v?void 0:v.add(x.Fe)) || d.O.eb,x.J,x.I,null === (z=x.parent) || void 0 === z?void 0:z.ipa(y.mediaType),x.y$,function(){0 === --x.hwa && x.events.emit("requestQueuesCreated");}));return A;}));};w.prototype.cn=function(v){var x;return (null === (x=this.yd) || void 0 === x?void 0:x.cn(v)) || [];};w.prototype.YX=function(v){var x;return null === (x=this.yd) || void 0 === x?void 0:x.YX(v);};w.prototype.XG=function(v){var x;return !(null === (x=this.yd) || void 0 === x || !x.XG(v));};w.prototype.I6=function(v){return this.yd?this.yd.I6(v):d.O.eb;};w.prototype.Iya=function(v){var x;return !(null === (x=this.yd) || void 0 === x || !x.Iya(v));};w.prototype.Bma=function(v){v={type:"branchNormalized",segmentContentStart:this.H.Nf,branchContentStart:this.Xc,branchContentEnd:this.Td,didNormalizeSegment:v};this.events.emit(v.type,v);u.ia && this.I.trace("branchNormalized:",v);};w.prototype.toJSON=function(){var v;return (null === (v=this.yd) || void 0 === v?void 0:v.toJSON()) || ({});};return w;})();b.OAa=a;g.Bf(r.Sx,a);g.Bf(r.RB,a);},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w,v,x;function c(y,z){return (1 === y.mediaType?0:1) - (1 === z.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.WHa=b.Tea=void 0;f=a(2);k=a(392);m=a(82);d=a(150);g=a(390);h=a(16);l=a(413);n=a(907);q=a(9);p=a(25);u=a(4);t=a(21);w=f.__importDefault(a(6));r=a(102);v=a(43);x=a(245);b.Tea={Gdb:c};a=(function(y){function z(A,B,E,D,F,G,C,H,K,M,I,Q,L,J){var N,O;O=y.call(this,D) || this;O.ib=A;O.J=B;O.R=D;O.y$=F;O.Yp=G;O.At=K;O.fT=M;O.parent=I;O.By=Q;O.events=L;O.ow=J;O.fe=new x.IK([]);O.gm=!1;O.oT=0;O.PS=O.YX.bind(O);u.assert(D.S === O.H.S || isNaN(D.S) && isNaN(O.H.S));O.console=q.Nq(w.default,E,G.id && G.id.length?"{" + G.id + "}":"");O.rs=null !== C && void 0 !== C?C:t.O.Na(O.H.$);O.Nha=null === I || void 0 === I?void 0:I.ye;null === (N=O.By) || void 0 === N?void 0:N.addListener(O.PS);A=O.QUa(H,O.rs,! !O.parent).kD;O.kD=A;return O;}f.__extends(z,y);Object.defineProperties(z.prototype,{Lh:{get:function(){return this.gm;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{H:{get:function(){return this.Yp;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{$w:{get:function(){return this.fe.every(function(A){return A.$w;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Hl:{get:function(){return this.fe.every(function(A){return A.Hl;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Nt:{get:function(){return this.Dq().reduce(function(A,B){return A + B.Nt;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{zh:{get:function(){return this.Dq().every(function(A){return A.zh();});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{gg:{get:function(){return this.ib.gg;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{W:{get:function(){return this.Ht.W;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Za:{get:function(){return this.Ht.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{tb:{get:function(){return this.Ht.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Hj:{get:function(){return this.Fe.eg(this.W).pc;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ss:{get:function(){return this.rs.add(this.Fe);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Gs:{get:function(){return this.H.Nf.add(this.Fe);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{qE:{get:function(){return this.H.$i.add(this.Fe);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{F8:{get:function(){return this.fe.reduce(function(A,B){return A && B.ye?t.O.max(A,B.ye):B.ye?B.ye:A;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{tqa:{get:function(){return this.ss.U;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ee:{get:function(){return this.Fe.U;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{pr:{get:function(){return this.Ht.pr;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Fe:{get:function(){return this.At;},enumerable:!1,configurable:!0}});z.prototype.Tcb=function(A,B,E){var D;void 0 === B && (B=null !== (D=this.Xc) && void 0 !== D?D:this.rs);return this.QUa(A,B,E);};z.prototype.update=function(A){var B,E,D;D=A.$i.V9(this.Yp.$i);this.Yp=A;return D && this.DC?(D=f.__read(this.DC.dYb(A,A.$i),2),A=D[0],D=D[1],u.assert(A && D,"branch.update: lastFragment should be defined"),null === (B=this.kb(0)) || void 0 === B?void 0:B.truncate(A),null === (E=this.kb(1)) || void 0 === E?void 0:E.truncate(D),this.events.emit("branchEdited",{type:"branchEdited"}),!0):!1;};z.prototype.Mx=function(A){this.Fe.equal(A) || (this.At=A);};z.prototype.bA=function(A){return f.__awaiter(this,void 0,void 0,function(){var B;return f.__generator(this,function(E){switch(E.label){case 0:return [4,Promise.resolve()];case 1:return (E.Ac(),(B=this.kb(A))?[2,B.bA()]:[2,d.AsyncIterator.qZa()]);}});});};z.prototype.mH=function(){this.Dq().forEach(function(A){return A.mH();});};z.prototype.XT=function(){this.fe.forEach(function(A){return A.XT();});};z.prototype.reset=function(){this.fe.forEach(function(A){A.reset();});};z.prototype.rf=function(){var A,B;this.gm || (this.gm=!0,null === (A=this.DC) || void 0 === A?void 0:A.fd(),this.DC=void 0,this.fe.forEach(function(E){E.rf();}),null === (B=this.By) || void 0 === B?void 0:B.removeListener(this.PS),this.events.removeAllListeners());};z.prototype.RW=function(){return !0;};z.prototype.kb=function(A){return this.fe.get(A);};z.prototype.Dq=function(A){void 0 === A && (A=c);return this.fe.items.slice().sort(A);};z.prototype.W6=function(){return this.fe.items;};z.prototype.FN=function(A){return this.kb(A);};z.prototype.Oh=function(A,B){A=this.kb(A);if(!A)return 0;if(B)return A.Sm;B=A.mq;if(void 0 === B)return 0;A=this.fT();return B - A;};z.prototype.tD=function(){var A,B,E,D,F,G,C;C=null === (A=this.kb(0)) || void 0 === A?void 0:A.Hn;A=null === (B=this.kb(1)) || void 0 === B?void 0:B.Hn;return {po:null !== (E=null === A || void 0 === A?void 0:A.U) && void 0 !== E?E:0,Sr:null !== (D=null === C || void 0 === C?void 0:C.U) && void 0 !== D?D:0,jt:null !== (F=null === A || void 0 === A?void 0:A.ga) && void 0 !== F?F:0,RC:null !== (G=null === C || void 0 === C?void 0:C.ga) && void 0 !== G?G:0};};z.prototype.uW=function(A){var B;return (A=this.kb(A))?null !== (B=A.mq) && void 0 !== B?B:0:0;};z.prototype.cn=function(A){A=this.kb(A);return (null === A || void 0 === A?void 0:A.cn()) || [];};z.prototype.YX=function(A){h.gp(A.newValue) && this.Pr();};z.prototype.XG=function(A){return this.fe.every(function(B){return B.XG(A);});};z.prototype.I6=function(A){var B,E;return null !== (E=null === (B=this.fe.get(A)) || void 0 === B?void 0:B.hVa) && void 0 !== E?E:t.O.eb;};z.prototype.Iya=function(A){var B,E,D;B=this.Ht.nOb;if(!B)return !1;E=p.ie(A,function(F){return B.U <= F.Xc.U;});if(!E)return !1;A=!1;D=f.__read(l.bwa(this.J,this.fe,E.Xc),2);E=D[0];if(D=D[1])(this.kb(1).truncate(D),A=!0);E && (this.kb(0).truncate(E),A=!0);A && (E={type:"branchEdited"},this.events.emit(E.type,E));return A;};z.prototype.Ek=function(A){this.gm || (A.Q3 || u.assert(!A.dd),this.Pr(),this.Hl && this.Lha());this.pu(A);};z.prototype.EI=function(A){this.J.K5 && this.Pr(!0);this.uH(A);};z.prototype.DI=function(A){this.J.K5 && this.Pr(!0);this.rD(A);};z.prototype.QUa=function(A,B,E){var D,F,G;D=this;F=new x.IK();G=!1;A.forEach(function(C){var H;H=D.fe.find(function(K){return K.track === C.track;});void 0 === H?(G=!0,H=new g.wea(C.mediaType,D.J,D.console),H=new k.Sea(D,D.J,D.console,D.y$,D.ib,C.track,B,C.Mj,H,!0,void 0,C.N2b(),D.ow),H.events.on("lastRequestIssued",function(){return D.$w && D.events.emit("lastRequestIssued",{type:"lastRequestIssued"});})):(D.fe.remove(H),H.XT());F.add(H);});this.fe.forEach(function(C){return C.rf();});this.fe=F;return G?this.normalize(B,E):{lV:!1,kD:!1};};z.prototype.normalize=function(A,B){var E,D;null === (E=this.DC) || void 0 === E?void 0:E.fd();this.DC=new n.xJa({console:this.console,config:this.J,R:this.R,H:this.H,pl:this.fe,Xc:A,Td:null !== (D=this.H.$i) && void 0 !== D?D:void 0 !== this.H.La?t.O.Na(this.H.La):void 0,splice:B});this.Ht=this.fe.FY;B=this.DC.normalize();A=B.lV;B=B.kD;A && this.Nha && (this.At=this.Nha.Ka(this.Xc));return {lV:A,kD:B};};z.prototype.sxa=function(A){var B;return h.gp((null === (B=this.By) || void 0 === B?void 0:B.value) || h.Kc.oj) && (!A || this.oT + this.J.u9 < w.default.time.fa());};z.prototype.Pr=function(A){void 0 === A && (A=!1);this.sxa(A) && (this.oT=w.default.time.fa(),A={type:"checkBufferingProgress"},this.events.emit(A.type,A));};z.prototype.Lha=function(){var A;A={type:"branchStreamingComplete"};this.events.emit(A.type,A);};z.prototype.toJSON=function(){var A,B;return {segment:this.H.id,branchOffset:this.Ee,viewableId:this.Yp.S,contentStartPts:null === (A=this.Xc) || void 0 === A?void 0:A.U,contentEndPts:null === (B=this.Td) || void 0 === B?void 0:B.U};};return z;})(m.Av);b.WHa=a;v.Bf(r.Sx,a);},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.xJa=void 0;c=a(2);f=a(413);k=a(4);r=(function(){function m(d){var g,h,l,n,q,p,u,t;g=this;h=d.console;l=d.config;n=d.R;q=d.pl;p=d.H;u=d.Xc;t=d.Td;d=d.splice;this.NW=this.BM=!1;this.rTa=function(){g.BM || g.$ia() && g.qta();};this.console=h;this.config=l;this.pl=q;this.R=n;this.H=p;this.Xc=u;this.Td=t;this.splice=d;}m.prototype.Fb=function(d){if(this.BM)throw Error("Cannot call init() after cleanup");if(this.NW)throw Error("Cannot call init() twice");this.NW=!0;this.g6a=d;this.R.Au.addListener("onHeaderFragments",this.rTa);this.$ia() && this.qta();};m.prototype.normalize=function(){if(this.BM)throw Error("Cannot call normalize() after cleanup");if(this.NW)throw Error("Cannot call init() / normalize() twice");this.NW=!0;k.assert(this.$ia());return this.qta();};m.prototype.dYb=function(d,g){k.assert(this.NW,"expected to be called init() before renormalize");this.H=d;this.Td=g;d=f.bwa(this.config,this.pl,this.Td);this.S9();return d;};m.prototype.fd=function(){this.BM || (this.BM=!0,this.g6a=void 0,this.R.Au.removeListener("onHeaderFragments",this.rTa));};m.prototype.qta=function(){var d,g,h;if(this.BM)return {lV:!1,kD:!1};g=this.eSb();h=!1;this.H && !this.H.Qq && (h=this.S9());null === (d=this.g6a) || void 0 === d?void 0:d.call(this,g,h);this.fd();return {lV:g,kD:h};};m.prototype.$ia=function(){return this.pl.every(function(d){return d.track.me;});};m.prototype.eSb=function(){var d,g;d=c.__read(f.C5a(this.config,this.pl,this.Xc,this.Td,this.splice),2);g=d[0];return d[1] || void 0 === this.pl.get(1) && g;};m.prototype.S9=function(){var d,g,h;k.assert(this.H);k.assert(!this.H.Qq);d=this.pl.FY;g=f.E5a(this.config,d,this.H.Nf);if(void 0 === g || void 0 === d.Td)return !1;d=d.Td;h=this.config.fza && "lazy" === this.H.ce?f.Z3a(this.console,this.H,this.pl):[];this.H.normalize(g,d,h);return !0;};return m;})();b.xJa=r;},function(r,b,a){var c,f,k,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.CEa=void 0;c=a(396);f=a(127);k=a(179);m=a(249);d=a(4);r=(function(){function g(h,l,n,q,p,u,t,w){this.ib=h;this.track=l;this.Taa=n;this.config=q;this.console=p;this.events=t;this.zTb=w;this.Xn=0;this.S7a=this.Hl=!1;this.Mj=this.PAb(u);}Object.defineProperties(g.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ha:{get:function(){return this.ib.H.id;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{fh:{get:function(){return this.ib.fh;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{OU:{get:function(){return this.Taa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{OE:{get:function(){return this.Taa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{pN:{get:function(){return this.ib.pN;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Lf:{get:function(){return this.De || (this.De=this.au());},enumerable:!1,configurable:!0}});g.prototype.UD=function(){return this.track.I9;};g.prototype.us=function(){return this.track.me;};g.prototype.zh=function(){return !1;};g.prototype.zZa=function(){return {Y:[],t$:0,Ej:0};};g.prototype.N2b=function(){var h;d.assert(this.us());h=this.Lf;this.De=void 0;return h;};g.prototype.scb=function(h){return (h=h.UE(this.Lf))?{Hm:h,reason:"success"}:{Hm:h,reason:"pipelineTryIssueHeaderRequest"};};g.prototype.cancel=function(){this.De && (this.ib.R.cM(this.mediaType,this.De),f.Gp.instance.TM(this.De),this.De.removeAllListeners(),this.De=void 0);};g.prototype.PAb=function(h){var l,n;l=0 === this.mediaType?this.config.gSa:this.config.Wxa;h=new k.Y1(h);h.FZ(this.track);n=this.config;return new m.Lfa(l,this.config,h,0 === this.mediaType?n.Cma:n.Dma);};g.prototype.au=function(){var h,l;h=this;l=c.au(this.mediaType,this.track.R,this.config,this.console,function(n){return h.events.emit("transportReport",n);},function(){});l.on("created",this.zTb);return l;};return g;})();b.CEa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.iMa=void 0;c=a(2);r=(function(){function f(k,m){this.I=k;this.Ih=m;this.Yxa=!1;}f.prototype.kYb=function(k){this.hh(k.message,void 0,c.__assign(c.__assign({},k.gXa),{err:k.toString()}));};f.prototype.hh=function(k,m,d){void 0 === m && (m=void 0);void 0 === d && (d={});this.Yxa || (d.temporaryFailure || (this.Yxa=!0),k=c.__assign({type:"error",error:null !== m && void 0 !== m?m:"NFErr_MC_StreamingFailure",errormsg:k,temporaryFailure:!1},d),this.I.error("notifyStreamingError:",k),this.Ih.emit("error",k));};f.prototype.Un=function(){return this.Yxa;};return f;})();b.iMa=r;},function(r,b,a){var c,f,k,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Uea=void 0;c=a(2);f=a(4);k=a(9);m=a(20);d=a(258);r=(function(g){function h(l){var n;n=g.call(this) || this;n.qa=l;n.Hb=[];n.SS=new d.W1({xk:!1,currentTime:function(){return n.Zf?n.Zg:k.O.ND;},speed:1});return n;}c.__extends(h,g);Object.defineProperties(h.prototype,{za:{get:function(){return this.SS;},enumerable:!1,configurable:!0}});h.prototype.e4=function(l,n){var q;q=!this.qa;q && (this.qa=l,this.Ega=(null === n || void 0 === n?0:n.Zf)?n.Zg:void 0);return q;};h.prototype.PG=function(){this.Hb=[];this.Ega=void 0;};h.prototype.gma=function(l){m.ia && f.assert(this.qa === l);this.qa=void 0;this.PG();};h.prototype.Mma=function(){for(var l,n=[],q=0;q < arguments.length;q++){n[q]=arguments[q];}(l=this.Hb).push.apply(l,c.__spread(n));};h.prototype.AN=function(){return this.Ega?this.Ega:g.prototype.AN.call(this);};h.prototype.hp=function(){return !1;};h.prototype.FE=function(){};h.prototype.yJ=function(){};return h;})(a(411).hfa);b.Uea=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zJa=void 0;c=a(56);r=(function(){function f(k){this.kb=k;}Object.defineProperties(f.prototype,{si:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Qn=function(k){var m,d;k=k.cj;if(k === c.ee.oo || k === c.ee.tq){k={};m=this.kb(1);d=this.kb(0);m && (k.videoPipelineSummary=this.kbb(m));d && (k.audioPipelineSummary=this.kbb(d));return k;}};f.prototype.kbb=function(k){var m,d,g,h,l;l=k.Ua.Y;return {actualStartPlayerTimestamp:null === (m=l.Pg) || void 0 === m?void 0:m.U,actualPartialPlayerTimestamp:l.X6a,actualCompletePlayerTimestamp:null === (d=k.Fia) || void 0 === d?void 0:d.U,segmentId:k.ha,contentStartMs:null === (g=k.Xc) || void 0 === g?void 0:g.U,contentEndMs:null === (h=k.Td) || void 0 === h?void 0:h.U,streamingPlayerMs:k.OE.U,isStreamable:k.UD(),isNormalized:k.zh(),isDoneStreaming:k.us(),trackNeedsHeaderRequest:k.track.I9,completedRequests:l.dUa,activeRequests:k.Ua.aq,unsentRequests:k.Ua.et,bytes:{current:l.ga,received:l.F8a,partial:l.Ej,completed:l.eD,unsent:l.u3b}};};return f;})();b.zJa=r;},function(r,b,a){var c,f,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.fKa=void 0;c=a(2);f=a(20);k=a(56);m=a(415);r=(function(){function d(g){this.pVb=g;}Object.defineProperties(d.prototype,{si:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{kx:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return f.ia;},enumerable:!1,configurable:!0}});d.prototype.Qn=function(g){var h;g=g.cj;if(g === k.ee.tq || g === k.ee.oo){h={};this.pVb.forEach(function(l,n){var q;q=m.boa(l);h[n]=c.__assign({probabilities:l.fh.map(function(p){return {duration:p.duration,immediate:p.LD,seamless:p.We};})},q);});return h;}};return d;})();b.fKa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.tGa=void 0;r=(function(){function a(c,f,k){this.Me=c;this.I=f;this.events=k;this.sP=[];}a.prototype.sh=function(c){var f;f=this;this.sP.push(c);this.Me.NUa(function(){f.pcb(c,{VMb:!0});},c.aTa,c.Mw);};a.prototype.JOb=function(c){var f,k;f=this;k={cj:c};this.sP.forEach(function(m){f.pcb(m,k);});};a.prototype.pcb=function(c,f){var k,m;try{k=c.tg(f);m=k.event;k.jab && this.events.emit(c.Mw,m);}catch(d){this.I.error("Error generating event for " + c.Mw,d);}};return a;})();b.tGa=r;},function(r,b,a){var c,f,k,m,d,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.fEa=void 0;r=a(2);c=a(16);f=r.__importDefault(a(34)).default.YH;k=r.__importDefault(a(145));m=r.__importDefault(a(6));d=a(181);g=a(25);h=a(4);a=(function(){function l(n,q,p,u,t){this.config=n;this.t0b=q;this.navigator=p;this.events=u;this.console=t;n=d.IN(this.config);this.M7a=[n.wE,n.M$];}l.prototype.CZb=function(n,q,p,u,t,w,v){var x,y,z,A,B,E,D;y=[];if(!this.f7a(t.track))return {stream:B,YP:y,reason:"locationSelectionFailure"};z=t.Mj;A=z.Qf;B=A.Iu;E=w?w.Dm(t.track.ae,n,p.Ka(t.ib.Fe),t.zh()):t.track.ae;if(0 === E.length && (null === w || void 0 === w?0:w.hwb))return {stream:void 0,YP:y,reason:"allStreamsFiltered"};B && !B.track.equals(t.track) && (B=this.DFb(B,E));if(0 === t.mediaType && B && !this.Z_b(A,B))return {stream:B,YP:y};n=this.EAb(n === c.Kc.xd?c.sa.xd:n === c.Kc.Tf?c.sa.Tf:n === c.Kc.AS?c.sa.xd:n === c.Kc.oj?c.sa.Lc:c.sa.Gh,q,u,t,! !v);z=z.Qwa(n,E,void 0,this.M7a[t.mediaType],!0,t.track.R.uq);if(!z)return {stream:B,YP:y,reason:"streamSelectionFailure"};if(z.reason){D={reason:z.reason,Pwa:z.Bu,oA:z.oA,ep:z.ep,fp:z.fp};this.Aka(t.mediaType,E,p);}this.ADb(t.mediaType,z,E);B=E[z.Ke];A.T$a(B);if(null === (x=z.Jz) || void 0 === x?0:x.length)y=z.Jz.map(function(F){return g.ie(E,function(G){return G.id === F;});}).filter(g.U9);p=z.Su;return void 0 !== D?{stream:B,YP:y,EZb:D,Su:p}:{stream:B,YP:y,Su:p};};l.prototype.Cka=function(n,q,p,u,t,w,v){var x,y,z;if(!c.gp(q))return {complete:!0,reason:"playing"};if(!w.S7a)return {complete:!1,reason:"unknown"};if(w.cUb)return (h.assert(w.z6a),w.z6a);x=w.Mj;y=x.Qf;p=this.HYa(w,p);z=y.Iu;y=p.al - p.Cc;if(y < this.config.Bj || void 0 === z)return {complete:!1,XC:y,reason:"preBuf"};if(0 === w.mediaType)return {complete:!0,XC:y,reason:"audio"};if(n=n.vTa(w.mediaType))return {complete:!0,XC:y,reason:n};this.f7a(w.track);x.Sua([z],!1,p,this.M7a[w.mediaType]);q=x.qz(p,q,t,z,{bu:v});if(!q.complete && u)return {complete:!0,reason:"prebufferTimeLimit",XC:y};q.XC=y;return q;};l.prototype.ADb=function(n,q,p){this.events.emit("streamSelection",{type:"streamSelection",mediaType:n,result:q,streamList:p});};l.prototype.zDb=function(n,q,p,u){n={type:"maxVideoBitrateChanged",time:m.default.time.fa(),streaming:u,maxvb_old:n,maxvb:q,reason:p};this.events.emit(n.type,n);};l.prototype.DFb=function(n,q){var p;p=q[0];q.filter(function(u){return u.Hu;}).every(function(u){return u.bitrate <= n.bitrate?p=u:!1;});return p;};l.prototype.Z_b=function(n,q){return 0 < this.config.hQ.length?!0:(n=n.kO) && n === q.location?!1:!0;};l.prototype.f7a=function(n){return n.R.Jm.y_(n.R.S,n.ae);};l.prototype.HYa=function(n,q){var B;for(var p,u=q.Ka(this.t0b),t=[],w=n,v=q,x,y,z=0,A=!0;w;){B=w.zZa(u);if(!A && !w.Hl)break;0 < B.Y.length && (v=B.Y[0].Pg,void 0 === x && (x=B.Y[B.Y.length - 1].ye,y=B.t$ >= B.Y.length?x:B.Y[B.t$].Pg),t=B.Y.concat(t),z+=B.Ej);w=this.navigator.parent(w);A=!1;}return {Dw:m.default.Zo()[n.mediaType],$:Math.floor(v.U),Cc:q.U,Bc:Math.floor(null !== (p=null === x || void 0 === x?void 0:x.U) && void 0 !== p?p:q.U),al:Math.floor(y?y.U:q.U),jh:t.reduce(function(E,D){return E + D.ga;},0),Ej:z,kYa:t.length,Y:t};};l.prototype.EAb=function(n,q,p,u,t){var w,v,x;w=this.HYa(u,q);v=1 === u.mediaType?this.config.F_:this.config.jU;x=k.default.instance();return {state:n,Jq:n === c.sa.Lc,Bd:u.Xn,playbackRate:p,buffer:w,tV:v,x3a:!1,bN:t,aq:null === x || void 0 === x?void 0:x.aq,mediaType:u.mediaType,Cc:q.U,ws:!1,Kqa:!1,Z$:0};};l.prototype.Aka=function(n,q,p){var w,v;if(1 === n){n="manifest";for(var u=0,t=q.length - 1;0 <= t;--t){w=q[t];v=w.bitrate;if(f(w)){u=Math.max(u,v);break;}else this.config.SZ && !w.lu?n="bc":w.Fu?w.jA && (n="hf"):n="av";}this.u4a !== u && (this.zDb(this.u4a,u,n,p),this.u4a=u);}};return l;})();b.fEa=a;},function(r,b,a){var k,m;function c(d,g,h,l,n){var q,p,u,t,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L;x=d.console;y=d.v3b;z=d.Yi;A=d.BYb;B=d.MCb;E=d.Zsa;D=d.Qja;d=d.$Tb;F=n || ({complete:!0,pr:0});G=F.root;C=F.complete;H=F.usb;K=F.r9a;K=void 0 === K?0:K;F=F.pr;M=K < A.length && A[K] === g.id;I=l && z.get(l.id);Q=n && l && I !== g.id?void 0 !== I?{We:0}:l.Svb(g.id):{We:1};z=Q.We;Q=Q.LD;L=void 0 === Q?0:Q;Q=(z + L) * (null !== (q=null === n || void 0 === n?void 0:n.lWb) && void 0 !== q?q:1);m && x.trace("reevaluateBranches: visiting " + g.id + ", distance: " + (h + ", probability: ") + (Q + ", predecessor: ") + ((null === l || void 0 === l?void 0:l.id) + ", decision: ") + (I + ", predecessorComplete: ") + (C + ", isOnRequiredPath: ") + (M + ", requiredPathIndex: ") + (K + ", activeDistance: ") + (H + ", seamless ") + (z + ", immediate ") + (L + ", predecessor sum of: successor weights=") + ((null === l || void 0 === l?void 0:l.dya) + ", immediate weights= ") + (null === l || void 0 === l?void 0:l.aba));q=null !== (u=null === (p=y[g.id]) || void 0 === p?void 0:p.shift()) && void 0 !== u?u:g.duration.U;p=0 === q;if(!M){if(0 === Q)return {Pba:!1};if(!C && 0 === L && F > D)return (d.oD=Math.min(d.oD || Infinity,F - D),{Pba:!1});if(!p && h >= B && 1 > Q || !1 === G && Q < E)return {Pba:!1};}K < A.length && k.assert(A[K] === g.id,"");n=null !== (t=null === n || void 0 === n?void 0:n.fh) && void 0 !== t?t:[];l && 1 > z && (0 === L?n=n.concat([{We:z}]):(t=(null === (v=null === (w=l.H.zq) || void 0 === w?void 0:w[0]) || void 0 === v?void 0:v[0]) || 0,w=Math.max(0,l.duration.U - t),m && x.trace("reevaluateBranches: immediate: " + l.duration.U + ", " + t + ", " + w),n=n.concat([{We:z,LD:L,duration:w}])));d.q9a.push({H:g,$u:null === l || void 0 === l?void 0:l.id,fh:n});h=C?h + g.duration.U:H;m && x.trace("reevaluateBranches: added " + g.id + ", visiting successors, active distance: " + (h + " probabilities: ") + JSON.stringify(n));return {Pba:!0,state:{root:!l,complete:p,lWb:Q,fh:n,usb:h,r9a:K + 1,pr:F + q}};}function f(d,g,h,l){l("reevaluateBranches: " + Array(h + 1).join(" ") + d.H.id + " (" + (JSON.stringify(d.fh) + ")"));g.filter(function(n){return n.$u === d.H.id;}).forEach(function(n){return f(n,g,h + 1,l);});}Object.defineProperties(b,{__esModule:{value:!0}});b.G2b=b.c5b=b.aaa=void 0;k=a(4);m=a(20).ia && !1;b.aaa=function(d,g,h,l,n,q,p,u,t){var w,v,x,y;v={q9a:[]};x=(null === (w=h.$i) || void 0 === w?void 0:w.Ka(h.Nf).U) || 0;0 < q.length && k.assert(h.id === q[0],"First segment of required path (if it exists) must equal reevaluateBranches start segment.");m && d.trace("reevaluateBranches: starting at " + h.id + " requiredPath: " + JSON.stringify(q));y={console:d,v3b:l,Yi:n,BYb:q,MCb:p.U + x,Zsa:u,Qja:t.U,$Tb:v};g.b5b(h,function(z,A,B,E){return c(y,z,A,B,E);});return v;};b.c5b=c;b.G2b=function(d,g){f(d[0],d,0,g);};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.qKa=void 0;c=a(2);f=a(414);r=(function(){function k(m){this.ma=m;this.V={};}k.prototype.lf=function(m){var d;d=this.V[m];if(void 0 === d){d=this.ma.V[m];if(void 0 === d)throw Error("Segment not found (" + m + ")");d=new f.vKa(m,d,this.ma.ce);this.V[m]=d;}return d;};k.prototype.AHb=function(m){var d;d=this;return m.H.next?Object.keys(m.H.next).map(function(g){return d.lf(g);}):[];};k.prototype.WNb=function(m){var d;return c.__generator(this,function(g){switch(g.label){case 0:return [4,m];case 1:(g.Ac(),d=m,g.label=2);case 2:if(!d.H.Md)return [3,4];d=this.lf(d.H.Md);return [4,d];case 3:return (g.Ac(),[3,2]);case 4:return [2];}});};k.prototype.SKb=function(m,d){return f.S1a(m.ON(d));};k.prototype.Fi=function(m){var d;d=this;Object.keys(m).forEach(function(g){var h;return null === (h=d.lf(g)) || void 0 === h?void 0:h.Fi(m[g]);});};return k;})();b.qKa=r;},function(r,b,a){var k,m,d;function c(g,h){var l,n;l=Object.keys(g);if(l.some(function(q){var p,u,t,w;return (null === (p=g[q]) || void 0 === p?void 0:p.ce) !== (null === (u=h[q]) || void 0 === u?void 0:u.ce) || (null === (t=g[q]) || void 0 === t?void 0:t.weight) !== (null === (w=h[q]) || void 0 === w?void 0:w.weight);}))return !0;n=Object.keys(h);return 0 !== k.__spread(m.Ot(l,n),m.Ot(n,l)).length?!0:!1;}function f(g,h){return g.some(function(l,n){var q;return 0 !== m.Ot(l,null !== (q=h[n]) && void 0 !== q?q:[]).length;}) || g.length !== h.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.dTa=b.oUa=void 0;k=a(2);m=a(25);d=a(918);b.oUa=function(g){return new d.ECa(function(h){return Object.keys(h.H.next || ({})).map(function(l){var n,q,p;l=g.lf(l);p=null !== (q=null === (n=h.$i) || void 0 === n?void 0:n.Ka(h.Nf).U) && void 0 !== q?q:Infinity;return {N4b:l,weight:p};});});};b.dTa=function(g,h){var l,n,q,p,u,t;l=Object.keys(g.V);n=Object.keys(h.V);q=n.filter(function(w){return -1 === l.indexOf(w);});p=l.filter(function(w){return -1 === n.indexOf(w);});u=l.filter(function(w){var v,x,y,z,A;if(-1 === n.indexOf(w))v=!1;else {v=g.V[w];w=h.V[w];v=v.Md !== w.Md || v.Ba !== w.Ba || v.Aa !== w.Aa || v.ce !== w.ce || v.S !== w.S || f(null !== (x=v.zq) && void 0 !== x?x:[],null !== (y=w.zq) && void 0 !== y?y:[]) || c(null !== (z=v.next) && void 0 !== z?z:{},null !== (A=w.next) && void 0 !== A?A:{})?!0:!1;}return v;});t=m.Ot(l,k.__spread(u,q,p));return {dtb:q,qP:p,Awb:u,o3b:t};};},function(r,b,a){var c,f,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.ECa=void 0;c=a(4);f=a(243);k=a(919);m=a(417);r=(function(){function d(g){this.rDb=g;this.uza=!1;this.Qba=new k.sfa();this.wx=new k.sfa();this.BRa=new m.rfa();}d.prototype.b5b=function(g,h){var n,q,p;function l(){var w,v,x,y,z,A;w=u.pop();v=p.get(w);x=v.$u;y=v.WM;v=v.state;if(!t.Qba.has(w)){t.Qba.add(w);x=h(w,y,x,v);z=x.Pba;A=x.state;q(w).forEach(function(B){var E,D;E=B.N4b;if(!n.Qba.has(E) && (B=y + B.weight,z))if(n.wx.has(E)){D=n.BRa.get(E);B < D.WM && (D.WM=B,D.$u=w,D.state=A,u.kWb(E));}else (n.wx.add(E),p.set(E,{WM:B,$u:w,state:A}),u.push(E));});}}n=this;q=this.rDb;p=this.BRa;c.assert(!this.uza);this.uza=!0;this.Qba.clear();this.wx.clear();p.set(g,{WM:0,state:{root:!1,complete:!0,r9a:0,pr:0}});for(var u=new f.o1([g],function(w,v){return p.get(w).WM - p.get(v).WM;}),t=this;!u.empty;){l();}this.uza=!1;};return d;})();b.ECa=r;},function(r,b){var f,k,m;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.ENa);}function c(d){return (a(d)?d:Object.defineProperties(d,{ENa:{value:{},configurable:!1,enumerable:!1}})).ENa;}Object.defineProperties(b,{__esModule:{value:!0}});b.sfa=void 0;k=null !== (f=Number.MAX_SAFE_INTEGER) && void 0 !== f?f:1E9;m=Date.now() % k;r=(function(){function d(){this.Eaa=0;this.id=m=(m + 1) % k;}d.prototype.add=function(g){c(g)[this.id]=this.Eaa;return this;};d.prototype.has=function(g){return a(g) && c(g)[this.id] === this.Eaa;};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.Eaa=(this.Eaa + 1) % k;return this;};return d;})();b.sfa=r;},function(r,b,a){var f,k,m,d;function c(g){return {value:g.ib,parent:g.$u};}Object.defineProperties(b,{__esModule:{value:!0}});b.gKa=void 0;f=a(9);k=a(25);m=a(4);d=a(921);r=(function(){function g(){this.Hb=new f.MHa();this.dt=new d.PMa();}Object.defineProperties(g.prototype,{empty:{get:function(){return this.Hb.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{size:{get:function(){return this.Hb.size;},enumerable:!1,configurable:!0}});g.prototype.reset=function(){var h;h=this.Hb.values();this.Hb.clear();this.dt.clear();h.forEach(function(l){return l.rf();});};g.prototype.Xz=function(h){return this.Hb.get(h);};g.prototype.has=function(h){return this.Hb.has(h);};g.prototype.SV=function(h){this.dt.SV(h);};g.prototype.Roa=function(h){return this.dt.parent(h);};g.prototype.mHb=function(h){return this.dt.children(h);};g.prototype.Fpa=function(h){return this.dt.Fpa(h);};g.prototype.Tva=function(h){var l;if(this.Hb.delete(h.H.id,h)){l=this.dt.children(h);this.dt.root === h?0 === l.length?this.dt.clear():(m.assert(1 === l.length,"cannot remove the root branch with multiple successors"),this.dt.gYb(l[0])):(m.assert(0 === l.length,"cannot remove non-root branch with successors"),this.dt.remove(h));}};g.prototype.forEach=function(h){var l;l=this;this.Hb.forEach(function(n,q){return h(n,q,l);});};g.prototype.reduce=function(h,l){var n;n=this;return this.Hb.reduce(function(q,p,u){return h(q,p,u,n);},l);};g.prototype.map=function(h){var l;l=this;return this.Hb.map(function(n,q){return h(n,q,l);});};g.prototype.filter=function(h){var l;l=this;return this.Hb.filter(function(n,q){return h(n,q,l);});};g.prototype.dKb=function(){var h;h={};this.forEach(function(l,n){var q;(l=l.pr) && (null !== (q=h[n]) && void 0 !== q?q:h[n]=[]).push(l.U);});return h;};g.prototype.A3b=function(h,l){var n;n=this;h=this.dQb(h,l).target;l=this.dt.bXb(h.map(c));h=l.qP;l=l.e9a;h.forEach(function(q){return n.Hb.delete(q.H.id,q);});return {qP:h,e9a:l.map(function(q){return q.value;})};};g.prototype.dQb=function(h,l){var q,p;function n(u,t){(u=l(u.H.id,t)) && q.Hb.set(u.H.id,u);return u;}q=this;p=[];return {target:h.reduce(function(u,t,w){var v,x;m.assert(0 === w || t.$u);if(t.$u){x=null === (v=k.TRa(u,function(y){return y.ib.H.id === t.$u;})) || void 0 === v?void 0:v.ib;if(!x)return (m.assert(void 0 !== k.ie(p,function(y){return y.H.id === t.$u;}),"predecessorSegmentId " + t.$u + " specified without previously specifying predecessor requiredBranch."),p.push(t),u);}v=k.ie(q.Xz(t.H.id),function(y){return q.dt.parent(y) === x || 0 === w;});v=null !== v && void 0 !== v?v:n(t,x);v.fh=t.fh;u.push({ib:v,$u:x});(null === v || void 0 === v?0:v.SN) && v.update(t.H);return u;},[])};};return g;})();b.gKa=r;},function(r,b,a){var f,k,m;function c(d){return 0 === d.length || void 0 === d[0].parent && d.every(function(g,h){return 0 === h || m.fq(d,function(l){return l.value === g.parent;}) < h;});}Object.defineProperties(b,{__esModule:{value:!0}});b.PMa=void 0;f=a(417);k=a(4);m=a(25);r=(function(){function d(){this.L=new f.rfa();}Object.defineProperties(d.prototype,{empty:{get:function(){return !this.kB;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{root:{get:function(){var g;return null === (g=this.kB) || void 0 === g?void 0:g.value;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{values:{get:function(){var g;g=[];this.SV(function(h){return ! !g.push(h);});return g;},enumerable:!1,configurable:!0}});d.prototype.has=function(g){return ! !this.L.get(g);};d.prototype.parent=function(g){var h;g=this.L.get(g);k.assert(g,"Attempted to find the parent of a node not in the tree");return null === (h=g.parent) || void 0 === h?void 0:h.value;};d.prototype.children=function(g){g=this.L.get(g);k.assert(g,"Attempted to find the children of a node not in the tree");return g.children?g.children.map(function(h){return h.value;}):[];};d.prototype.Fpa=function(g){g=this.L.get(g);k.assert(g,"Attempted to find the children of a node not in the tree");return void 0 !== g.children && 0 < g.children.length;};d.prototype.add=function(g,h){var l;k.assert(!this.L.get(g),"Attempted to add a value to tree that is already present");l={value:g};void 0 === this.kB?(k.assert(void 0 === h,"a parent cannot be specified when the tree is empty"),this.kB=l):(k.assert(void 0 !== h,"a parent must be specified when the tree is non-empty"),h=this.L.get(h),k.assert(h,"Parent value does not exist in tree"),this.eSa(l,h));this.L.set(g,l);return this;};d.prototype.remove=function(g){g=this.L.get(g);k.assert(g,"Attempted to remove a node not in the tree");this.removeNode(g);return this;};d.prototype.removeNode=function(g){var h;h=this;this.Dna(function(l){return h.L.delete(l);},g.value);void 0 === g.parent?this.kB=void 0:this.detach(g);};d.prototype.move=function(g,h){g=this.L.get(g);h=this.L.get(h);k.assert(g,"cannot move a value that is not in the tree");k.assert(h,"cannot move a value to a parent value not in the tree");k.assert(g.parent,"cannot move the root node");k.assert(!this.PMb(g,h),"cannot move a node below itself or one of its decendants");g.parent !== h && (this.detach(g),this.eSa(g,h));return this;};d.prototype.gYb=function(g){var h,l;h=this;g=this.L.get(g);k.assert(g,"cannot replant at a value that is not in the tree");l=[];this.detach(g);this.Dna(function(n){h.L.delete(n);l.unshift(n);return !0;});this.kB=g;};d.prototype.clear=function(){this.kB && this.remove(this.kB.value);return this;};d.prototype.aYa=function(g,h){var l,n;l=this;g=this.L.get(g);k.assert(g,"cannot iterate children of a value not in the tree");null === (n=g.children) || void 0 === n?void 0:n.forEach(function(q){return h(q.value,l);});};d.prototype.SV=function(g,h){var l;l=this;k.assert(!this.empty || void 0 === h,"cannot iterate from a value on an empty tree");this.empty || (h=null !== h && void 0 !== h?h:this.kB.value,g(h,this) && this.aYa(h,function(n){return l.SV(g,n);}));};d.prototype.Dna=function(g,h){var l;l=this;k.assert(!this.empty || void 0 === h,"cannot iterate from a value on an empty tree");this.empty || (h=null !== h && void 0 !== h?h:this.kB.value,this.aYa(h,function(n){return l.Dna(g,n);}),g(h,this));};d.prototype.bXb=function(g){var h,l,n;h=this;k.assert(c(g),"entries must be in topological order");if(0 === g.length){l=this.values;n=[];this.clear();}else (n=g.filter(function(q){return h.has(q.value) && q.parent !== h.parent(q.value);}),l=this.values.filter(function(q){return -1 === m.fq(g,function(p){return p.value === q;});}),this.clear(),g.forEach(function(q){return h.add(q.value,q.parent);}));return {qP:l,e9a:n};};d.prototype.eSa=function(g,h){var l;g.parent=h;(null !== (l=h.children) && void 0 !== l?l:h.children=[]).push(g);};d.prototype.detach=function(g){var h;k.assert(g.parent,"cannot detach the root");k.assert(void 0 !== g.parent.children,"logic error: parent node does not have children");h=g.parent.children.indexOf(g);k.assert(0 <= h,"logic error: node does not appear in the children of its parent");g.parent.children.splice(h,1);g.parent=void 0;};d.prototype.PMb=function(g,h){for(;void 0 !== h;){if(h === g)return !0;h=h.parent;}return !1;};return d;})();b.PMa=r;},function(r,b,a){var c,f,k,m,d,g,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.WAa=void 0;c=a(2);f=c.__importDefault(a(6));k=a(16);m=a(9);d=a(21);g=a(4);h=a(86);l=a(67);r=(function(){function n(q,p,u,t,w,v,x){var y;y=this;void 0 === x && (x=500);this.I=q;this.config=p;this.Rb=u;this.events=t;this.Pma=w;this.Me=v;this.uvb=x;this.Yua=this.Jl=0;this.n9=[];this.R5={bu:0};this.state=new m.Fr(k.Kc.nj);this.yf=new m.Fr(k.sa.Gh);this.Eh=new h.Vv({LA:10,Rq:this,source:"BufferStateTracker",Wia:function(){return {isBuffering:y.ug,alwaysRunUnderflowTimer:y.config.fM};}});}Object.defineProperties(n.prototype,{bu:{get:function(){return this.R5.bu;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ug:{get:function(){return k.gp(this.state.value);},enumerable:!1,configurable:!0}});n.prototype.Fba=function(q){var p;p=this;Array.isArray(q) || (q=[q]);q.forEach(function(u){0 === u.mediaType && (p.RSa=c.__assign(c.__assign({},p.RSa),{audio:{trackId:u.trackId,trackIndex:u.TE}}));});};n.prototype.m6a=function(q){this.set(k.Kc.nj);this.xJ(q,k.Kc.xd);};n.prototype.a$=function(){this.R5.bu++;};n.prototype.cY=function(q){this.config.fM || void 0 === this.wA && this.ug && this.Ala();this.wA={KD:q.httpCode,vh:q.errorCode,Cj:q.nativeCode};};n.prototype.j$=function(){this.wA=void 0;this.config.fM || this.t5();};n.prototype.Dk=function(q){this.ug || (this.xJ(q,k.Kc.Tf),this.ug && (this.wA || this.config.fM) && this.Ala());};n.prototype.HTb=function(q,p){this.state.value !== k.Kc.xd && this.xJ(q,k.Kc.AS);this.Fba(p);};n.prototype.eTb=function(q,p){var u;u=this;this.config.tvb && this.ug && (-1 === this.n9.indexOf(q) && this.n9.push(q),2 === this.n9.length && Promise.resolve().then(function(){u.ug && void 0 !== u.Ex && u.Se("memoryLimit",p.o_,p.p_);}));};n.prototype.XZb=function(q,p){g.assert(this.state.value === k.Kc.xd && void 0 === this.Ex);this.Ex=q;p && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:p.trackId,trackIndex:p.TE}),this.Fba(p));};n.prototype.j_b=function(q,p,u){g.assert(this.ug);this.uqa=null !== q && void 0 !== q?q:this.uqa;this.OW=null !== p && void 0 !== p?p:this.OW;void 0 === this.T7?this.T7=u:void 0 !== (null === u || void 0 === u?void 0:u.reason) && (this.T7.reason=u.reason);};n.prototype.Se=function(q,p,u){var t;g.assert(this.ug && void 0 !== this.Ex && void 0 === this.JG && void 0 === this.Kba && void 0 === this.J3);this.JG=q;this.Kba=p;this.J3=u;this.kq=100;this.Pka();this.t5();null === (t=this.Eka) || void 0 === t?void 0:t.Ib();this.state.value === k.Kc.Tf && (this.Yua=f.default.time.fa());this.G5();this.set(k.Kc.oj);this.J3=this.Kba=this.JG=this.T7=this.OW=this.uqa=this.Ex=void 0;};n.prototype.stop=function(){var q;this.set(k.Kc.nj);this.Pka();this.t5();null === (q=this.Eka) || void 0 === q?void 0:q.Ib();};n.prototype.Dka=function(q,p,u,t){var w,v,x,y,z,A,B,E,D,F;w=this;g.assert(this.ug);null === (v=this.Eka) || void 0 === v?void 0:v.Ib();if(this.state.value === k.Kc.Tf && f.default.time.fa() < this.Yua + this.config.Ysa){z=this.config.Ysa - (f.default.time.fa() - this.Yua);this.Eka=this.Me.WU(l.Tk.YJ(d.O.Na(z)),function(){w.Dka(q,p,u,t);});}else {v=u.FN(0);A=u.FN(1);B=f.default.time.fa() - this.Jl;if(v || A){E=function(G){return G?G.UD() || G.us()?t.Cka(w.state.value,q,B >= w.config.YA,p,G,w.bu):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};D=E(v);E=E(A);F=function(G){var C;return {reason:G.reason,complete:G.complete,bl:null !== (C=G.XC) && void 0 !== C?C:0};};this.Eh.uw({as:F(D),vs:F(E),bt:B});F=A?E:D;F.R4b=A && E.XC || 0;F.lub=v && D.XC || 0;D.complete && E.complete?(F.complete=!0,this.Se(null !== (z=F.reason) && void 0 !== z?z:"unknown",null !== (x=F.R4b) && void 0 !== x?x:0,null !== (y=F.lub) && void 0 !== y?y:0)):(F.complete=!1,this.Kvb(F),this.Eh.uw({bp:this.kq}));}}};n.prototype.Kvb=function(q){var p,u,t;t=q.progress;q.$D?t=(f.default.time.fa() - this.Jl) / this.config.YA:t || (t=(null !== (p=q.XC) && void 0 !== p?p:0) / this.config.Bj);q=Math.min(Math.max(Math.round(100 * t),null !== (u=this.kq) && void 0 !== u?u:0),99);q != this.kq && (this.kq=q);};n.prototype.xJ=function(q,p){g.assert(p === k.Kc.xd || void 0 !== q);this.Ex=q;this.kq=0;this.W9=void 0;this.R5.bu=0;this.n9=[];q=this.state.value === k.Kc.xd || this.state.value === k.Kc.Tf;this.Jl=f.default.time.fa();this.set(p);q || (this.yDb(),this.G_b());};n.prototype.set=function(q){this.state.set(q);switch(q){case k.Kc.nj:this.yf.set(k.sa.nj);break;case k.Kc.xd:case k.Kc.AS:this.yf.set(k.sa.xd);break;case k.Kc.Tf:this.yf.set(k.sa.Tf);break;case k.Kc.oj:this.yf.set(k.sa.Lc);}};n.prototype.yDb=function(){g.assert(this.events && void 0 !== this.kq);this.W9=this.kq;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:f.default.time.fa(),percentage:this.kq});};n.prototype.G_b=function(){var q;q=this;this.Pka();this.fSb=this.Me.NUa(function(){return q.xDb();},d.O.Na(this.uvb),"buffering-notification");};n.prototype.Pka=function(){var q;null === (q=this.fSb) || void 0 === q?void 0:q.Ib();};n.prototype.xDb=function(){this.ug && this.events && void 0 !== this.kq && this.kq !== this.W9 && this.events.emit("buffering",{type:"buffering",time:f.default.time.fa(),percentage:this.kq}) && (this.W9=this.kq);};n.prototype.G5=function(){var q;g.assert(this.events && this.Ex && void 0 !== this.JG && void 0 !== this.J3 && void 0 !== this.Kba);this.W9=this.kq;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:f.default.time.fa(),actualStartPosition:this.Ex,reason:this.JG,aBufferLevelMs:this.J3,vBufferLevelMs:this.Kba,selector:this.uqa,initBitrate:this.OW,initSelReason:null === (q=this.T7) || void 0 === q?void 0:q.reason,skipbackBufferSizeBytes:this.Qec},this.RSa));};n.prototype.Ala=function(){var q;q=this;this.config.hdb && (!this.DB || this.DB.state !== l.rn.complete && this.DB.state !== l.rn.UM?void 0 === this.DB && (this.DB=this.Me.aH(function(){return q.zcb();},"underflow")):this.DB.Tm());};n.prototype.t5=function(){this.DB && (this.DB.state !== l.rn.UM && this.DB.Ib(),this.DB=void 0);};n.prototype.zcb=function(){var q,p,u;return c.__generator(this,function(t){switch(t.label){case 0:return (q=this.config.U8,this.I.trace("BufferingStateTracker: starting underflow timer: " + q + "ms"),[4,l.Tk.YJ(d.O.Na(q))]);case 1:(t.Ac(),t.label=2);case 2:if(!this.ug)return [3,4];p=this.Rb.J2a || 0;u=f.default.time.fa() - p;if(u >= q)return (this.I.trace("Forcing streaming failure, " + u + "ms since data received"),this.Pma.JTb(this.wA),[2]);this.I.trace("BufferingStateTracker: network activity, wait " + (q - u) + "ms");return [4,l.Tk.YJ(d.O.Na(q - u))];case 3:return (t.Ac(),[3,2]);case 4:return [2];}});};c.__decorate([h.Sb({methodName:"onTemporaryNetworkError",fl:!0})],n.prototype,"cY",null);c.__decorate([h.Sb({methodName:"onUnderflow",fl:!0})],n.prototype,"Dk",null);c.__decorate([h.Sb({methodName:"bufferingComplete",fl:!0})],n.prototype,"Se",null);c.__decorate([h.Sb({methodName:"stop",fl:!0})],n.prototype,"stop",null);c.__decorate([h.Sb({methodName:"checkStreamingBufferingComplete",fl:!0})],n.prototype,"Dka",null);c.__decorate([h.Sb({methodName:"createUnderflowTask",fl:!0})],n.prototype,"Ala",null);c.__decorate([h.Sb({methodName:"destroyUnderflowTask",fl:!0})],n.prototype,"t5",null);c.__decorate([h.Sb({methodName:"onUnderflowTimeout",fl:!0})],n.prototype,"zcb",null);return n;})();b.WAa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.kXa=void 0;c=a(25);b.kXa=function(f,k){var m;m=[];f=f.filter(function(d){return d.SN;}).map(function(d){var g,h;g=k(d.R);h=c.Ot(g,d.gg).map(function(l){return l.mediaType;});m=c.Y3(m,h);return {ib:d,gg:g};});return {Bwb:m,nvb:f};};},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.ELa=void 0;c=a(2);f=a(21);k=a(4);b.ELa=(function(){function m(){}m.kKb=function(d){var g,h,l;if(d.zh){d=c.__read(d.gg,2);l=d[1];d=null === (g=d[0].Bp) || void 0 === g?void 0:g.$i;g=null === (h=null === l || void 0 === l?void 0:l.Bp) || void 0 === h?void 0:h.$i;k.assert(d);h=g?f.O.min(d,g):d;return {Z4b:d,a5b:h};}};return m;})();},function(r,b,a){var c,f,k,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.PAa=void 0;c=a(17);f=a(9);k=a(67);m=a(20);d=a(16);r=(function(){function g(h,l,n,q,p,u){this.Me=h;this.kt=l;this.config=n;this.SSb=q;this.Gf=p;this.console=u;this.Pga=new c.gi();}g.$Gb=function(h){var l;return null !== (l=h.ye) && void 0 !== l?l:h.qE;};g.UHb=function(h){var l,n;l=h.H;n=h.KO;return l.Md?l.Md:n.length?n[0]:h.RA[0];};g.prototype.xya=function(h,l){var n,q,p,u;n=this;p=h.H;this.reset();if(!(p.vv || 1 >= p.RA.length && (null === (q=p.zx) || void 0 === q || !q.length))){u=this.Lvb(h);q=u.Gwa;l=l.lessThan(u.TLb);this.lZb(p,l?q:void 0);if(l)this.Pga.on(h.events,"branchEdited",function(){n.xya(h,n.Me.za.currentTime);});}};g.prototype.ETa=function(){var h;null === (h=this.uVa) || void 0 === h?void 0:h.Ib();this.uVa=void 0;};g.prototype.reset=function(){this.ETa();this.Pga.clear();};g.prototype.Lvb=function(h){var l,n;h=g.$Gb(h);l=f.O.Na(this.config.gE);n=f.O.Na(this.config.uRb + this.config.JX);l=h.Ka(l);return {TLb:d.gp(this.Gf.value)?h.Ka(n):l,Gwa:l};};g.prototype.lZb=function(h,l){var n;n=this;this.ETa();this.uVa=l?this.Me.WU(k.Tk.DQ(l),function(){return n.H3a(h);},"scheduled branch decision"):this.kt.WU(k.Tk.g5b,function(){return n.H3a(h);},"immediate branch decision");};g.prototype.H3a=function(h){var l;this.Pga.clear();l=g.UHb(h);m.ia && this.console.trace("BranchDecisionMaker making decision for " + h.id + ", decision is " + l);this.SSb(h.id,l,!0);};return g;})();b.PAa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.FYa=void 0;c=a(927);b.FYa=function(f,k){return f.reduce(function(m,d){var g;g=k(d);d.Dq().forEach(function(h){return m.Mia(h.mediaType,h.Nt,!g);});return m;},new c.pKa());};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.pKa=void 0;c=a(418);r=(function(){function f(){this.Zr=new c.cS();this.mV=new c.cS();}Object.defineProperties(f.prototype,{total:{get:function(){var k;k=new c.cS();k.add(this.Zr);k.add(this.mV);return k;},enumerable:!1,configurable:!0}});f.prototype.add=function(k){this.Zr.add(k.Zr);this.mV.add(k.mV);};f.prototype.Mia=function(k,m,d){(d?this.mV:this.Zr).Mia(k,m);};return f;})();b.pKa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.L_a=void 0;b.L_a=function(a,c){return a.reduce(function(f,k){return f + k.I6(c).U;},0);};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.HUa=void 0;c=a(2);f=a(16);b.HUa=function(k){var h,l;function m(n){f.gp(n.newValue) && !f.gp(n.oldValue)?(null === l || void 0 === l?void 0:l.Ib(),l=h.WU.apply(h,c.__spread(d))):null === l || void 0 === l?void 0:l.Ib();}for(var d=[],g=1;g < arguments.length;g++){d[g - 1]=arguments[g];}g=k.Wf;h=k.kt;g.state.addListener(m);m({oldValue:f.Kc.nj,newValue:g.state.value});};},function(r,b,a){var f,k;function c(m,d){return Object.keys(m.sE).map(function(g){return m.sE[g];}).filter(function(g){return void 0 === g.IH || 1 === g.IH;}).reduce(function(g,h){return g + h.Zr[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.hMa=void 0;f=a(16);k=a(20);r=(function(){function m(d,g,h){this.ma=d;this.console=g;this.toa=h;}m.prototype.iwb=function(d,g,h){var l,n,q,p;l=h && this.ma.config.u4b;n=this.ma.config.eza || l;q=this.toa();if(l){l=d.global;l=(p={},p[0]=l[0] - c(d,0),p[1]=l[1] - c(d,1),p);}p=l;q=this.vTa(g) || this.Nwb(d) || this.Lwb(d,q,p) || this.Mwb(d,q,p,g);p=f.Fva(q);if(q && (!p || n))return (k.ia && this.console.log("canIssueRequest " + this.ma.id + " [" + g + "] static limit: " + (h + ", usage: " + JSON.stringify(d) + ", failed " + q)),{result:!1,reason:q});k.ia && this.console.log("canIssueRequest " + this.ma.id + " [" + g + "] static limit: " + (h + ", usage: " + JSON.stringify(d) + ", success " + q));return {result:!0,reason:q};};m.prototype.vTa=function(d){var g;g=this.ma.config.IA;if(this.ma.JHb(d) >= (g || Infinity))return "mediaDurationLimit";};m.prototype.Nwb=function(d){return d.sE[this.ma.id].total.total > (this.ma.X6() || Infinity)?"playgraphMemoryLimit":void 0;};m.prototype.Lwb=function(d,g,h){d=d.global;return h?h[0] + h[1] > (g.Qxa.total || Infinity)?"staticMemoryLimit":void 0:d.total > (g.total.total || Infinity)?"globalMemoryLimit":void 0;};m.prototype.Mwb=function(d,g,h,l){var n;n=d.global;return h?(k.ia && this.console.log("checkRequestByMediaTypeMemory [" + l + "]: using static limit " + (g.Qxa[l] + ", usage: " + h) + (" (global: " + n[l] + "  - certain contiguous: ") + (c(d,l) + ")")),h[l] > (g.Qxa[l] || Infinity)?1 === l?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):n[l] > (g.total[l] || Infinity)?1 === l?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return m;})();b.hMa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.iKa=void 0;r=(function(){function a(c){this.console=c;this.Jka();}a.prototype.get=function(c){return this.m5[c] || this.Yi[c];};a.prototype.set=function(c,f){void 0 === this.Yi[c] && (this.Yi[c]=f);};a.prototype.b_b=function(c,f){void 0 === this.get(c) && (this.m5[c]=f);};a.prototype.clear=function(c){this.m5[c]=void 0;this.Yi[c]=void 0;};a.prototype.hxb=function(c){var f;this.Yi=(f={},f[c]=this.Yi[c],f);this.m5={};};a.prototype.Jka=function(){this.Yi={};this.m5={};};return a;})();b.iKa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.lKa=b.sF=void 0;c=a(2);f=a(4);(function(m){m[m.Pca=0]="CREATED";m[m.Bfa=1]="STARTED";m[m.vS=2]="REQUEST_ISSUED";m[m.by=3]="EVALUATED";})(k=b.sF || (b.sF={}));r=(function(){function m(d){this.Bx=d;this.bd=k.Pca;this.ME={};this.PZ={};}Object.defineProperties(m.prototype,{state:{get:function(){return this.bd;},enumerable:!1,configurable:!0}});m.prototype.start=function(){var d;d=this;this.bd !== k.Bfa && (this.DX(k.Bfa),[k.by,k.vS].forEach(function(g){var h;h=new Promise(function(l){f.assert(d.PZ && d.ME,"state promises should be defined");d.PZ[g]=l;d.ME[g]=h;});}),this.Bx(),this.DX(k.by));};m.prototype.DX=function(d){this.bd=d;this.PZ && (d=this.PZ[d],null === d || void 0 === d?void 0:d());};m.prototype.Ib=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.bd !== k.Bfa)return [3,2];f.assert(this.ME,"state resolves should be defined");return [4,this.ME[k.by]];case 1:(d.Ac(),d.label=2);case 2:return (this.PZ=this.ME=void 0,[2]);}});});};m.prototype.Sba=function(d,g){c.__awaiter(this,void 0,void 0,function(){var h;return c.__generator(this,function(l){switch(l.label){case 0:if(this.bd === k.by)return [3,6];f.assert(this.ME,"state promises should be defined");h=d;switch(h){case k.by:return [3,1];case k.vS:return [3,3];}return [3,5];case 1:return [4,this.ME[k.by]];case 2:return (l.Ac(),[3,6]);case 3:return [4,this.ME[k.vS]];case 4:return (l.Ac(),[3,6]);case 5:return [3,6];case 6:return (null === g || void 0 === g?void 0:g(),[2]);}});});};return m;})();b.lKa=r;},function(r,b,a){var c,f,k,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.iLa=void 0;c=a(2);f=a(4);k=c.__importDefault(a(6));m=a(86);d=a(9);r=(function(){var l31;l31=2;function g(h,l){var m31,n;m31=2;for(;m31 !== 14;){switch(m31){case 4:var a3I="m";a3I+="edia|a";a3I+="sejs";var m3I="A";m3I+="SEJS_REQUEST_";m3I+="P";m3I+="AC";m3I+="ER";this.hG=0;this.console=new k.default.Console(m3I,a3I);m31=9;break;case 2:n=this;this.s8=h;this.config=l;m31=4;break;case 9:var W3I="Request";W3I+="Pac";W3I+="er";var q3I="1SIYbZr";q3I+="N";q3I+="JC";q3I+="p9";this.Ewa=!1;q3I;this.Kq=new m.Vv({Rq:this,source:W3I,Wia:function(){var n31;n31=2;for(;n31 !== 1;){switch(n31){case 4:return {numOutstanding:n.hG};break;n31=1;break;case 2:return {numOutstanding:n.hG};break;}}},LA:10});this.m9a=new d.X1();m31=14;break;}}}for(;l31 !== 13;){switch(l31){case 1:g.prototype.$k=function(){var p31,h,l;p31=2;for(;p31 !== 9;){switch(p31){case 2:h=this;p31=1;break;case 7:h=this;p31=2;break;p31=1;break;case 1:p31=!this.Ewa?5:9;break;case 5:this.Ewa=!0;l=k.default.time.fa();return Promise.resolve().then(function(){var q31;q31=2;for(;q31 !== 5;){switch(q31){case 2:h.Ewa=!1;h.wTa(l);q31=5;break;}}});break;}}};g.prototype.Zy=function(h){var r31;r31=2;for(;r31 !== 4;){switch(r31){case 2:var n3I="M";n3I+="ore than maxAllowedOutst";n3I+="a";n3I+="ndingRequests are";n3I+=" outstanding";this.Kq.uw({mediaType:h.mediaType,contentStartPts:h.gd,contentEndPts:h.Mc});this.hG++;f.assert(this.hG <= this.config.T8,n3I);r31=4;break;}}};l31=4;break;case 2:Object.defineProperties(g.prototype,{CSb:{get:function(){var o31;o31=2;for(;o31 !== 1;){switch(o31){case 2:return this.hG;break;}}},enumerable:!1,configurable:!0}});l31=1;break;case 4:var P3I="$";P3I+="k";var Q3I="checkRequ";Q3I+="e";Q3I+="st";Q3I+="Opportuni";Q3I+="ty";g.prototype.XI=function(h){var s31;s31=2;for(;s31 !== 3;){switch(s31){case 2:var U3I="rem";U3I+="oveRe";U3I+="quest";var d3I="Received remove request when the";d3I+="r";d3I+="e are no ";d3I+="requests outstand";d3I+="ing";this.Kq.uw({mediaType:h.mediaType,contentStartPts:h.gd,contentEndPts:h.Mc});this.hG--;f.assert(0 <= this.hG,d3I);this.$k(U3I);s31=3;break;}}};g.prototype.wTa=function(h){var t31,l,n,q;t31=2;for(;t31 !== 9;){switch(t31){case 2:(l=this.config.T8,n=k.default.time.fa() - h,q=0);t31=1;break;case 1:this.m9a.push(n);t31=5;break;case 4:q++;t31=5;break;case 6:this.m9a.push(n);t31=6;break;t31=5;break;case 5:t31=this.hG < l && this.s8()?4:3;break;case 3:var i3I="requestOppor";i3I+="tunityRunner";i3I+="Comple";i3I+="te";this.Kq.cU(i3I,{requestsIssued:q,scheduledMs:h,timeSinceScheduled:n},!0);t31=9;break;}}};c.__decorate([m.Sb({methodName:Q3I,fl:!0,No:!0})],g.prototype,P3I,null);l31=8;break;case 8:var C3I="w";C3I+="T";C3I+="a";var F3I="che";F3I+="ckRequestOpportunityRunne";F3I+="r";var y3I="X";y3I+="I";var s3I="removeReq";s3I+="u";s3I+="e";s3I+="st";var v3I="Z";v3I+="y";var X3I="a";X3I+="ddRe";X3I+="q";X3I+="u";X3I+="est";c.__decorate([m.Sb({methodName:X3I,fl:!0})],g.prototype,v3I,null);c.__decorate([m.Sb({methodName:s3I,fl:!0})],g.prototype,y3I,null);c.__decorate([m.Sb({methodName:F3I,fl:!0})],g.prototype,C3I,null);return g;break;}}})();b.iLa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.vDa=void 0;c=a(56);r=(function(){function f(k){this.Rb=k;}Object.defineProperties(f.prototype,{si:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Qn=function(k){var m;if(k.cj === c.ee.tq && this.Rb){k={};m=this.Rb.get();m && m.avtp && m.avtp.Ha && (k.avtp=m.avtp.Ha,k.dltm=m.avtp.lD);m && m.cdnavtp && (k.cdnavtp=m.cdnavtp,k.activecdnavtp=m.activecdnavtp);if(m=this.Rb.a7())(m.bytesRequestedPacingVideo && (k.bytesRequestedPacingVideo=m.bytesRequestedPacingVideo,k.estimatedBytesPacedVideo=m.estimatedBytesPacedVideo,k.bytestotalVideo=m.bytestotalVideo,k.pacedAvtpVideo=m.pacedAvtpVideo),m.bytesRequestedPacingAudio && (k.bytesRequestedPacingAudio=m.bytesRequestedPacingAudio,k.estimatedBytesPacedAudio=m.estimatedBytesPacedAudio,k.bytestotalAudio=m.bytestotalAudio,k.pacedAvtpAudio=m.pacedAvtpAudio),m.pacedAvtp && (k.pacedAvtp=m.pacedAvtp));if(m=this.Rb.S6())(k.initial_avtp=m.TH,k.initial_dltime=m.lD,k.initial_responses_audio=m.q1a,k.initial_responses_video=m.r1a,k.initial_tput_samples=m.PO,k.initial_1sec_tput_samples=m.NO);this.Rb.flush();if(m=this.Rb.sZa())for(var d in m){m.hasOwnProperty(d) && (k["ne" + d]=Number(m[d]).toFixed(6));}return k;}};return f;})();b.vDa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$La=void 0;c=a(56);r=(function(){function f(k){k.events.on("streamSelection",this.Vta.bind(this));}f.prototype.Vta=function(k){0 === k.mediaType && void 0 === this.p1a?this.p1a=k:1 === k.mediaType && void 0 === this.s1a && (this.s1a=k);};Object.defineProperties(f.prototype,{si:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Qn=function(k){var m;if(k.cj === c.ee.xp)return (k=null !== (m=this.s1a) && void 0 !== m?m:this.p1a,{histdiscbw:null === k || void 0 === k?void 0:k.result.Bu,histage:null === k || void 0 === k?void 0:k.result.ep});};return f;})();b.$La=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.tMa=void 0;r=a(2);c=a(17);f=a(20);k=r.__importDefault(a(6));a=(function(){function m(d){this.Me=d;this.p2=[];this.reset();}Object.defineProperties(m.prototype,{si:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{kx:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return f.ia;},enumerable:!1,configurable:!0}});m.prototype.reset=function(){var d,g;d=this;null === (g=this.uL) || void 0 === g?void 0:g.clear();this.uL=new c.gi();this.uL.on(this.Me,"clockChanged",function(){d.reset();d.YV("initial");});this.uL.on(this.Me,"stopping",function(){d.YV("stopping");});this.uL.on(this.Me.za,"clockAdjusted",function(){d.YV("clockAdjusted");});this.uL.on(this.Me.za,"stopStart",function(){d.YV("stopStart");});this.uL.on(this.Me.za,"speedChanged",function(){d.YV("speedChanged");});};m.prototype.YV=function(d){this.p2.push({reason:d,audit:this.Me.OGb(),time:k.default.time.fa()});5 < this.p2.length && this.p2.shift();};m.prototype.Qn=function(){return this.p2;};return m;})();b.tMa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.kLa=void 0;c=a(56);r=(function(){function f(k,m){this.Rb=k;this.n9a=m;}Object.defineProperties(f.prototype,{si:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Qn=function(k){var m;k=k.cj;if(k === c.ee.tq || k === c.ee.oo || void 0 === k){k={numOutstandingRequests:this.n9a.CSb,requestOpportunityDelayStats:this.n9a.m9a};m=this.Rb.MQa;m && m.length && (k.activeRequests=JSON.stringify(m));return k;}};return f;})();b.kLa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zDa=void 0;r=(function(){function a(c){this.N5=c;this.kx="engine";this.enabled=!0;}Object.defineProperties(a.prototype,{si:{get:function(){return this.kx;},enumerable:!1,configurable:!0}});a.prototype.Qn=function(){var c;c=this.N5.qVb.map(function(f){var k;k=f.ma;return {id:k.id,weight:k.weight,relativeWeight:f.VY};});return {prefetcher:this.N5.av.getStats(),playgraphs:c,viewables:this.N5.$4b,players:this.N5.z7a.length};};return a;})();b.zDa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.dEa=void 0;c=a(4);f=a(418);r=(function(){function k(){this.global=new f.cS();this.sE={};}k.prototype.add=function(m,d){c.assert(void 0 === this.sE[m],"Cannot add new memory object for playgraph");this.sE[m]=d;this.global.add(d.Zr);this.global.add(d.mV);};return k;})();b.dEa=r;},function(r,b,a){var c,f,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.yHa=void 0;c=a(2);f=a(20);k=a(408);m=a(86);r=(function(){function d(g,h,l){this.toa=g;this.XHb=h;this.I=l;this.Eh=new m.Vv({Rq:this,console:l,source:"MemoryDeadlockProtector",LA:5});}d.prototype.jGb=function(g){var h,l,n,q;n=g.config;q=n.Bj + (null !== (l=null === (h=n.UP) || void 0 === h?void 0:h.U) && void 0 !== l?l:0);h=this.OKb(q,g);f.ia && this.I.debug("MDP: has prebuf: " + h);return h?{v5:!0}:(l=this.Vvb(n),h=l.bUb,l=l.D4b,h && l?(f.ia && this.I.debug("MDP: utilizing " + Math.round(100 * l) + "%"),l >= n.SQb?this.y9a(g,h):{v5:!0}):{v5:!1});};d.prototype.y9a=function(g,h){var l,n,q,p,u,w,y,z;this.Eh.uw({o:h});p=g.X;g=g.Hb;u=p.Hb;p=p.bI;for(var t=0;t < u.length;t++){if(!u[t].Hl){p=u[t];u=u.slice(0,t + 1);break;}}t=!1;w=[{mediaType:0,YC:0},{mediaType:1,YC:0}];if(null === p || void 0 === p || !p.Hl){g=g.map(function(B){return B;}).filter(function(B){return -1 === u.indexOf(B);}).sort(function(B,E){return k.mka(B) - k.mka(E);});try{for(var v=c.__values(g),x=v.next();!x.done;x=v.next()){y=x.value;z=y.tD();w[0].YC+=null !== (n=z.RC) && void 0 !== n?n:0;w[1].YC+=null !== (q=z.jt) && void 0 !== q?q:0;f.ia && this.I.debug("Resetting discontiguous branch " + y.H.id,z);y.reset();if(t=w.every(function(B){return B.YC >= h[B.mediaType].YC;}))break;}}catch(B){var A;A={error:B};}finally{try{x && !x.done && (l=v.return) && l.call(v);}finally{if(A)throw A.error;}}}return {v5:t,Tbc:w};};d.prototype.Vvb=function(g){var h,l,n,q;if(!g.TQb)return {};h=this.XHb();l=this.toa().total;n=g.RQb;q=0;g=[0,1].map(function(p){var u;u=h[p] - l[p] * n;q=Math.max(0 < l[p]?h[p] / l[p]:0,q);return {YC:Math.max(0,u),mediaType:p};});return {D4b:q,bUb:g};};d.prototype.OKb=function(g,h){var l,n;l=!1;h=h.MH?h.X:void 0;if(null === h || void 0 === h?0:h.sMb){l=h.Ai.Dq().map(function(q){return q.mediaType;});n=h.pHb();l=l.every(function(q){var p,u;if(0 === q)q=null !== (p=n.Sr) && void 0 !== p?p:0;else if(1 === q)q=null !== (u=n.po) && void 0 !== u?u:0;else throw Error("Unsupported media type:" + q);return q >= g;});}return l;};c.__decorate([m.Sb({methodName:"resetDiscontiguousBranches",return:!0,fl:!0})],d.prototype,"y9a",null);return d;})();b.yHa=r;},function(r,b,a){var c,f,k,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.mAa=void 0;r=a(2);c=a(9);f=r.__importDefault(a(28));k=a(25);m=r.__importDefault(a(387));d=a(56);a=(function(){function g(h){var l,n;l=this;this.ma=h;this.Mw="aseReport";this.aTa=c.O.ND;this.Ho=!1;if(0 === Math.floor(1E6 * Math.random()) % h.config.kM || h.config.XFb){this.aTa=c.O.Na(h.config.a4);this.ma.lM=!0;n=[];n[f.default.Wa.Pb]=new m.default(h.config,f.default.Wa.Pb);n[f.default.Wa.Xb]=new m.default(h.config,f.default.Wa.Xb);this.kia=n;this.ma.events.on("openComplete",function(){return l.open();});}}g.prototype.open=function(){this.ma.lM && !this.Ho && (this.Ho=!0,this.ma.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.ma.events.on("streamSelection",this.Vta.bind(this)));};g.prototype.Vta=function(h){this.kia[h.mediaType].add(h.result,h.streamList);};g.prototype.hpa=function(){var h;h=k.flatten(this.kia.map(function(l){return l.get();}).filter(function(l){return void 0 !== l;}));this.kia.forEach(function(l){return l.reset(!0);});return h;};g.prototype.tg=function(h){var l;l=h.cj;h=h.VMb;return this.ma.lM && this.Ho && (h || l === d.ee.tq) && (l=this.hpa()) && l.length?{jab:!0,event:{type:"asereport",strmsel:l}}:{jab:!1,event:{type:"asereport",strmsel:[]}};};return g;})();b.mAa=a;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.EKa=void 0;c=a(2);f=a(17);k=a(16);m=a(9);d=a(943);g=a(25);h=a(4);l=a(944);n=a(20);q=a(99);p=a(945);u=c.__importDefault(a(6));t=a(218);w=a(946);v=a(947);x=a(948);y=a(259);z=a(950);A=a(951);r=(function(){function B(E,D,F,G,C){void 0 === G && (G=new v.uCa());void 0 === C && (C=new w.tCa());this.$Wa=E;this.config=D;this.L8a=G;this.Rm=[];this.O7a=[];this.Qx=[];this.ic={A2a:0,B2a:0,x2a:0,eka:0,y2a:0,z2a:0,fka:0};this.events=new f.EventEmitter();this.I=m.Nq(u.default,F,"PREFETCH");this.dRa(new x.ZBa(D));this.dRa(new A.ILa(D));this.y$a({QH:D.LVb});this.ixa(C);this.oMb();}Object.defineProperties(B.prototype,{MVb:{get:function(){return this.Rm.map(function(E){return E.context;});},enumerable:!1,configurable:!0}});B.prototype.S$a=function(E){n.ia && h.assert(E,"Reconciliation strategy is undefined");this.L8a=E;return this;};B.prototype.dRa=function(E){this.O7a.unshift(E);};B.prototype.aab=function(E){n.ia && this.I.debug("Wish list changed",{Jdc:E.length});this.Qx=E;this.gva();};B.prototype.reset=function(){var E,G,C,H,K,M;if(this.config.UVb)try{for(var D=c.__values(this.Rm),F=D.next();!F.done;F=D.next()){G=F.value;C=G.ma;H=G.x8;K=G.context;if(C){C.rf();H.Uva(function(Q){return "segmentNormalized" !== Q.Mw;});M=y.f7(K.Rd,C.ma);C.oB(M);}}}catch(Q){var I;I={error:Q};}finally{try{F && !F.done && (E=D.return) && E.call(D);}finally{if(I)throw I.error;}}else this.aab([]);};B.prototype.y$a=function(E){n.ia && this.I.debug("Budget changed",{Sdc:this.AU,Idc:E});this.AU=E;this.gva();};B.prototype.bxb=function(E,D){var F,G,C,H,K;if(D=this.L8a.MXa(this.Rm,{ma:E,gj:D})){C=this.Qx.indexOf(D.context.Rd);n.ia && this.I.debug("Claiming item: " + y.ap(D.context.Rd.key),{pm:u.default.time.fa() - D.jba,buffer:null === (F=D.ma) || void 0 === F?void 0:F.Oh(m.O.eb)});this.ZM(D.context,{jra:! !D.ma});if(D.ma){F=D.ma;H=D.context;K=D.Ms;z.CKa.hYb(F,D.x8,this.I);E=y.f7(H.Rd,E);K.fZb(null !== (G=F.JH(E)) && void 0 !== G?G:m.O.eb,C);F.Kcb({QH:this.config.Lu || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:D.context.Rd,videoBytesBuffered:D.ma.Qw().jt,audioBytesBuffered:D.ma.Qw().RC});}}this.config.utb || this.reset();return null === D || void 0 === D?void 0:D.ma;};B.prototype.axb=function(){};B.prototype.getStats=function(){var E;E=u.default.time.fa();return {wishListLength:this.Qx.length,prefetchList:this.MVb.length,contents:this.Rm.map(function(D){var F,G,C,H,K;return {id:y.ap(D.context.Rd.key),buffer:null === (F=D.ma) || void 0 === F?void 0:F.Oh(m.O.eb),pId:null === (G=D.ma) || void 0 === G?void 0:G.id,budget:{inMemoryBytes:D.context.w2a.QH},weight:D.context.K$,age:E - D.jba,timeOpened:E - (null !== (C=D.k2b) && void 0 !== C?C:0),state:k.Kc[null !== (K=null === (H=D.ma) || void 0 === H?void 0:H.Gf.value) && void 0 !== K?K:k.Kc.nj]};}),aggregated:{itemsRequested:this.ic.A2a,itemsStarted:this.ic.B2a,itemsClaimed:this.ic.x2a,bytesClaimed:this.ic.eka,itemsCompleted:this.ic.y2a,itemsDiscarded:this.ic.z2a,bytesDiscarded:this.ic.fka}};};B.prototype.ZM=function(E,D){var F;void 0 === D && (D={});c.__awaiter(this,void 0,void 0,function(){var G,C,H,K,M,I;return c.__generator(this,function(Q){switch(Q.label){case 0:G=c.__assign({jra:!1,F2a:!1},D);C=G.jra;H=G.F2a;K=g.ie(this.Rm,function(L){return L.context === E;});if(!K)return [3,3];this.Rm.splice(this.Rm.indexOf(K),1);H || (M=this.Qx.length,this.Qx=this.Qx.filter(function(L){return L !== E.Rd;}),n.ia && this.I.info("Dropping items from wishlist",M - this.Qx.length),this.Qx.length >= M && n.ia && this.I.warn("Unable to filter out wishlist item",this.Qx.map(function(L){return L.key;}),E.Rd.key));n.ia && this.I.debug("Dropping playgraph",{pm:u.default.time.fa() - K.jba,buffer:null === (F=K.ma) || void 0 === F?void 0:F.Oh(m.O.eb),S:y.ap(E.Rd.key),pec:!C,Ibc:!H});if(C)return [3,2];I=this.jv(K);return K.ma?[4,I]:[3,2];case 1:(Q.Ac(),Q.label=2);case 2:(this.gva(),Q.label=3);case 3:return [2];}});});};B.prototype.ixa=function(E){h.assert(E,"Playgraph resolver is undefined");this.Kua=E;return this;};B.prototype.oMb=function(){var E;E=this;this.events.on("prefetchComplete",function(){return E.ic.y2a++;});this.events.on("prefetchStarted",function(){return E.ic.B2a++;});this.events.on("itemQueued",function(){return E.ic.A2a++;});this.events.on("itemClaimed",function(D){var F,G;E.ic.x2a++;E.ic.eka+=(null !== (F=D.T4b) && void 0 !== F?F:0) + (null !== (G=D.nub) && void 0 !== G?G:0);});this.events.on("itemDropped",function(D){var F,G;E.ic.z2a++;E.ic.fka+=(null !== (F=D.T4b) && void 0 !== F?F:0) + (null !== (G=D.nub) && void 0 !== G?G:0);});};B.prototype.gva=function(){var E,D,F,G,C,H;E=this;D=d.DBa.KMb({s5b:this.Qx,oKb:this.AU},this.O7a.map(function(K){return K.eTa.bind(K);})).Rm;F=g.Ot(D,this.Rm,function(K,M){return y.isEqual(K.Rd.key,M.context.Rd.key);});G=g.Ot(this.Rm,D,function(K,M){return y.isEqual(K.context.Rd.key,M.Rd.key);});C=g.Ot(this.Rm,G);n.ia && this.I.debug("Re-evaluated prefetch items. new:" + F.length + ", evict: " + G.length + ", update: " + F.length);G=G.map(function(K){var M;M=K.context.Rd.key;n.ia && E.I.debug("Releasing playgraph",y.ap(M));return E.jv(K).then(function(){E.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:K.context.Rd});});});H=C.map(function(K){return c.__awaiter(E,void 0,void 0,function(){var M,I;return c.__generator(this,function(Q){switch(Q.label){case 0:return (M=g.ie(D,function(L){return y.isEqual(L.Rd.key,K.context.Rd.key);}),h.assert(M,"Couldn't find the requested item context"),K.context=M,[4,K.J$]);case 1:return (I=Q.Ac(),g.ie(this.Rm,function(L){return L === K;}) && (this.ORa(K.context,I),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:K.context.Rd})),[2]);}});});});F=F.map(function(K){var M;M=E.IAb(K);E.events.emit("itemQueued",{type:"itemQueued",wishListItem:K.Rd});return M;});this.Rm=c.__spread(C,F);C=F.map(function(K){return K.J$.catch(function(){});});C=G.concat(H).concat(C);Promise.all(C);};B.prototype.jv=function(E){var D;D=this;return E.J$.then(function(F){return c.__awaiter(D,void 0,void 0,function(){var G;return c.__generator(this,function(C){switch(C.label){case 0:return (n.ia && this.I.debug("Removing prefetch playgraph",{size:F.Oh(m.O.eb)}),E.U5.clear(),[4,this.$Wa()]);case 1:return (G=C.Ac(),G.jv(F),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:E.context.Rd,videoBytesBuffered:F.Qw().jt,audioBytesBuffered:F.Qw().RC}),[2]);}});});});};B.prototype.FAb=function(E){return c.__awaiter(this,void 0,void 0,function(){var D,F,G,C,H,K,M;M=this;return c.__generator(this,function(I){switch(I.label){case 0:return (D=E.context,F=y.ap(D.Rd.key),n.ia && this.I.debug("Creating playgraph",F),[4,this.Kua.V3a(D)]);case 1:return (G=I.Ac(),[4,D.Rd.lj.Fm(F).qr]);case 2:return (C=I.Ac(),C.oa.Fw?(this.ZM(D,{jra:!0}),[2,Promise.reject("contentPlaygraph viewable:" + F + " is not supported with prefetching")]):[4,this.$Wa()]);case 3:return (H=I.Ac(),K=H.BG(G,D.K$,D.gj,D.Rd.lj,!1),E.U5.addListener(K.events,"error",function(Q){n.ia && M.I.debug("Prefetch playgraph resulted in error",Q.Gbc);M.ZM(D);}),[2,K]);}});});};B.prototype.NTb=function(E,D){return c.__awaiter(this,void 0,void 0,function(){var F,G,C,H,K,M;M=this;return c.__generator(this,function(I){switch(I.label){case 0:return (F=E.context,G=y.ap(F.Rd.key),C=F.Rd.lj.Fm(G),[4,C.qr]);case 1:return (H=I.Ac(),this.ORa(F,D),this.Mtb(F,D,! !H.He),D.open(),D.EE({Rs:function(Q,L){var J;J=Q.recommendedMedia;return J?g.fq(L,function(N){return N.new_track_id === J.Dn;}):g.fq(L,function(N){return N.track_id === Q.defaultTrackOrderList[0].audioTrackId;});}},{Rs:function(Q,L){var J;J=Q.recommendedMedia;return J?g.fq(L,function(N){return N.new_track_id === J.BQ;}):g.fq(L,function(N){return N.track_id === Q.defaultTrackOrderList[0].videoTrackId;});}}),D.oB(y.f7(F.Rd,D.ma)),K=function(Q){n.ia && M.I.debug("Viewable " + (Q?"superseded":"expired"),y.ap(E.context.Rd.key));E.Xcc=!0;M.ZM(E.context,{F2a:!Q});},C.events && (E.U5.addListener(C.events,"viewableEvicted",function(){K(!0);}),E.U5.addListener(C.events,"viewableExpired",function(){K(!1);})),C.hu && (n.ia && this.I.warn("Viewable churn encountered during prefetcher (expired on initialization)",G),this.ZM(E.context)),this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:E.context.Rd}),[2]);}});});};B.prototype.ORa=function(E,D){D.adb(E.K$);D.Kcb(E.w2a);};B.prototype.Mtb=function(E,D,F){var G;G=E.X0b;E=G.audio;G=G.video;F && G.push(new t.HK(this.I,D.config));D.Laa(new q.zt(E,!0),new q.zt(G,!0));};B.prototype.IAb=function(E){var D,F,G;D=this;F=new l.DKa();G={context:E,jba:u.default.time.fa(),U5:new f.gi(),Ms:F};G.J$=this.FAb(G).then(function(C){return c.__awaiter(D,void 0,void 0,function(){var H,K,M;K=this;return c.__generator(this,function(I){switch(I.label){case 0:return (H=C,H=null !== (M=H.Kg) && void 0 !== M?M:C,C.sh(F),F.gub(C),G.x8=new p.HDa(H.events,{a0b:function(Q){var L;L=Q.Mw;switch(L){case "buffering":return !1;case "bufferingStarted":G.x8.Uva(function(J){return "bufferingComplete" === J.Mw || "updateStreamingPts" === J.Mw;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":G.x8.Uva(function(J){return J.Mw === L;});default:return !0;}}}),H.events.on("bufferingComplete",function(){K.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:E.Rd});}),[4,this.NTb(G,C)]);case 1:return (I.Ac(),G.k2b=u.default.time.fa(),G.ma=C,[2,C]);}});});});G.J$.catch(function(C){n.ia && D.I.error("Exception occurred creating playgraph",C);D.ZM(G.context);});return G;};return B;})();b.EKa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.DBa=void 0;b.DBa=(function(){function a(){}a.KMb=function(c,f){var d;function k(g){return m(d++)(g,k);}function m(g){return g >= f.length?function(){throw Error("The last delegate in the chain should not invoke next() nextDelegateIndex " + g);}:f[g];}d=0;return k(c);};return a;})();},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.DKa=void 0;c=a(2).__importDefault(a(6));f=a(56);r=(function(){function k(){this.creationTime=c.default.time.fa();this.jc={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}k.prototype.gub=function(m){this.ma=m;};k.prototype.fZb=function(m,d){var g;m=null === (g=this.ma) || void 0 === g?void 0:g.Oh(m);this.jc={isPrefetchItem:!0,prefetchedVideoMs:m.p_,prefetchedAudioMs:m.o_,prefetchClaimDurationMs:c.default.time.fa() - this.creationTime,prefetchRank:d};};Object.defineProperties(k.prototype,{si:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Qn=function(m){if(m.cj === f.ee.xp)return this.jc;};return k;})();b.DKa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.HDa=void 0;c=a(2);r=(function(){function k(m,d){void 0 === d && (d={});this.wq=m;this.options=d;this.qH=[];this.QW=new f(m,this.Jsb.bind(this));}k.prototype.Jsb=function(m){for(var d,g,h,l,n,q,p=[],u=1;u < arguments.length;u++){p[u - 1]=arguments[u];}p={Mw:m,No:p};(null !== (h=null === (g=(d=this.options).a0b) || void 0 === g?void 0:g.call(d,p,this.qH)) && void 0 !== h?h:1) && this.qH.push(p);return null !== (q=null === (n=(l=this.options).Mec) || void 0 === n?void 0:n.call(l,p)) && void 0 !== q?q:!0;};k.prototype.Uva=function(m){this.qH=this.qH.filter(function(d,g){return !m(d,g);});};k.prototype.dwa=function(){var m;m=this;this.QW.Bcb();this.qH.forEach(function(d){var g;(g=m.wq).emit.apply(g,c.__spread([d.Mw],d.No));});this.QW.C1a();};Object.defineProperties(k.prototype,{length:{get:function(){return this.qH.length;},enumerable:!1,configurable:!0}});k.prototype.clear=function(){this.qH=[];};k.prototype.Ib=function(){this.QW.Bcb();};return k;})();b.HDa=r;f=(function(){function k(m,d){var g;g=this;this.wq=m;this.FU=d;this.QW=function(h){for(var l,n=[],q=1;q < arguments.length;q++){n[q - 1]=arguments[q];}return g.FU.apply(g,c.__spread([h],n))?(l=g.t6a).call.apply(l,c.__spread([g.wq,h],n)):!1;};this.t6a=this.wq.emit;this.C1a();}k.prototype.C1a=function(){this.wq.emit=this.QW;};k.prototype.Bcb=function(){this.wq.emit=this.t6a;};return k;})();},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.tCa=void 0;c=a(2);f=a(57);k=a(259);r=(function(){function m(){}m.prototype.V3a=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,h,l,n,q;return c.__generator(this,function(p){switch(p.label){case 0:g=d.Rd.key;if(!k.YW(g))return [3,2];h=g.S;l=d.Rd.lj.Fm(h);return [4,Promise.resolve(l.qr)];case 1:return (n=p.Ac(),q=n.oa,q.Fn?[2,f.rz(q.Fn,{config:n.config})]:[2,f.HE(h,"ps0")]);case 2:return [2,g.ma];}});});};return m;})();b.tCa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.uCa=void 0;c=a(2);f=a(4);k=a(259);r=(function(){function m(){}m.ap=function(d){var g,h;g=d.V;d=d.Pd;h=g[d].S;Object.keys(g).forEach(function(l){return f.assert(g[l].S === h);});return g[d].S;};m.prototype.MXa=function(d,g){var h;h=Object.keys(g.ma.V).length;return c.__read(d.filter(function(l){var n,q;return m.ap(g.ma) === k.ap(l.context.Rd.key) && (1 === h || h === Object.keys(null !== (q=null === (n=l.ma) || void 0 === n?void 0:n.ma.V) && void 0 !== q?q:{}).length);}),1)[0];};return m;})();b.uCa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ZBa=b.cCa=void 0;c=a(99);f=a(949);b.cCa=625E3;r=(function(){function k(m){this.config=m;}k.prototype.eTa=function(m){var d,g,h;d=this.config.o5;g=(this.config.B4a || this.config.n5) * b.cCa / 1E3;h=Math.floor(m.oKb.QH / g);return {Rm:m.s5b.sort(function(l,n){return l.priority - n.priority;}).slice(0,d).map(function(l,n){var q;q=l.key.config;return {w2a:{QH:n > h - 1?0:g},Rd:l,K$:1,gj:q,X0b:{audio:[c.gD(q),new f.Ifa()],video:[c.hD(q),new f.Ifa()]}};})};};return k;})();b.ZBa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Ifa=void 0;c=a(16);r=(function(){function f(){}f.prototype.Dm=function(k,m){return m === c.Kc.oj?[]:k;};return f;})();b.Ifa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.CKa=void 0;c=a(20);b.CKa=(function(){function f(){}f.hYb=function(k,m,d){k.events.once("opening",function(){c.ia && d.log("Replaying " + m.length + " events from prefetched playgraph");m.dwa();m.Ib();});};return f;})();},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ILa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.eTa=function(c,f){var k,m;k=this;c=f(c);m=c.Rm.map(function(d){return d.Rd.priority;}).sort();c.Rm.forEach(function(d){d.K$=k.config.OVb / (2 << m.lastIndexOf(d.Rd.priority));});return c;};return a;})();b.ILa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.tKa=void 0;r=(function(){function a(c){var f;f=this;c=c.$k;this.KH=function(){f.$k();};this.$k=c;}a.prototype.BG=function(c){c.events.on("requestsPruned",this.KH);};a.prototype.jv=function(c){c.events.removeListener("requestsPruned",this.KH);};return a;})();b.tKa=r;},function(r,b){function a(c,f,k,m){return c && f?Math.min(c - f * k,c - m):(c || Infinity) - m;}Object.defineProperties(b,{__esModule:{value:!0}});b.gTa=void 0;b.gTa=function(c,f){var k,m,d;m=a(f.audio,f.wja,c.AUa,c.yUa);d=a(f.video,f.rza,c.AUa,c.zUa);return (k={},k[0]=m,k[1]=d,k.total=(f.total || Infinity) - c.yUa - c.zUa,k);};},function(r,b,a){var c,f,k,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.qUa=void 0;c=a(2);f=a(412);k=a(955);m=a(956);d=a(958);g=a(151);b.qUa=function(h){var q,p,u,t,w,v;for(var l=[],n=1;n < arguments.length;n++){l[n - 1]=arguments[n];}n=c.__assign({xlb:f.i0,Uhb:m.eEa},h);q=n.xlb;n=n.Uhb;p=d.k6a(l[5],function(){return v;});l[5]=p.bJ;u=l[0];l=new (q.bind.apply(q,c.__spread([void 0],l)))();q=new k.XHa(l);w={cp:new n(u,q),Kg:l,get xQ() {return t;},F5a:q};v=new d.RBa(w,p.q1b,g.rE.Q9a.nZ);return t=g.rE.h8a(l,v,function(){return w;});};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.XHa=void 0;c=a(2);r=(function(){function f(k){this.qa=k;this.N8a();}Object.defineProperties(f.prototype,{T9:{get:function(){return this.Ipb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Dcb:{get:function(){return this.qa.ma;},enumerable:!1,configurable:!0}});f.prototype.N8a=function(){var k,m;k=this;m=this.qa.ma;this.Ipb=c.__assign(c.__assign({},m),{V:new Proxy(m.V,{get:function(d,g){return (d=k.RIb(g))?d.H.Ptb():m.V[g];}})});};f.prototype.RIb=function(k){var m,d,l;d=this.qa.B6(k);try{for(var g=c.__values(d),h=g.next();!h.done;h=g.next()){l=h.value;if(l.zh)return l;}}catch(q){var n;n={error:q};}finally{try{h && !h.done && (m=g.return) && m.call(g);}finally{if(n)throw n.error;}}if(n=c.__read(this.qa.X.Hb.filter(function(q){return q.H.id === k;}),1)[0])return n;};return f;})();b.XHa=r;},function(r,b,a){var c,f,k,m,d,g,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.eEa=void 0;c=a(2);f=a(57);k=a(21);m=c.__importDefault(a(6));d=a(86);g=a(416);h=a(4);l=a(957);r=(function(){function n(q,p){this.AC=q;this.yga=p;this.console=new m.default.Console("GRAPHLOCATIONSERVICE");this.Eh=new d.Vv({Rq:this,source:"GraphLocation",console:this.console});}n.prototype.XM=function(q){var p,u,t;this.console.trace("downConverting",q);p=this.AC;u=this.yga;t=u.T9;if(p === u.Dcb)return q;if(t.V[q.ha])return (this.console.warn("Received a down converted position unexpectedly",q),q);u=g.Ika(q,p);q=f.zdb(p,t,{offset:u.H4.U,H:q.ha});return {offset:u.Vo.add(k.O.Na(q.offset)),ha:q.H};};n.prototype.tQ=function(q){var p,u,t;this.console.trace("upConverting",q);p=this.AC;u=this.yga;t=u.T9;if(p === u.Dcb)return q;if(p.V[q.ha])return (this.console.warn("Received a up converted position unexpectedly",q),q);u=g.Ika(q,t);q=f.WTa(p,t,{offset:u.H4.U,H:q.ha});return {offset:u.Vo.add(k.O.Na(q.offset)),ha:q.H};};n.prototype.tIb=function(q){var p;p=f.UYa(this.AC,this.yga.T9,{H:q.ha,offset:q.offset.U});p=l.O2a(p);h.assert(p,"Could not find any segments in the path of " + q);return p;};c.__decorate([d.Sb({methodName:"downConvertPosition",fl:!0,No:!0,return:!0})],n.prototype,"XM",null);c.__decorate([d.Sb({methodName:"upConvertPosition",fl:!0,No:!0,return:!0})],n.prototype,"tQ",null);return n;})();b.eEa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.O2a=void 0;b.O2a=function(a){var c,f;c=a.next();do {if(!c.done)f=c.value;c=a.next();}while(!c.done);return f;};},function(r,b,a){var c,f,k,m,d,g,h,l,n;Object.defineProperties(b,{__esModule:{value:!0}});b.k6a=b.RBa=void 0;c=a(2);f=a(57);k=a(959);m=a(183);d=a(86);g=a(25);h=a(4);l=a(420);n=a(960);r=(function(){function q(p,u,t){var w;w=this;this.context=p;this.KTb=u;this.YYb=t;this.events=l.qla(function(){return w.context;},this.context.Kg.events,this.YYb,n.B7a);this.KTb(function(v){var x;x=v.YE;return c.__awaiter(w,void 0,void 0,function(){var y;return c.__generator(this,function(z){switch(z.label){case 0:return [4,x];case 1:return (y=z.Ac(),this.a8a(y),[2]);}});});});this.My=p.Kg.ma;this.$Na=new d.Vv({LA:10,Rq:this,source:"CphAsePlaygraph",console:p.Kg.console});p.Kg.sh(new k.SBa(this));p.Kg.sh(new m.Uv(this.$Na));p.Kg.sh(new m.Uv(p.cp.Eh));}Object.defineProperties(q.prototype,{Si:{get:function(){return this.ONa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Fub:{get:function(){var p,u;p=this;u=Object.keys(this.Kg.ma.V);if(u=g.ie(u,function(t){return ! !p.Kg.ma.V[t].ci;}))return this.ma.V[this.Kg.ma.V[u].ci].S;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Fw:{get:function(){return this.ZNa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Kg:{get:function(){return this.context.Kg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ma:{get:function(){return this.My;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{cp:{get:function(){return this.context.cp;},enumerable:!1,configurable:!0}});q.prototype.hU=function(p){var u,t;t=this.context.Kg.X;p.W$a && p.W$a(this.context);(p=this.context.Kg.hU(null !== (u=p.yqa) && void 0 !== u?u:p)) && t.KTa && t.KTa();return p;};q.prototype.a8a=function(p){var u,t,w,v,x;u=p.oa;t=u.Si;w=u.Fw;t && !this.ONa && (this.ONa=t);if(w && !this.ZNa){this.$Na.uw({applyingContentPlaygraph:!0});this.ZNa=w;t=this.context.Kg;v=t.ma;this.My=t.ma;u=t.X;x=t.MH && u.Zf?u.Wi:t.GD?t.FP:void 0;t.config.vza && this.eyb(p.oa) && u.FE(!0);t.rf(!0);p=f.J4a(v,w.ma);this.EB(p);x && (p=this.context.cp.XM(x),t.oB(p),u.resume());}};q.prototype.EB=function(p){p=this.context.Kg.EB(p);this.context.F5a.N8a();return p;};q.prototype.eyb=function(p){var u,t;u=p.sSa;t=p.LH;return !(!u || !u.some(function(w){return w.LH !== t;}));};c.__decorate([d.Sb({methodName:"processViewableResponse"})],q.prototype,"a8a",null);return q;})();b.RBa=r;b.k6a=function(q,p){var u;u=[];return {bJ:function(t){var w,v,x,y;if((null === (w=p().Fw) || void 0 === w?void 0:w.Hab.S) === t){v=p().Fw;w=p().Si;v=v.Hab.Q0a;x=p().Fub;h.assert(x,"did not receive parent viewable id");v={Q0a:v,Si:w,l4:{Si:w,kY:x}};}y=q(t,v);u.forEach(function(z){return z({S:t,YE:y.YE});});return y;},q1b:function(t){u.push(t);}};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.SBa=void 0;r=(function(){function a(c){this.Fw=c;this.kx="content-playgraph";this.enabled=!0;}Object.defineProperties(a.prototype,{si:{get:function(){return this.kx;},enumerable:!1,configurable:!0}});a.prototype.Qn=function(){return {contentPlaygraph:this.Fw.Fw};};return a;})();b.SBa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.B7a=void 0;b.B7a={"*":{mXa:["logdata"],rules:[{Xl:function(a){return a.Dza;}}]},segmentComplete:[{Xl:function(a){return a.waa;}}],segmentStarting:[{Xl:function(a){return a.waa;}}],serverSwitch:[{Xl:function(a){return a.waa;}}],streamSelected:[{Xl:function(a){return a.Zf;}}]};},function(r,b,a){var c,f,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.pUa=void 0;c=a(2);f=a(151);k=a(409);m=a(962);b.pUa=function(){var h;for(var d=[],g=0;g < arguments.length;g++){d[g]=arguments[g];}d=new (k.RQ.bind.apply(k.RQ,c.__spread([void 0],d)))();h=new m.QBa(d,f.rE.Q9a.nZ);return f.rE.h8a(d,h,function(){return h.nra;});};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.QBa=void 0;c=a(420);f=a(963);r=(function(){function k(m,d){var g;g=this;this.yqa=m;this.events=c.qla(function(){return g.nra;},this.yqa.events,d,f.x7a);}k.prototype.KTa=function(){this.nra=void 0;};k.prototype.W$a=function(m){this.nra=m;};return k;})();b.QBa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.x7a=void 0;b.x7a={"*":{mXa:["logdata"],rules:[{Xl:function(a){return a.Dza;}}]},segmentPresenting:[{Xl:function(a){return a.Dza;},config:{er:["metrics"]}},{Xl:function(a){return a.Zf;}},{Xl:function(a){return a.Zf;},config:{er:["metrics","srcStartPosition"]}},{Xl:function(a){return a.Zf;},config:{er:["metrics","srcTransitionPosition"]}},{Xl:function(a){return a.Zf;},config:{er:["metrics","destPosition"]}}],streamPresenting:[{Xl:function(a){return a.Zf;}}],segmentAppended:[{Xl:function(a){return a.waa;}}]};},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.LLa=void 0;c=a(2);f=a(17);k=c.__importStar(a(10));m=a(16);d=a(220);g=a(16);h=a(9);l=a(4);n=a(21);q=a(221);p=a(56);u=a(99);t=a(86);w=a(183);v=c.__importDefault(a(6));x=a(218);y=a(965);z=a(966);A=0;r=(function(B){function E(D,F,G,C,H,K,M,I,Q,L,J){var N,O,P,S,U;S=B.call(this) || this;S.console=D;S.lp=F;S.tT=G;S.YL=H;S.MZ=K;S.Hw=I;S.X=L;S.config=J;S.Mr=!1;S.MS=!1;S.Nr=void 0;S.Se=function(){var Z,ja,ya,ra,Y;null === (Z=S.kL) || void 0 === Z?void 0:Z.clear();Z=S.rnb;Y=S.yqb;l.assert(Z);S.Og && l.assert(Y);S.Fl.value !== g.sa.Hr && S.Fl.value !== g.sa.nj && (null !== (ja=S.Ia) && void 0 !== ja && ja.Zf?(ja=null === (ra=null === (ya=S.lp.Ja.Rb.get()) || void 0 === ya?void 0:ya.Sa) || void 0 === ra?void 0:ra.Ha,S.qa.u_("startplay",p.ee.xp),S.qba.cU("emitBufferingComplete",{}),y.G5(S,Z,S.Ia.Zg,ja,Y,S.qa.lM)):S.console.error("Shim received buffering complete but player has no position (player " + (S.Ia?"":"un") + "defined, state " + S.Fl.value + ")"));};S.pU=function(){var Z,ja,ya;S.qba.cU("audioTrackSwitchComplete",{});l.assert(void 0 !== S.yn);ja=S.tT.audio_tracks[S.yn];ya=S.yn;S.yn=void 0;y.BWa(S,ja,ya);null === (Z=S.XX) || void 0 === Z?void 0:Z.call(S);S.XX=void 0;};l.assert(2 >= C.length,"Ase session shim suports a maximum of 1 parallel graph.");G=c.__read(C,2);D=G[0];G=G[1];S.Mi=new f.gi();S.S=D.ma.V[K[0].ha].S;S.Fl=new h.Fr(g.sa.Gh);S.IB=new u.TF(S.console);M.He && (S.g9=new x.HK(S.console,J));S.qa=D;S.Og=G;C.forEach(function(Z){var ja,ya;ja=Z.hD(S.IB);S.g9 && (ja=new u.zt([S.g9,ja]));ya=Z.gD();Z.Laa(ya,ja);});S.lbc=!1;S.SVa=!1;y.W3a(S.console,F,S,D,G);U=A++;S.qba=new t.Vv({Rq:S,source:"ShimSession",console:S.console,LA:50,Wia:function(){return {shimId:U};}});S.qa.sh(new w.Uv(S.qba));S.wdb=void 0 !== (null === (P=null === (O=(N=S.X).lW) || void 0 === O?void 0:O.call(N)) || void 0 === P?void 0:P.Z);S.Dd=z.kSa(L);F=S.FUa({Cd:S.T3a(S.qa.ma.Cd),mW:S.Z6.bind(S)});S.Ia=F;S.Og && (S.Dj=S.FUa({Cd:S.T3a(S.Og.ma.Cd),mW:S.Z6.bind(S)}));S.Ia.events.on("segmentPresenting",function(){S.Nr=S.FOa();});S.on("streamerend",function(){return S.c1b();});S.Q$a();return S;}c.__extends(E,B);Object.defineProperties(E.prototype,{K:{get:function(){return this.S;},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{ca:{get:function(){return this.Hw.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{mediaSourceId:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{dh:{get:function(){return this.Mi;},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{Ge:{get:function(){return {Acc:{1:{Y:{La:Infinity}}}};},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{PJ:{get:function(){return void 0 !== this.yn;},enumerable:!1,configurable:!0}});E.prototype.bPb=function(){var D,F,G,C,H;D=this;H=null === (C=null === (G=(F=this.X).lW) || void 0 === G?void 0:G.call(F)) || void 0 === C?void 0:C.Z;l.assert(H,"video element is not defined");H.addEventListener("play",function(){return D.BQa();});H.addEventListener("pause",function(){return D.ek();});};E.prototype.c1b=function(){this.lp.cq(!0,this.Hw.sessionId);};E.prototype.uQ=function(D,F){var G;this.qa.Fi((G={},G[D]=F,G));};E.prototype.open=function(){var D,F,G,C;D=this;if(!this.Mr){this.Mr=!0;this.lp.cq(this.config.Tr,this.Hw.sessionId);C=new Promise(function(H){setTimeout(H,0);}).then(function(){D.emit("openComplete",{type:"openComplete"});});this.qa.open();null === (F=this.Og) || void 0 === F?void 0:F.open();this.qa.oB(this.MZ[0]);l.assert(this.Ia,"asePlayer should be defined on session.open");this.MZ[1] && (F=this.qa.gA(this.MZ[0]),l.assert(F,"ShimSession.open(): Graph position did not map a valid content timestamp"),null === (G=this.Og) || void 0 === G?void 0:G.oB(this.MZ[1],F.ym));y.U3a(this.lp,this,this.Ia,this.console);this.Fl.set(g.sa.xd);C.then(function(){D.sr(D.Se);});this.qa.hU(this.Ia);this.Og && (l.assert(this.Dj,"parallelPlayer should be defined on session.open"),this.Og.hU(this.Dj));this.wdb && this.bPb();}};E.prototype.Z6=function(){this.Aj || (this.Aj=new v.default.MediaSource(this.Dd),this.Aj.Rc || (this.Aj.Rc=v.default.MediaSource.Rc));return this.Aj;};E.prototype.FUa=function(D){void 0 === D && (D={});D=c.__assign({gE:this.config.gE,Hua:this.config.Hua},D);return this.lp.Ja.bRa(this.Dd,D);};E.prototype.T3a=function(D){return D?null === D || void 0 === D?void 0:D.map(function(F){return "video" === F?1:0;}):[0,1];};E.prototype.close=function(){this.Mr && (this.Mr=!1);this.lp.cq(!0,this.Hw.sessionId,!0);};Object.defineProperties(E.prototype,{EG:{get:function(){return "1.5";},enumerable:!1,configurable:!0}});E.prototype.flush=function(){var D;this.Mr && this.Fl.value !== g.sa.nj && this.Fl.value !== g.sa.Hr && this.stop();this.qa.u_("endplay",p.ee.tq);this.qa.rf();null === (D=this.Og) || void 0 === D?void 0:D.rf();this.lp.Th.save();this.lp.Wn.save();};E.prototype.paused=function(){this.wdb || this.ek();};E.prototype.ek=function(){this.Fl.value === g.sa.Lc && (this.Fl.set(g.sa.qh),this.Dd.emit("paused",{type:"paused",Fd:this.Dd.Cc}));};E.prototype.BQa=function(){this.Fl.value === g.sa.qh && (this.Fl.set(g.sa.Lc),this.Dd.emit("playing",{type:"playing",Fd:this.Dd.Cc}));};E.prototype.fd=function(){var D,F;this.Mr && this.Fl.value !== g.sa.nj && this.Fl.value !== g.sa.Hr && this.stop();this.lp.ZXb(this);this.Mr && this.close();this.zy && (clearInterval(this.zy),this.zy=void 0);null === (D=this.kL) || void 0 === D?void 0:D.clear();this.Ia && this.lp.Ja.pP(this.Ia);this.Dj && this.lp.Ja.pP(this.Dj);null === (F=this.Aj) || void 0 === F?void 0:F.qq();};E.prototype.suspend=function(){};E.prototype.resume=function(){};E.prototype.play=function(){var D;D=this;this.qa.state !== d.Rj.CLOSED && (l.assert(this.Ia,"ShimSession.play(), expected asePlayer to exist."),this.Ia.resume(this.MS?[1]:void 0),this.Og && (l.assert(this.Dj,"ShimSession.play(), expected parallelPlayer to exist."),this.Dj.resume(this.MS?[1]:void 0)),this.Fl.set(g.sa.Lc),this.Dd.emit("playing",{type:"playing",Fd:this.Dd.Cc}),this.emit("play"),this.zy || (this.zy=setInterval(function(){return D.iSb();},this.config.qM)));};E.prototype.stop=function(){this.Fl.set(g.sa.Hr);l.assert(this.Ia,"ShimSession.stop(), expected asePlayer to exist.");this.Ia.pause();this.Og && (l.assert(this.Dj,"ShimSession.stop(), expected parallelPlayer to exist."),this.Dj.pause());this.Dd.emit("paused",{type:"paused",Fd:this.Dd.Cc});this.emit("stop");};E.prototype.Mz=function(D){var F,G,C,H;void 0 === F && (F=!0);this.Ia?(D=parseInt(D),k.isFinite(D) && (null === (G=this.g9) || void 0 === G?void 0:G.tbb(),F?(this.Ia.BZ(D),null === (C=this.Dj) || void 0 === C?void 0:C.BZ(D)):(this.Ia.dxa(D),null === (H=this.Dj) || void 0 === H?void 0:H.dxa(D)))):this.fail("Must call open prior to drmReady");};E.prototype.v7=function(){var D;if(!this.Ia || !this.Ia.Zf)return !1;D=this.Ia.hp(this.qa.ma.V[this.Ia.Wi.ha].S);return D && this.Og && this.Dj?this.Dj.hp(this.Og.ma.V[this.Dj.Wi.ha].S):D;};E.prototype.oo=function(){var D;null === (D=this.g9) || void 0 === D?void 0:D.tbb();this.Fl.set(g.sa.Tf);this.Dd.emit("underflow",{type:"underflow",Fd:this.Dd.Cc});this.sr(this.Se);};E.prototype.V6=function(D){var F;F=p.ee.xp;switch(D){case "intrplay":F=p.ee.oo;break;case "endplay":F=p.ee.tq;}D=this.qa.V6(F);return c.__assign(c.__assign({},D),{aseApiVersion:this.EG});};E.prototype.Eua=function(){this.Dd.emit("playbackRateChanged",{type:"playbackRateChanged",Fd:this.Dd.Cc});};E.prototype.lo=function(){var D;D=this.Dd.Te();D={type:"skipped",pts:n.O.Na(D)};this.Dd.emit(D.type,D);return new q.RF(Promise.resolve()).twa;};E.prototype.nka=function(D,F){var G;F=this.Zoa(F || 0,D);return null === (G=this.qa.Em(F,D)) || void 0 === G?void 0:G.gd;};E.prototype.Xt=function(D,F){var G;G=new n.O(F,1E3);return (G=this.qa.pp(G,{xab:!0,wab:!0}))?this.qa.ma.V[G.ha].Aa + Number(G.offset.U.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + D + ", playerPts: " + F);};E.prototype.IM=function(D,F){D=this.Zoa(D || 0,F);D={ha:D,offset:new n.O(F - this.qa.ma.V[D].Aa,1E3)};return (D=this.qa.JH(D))?D.U:F;};E.prototype.W7=function(){var D,F,G;F={};G=null === (D=this.qa) || void 0 === D?void 0:D.Qw();D=this.Og?this.Og.Qw():G;G && (F.vbuflmsec=G.totalvbuflmsecs,F.vbuflbytes=G.vbuflbytes);D && (F.abuflmsec=D.totalabuflmsecs,F.abuflbytes=D.abuflbytes);return F;};E.prototype.F6=function(){return {Ee:0};};E.prototype.Sn=function(){var D,F;return null !== (D=this.Nr) && void 0 !== D?D:(null === (F=this.Ia) || void 0 === F?0:F.w7())?this.FOa():{id:this.MZ[0].ha,Ee:0,gd:0,Mc:Infinity,pe:Infinity,zd:0};};E.prototype.FOa=function(){var D,F,G,C,H,K,M,I,Q;l.assert(this.Ia,"attempted to get presenting branch information with no player");l.assert(this.Ia.w7(),"attempted to get presenting branch information but player has no branches");K=this.Ia.Sn() || ({});M=K.H;I=K.Fe;Q=K.qE;K=K.Gs;return {id:M.id,Ee:null !== (D=null === I || void 0 === I?void 0:I.U) && void 0 !== D?D:0,gd:null !== (F=null === M || void 0 === M?void 0:M.Nf.U) && void 0 !== F?F:0,Mc:null !== (G=null === M || void 0 === M?void 0:M.$i.U) && void 0 !== G?G:Infinity,pe:null !== (C=null === Q || void 0 === Q?void 0:Q.U) && void 0 !== C?C:Infinity,zd:null !== (H=null === K || void 0 === K?void 0:K.U) && void 0 !== H?H:0};};E.prototype.$8a=function(){this.nI("removeSession");};E.prototype.Qs=function(D,F){void 0 === F && (F=0);l.assert(!this.Og,"Seeking with dual playgraphs not supported.");F=this.Zoa(F,D);this.lp.cq(this.config.Tr,this.Hw.sessionId);D={ha:F,offset:n.O.Na(D - this.qa.ma.V[F].Aa)};this.Nr=void 0;this.qa.oB(D);l.assert(this.Ia);this.Ia.resume();this.Fl.set(g.sa.xd);this.sr(this.Se);D=this.qa.raa(D);l.assert(D,"Valid position must be provided for seek");return D.offset.U;};E.prototype.seek=function(D,F){D=this.Xt(F,D);return this.Qs(D,F);};E.prototype.Yr=function(D,F,G){var C,H;C=this.Sn().id;H=this.qa.GN(C,D);if(F){if(!H.Adb)return (this.console.warn("chooseNextSegment, seamless transition, invalid destination: " + (D + " for current segment: " + C)),!1);if(void 0 !== H.IO)return (this.qa.Di(C,D,!1,F),H.IO === D);this.qa.Di(C,D,!1,F);return !0;}if(void 0 !== H.IO)return (G || this.Qs(H.gd,0),!1);H.rM?(l.assert(this.Ia),this.Ia.reset(),this.qa.Di(C,D,!1,F),this.Ia.resume(),this.Fl.set(g.sa.xd),this.sr(this.Se)):G || this.Qs(H.gd,0);return ! !H.rM;};E.prototype.eM=function(){this.nI("addManifest");};E.prototype.ZT=function(){return this.nI("activateManifest");};E.prototype.a6a=function(){this.WNa();};E.prototype.eba=function(D){var F,G,C,H,K;F=this.Og?this.Dj:this.Ia;G=D.Dn;l.assert(!this.Og,"ShimSesssion: Parallel graph does not support track switches.");if(void 0 !== this.yn)return !1;D=this.tT.audio_tracks;if(!D.some(function(M,I){if(M.track_id === G)return (C=M,H=I,!0);}))return !1;D=D[this.YL[0]];this.yn=H;K=null === F || void 0 === F?void 0:F.xB;K?this.WNa():(this.MS=!0,null === F || void 0 === F?void 0:F.pause([0]),this.emit("audioTrackSwitchStarted",{type:"audioTrackSwitchStarted",oldLangCode:D.language,oldNumChannels:D.channels,newLangCode:C.language,newNumChannels:C.channels,sourceBufferReset:K}));return !0;};E.prototype.fr=function(D,F){this.IB.fr(D,F);};E.prototype.Ti=function(D){return this.Ia?this.Ia.Ti(n.O.Na(D)):!1;};E.prototype.T5=function(){this.nI("evaluateQoE");};E.prototype.Rxa=function(){this.nI("stopBuffering");};E.prototype.xJ=function(){return this.nI("startBuffering");};E.prototype.I_a=function(){return this.nI("getStreamingStatistics");};E.prototype.fail=function(D){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:D,manifestIndex:0});};E.prototype.Zoa=function(D,F){return 0 !== D?this.fail("Unexpected manifestIndex: " + D + ", single viewable playback only supports manifestIndex: 0"):this.NV(F);};E.prototype.NV=function(D){var F,G,H,K,M,I,Q;F=this.qa.ma;G=[];l.assert(0 <= D,"contentPts must be 0 or greater for segmentId lookup");for(var C in F.V){H=F.V[C];K=H.Aa;H=H.Ba;M=D < Number(null !== H && void 0 !== H?H:Infinity);if(K <= D && M)G.push(C);else if((K=Math.min(Math.abs(D - K),Math.abs(D - H)),void 0 === I || K < I))(I=K,Q=C);}l.assert(1 >= G.length,"Overlapped segments detected in branching, this is not supported");D=G[0] || Q;l.assert(void 0 !== D,"segmentId from contentPts lookup failed");return D;};E.prototype.iSb=function(){var D,F;F=null === (D=this.qa) || void 0 === D?void 0:D.Qw();D=this.Og?this.Og.Qw():F;F && D && this.emit("updateBufferLevel",{type:"updateBufferLevel",abuflbytes:D.abuflbytes,vbuflbytes:F.vbuflbytes,totalabuflmsecs:D.totalabuflmsecs,totalvbuflmsecs:F.totalvbuflmsecs,currentBandwidth:F.currentBandwidth});};E.prototype.nI=function(D){return this.fail("Method not implemented " + D);};E.prototype.WNa=function(){l.assert(void 0 !== this.yn);this.YL[0]=this.yn;this.Q$a();this.sr(this.pU);};E.prototype.Q$a=function(){var D;D=this;this.Og?(this.qa.EE({Rs:function(){}},{Rs:function(){return D.YL[1];}}),this.Og.EE({Rs:function(){return D.YL[0];}},{Rs:function(){}})):this.qa.EE({Rs:function(){return D.YL[0];}},{Rs:function(){return D.YL[1];}});this.MS && ((this.Og?this.Dj:this.Ia).resume([0]),this.MS=!1);};E.prototype.WZb=function(D){this.rnb=D;};E.prototype.q_b=function(D){this.yqb=D;};E.prototype.sr=function(D){var F,G;F=this;D !== this.pU && void 0 !== this.yn?this.XX=D:(null === (G=this.kL) || void 0 === G?void 0:G.clear(),!this.Og && this.Ia?this.kL=h.Fr.yza([this.qa.Gf,this.Ia.aX],function(C){var H,K;C=c.__read(C,2);K=C[1];return C[0] === m.Kc.oj && (null === (H=F.Ia) || void 0 === H?void 0:H.Zf) && K.greaterThan(F.Ia.Zg);},this.GUa(D)):this.Ia && (this.kL=h.Fr.yza([this.qa.Gf,this.Ia.aX,this.Og.Gf,this.Dj.aX],function(C){var H,K,M,I,Q;C=c.__read(C,4);M=C[1];I=C[2];Q=C[3];return C[0] === m.Kc.oj && (null === (H=F.Ia) || void 0 === H?void 0:H.Zf) && M.greaterThan(F.Ia.Zg) && I === m.Kc.oj && (null === (K=F.Dj) || void 0 === K?void 0:K.Zf) && Q.greaterThan(F.Dj.Zg);},this.GUa(D))));};E.prototype.GUa=function(D){var F;F=this;return function(G){var C;G && (null === (C=F.kL) || void 0 === C?void 0:C.clear(),F.kL=void 0,Promise.resolve().then(D));};};c.__decorate([t.Sb({methodName:"updateChoiceMapEntry",No:!0})],E.prototype,"uQ",null);c.__decorate([t.Sb({methodName:"open"})],E.prototype,"open",null);c.__decorate([t.Sb({methodName:"close"})],E.prototype,"close",null);c.__decorate([t.Sb({methodName:"paused"})],E.prototype,"ek",null);c.__decorate([t.Sb({methodName:"unpaused"})],E.prototype,"BQa",null);c.__decorate([t.Sb({methodName:"cleanup"})],E.prototype,"fd",null);c.__decorate([t.Sb({methodName:"suspend"})],E.prototype,"suspend",null);c.__decorate([t.Sb({methodName:"resume"})],E.prototype,"resume",null);c.__decorate([t.Sb({methodName:"play"})],E.prototype,"play",null);c.__decorate([t.Sb({methodName:"stop"})],E.prototype,"stop",null);c.__decorate([t.Sb({No:!0,methodName:"drmReady"})],E.prototype,"Mz",null);c.__decorate([t.Sb({methodName:"underflow"})],E.prototype,"oo",null);c.__decorate([t.Sb({methodName:"getLogdataReport"})],E.prototype,"V6",null);c.__decorate([t.Sb({methodName:"skipped"})],E.prototype,"lo",null);c.__decorate([t.Sb({methodName:"seekByContentPts"})],E.prototype,"Qs",null);c.__decorate([t.Sb({methodName:"seek"})],E.prototype,"seek",null);c.__decorate([t.Sb({methodName:"chooseNextSegment",No:!0})],E.prototype,"Yr",null);c.__decorate([t.Sb({methodName:"onAudioTrackSwitchStarted"})],E.prototype,"a6a",null);c.__decorate([t.Sb({methodName:"switchTracks"})],E.prototype,"eba",null);return E;})(f.EventEmitter);b.LLa=r;},function(r,b,a){var k,m;function c(d,g,h){var l,n;l=Array.isArray(h)?h[0]:h;n=Array.isArray(h)?h[1]:h;g.on(l,function(q){d.emit(n,k.__assign(k.__assign({},q),{type:n}));});}function f(d,g,h,l){var n,q;g.events.once(d,function(p){(n=p) && q && l(n,q);});h.events.once(d,function(p){q=p;n && q && l(n,q);});}Object.defineProperties(b,{__esModule:{value:!0}});b.BWa=b.G5=b.U3a=b.W3a=void 0;k=a(2);m=a(20);b.W3a=function(d,g,h,l,n){var p;function q(u,t){c(h,u,t);}g=n?[l,n]:[l];[["aseReport","asereport"],["aseReportEnabled","asereportenabled"],"buffering","managerdebugevent","endOfStream","lastSegmentPts","locationSelected","segmentAborted","startEvent",["transportReport","transportreport"]].forEach(function(u){return q(l.events,u);});n?(q(n.events,"initialAudioTrack"),f("streamerEnd",l,n,function(u){h.emit("streamerend",k.__assign(k.__assign({},u),{type:"streamerend"}));})):(q(l.events,["streamerEnd","streamerend"]),q(l.events,"initialAudioTrack"));l.events.on("logdata",function(u){h.emit("logdata",k.__assign(k.__assign({},u),{fields:k.__assign(k.__assign({},u.fields),{aseApiVersion:h.EG})}));});p=!0;l.events.on("bufferingStarted",function(u){h.PJ && p?p=!1:(h.qba.cU("bufferingStarted",{}),h.emit("bufferingStarted",u));});l.events.on("bufferingComplete",function(u){h.PJ?p=!0:h.WZb(u);});null === n || void 0 === n?void 0:n.events.on("bufferingComplete",function(u){h.PJ || h.q_b(u);});l.events.on("maxVideoBitrateChanged",function(u){h.emit("maxvideobitratechanged",k.__assign(k.__assign({},u),{type:"maxvideobitratechanged",Vec:u.streaming.U}));});l.events.on("error",function(u){u=k.__assign(k.__assign({},u),{manifestIndex:0});h.emit("error",u);});h.on("error",function(){});l.events.on("segmentComplete",function(u){h.emit("segmentComplete",{type:"segmentComplete",mediaType:u.mediaType,manifestIndex:0,segmentId:u.segmentId});});l.events.on("segmentNormalized",function(u){var t;t=Math.floor(u.viewableContentEnd.U);h.emit("maxPosition",{type:"maxPosition",index:0,endPts:t,maxPts:t,maxSeekPts:Math.floor(u.viewableEarliestContentEnd.U)});h.emit("manifestRange",{type:"manifestRange",index:0,manifestOffset:0,startPts:0,endPts:t,maxPts:t});});l.events.on("segmentStarting",function(u){h.emit("maxBitrates",{type:"maxBitrates",audio:u.maxBitrates.audio,video:u.maxBitrates.video});h.emit("segmentStarting",u);});g.forEach(function(u){u.events.on("serverSwitch",function(t){h.emit("serverSwitch",{type:"serverSwitch",segmentId:t.segmentId,mediatype:t.mediatype,server:t.server,reason:t.reason,location:t.location,bitrate:t.bitrate,confidence:t.confidence,throughput:t.throughput,oldserver:t.oldserver});});u.events.on("streamSelected",function(t){var w;w=u.gA(t.position);h.emit("streamSelected",{type:"streamSelected",nativetime:t.nativetime,mediaType:t.mediaType,streamId:t.streamId,manifestIndex:0,trackIndex:t.trackIndex,streamIndex:t.streamIndex,movieTime:w.ym.U,bandwidth:t.bandwidth,longtermBw:t.longtermBw,rebuffer:t.rebuffer});});u.events.on("updateStreamingPts",function(t){var w;w=h.K;m.ia && d.trace("converting updateStreamingPts, movieId:",w);h.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:t.mediaType,manifestIndex:0,trackIndex:t.trackIndex,segmentId:t.position.ha,movieTime:Math.floor(t.completePlayerStreamingTimestamp.U)});});});};b.U3a=function(d,g,h,l){["managerdebugevent","segmentAppended","startEvent","logdata"].forEach(function(n){return c(g,h.events,n);});h.events.on("streamPresenting",function(n){var q,p;q=n.playerTimestamp.U;p=g.qa.gA(n.position);void 0 === p?l.warn("ShimSession cannot map streamPresenting: " + JSON.stringify(n)):g.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(q),contentStartPts:Math.floor(p.ym.U),mediaType:n.mediaType,manifestIndex:0,trackIndex:n.trackIndex,streamIndex:n.streamIndex});});h.events.on("segmentPresenting",function(n){var q,p,u;q=g.qa.gA(n.position);p=n.playerTimestamp.Ka(q.ym);u=n.position.ha;g.SVa || (g.emit("manifestPresenting",{type:"manifestPresenting",index:0,pts:n.playerTimestamp.U,movieId:q.S.toString(),replace:!1,contentOffset:p.U}),g.SVa=!0);g.emit("segmentPresenting",{type:"segmentPresenting",segmentId:u,contentOffset:p.U,metrics:n.metrics});});h.events.on("ptsChanged",function(n){g.emit("ptschanged",n.initialTimestamp.U);g.Dd.emit("skipped");});};b.G5=function(d,g,h,l,n,q){var p;h=h.U;n=null !== n && void 0 !== n?n:g;d.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:! !q,hashindsight:!1,buffCompleteReason:g.reason,actualbw:l,initSelReason:null !== (p=g.initSelReason) && void 0 !== p?p:"unknown",bcVBufferLevelMs:g.vBufferLevelMs,bcABufferLevelMs:n.aBufferLevelMs}});d.emit("ptschanged",h);d.emit("bufferingComplete",{type:"bufferingComplete",time:g.time,actualStartPts:h,aBufferLevelMs:n.aBufferLevelMs,vBufferLevelMs:g.vBufferLevelMs,selector:g.selector,initBitrate:g.initBitrate,skipbackBufferSizeBytes:g.skipbackBufferSizeBytes});};b.BWa=function(d,g,h){d.emit("audioTrackSwitchComplete",{type:"audioTrackSwitchComplete",trackId:g.track_id,trackIndex:h});};},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.kSa=void 0;r=a(2);c=a(17);f=r.__importDefault(a(126));k=a(9);b.kSa=function(m){if(m.Rmb)return m;f.default(c.EventEmitter.prototype,m);Object.defineProperties(m,{Rmb:{value:!0},Cc:{get:function(){return new k.O(this.Te(),1E3);}},playbackRate:{get:function(){return Math.max("function" === typeof this.$o?this.$o():1,.01);}}});return m;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Yxb={jx:["minInitVideoBitrate",-Infinity],Vsa:["minHCInitVideoBitrate",-Infinity],HA:["maxInitVideoBitrate",Infinity],IX:["minInitAudioBitrate",-Infinity],HX:["minHCInitAudioBitrate",-Infinity],tX:["maxInitAudioBitrate",Infinity],q9:["minAcceptableVideoBitrate",-Infinity],EX:["minAcceptableVMAF",0],hRb:["minAcceptableVMAFRebufferScalingFactor",0],Usa:["minAllowedVideoBitrate",-Infinity],fQb:["maxAllowedVideoBitrate",Infinity],pI:["minAllowedVmaf",-Infinity],b4a:["maxAllowedVmaf",Infinity],eQ:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],L5:["enableResolutionVMAFStreamFilter",!1],tua:["percentCapTitlesForResolutionVMAFStreamFilter",100],laa:["resolutionVMAFCappingRuleList",[]],R0a:["ignoreUserFilterOnEmptyResult",!0],qI:["minRequiredBuffer",2E4],y9:["minRequiredAudioBuffer",0],Bj:["minPrebufSize",5800],u9:["minCheckBufferingCompleteInterval",200],K5:["enableMoreFrequentBufferingCompleteCheck",!1],Ysa:["minimumBufferingCompleteInterval",1E4],gaa:["requireDownloadDataAtBuffering",!1],h1a:["indicatorForDownloadDataAtBuffering","oncomplete"],haa:["requireSetupConnectionDuringBuffering",!1],Hva:["rebufferingFactor",1],Cs:["maxBufferingTime",2E3],iza:["useMaxPrebufSize",!0],cE:["maxPrebufSize",4E4],zsa:["maxRebufSize",Infinity],$Eb:["fastRebufferRecoveryThreshold",Infinity],ZEb:["fastRebufferRecoverBwThrehold",3E3],P7:["initialBitrateSelectionCurve",null],m1a:["initSelectionLowerBound",-Infinity],n1a:["initSelectionUpperBound",Infinity],hba:["throughputPercentForAudio",15],Ija:["bandwidthMargin",0],Kja:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],Oub:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,pz:76376,scale:18862.4,gamma:3.0569}],Jja:["bandwidthMarginContinuous",!1],Pub:["bandwidthMarginForAudio",!0],iya:["switchConfigBasedOnInSessionTput",!0],gla:["conservBandwidthMargin",20],QU:["conservBandwidthMarginTputThreshold",6E3],hla:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],sbb:["switchAlgoBasedOnHistIQR",!1],PE:["switchConfigBasedOnThroughputHistory","iqr"],ysa:["maxPlayerStateToSwitchConfig",-1],Zra:["lowEndMarkingCriteria","iqr"],Ida:["IQRThreshold",.5],Wpa:["histIQRCalcToUse","simple"],Rt:["bandwidthManifold",{curves:[{min:.05,max:.82,pz:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,pz:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],Lu:["maxTotalBufferLevelPerSession",0],D0a:["highWatermarkLevel",3E4],$bb:["toStableThreshold",3E4],nba:["toUnstableThreshold",0],Cxa:["skipBitrateInUpswitch",!1],Aza:["watermarkLevelForSkipStart",8E3],Qpa:["highStreamRetentionWindow",9E4],$ra:["lowStreamTransitionWindow",51E4],Spa:["highStreamRetentionWindowUp",5E5],csa:["lowStreamTransitionWindowUp",1E5],Rpa:["highStreamRetentionWindowDown",6E5],bsa:["lowStreamTransitionWindowDown",0],Ppa:["highStreamInfeasibleBitrateFactor",.5],AA:["lowestBufForUpswitch",9E3],L8:["lockPeriodAfterDownswitch",15E3],esa:["lowWatermarkLevel",15E3],BA:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],fsa:["lowestWaterMarkLevelBufferRelaxed",!1],Isa:["mediaRate",1.5],b9:["maxTrailingBufferLen",15E3],jU:["audioBufferTargetAvailableSize",262144],F_:["videoBufferTargetAvailableSize",1048576],v4a:["maxVideoTrailingBufferSize",8388608],d4a:["maxAudioTrailingBufferSize",393216],c6:["fastUpswitchFactor",3],yXa:["fastUpswitchFactorWithoutHeaders",3],cna:["fastDownswitchFactor",3],IA:["maxMediaBufferAllowed",27E4],Adc:["minMediaBufferLen",1E4],Axa:["simulatePartialBlocks",!0],pab:["simulateBufferFull",!0],ila:["considerConnectTime",!0],fla:["connectTimeMultiplier",1],z3a:["lowGradeModeEnterThreshold",12E4],A3a:["lowGradeModeExitThreshold",9E4],f4a:["maxDomainFailureWaitDuration",3E4],c4a:["maxAttemptsOnFailure",18],oXa:["exhaustAllLocationsForFailure",!0],l4a:["maxNetworkErrorsDuringBuffering",20],U8:["maxBufferingTimeAllowedWithNetworkError",6E4],fM:["alwaysRunUnderflowTimer",!0],wXa:["fastDomainSelectionBwThreshold",2E3],Fbb:["throughputProbingEnterThreshold",4E4],Gbb:["throughputProbingExitThreshold",34E3],n3a:["locationProbingTimeout",1E4],EXa:["finalLocationSelectionBwThreshold",1E4],Dbb:["throughputHighConfidenceLevel",.75],Ebb:["throughputLowConfidenceLevel",.4],Lra:["locationStatisticsUpdateInterval",6E4],qPb:["locationSelectorPersistFailures",!0],OWa:["enablePerfBasedLocationSwitch",!1],edc:["maxRateMaxFragmentGroups",4500],zua:["pipelineScheduleTimeoutMs",2],JA:["maxPartialBuffersAtBufferingStart",2],nRb:["minPendingBufferLen",3E3],Z8:["maxPendingBufferLen",6E3],XDb:["enableNginxRateLimit",!1],R9:["nginxSendingRate",4E4],aEb:["enableRequestPacingToken",!1],OQb:["mediaRequestPacingSpeed",2],sqa:["initialMediaRequestToken",2E4],S8:["maxActiveRequestsSABCell100",2],n4a:["maxPendingBufferLenSABCell100",500],w9a:["resetActiveRequestsAtSessionInit",!0],Cma:["enableCprAudio",!1],Dma:["enableCprVideo",!1],Rka:["clientPacingParams",{enableAdaptiveInitialThroughput:!1,minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],O0b:["staticPacingRateKbps",0],fUb:["paceRateSelectorAlgorithm","default"],NWa:["enablePaceReportLogging",!1],s3b:["unpacedFragmentInterval",0],PLb:["ignorePacedRequestsThroughput",!1],OLb:["ignoreInferredPacedRequestsThroughput",!1],o$:["pacedThresholdPct",.1],Qva:["regressionAlgoPacingCoefficients",[{bufferLevelMs:0,coefficients:{selectedFragmentBitrate:0,upswitchFragmentBitrate:0,maxFragmentBitrate:0,selectedAverageBitrate:0,upswitchAverageBitrate:0,maxAverageBitrate:2,selectedPeakBitrate:0,upswitchPeakBitrate:0,maxPeakBitrate:0,bufferLevelMs:0,observedThroughput:0,predictedThroughput:0,offset:0}},{bufferLevelMs:3E4,coefficients:{selectedFragmentBitrate:0,upswitchFragmentBitrate:0,maxFragmentBitrate:0,selectedAverageBitrate:1,upswitchAverageBitrate:0,maxAverageBitrate:0,selectedPeakBitrate:0,upswitchPeakBitrate:0,maxPeakBitrate:0,bufferLevelMs:0,observedThroughput:0,predictedThroughput:0,offset:0}}]],J5:["enableInitialTputLogging",!1],Asa:["maxResponsesInitialTput",6],Bsa:["maxStreamingSkew",2E3],iQb:["maxBufferOccupancyForSkewCheck",Infinity],h4b:["useBufferOccupancySkipBack",!0],wsa:["maxPendingBufferPercentage",10],q4a:["maxRequestsInBuffer",120],x7:["headerRequestSize",4096],Sma:["estimateHeaderSize",!0],ncc:["headerCacheEstimateHeaderSize",!1],xI:["neverWipeHeaderCache",!1],t4b:["useSidxInfoFromManifestForHeaderRequestSize",!1],xXa:["fastPlayHeaderRequestSize",0],wO:["maxRequestSize",0],CO:["minRequestSize",65536],FX:["minBufferLenForHeaderDownloading",1E4],vab:["smartHeaderPreDownloading",!1],FDb:["enableAllHeadersPreDownloading",!1],Wdc:["onlyAllowPtsUpdatePolling",!1],oRb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],jZ:["reserveForSkipbackBufferMs",15E3],zta:["numExtraFragmentsAllowed",2],Sq:["pipelineEnabled",!0],vO:["maxParallelConnections",3],q4b:["usePipelineForAudio",!1],p4b:["usePipelineDetectionForAudio",!1],yab:["socketReceiveBufferSize",0],g4:["audioSocketReceiveBufferSize",32768],AQ:["videoSocketReceiveBufferSize",65536],sdb:["usePipelineDetectionForVideo",!1],sRb:["minVideoSocketReceiveBufferSize",65536],Npa:["headersSocketReceiveBufferSize",32768],Q_b:["shareDownloadTracks",!0],R_b:["shareOpenRangeTracks",!1],BCb:["disableHeaderDownloadTracks",!1],Xsa:["minTimeBetweenHeaderRequests",void 0],Eba:["updatePtsIntervalMs",1E3],Vja:["bufferTraceDenominator",0],qM:["bufferLevelNotifyIntervalMs",2E3],$xa:["streamingStatusIntervalMs",2E3],YA:["prebufferTimeLimit",6E4],t9:["minBufferLevelForTrackSwitch",2E3],ZDb:["enablePenaltyForLongConnectTime",!1],rua:["penaltyFactorForLongConnectTime",2],Xra:["longConnectTimeThreshold",200],Uia:["additionalBufferingLongConnectTime",2E3],Via:["additionalBufferingPerFailure",8E3],SY:["rebufferCheckDuration",6E4],LWa:["enableLookaheadHints",!1],w3a:["lookaheadFragments",2],Pz:["enableOCSideChannel",!0],bva:["probeRequestTimeoutMilliseconds",3E4],jec:["probeRequestConnectTimeoutMilliseconds",8E3],y1:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],bEb:["enableSCByteRangeHints",!1],Ncb:["updateDrmRequestOnNetworkFailure",!0],e4a:["maxDiffAudioVideoEndPtsMs",1E3],VBb:["deferAseHeaderCache",!1],EVa:["deferAseScheduling",!1],Lbb:["timeBeforeEndOfStreamBufferMark",6E3],W8:["maxFastPlayBufferInMs",2E4],lQb:["maxFastPlayContentTimeThresholdMs",112E3],tsa:["maxFastPlayBitThreshold",2E8],rsa:["maxBufferingCompleteBufferInMs",Infinity],tvb:["bufferingCompleteOnMemoryLimit",!1],r9:["minAudioMediaRequestSizeBytes",0],A9:["minVideoMediaRequestSizeBytes",0],hQb:["maxAudioMediaRequestSizeBytes",Infinity],yQb:["maxVideoMediaRequestSizeBytes",Infinity],pQb:["maxMediaRequestSizeBytesInFraction",1],ix:["minAudioMediaRequestDuration",0],OA:["minVideoMediaRequestDuration",0],w9:["minMediaRequestDuration",0],gQb:["maxAudioMediaRequestDuration",Infinity],xQb:["maxVideoMediaRequestDuration",Infinity],X8:["maxMediaRequestDuration",Infinity],aja:["allowFirstRequestAggregation",!1],kRb:["minAudioMediaRequestDurationCache",0],qRb:["minVideoMediaRequestDurationCache",0],WDb:["enableMultiFragmentRequest",!1],ndb:[["useHeaderCache","usehc"],!0],gza:[["useHeaderCacheData","usehcd"],!0],o5:["defaultHeaderCacheSize",4],AVa:["defaultHeaderCacheDataCount",4],n5:["defaultHeaderCacheDataPrefetchMs",0],bLb:["headerCacheMaxPendingData",6],occ:["headerCachePriorityLimit",5],x0a:["headerCacheAdoptBothAV",!1],r4b:["usePipelineForBranchedAudio",!0],Wwb:["childBranchBatchedAmount",1E4],gE:["minimumTimeBeforeBranchDecision",2E3],uRb:["minimumAppendedMediaBeforePlayback",5E3],bec:["parallelBranchesDuringBuffering",!1],sQb:["maxRequestsToAttachOnBranchActivation",void 0],JX:["minimumJustInTimeBufferLevel",3E3],PDb:["enableJustInTimeAppends",!1],KRa:["appendPacingFactor",0],Itb:["appendPacingThreshold",3E3],HWa:["enableDelayedSeamless",!1],Kac:["branchEndPtsIntervalMs",250],QLb:["ignorePtsJustBeforeCurrentSegment",!1],h4a:["maxFragsForFittableOnBranching",300],yUb:["pausePlaylistAtEnd",!0],xsb:["adaptiveParallelTimeoutMs",1E3],dN:["enableAdaptiveParallelStreaming",!1],Uja:["bufferThresholdToSwitchToSingleConnMs",45E3],Tja:["bufferThresholdToSwitchToParallelConnMs",35E3],CDb:["enableAPSForBranching",!1],Uba:["waitForPendingConnAdaptation",!1],jta:["networkFailureResetWaitMs",2E3],ita:["networkFailureAbandonMs",6E4],a9:["maxThrottledNetworkFailures",5],gba:["throttledNetworkFailureThresholdMs",200],dsa:["lowThroughputThreshold",400],Xma:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],i2b:["timeAtEachBitrateRoundRobin",1E4],VYb:["roundRobinDirection","forward"],ALb:["httpsConnectErrorAsPerm",!1],f5a:["mp4ParsingInNative",!1],ti:["enableManagerDebugTraces",!1],M3a:["managerDebugMessageInterval",1E3],L3a:["managerDebugMessageCount",20],M5a:["notifyManifestCacheEom",!0],gEb:["enableUsingHeaderCount",!1],Aab:["sourceBufferInOrderAppend",!0],AE:["requireAudioStreamToEncompassVideo",!1],sRa:["allowAudioToStreamPastVideo",!1],EUa:["countGapInBuffer",!1],tRa:["allowCallToStreamSelector",!1],NSa:["bufferThresholdForAbort",2E4],Wxa:["ase_stream_selector","optimized"],gSa:["audiostreamSelectorAlgorithm","selectaudioadaptive"],qqa:["initBitrateSelectorAlgorithm","default"],$ja:["bufferingSelectorAlgorithm","default"],$0b:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],QWa:["enableThroughputTraceResearchData",!1],Hbb:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],Ax:["researchEnvironmentEnabled",!1],dEb:["enableStreamSelectionAugmentData",!1],Aub:["augmentDataNumOfChunks",30],rVa:["ase_ls_failure_simulation",""],Mla:["ase_dump_fragments",!1],Ola:["ase_location_history",0],Pla:["ase_throughput",0],tVa:["ase_simulate_verbose",!1],ih:["stallAtFrameCount",void 0],Eab:["stallAtFrameCountAudio",void 0],osa:["marginPredictor","simple"],hdb:["useBackupUnderflowTimer",!0],$Rb:["noDuplicateUnderflowTimer",!1],vfc:["useManifestDrmHeader",!0],wfc:["useOnlyManifestDrmHeader",!0],kta:["networkMeasurementGranularity","video_location"],RRb:["netIntrStoreWindow",36E3],Hdc:["minNetIntrDuration",8E3],oob:["fastHistoricBandwidthExpirationTime",10368E3],Nob:["bandwidthExpirationTime",5184E3],nob:["failureExpirationTime",86400],IPa:["historyTimeOfDayGranularity",4],kob:["expandDownloadTime",!0],xpb:["minimumMeasurementTime",500],wpb:["minimumMeasurementBytes",131072],Nqb:["throughputMeasurementTimeout",2E3],Mqb:["initThroughputMeasureDataSize",262144],gpb:["historicBandwidthUpdateInterval",2E3],vpb:["minimumBufferToStopProbing",1E4],qac:["throughputPredictor","ewma"],Jwa:["secondThroughputEstimator","slidingwindow"],b$a:["secondThroughputMeasureWindowInMs",3E5],pac:["throughputMeasureWindow",5E3],rac:["throughputWarmupTime",5E3],oac:["throughputIQRMeasureWindow",1E3],aac:["IQRBucketizerWindow",15E3],i4a:["maxIQRSamples",100],U4a:["minIQRSamples",5],lac:["connectTimeHalflife",10],fac:["responseTimeHalflife",10],ROa:["historicThroughputHalflife",14400],QOa:["historicResponseTimeHalflife",100],POa:["historicHttpResponseTimeHalflife",100],GEa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],uPa:["minReportedNetIntrDuration",4E3],nac:["throughputBucketMs",500],dac:["bucketHoltWintersWindow",2E3],cob:["enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")],lob:["experimentalFilter",["throughput-wssl"]],Uga:["filterDefinitionOverrides",{}],Snb:["defaultFilter","throughput-ewma"],trb:["secondaryFilter","throughput-sw"],tL:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}],Gma:["enableWsslEstimate",!1],hdc:["maxWsslRequestSize",131072],gdc:["maxWsslRequestRatio",.2],beb:["wsslAggregationMethod","max"],DV:["enableSessionHistoryReport",!0],Ama:["earlyStageEstimatePeriod",1E4],W2a:["lateStageEstimatePeriod",3E4],Y8:["maxNumSessionHistoryStored",10],z9:["minSessionHistoryDuration",3E5],iLb:["highAndStableModelName","baseline"],Fma:["enableHighAndStablePredictor",!1],x9:["minNumSessionHistory",5],Fac:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],z7:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],jLb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],Lia:["addHeaderDataToNetworkMonitor",!0],Lxa:["startMonitorOnLoadStart",!1],fwa:["reportFailedRequestsToNetworkMonitor",!1],x$:["periodicHistoryPersistMs",0],saa:["saveVideoBitrateMs",0],NX:["needMinimumNetworkConfidence",!0],Nja:["biasTowardHistoricalThroughput",!1],uPb:["logMemoryUsage",!1],dv:["probeServerWhenError",!0],az:["allowSwitchback",!0],TI:["probeDetailDenominator",100],V8:["maxDelayToReportFailure",300],Tr:["allowParallelStreaming",!1],sdc:["mediaPrefetchDisabled",!1],R4a:["minBufferLevelToAllowPrefetch",5E3],uaa:["seamlessAudio",!1],Dec:["seamlessAudioProfiles",[]],Eec:["seamlessAudioProfilesAndTitles",{}],Hwa:["seamlessAudioMaximumSyncError",void 0],Iwa:["seamlessAudioMinimumSyncError",void 0],z1a:["insertSilentFrames",0],zqa:["insertSilentFramesOnSeek",!1],A1a:["insertSilentFramesOnSeekForTitles",[]],yMb:["insertSilentFramesOnSeekCount",3],Rbc:["forceDiscontinuityAtTransition",!0],fya:["supportAudioResetOnDiscontinuity",void 0],z1b:["supportAudioEasingOnDiscontinuity",void 0],sDb:["editCompleteFragments",!0],vRb:["minimumAudioFramesPerFragment",1],GG:["applyProfileTimestampOffset",!1],qm:["applyProfileStreamingOffset",!0],b8a:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],uub:["audioProfilesNonSyncSamples",["xheaac-dash"]],b3b:["truncateEndOfStreamAudio",!1],j4b:["useDpiAssumedAacEncoderDelay",!0],Ksa:["mediaSourceSupportsNegativePts",!1],BO:["minAudioPtsGap",void 0],rub:["audioOverlapGuardSampleCount",2],PWa:["enableRecordJSBridgePerf",!1],Nda:["JSBridgeTDigestConfig",{maxc:25,c:.5}],f2b:["throughputThresholdSelectorParam",0],e4b:["upswitchDuringBufferingFactor",2],ztb:["allowUpswitchDuringBuffering",!1],tUa:["contentOverrides",void 0],mla:["contentProfileOverrides",void 0],Vpa:["hindsightDenominator",0],Upa:["hindsightDebugDenominator",0],A7:["hindsightAlgorithmsEnabled",[]],B7:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],JRa:["appendMediaRequestOnComplete",!1],Tba:["waitForDrmToAppendMedia",!1],vza:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],m6:["forceAppendHeadersAfterDrm",!1],Qla:["declareBufferingCompleteAtSegmentEnd",!1],dx:["maxActiveRequestsPerSession",void 0],Gra:["limitAudioDiscountByMaxAudioBitrate",!1],fja:["appendFirstHeaderOnComplete",!0],SZ:["strictBufferCapacityCheck",!1],kM:["aseReportDenominator",0],a4:["aseReportIntervalMs",3E5],vba:["translateToVp9Draft",!1],hQ:["switchableAudioProfiles",[]],vub:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],ubb:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],xub:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],t4a:["maxStartingVideoVMAF",110],Qu:["minStartingVideoVMAF",1],$T:["activateSelectStartingVMAF",!1],Aaa:["selectStartingVMAFTDigest",-1],GP:["selectStartingVMAFMethod","fallback"],g$a:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],ZO:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],CCb:["disablePtsStartsEvent",!0],Kva:["recordFirstFragmentOnSubBranchCreate",!0],A4a:["mediaCacheConvertToBinaryData",!1],Esa:["mediaCacheSaveOneObject",!1],$3a:["markRequestActiveOnFirstByte",!1],F5:["earlyAppendSingleChildBranch",!0],FB:["useNativeDataViewMethods",!0],i4b:["useCorrectDrainingAmounts",!0],eN:["enableNewAse",!1],B_:["useNewApi",!1],u5:["aseDiagnostics",[{si:"queue-audit",enabled:!0},{si:"task-audit",enabled:!0},{si:"trace-ShimSession",enabled:!0},{si:"trace-engine",enabled:!0},{si:"trace-RequestPacer",enabled:!0},{si:"trace-BufferStateTracker",enabled:!0},{si:"trace-GraphStreamingProcess",enabled:!0},{si:"trace-AsePlaygraph",enabled:!0},{si:"playgraph-branch-audit",enabled:!0},{si:"content-playgraph",enabled:!0}]],kvb:["branchDistanceThreshold",6E4],T8:["maxAllowedOutstandingRequests",4],Wsa:["minStreamableConcurrencyWindow",3E3],wQb:["maxStreamableConcurrencyWindow",Infinity],Xxa:["streamableConcurrencyFactor",.3],CU:["bufferingConcurrencyWindow",7800],Qja:["branchCreationThreshold",12E4],I5:["enableDiscontiguousBuffering",!1],Gna:["forceImmediateTransitionTypeForTitles",[]],Fna:["forceImmediateTransitionExitZone",0],AUa:["contiguousBufferMultiplier",3],yUa:["contiguousBufferMinimumAudio",1048576],zUa:["contiguousBufferMinimumVideo",8388608],LVb:["prefetchBudgetInBytes",0],E8a:["rebufferRiskHalfLife",1E4],eza:["useBufferSizeLimiter",!1],u4b:["useStaticBufferSizeLimiter",!1],OVb:["prefetchWeightBudget",32],Zsa:["minimumDownstreamBranchProbability",.075],fza:["useExitZones",!0],PVb:["prefetchWhilePlaying",!0],UVb:["prefetcherSoftReset",!0],A7a:["playgraphDefaultWeight",65520],XBb:["delayNotificationOfEoS",!1],TQb:["memDeadlockShouldCheckMemory",!0],SQb:["memDeadlockOverageThreshold",.9],RQb:["memDeadlockMaxUtilizationPercentage",.5],Hua:["playerPtsPadding",1],GX:["minFragmentVmaf",void 0],H5:["enableCombinedPlaygraphs",!0],hza:["useLegacyFragmentRounding",!1]};b.Zi=b.Yxb;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Dr=b.Cr=b.Er=b.EA=b.V1=void 0;c=a(2);f=a(118);Object.defineProperties(b,{Cr:{enumerable:!0,get:function(){return f.Cr;}}});Object.defineProperties(b,{Dr:{enumerable:!0,get:function(){return f.Dr;}}});Object.defineProperties(b,{EA:{enumerable:!0,get:function(){return f.EA;}}});Object.defineProperties(b,{V1:{enumerable:!0,get:function(){return f.V1;}}});k=c.__importDefault(a(6));r=(function(m){function d(g,h,l,n,q){return m.call(this,d.console,g,h,l,n,q) || this;}c.__extends(d,m);Object.defineProperties(d,{console:{get:function(){return this.I || (this.I=new k.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(f.Er);b.Er=r;},function(r,b,a){var k,m;function c(){}function f(d,g,h,l,n){this.debug=d;this.version=g;this.aOb=h;this.XUb=l;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.CLa=void 0;r=a(1);k=a(0);m=a(5);f.prototype.YHb=function(){return this.config().hA;};f.prototype.aoa=function(){return this.config().FSa;};f.prototype.s_a=function(){return (0,m.Nc)(this.config().xVb);};f.prototype.OZa=function(){return this.config().kPb;};f.prototype.RZa=function(){return this.config().XPb;};c.prototype.uD=function(d,g,h,l,n){return new f(d,g,h,l,n);};a=c;a=r.__decorate([(0,k.T)()],a);b.CLa=a;},function(r,b,a){var f,k;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.KMa=void 0;r=a(1);f=a(0);a=a(13);c.prototype.zWb=function(m,d,g,h){var l;if(this.config().NZb){l=m.metrics;void 0 !== l && l.segment !== l.srcsegment && d.nX.qb.transition({isBranching:h || void 0,isPlaygraph:!h || void 0,mid:d.K,xid:d.ca,srcxid:g.ca,srcmid:g.K,segment:m.position.segmentId,srcsegment:l.srcsegment,srcsegmentduration:l.srcsegmentduration,srcoffset:l.srcoffset,seamlessRequested:l.seamlessRequested,transitionType:l.transitionType,transitionTypeAtRequest:l.transitionTypeAtRequest,nextExitPositionAtRequest:l.nextExitPositionAtRequest,delayToTransition:l.delayToTransition,durationOfTransition:l.durationOfTransition,atRequest:l.atRequest,atTransition:l.atTransition,discard:l.discard});}};k=c;k=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.ad))],k);b.KMa=k;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.Idb=void 0;r=a(0);c=a(350);f=a(972);b.Idb=new r.rd(function(k){k(c.lNa).to(f.kNa).ba();});},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M;function c(I){this.cc=I;}Object.defineProperty(b,"__esModule",{value:!0});b.kNa=void 0;r=a(1);f=a(0);k=a(95);m=a(29);d=a(27);g=a(7);h=a(98);l=a(215);n=a(422);q=a(973);p=a(260);u=a(88);t=a(423);w=a(974);v=a(264);x=a(81);y=a(19);z=a(120);A=a(265);B=a(432);E=a(13);D=a(433);F=a(434);G=a(38);C=a(266);H=a(435);K=a(72);M=a(31);c.prototype.wla=function(I,Q,L,J,N,O){return this.cc.get(E.ad)().Gba?new w.mNa(this.cc.get(g.ub),this.cc.get(v.gfa),this.cc.get(x.gy),this.cc.get(y.md),this.cc.get(z.vF),this.cc.get(h.qda),this.cc.get(A.kea),this.cc.get(B.mEa),this.cc.get(D.dKa),this.cc.get(F.Kfa),this.cc.get(F.Kfa),this.cc.get(G.di),this.cc.get(H.ZR),this.cc.get(C.xda),this.cc.get(M.oh),J,L):new q.BFa(this.cc.get(m.jg),this.cc.get(d.ig),this.cc.get(g.ub),this.cc.get(h.qda),this.cc.get(l.Ffa),this.cc.get(p.Pea),this.cc.get(u.pda),this.cc.get(t.TIa),this.cc.get(n.CCa),I,Q,L,J,N,O,this.cc.get(K.Qv).lH);};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.yFa))],a);b.kNa=a;},function(r,b,a){var f,k,m,d,g,h;function c(l,n,q,p,u,t,w,v,x,y,z,A,B,E,D,F){var G;G=this;this.se=l;this.nb=n;this.Wb=p;this.Wu=t;this.NU=w;this.tYa=v;this.config=y;this.Wh=A;this.H=B;this.yNb=F;this.j=z.create(B.K,B.ej,x,E,D,B.Ab,B.id,B.oa);this.j.background=!0;this.log=q.mb("VideoPlayer",this.j);this.e7a=[];this.ended=!1;this.ZJ();this.j.state.addListener(function(C){C.newValue === k.Tb.te && G.Jb(k.Fa.Yqa,{movieId:B.K});});this.j.cb.bj && (this.pM=u.Vzb(this,this.j),this.j.addEventListener(k.ea.kJ,function(C){C=C.position.segmentId;G.vOb !== C && (G.vOb=C,G.Jb(k.Fa.zZb,{segmentId:C}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.BFa=void 0;f=a(3);k=a(15);m=a(5);d=a(11);g=a(88);h=a(24);c.prototype.isReady=function(){return this.j.state.value === k.Tb.te;};c.prototype.b_a=function(){return this.j.K;};c.prototype.dA=function(){return this.j.ca;};c.prototype.Rn=function(){return this.j.Qg;};c.prototype.Jq=function(){return this.j.Gj.value;};c.prototype.VW=function(){return this.j.paused.value;};c.prototype.Gqa=function(){return this.ended;};c.prototype.Ph=function(){var l;l=this.j.dka.value;return l?{networkStalled:! !l.Ws,stalled:! !l.Ws,progress:l.progress,progressRollback:! !l.FWb}:null;};c.prototype.getError=function(){var l;l=this.j.Nh;return l?l.m_():null;};c.prototype.tu=function(){return this.j.mediaTime.value;};c.prototype.JYa=function(){var l;l=(this.G6() || 0) + this.j.IYa();return Math.min(l,this.goa());};c.prototype.G6=function(){return this.j.zD();};c.prototype.goa=function(){return this.j.xz.da(m.la);};c.prototype.W_a=function(){return this.j.HB?{width:this.j.HB.width,height:this.j.HB.height}:null;};c.prototype.H6=function(){var u;if(this.j.Dp){for(var l,n=0;n < this.j.Dp.length;n++){for(var q=this.j.Dp[n],p=0;p < q.streams.length;p++){u=q.streams[p];this.nb.Oi(u.Cla) && this.nb.Oi(u.d5) && this.nb.Oi(u.c5) && this.nb.Oi(u.b5) && 0 < u.d5 && (u=u.b5 / u.c5,l=this.nb.Oi(l)?Math.min(l,u):u);}}return l;}};c.prototype.YYa=function(){return this.j.H6();};c.prototype.sYa=function(l){var n,q;return (null === (n=this.j.oa) || void 0 === n?0:n.yk.jW("generateScreenshots"))?this.tYa.yq(this.log,this.j.oa.yk,l):(n=null === (q=this.j.cb) || void 0 === q?void 0:q.op)?this.tYa.tg(this.log,Object.assign({packageId:n},l)):Promise.reject("Unknown packageId");};c.prototype.dZa=function(){return this.zHb(this.j.u5);};c.prototype.Yna=function(){var l;l=this;return this.j.Ri.map(function(n){return l.Eq(n);});};c.prototype.VZa=function(){var l;return this.kW(this.j.Ri,null === (l=this.j.oa) || void 0 === l?void 0:l.Nb.o4a);};c.prototype.h7=function(l){var n;n=this;return this.rW(l).map(function(q){return n.Eq(q);});};c.prototype.Boa=function(l){var n;return this.kW(this.rW(l),null === (n=this.j.oa) || void 0 === n?void 0:n.Nb.p4a);};c.prototype.mab=function(){return this.yNb || 5 < this.Yna().length || 5 < this.h7().length;};c.prototype.Nqa=function(){return this.j.muted.value;};c.prototype.X_a=function(){return this.j.volume.value;};c.prototype.AYa=function(){var l,n;n=(null === (l=this.qx) || void 0 === l?void 0:l.tc) || this.j.tc.value;return n && this.Eq(n);};c.prototype.npa=function(){var l,n;n=(null === (l=this.qx) || void 0 === l?void 0:l.e_) || this.j.kc.value;return n && this.Eq(n);};c.prototype.H1a=function(){return ! !this.j.background;};c.prototype.M$a=function(l){this.j.muted.set(! !l);};c.prototype.$$a=function(l){this.j.volume.set(this.DSb(l));};c.prototype.N$a=function(l){this.j.playbackRate.set(l);};c.prototype.$o=function(){return this.j.playbackRate.value;};c.prototype.x$a=function(l){var n,q,p,u,t;n=this;p=this.MV(l);if(p){if(p.yi)return (this.j.tc.set(p),Promise.resolve());u=(l=(null === (q=this.qx) || void 0 === q?void 0:q.e_) || this.j.kc.value) && this.n2a(p,l)?l:p.$h[0];q=p.trackId;t=u.trackId;this.qx={tc:p,e_:u};this.Jb(k.Fa.rm);this.Jb(k.Fa.yv);u !== l && this.Jb(k.Fa.$l);return this.j.L0a(q,t).then(function(w){w=w.tc;n.qx=void 0;n.j.tc.set(w);}).catch(function(w){n.qx=void 0;w=n.se.wd(w);n.log.error(w);n.close(n.Wh(f.N.DK,{ta:f.M.cea,yb:w,OH:{GLb:p.trackId,M0a:p.Vf,HLb:u.trackId,N0a:u.Vf}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.mxa=function(l){var n,q,p,u;n=this;p=(null === (q=this.qx) || void 0 === q?void 0:q.tc) || this.j.tc.value;if(null !== p){u=p.$h;q={};for(var t=0;t < u.length;(q={ot:q.ot},t++)){q.ot=u[t];if(!l && null === q.ot)return (this.j.kc.set(null),Promise.resolve());if(this.Eq(q.ot) === l){if(q.ot.yi)return (this.log.info("Setting Timed Text, profile: " + q.ot.profile),this.j.kc.set(q.ot),Promise.resolve());l=p.trackId;u=q.ot.trackId;this.qx={tc:p,e_:q.ot};this.Jb(k.Fa.$l);return this.j.L0a(l,u).then(function(w){w=w.e_;n.qx=void 0;n.j.kc.set(w);}).catch((function(w){return function(v){n.qx=void 0;v=n.se.wd(v);n.log.error(v);n.close(n.Wh(f.N.DK,{ta:f.M.cea,yb:v,OH:{GLb:p.trackId,M0a:p.Vf,HLb:w.ot.trackId,N0a:w.ot.Vf}}));};})(q));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.axa=function(l){this.j.background=l;};c.prototype.aQ=function(){this.j.aQ();};c.prototype.Cba=function(l){this.j.Cba(l);};c.prototype.uk=function(l){return this.j.uk(l);};c.prototype.p_a=function(){return this.j.cb;};c.prototype.nx=function(){this.j.nx();};c.prototype.CI=function(l){this.j.CI(l);};c.prototype.yW=function(l,n,q){return this.j.yW(l,n,q);};c.prototype.Pia=function(l,n){this.j.addEventListener(l,n,void 0);};c.prototype.addEventListener=function(l,n,q){this.Wb.addListener(l,n,q);};c.prototype.removeEventListener=function(l,n){this.Wb.removeListener(l,n);};c.prototype.OI=function(){};c.prototype.load=function(){var l;l=this;this.loaded || (this.loaded=!0,this.j.load(function(n,q){try{l.Jb(k.Fa.l3a,void 0,!0);n.oa && (n.oa.Nb.Vdb && l.Jb(k.Fa.l5b,n.oa.Nb.Vdb,!0),n.oa.Nb.Fn && l.Jb(k.Fa.yZb,{segmentMap:n.oa.Nb.Fn},!0));q({aa:!0});}catch(p){q({ta:f.M.Qk,yb:l.se.wd(p)});}}));};c.prototype.close=function(l){var n;n=this;this.NTa || (this.NTa=new Promise(function(q){l?n.j.SG(l,q):n.j.close(q);}));return this.NTa;};c.prototype.play=function(){this.j.oi?this.j.fireEvent(k.ea.V9a):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(k.ea.xdb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(k.ea.z4b));};c.prototype.seek=function(l,n,q,p){n=void 0 === n?k.Pe.iC:n;this.j.dg?this.j.dg.seek(l,n,q,p):this.j.Aw=l;};c.prototype.q7a=function(l){return this.pM?(this.log.trace("Playing a segment",l),this.pM.play(l)):Promise.resolve();};c.prototype.n8a=function(l){return this.pM?(this.log.trace("Queueing a segment",l),this.pM.Js(l)):Promise.resolve();};c.prototype.Fi=function(l,n){return this.pM?(this.log.trace("Updating next segment weights",l,n),this.pM.Fi(l,n)):Promise.resolve();};c.prototype.vW=function(){var l;l=this.j.nr.vW();return {bounds:l.yU,margins:l.Bs,size:l.size,visibility:l.visibility};};c.prototype.RP=function(l){var n,q,p;n=l.bounds;q=l.margins;p=l.size;l=l.visibility;this.j.h_ && (n && this.j.h_.nxa(n),q && this.j.h_.oxa(q),"boolean" === typeof l && this.j.h_.pxa(l));this.j.nr && p && this.j.nr.D_b(p);};c.prototype.qxa=function(l){this.j.Zm=l;};c.prototype.T_a=function(l){return this.j.AB && this.j.AB.WHb(l) || null;};c.prototype.xYa=function(){return this.se.rI({playerver:this.config.version,jssid:this.config.aOb,groupName:this.config.YHb(),xid:this.j.ca,pbi:this.j.index},this.config.XUb,{prefix:"pi_"});};c.prototype.i1a=function(l){this.j.Ld(f.N.oDa,f.M.em,l);};c.prototype.h3a=function(l,n,q,p){if(!this.nb.ARa(l))throw Error("invalid url");this.e7a.push({url:l,name:n,Eub:q,options:p});this.$7a();};c.prototype.dpa=function(){var l,n,q,p,u,t,w,v;l={};n=this.j.OZ;try{if((this.j.Nh && (l.errorCode=this.j.Nh.y5,l.errorType=n?"endplay":"startplay"),l.playdelay=(0,h.Yf)(this.j.EU()),l.xid=this.j.ca,this.j.oa && this.nb.$p(this.j.oa.Nb.op) && (l.packageId=Number(this.j.oa.Nb.op)),l.auth=this.j.PGb(),n)){l.totaltime=this.j.Ul?this.Yo(this.j.Ul.NN()):0;l.abrdel=this.j.Ul?this.j.Ul.$na():0;q=this.j.dg;p=q?q.yH():null;this.nb.Oi(p) && (l.totdfr=p);p=q?q.cW():null;this.nb.Oi(p) && (l.totcfr=p);u=q?q.lIb():null;u && (l.rbfrs_decoder=u.i5,l.rbfrs_network=u.L9);l.rbfrs_delay=this.j.Ul?this.j.Ul.Bqa:0;l.init_vbr=this.j.U7;t=this.FH();this.nb.eH(t) && (l.pdltime=t);w=this.j.re.value;v=w && w.stream;v && (l.vbr=v.bitrate,l.vdlid=v.Dc);l.bufferedTime=this.j.IYa();}}catch(x){this.log.error("error capturing session summary",x);}return l;};c.prototype.gN=function(l){this.j.cb.Vm && (this.j.cb.Vm.userEngageAction=1);return this.nb.Oi(this.j.mediaTime.value)?(l=Object.assign(Object.assign({},this.Wu.create(this.j)),{action:l}),this.NU(g.Hp.gN).yq(this.log,this.j.oa.yk,l).then(function(){return {success:!0};}).catch(function(n){return {success:!1,errorCode:n.code,errorSubCode:n.Ec,errorExternalCode:n.Nd,errorData:n.data,errorDetails:n.details};})):Promise.resolve({success:!1});};c.prototype.zHb=function(l){return {register:l.register.bind(l),notifyUpdated:l.Q5a.bind(l),getModel:l.GIb.bind(l),getGroups:l.hW.bind(l),addEventListener:l.addEventListener.bind(l),removeEventListener:l.removeEventListener.bind(l),getTime:l.getTime.bind(l)};};c.prototype.Eq=function(l){var n;n=l.nva=l.nva || ({trackId:l.trackId,bcp47:l.Vf,displayName:l.displayName,trackType:l.xl,rawTrackType:l.VI,channels:l.channels});this.Sqa(l) && (n.isNative=l.isNative,n.surroundFormatLabel=l.XZ);this.Tqa(l) && (n.isNoneTrack=l.Iq(),n.isForcedNarrative=l.ip(),n.isImageBased=l.wk);n.subType=l.DJ;n.variant=l.variant;return n;};c.prototype.Sqa=function(l){return "undefined" !== typeof l.isNative;};c.prototype.Tqa=function(l){return "undefined" !== typeof l.Iq && "undefined" !== typeof l.ip;};c.prototype.MV=function(l){var n;n=this;return l && this.j.Ri.find(function(q){return n.Eq(q) === l;});};c.prototype.rW=function(l){var n,q;l=this.MV(l) || (null === (n=this.qx) || void 0 === n?void 0:n.tc) || this.j.tc.value;return null !== (q=null === l || void 0 === l?void 0:l.$h) && void 0 !== q?q:[];};c.prototype.kW=function(l,n){var q;q=l.length - 1;if("number" !== typeof n)return q;l=l.findIndex(function(p){return p.dc > n;});return -1 === l?q:l - 1;};c.prototype.n2a=function(l,n){return 0 <= l.$h.indexOf(n);};c.prototype.DSb=function(l){return 0 <= l?1 >= l?l:1:0;};c.prototype.Yo=function(l){return this.nb.Oi(l)?(l / 1E3).toFixed(0):"";};c.prototype.Jb=function(l,n,q){n=n || ({});n.target=this;this.Wb.Hc(l,n,!q);};c.prototype.ZJ=function(){var l;l=this;this.j.addEventListener(k.ea.oya,function(){l.Jb(k.Fa.oq);});this.j.addEventListener(k.ea.Gcb,function(){l.Jb(k.Fa.Fcb);});this.j.addEventListener(k.ea.h9,function(){l.Jb(k.Fa.Yja);});this.j.addEventListener(k.ea.Gk,function(){l.Jb(k.Fa.Yja);});this.j.addEventListener(k.ea.WN,function(n){l.Jb(k.Fa.WN,{errorCode:n});});this.j.addEventListener(k.ea.Cja,function(){l.Jb(k.Fa.pSa);});this.j.addEventListener(k.ea.oi,function(n){l.Jb(k.Fa.k4,n);});this.j.addEventListener(k.ea.icb,function(){l.Jb(k.Fa.i4);l.Jb(k.Fa.yv);});this.j.Gj.addListener(function(){l.Jb(k.Fa.Lua);});this.j.paused.addListener(function(){l.Jb(k.Fa.Z6a);});this.j.muted.addListener(function(){l.Jb(k.Fa.k5a);});this.j.volume.addListener(function(){l.Jb(k.Fa.Odb);});this.j.Bb.addListener(function(){l.Ocb();});this.j.state.addListener(function(){l.Ocb();});this.j.dka.addListener(function(n){l.lPb || l.j.state.value != k.Tb.te || n.newValue || (l.lPb=!0,l.Jb(k.Fa.loaded),setTimeout(function(){l.log.debug.bind(l.log,"summary ",l.dpa());}));l.Jb(k.Fa.sM);});this.j.tc.addListener(function(){l.Jb(k.Fa.rm);l.Jb(k.Fa.yv);setTimeout(function(){var n,q;n=l.j.tc.value;q=l.j.kc.value;null === n || null === q || l.n2a(n,q) || (l.log.info("Changing timed text track to match audio track"),l.j.kc.set(n.$h[0]));},0);});this.j.kc.addListener(function(n){n.oldValue && n.newValue && n.oldValue.trackId == n.newValue.trackId || l.Jb(k.Fa.$l);});this.j.addEventListener(k.ea.yv,function(){l.Jb(k.Fa.yv);});this.j.addEventListener(k.ea.s_,function(){l.Jb(k.Fa.s_);});this.j.state.addListener(function(n){switch(n.newValue){case k.Tb.te:l.Jb(k.Fa.tWa);l.Jb(k.Fa.Jdb);l.Jb(k.Fa.i4);l.Jb(k.Fa.yv);l.Jb(k.Fa.k3a);l.$7a();l.r5b();break;case k.Tb.CLOSING:l.j.Nh && l.Jb(k.Fa.D1a,l.j.Nh);break;case k.Tb.CLOSED:(l.Jb(k.Fa.closed),l.Wb.Mh());}});};c.prototype.r5b=function(){var l;l=this;this.j.nr.addEventListener("showsubtitle",function(n){l.Jb(k.Fa.vxa,n,!0);});this.j.nr.addEventListener("removesubtitle",function(n){l.Jb(k.Fa.Xva,n,!0);});};c.prototype.$7a=function(){if(this.j.state.value == k.Tb.te){for(var l,n,q;n=this.e7a.shift();){l=this.j.nr.Iia(n.url,n.name,n.options);n.Eub && (q=l);}q && this.j.kc.set(q);}};c.prototype.Ocb=function(){var l;l=this.j.state.value == k.Tb.te && this.j.Bb.value == k.hb.xr;this.ended !== l && (this.ended=l,this.j.CG("Ended changed: " + l),(l || this.j.state.value === k.Tb.CLOSING) && this.Jb(k.Fa.YWa));};c.prototype.FH=function(){var l,n;try{l=/playercore.*js/;n=d.Ov.getEntriesByType("resource").filter(function(q){return null !== l.exec(q.name);});if(n && 0 < n.length)return JSON.stringify(Math.round(n[0].duration));}catch(q){}};b.BFa=c;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w;function c(v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L){var J,N,O;J=this;this.wY=x;this.lA=y;this.Da=z;this.Ak=A;this.Wb=B;this.sX=E;this.uVb=D;this.u7a=F;this.Oba=G;this.h4=C;this.za=H;this.rO=K;this.config=M;this.SC=I;this.H=Q;this.Wh=L;this.lX=new q.ec(!0);this.Gj=new q.ec(!1);this.Ws=new q.ec(!1);this.ended=new q.ec(!1);this.x4=new q.ec(0);this.Bb=new q.ec(k.hb.Uf);this.vP=new q.ec(void 0);this.loaded=this.OZ=this.closed=!1;this.T7a=function(P,S){return function(U){var Z,ja,ya,ra,Y;Z=U.newValue;ja=Z.cD;U=Z.um;ya=Z.stream;Z=P.value;ra=Z.streams.find(function(pa){return pa.bitrate === ya.stream.bitrate;});Y=J.xa.vj.find(function(pa){return pa.id === ja;});J.log.info("Presenting " + ra.type + " request with bitrate " + ra.bitrate + ", track " + (Z.trackId + " [" + U.startTime + "..." + U.endTime + "]"));S.set({stream:ra,um:U,uc:Y});};};this.abb=function(P,S,U){return function(Z){var ja,ya;ja=P.value;ya=ja.streams.find(function(ra){return ra.bitrate === Z.newValue.stream.bitrate;});J.log.info("Streaming " + ya.type + " stream with bitrate " + ya.bitrate + ", track " + ja.trackId);S.set(ya,{OG:Z.Am.OG,uU:void 0});ja=J.xa.vj.filter(function(ra){return ra.id === Z.Am.cD;})[0];U.set(ja);};};this.UXa=new Set();this.log=v.mb("HLSVideoPlayer");this.Z=(0,m.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.Z.playsInline=this.config.G7a;this.xa=this.wY(d.gC.index++,Q.K,Q.id,null !== (N=Q.Ab) && void 0 !== N?N:{},this.lA.zz(),this.Da.Zb(),!1,void 0,function(){return J.tu();});this.xa.mediaTime.set(null !== (O=this.xa.Aw) && void 0 !== O?O:0);this.ZJ();this.ipb=this.rO.create(this);this.ipb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.mNa=void 0;f=a(42);k=a(15);m=a(30);d=a(61);g=a(104);h=a(60);l=a(3);n=a(64);q=a(80);p=a(5);u=a(18);t=a(105);w=a(24);c.prototype.E1b=function(){return ! !this.Z.canPlayType && ("" !== this.Z.canPlayType("application/vnd.apple.mpegURL") || "" !== this.Z.canPlayType("audio/mpegurl"));};c.prototype.ZJ=function(){var v;v=this;this.Z.addEventListener("loadedmetadata",function(){v.Jb(k.Fa.l3a);v.Jb(k.Fa.k3a);v.Jb(k.Fa.rm);v.Jb(k.Fa.i4);v.Jb(k.Fa.$l);v.Jb(k.Fa.yv);});this.Z.addEventListener("error",function(x){x=v.Wh(l.N.vIa,x);v.close(x);});this.Z.addEventListener("timeupdate",function(){v.ended.set(!1);v.xa.mediaTime.set(v.tu());v.hma();v.Jb(k.Fa.oq);v.Jb(k.Fa.Fcb);});this.Z.addEventListener("durationchange",function(){v.Jb(k.Fa.tWa);});this.Z.addEventListener("resize",function(){v.Jb(k.Fa.Jdb);});this.Z.addEventListener("playing",function(){v.hma();v.Ws.set(!1);v.Gj.set(!0);v.ended.set(!1);v.Bb.set(k.hb.Lc);});this.Z.addEventListener("pause",function(){v.Gj.set(!1);v.Ws.set(!1);v.Bb.set(k.hb.qh);});this.Z.addEventListener("waiting",function(){v.Bb.set(k.hb.Uf);});this.Z.addEventListener("stalled",function(){v.Ws.set(!0);});this.Z.addEventListener("seeking",function(){v.Ws.set(!1);v.vP.set(v.xa.mediaTime.value);v.Bb.set(k.hb.Uf);});this.Z.addEventListener("seeked",function(){void 0 !== v.vP.value && (v.xa.Ul.xta(v.vP.value,v.tu()),v.vP.set(void 0));v.Bb.set(v.Jq()?k.hb.Lc:k.hb.qh);});this.Z.addEventListener("progress",function(){v.Jb(k.Fa.Yja);v.B3b();});this.Z.addEventListener("ended",function(){v.Bb.set(k.hb.xr);v.Ws.set(!1);v.Gj.set(!1);v.ended.set(!0);});this.Z.addEventListener("volumechange",function(){v.Jb(k.Fa.Odb);v.Jb(k.Fa.k5a);});this.Gj.addListener(function(){v.Jb(k.Fa.Lua);v.Jb(k.Fa.Z6a);v.yM();});this.x4.addListener(function(){v.Jb(k.Fa.sM);});this.Ws.addListener(function(){v.Jb(k.Fa.sM);});this.lX.addListener(function(){v.yM();});this.ended.addListener(function(){v.Jb(k.Fa.YWa);});this.xa.playbackRate.addListener(function(x){v.Z.playbackRate=x.newValue;});};c.prototype.yM=function(){!this.Jq() || this.lX.value || this.OZ || this.oSa || (this.OZ=!0,this.xa.UH=this.za.vZ,this.u7a.xp(this,this.xa));};c.prototype.EU=function(){return this.vY - (this.xa.ej.da(p.la) + this.Da.xA.da(p.la));};c.prototype.wH=function(){var v;v=this.xa.cb.sQ;return (0,u.Ea)(v)?v:this.xa.ej.da(p.la) + this.Da.xA.da(p.la);};c.prototype.ika=function(){return this.za.jf.da(p.la) - this.wH();};c.prototype.kka=function(){return this.vY - this.wH();};c.prototype.B3b=function(){var v;v=this.Z.readyState <= n.uo.d1.HAVE_METADATA?0:this.Z.readyState <= n.uo.d1.HAVE_CURRENT_DATA?.5:1;1 === v && (this.vY=this.za.jf.da(p.la),this.lX.set(!1),this.qna(k.Fa.loaded));this.x4.set(v);};c.prototype.hma=function(){var v;v=this.tu();this.Oba.A$a(v);this.h4.A$a(v);};c.prototype.uZ=function(){var v;v=this;this.xa.Ed("ats");return this.Ak.DN({ca:this.xa.ca,cb:this.xa.cb,S:this.xa.K,ou:g.nn.S1,ag:h.hi.Lp}).then(function(x){var z;function y(A){var B;B=A;A && A.Iq() && !A.ip() && (B=null);v.xa.Qi.set(B);}v.xa.Ed("at");z=v.sX.create({}).U6a(x);v.xa.oa=x;v.xa.Tc=z;v.Z.audioTracks.addEventListener("addtrack",function(){v.Zcb(v.xa.tc.value);});v.Z.audioTracks.addEventListener("change",function(){for(var A,B,E={},D=ba(v.Z.audioTracks),F=D.next();!F.done;(E={LQ:E.LQ},F=D.next())){E.LQ=F.value;E.LQ.enabled && E.LQ.label !== (null === (A=v.xa.tc.value) || void 0 === A?void 0:A.displayName) && (!1,F=null !== (B=v.xa.Ri.find((function(G){return function(C){return C.displayName === G.LQ.label;};})(E))) && void 0 !== B?B:null,v.xa.tc.set(F));}});v.xa.tc.addListener(function(A){v.Zcb(A.newValue);v.Jb(k.Fa.rm);v.Jb(k.Fa.yv);});v.Z.textTracks.addEventListener("addtrack",function(){v.$cb(v.xa.kc.value);});v.Z.textTracks.addEventListener("change",function(){var G;for(var A,B,E=v.Z.textTracks,D={},F=0;F < E.length;(D={MQ:D.MQ},F++)){if((D.MQ=E[F],"showing" === D.MQ.mode && D.MQ.label !== (null === (A=v.xa.kc.value) || void 0 === A?void 0:A.displayName))){!1;G=null !== (B=v.xa.$h.find((function(C){return function(H){return H.displayName === C.MQ.label;};})(D))) && void 0 !== B?B:null;v.xa.kc.set(G);y(G);}}});v.xa.kc.set(z.gV);y(z.gV);v.xa.kc.addListener(function(A){v.$cb(A.newValue);v.Jb(k.Fa.$l);});return v.uVb.ri(x,function(A){return v.xa.Ed(A);});}).then(function(x){var y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J;y=x.UPb;z=x.uwb;x=x.Y0b;A=x.audio;B=x.yVa;E=x.video;D=v.xa;F=D.th;G=D.tc;C=D.Ri;H=D.Ye;K=D.Ag;x=D.Aw;M=D.re;I=D.pf;Q=D.Ul;D=D.Tc;D.Ri=C.filter(function(N){return A.find(function(O){return O.track.xg === N.trackId;});});K.set(D.q5);G.set(C.find(function(N){return N.trackId === B;}));D=E[0];L=D.stream;C=A.find(function(N){return N.track.xg === B;});J=C.stream;v.OW=L.bitrate;v.Oba.Vua.addListener(v.T7a(K,M));v.Oba.aya.addListener(v.abb(K,H,v.xa.uc[f.Vb.Wa.Pb]));H=z.get(L.ds).iP.lq;v.Oba.Fb(E,D,H);v.h4.Vua.addListener(v.T7a(G,I));v.h4.aya.addListener(v.abb(G,F,v.xa.uc[f.Vb.Wa.Xb]));z=z.get(J.ds).iP.lq;v.h4.Fb(A,C,z);v.Z.src=y;v.Z.currentTime=(null !== x && void 0 !== x?x:0) / 1E3;v.Z.load();Q.xta(0,x && 0 < x?x:1);}).catch(function(x){var y,z;if(x instanceof Error){z=(0,w.wd)(x);v.log.error("uncaught exception",x,z);}v.close(v.Wh(null !== (y=x.code) && void 0 !== y?y:l.N.ZMa,x));});};c.prototype.$cb=function(v){var z;for(var x=this.Z.textTracks,y=0;y < x.length;y++){z=x[y];z.label === v.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== v.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};c.prototype.Zcb=function(v){for(var x=ba(this.Z.audioTracks),y=x.next();!y.done;y=x.next()){y=y.value;y.label !== v.displayName || y.enabled || (!1,y.enabled=!0);y.label !== v.displayName && y.enabled && (!1,y.enabled=!1);}};c.prototype.tu=function(){return Math.floor(1E3 * this.Z.currentTime);};c.prototype.G6=function(){return this.tu();};c.prototype.goa=function(){return Math.floor(1E3 * this.Z.duration);};c.prototype.b_a=function(){return this.H.K;};c.prototype.dA=function(){return this.xa.ca;};c.prototype.Rn=function(){return this.Z;};c.prototype.isReady=function(){return null === this.Ph();};c.prototype.Jq=function(){return this.Gj.value;};c.prototype.VW=function(){return !this.Gj.value;};c.prototype.Gqa=function(){return this.Z.ended;};c.prototype.Ph=function(){return 1 !== this.x4.value?{stalled:this.Ws.value,progress:this.x4.value,progressRollback:!1}:null;};c.prototype.getError=function(){var v,x;return null !== (x=null === (v=this.Nh) || void 0 === v?void 0:v.m_()) && void 0 !== x?x:null;};c.prototype.JYa=function(){return 1 === this.Z.buffered.length?1E3 * this.Z.buffered.end(0):null;};c.prototype.W_a=function(){return {width:this.Z.videoWidth,height:this.Z.videoHeight};};c.prototype.Nqa=function(){return this.Z.muted;};c.prototype.X_a=function(){return this.Z.volume;};c.prototype.M$a=function(v){this.Z.muted=v;};c.prototype.$$a=function(v){this.Z.volume=v;};c.prototype.addEventListener=function(v,x,y){this.Wb.addListener(v,x,y);};c.prototype.removeEventListener=function(v,x){this.Wb.removeListener(v,x);};c.prototype.load=function(){var v;v=this;this.loaded || (this.loaded=!0,this.SC.pO(function(x){v.E1b()?x.aa?v.uZ():v.close(v.Wh(x.errorCode || l.N.Gda,x)):v.close(v.Wh(l.N.aib));}));};c.prototype.close=function(v){if(this.closed)return Promise.resolve();this.xa.mediaTime.set(this.tu());this.hma();this.xa.RU=this.G6();this.closed=!0;this.Z.removeAttribute("src");this.Z.load();null === v || void 0 === v?void 0:v.O$a(!this.lX.value);(this.Nh=v) && this.Jb(k.Fa.error,v.m_());this.Jb(k.Fa.closed);return this.u7a.QZ(this.xa);};c.prototype.play=function(){var v,x;v=this;x=this.Z.play();this.oSa=!1;x && x.then(function(){v.qna(k.Fa.pSa);}).catch(function(y){v.Jb(k.Fa.sM);"NotAllowedError" === y.name && (v.log.warn("Playback is blocked by the browser settings",y),v.oSa=!0,v.oi=!0,v.qna(k.Fa.k4,{player:{play:function(){return v.play();}}}));});};c.prototype.Jb=function(v,x,y){x=x || ({});x.target=this;this.Wb.Hc(v,x,!y);};c.prototype.qna=function(v,x){this.UXa.has(v) || (this.UXa.add(v),this.Jb(v,x,void 0));};c.prototype.pause=function(){this.Z.pause();};c.prototype.seek=function(v){this.Z.currentTime=v / 1E3;};c.prototype.i1a=function(v){this.close(this.Wh(l.N.oDa,l.M.em,v));};c.prototype.$o=function(){return this.xa.playbackRate.value;};c.prototype.N$a=function(v){this.xa.playbackRate.set(v);};c.prototype.Yna=function(){var v;v=this;return this.xa.Ri.map(function(x){return v.Eq(x);});};c.prototype.h7=function(v){var x;x=this;return this.rW(v).map(function(y){return x.Eq(y);});};c.prototype.AYa=function(){var v;v=this.xa.tc.value;return v && this.Eq(v);};c.prototype.npa=function(){var v;v=this.xa.kc.value;return v && this.Eq(v);};c.prototype.x$a=function(v){if((v=this.MV(v)) && v.yi)return (this.xa.tc.set(v),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.mxa=function(v){var x,y;x=this;y=this.xa.$h.find(function(z){return x.Eq(z) === v;});if(y && y.yi)return (this.xa.kc.set(y),this.xa.Qi.set(y),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.VZa=function(){var v;return this.kW(this.xa.Ri,null === (v=this.xa.oa) || void 0 === v?void 0:v.Nb.o4a);};c.prototype.Boa=function(v){var x;return this.kW(this.rW(v),null === (x=this.xa.oa) || void 0 === x?void 0:x.Nb.p4a);};c.prototype.Eq=function(v){var x;x=v.nva=v.nva || ({trackId:v.trackId,bcp47:v.Vf,displayName:v.displayName,trackType:v.xl,rawTrackType:v.VI,channels:v.channels});this.Sqa(v) && (x.isNative=v.isNative,x.surroundFormatLabel=v.XZ);this.Tqa(v) && (x.isNoneTrack=v.Iq(),x.isForcedNarrative=v.ip(),x.isImageBased=v.wk);x.subType=v.DJ;x.variant=v.variant;return x;};c.prototype.Sqa=function(v){return "undefined" !== typeof v.isNative;};c.prototype.Tqa=function(v){return "undefined" !== typeof v.Iq && "undefined" !== typeof v.ip;};c.prototype.MV=function(v){var x;x=this;return v && this.xa.Ri.find(function(y){return x.Eq(y) === v;});};c.prototype.rW=function(v){var x;v=this.MV(v) || this.xa.tc.value;return null !== (x=null === v || void 0 === v?void 0:v.$h) && void 0 !== x?x:[];};c.prototype.kW=function(v,x){var y;y=v.length - 1;if("number" !== typeof x)return y;v=v.findIndex(function(z){return z.dc > x;});return -1 === v?y:v - 1;};c.prototype.Cba=function(v){this.xa.cb=(0,t.o9)(this.xa.cb,v);};c.prototype.uk=function(v){if(v !== this.xa.ha)throw (!1,Error("Unknown segmentId " + v));return this.xa;};c.prototype.p_a=function(){return this.xa.cb;};c.prototype.Pia=function(){!1;};c.prototype.nx=function(){!1;};c.prototype.CI=function(){!1;};c.prototype.yW=function(){!1;return Promise.reject();};c.prototype.dpa=function(){return {};};c.prototype.H6=function(){};c.prototype.YYa=function(){};c.prototype.xYa=function(){return {};};c.prototype.axa=function(){};c.prototype.aQ=function(){};c.prototype.H1a=function(){return !1;};c.prototype.dZa=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.gN=function(){!1;return Promise.resolve({success:!0});};c.prototype.T_a=function(){!1;};c.prototype.vW=function(){!1;};c.prototype.RP=function(){!1;};c.prototype.qxa=function(){!1;};c.prototype.h3a=function(){!1;};c.prototype.sYa=function(){!1;return Promise.reject();};c.prototype.q7a=function(){!1;return Promise.reject();};c.prototype.n8a=function(){!1;return Promise.reject();};c.prototype.Fi=function(){!1;return Promise.reject();};c.prototype.OI=function(){!1;};c.prototype.mab=function(){return !1;};b.mNa=c;},function(r,b,a){var c;b=a(152);c=a(976);a=b(function(f,k,m){return c(function(d,g,h){return f(g,h);},k,m);});r.exports=a;},function(r,b,a){var c,f;b=a(152);c=a(424);f=a(977);a=b(function h(m,d,g){return f(function(l,n,q){return c(n) && c(q)?h(m,n,q):m(l,n,q);},d,g);});r.exports=a;},function(r,b,a){var c;b=a(152);c=a(261);a=b(function(f,k,m){var d,g;d={};for(g in k){c(g,k) && (d[g]=c(g,m)?f(g,k[g],m[g]):k[g]);}for(g in m){c(g,m) && !c(g,d) && (d[g]=m[g]);}return d;});r.exports=a;},function(r,b,a){var c;b=a(425);c=a(987);a=a(997);a=c([b,a]);r.exports=a;},function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},function(r){r.exports=function(b,a){for(var c=0,f=a.length,k=[];c < f;){b(a[c]) && (k[k.length]=a[c]);c+=1;}return k;};},function(r,b,a){var c,f;b=a(131);c=a(427);f=a(982);a=b(function(k){return c(k)?!0:!k || "object" !== typeof k || f(k)?!1:1 === k.nodeType?! !k.length:0 === k.length?!0:0 < k.length?k.hasOwnProperty(0) && k.hasOwnProperty(k.length - 1):!1;});r.exports=a;},function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,f){return this.f(c,f);};return a;})();r.exports=function(a){return new b(a);};},function(r,b,a){var c;c=a(263);b=a(53)(function(f,k){return c(f.length,function(){return f.apply(k,arguments);});});r.exports=b;},function(r,b,a){var c,f;b=a(53);c=a(428);f=(function(){function k(m,d){this.T_=d;this.f=m;}k.prototype["@@transducer/init"]=c.Fb;k.prototype["@@transducer/result"]=c.result;k.prototype["@@transducer/step"]=function(m,d){return this.f(d)?this.T_["@@transducer/step"](m,d):m;};return k;})();a=b(function(k,m){return new f(k,m);});r.exports=a;},function(r,b,a){var c,f;c=a(261);f=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === f.call(arguments)?function(k){return "[object Arguments]" === f.call(k);}:function(k){return c("callee",k);};};},function(r,b,a){var c;b=a(131);c=a(988);a=b(function(f){return c(function(){return Array.prototype.slice.call(arguments,0);},f);});r.exports=a;},function(r,b,a){var c,f,k,m,d;b=a(53);c=a(430);f=a(431);k=a(990);m=a(991);d=a(996);a=b(function(g,h){return f(d(k,0,m("length",h)),function(){var l,n;l=arguments;n=this;return g.apply(n,c(function(q){return q.apply(n,l);},h));});});r.exports=a;},function(r,b,a){var f,k;function c(m,d,g){return function(){var p;for(var h=[],l=0,n=m,q=0;q < d.length || l < arguments.length;){if(q < d.length && (!k(d[q]) || l >= arguments.length))p=d[q];else (p=arguments[l],l+=1);h[q]=p;k(p) || --n;q+=1;}return 0 >= n?g.apply(this,h):f(n,c(m,h,g));};}f=a(263);k=a(185);r.exports=c;},function(r,b,a){b=a(53)(function(c,f){return f > c?f:c;});r.exports=b;},function(r,b,a){var c,f;b=a(53);c=a(992);f=a(994);a=b(function(k,m){return c(f(k),m);});r.exports=a;},function(r,b,a){var c,f,k,m,d,g;b=a(53);c=a(426);f=a(430);k=a(262);m=a(993);d=a(431);g=a(429);a=b(c(["fantasy-land/map","map"],m,function(h,l){switch(Object.prototype.toString.call(l)){case "[object Function]":return d(l.length,function(){return h.call(this,l.apply(this,arguments));});case "[object Object]":return k(function(n,q){n[q]=h(l[q]);return n;},{},g(l));default:return f(h,l);}}));r.exports=a;},function(r,b,a){var c,f;b=a(53);c=a(428);f=(function(){function k(m,d){this.T_=d;this.f=m;}k.prototype["@@transducer/init"]=c.Fb;k.prototype["@@transducer/result"]=c.result;k.prototype["@@transducer/step"]=function(m,d){return this.T_["@@transducer/step"](m,this.f(d));};return k;})();a=b(function(k,m){return new f(k,m);});r.exports=a;},function(r,b,a){var c;b=a(53);c=a(995);a=b(function(f,k){return c([f],k);});r.exports=a;},function(r,b,a){b=a(53)(function(c,f){for(var k=0;k < c.length;){if(null == f)return;f=f[c[k]];k+=1;}return f;});r.exports=b;},function(r,b,a){b=a(152);a=a(262);a=b(a);r.exports=a;},function(r,b,a){var c,f;c=a(998);b=a(53);f=a(425);a=b(function(k,m){return f(c(k),m);});r.exports=a;},function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},function(r,b,a){var c,f;c=a(1E3);b=a(152);f=a(1001);a=b(function(k,m,d){return f(k,c(m,d));});r.exports=a;},function(r){r.exports=function(b,a){var c,f,k,m;b=b || [];a=a || [];f=b.length;k=a.length;m=[];for(c=0;c < f;){m[m.length]=b[c];c+=1;}for(c=0;c < k;){m[m.length]=a[c];c+=1;}return m;};},function(r,b,a){var c;c=a(1002);b=a(53)(function(f,k){for(var m=0,d=k.length,g=[],h;m < d;){h=k[m];c(f,h,g) || (g[g.length]=h);m+=1;}return g;});r.exports=b;},function(r){r.exports=function(b,a,c){for(var f=0,k=c.length;f < k;){if(b(a,c[f]))return !0;f+=1;}return !1;};},function(r,b,a){b=a(53)(function(c,f){for(var k=[],m=0,d=f.length;m < d;){for(var g=m + 1;g < d && c(f[g - 1],f[g]);){g+=1;}k.push(f.slice(m,g));m=g;}return k;});r.exports=b;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B;Object.defineProperty(b,"__esModule",{value:!0});b.G0a=void 0;r=a(0);c=a(436);f=a(1005);k=a(438);m=a(1006);d=a(432);g=a(1031);h=a(446);l=a(1033);n=a(433);q=a(1034);p=a(434);u=a(1035);t=a(449);w=a(266);v=a(1036);x=a(447);y=a(1037);z=a(1038);A=a(435);B=a(1040);b.G0a=new r.rd(function(E){E(c.AEa).to(f.zEa).ba();E(k.EEa).to(m.DEa).ba();E(d.mEa).to(g.lEa).ba();E(h.oEa).to(l.nEa).ba();E(x.CBa).to(y.BBa).ba();E(n.dKa).to(q.cKa).ba();E(p.Kfa).to(u.eMa);E(t.WR).to(z.VR);E(A.ZR).to(B.YR);E(w.xda).to(v.HEa);});},function(r,b,a){var f,k,m,d;function c(g,h){this.zLb=g;this.log=h.mb("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.zEa=void 0;r=a(1);f=a(0);k=a(7);m=a(437);d=a(89);c.prototype.download=function(g){var l,n,q,p,u;function h(t){if(u < n.length - 1)return (!1,u++,l.jWa(n[u].url,q,p).catch(h));throw t;}l=this;n=g.urls;q=g.offset;p=g.length;u=0;return this.jWa(n[u].url,q,p).catch(h);};c.prototype.jWa=function(g,h,l){return this.zLb.download({url:g,withCredentials:!1,responseType:d.ResponseType.gfb,jD:"hls_headers",ht:!0,offset:h,length:l},{s4a:1});};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.KEa)),r.__param(1,(0,f.l)(k.ub))],a);b.zEa=a;},function(r,b,a){var f,k,m;function c(d){this.wa=d.mb("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.DEa=void 0;r=a(1);f=a(0);k=a(267);a=a(7);c.prototype.parse=function(d,g,h){d=new k.Er(this.wa,{mediaType:d},g,["sidx"]).parse();if(d.Nm && d.Y)return this.R3(d.Y,h);};c.prototype.R3=function(d,g){var h,l,n,q,p;h=0;l=0;n=0;q=d.offset;p=[];d.vd.forEach(function(u,t){l+=u;n+=d.sizes[t];if(1E3 * l / d.W >= g || t === d.vd.length - 1)(p.push({duration:l / d.W,$:h / d.W,byteOffset:q,Cvb:n}),h+=l,l=0,q+=n,n=0);});return p;};m=c;m=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.ub))],m);b.DEa=m;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.zc();this.jc=1 === this.version?this.hj([{creationTime:"int64"},{modificationTime:"int64"},{W:"int32"},{duration:"int64"}]):this.hj([{creationTime:"int32"},{modificationTime:"int32"},{W:"int32"},{duration:"int32"}]);return !0;};k.Yb="mvhd";k.Ra=!1;return k;})(a(33).Fc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Yb="trak";k.Ra=!0;return k;})(a(33).Fc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var m;this.zc();m=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];m=m.concat({offset:64,type:"offset"},{BOb:"int16"},{Atb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.jc=this.hj(m);this.jc.H2b=! !(this.flags & 1);this.jc.I2b=! !(this.flags & 2);this.jc.J2b=! !(this.flags & 4);this.jc.K2b=! !(this.flags & 8);this.u.console.trace("Finished parsing track box");return !0;};k.Yb="tkhd";k.Ra=!1;return k;})(a(33).Fc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.zc();this.jc=this.hj(1 === this.version?[{s6:"int64"}]:[{s6:"int32"}]);return !0;};k.Yb="mehd";k.Ra=!1;return k;})(a(33).Fc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.jc=this.hj([{sLb:"int32"},{P4b:"int32"}]);return !0;};k.Yb="pasp";k.Ra=!1;return k;})(a(33).Fc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.jc=this.hj([{svb:"int32"},{maxBitrate:"int32"},{Fja:"int32"}]);return !0;};k.Yb="btrt";k.Ra=!1;return k;})(a(33).Fc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.u.Vl();this.u.Vl();for(this.TG=[];this.u.offset <= this.byteOffset + this.byteLength - 4;){this.TG.push(this.u.Vl());}return !0;};k.Yb="ftyp";k.Ra=!1;return k;})(a(33).Fc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(90);r=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.parse=function(){this.zc();this.jc=this.hj([{FVb:"int32"},{BW:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.jc.BW=f.Bo(this.jc.BW);return !0;};m.Yb="hdlr";m.Ra=!1;return m;})(a(33).Fc);b.default=r;},function(r,b,a){var c,f,k,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(106);k=a(269);m=a(186);r=a(33);d=a(107);a=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(){this.zc();this.Cm=this.u.Ca();return !0;};h.prototype.ju=function(l){var n;n=Object.keys(this.Xa);n.length && (n=n[0],this.Xa[n].length && (n=this.Xa[n][0],n instanceof m.default?this.va=new k.O(n.Wz,n.samplerate):n instanceof d.default && (n=n.Xa[f.BF]) && n.length && (n=n[0].jc,1E3 !== n.Hz && 1001 !== n.Hz || 0 !== n.BI % 1E3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.BI + "/" + n.Hz):this.va=new k.O(n.Hz,n.BI)),this.va && (l.va=this.va)));return !0;};h.prototype.$Y=function(l){void 0 !== this.Xa[l] && 0 !== this.Xa[l].length && (this.na.kh(this.Cm - 1,this.byteOffset + 12),l=this.Xa[l][0],this.Je(l.byteLength,l.byteOffset));};h.Yb="stsd";h.Ra=!0;return h;})(r.Fc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.Qna=this.u.yc(2);this.Rja=this.u.yc(5);this.Sja=this.u.yc(3);this.Bia=this.u.yc(3);this.u.yc(1);this.u.yc(5);this.u.yc(5);return !0;};k.Yb="dac3";return k;})(a(33).Fc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var d;this.Cta=this.u.$c() & 7;this.cya=[];for(var m=0;m < this.Cta;m++){d={Qna:this.u.yc(2),Rja:this.u.yc(5),Sja:this.u.yc(5),Bia:this.u.yc(3),EOb:this.u.yc(1),Bta:this.u.yc(4)};0 < d.Bta?d.xwb=this.u.yc(9):this.u.yc(1);this.cya.push(d);}return !0;};k.Yb="dec3";return k;})(a(33).Fc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(33);r=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.parse=function(){this.zc();this.pZ=this.u.Vl();f.ia && this.u.console.trace("SchemeTypeBoxTranslator: " + this.pZ);"cenc" === this.pZ && (this.u.offset-=4,f.ia && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.u.offset),this.na.Q_("piff"));this.u.Ca();return !0;};m.Yb="schm";m.Ra=!1;return m;})(f.Fc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var m;this.u.sb();this.pca=this.u.sb();this.u.sb();this.u.sb();this.u.sb();this.LZ=this.lG(this.u.sb() & 31);this.lG(this.u.sb());this.aB=this.LZ.length?this.LZ[0][0]:this.pca;this.CT=this.u.offset;this.startOffset + this.length < this.u.offset && (100 === this.aB || 110 === this.aB || 122 === this.aB || 144 === this.aB) && (this.u.sb(),this.u.sb(),this.lG(this.u.sb()));m=this.startOffset + this.length - this.CT;0 < m && this.Je(m,this.CT);return !0;};k.prototype.lG=function(m){var h;for(var d=[],g=0;g < m;++g){h=this.u.$c();d.push(this.u.eB(h));}return d;};k.Yb="avcC";k.Ra=!1;return k;})(a(33).Fc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.ju=function(){var m;m=this.Nl("esds");if(m=m && m.mda.Nl(5))this.Wz=m.Wz;return !0;};k.Yb="mp4a";k.Ra=!0;return k;})(a(186).default);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(271);r=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.parse=function(){this.zc();this.mda=f.qR.PY(this.u);return !0;};m.Yb="esds";m.Ra=!1;return m;})(a(33).Fc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(106);a=a(33);f=r.BF;a=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.parse=function(){this.zc();this.jc=this.hj([{BI:"int32"},{Hz:"int16"}]);return !0;};m.Yb=f;m.Ra=!1;return m;})(a.Fc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var m,d,g,h,l;this.zc();m=this.hj([{RJ:"int32"},{iV:"int32"},{Ez:"int32"},{Gz:"int32"},{Fz:"int32"}]);d=m.RJ;g=m.iV;h=m.Ez;l=m.Fz;m=m.Gz;this.jc={trackId:d,OBb:g,Dz:h,PBb:l,QBb:m};this.RJ=d;this.iV=g;this.Ez=h;this.Gz=m;this.Fz=l;return !0;};k.Yb="trex";k.Ra=!1;return k;})(a(33).Fc);b.default=r;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(1025);k=a(275);m=a(153);d=a(269);g=a(33);r=a(441);h=a(442);l=a(444);n=a(154);q=a(268);p=a(106);u=a(445);a=(function(){function t(w,v,x,y,z,A){this.console=w;this.stream=v;this.Yh=y;this.Tia=z;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=A || ({});this.m0a=n.loa();}t.path=function(w,v){return v.reduce(function(x,y){return x && x.Xa[y] && x.Xa[y][0];},w);};t.Doa=function(w){return w && w.TG && -1 !== w.TG.indexOf("mcl0")?"mcl0":void 0;};t.kna=function(w,v){var x,y;m.assert("mcl0" === w,"Unsupported McClearen brand");x=v.Y;w=x.vd;v=new d.O(120,1).eg(x.W).pc;y=0;for(x=x.ul;y < w.length && x < v;){x+=w[y++];}return y;};t.prototype.parse=function(w){var v;v=this.Cwa();if(!v.done){if(v.OX)return {Nm:!1,lRa:v.OX};this.console.error("Scan error: " + v.error);return {Nm:!1,parseError:v.error || "unknown mp4 scan error"};}v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + v.offset);this.view=new DataView(v);w=this.eua(w);return w.done?this.kla():(this.console.error("Parse error: " + w.error),{Nm:!1,parseError:w.error || "unknown mp4 parse error"});};t.prototype.Mn=function(w){return g.Fc.Mn(this,w);};t.prototype.Nl=function(w){return g.Fc.Nl(this,w);};t.prototype.Cwa=function(){var w,v;w=new u.Dda(this.Yh,this.Tia?[p.ny,p.my]:[],this.config && this.config.Y1b || ["moof",p.fS],this.config && this.config.mY);v=c.__assign(c.__assign({},this.config),{II:!1});return new l.dF(t.jJ,w,this.view,this.console,v).parse();};t.prototype.eua=function(w){var v,x,y;v=new u.lR(this.view.byteLength);x=Object.create(q.Oq.Xa);this.config && ((this.config.s$ || this.config.uba || this.config.JE) && f(q.Oq.hJ,x),this.config.vba && f(q.Oq.Bya,x),this.config.uba && f(q.Oq.r_,x));y=c.__assign(c.__assign({},this.config),{II:!0});this.wc=new l.dF(x,v,this.view,this.console,y);w=this.wc.parse(w);w.done && (this.Xa=this.wc.Xa);return w;};t.prototype.kla=function(){var w,v,x,y,z,A;w={Nm:!0};v=t.path(this,["moov"]);x=t.path(v,["trak","mdia","minf","stbl","stsd"]);if(this.config.s$)if(x)(w.va=x.va,w.cZb=x.Xa);else return {Nm:!1,parseError:"Missing sample descriptions"};y=t.path(x,["encv","sinf","schi"]);y && (y=t.path(y,["tenc"]) || t.path(y,[p.kS])) && (w.UWa={dyb:y.wj,aI:y.aI,dOb:!1});if(y=t.path(v,["trak","mdia","mdhd"]))w.W=y.W;if(y=t.path(v,["mvex","trex"]))w.Dz=y && y.jc.Dz;w.Dz && w.W && (w.va=new d.O(w.Dz,w.W));if(y=t.path(this,["sidx"])){z=t.path(this,[p.ny]);z=z && z.Csa;A=t.path(this,[p.my]);A=A && A.mi;w.Y=y.Y;w.tI=z;w.mi=A;}if(z=this.Xa.vmaf && this.Xa.vmaf[0])w.Gi=z.Gi;if(this.config.K9a)if(v)(this.trim(v.byteOffset + v.byteLength),this.config.JE && x && 1 < x.Cm && y && (w.ah=this.JE(x,y)),void 0 === w.ah && (v=this.wc.Nz?k.concat(this.wc.ya()):this.view.buffer,w.ah=[{Bd:0,data:v}]));else return {Nm:!1,parseError:"Missing movie box"};w.Nm=!0;w.nY=this.wc.offset;return w;};t.prototype.trim=function(w){var v;v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(w,this.view.byteLength));this.wc.trim(w);this.view=new DataView(v);};t.prototype.JE=function(w,v){var x,y,z;x=Object.keys(w.Xa);y=x.filter(function(A){return "encv" !== A;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=t.path(this,["ftyp"]);z=t.Doa(x);if(z)return (x=[],this.wc.pva(),w.$Y("encv"),x.push({Bd:0,gl:!1,data:k.concat(this.wc.ya())}),this.wc.Nua(),w.$Y(y[0]),w=t.kna(z,v),x.push({Bd:w,gl:!0,data:k.concat(this.wc.ya())}),x);}};t.jJ={};return t;})();b.Er=a;a.jJ[p.CF]=r.default;a.jJ[p.DF]=h.default;},function(r){r.exports=function f(a,c){var k;a.__proto__ && a.__proto__ !== Object.prototype && f(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(m){k=Object.getOwnPropertyDescriptor(a,m);void 0 !== k && Object.defineProperty(c,m,k);});};},function(r,b,a){var c,f,k,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(153);k=a(275);m=a(90);r=a(1027);d=(function(){function g(h){h?(this.Mf=h.Mf.slice(),this.mh=h.mh.slice(),this.Vd=h.Vd.slice(),this.trim=h.trim):(this.Mf=[],this.mh=[],this.Vd=[]);}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.Mf.length && 0 === this.mh.length && 0 === this.Vd.length;},enumerable:!0,configurable:!0}});return g;})();r=(function(g){function h(l,n,q){l=g.call(this,l,n,q) || this;l.xV=[];l.rb=new d();return l;}c.__extends(h,g);h.lja=function(l,n){if(n.offset + n.size <= l.byteLength)switch(n.size){case 1:l.setUint8(n.offset,n.value);break;case 2:n.tv?l.setInt16(n.offset,n.value):l.setUint16(n.offset,n.value);break;case 4:n.tv?l.setInt32(n.offset,n.value):l.setUint32(n.offset,n.value);break;case 8:f.assert(!n.tv);l.setUint32(n.offset,Math.floor(n.value / 4294967296));l.setUint32(n.offset + 4,n.value & 4294967295);break;default:f.assert(!1);}};Object.defineProperties(h.prototype,{Nz:{get:function(){return !this.rb.empty;},enumerable:!0,configurable:!0}});h.prototype.KB=function(l,n){this.rb.mh.push({offset:void 0 !== n?n:this.offset,value:l,size:1});void 0 === n && (this.offset+=1);};h.prototype.Eza=function(l,n){this.rb.mh.push({offset:void 0 !== n?n:this.offset,value:l,size:2,tv:!1});void 0 === n && (this.offset+=2);};h.prototype.kh=function(l,n){this.rb.mh.push({offset:void 0 !== n?n:this.offset,value:l,size:4,tv:!1});void 0 === n && (this.offset+=4);};h.prototype.Fza=function(l,n){this.rb.mh.push({offset:void 0 !== n?n:this.offset,value:l,size:8,tv:!1});void 0 === n && (this.offset+=8);};h.prototype.Q_=function(l){this.kh(m.VS(l));};h.prototype.$J=function(l,n){this.rb.Vd.push({offset:this.offset,Il:l,value:n});this.offset+=4;};h.prototype.Je=function(l,n,q){this.rb.Mf.push({offset:n,remove:l,fb:q});};h.prototype.kv=function(l,n,q,p){this.rb.Mf.push({offset:q,remove:l,replace:n,fb:p});};h.prototype.trim=function(l){this.rb.trim=l;};h.prototype.pva=function(){this.xV.push(new d(this.rb));};h.prototype.Nua=function(){this.rb=this.xV.pop() || new d();};h.prototype.ya=function(){var l,n,q,p,u,t,w;l=this;if(0 === this.rb.Mf.length && 0 === this.rb.mh.length && 0 === this.rb.Vd.length)return [void 0 === this.rb.trim?this.view.buffer:this.view.buffer.slice(0,this.rb.trim)];this.rb.Mf.sort(function(v,x){return v.offset - x.offset;});this.rb.mh.sort(function(v,x){return v.offset - x.offset;});this.pwa();n=this.hna();q=this.view.buffer.slice(0,n);p=new DataView(q);this.rb.mh.forEach(h.lja.bind(void 0,p));this.Wya(p);this.Uya(p);u=[];t=void 0 !== this.rb.trim?Math.min(this.rb.trim,this.view.byteLength):this.view.byteLength;w=0;this.rb.Mf.filter(function(v){return v.offset <= t;}).forEach(function(v){v.offset > w && (u.push(p.buffer.slice(w,v.offset)),v.offset > p.byteLength && p !== l.view && (p=l.view,u.push(p.buffer.slice(n,v.offset))));v.replace && u.push(v.replace);w=v.offset + v.remove;});w < n && u.push(q.slice(w));w < t && u.push(this.view.buffer.slice(Math.max(q.byteLength,w),t));return u;};h.prototype.hna=function(){var l,n,q;l=[];n=this.rb.mh[this.rb.mh.length - 1];q=this.rb.Vd[this.rb.Vd.length - 1];n && l.push(n.offset + n.size);q && l.push(q.offset + 4);this.rb.Mf.filter(function(p){return p.fb;}).forEach(function(p){return l.push(p.fb.byteOffset + 4);});n=Math.max.apply(void 0,l);return void 0 !== this.rb.trim?Math.min(n,this.rb.trim):n;};h.prototype.pwa=function(){this.rb.Mf=this.rb.Mf.reduce(function(l,n){var q,p;if(0 === l.length)return (l.push(n),l);q=l[l.length - 1];p=q.offset + q.remove;n.offset >= p?l.push(n):n.offset + n.remove > p && (f.assert(q.fb === n.fb),q.remove+=n.offset + n.remove - p,n.replace && (q.replace=q.replace?k.concat(q.replace,n.replace):n.replace));return l;},[]);};h.prototype.Wya=function(l){var n;n=this;this.rb.Vd.forEach(function(q){var p,u,t,w;p=l;u=q.offset;n.rb.Mf.some(function(v){return v.offset <= q.offset && v.replace && v.offset + v.replace.byteLength >= q.offset + 4?(p=new DataView(v.replace),u=q.offset - v.offset,!0):!1;});t=q.Il + (void 0 !== q.value?q.value:p.getInt32(u));w=n.rb.Mf.reduce(function(v,x){return x.offset > q.Il && x.offset < t?v + (x.remove - (x.replace?x.replace.byteLength:0)):v;},0);p.setInt32(u,t - q.Il - w);});};h.prototype.Uya=function(l){this.rb.Mf.forEach(function(n){var q;q=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== q)for(n=n.fb;n;){l.setUint32(n.byteOffset,l.getUint32(n.byteOffset) - q);n=n.parent;}});};return h;})(r.Yfa);b.Xfa=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(154);a(154);f=a(90);r=(function(){function k(m,d,g){this.view=m;this.console=d;this.config=g;this.view=m;this.console=d;this.Vn=this.iz=this.offset=0;}k.prototype.ioa=function(m){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,m);};k.prototype.yc=function(m){for(;this.Vn < m;){this.iz=(this.iz << 8) + this.sb();this.Vn+=8;}this.Vn-=m;return this.iz >>> this.Vn & (1 << m) - 1;};k.prototype.sb=function(){var m;m=this.view.getUint8(this.offset);this.offset+=1;return m;};k.prototype.$c=function(m){m=this.view.getUint16(this.offset,m);this.offset+=2;return m;};k.prototype.Ca=function(m){m=this.view.getUint32(this.offset,m);this.offset+=4;return m;};k.prototype.WI=function(){var m;m=this.view.getInt32(this.offset,void 0);this.offset+=4;return m;};k.prototype.pua=function(m,d){var g;g=this.view.getUint32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === (g & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * g + m;};k.prototype.Wd=function(m,d){m=this.pua(m,d);this.offset+=8;return m;};k.prototype.qua=function(m,d){var g;g=this.view.getInt32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === ((0 < g?g:-g) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * g + m;};k.prototype.Dva=function(){var m;m=this.qua(void 0,void 0);this.offset+=8;return m;};k.prototype.Vl=function(){return f.Bo(this.Ca());};k.prototype.gB=function(){var d,g,h,l,n,q;function m(p,u){return ("000000" + p.toString(16)).slice(2 * -u);}d=this.Ca(!0);g=this.$c(!0);h=this.$c(!0);l=this.$c();n=this.$c();q=this.Ca();return [m(d,4),m(g,2),m(h,2),m(l,2),m(n,2) + m(q,4)].join("-");};k.prototype.Ava=function(m){var d;d=this.view.byteOffset + this.offset;return this.view.buffer.slice(d,d + m);};k.prototype.yva=function(m){var d;d=[];if(0 === m)return "";m=m || Number.MAX_SAFE_INTEGER;for(var g=this.sb();0 !== g && 0 <= --m;){d.push(g);g=this.sb();}return String.fromCharCode.apply(null,d);};k.prototype.eB=function(m){var d,g;void 0 === d && (d=1);void 0 === g && (g=!0);return this.Xh(this.config.FB && c.wpa || c.Fq,1,m,d,g);};k.prototype.wva=function(m,d,g){var h;void 0 === d && (d=2);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.Xh(this.config.FB && c.upa || c.cA,2,m,d,g,h);};k.prototype.dB=function(m,d,g){var h;void 0 === d && (d=4);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.Xh(this.config.FB && c.vpa || c.vu,4,m,d,g,h);};k.prototype.Bva=function(){for(var m=this.sb(),d=m & 127;m & 128;){m=this.sb();d=d << 7 | m & 127;}return d;};k.prototype.Xh=function(m,d,g,h,l,n){void 0 === l && (l=!0);void 0 === n && (n=!1);m=m(this.view,this.offset,g,h,n);this.offset=l || !h || h === d?this.offset + g * (h || d):this.offset + d;return m;};return k;})();b.Yfa=r;},function(r,b,a){var k,m,d,g;function c(h,l,n,q){m.call(this,h,l,n,q);}function f(h,l,n){m.call(this,h,l,n,void 0);}k=a(106);m=a(276).Cr;d=a(443);g=a(90).VS;c.prototype=Object.create(m.prototype);f.prototype=Object.create(c.prototype);f.prototype.bha=function(h,l){return "string" === typeof l?d[l]:l?d.reset[h] || d.Hxa[h]:d.Hxa[h];};f.prototype.Vva=function(h,l,n){return this.ya(h,l,!1,n,void 0);};f.prototype.Zva=function(h,l,n){return this.ya(h,l,!0,n,void 0);};f.prototype.ya=function(h,l,n,q,p){var t,w,v,x,y,z,A,B,E,D,F,G,C,H;function u(K){w=t[K];v=w.ai("traf");if(void 0 === v || void 0 === v.kk)return !1;A=v.ai("tfdt");if(void 0 === A)return !1;x=v.ai("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;t=this.Xa.moof;if(!t || 0 === t.length)return !1;if(void 0 !== h){y=h;for(h=0;h < t.length;++h){if(!u(h,this.wc.console.trace))return !1;if(x.Ob > y || n && x.Ob === y)break;y-=x.Ob;}}else if((h=n?t.length - 1:0,!u(h,this.wc.console.trace)))return !1;if(n && h < t.length - 1){z=t[h + 1];this.wc.Je(this.lBb - z.startOffset,z.startOffset);}else !n && 0 < h && this.wc.Je(w.startOffset,0);z=v.ai("tfhd");if(void 0 === z)return !1;A=v.ai("tfdt");B=x.Ob;E=v.ai("saiz");D=v.ai("saio");F=v.ai(k.jS);G=v.ai("sbgp");if(!(!E && !D || E && D))return !1;C=v.ai("sdtp");if(this.Xa.mdat && h < this.Xa.mdat.length)H=this.Xa.mdat[h];else if(h !== t.length - 1)return !1;void 0 === y && (y=n?x.Ob:0);if(x.ya(v,z,H || this.wc,l,y,v.kk,n))x.Nz && (!n && A && A.ya(x.Fxa),E && D && (E.ya(x.hr,n),D.ya(F?0:E.gJ,v.kk,n)),F && F.ya(x.hr,n),C && C.ya(x.hr,B,n),G && G.ya(x.hr,n));else if(!n){if(h === t.length - 1)return !1;this.wc.Je(t[h + 1].startOffset - w.startOffset,w.startOffset);}else if(0 === x.hr)return !1;q && (l=this.bha(this.stream.profile,p)) && x.cwa(v,z,H,n,q,l);n=this.wc.ya();q=n.reduce(function(K,M){return K + M.byteLength;},0);n={Od:n,length:q,eo:this.wc.view.byteLength};x.Nz && !H && (n.Zq=v.kk + x.Zq,n.ij=x.ij);return n;};r.exports={Dr:f,EA:function(h){var l,n;l=new ArrayBuffer(8);n=new DataView(l);n.setUint32(0,h + 8);n.setUint32(4,g("mdat"));return l;}};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(276);f=a(275);a=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.ya=function(d){var g,h,l,n;g=this;if(!this.parse().done)return !1;h=this.Xa.moov;if(!h || 0 === h.length)return !1;l=h[0].Nl("tenc");if(!l)return !1;n=new Uint8Array(l.wj);d.forEach(function(q){for(var p=q.from,u=!0,t=0;t < p.length;t++){if(n[t] !== p[t]){u=!1;break;}}u && g.wc.kv(q.from.length,q.to,l.aI);});return f.concat(this.wc.ya());};return m;})(r.Cr);b.zK=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.Xj || (b.Xj={});r[r.Xb=0]="AUDIO";r[r.Pb=1]="VIDEO";},function(r,b,a){var d,g,h,l,n,q,p,u,t,w,v,x;function c(y,z,A){this.hV=z;this.Ic=y.filter(function(B){return B.Kya[p.Dl.i2];}).map(function(B){return {track:B,stream:B.Kya[p.Dl.i2],id:B.nWa[p.Dl.i2]};});A || (this.Ic=this.Ic.filter(function(B){return B.track.xg === z;}));}function f(y,z,A){var B;this.GJ=z;this.Qu=A;B=y[0];this.QJ=B.streams.map(function(E){return {track:B,UN:E.Fab,stream:E};});}function k(y,z,A,B,E){function D(F,G){return F.bitrate > G.bitrate?F:G;}this.log=y;this.GJ=A;this.hV=B;this.QJ=z.map(function(F){var G;G=F.streams.reduce(D);return {track:F,UN:G.tB?G.tB.offset + G.tB.size:void 0,stream:G};});E || (this.QJ=this.QJ.filter(function(F){return F.track.xg === B;}));}function m(y,z,A,B,E,D){this.dLb=y;this.eLb=z;this.vVb=A;this.rwb=B;this.NH=E;this.cg=D;this.wa=D.mb("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.tmb=b.Fmb=b.Neb=b.lEa=void 0;r=a(1);d=a(0);g=a(267);h=a(436);l=a(438);n=a(3);q=a(40);p=a(45);u=a(446);t=a(447);w=a(266);v=a(7);x=a(1032);m.prototype.ri=function(y,z){var A,B,E,D,F,G;A=this;D=y.Nb;y=this.LGb(D,z);F=this.iKb(D,z);G=null !== (E=null === (B=D.TY) || void 0 === B?void 0:B.mQ) && void 0 !== E?E:D.i_.find(function(C){var H;return C.id === (null === (H=D.p5) || void 0 === H?void 0:H[0].ibb);}).xg;B=new c(D.i_,G,this.NH.bja);return Promise.all([y,F,B]).then(function(C){var H,K;H=ba(C);C=H.next().value;K=H.next().value;H=H.next().value;C={audio:C.getMetadata(),video:K.getMetadata(),text:H.getMetadata(),yVa:C.joa(),SBb:H.joa(),duration:D.duration,tl:D.tl};K=A.rwb.jHb(C);z("h_s");return {UPb:A.vVb.transform(C,K),uwb:K,Y0b:C};});};m.prototype.iKb=function(y,z){var A;A=new f(y.JB,this.NH.H0a,this.NH.Qu);return this.hWa(A.QJ,g.Xj.Pb,z).then(function(B){A.exa(B);return A;});};m.prototype.LGb=function(y,z){var A,B,E,D;E=null !== (B=null === (A=y.TY) || void 0 === A?void 0:A.Dn) && void 0 !== B?B:y.Qt.find(function(F){var G;return F.id === (null === (G=y.p5) || void 0 === G?void 0:G[0].Dn);}).xg;D=new k(this.wa,y.Qt,this.NH.ix,E,this.NH.bja);return this.hWa(D.QJ,g.Xj.Xb,z).then(function(F){D.exa(F);return D;});};m.prototype.hua=function(y,z,A,B){if(y=this.eLb.parse(z,y,A))return y;this.wa.error("Failed to parse headers",{type:z === g.Xj.Xb?"audio":"video",downloadableId:B.stream.ds});};m.prototype.hWa=function(y,z,A){var B;B=this;return Promise.all(y.map(function(E,D){if(E.UN)return B.dLb.download({urls:E.stream.urls,offset:0,length:E.UN}).then(function(F){A("h_" + (0 === z?"A":"V") + "_" + D + "_s");return B.hua(F,z,z == g.Xj.Xb?B.NH.ix:B.NH.OA,E);}).catch(function(){A("h_" + E.track.xl[0] + "_" + D + "_f");B.wa.warn("Failed to download and parse headers for " + E.stream.ds);});B.wa.warn("Stream data offset is missing",{downloadableId:E.stream.ds});}));};a=m;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(h.AEa)),r.__param(1,(0,d.l)(l.EEa)),r.__param(2,(0,d.l)(u.oEa)),r.__param(3,(0,d.l)(t.CBa)),r.__param(4,(0,d.l)(w.xda)),r.__param(5,(0,d.l)(v.ub))],a);b.lEa=a;k.prototype.exa=function(y){var z;z=this;if(!y.find(function(A){return void 0 !== A;}))throw q.od.Ydb(n.N.iFa,n.M.hea);this.Ic=this.QJ.map(function(A,B){if(B=y[B])return {track:A.track,stream:A.stream,Y:B,GJ:z.GJ};}).filter(x.Vqa);};k.prototype.getMetadata=function(){return this.Ic;};k.prototype.joa=function(){var y,z;y=this;if(!this.Ic.find(function(A){return A.track.xg === y.hV;}) && 0 < this.Ic.length){z=this.Ic[0].track.xg;this.log.warn("Did not find metadata for audio track " + this.hV + ", falling back to " + z);return z;}return this.hV;};b.Neb=k;f.prototype.exa=function(y){var z,A;z=this;if(!y.find(function(B){return void 0 !== B;}))throw q.od.Ydb(n.N.iFa,n.M.iea);A=this.QJ.map(function(B,E){if(E=y[E])return {track:B.track,stream:B.stream,Y:E,GJ:z.GJ};}).filter(x.Vqa);this.Ic=this.YIb(A);};f.prototype.getMetadata=function(){return this.Ic;};f.prototype.YIb=function(y){var z,A,B;z=this;y.sort(function(E){return E.stream.bitrate;});A=y.findIndex(function(E){var D;return (null !== (D=E.stream.xb) && void 0 !== D?D:0) >= z.Qu;});if(-1 !== A && A !== y.length - 1){B=y[A];y.splice(A,1);y.push(B);}y.reverse();return y;};b.Fmb=f;c.prototype.joa=function(){return this.hV;};c.prototype.getMetadata=function(){return this.Ic;};b.tmb=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vqa=void 0;b.Vqa=function(a){return void 0 !== a && null !== a;};},function(r,b,a){var f,k,m,d,g,h;function c(l){this.wa=l.mb("HLSPlaylistTransformerImpl");this.Y4b=d.I0.Ro();this.tub=g.hda.Ro();}Object.defineProperty(b,"__esModule",{value:!0});b.nEa=void 0;r=a(1);f=a(0);k=a(7);m=a(132);d=a(277);g=a(448);h=[0,1];c.prototype.transform=function(l,n){var q,p,u,t,w,v,x,y,z;q=this;p=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];u=l.text;t=l.audio;w=l.video;v=l.duration;x=l.yVa;y=l.SBb;u.forEach(function(A){h.forEach(function(B){var E,D,F,G;E=0 === B;D=A.stream;F=A.track;G=n.get(A.id);E=E?G.iP:G.vaa;D=q.VJb({url:E.url,duration:v / 1E3,size:D.size,xm:"Manifest for subtitles " + F.language + ' stream "' + F.XD + '", ' + F.xg + ", cdn " + E.lq});q.wa.trace("Text variant manifest",D.join("\n"));B=q.WJb({groupId:B,name:F.XD,Eqa:F.xg === y,ip:F.h8,RMb:F.xl === m.Np.fca,language:F.language,uri:q.Q8(D)});p.push(B);});});t.forEach(function(A){h.forEach(function(B){var E,D,F,G,C,H;E=0 === B;D=A.stream;F=A.track;G=A.Y;C=A.GJ;H=n.get(D.ds);E=E?H.iP:H.vaa;D=q.$Za({url:E.url,UN:D.tB.offset + D.tB.size,Y:G,xbb:Math.floor(C / 1E3),xm:"Manifest for audio " + F.language + ' stream "' + F.XD + '", ' + F.xg + ", cdn " + E.lq});q.wa.trace("Audio variant manifest",D.join("\n"));B=q.MGb({groupId:B,language:F.language,name:F.XD,Eqa:F.xg === x,uri:q.Q8(D)});p.push(B);});});z=this.tub[t[0].track.profile];w.forEach(function(A){h.forEach(function(B){var E,D,F,G,C,H;E=0 === B;D=A.stream;F=A.track;G=A.Y;C=A.GJ;H=n.get(D.ds);H=E?H.iP:H.vaa;E=0 < u.length;F=q.$Za({url:H.url,UN:D.tB?D.tB.offset + D.tB.size:D.Fab,Y:G,xbb:Math.floor(C / 1E3),xm:"Manifest for video bitrate " + D.bitrate + ", stream " + F.xg + ", cdn " + H.lq});q.wa.trace("Video variant manifest",F.join("\n"));B=q.jKb({groupId:B,uU:1E3 * D.bitrate,Hub:1E3 * D.bitrate,tNb:0 <= D.YG.indexOf("-hdr-") || 0 <= D.YG.indexOf("-dv5-"),framerate:(D.oYa / D.nYa).toFixed(3),eJ:D.t9a + "x" + D.u9a,U4b:q.Y4b[D.YG],oub:z,$1b:E});p.push(B);B=q.Q8(F);p.push("" + B);});});this.wa.trace("Primary manifest",p.join("\n"));return this.Q8(p);};c.prototype.MGb=function(l){var n;n=l.Eqa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + l.groupId + '"','CHANNELS="2"','LANGUAGE="' + l.language + '"','NAME="' + l.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),'URI="' + l.uri + '"'].join(", ");};c.prototype.$Za=function(l){var n;n=["#EXTM3U","# " + l.xm,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + l.xbb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + l.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + l.UN + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];l.Y.forEach(function(q,p){n.push("#EXTINF:" + q.duration.toFixed(3) + "," + q.$.toFixed(3));n.push("#EXT-X-BYTERANGE:" + q.Cvb + "@" + q.byteOffset);n.push("{$U}&fi=" + p);});n.push("#EXT-X-ENDLIST");return n;};c.prototype.jKb=function(l){var n,q;n=l.groupId;q=["#EXT-X-STREAM-INF:BANDWIDTH=" + l.uU,"AVERAGE-BANDWIDTH=" + l.Hub,"VIDEO-RANGE=" + (l.tNb?"PQ":"SDR"),"FRAME-RATE=" + l.framerate,'AUDIO="group_' + n + '"',"RESOLUTION=" + l.eJ,'CODECS="' + l.U4b + "," + l.oub + '"'];l.$1b && q.push('SUBTITLES="subs_' + n + '"');return q.join(", ");};c.prototype.VJb=function(l){var n;n=l.duration;return ["#EXTM3U","# " + l.xm,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(n),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + l.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + n.toFixed(3),"#EXT-X-BYTERANGE:" + l.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.WJb=function(l){var n,q,p;n=l.Eqa;q=l.language;p=l.uri;n=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + l.groupId + '"','NAME="' + l.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),"FORCED=" + (l.ip?"YES":"NO")];l.RMb && n.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');n.push('LANGUAGE="' + q + '"');n.push('URI="' + p + '"');return n.join(", ");};c.prototype.Q8=function(l){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(l.join("\n"));};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.ub))],a);b.nEa=a;},function(r,b,a){var f,k,m,d,g;function c(h,l){var q;function n(){q.nua.then(function(p){q.wa.trace("Unloading PBO Playdata Services");p.close();});d.we.removeListener(d.Pl,n);}q=this;this.c7a=l;this.nua=l();this.wa=h.mb("PlayerPlaydataMonitorImpl");d.we.addListener(d.Pl,n);}Object.defineProperty(b,"__esModule",{value:!0});b.cKa=void 0;r=a(1);f=a(0);k=a(7);m=a(156);d=a(62);g=a(15);c.prototype.xp=function(h,l){this.nua.then(function(n){n.xp(l,!0,function(q){return h.close(q);});n.Nxa(l);h.addEventListener(g.Fa.Lua,function(){h.Jq() && n.k$a(l).catch(function(q){(q=q.dP) && h.close(q);});});h.addEventListener(g.Fa.$l,function(){n.Daa(l).catch(function(q){(q=q.dP) && h.close(q);});});h.addEventListener(g.Fa.rm,function(){n.Daa(l).catch(function(q){(q=q.dP) && h.close(q);});});});};c.prototype.QZ=function(h){return this.nua.then(function(l){l.Rab();return l.QZ(h).catch();});};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.ub)),r.__param(1,(0,f.l)(m.oS))],a);b.cKa=a;},function(r,b,a){var f,k,m,d;function c(g){this.Osa={};this.M7={};this.B8=-1;this.aya=new m.ec(null);this.Vua=new m.ec(null);this.wa=g.mb("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.eMa=void 0;r=a(1);f=a(0);k=a(42);m=a(80);a=a(7);c.prototype.Fb=function(g,h,l){var n;n=this;g.forEach(function(q){q.stream.urls.forEach(function(p){n.Osa[p.url]=[q,p.lq];});});this.Wla=h;this.KBb=l;new PerformanceObserver(function(q){n.E3b(q.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.A$a=function(g){var h,l,n;if(this.Wla){l=this.P6(g);if(l !== this.B8){for(this.B8=l;0 <= l && !this.M7[l];){l--;}n=ba(null !== (h=this.M7[l]) && void 0 !== h?h:[this.Wla,this.KBb]);h=n.next().value;n=n.next().value;this.wa.debug("Setting time to " + g + ", using metadata from fragment " + l + " for " + ((0,k.G4a)(h.track.type) + " track with bitrate ") + (h.stream.bitrate + " from cdn " + n));g=h.Y[this.B8];l=g.$;this.Vua.set({stream:h,um:{startTime:Math.floor(1E3 * l),endTime:Math.floor(1E3 * (l + g.duration))},cD:n});}}};c.prototype.P6=function(g){var h,l,n,q,p;h=this.Wla.Y;g/=1E3;l=0;n=h.length - 1;if(g >= h[n].$)return n;for(;n >= l;){q=l + Math.floor((n - l) / 2);p=h[q];if(g < p.$)n=q - 1;else if(g >= p.$ + p.duration)l=q + 1;else return q;}return h.length - 1;};c.prototype.E3b=function(g){var h;h=this;g.filter(function(l){return "video" === l.initiatorType;}).forEach(function(l){var n,q,p;n=l.name.indexOf("&fi=");if(0 < n){q=l.name.substring(0,n);n=Number(l.name.substring(n + 4));if(h.Osa[q]){p=ba(h.Osa[q]);l=p.next().value;p=p.next().value;q && !Number.isNaN(n) && l && (h.M7[n] && (h.B8=-1),h.M7[n]=[l,p],q=l.Y[n].$,!1,h.aya.set(l,{OG:Math.floor(1E3 * q),cD:p}));}}});};d=c;d=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.ub))],d);b.eMa=d;},function(r,b,a){var f,k,m,d;function c(g){return k.af.call(this,g,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.HEa=void 0;r=a(1);f=a(0);k=a(47);m=a(37);a=a(46);na(c,k.af);Ya.Object.defineProperties(c.prototype,{G7a:{configurable:!0,enumerable:!0,get:function(){return !0;}},ix:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},OA:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},H0a:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},Qu:{configurable:!0,enumerable:!0,get:function(){return 80;}},bja:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([a.config(a.cd,"playsInline")],d.prototype,"G7a",null);r.__decorate([a.config(a.PD,"minAudioMediaRequestDuration")],d.prototype,"ix",null);r.__decorate([a.config(a.PD,"minVideoMediaRequestDuration")],d.prototype,"OA",null);r.__decorate([a.config(a.PD,"hlsVideoMediaRequestTargetDuration")],d.prototype,"H0a",null);r.__decorate([a.config(a.PD,"minStartingVideoVMAF")],d.prototype,"Qu",null);r.__decorate([a.config(a.cd,"allowMultipleAudioTextTracks")],d.prototype,"bja",null);d=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.fm))],d);b.HEa=d;},function(r,b,a){var f,k;function c(m){this.wa=m.mb("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.BBa=void 0;r=a(1);f=a(0);a=a(7);c.prototype.jHb=function(m){var g,h,l,n,q,p,u;function d(t,w,v){var x,y,z;x=t.map(function(A){return A.lq;});x.sort(function(A,B){return w[A] - w[B];});if(1 === x.length)(!1,l.set(v,{iP:t[0],vaa:t[0]}));else {y=x.find(function(A){return g.has(A);});y || ((y=x.find(function(A){return !h.has(A);}))?g.add(y):(y=x[0],!1));z=x.find(function(A){return h.has(A) && A !== y;});z || ((z=x.find(function(A){return !g.has(A) && A !== y;}))?h.add(z):(z=x.find(function(A){return A !== y;}),!1));l.set(v,{iP:t.find(function(A){return A.lq === y;}),vaa:t.find(function(A){return A.lq === z;})});}}g=new Set();h=new Set();l=new Map();n=m.video;q=m.audio;p=m.text;u=m.tl.reduce(function(t,w){t[w.id]=w.dc;return t;},{});n.forEach(function(t){t=t.stream;d(t.urls,u,t.ds);});q.forEach(function(t){t=t.stream;d(t.urls,u,t.ds);});p.forEach(function(t){var w,v;if(!t.track.TD || t.track.h8){w=t.track;v=t.id;t=Object.entries(t.stream.Jw).map(function(x){var y;y=ba(x);x=y.next().value;y=y.next().value;return {lq:Number(x),url:y};});w=w.lTa.reduce(function(x,y){x[y.id]=y.dc;return x;},{});d(t,w,v);}});return l;};k=c;k=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.ub))],k);b.BBa=k;},function(r,b,a){var f,k,m,d,g,h,l;function c(n,q,p,u,t){this.cg=n;this.zA=q;this.bg=p;this.vc=u;this.Da=t;}Object.defineProperty(b,"__esModule",{value:!0});b.VR=void 0;r=a(1);f=a(0);k=a(19);m=a(7);d=a(50);g=a(187);h=a(87);l=a(1039);c.prototype.create=function(n){return new l.XR(this.cg,this.zA,this.bg,this.Da,this.vc,n);};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.ub)),r.__param(1,(0,f.l)(h.iy)),r.__param(2,(0,f.l)(d.ln)),r.__param(3,(0,f.l)(g.Yda)),r.__param(4,(0,f.l)(k.md))],a);b.VR=a;},function(r,b,a){var f,k,m,d,g,h,l;function c(n,q,p,u,t,w){var v;v=this;this.zA=q;this.bg=p;this.Da=u;this.vc=t;this.Rsa=this.QD=this.dZ=0;this.dI=!1;this.eE=function(){var x;x=v.uY();x.prstate=v.aA();x.paustate=v.j.VW();x.midplayseq=v.Rsa++;v.vc.XN(x);v.Jc(f.ed.eE,void 0,l.Ae | l.yt,x);};this.oi=function(){v.Jc(f.ed.ESa,void 0,l.Ae | l.Fp,{});};this.$l=function(x){v.zra=v.getTime();v.Ara=x.oldValue;};this.mU=function(x){v.lra=x.oldValue;};this.u$=function(x){x != v.dI && (v.Pxa(v.dI,x),v.dI=x);};this.Pxa=function(x,y){var z;z=v.j.xa;x={newstate:y?"Paused":"Playing",oldstate:x?"Paused":"Playing"};v.vc.Gq(x,z.re.value && z.re.value.stream,z.pf.value && z.pf.value.stream);v.Jc(f.ed.Pab,void 0,l.Ae,x);};this.KZ=function(x){v.Jc(f.ed.Dab,void 0,l.Ae,{speedold:Math.floor(1E3 * x.oldValue),speed:Math.floor(1E3 * x.newValue)});};this.yB=function(x){var y,z,A;y=v.j.xa;z=y.kc.value;if(x.newValue || z && z.Iq() && !z.ip()){A=(x=null !== (A=x.newValue) && void 0 !== A?A:z)?{trackId:x.trackId,bcp47:x.Vf,downloadableId:x.Dc,rank:x.dc,isImageBased:x.wk}:{};x=(x=v.Ara)?{trackId:x.trackId,bcp47:x.Vf,downloadableId:x.Dc,rank:x.dc,isImageBased:x.wk}:{};A={switchdelay:(0,k.Yf)(v.getTime() - v.zra),track:A,oldtrack:x};v.vc.Gq(A,y.re.value && y.re.value.stream,y.pf.value && y.pf.value.stream);v.Jc(f.ed.Tbb,void 0,l.Ae,A);}};this.Aua=function(x,y){var z;z=v.j.xa;x={waittime:(0,k.Yf)(x),abortedevent:"resumeplay",resumeplayreason:y};v.vc.Gq(x,z.Ye.value,z.th.value);v.Jc(f.ed.E$,void 0,l.Ae | l.Fp,x);};this.CP=function(x,y,z){x={playdelay:(0,k.Yf)(x),reason:z,intrplayseq:v.QD - 1,skipped:y};"repos" === z && (x.prstate=!0 === v.j.Gj.value?"playing":"paused");v.Jc(f.ed.CP,void 0,l.Ae | l.xt,x);};this.zja=function(){var x,y,z,A;y=v.j.xa.tc.value;z=v.j.xa.th.value.Dc;y=y?{trackId:y.trackId,bcp47:y.Vf,downloadableId:z,rank:y.dc,chan:y.channels}:{};z=v.vA;A=null === (x=v.lra) || void 0 === x?void 0:x.Dc;x=z?{trackId:z.trackId,bcp47:z.Vf,downloadableId:A,rank:z.dc,chan:z.channels}:{};v.Jc(f.ed.iSa,void 0,l.Ae,{switchdelay:(0,k.Yf)(v.getTime() - v.mra),track:y,oldtrack:x});};this.rm=function(x){v.mra=v.getTime();v.vA=x.oldValue;};this.Bua=function(){var x,y,z;x=v.j.xa;y={abortedevent:"startplay",trackid:x.Pj,prstate:v.aA(),paustate:v.j.VW()};try{z=(0,m.FH)();z && (y.pdltime=z);(0,k.ac)(y,x.Sc,{prefix:"sm_"});}catch(A){}v.vc.L7(y,x);v.vc.YN(y,x.Ag.value);v.vc.Gq(y,x.Ye.value,x.th.value);v.RH(y);v.Jc(f.ed.E$,void 0,l.Ae | l.yt | l.Fp,y);};this.AM=function(x,y,z,A){x={moff:(0,k.Yo)(z),moffms:(0,k.Yf)(z),vbitrate:y.bitrate,vbitrateold:x.bitrate,vdlid:y.Dc,vdlidold:x.Dc,vheight:y.height,vheightold:x.height,vwidth:y.width,vwidthold:x.width,bw:A};v.Jc(f.ed.AM,void 0,0,x);};this.uP=function(x,y,z){x={moffold:(0,k.Yo)(x),reposseq:v.dZ++,prstate:v.aA(),paustate:v.j.VW()};v.vc.Gq(x,z && z.stream,y && y.stream);v.Jc(f.ed.uP,void 0,l.Ae,x);};this.LE=function(x){var y,z,A,B,E;B=x.xa;E={playdelaysdk:(0,k.Yf)(v.j.EU()),applicationPlaydelay:(0,k.Yf)(v.j.ika()),playdelay:(0,k.Yf)(v.j.kka()),trackid:B.Pj,bookmark:(0,k.Yf)(B.Aw || 0),pbnum:B.index};v.j.oi && (E.blocked=v.j.oi);E.initvbitrate=v.j.OW;v.vc.kqa(E);v.vc.X0a(E);E.esnSource=null === (y=nb._cad_global.device) || void 0 === y?void 0:y.S5;v.g1a(E,B);E.pdltime=(0,m.FH)();(0,k.ac)(E,B.Sc,{prefix:"sm_"});E.ttTrackFields=null === (z=B.kc.value) || void 0 === z?void 0:z.Uh;v.vc.T0a(E,B.tc.value);v.vc.YN(E,B.Ag.value);E.packageId=null === (A=B.oa) || void 0 === A?void 0:A.Nb.op;v.vc.XN(E);v.vc.L7(E,B);v.RH(E);v.Jc(f.ed.LE,x.Nh,l.Ae | l.xt | l.yt | l.hF | l.Fp,E);};this.nH=function(){var x,y,z;x=v.j;y=x.xa;x=x.Nh;z=v.uY();z.paustate=!v.j.Jq();z.muted=v.j.Nqa();z.endreason=x?"error":v.j.Gqa()?"ended":"stopped";v.vc.YN(z,y.Ag.value);v.vc.XN(z);v.RH(z);v.Jc(f.ed.nH,x,l.Ae | l.xt | l.yt | l.hF | l.Fp,z);};this.awa=function(x,y,z){var A;A=v.j.xa.pf;x={moff:(0,k.Yo)(z),moffms:(0,k.Yf)(z),vdlidold:x.Dc,vbitrateold:x.bitrate};v.vc.Gq(x,y,A.value && A.value.stream);v.Jc(f.ed.b9a,void 0,0,x);};this.aA=function(){var x;x=v.j.Bb.value;return x === g.hb.Lc?"playing":x === g.hb.qh?"paused":x === g.hb.xr?"ended":"waiting";};this.wa=n.mb("LogblobBuilderImpl");this.j=w;}Object.defineProperty(b,"__esModule",{value:!0});b.XR=void 0;f=a(278);k=a(24);m=a(49);d=a(3);g=a(15);h=a(5);c.prototype.getTime=function(){return this.Da.Zb().da(h.la);};c.prototype.cpa=function(){return this.getTime() - this.j.xa.ej.da(h.la);};c.prototype.g1a=function(n,q){var p;if(q=null === (p=q.Ag.value) || void 0 === p?void 0:p.streams)(n.maxbitrate=(0,m.PQ)(q.map(function(u){return u.bitrate;})),n.maxresheight=(0,m.PQ)(q.map(function(u){return u.height;})));};c.prototype.RH=function(n){n.cachedManifest="notcached";n.cachedLicense="notcached";n.usedldl="false";};c.prototype.uY=function(){var n,q,p,u;n=this.j.xa;q=n.Ul;p={totaltime:(0,k.Yo)(q.NN()),totalcontenttime:(0,k.Yo)(q.rpa()),reposcount:this.dZ,intrplaycount:this.QD};p.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});u=n.Ye.value;u && (p.videofr=u.framerate.toFixed(3));(u=q.$na()) && (p.abrdel=u);(u=q.r0a() && q.DYa()) && (p.tw_vmaf=u);(q=q.BYa()) && (0,k.ac)(p,q);p.rbfrs=this.QD;this.g1a(p,n);return p;};c.prototype.Jc=function(n,q,p,u){var t,w,v;t=this;q && (0,d.nda)(q.errorCode,this.cpa()) && (w="info");v=this.j.xa;this.Hia(u,q,p);q=w || (q?"error":"info");u=this.zA.$t(n,q,u,v);this.bg.Jc(u);"error" !== q && n !== f.ed.nH || this.bg.flush(!1).catch(function(){t.wa.debug("Failed to flush the logblobs");});};c.prototype.Hia=function(n,q,p){var u;u=this.j.xa;this.vc.W0a(n,u);p & l.Ae && this.vc.c1a(n,u);p & l.xt && this.vc.e1a(n,u);p & l.yt && this.vc.f1a(n,this.j.Rn());q && p & l.hF && this.vc.Z0a(n,u,q);p & l.Fp && this.vc.kqa(n);};b.XR=c;(function(n){n[n.Ae=1]="MOFF";n[n.xt=2]="PRESENTEDSTREAMS";n[n.yt=4]="SCREEN";n[n.hF=8]="FATALERROR";n[n.Fp=16]="BROWSERINFO";})(l || (l={}));},function(r,b,a){var f,k,m,d,g,h,l;function c(n,q,p,u,t){this.bg=n;this.config=q;this.za=p;this.Da=u;this.Vra=t;}Object.defineProperty(b,"__esModule",{value:!0});b.YR=void 0;r=a(1);f=a(0);k=a(19);m=a(38);d=a(13);g=a(50);h=a(449);l=a(1041);c.prototype.create=function(n){return new l.$R(n,this.bg,this.config,this.Da,this.Vra.create(n));};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.ln)),r.__param(1,(0,f.l)(d.ad)),r.__param(2,(0,f.l)(m.di)),r.__param(3,(0,f.l)(k.md)),r.__param(4,(0,f.l)(h.WR))],a);b.YR=a;},function(r,b,a){var f,k,m;function c(d,g,h,l,n){var q;q=this;this.j=d;this.bg=g;this.config=h;this.Da=l;this.qb=n;this.KU=function(){q.qg();q.j.xa.Qi.removeListener(q.yB);q.j.xa.kc.removeListener(q.qb.$l);q.j.xa.tc.removeListener(q.rm);q.j.xa.th.removeListener(q.qb.mU);q.j.Gj.removeListener(q.F7a);q.j.vP.removeListener(q.Gk);q.j.xa.re.removeListener(q.BY);q.j.Bb.removeListener(q.Ew);q.j.Bb.removeListener(q.yM);q.j.xa.Ye.removeListener(q.J_);q.j.xa.playbackRate.removeListener(q.qb.KZ);q.j.removeEventListener(m.Fa.closed,q.KU);q.j.removeEventListener(m.Fa.k4,q.qb.oi);};this.yM=function(){q.j.Bb.value === m.hb.Lc && (q.j.Bb.removeListener(q.yM),q.Uq());};this.yB=function(p){q.XA && q.qb.yB(p);};this.Gk=function(p){q.XA && void 0 !== p.newValue && (q.Os && q.Ep && q.qb.Aua(q.getTime() - q.Ep,q.Os),q.Os="repos",q.qb.uP(p.newValue,q.j.xa.pf.value,q.j.xa.re.value),q.Ep=q.getTime(),(0,k.Xf)(q.Ew));};this.F7a=function(p){q.XA && q.qb.u$(!p.newValue);};this.rm=function(p){p.oldValue && (q.vA=p.oldValue,q.qb.rm(p),q.Os="repos",q.Ep=q.getTime(),(0,k.Xf)(q.Ew));};this.Ew=function(){var p;if(q.Ep && q.j.Bb.value !== m.hb.Uf){p=q.getTime() - q.Ep;q.qb.CP(p,!1,q.Os);q.vA && q.vA != q.j.xa.tc.value && q.qb.zja();q.Ep=void 0;q.Os=void 0;}};this.Uq=function(){q.XA || (q.XA=!0,q.qb.LE(q.j),q.rqa(),q.config().S7 && (q.qA=nb.setTimeout(function(){q.bg.flush(!1).catch(function(){return q.log.warn("failed to flush log batcher on initialLogFlushTimeout");});q.qA=void 0;},q.config().S7)));};this.qg=function(){q.qA && (nb.clearTimeout(q.qA),q.qA=void 0);q.x_ && q.x_();q.XA?q.qb.nH():q.j.Nh?q.qb.LE(q.j):q.qb.Bua();};this.J_=function(p){p.oldValue && p.Am && p.Am.OG && q.qb.AM(p.oldValue,p.newValue,p.Am.OG,p.Am.uU);};this.BY=function(p){var u;if(p.newValue){u=p.newValue.stream;q.eI != u && (q.eI && q.qb.awa(q.eI,u,p.newValue.um.startTime),q.eI=u);}};this.Saa();}Object.defineProperty(b,"__esModule",{value:!0});b.$R=void 0;f=a(5);k=a(63);m=a(15);c.prototype.Saa=function(){this.j.addEventListener(m.Fa.closed,this.KU);this.j.addEventListener(m.Fa.k4,this.qb.oi);this.j.xa.Qi.addListener(this.yB);this.j.xa.kc.addListener(this.qb.$l);this.j.xa.tc.addListener(this.rm);this.j.xa.th.addListener(this.qb.mU);this.j.Gj.addListener(this.F7a);this.j.vP.addListener(this.Gk);this.j.xa.re.addListener(this.BY);this.j.Bb.addListener(this.Ew);this.j.Bb.addListener(this.yM);this.j.xa.Ye.addListener(this.J_);this.j.xa.playbackRate.addListener(this.qb.KZ);};c.prototype.getTime=function(){return this.Da.Zb().da(f.la);};c.prototype.rqa=function(){var d,g,h;d=this;h=[];this.config().N4a && (this.config().O4a.forEach(function(l){h.push(nb.setTimeout(d.qb.eE,l));}),this.config().p9 && (g=nb.setInterval(this.qb.eE,this.config().p9)),this.x_=function(){h.forEach(function(l){nb.clearTimeout(l);});g && nb.clearInterval(g);});};b.$R=c;},function(r,b,a){var c,f,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.IJ=void 0;r=a(0);c=a(1043);f=a(1044);k=a(450);m=a(451);b.IJ=new r.rd(function(d){d(m.CMa).to(c.BMa);d(k.zMa).Oj(new f.yMa());d(m.AMa).Af(function(g){return function(){return g.fb.get(m.CMa);};});});},function(r,b,a){var f,k,m,d;function c(g){this.config=g;this.Bxa=k.eb;this.WP=[];}Object.defineProperty(b,"__esModule",{value:!0});b.BMa=void 0;r=a(1);f=a(0);k=a(52);m=a(5);a=a(450);c.prototype.uu=function(){var h;for(var g;0 < this.WP.length;){g=this.WP.shift();this.QQa(g);}g=void 0 === this.rV || void 0 === this.hH?m.eb:this.hH.Ka(this.rV);h=g.s2a()?0:this.Bxa.da(k.cF) / g.da(m.la);return {qya:Math.floor(h),sbc:g.da(m.la)};};c.prototype.Bsb=function(g){this.Bxa=this.Bxa.add(g.size);this.WP.push(g.$Cb);for(this.WP.sort(function(h,l){return h.start.Kl(l.start);});this.WP.length > this.config.aDb;){g=this.WP.shift();this.QQa(g);}};c.prototype.QQa=function(g){void 0 === this.rV && (this.rV=g.start);void 0 !== this.hH && 0 > this.hH.Kl(g.start) && (this.rV=this.rV.add(g.start.Ka(this.hH)));if(void 0 === this.hH || 0 > this.hH.Kl(g.end))this.hH=g.end;};d=c;d=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.zMa))],d);b.BMa=d;},function(r,b,a){function c(f){this.aDb=void 0 === f?10:f;}Object.defineProperty(b,"__esModule",{value:!0});b.yMa=void 0;r=a(1);a=a(0);c=r.__decorate([(0,a.T)()],c);b.yMa=c;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E,D,F;Object.defineProperty(b,"__esModule",{value:!0});b.In=void 0;r=a(0);c=a(26);f=a(13);k=a(1046);m=a(157);d=a(158);g=a(1047);h=a(279);l=a(1048);n=a(452);q=a(453);p=a(1049);u=a(280);t=a(11);w=a(458);v=a(1053);x=a(459);y=a(1054);z=a(282);A=a(1055);B=a(460);E=a(39);D=a(457);F=a(1056);b.In=new r.rd(function(G){G(d.zS).to(g.SLa).ba();G(c.Zx).to(k.vCa).ba();G(h.DFa).to(l.CFa).ba();G(q.vBa).to(p.uBa).ba();G(h.BJa).Oj({isTypeSupported:t.cC && t.cC.isTypeSupported});G(u.p0).Oj(nb.cast || null);G(u.wBa).Oj(nb.castReceiverEme || null);G(n.MDa).SE(function(C){return {OHb:function(){return C.fb.get(E.qS);}};});G(m.lK).SE(function(C){return C.fb.get(f.ad);});G(w.hHa).to(v.eHa).ba();G(D.dHa).to(F.cHa).ba();G(x.gHa).to(y.fHa).ba();G(z.rda).to(A.LDa).ba();G(B.KKa).Oj(nb);});},function(r,b,a){var f,k,m,d,g,h;function c(l,n,q){this.config=l;this.kTa=n;this.WUb=q;this.AWb=this.KAb();}Object.defineProperty(b,"__esModule",{value:!0});b.vCa=void 0;r=a(1);f=a(26);k=a(157);m=a(0);d=a(45);g=a(452);a=a(453);c.prototype.N_a=function(l){return this.zYa().O_a(l);};c.prototype.P_a=function(l){return this.wu().O_a(l);};c.prototype.zYa=function(){this.uja && this.uja.type == this.config().vja || (this.uja=this.kTa.Uzb(this.config().vja));return this.uja;};c.prototype.wu=function(){this.Mba && this.Mba.type == this.config().Nba || (this.Mba=this.kTa.ZAb(this.config().Nba),this.Mba.Jia(this.WUb.OHb()));return this.Mba;};c.prototype.bIb=function(l){var p;if(!l || !l.length)return f.ue.U0;l=this.FFb(l);for(var n=[f.ue.xS,f.ue.U0,f.ue.XK,f.ue.ey,f.ue.qt,f.ue.PB,f.ue.nC,f.ue.yl],q=n.length;q--;){p=n[q];if((0,this.AWb[p])(l))return p;}return f.ue.xS;};c.prototype.Gx=function(l){return this.wu().Gx(l);};c.prototype.nz=function(l){return this.wu().nz(l);};c.prototype.ru=function(){return this.wu().ru();};c.prototype.M6=function(){return this.wu().M6();};c.prototype.VZ=function(){return this.wu().VZ();};c.prototype.TZ=function(){return this.zYa().TZ();};c.prototype.cba=function(){return this.wu().cba();};c.prototype.WZ=function(){return this.wu().WZ();};c.prototype.wN=function(l){return this.wu().wN(l);};c.prototype.HN=function(){return this.wu().HN();};c.prototype.b7=function(){return this.wu().b7();};c.prototype.FFb=function(l){var n;n={};l.filter(function(q){return "video" === q.type;}).forEach(function(q){n[q.Lg]="";});return Object.keys(n);};c.prototype.KAb=function(){var l;l={};l[f.ue.yl]=function(n){return n.some(function(q){return -1 < q.indexOf("av1");});};l[f.ue.PB]=function(n){return n.some(function(q){return -1 < q.indexOf("hpl");});};l[f.ue.nC]=function(n){return n.some(function(q){return -1 < q.indexOf("vp9");});};l[f.ue.qt]=function(n){return n.some(function(q){return -1 < q.indexOf("hevc-dv");});};l[f.ue.ey]=function(n){return n.some(function(q){return -1 < q.indexOf("hevc-hdr");});};l[f.ue.XK]=function(n){return n.some(function(q){return -1 < q.indexOf("hevc-main10-L") || -1 < q.indexOf("hevc-main-L");});};l[f.ue.U0]=(function(n,q){var p;p={};n.forEach(function(u){return p[u]=1;});n=ba(q);for(q=n.next();!q.done;q=n.next()){if(p[q.value])return !0;}return !1;}).bind(null,[d.P.jF]);l[f.ue.xS]=function(){return !0;};return l;};h=c;h=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(k.lK)),r.__param(1,(0,m.l)(a.vBa)),r.__param(2,(0,m.l)(g.MDa))],h);b.vCa=h;},function(r,b,a){var f,k,m,d,g,h,l,n;function c(q,p,u){this.In=q;this.nb=p;this.ebb=u;this.esb="video/mp4;codecs={0}";this.knb="audio/mp4;codecs={0}";q=this.In.wN(k.ue.qt);this.dsb=d.Hd.dVa(q);}Object.defineProperty(b,"__esModule",{value:!0});b.SLa=void 0;r=a(1);k=a(26);m=a(0);d=a(112);g=a(27);h=a(205);l=a(454);n=a(12);c.prototype.a5=function(q){q=this.In.bIb(q);q=this.nb.eH(q)?q:k.ue.xS;return this.ebb.format(this.esb,this.dsb[q]);};c.prototype.X4=function(q){if(0 === q.length)return this.ebb.format(this.knb,d.Hd.V_);q=l.xAa[q[0].Lg] || f.Mza;return q === f.Mza?n.EK:q === f.Aeb?n.HGa:n.GGa;};a=f=c;a.Mza="AAC";a.Aeb="XHEAAC";a=f=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(k.Zx)),r.__param(1,(0,m.l)(g.ig)),r.__param(2,(0,m.l)(h.Mfa))],a);b.SLa=a;},function(r,b,a){var f,k,m,d,g,h;function c(l,n,q){this.config=l;this.CVa=n;this.cast=q;}Object.defineProperty(b,"__esModule",{value:!0});b.CFa=void 0;r=a(1);f=a(0);k=a(279);m=a(157);d=a(26);g=a(280);h=a(281);c.prototype.UUa=function(){switch(this.config().Nba){case d.pj.Sca:return g.Tca.rla(this.CVa,this.cast);case d.pj.ly:return h.aC.rla(this.config);default:return this.CVa;}};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.lK)),r.__param(1,(0,f.l)(k.BJa)),r.__param(2,(0,f.l)(g.p0))],a);b.CFa=a;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A;function c(B,E,D,F,G,C,H,K,M,I,Q){this.o2a=B;this.cast=E;this.config=D;this.Oc=F;this.za=G;this.is=C;this.Bk=H;this.zs=K;this.platform=M;this.Wc=I;this.gx=Q;}Object.defineProperty(b,"__esModule",{value:!0});b.uBa=void 0;r=a(1);f=a(0);k=a(26);m=a(279);d=a(157);g=a(280);h=a(1050);l=a(1051);n=a(188);q=a(456);p=a(48);u=a(38);t=a(27);w=a(1052);v=a(70);x=a(7);y=a(35);z=a(36);a=a(457);c.prototype.Uzb=function(B){var E;E=this.o2a.UUa();switch(B){case k.Cv.ly:return new h.DHa(this.config,E,this.is,this.platform,this.gx);default:return new q.H0(this.config,E,this.gx);}};c.prototype.ZAb=function(B){var E;E=this.o2a.UUa();switch(B){case k.pj.Sca:B=new g.Tca(this.config,E,this.is,this.cast,this.gx);break;case k.pj.iK:B=new w.FBa(this.config,E,this.is,this.Bk,this.zs,this.za,this.gx);break;case k.pj.ly:B=new l.MGa(this.config,E,this.is,this.Oc,this.za,this.zs,this.Wc,this.gx,this.Bk);break;default:B=new n.ro(this.config,E,this.is,this.gx);}return B;};A=c;A=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.DFa)),r.__param(1,(0,f.l)(g.p0)),r.__param(2,(0,f.l)(d.lK)),r.__param(3,(0,f.l)(p.Yj)),r.__param(4,(0,f.l)(u.di)),r.__param(5,(0,f.l)(t.ig)),r.__param(6,(0,f.l)(v.vt)),r.__param(7,(0,f.l)(x.ub)),r.__param(8,(0,f.l)(y.Cl)),r.__param(9,(0,f.l)(z.Ii)),r.__param(10,(0,f.l)(a.dHa))],A);b.uBa=A;},function(r,b,a){var f,k,m,d,g;function c(h,l,n,q,p){h=d.H0.call(this,h,l,p) || this;h.is=n;h.platform=q;h.type=f.Cv.ly;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.DHa=void 0;f=a(26);k=a(45);m=a(111);d=a(456);g=a(281);na(c,d.H0);c.prototype.TZ=function(){return Promise.resolve(this.config().zV && this.mz(m.Lb.qy,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.Ro=function(){var h;h={};h[k.ze.kF]="mp4a.40.2";h[k.ze.lF]="mp4a.40.2";"browser" === this.platform.ima?this.config().zV && (h[k.ze.fR]={Hf:"avc1",keySystem:m.Lb.qy,features:["audio-endpoint-codec=DD+JOC"]},h[k.ze.gR]={Hf:"avc1",keySystem:m.Lb.qy,features:["audio-endpoint-codec=DD+JOC"]}):(this.config().GWa && (h[k.ze.fR]="ec-3"),this.config().FWa && (h[k.ze.Vca]="ec-3"),this.config().zV && (h[k.ze.gR]={Hf:"avc1",keySystem:m.Lb.qy,features:["audio-endpoint-codec=DD+JOC"]}));return h;};c.prototype.DXa=function(h){var l;l=this;h=h.filter(function(n){var u;for(var q=ba(l.ev),p=q.next();!p.done;p=q.next()){if(p.value.test(n))return !0;}q=ba(l.ho);for(p=q.next();!p.done;p=q.next()){if(p.value.test(n))return !1;}n=l.GY[n];q=[];u=m.Lb.qy;if(n)return (l.is.$p(n)?p=n:(q=n.features,p=n.Hf,u=n.keySystem),l.mz(u,p,q));});return Promise.resolve(h);};c.prototype.mz=function(h,l,n){h=g.aC.Y4(h,l,n);return this.nz(h);};b.DHa=c;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E,D;function c(F,G,C,H,K,M,I,Q,L){F=k.ro.call(this,F,G,C,Q) || this;F.Oc=H;F.za=K;F.zs=M;F.Wc=I;F.gx=Q;F.Bk=L;F.type=m.pj.ly;F.dR="hvc1";F.Kfb="avc1";F.o7a={};F.log=F.zs.mb("MicrosoftVideoCapabilityDetector");F.I0b();F.UZ && F.config().$Qb?F.pWa=F.kAb():(F.pWa=Promise.resolve(""),F.config().bRb?F.pAb():F.config().aRb && F.oAb());return F;}Object.defineProperty(b,"__esModule",{value:!0});b.MGa=void 0;f=a(45);k=a(188);m=a(26);r=a(113);d=a(111);g=a(5);h=a(334);l=a(112);n=a(281);q=a(55);p=a(189);u=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");t=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");w=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");v=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=["hdcp=1"];B=["hdcp=2"];E=new r.lC();D=new h.Eca();na(c,k.ro);c.prototype.wN=function(F){return F === m.ue.qt && this.config().k4b?l.Hd.vR:k.ro.prototype.wN.call(this,F);};c.prototype.Gx=function(F){switch(F){case m.Tj.rF:return this.pbb();case m.Tj.Kv:return this.IY;default:return Promise.resolve(!1);}};c.prototype.ru=function(){var G;function F(){return G.UZ?G.DLb?G.pbb().then(function(C){return Promise.resolve(C?d.Lb.Yd:d.Lb.KF);}):Promise.resolve(d.Lb.KF):G.F1b?Promise.resolve(d.Lb.KF):Promise.resolve(d.Lb.qy);}G=this;this.keySystem || (this.keySystem=this.config().Cp?this.Bk.Sw().then(function(C){return C.keySystem;}):F());return this.keySystem;};c.prototype.M6=function(){return this.pWa;};c.prototype.VZ=function(){return Promise.resolve({result:this.obb(),reason:"is-type-supported"});};c.prototype.WZ=function(){return this.UZ && this.rbb()?this.IY:Promise.resolve(!1);};c.prototype.cba=function(){return Promise.resolve(this.nbb()).then(function(F){return {result:F,reason:"isTypeSupportedWithFeatures"};});};c.prototype.Jia=function(F){this.Tq=F;Object.assign(this.Tq,this.o7a);F.itshwdrm=this.UZ;F.itsqhd=this.qbb();F.itshevc=this.rbb();F.itshdr=this.obb();F.itsdv=this.nbb();F.itsav1=this.C1b();this.Zya();};c.prototype.bU=function(F,G){(this.Tq?this.Tq:this.o7a)[F]=G;};c.prototype.HN=function(){var F;F=this;return this.Gx(m.Tj.Kv).then(function(G){return G?F.UU(m.Tj.Kv):F.Gx(m.Tj.rF).then(function(C){return C?F.UU(m.Tj.rF):F.UU(void 0);});});};c.prototype.b7=function(){return this.config().Cp?Promise.resolve(void 0):this.ru().then(function(F){return F === d.Lb.Yd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.Sz=function(F){var G;G=this;return this.ru().then(function(C){var H,K,M;if(G.Wqa(C,F))return !1;H=G.GY[F];if(H){K=[];if(G.is.$p(H))M=H;else (K=H.features,M=H.Hf,C=H.keySystem);return G.mz(C,M,K);}return !1;});};c.prototype.Ro=function(){var F;F=k.ro.prototype.Ro.call(this);F[f.P.g2]=F[f.P.HS]=F[f.P.GS]=F[f.P.Vfa]={Hf:"vp09.00.11.08.02",keySystem:d.Lb.Yd,features:u};F[f.P.X0]=F[f.P.W0]={Hf:"hev1.2.6.L90.B0",keySystem:d.Lb.Yd,features:t};F[f.P.Z0]=F[f.P.Y0]={Hf:"hev1.2.6.L93.B0",keySystem:d.Lb.Yd,features:t};F[f.P.a1]=F[f.P.$0]={Hf:"hev1.2.6.L120.B0",keySystem:d.Lb.Yd,features:t};F[f.P.c1]=F[f.P.b1]={Hf:"hev1.2.6.L123.B0",keySystem:d.Lb.Yd,features:t};F[f.P.IR]=F[f.P.HR]={Hf:"hev1.2.6.L150.B0",keySystem:d.Lb.Yd,features:t};F[f.P.KR]=F[f.P.JR]={Hf:"hev1.2.6.L153.B0",keySystem:d.Lb.Yd,features:t};F[f.P.xR]=F[f.P.wR]={Hf:"hev1.2.6.L90.B0",keySystem:d.Lb.Yd,features:v};F[f.P.zR]=F[f.P.yR]={Hf:"hev1.2.6.L93.B0",keySystem:d.Lb.Yd,features:v};F[f.P.AR]=F[f.P.vK]={Hf:"hev1.2.6.L120.B0",keySystem:d.Lb.Yd,features:v};F[f.P.CR]=F[f.P.BR]={Hf:"hev1.2.6.L123.B0",keySystem:d.Lb.Yd,features:x};F[f.P.ER]=F[f.P.DR]={Hf:"hev1.2.6.L150.B0",keySystem:d.Lb.Yd,features:x};F[f.P.GR]=F[f.P.FR]={Hf:"hev1.2.6.L153.B0",keySystem:d.Lb.Yd,features:x};F[f.P.w0]=F[f.P.v0]={Hf:"hev1.2.6.L90.B0",keySystem:d.Lb.Yd,features:y};F[f.P.y0]=F[f.P.x0]={Hf:"hev1.2.6.L93.B0",keySystem:d.Lb.Yd,features:y};F[f.P.z0]=F[f.P.iR]={Hf:"hev1.2.6.L120.B0",keySystem:d.Lb.Yd,features:y};F[f.P.B0]=F[f.P.A0]={Hf:"hev1.2.6.L123.B0",keySystem:d.Lb.Yd,features:z};F[f.P.D0]=F[f.P.C0]={Hf:"hev1.2.6.L150.B0",keySystem:d.Lb.Yd,features:z};F[f.P.F0]=F[f.P.E0]={Hf:"hev1.2.6.L153.B0",keySystem:d.Lb.Yd,features:z};F[f.P.NB]={Hf:"av01.0.04M.10",keySystem:d.Lb.Yd,features:u};F[f.P.OB]={Hf:"av01.0.05M.10",keySystem:d.Lb.Yd,features:u};F[f.P.$_]={Hf:"av01.0.08M.10",keySystem:d.Lb.Yd,features:u};F[f.P.a0]={Hf:"av01.0.09M.10",keySystem:d.Lb.Yd,features:u};F[f.P.b0]={Hf:"av01.0.12M.10",keySystem:d.Lb.Yd,features:w};F[f.P.c0]={Hf:"av01.0.13M.10",keySystem:d.Lb.Yd,features:w};return F;};c.prototype.mz=function(F,G,C){F=n.aC.Y4(F,G,C);return this.nz(F);};c.prototype.qbb=function(){return this.mz(d.Lb.Yd,this.dR,t);};c.prototype.obb=function(){return this.mz(d.Lb.Yd,this.dR,v);};c.prototype.nbb=function(){return this.mz(d.Lb.Yd,this.dR,y);};c.prototype.C1b=function(){return this.mz(d.Lb.Yd,l.Hd.yl,u);};c.prototype.rbb=function(){return this.mz(d.Lb.Yd,this.dR,w);};c.prototype.pbb=function(){var F;F=this;return this.IY.then(function(G){return G?Promise.resolve(G):F.d8a;});};c.prototype.Zya=function(){this.Tq && (this.Tq.itshdcp=JSON.stringify({hdcp1:this.s0a,time1:this.Jbb - this.Jab,hdcp2:this.t0a,time2:this.Kbb - this.Kab}));};c.prototype.I0b=function(){var F;F=this;this.UZ?(this.IY=this.r_a(this.config().M4a,this.config().dRb,function(){var G;G=F.$Hb();return ["maybe" !== G,G];}).then(function(G){return "probably" === G;}),this.d8a=this.IY.then(function(G){return G?!0:F.r_a(F.config().M4a,F.config().cRb,function(){var C;C=F.ZHb();return ["maybe" !== C,C];}).then(function(C){return "probably" === C;});})):(this.d8a=Promise.resolve(!0),this.IY=Promise.resolve(!1));};c.prototype.r_a=function(F,G,C){var H;H=this;return new Promise(function(K){var M,I,Q,L;M=ba(C());I=M.next().value;M=M.next().value;if(I)return K(M);Q=H.Oc.taa((0,g.Nc)(F),function(){var J,N;J=ba(C());N=J.next().value;J=J.next().value;N && (Q.cancel(),L.cancel(),K(J));});L=H.Oc.Jk((0,g.Nc)(G),function(){Q.cancel();L.cancel();K("timeout");});});};c.prototype.ZHb=function(){var F;F=n.aC.Y4(d.Lb.KF,this.Kfb,A).split("|");this.s0a=n.aC.gya(F[0],F[1]);this.Jbb=this.za.jf.da(g.la);this.Jab=this.Jab || this.Jbb;this.Zya();return this.s0a;};c.prototype.$Hb=function(){var F;F=n.aC.Y4(d.Lb.Yd,this.dR,B).split("|");this.t0a=n.aC.gya(F[0],F[1]);this.Kbb=this.za.jf.da(g.la);this.Kab=this.Kab || this.Kbb;this.Zya();return this.t0a;};c.prototype.kAb=function(){var F;F=this;return this.ula(d.Lb.Yd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (q.pIa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(G){F.log.debug("DriverInfo: " + G);return G;}).catch(function(G){F.bU("itsDriverInfo","exception");F.log.error("DriverInfo exception",G);throw G;});};c.prototype.oAb=function(){var F;F=this;this.ula(d.Lb.qy,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(G){var C;C=String.fromCharCode.apply(void 0,F.Wc.decode(G));F.bU("itsHardwareInfo",C);F.log.debug("HardwareInfo: " + C);return G;}).catch(function(G){F.bU("itsHardwareInfo","exception");F.log.error("HardwareInfo exception",G);throw G;});};c.prototype.pAb=function(){var F;F=this;this.ula(d.Lb.qy,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(G){var C;C=String.fromCharCode.apply(void 0,F.Wc.decode(G));F.bU("itsHardwareReset",C);F.log.debug("ResetHardwareDRMDisabled: " + C);return G;}).catch(function(G){F.bU("itsHardwareReset","exception");F.log.error("ResetHardwareDRMDisabled exception",G);throw G;});};c.prototype.ula=function(F,G){var C;C=this;return new Promise(function(H,K){var N,O,P;function M(S){try{L(S.target,"Unexpectedly got an mskeyerror event: 0x" + D.vH(S && S.target && S.target.error && S.target.error.bfc || 0,4));}catch(U){L(S.target,U);}}function I(S){L(S.target,"Unexpectedly got an mskeyadded event");}function Q(S){var U;try{U=C.ana(S.message,"PlayReadyKeyMessage","Challenge");J(S.target);H(U);}catch(Z){L(S.target,Z);}}function L(S,U){C.log.error("PlayReadyChallenge error",{cdmData:G});J(S);K(U);}function J(S){S.removeEventListener("mskeymessage",Q);S.removeEventListener("mskeyadded",I);S.removeEventListener("mskeyerror",M);P && P.cancel();}try{N=new Uint8Array(E.cbb(G));O=new nb.MSMediaKeys(F).createSession("video/mp4",new Uint8Array(0),N);O.addEventListener("mskeymessage",Q);O.addEventListener("mskeyadded",I);O.addEventListener("mskeyerror",M);P=C.Oc.Jk((0,g.Nc)(1E3),function(){L(O,Error("timeout"));});}catch(S){K(S);}});};c.prototype.ana=function(F,G){var H,K,M;for(var C=1;C < arguments.length;++C){;}C="";K=F.length;for(H=0;H < K;H++){M=F[H];0 < M && (C+=String.fromCharCode(M));}K="\\s*(.*)\\s*";for(H=arguments.length - 1;0 < H;H--){M=arguments[H];if(0 > C.search(M))return;M="(?:[^:].*:|)" + M;K="[\\s\\S]*<" + M + "[^>]*>" + K + "</" + M + ">[\\s\\S]*";}if(C=C.match(new RegExp(K)))return C[1];};c.prototype.Wqa=function(F,G){return [p.Ze.PB,p.Ze.nC].some(function(C){return C.test(G);}) && this.config().Qsa && ![d.Lb.KF,d.Lb.GJa].some(function(C){return C === F;});};Ya.Object.defineProperties(c.prototype,{DLb:{configurable:!0,enumerable:!0,get:function(){return this.config().LDb && (!this.config().eRb || this.qbb());}},UZ:{configurable:!0,enumerable:!0,get:function(){try{return this.nz(d.Lb.Yd + "|" + l.Hd.Tsa);}catch(F){return !1;}}},F1b:{configurable:!0,enumerable:!0,get:function(){try{return this.nz(d.Lb.KF);}catch(F){return !1;}}}});b.MGa=c;},function(r,b,a){var f,k,m,d,g;function c(h,l,n,q,p,u,t){h=f.ro.call(this,h,l,n,t) || this;h.Bk=q;h.zs=p;h.za=u;h.gx=t;h.type=k.pj.iK;h.log=h.zs.mb("ChromeVideoCapabilityDetector");return h;}Object.defineProperty(b,"__esModule",{value:!0});b.FBa=void 0;f=a(188);k=a(26);m=a(5);d=a(55);g=a(189);na(c,f.ro);c.prototype.Gx=function(h){switch(h){case k.Tj.Kv:return this.D1b;default:return Promise.resolve(!1);}};c.prototype.HN=function(){var h;h=this;return this.Gx(k.Tj.Kv).then(function(l){return l?k.Tj.Kv:void 0;}).then(function(l){return h.UU(l);});};c.prototype.Jia=function(h){this.Tq=h;};c.prototype.Sz=function(h){var l;l=this;return this.config().Qsa?this.Bk.Sw().then(function(n){return l.Wqa((0,d.Coa)(n),h)?!1:f.ro.prototype.Sz.call(l,h);}):f.ro.prototype.Sz.call(this,h);};c.prototype.RNb=function(h){var l;return !(null === (l=h.getConfiguration().videoCapabilities) || void 0 === l || !l.some(function(n){return (null === n || void 0 === n?void 0:n.robustness) === d.wK;}));};c.prototype.Ucb=function(){var h;if(this.Tq){h=this.u0a && this.w0a && this.u0a.Ka(this.w0a).da(m.la);this.Tq.itshdcp=JSON.stringify({hdcp2:this.yu,time2:h});}};c.prototype.Wqa=function(h,l){return [g.Ze.PB,g.Ze.nC].some(function(n){return n.test(l);}) && this.config().Qsa && h === d.wK;};Ya.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.E4a || (this.E4a=this.Bk.Sw().then(function(h){return h.createMediaKeys();}));return this.E4a;}},D1b:{configurable:!0,enumerable:!0,get:function(){var h;h=this;this.hya || (this.config().MDb?this.hya=Promise.all([this.Bk.Sw(),this.mediaKeys]).then(function(l){var n;n=ba(l);l=n.next().value;n=n.next().value;if(!h.RNb(l))return (h.yu="not HW_SECURE_DECODE",h.log.trace("hdcpStatus: " + h.yu),!1);if(n && n.getStatusForPolicy)return (h.w0a=h.za.jf,n.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(q){h.u0a=h.za.jf;h.yu=q;h.log.trace("hdcpStatus: " + h.yu);return "usable" === h.yu;}));h.yu="not available";h.log.trace("hdcpStatus: " + h.yu);return !1;}).catch(function(l){h.yu="exception";h.log.error("Exception in supportsHdcpLevel",{hdcpStatus:h.yu},l);return !1;}).then(function(l){h.Ucb();return l;}):(this.yu="not enabled",this.log.trace("hdcpStatus: " + this.yu),this.Ucb(),this.hya=Promise.resolve(!1)));return this.hya;}}});b.FBa=c;},function(r,b,a){var f,k;function c(m){this.navigator=m;this.C4a=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.eHa=void 0;r=a(1);f=a(0);a=a(39);c.prototype.ena=function(m){return this.C4a?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:m.contentType,width:m.width,height:m.height,bitrate:m.bitrate,framerate:m.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};k=c;k=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.LK))],k);b.eHa=k;},function(r,b,a){var f,k,m,d;function c(g,h){this.mediaCapabilities=g;this.log=h.mb("MediaCapabilities");this.GY=d.I0.Ro();}Object.defineProperty(b,"__esModule",{value:!0});b.fHa=void 0;r=a(1);f=a(458);k=a(7);m=a(0);d=a(277);c.prototype.ena=function(g){var h,l,n,q;h=this;n={Rc:void 0};if(this.mediaCapabilities.C4a){q={contentType:'video/mp4;codecs="' + (null !== (l=this.GY[g.Lg]) && void 0 !== l?l:"avc1.640028") + '"',width:g.width,height:g.height,bitrate:1E3 * g.bitrate,framerate:24};this.mediaCapabilities.ena(q).then(function(p){return n.Rc=Object.assign(Object.assign({},p),q);}).catch(function(p){return h.log.error("Error calling MediaCapabilities API",p);});}return n;};a=c;a=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(f.hHa)),r.__param(1,(0,m.l)(k.ub))],a);b.fHa=a;},function(r,b,a){var f,k,m;function c(d){this.cWb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.LDa=void 0;r=a(1);f=a(0);k=a(282);a=a(460);c.prototype.eFb=function(){var d,g;d={HV:k.VB.Cmb};g=this.cWb.PresentationRequest;g && (new g("https://netflix.com").getAvailability() || Promise.reject()).then(function(h){var l;d.HV=h.value?k.VB.JKa:k.VB.Pza;if(d.HV === k.VB.Pza){l=function(){h.value && (d.HV=k.VB.JKa);h.removeEventListener("change",l);};h.addEventListener("change",l);}}).catch(function(){d.HV=k.VB.Error;});return d;};m=c;m=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.KKa))],m);b.LDa=m;},function(r,b,a){var f,k,m,d,g,h,l,n,q;function c(p,u,t,w){this.config=p;this.navigator=u;this.zs=t;this.dE=w;this.type=k.pj.Fv;this.fSa={};this.Fdb={};this.Ria={};this.log=this.zs.mb("MediaCapabilityDetector");this.fSa=this.Tzb();this.Fdb=this.YAb();}Object.defineProperty(b,"__esModule",{value:!0});b.cHa=void 0;r=a(1);f=a(0);k=a(26);m=a(45);d=a(7);g=a(39);h=a(70);l=a(157);n=a(55);q=a(11);c.prototype.Sz=function(p){var u;u=this;return this.dE.Sw().then(function(t){return u.rFb(p,t);}).catch(function(){return !1;});};c.prototype.iNb=function(p){return ! !p.colorGamut || ! !p.hdrMetadataType || ! !p.transferFunction;};c.prototype.Jqa=function(){return nb.matchMedia("(dynamic-range: high)").matches;};c.prototype.rFb=function(p,u){var t,w,v;try{t={type:"media-source"};w=this.fSa[p];v=this.Fdb[p];if(w)t.audio=w;else if(v){t.video=v;if(this.iNb(v) && !this.Jqa())return Promise.resolve(!1);u && (t.keySystemConfiguration=this.rIb(u));}else return Promise.resolve(!1);return Promise.all([this.Fwb(t),this.Dwb(v.contentType)]).then(function(x){var y;y=ba(x);x=y.next().value;y=y.next().value;return x && y;});}catch(x){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",x),Promise.resolve(!1));}};c.prototype.Fwb=function(p){var u;u=this;return this.navigator.mediaCapabilities.decodingInfo(p).then(function(t){var w;t.configuration || (t.configuration=p);w=u.INb(p,t);w?u.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(t)):u.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(t));return w;}).catch(function(t){u.log.error("mediaCapabilities.decodingInfo failed",t);return !1;});};c.prototype.Dwb=function(p){var u;u=this;if(!this.config().VDb)return Promise.resolve(!0);this.Ria[p] || (this.Ria[p]=new Promise(function(t){var w;try{w=new q.cC();document.createElement("video").src=URL.createObjectURL(w);w.addEventListener("sourceopen",function(){try{w.addSourceBuffer(p);u.log.trace("addSourceBuffer succeeded for " + p);t(!0);}catch(v){u.log.warn("addSourceBuffer failed",v);t(!1);}});}catch(v){u.log.warn("addSourceBuffer failed",v);t(!1);}}));return this.Ria[p];};c.prototype.rIb=function(p){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:p.keySystem},(p=(0,n.Coa)(p)) && (this.keySystemConfiguration.video={robustness:p}));return this.keySystemConfiguration;};c.prototype.Tzb=function(){var p,u;p={};u={contentType:"audio/mp4;codecs=mp4a.40.2"};p[m.ze.kF]=u;p[m.ze.jEa]=u;p[m.ze.lF]=u;p[m.ze.VF]=u;u={contentType:"audio/mp4;codecs=ec-3"};p[m.ze.fR]=u;p[m.ze.Vca]=u;p[m.ze.gR]=u;return p;};c.prototype.YAb=function(){var p,u,t,w,v,x,y,z,A,B,E,D,F;p={};u={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};t={contentType:'video/mp4; codecs="dvh1.05.04"'};w={width:1920,height:1080};v={width:3840,height:2160};x=Object.assign(Object.assign({},w),{bitrate:12E6,framerate:30});y=Object.assign(Object.assign({},w),{bitrate:2E7,framerate:60});w=Object.assign(Object.assign({},v),{bitrate:25E6,framerate:30});v=Object.assign(Object.assign({},v),{bitrate:4E7,framerate:60});z={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};A={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),x);p[m.P.hEa]=B;p[m.P.tR]=B;p[m.P.uR]=B;p[m.P.uda]=B;B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),x);p[m.P.Vfa]=B;p[m.P.GS]=B;p[m.P.HS]=B;p[m.P.g2]=B;B=Object.assign(Object.assign({},u),x);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),y);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),w);F=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),v);p[m.P.W0]=B;p[m.P.Y0]=B;p[m.P.$0]=B;p[m.P.b1]=E;p[m.P.HR]=D;p[m.P.JR]=F;p[m.P.X0]=B;p[m.P.Z0]=B;p[m.P.a1]=B;p[m.P.c1]=E;p[m.P.IR]=D;p[m.P.KR]=F;B=Object.assign(Object.assign(Object.assign({},u),x),z);E=Object.assign(Object.assign(Object.assign({},u),y),z);D=Object.assign(Object.assign(Object.assign({},u),w),z);u=Object.assign(Object.assign(Object.assign({},u),v),z);p[m.P.wR]=B;p[m.P.yR]=B;p[m.P.vK]=B;p[m.P.BR]=E;p[m.P.DR]=D;p[m.P.FR]=u;p[m.P.xR]=B;p[m.P.zR]=B;p[m.P.AR]=B;p[m.P.CR]=E;p[m.P.ER]=D;p[m.P.GR]=u;u=Object.assign(Object.assign(Object.assign({},t),x),A);z=Object.assign(Object.assign(Object.assign({},t),y),A);B=Object.assign(Object.assign(Object.assign({},t),w),A);t=Object.assign(Object.assign(Object.assign({},t),v),A);p[m.P.v0]=u;p[m.P.x0]=u;p[m.P.iR]=u;p[m.P.A0]=z;p[m.P.C0]=B;p[m.P.E0]=t;p[m.P.w0]=u;p[m.P.y0]=u;p[m.P.z0]=u;p[m.P.B0]=z;p[m.P.D0]=B;p[m.P.F0]=t;x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),x);y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),y);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),w);v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),v);p[m.P.Nza]=x;p[m.P.Oza]=x;p[m.P.NB]=x;p[m.P.OB]=x;p[m.P.$_]=x;p[m.P.a0]=y;p[m.P.b0]=w;p[m.P.c0]=v;return p;};c.prototype.INb=function(p,u){return p.video && this.config().CVb?u.supported && u.powerEfficient:u.supported;};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(l.lK)),r.__param(1,(0,f.l)(g.LK)),r.__param(2,(0,f.l)(d.ub)),r.__param(3,(0,f.l)(h.vt))],a);b.cHa=a;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(0);c=a(461);f=a(79);k=a(190);m=a(1058);d=a(464);g=a(1059);h=a(463);l=a(191);n=a(1060);q=a(1062);p=a(1063);u=a(1064);t=a(79);w=a(465);v=a(1066);b.storage=new r.rd(function(x){x(k.OHa).Af(function(){return function(){return nb.localStorage;};});x(k.QEa).Af(function(){return function(){return nb.indexedDB;};});x(w.AHa).to(v.zHa).ba();x(t.QB).to(u.Xza).ba();x(d.dGa).to(g.cGa).ba();x(c.j1).to(q.rFa).ba();x(l.tFa).to(n.sFa).ba();x(f.dMa).to(m.WBa).ba();x(l.PEa).to(n.OEa).ba();x(l.Kda).to(n.uFa).ba();x(h.YBa).to(p.XBa).ba();});},function(r,b,a){var f,k,m,d,g;function c(h,l,n){this.rp=l;this.config=n;this.wa=h.mb(d.Jfa);}Object.defineProperty(b,"__esModule",{value:!0});b.WBa=void 0;r=a(1);f=a(0);k=a(7);m=a(65);d=a(462);a=a(463);c.prototype.validate=function(h){return this.config.enabled?this.config.timeout?this.rp.ar(this.config.timeout,this.dWa(h)):this.dWa(h):Promise.resolve();};c.prototype.dWa=function(h){var l;l=this;return new Promise(function(n,q){return h.save("indexdb-test","true",!0).then(function(){return h.load("indexdb-test").then(function(p){"true" !== p.value && q();l.wa.debug("save/load test passed");h.remove("indexdb-test").then(function(){n();}).catch(function(){l.wa.error("Failed to remove testValue");n();});});}).catch(function(p){return q(p);});});};g=c;g=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.ub)),r.__param(1,(0,f.l)(m.sy)),r.__param(2,(0,f.l)(a.YBa))],g);b.WBa=g;},function(r,b,a){var f,k,m;function c(d){this.pE=d;}Object.defineProperty(b,"__esModule",{value:!0});b.cGa=void 0;r=a(1);f=a(0);k=a(3);a=a(190);c.prototype.load=function(d){var g;g=this;return new Promise(function(h,l){var n,q;try{n=g.pE.getItem(d);if(n){q=n;if("{" === n[0])try{q=JSON.parse(n) || n;}catch(p){}h({key:d,value:q});}else l({ta:k.M.kC});}catch(p){l({ta:k.M.tLa,cause:p});}});};c.prototype.save=function(d,g,h){var l;l=this;return new Promise(function(n,q){if(h && l.pE.getItem(d))n(!1);else try{"string" === typeof g?l.pE.setItem(d,g):l.pE.setItem(d,JSON.stringify(g));n(!0);}catch(p){q({ta:k.M.uLa,cause:p});}});};c.prototype.remove=function(d){var g;g=this;return new Promise(function(h,l){try{g.pE.removeItem(d);h();}catch(n){l({ta:k.M.Cfa,cause:n});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};m=c;m=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.gkb))],m);b.cGa=m;},function(r,b,a){var m,d,g,h,l,n,q,p,u,t,w,v;function c(x,y,z,A,B,E){this.config=y;this.bV=z;this.mo=A;this.K4b=B;this.wl=E;this.wa=x.mb(n.Jfa);}function f(x,y){this.config=x;this.j_=y;}function k(x,y,z,A,B){this.config=y;this.j_=z;this.wl=B;this.wa=x.mb(n.Jfa);this.bV=new Promise(function(E,D){var F;try{F=A();F?E(F):D({ta:l.M.SEa});}catch(G){D({ta:l.M.i1,cause:G});}});}Object.defineProperty(b,"__esModule",{value:!0});b.uFa=b.sFa=b.OEa=void 0;r=a(1);m=a(0);d=a(7);g=a(1061);h=a(190);l=a(3);n=a(462);q=a(461);p=a(65);u=a(79);t=a(71);w=a(191);v=a(64);k.prototype.create=function(){this.Kla || (this.Kla=this.JM());return this.Kla;};k.prototype.qq=function(x){var y;y=this;this.Kla=null;return this.j_.ar(this.config.timeout,new Promise(function(z,A){x.close();y.delete(x.name).then(function(){z();}).catch(function(B){A(B);});})).catch(function(z){return z instanceof p.Ir?Promise.reject({ta:l.M.i1}):z.ta?Promise.reject(z):Promise.reject({ta:l.M.i1,cause:z});});};k.prototype.delete=function(x){var y;y=this;return this.j_.ar(this.config.timeout,new Promise(function(z,A){y.bV.then(function(B){var E;E=B.deleteDatabase(x);E.onsuccess=function(){z();};E.onerror=function(){A({ta:l.M.i1,cause:E.error});};}).catch(function(B){A(B);});}));};k.prototype.JM=function(){var x,y;x=this;return this.j_.ar(this.config.timeout,new Promise(function(z,A){if(x.config.zxa)return A({ta:x.config.zxa});x.bV.then(function(B){x.wl.mark(v.Zj.oib);y=B.open(x.config.name,x.config.version);if(!y)return A({ta:l.M.TEa});y.onblocked=function(){x.wl.mark(v.Zj.lib);A({ta:l.M.hib});};y.onupgradeneeded=function(){var E;x.wl.mark(v.Zj.vib);E=y.result;try{E.createObjectStore(x.config.WX,{keyPath:"name"});}catch(D){x.wa.error("Exception while creating object store",D);}};y.onsuccess=function(E){var D,F;x.wl.mark(v.Zj.uib);try{D=E.target.result;F=D.objectStoreNames.length;x.wa.trace("objectstorenames length ",F);if(0 === F){x.wa.error("invalid indexedDb state, deleting");x.wl.mark(v.Zj.nib);try{D.close();}catch(G){}B.deleteDatabase(x.config.name);setTimeout(function(){A({ta:l.M.gib});},1);return;}}catch(G){x.wa.error("Exception while inspecting indexedDb objectstorenames",G);}z(y.result);};y.onerror=function(){x.wl.mark(v.Zj.mib);x.wa.error("IndexedDB open error",y.error);A({ta:l.M.iib,cause:y.error});};}).catch(function(B){A(B);});})).catch(function(z){if(z instanceof p.Ir){try{y && y.readyState && x.wl.mark("readyState-" + y.readyState);}catch(A){}if(x.config.X3 && y && "done" === y.readyState){if(x.F4b(y))return (x.wl.mark(v.Zj.sib),Promise.resolve(y.result));x.wl.mark(v.Zj.rib);}x.wl.mark(v.Zj.qib);return Promise.reject({ta:l.M.kib});}if(z.ta)return Promise.reject(z);x.wl.mark(v.Zj.pib);x.wa.error("IndexedDB open exception occurred",z);return Promise.reject({ta:l.M.jib,cause:z});});};k.prototype.F4b=function(x){try{return 0 < x.result.objectStoreNames.length;}catch(y){this.wl.mark(v.Zj.tib);this.wa.error("failed to check open request state",y);}return !1;};a=k;a=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(d.ub)),r.__param(1,(0,m.l)(q.j1)),r.__param(2,(0,m.l)(p.sy)),r.__param(3,(0,m.l)(h.QEa)),r.__param(4,(0,m.l)(t.QF))],a);b.OEa=a;f.prototype.create=function(x){return Promise.resolve(new g.qFa(this.config,this.j_,x));};a=f;a=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(q.j1)),r.__param(1,(0,m.l)(p.sy))],a);b.sFa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.VU || (this.VU=this.JM(this.K4b));return this.VU;};c.prototype.JM=function(x){var y;y=this;x=void 0 === x?[]:x;return new Promise(function(z,A){y.wl.mark(v.Zj.amb);y.bV.create().then(function(B){y.mo.create(B).then(function(E){Promise.all(x.map(function(D){return D.validate(E);})).then(function(){y.storage=E;z(y.storage);}).catch(function(D){y.wa.debug("DB validation failed, cause: " + D);y.config.YXa?(y.wa.debug("Fixing corrupt DB"),y.bV.qq(B).then(function(){y.wa.error("Invalid database deleted, creating new database.");y.JM().then(function(F){y.wa.error("Invalid database successfully recreated.");y.storage=F;z(y.storage);});}).catch(function(F){y.wa.error("Couldn't delete invalid database.");A(F);})):(y.wa.debug("Ignoring invalid DB due to config"),y.storage=E,z(y.storage));});}).catch(function(E){A(E);});}).catch(function(B){A(B);});});};a=c;a=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(d.ub)),r.__param(1,(0,m.l)(q.j1)),r.__param(2,(0,m.l)(w.PEa)),r.__param(3,(0,m.l)(w.tFa)),r.__param(4,(0,m.uI)(u.dMa)),r.__param(5,(0,m.l)(t.QF))],a);b.uFa=a;},function(r,b,a){var k,m,d;function c(g,h,l){this.config=g;this.rp=h;this.pE=l;}function f(g,h){this.reason=g;this.cause=h;}Object.defineProperty(b,"__esModule",{value:!0});b.qFa=b.WKa=void 0;k=a(3);m=a(65);(function(g){g[g.vea=0]="NoData";g[g.Error=1]="Error";g[g.VK=2]="Timeout";})(d=b.WKa || (b.WKa={}));c.prototype.load=function(g){var h;h=this;return new Promise(function(l,n){h.X5("get",!1,g).then(function(q){l({key:g,value:q});}).catch(function(q){var p;p=k.M.tLa;switch(q.reason){case d.vea:p=k.M.kC;break;case d.VK:p=k.M.bmb;}n({ta:p,cause:q.cause});});});};c.prototype.save=function(g,h,l){var n;n=this;return new Promise(function(q,p){n.X5(l?"add":"put",!0,{name:g,data:h}).then(function(){q(!l);}).catch(function(u){var t;t=k.M.uLa;switch(u.reason){case d.VK:t=k.M.emb;}p({ta:t,cause:u.cause});});});};c.prototype.remove=function(g){var h;h=this;return new Promise(function(l,n){h.X5("delete",!0,g).then(function(){l();}).catch(function(q){var p;p=k.M.Cfa;switch(q.reason){case d.VK:p=k.M.sLa;}n({ta:p,cause:q.cause});});});};c.prototype.removeAll=function(){var g;g=this;return new Promise(function(h,l){g.X5("clear",!0,"").then(function(){h();}).catch(function(n){var q;q=k.M.Cfa;switch(n.reason){case d.VK:q=k.M.sLa;}l({ta:q,cause:n.cause});});});};c.prototype.loadAll=function(){var g;g=this;return this.rp.ar(this.config.timeout,new Promise(function(h,l){var n,q,p;if(g.config.yxa)l(new f(g.config.yxa));else {n=[];q=g.pE.transaction(g.config.WX,"readonly");p=q.objectStore(g.config.WX).openCursor();q.onerror=function(){l(new f(d.Error,p.error));};p.onsuccess=function(u){if(u=u.target.result)try{n.push({key:u.value.name,value:u.value.data});u.continue();}catch(t){l(new f(d.Error,t));}else h(n);};p.onerror=function(){l(new f(d.Error,p.error));};}})).catch(function(h){return h instanceof m.Ir?Promise.reject(new f(d.VK,h)):h instanceof f?Promise.reject(h):Promise.reject(new f(d.Error,h));});};c.prototype.X5=function(g,h,l){var n;n=this;return this.rp.ar(this.config.timeout,new Promise(function(q,p){var u,t;u=n.pE.transaction(n.config.WX,h?"readwrite":"readonly");t=u.objectStore(n.config.WX)[g](l);u.onerror=function(){p(new f(d.Error,t.error));};t.onsuccess=function(w){var v;if("get" == g)try{v=w.target.result;v?q(v.data):p(new f(d.vea));}catch(x){p(new f(d.vea,x));}else q(void 0);};t.onerror=function(){p(new f(d.Error,t.error));};})).catch(function(q){return q instanceof m.Ir?Promise.reject(new f(d.VK,q)):q instanceof f?Promise.reject(q):Promise.reject(new f(d.Error,q));});};b.qFa=c;},function(r,b,a){var f,k,m,d,g;function c(h,l){h=m.af.call(this,h,"IndexedDBConfigImpl") || this;h.config=l;h.version=1;h.WX="namedatapairs";return h;}Object.defineProperty(b,"__esModule",{value:!0});b.rFa=void 0;r=a(1);f=a(0);k=a(46);m=a(47);d=a(41);a=a(37);na(c,m.af);Ya.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.Lw?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Txa;}},X3:{configurable:!0,enumerable:!0,get:function(){return this.config.X3;}},zxa:{configurable:!0,enumerable:!0,get:function(){return 0;}},yxa:{configurable:!0,enumerable:!0,get:function(){return 0;}},YXa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});g=c;r.__decorate([k.config(k.CB,"simulateIdbOpenError")],g.prototype,"zxa",null);r.__decorate([k.config(k.CB,"simulateIdbLoadAllError")],g.prototype,"yxa",null);r.__decorate([k.config(k.cd,"fixInvalidDatabase")],g.prototype,"YXa",null);g=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.fm)),r.__param(1,(0,f.l)(d.kn))],g);b.rFa=g;},function(r,b,a){var f,k;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.XBa=void 0;r=a(1);f=a(0);a=a(41);Ya.Object.defineProperties(c.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Txa;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.Abb;}}});k=c;k=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.kn))],k);b.XBa=k;},function(r,b,a){var k,m,d,g,h,l,n;function c(q,p,u,t){this.wa=q;this.config=p;this.ILb=u;this.Msa=t;this.VG={mem:{storage:this.Msa,key:"mem"}};this.NE=this.config.NE;}function f(q,p,u,t){this.cg=q;this.mo=p;this.Msa=u;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.qca=b.Xza=void 0;r=a(1);k=a(0);m=a(3);d=a(191);g=a(7);h=a(465);l=a(1065);a=a(41);f.prototype.create=function(){this.VU || (this.VU=this.JM());return this.VU;};f.prototype.JM=function(){this.Etb=new c(this.cg.mb("AppStorage"),this.config,this.mo,this.Msa);return this.Etb.create();};n=f;n=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(g.ub)),r.__param(1,(0,k.l)(d.Kda)),r.__param(2,(0,k.l)(h.AHa)),r.__param(3,(0,k.l)(a.kn))],n);b.Xza=n;c.prototype.create=function(){var q;q=this;return this.qAb().then(function(p){if(!q.jwb(p,q.config.JW))throw q.bSb(p);return q;});};c.prototype.load=function(q){var p;p=this;return new Promise(function(u,t){p.bW(q).storage.load(q).then(function(w){u(w);}).catch(function(w){t(w);});});};c.prototype.save=function(q,p,u){var t;t=this;return new Promise(function(w,v){t.bW(q).storage.save(q,p,u).then(function(x){w(x);}).catch(function(x){v(x);});});};c.prototype.remove=function(q){var p;p=this;return new Promise(function(u,t){p.bW(q).storage.remove(q).then(function(){u();}).catch(function(w){t(w);});});};c.prototype.removeAll=function(){var q;q=this;return new Promise(function(p,u){q.T8a("mem").then(function(){return q.T8a("idb");}).catch(function(t){return Promise.reject(t);}).then(function(){p();}).catch(function(t){q.wa.error("remove all failed");u(t);});});};c.prototype.loadAll=function(){var q,p;q=this;p=[];return this.f3a("mem").then(function(u){p=p.concat(u);return q.f3a("idb");}).catch(function(u){q.FNb(u) || q.wa.error("IndexedDb.LoadAll exception",u);return [];}).then(function(u){return p=p.concat(u);}).catch(function(u){q.wa.error("load all failed",u);throw u;});};c.prototype.qAb=function(){var q;q=this;return this.ILb.create().then(function(p){q.VG.idb={storage:p,key:"idb"};}).catch(function(p){q.wa.error("idb failed to load",p);return p || ({ta:m.M.em});});};c.prototype.jwb=function(q,p){return !q || q && p?!0:!1;};c.prototype.bSb=function(q){var p;p="";q && (p+=q.ta);return {ta:p};};c.prototype.T8a=function(q){return (q=this.VG[q])?q.storage.removeAll():Promise.resolve();};c.prototype.f3a=function(q){return (q=this.VG[q])?q.storage.loadAll():Promise.resolve([]);};c.prototype.BFb=function(q){for(var p in this.NE){if(q.startsWith(p))return this.NE[p];}return this.NE[l.ygb];};c.prototype.bW=function(q){var p,u;p=this;this.BFb(q).every(function(t){return p.VG[t]?(u=p.VG[t],!1):!0;});if(!u){this.wa.error("component not found for storageKey",{T0b:q,Bac:Object.keys(this.VG),rules:this.NE});u=this.VG.mem;}this.wa.trace("component found for key",{storageKey:q,componentKey:u.key});return u;};c.prototype.FNb=function(q){return (q && (q.ta || q.errorSubCode)) === m.M.kC;};b.qca=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ygb="__default_rule_key__";},function(r,b,a){var f,k,m;function c(d){this.cg=d;this.wI={};this.wa=this.cg.mb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.zHa=void 0;r=a(1);f=a(0);k=a(3);a=a(7);c.prototype.load=function(d){var g;if(this.wI.hasOwnProperty(d)){g=this.wI[d];this.wa.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:g});}this.wa.debug("Storage entry not found",{key:d});return Promise.reject({ta:k.M.kC});};c.prototype.save=function(d,g,h){if(h && this.wI.hasOwnProperty(d))return Promise.resolve(!1);this.wI[d]=g;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.wI[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.wI).map(function(g){var h;h=ba(g);g=h.next().value;h=h.next().value;return {key:g,value:h};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.wI={};return Promise.resolve();};m=c;m=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.ub))],m);b.zHa=m;},function(r,b,a){var c,f,k,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.oM=void 0;r=a(0);c=a(466);f=a(467);k=a(468);m=a(1068);d=a(1069);g=a(1070);b.oM=new r.rd(function(h){h(c.LAa).to(m.KAa).ba();h(f.JAa).to(d.GAa).ba();h(k.IAa).to(g.HAa).ba();});},function(r,b,a){var f,k,m,d,g,h,l;function c(n,q,p,u,t){this.o4=q;this.nb=p;this.evb=u;this.config=t;this.wa=n.mb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.KAa=void 0;r=a(1);f=a(0);k=a(467);m=a(468);d=a(7);g=a(27);h=a(5);a=a(13);c.prototype.jtb=function(n){var q,p;q=n.cb.playbackState && n.cb.playbackState.currentTime;p=this.oHb(n.K);q=this.nb.eH(q)?(0,h.Nc)(q):p;if(this.nb.Ng(q))(this.wa.info("Overriding bookmark",{From:n.VJ.da(h.la),To:q.da(h.la)}),n=Object.assign({},n,{VJ:q}));else if(this.MLb(n))return (this.wa.trace("Ignoring bookmark because it's too close to beginning"),(0,h.Bh)(0));return n.VJ.Pqa()?(this.wa.trace("Ignoring bookmark because it's negative"),(0,h.Bh)(0)):this.LLb(n)?(this.wa.trace("Ignoring bookmark because it's too close to end"),(0,h.Bh)(0)):this.KLb(n)?(this.wa.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,h.Bh)(0)):n.VJ;};c.prototype.MLb=function(n){return 0 > n.VJ.Kl(this.uoa(n));};c.prototype.uoa=function(n){return this.GSa(this.o4.uoa(),n.z$);};c.prototype.LLb=function(n){return 0 < n.VJ.Kl(this.voa(n));};c.prototype.voa=function(n){var q;q=n.cb.bj?this.o4.dIb():this.o4.voa();return n.z$.Ka(this.GSa(q,n.z$));};c.prototype.KLb=function(n){return 0 < n.VJ.Kl(this.MHb(n));};c.prototype.MHb=function(n){var q;q=n.cb.bj?this.config().p6a:this.config().GI;return n.z$.Ka((0,h.Nc)(q));};c.prototype.oHb=function(n){var q;n=this.o4.aoa()[n];q=-1;this.nb.$p(n)?q=parseInt(n):this.nb.Oi(n) && (q=n);if(this.nb.dU(q))return (0,h.Nc)(q);};c.prototype.GSa=function(n,q){return this.evb.g1b(n,q);};l=c;l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(d.ub)),r.__param(1,(0,f.l)(k.JAa)),r.__param(2,(0,f.l)(g.ig)),r.__param(3,(0,f.l)(m.IAa)),r.__param(4,(0,f.l)(a.ad))],l);b.KAa=l;},function(r,b,a){var f,k;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.GAa=void 0;r=a(1);f=a(0);a=a(13);c.prototype.uoa=function(){return this.uD().fvb;};c.prototype.voa=function(){return this.uD().gvb;};c.prototype.dIb=function(){return this.uD().hvb;};c.prototype.aoa=function(){return this.uD().FSa;};c.prototype.uD=function(){return this.config();};k=c;k=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.ad))],k);b.GAa=k;},function(r,b,a){var f,k,m;function c(d){this.nb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.HAa=void 0;r=a(1);f=a(0);k=a(27);m=a(5);c.prototype.g1b=function(d,g){var h,l;h=parseFloat(d);l=0;"%" === d[d.length - 1] && this.nb.Oi(h)?l=Math.round(h * g.da(m.la) / 100):(d=parseInt(d),this.nb.dU(d) && (l=d));return (0,m.Nc)(Math.min(l,g.da(m.la)));};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.ig))],a);b.HAa=a;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.$Sa=void 0;r=a(0);c=a(469);f=a(1072);b.$Sa=new r.rd(function(k){k(c.bBa).to(f.aBa).ba();});},function(r,b,a){var f,k,m,d,g,h,l,n,q;function c(p,u,t,w,v,x){this.config=p;this.iE=t;this.profile=w;this.wba=v;this.GU=x;this.log=u.mb("CDMAttestedDescriptor");this.PYa(n.Nv.sS);}Object.defineProperty(b,"__esModule",{value:!0});b.aBa=void 0;r=a(1);f=a(0);k=a(13);m=a(7);d=a(159);g=a(283);h=a(95);l=a(169);n=a(41);q=a(60);c.prototype.PYa=function(p){var u;u=this;return this.wba.Naa(p)?this.config().HDb?this.NYa().then(function(t){if(t)return (!1,Promise.resolve(void 0));u.Z2a || (!1,u.Z2a=u.GU.bpa(q.hi.vo));return u.Z2a;}).catch(function(t){u.log.error("Failed to generate challenge",t);}).then(function(t){null === t || void 0 === t?void 0:t.bc.close();return null === t || void 0 === t?void 0:t.vka;}).then(function(t){return Promise.all([Promise.resolve(t),u.NYa()]);}).then(function(t){var w;t=ba(t);w=t.next().value;if(t.next().value)!1;else return w;}):this.iE().then(function(t){t.LX.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.NYa=function(){var p;p=this;return this.iE().then(function(u){return (u=u.LX.getServiceTokens(p.profile)) && u.find(function(t){return "cad" === t.name;});});};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.ad)),r.__param(1,(0,f.l)(m.ub)),r.__param(2,(0,f.l)(d.eS)),r.__param(3,(0,f.l)(h.uS)),r.__param(4,(0,f.l)(g.f2)),r.__param(5,(0,f.l)(l.o0))],a);b.aBa=a;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p;Object.defineProperty(b,"__esModule",{value:!0});b.Q3a=void 0;r=a(0);c=a(265);f=a(1074);k=a(470);m=a(1081);d=a(474);g=a(476);h=a(1082);l=a(133);n=a(1083);q=a(478);p=a(1084);b.Q3a=new r.rd(function(u){u(k.TGa).to(m.SGa).ba();u(c.kea).to(f.UGa).ba();u(d.eKa).Oj(function(t){for(var w=[],v=0;v < arguments.length;++v){w[v - 0]=arguments[v];}v=a(285).PF;return new (Function.prototype.bind.apply(v,[null].concat(ha(w))))();});u(g.XGa).Af(function(){return function(t){return new h.YGa(t);};});u(l.GK).to(n.QGa).ba();u(q.PGa).to(p.OGa).ba();});},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u;function c(t,w,v,x){this.cg=t;this.config=w;this.Jua=v;this.Cya=x;}Object.defineProperty(b,"__esModule",{value:!0});b.UGa=void 0;r=a(1);f=a(0);k=a(7);m=a(470);d=a(1075);g=a(1076);h=a(1077);l=a(1078);n=a(1079);q=a(1080);p=a(474);a=a(475);c.prototype.create=function(t){var w,v;w=this.cg.mb("ManifestParser",t);v=new d.ABa(w,this.config);return new h.VGa(v,new g.wMa(w,this.config,t,v,this.Jua),new l.TMa(w,t,this.Cya),new n.wAa(w,this.config,t),new q.rNa(w));};u=c;u=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.ub)),r.__param(1,(0,f.l)(m.TGa)),r.__param(2,(0,f.l)(p.eKa)),r.__param(3,(0,f.l)(a.RMa))],u);b.UGa=u;},function(r,b,a){var f,k,m;function c(d,g){this.log=d;this.config=g;}Object.defineProperty(b,"__esModule",{value:!0});b.ABa=void 0;f=a(105);k=a(284);m=a(22);c.prototype.fua=function(d,g,h){var l,n,q,p,u;l=this;n=this.config.tka;q=this.config.ska;d=ba((0,f.Tu)(function(t){return (!n.length || 0 <= n.indexOf(t.id)) && 0 > q.indexOf(t.id);},d || []));p=d.next().value;d.next().value.forEach(function(t){return l.log.warn("Cdn is not allowed",{Id:t.id});});u=p.map(function(t){var w;w=(g?g.find(function(v){return v.key === t.key;}):void 0) || ({});return {id:t.id,name:t.name,dc:t.dc,type:t.type,Kra:t.key,Gcc:t.D3a,location:{id:w.key,dc:w.dc,level:w.level,weight:w.weight,vj:[]}};});u.sort(function(t,w){return t.dc - w.dc;});u.forEach(function(t){return t.location.vj=u.filter(function(w){return w.Kra === t.Kra;});});this.log.trace("Transformed cdns",{Count:u.length});if(h && !u.length)throw Error("no valid cdns");return u;};c.prototype.ELb=function(d,g,h,l){var n;n=d.filter(function(q){return -1 === h.findIndex(function(p){return p.id === q.id;});}).map(function(q){return {s6a:!0,Pc:q};}).concat(h.map(function(q){return {s6a:!1,Pc:q};})).sort(function(q,p){return q.Pc.dc === p.Pc.dc?q.s6a?-1:1:q.Pc.dc - p.Pc.dc;}).map(function(q,p){(0,k.tO)(q.Pc).dc=p + 1;return q.Pc;});d=g.filter(function(q){return -1 === l.findIndex(function(p){return p.key === q.key;});}).concat(l).map(function(q){var p;p=n.findIndex(function(u){return u.key === q.key;});(0,m.jb)(-1 !== p);p=n[p];(0,k.tO)(q).dc=p.dc;return q;});return {OZb:n,pPb:d};};b.ABa=c;},function(r,b,a){var f,k,m,d;function c(g,h,l,n,q){this.log=g;this.config=h;this.j=l;this.IU=n;this.Jua=q;}Object.defineProperty(b,"__esModule",{value:!0});b.wMa=void 0;f=a(45);k=a(11);m=a(132);d=a(471);c.prototype.W6a=function(g,h){var l;l=this;h=h.map(function(n){var q,p,u,t,w;u=l.P2b(n);n.TD || !n.yi || u && 0 < u.length || l.log.error("track without downloadables",l.yIb(n));t={};w=[];0 < u.length && (t=n.language && 0 <= l.config.VN.indexOf(n.language)?u[1] && u[1].profile === f.Dl.REa?u[1]:u[0]:u[0],t.profile == f.Dl.JK && (t=l.BZb(u),!1),w=l.IU.fua(n.lTa,void 0,!1));n=l.Jua(l.j,n.xg,n.id,null !== (q=n.dc) && void 0 !== q?q:-1,null !== (p=n.yi) && void 0 !== p?p:!0,g,t.Dc,t.urls || ({}),w,n.language,n.XD,m.d2[n.xl.toLowerCase()] || m.Np.NK,n.DJ,n.variant,n.VI.toUpperCase(),t.profile,l.EIb(t) || ({}),n.TD,n.h8,n.k8,n.zu);l.log.trace("Transformed timed text track",n);return n;});this.log.trace("Transformed timed text tracks",{Count:h.length});return h;};c.prototype.n2b=function(g){var h,l;h=this;l=this.config.Ina;if(l){if(g=ba(g.filter(function(n){return n.Vf == l || n.trackId == l;})).next().value)return g;}else if(this.j.o6 && (g=ba(g.filter(function(n){return n.trackId == h.j.o6;})).next().value))return g;};c.prototype.P2b=function(g){var h,l;h=this;l=g.nWa;g=Object.entries(g.Kya || ({})).map(function(n){var q;q=ba(n);n=q.next().value;q=q.next().value;return {Dc:l[n],profile:n,size:q.size || 0,priority:h.FHb(n,q),offset:q.Ssa || 0,OUb:q.width,j7a:q.height,urls:q.Jw};});g.sort(function(n,q){return n.priority - q.priority;});return g;};c.prototype.FHb=function(g,h){var l,n;l=this.config.xv.indexOf(g);h=h.size;n=this.config.lQ;return g === f.Dl.Yca && 0 < n && h > n?this.config.xv.length + 1:0 <= l?l:this.config.xv.length;};c.prototype.EIb=function(g){if(g.profile === f.Dl.JK)return {offset:g.offset,length:g.size,eJ:{width:g.OUb,height:g.j7a}};};c.prototype.BZb=function(g){var h,l;h=this.config.eqa || d.Nfa.t_a();l=ba(g.filter(function(n){return n.profile === f.Dl.JK;}).filter(function(n){return n.j7a === h;})).next().value;if(l)return l;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:k.Pv.height,intendedResolution:h});return g[0];};c.prototype.yIb=function(g){return {isNone:g.TD,isForced:g.h8,bcp47:g.language,id:g.xg};};b.wMa=c;},function(r,b,a){var f;function c(k,m,d,g,h){this.IU=k;this.mya=m;this.Y2b=d;this.qU=g;this.Kdb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.VGa=void 0;f=a(284);c.prototype.U6a=function(k){var m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A;g=k.Nb;h=null !== (d=null === (m=g.F4) || void 0 === m?void 0:m.Ds) && void 0 !== d?d:"";l=! !g.TY;m=this.IU.fua(g.tl,g.yj,!0);d=this.mya.W6a(h,g.i_);k=this.Y2b.uUb(g.a3b);n=l?this.qU.K6a(h,g.Qt,d):this.qU.pUb(h,g.Qt,g.media,d);h=this.Kdb.vUb(h,g.JB);q=h[0];p=this.qU.yub(n) || n.find(function(B){return l?B.trackId === g.TY.Dn:B.rA === g.p5[0].Dn;}) || n[0];u=this.mya.n2b(p.$h) || d.find(function(B){return l?B.trackId === g.TY.mQ:B.rA === g.p5[0].ibb;}) || p.$h[0];t=this.Kdb.rUb(g.JB);w=g.zi;v=g.qxb;x=g.LH;y=g.Bm;z=g.Qt.findIndex(function(B){return B.xg == p.trackId;});A=g.JB.findIndex(function(B){return B.xg == q.trackId;});return {fv:t,vj:m,Ri:n,Dp:h,$h:d,BB:k,zi:w,SZb:v,ZH:x,Bm:y,JBb:z,TBb:A,q5:q,eV:p,gV:u};};c.prototype.FLb=function(k,m,d){var g,h,l,n,q,p;g=this;n=this.IU.ELb(k.Nb.tl,k.Nb.yj,d.Nb.tl,d.Nb.yj);q=n.OZb;n=n.pPb;(0,f.tO)(k.Nb).tl=q;(0,f.tO)(k.Nb).yj=n;m.vj=this.IU.fua(q,n,!0);p=null !== (l=null === (h=d.Nb.F4) || void 0 === h?void 0:h.Ds) && void 0 !== l?l:"";d=d.Nb;h=d.Qt;d.i_.forEach(function(u){var t;if(u.yi){t=g.f9a(k.Nb.i_,m.$h,u,function(w){return g.mya.W6a(p,[w])[0];});t && m.Ri.forEach(function(w){var v;w=w.$h;v=w.findIndex(function(x){return x.trackId === t.trackId;});-1 !== v && (w[v]=t);});}});h.forEach(function(u){u.yi && g.f9a(k.Nb.Qt,m.Ri,u,function(t){return g.qU.K6a(p,[t],m.$h)[0];});});return {oa:k,Tc:m};};c.prototype.eZb=function(k,m){return this.qU.pFb(k,m);};c.prototype.f9a=function(k,m,d,g){var h,l,n,q;h=k.findIndex(function(p){return p.xg === d.xg;});l=-1 !== h?k[h]:void 0;n=m.findIndex(function(p){return p.trackId === d.xg;});q=-1 !== n?m[n]:void 0;if(l && !l.yi && q && !q.yi)return (g=g(d),k[h]=d,m[n]=g);};b.VGa=c;},function(r,b){function a(c,f,k){this.log=c;this.j=f;this.Cya=k;}Object.defineProperty(b,"__esModule",{value:!0});b.TMa=void 0;a.prototype.uUb=function(c){var f;f=this;c=(c || []).filter(function(k){return k.urls && 0 < k.urls.length;}).map(function(k){return f.Cya(f.j,k.id,k.height,k.width,k.TUb,k.UUb,k.size,k.zu,{unknown:k.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(k,m){return k.size - m.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.TMa=a;},function(r,b,a){var f,k,m,d,g,h,l;function c(n,q,p){n=k.bS.call(this,n) || this;n.config=q;n.j=p;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.wAa=void 0;f=a(454);k=a(472);m=a(105);d=a(91);g=a(132);h=a(3);l=a(40);na(c,k.bS);c.prototype.K6a=function(n,q,p){var u,t;u=this;t=this.config.bba;q=q.filter(function(w){var v,x;v=w.TD || !w.yi || w.streams && 0 < w.streams.length;v || u.log.warn("Audio track is missing streams",u.j7(w));x=0 === t.length || 0 <= t.indexOf(w.xl);x || u.log.warn("Audio track is not supported",u.j7(w));return v && x;});if(!q.length)throw Error("no valid audio tracks");q=q.map(function(w){return u.J6a(n,w,u.HGb(w,p));});this.log.trace("Parsed audio tracks",{Count:q.length});return q;};c.prototype.pUb=function(n,q,p,u){var t,w,v,x;t=this;w=ba((0,m.Tu)(function(y){return y.TD;},q));q=w.next().value;w=w.next().value;w=ba((0,m.Tu)(function(y){return y.streams && 0 < y.streams.length;},w));v=w.next().value;w.next().value.forEach(function(y){return t.log.warn("Audio track is missing streams",t.j7(y));});x=this.config.bba;w=ba((0,m.Tu)(function(y){return 0 === x.length || 0 <= x.indexOf(y.xl);},v));v=w.next().value;w.next().value.forEach(function(y){return t.log.warn("Audio track is not supported",t.j7(y));});q=[].concat(ha(v),ha(q)).map(function(y){return t.J6a(n,y,t.uIb(y.xg,p,u));});if(!q.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:q.length});return q;};c.prototype.yub=function(n){var q,p;q=this;p=this.config.Ena;if(p){if(n=ba(n.filter(function(u){return u.Vf == p || u.trackId == p;})).next().value)return n;}else if(this.j.n6 && (n=ba(n.filter(function(u){return u.trackId == q.j.n6;})).next().value))return n;};c.prototype.pFb=function(n,q){this.config.rSa.forEach(function(p){var u,t,w;u=q.Qt.filter(function(v){return v.profile === p;}).reduce(function(v,x){x.streams.map(function(y){return y.bitrate;}).forEach(function(y){v.add(y);});return v;},new Set());t=!1;w=n.Nb.Qt.map(function(v){var x;if(v.profile === p){x=v.streams.filter(function(y){return u.has(y.bitrate);});if(x.length === v.streams.length)return v;t=!0;if(0 === x.length)throw new l.od(h.N.AGa,h.M.Eeb);return Object.assign(Object.assign({},v),{streams:x});}return v;});t && (n.Nb=Object.assign(Object.assign({},n.Nb),{Qt:w}));});return n;};c.prototype.J6a=function(n,q,p){var u,t,w,v;v=q.xl;n={type:d.Ki.audio,DJ:q.DJ,variant:q.variant,trackId:q.xg,rA:q.pQ,xl:g.d2[v.toLowerCase()] || g.Np.NK,VI:v,Mg:n,Vf:q.language,displayName:q.XD,dc:null !== (u=q.dc) && void 0 !== u?u:-1,yi:null !== (t=q.yi) && void 0 !== t?t:!0,channels:q.channels,Uac:q.channels,$h:p,Uh:{Bcp47:q.language,TrackId:q.xg},streams:[],isNative:q.isNative,Iq:q.TD,XZ:q.XZ};n.streams=this.kcb(q.streams,n);this.log.trace("Transformed audio track",n,{StreamCount:n.streams.length,AllowedTimedTextTracks:n.$h.length});n.yxb=f.xAa[null === (w=n.streams[0]) || void 0 === w?void 0:w.Lg];return n;};c.prototype.j7=function(n){return {language:n.XD,bcp47:n.language,type:n.xl};};c.prototype.HGb=function(n,q){return q.filter(function(p){if(0 <= n.GCb.indexOf(p.rA))return !1;if(n.DVa){if(n.DVa !== p.rA && (p.Iq() || p.ip()))return !1;}else if(n.QSb){if(p.Iq() || p.ip())return !1;}else if(p.ip())return !1;return !0;});};c.prototype.uIb=function(n,q,p){return q.filter(function(u){return u.gg.Xb === n;}).map(function(u){return u.gg.qn;}).map(function(u){return p.find(function(t){return t.trackId === u;});}).filter(Boolean);};b.wAa=c;},function(r,b,a){var f,k,m,d;function c(g){return k.bS.call(this,g) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.rNa=void 0;f=a(105);k=a(472);m=a(91);d=a(132);na(c,k.bS);c.prototype.vUb=function(g,h){var l,n;l=this;h=ba((0,f.Tu)(function(q){return q.streams && 0 < q.streams.length;},h));n=h.next().value;h.next().value.forEach(function(q){return l.log.warn("Video track is missing streams",{trackId:q.xg});});h=n.map(function(q){var p;p=q.xl;p={type:m.Ki.video,trackId:q.xg,rA:q.pQ,xl:d.d2[p.toLowerCase()] || d.Np.NK,VI:p,Mg:g,streams:[],Uh:{},cv:q.cv};p.streams=l.kcb(q.streams,p);l.log.trace("Transformed video track",{StreamCount:p.streams.length});return p;});if(!h.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:h.length});return h;};c.prototype.rUb=function(g){var h;h=g.map(function(l){return l.cv;}).filter(Boolean);h=[].concat.apply([],ha(h)).map(function(l){return l.ga;});g=g.map(function(l){return l.uma;}).filter(Boolean).map(function(l){return l.ga;});return 0 < h.length?h:g;};b.rNa=c;},function(r,b,a){var f,k,m,d,g,h;function c(l,n){l=k.af.call(this,l,"ManifestParserConfigImpl") || this;l.Zi=n;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.SGa=void 0;r=a(1);f=a(0);k=a(47);m=a(37);d=a(46);g=a(110);h=a(52);na(c,k.af);Ya.Object.defineProperties(c.prototype,{bba:{configurable:!0,enumerable:!0,get:function(){return [];}},Ena:{configurable:!0,enumerable:!0,get:function(){return "";}},tka:{configurable:!0,enumerable:!0,get:function(){return [];}},ska:{configurable:!0,enumerable:!0,get:function(){return [];}},Ina:{configurable:!0,enumerable:!0,get:function(){return "";}},eqa:{configurable:!0,enumerable:!0,get:function(){return 0;}},lQ:{configurable:!0,enumerable:!0,get:function(){return this.Zi.lQ.da(h.Dv);}},xv:{configurable:!0,enumerable:!0,get:function(){return this.Zi.xv;}},VN:{configurable:!0,enumerable:!0,get:function(){return this.Zi.VN;}},rSa:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}}});a=c;r.__decorate([d.config(d.BJ,"supportedAudioTrackTypes")],a.prototype,"bba",null);r.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"Ena",null);r.__decorate([d.config(d.Mya,"cdnIdWhiteList")],a.prototype,"tka",null);r.__decorate([d.config(d.Mya,"cdnIdBlackList")],a.prototype,"ska",null);r.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"Ina",null);r.__decorate([d.config(d.CB,"imageSubsResolution")],a.prototype,"eqa",null);r.__decorate([d.config(d.CB,"timedTextSimpleFallbackThreshold")],a.prototype,"lQ",null);r.__decorate([d.config(d.BJ,"timedTextProfiles")],a.prototype,"xv",null);r.__decorate([d.config(d.BJ,"imscLanguageList")],a.prototype,"VN",null);r.__decorate([d.config(d.BJ,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"rSa",null);a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.fm)),r.__param(1,(0,f.l)(g.JF))],a);b.SGa=a;},function(r,b){function a(c){this.Tc=c;this.yb=JSON.stringify(this.BIb());}Object.defineProperty(b,"__esModule",{value:!0});b.YGa=void 0;a.prototype.BIb=function(){var c;c=[];(!this.Tc.vj || 0 >= this.Tc.vj.length) && c.push({error:"No CDN."});this.Tc.eV || c.push({error:"No default audio track.",foundTracks:this.soa(this.Tc.Ri)});this.Tc.q5 || c.push({error:"No default video track.",foundTracks:this.soa(this.Tc.Dp)});this.Tc.gV || c.push({error:"No default subtitle track.",foundTracks:this.soa(this.Tc.$h)});return c;};a.prototype.soa=function(c){return c && 0 < c.length?c.map(function(f){return f.trackId;}):"No tracks found.";};b.YGa=a;},function(r,b,a){var f,k,m,d,g;function c(h,l){this.KOb=h;this.RPb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.QGa=void 0;r=a(1);f=a(0);k=a(477);m=a(478);d=a(40);g=a(3);c.prototype.create=function(h){var l;if(h && !this.lNb(h)){if(this.qNb(h))throw d.od.u5b(g.N.DK,g.M.fmb,h);l=this.KOb();l.XQa(h.links);this.RPb.hN(h);return {Nb:h,yk:l,W1a:!1,V1a:!1};}};c.prototype.qNb=function(h){return ("type" in h) && "muxed" === h.type;};c.prototype.lNb=function(h){return ("runtime" in h) && ! !h.runtime;};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.XIa)),r.__param(1,(0,f.l)(m.PGa))],a);b.QGa=a;},function(r,b,a){var f,k;function c(m){this.tEb=m;this.N3a={Wo:"drmType",wbc:"drmVersion",expiration:"expiration",K:"movieId",op:"packageId",duration:"duration",zi:"playbackContextId",p5:["defaultTrackOrderList",{xO:"mediaId",BQ:"videoTrackId",ibb:"subtitleTrackId",Dn:"audioTrackId",hec:"preferenceOrder"}],Bbc:["eligibleABTestMap",{sn:k.sn}],Eac:["badgingInfo",{pbc:"dolbyDigitalAudio",mcc:"hdrVideo",qbc:"dolbyVisionVideo",ofc:"ultraHdVideo","3dVideo":"3dVideo",obc:"dolbyAtmosAudio",xac:"assistiveAudio",Cec:"sdVideo",lcc:"hdVideo"}],type:"type",Aac:["audioTextShortcuts",{id:"id",Dn:"audioTrackId",dfc:"textTrackId"}],cec:"partiallyHydrated",o4a:"maxRecommendedAudioRank",p4a:"maxRecommendedTextRank",Bm:"drmContextId",NKb:"hasDrmProfile",MKb:"hasClearProfile",LH:"hasDrmStreams",Gpa:"hasClearStreams",yj:["locations",{dc:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],tl:["servers",{id:"id",name:"name",type:"type",dc:"rank",D3a:"lowgrade",QCb:["dns",{host:"host",LMb:"ipv4",MMb:"ipv6",ZFb:"forceLookup"}],key:"key"}],Qt:["audio_tracks",{type:"type",DJ:"subType",variant:"variant",xl:"trackType",xg:"new_track_id",pQ:"track_id",BWb:"profileType",Q0b:"stereo",profile:"profile",channels:"channels",language:"language",Cwb:"channelsFormat",XZ:"surroundFormatLabel",XD:"languageDescription",GCb:"disallowedSubtitleTracks",DVa:"defaultTimedText",isNative:"isNative",TD:"isNoneTrack",streams:["streams",{ds:"downloadable_id",size:"size",YG:"content_profile",xl:"trackType",bitrate:"bitrate",ml:"isDrm",urls:["urls",{lq:"cdn_id",url:"url"}],TRb:"new_stream_id",type:"type",channels:"channels",Cwb:"channelsFormat",XZ:"surroundFormatLabel",language:"language",zac:"audioKey",DRb:["moov",{size:"size",offset:"offset"}],Vs:["sidx",{size:"size",offset:"offset"}],tB:["ssix",{size:"size",offset:"offset"}],vl:"tags"}],yxb:"codecName",VI:"rawTrackType",id:"id",dc:"rank",yi:"hydrated",QSb:"offTrackDisallowed"}],JB:["video_tracks",{xl:"trackType",xg:"new_track_id",type:"type",pQ:"track_id",NKb:"hasDrmProfile",MKb:"hasClearProfile",LH:"hasDrmStreams",Gpa:"hasClearStreams",hA:"groupName",streams:["streams",{ds:"downloadable_id",size:"size",YG:"content_profile",xl:"trackType",qWa:"drmHeaderId",bitrate:"bitrate",ml:"isDrm",urls:["urls",{lq:"cdn_id",url:"url"}],TRb:"new_stream_id",type:"type",eec:"peakBitrate",yCb:"dimensionsCount",zCb:"dimensionsLabel",l7a:"pix_w",k7a:"pix_h",u9a:"res_w",t9a:"res_h",fBb:"crop_x",gBb:"crop_y",eBb:"crop_w",dBb:"crop_h",oYa:"framerate_value",nYa:"framerate_scale",Fab:"startByteOffset",xb:"vmaf",DRb:["moov",{size:"size",offset:"offset"}],Vs:["sidx",{size:"size",offset:"offset"}],tB:["ssix",{size:"size",offset:"offset"}],dr:["segmentVmaf",{offset:"offset",xb:"vmaf"}],vl:"tags"}],BWb:"profileType",Q0b:"stereo",profile:"profile",yCb:"dimensionsCount",zCb:"dimensionsLabel",Tec:["snippets",{sn:[k.sn,{Sec:"snippetSpec",Aa:"startTimeMs",Ba:"endTimeMs"}]}],uma:["drmHeader",{ga:"bytes",Vwb:"checksum",qWa:"drmHeaderId",wj:"keyId",eJ:["resolution",{height:"height",width:"width"}]}],cv:["prkDrmHeaders",{ga:"bytes",Vwb:"checksum",qWa:"drmHeaderId",wj:"keyId",eJ:["resolution",{height:"height",width:"width"}]}],ou:"flavor",vcc:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",RUb:"pixelAspectX",SUb:"pixelAspectY",adc:"maxCroppedWidth",$cc:"maxCroppedHeight",bdc:"maxCroppedX",cdc:"maxCroppedY",jdc:"max_framerate_value",idc:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",xdc:"minCroppedWidth",wdc:"minCroppedHeight",ydc:"minCroppedX",zdc:"minCroppedY",bh:["license",{GOb:"licenseResponseBase64",kec:"providerSessionToken",Gec:"secureStopExpected",vbc:"drmSessionId",links:["links",{}]}]}],F4:["cdnResponseData",{pJ:"sessionABTestCell",Ds:"pbcid"}],Fn:["choiceMap",{Pd:"initialSegment",type:"type",S:"viewableId",V:["segments",{sn:[k.sn,{Aa:"startTimeMs",Ba:"endTimeMs",next:["next",{sn:[k.sn,{weight:"weight"}]}],Md:"defaultNext",zq:"exitZones"}]}]}],Fw:["contentPlaygraph",{ma:["playgraph",{Pd:"initialSegment",V:["segments",{sn:[k.sn,{S:"viewableId",Aa:"startTimeMs",Ba:"endTimeMs",next:["next",{sn:[k.sn,{weight:"weight"}]}],Md:"defaultNext"}]}]}],Hab:["startIdent",{Q0a:"identToken",S:"viewableId"}]}],media:["media",{id:"id",gg:["tracks",{Xb:"AUDIO",qn:"TEXT",Pb:"VIDEO"}]}],TY:["recommendedMedia",{BQ:"videoTrackId",Dn:"audioTrackId",mQ:"timedTextTrackId"}],i_:["timedtexttracks",{xl:"trackType",xg:"new_track_id",type:"type",DJ:"subType",variant:"variant",VI:"rawTrackType",XD:"languageDescription",language:"language",id:"id",TD:"isNoneTrack",h8:"isForcedNarrative",nWa:["downloadableIds",{}],lTa:["cdnlist",{id:"id",name:"name",type:"type",dc:"rank",D3a:"lowgrade",QCb:["dns",{host:"host",LMb:"ipv4",MMb:"ipv6",ZFb:"forceLookup"}],key:"key"}],Kya:["ttDownloadables",{sn:[k.sn,{id:"id",size:"size",cfc:"textKey",kcc:"hashValue",jcc:"hashAlgo",Fcc:"isImage",Ssa:"midxOffset",P4a:"midxSize",height:"height",width:"width",Jw:["downloadUrls",{}],urls:["urls",{url:"url",lq:"cdn_id"}]}]}],k8:"isLanguageLeftToRight",zu:"headIdentDuration",dc:"rank",yi:"hydrated"}],a3b:["trickplays",{ds:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",UUb:"pixelsAspectY",TUb:"pixelsAspectX",width:"width",height:"height",zu:"headIdentDuration"}],Vdb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],ubc:"dpsid",bj:"isBranching",zfc:"viewableType",jO:"isSupplemental",qxb:"clientIpAddress",tfc:"urlExpirationDuration",Wcc:"manifestExpirationDuration",Xec:["steeringAdditionalInfo",{Yec:"steeringId",uac:"additionalGroupNames",$ec:["streamingClientConfig",{}]}],Si:"auxiliaryManifestToken"};this.SPb=Object.assign(Object.assign({},this.N3a),{sSa:["auxiliaryManifests",this.N3a]});}Object.defineProperty(b,"__esModule",{value:!0});b.OGa=void 0;r=a(1);f=a(0);k=a(213);c.prototype.hN=function(m){this.tEb.hN(m,this.SPb);};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.BDa))],a);b.OGa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bVa=void 0;b.bVa=function(a,c,f,k){return {oJb:function(){var m;m=a.Ooa();k.zu && (m+=k.zu);return m;},wa:c,request:f,wf:!1};};},function(r,b,a){var f,k,m,d,g;function c(h,l){var n;h=f.EventEmitter.call(this) || this;h.content="";h.entries=[];(0,k.jb)(("videoSize" in l) && ("xml" in l) && ! !l.xml,"Subtitle options didn't contain XML data");("videoSize" in l) && ("xml" in l) && (h.content=null !== (n=l.xml) && void 0 !== n?n:"",h.HB=l.videoSize);return h;}Object.defineProperty(b,"__esModule",{value:!0});b.WFa=void 0;f=a(17);k=a(22);m=a(14);d=a(30);g=a(1087);na(c,f.EventEmitter);c.prototype.xH=function(h){var l;(0,d.Zc)(h) && (0,d.Zc)(this.duration) && h < this.duration && this.entries && (l=this.URb || this.entries[Math.floor(h * this.l2b)] || this.entries[0]);if(l){for(;l && l.endTime < h;){l=l.next;}for(;l && l.previous && l.previous.endTime >= h;){l=l.previous;}this.URb=l;}return l?[l]:[];};c.prototype.MN=function(h,l){var n;n=[];try{n=this.entries.filter(function(q){var p;p=ba([q.startTime,q.endTime]);q=p.next().value;p=p.next().value;return q >= h && q <= l || q <= h && h <= p;});}catch(q){}return n;};c.prototype.ks=function(h,l){return this.MN(h,l).reduce(function(n,q){return n + q.blocks.length;},0);};c.prototype.start=function(){var h,l;h=this;if(this.content)(0,g.T6a)(this.content,this.HB.width / this.HB.height,m.config.tya,m.config.kba).then(function(n){h.duration=n && Math.max.apply(Math,ha(n.map(function(q){return q.endTime;}))) || 0;h.l2b=n && n.length / h.duration || 0;h.entries=n;h.emit("ready");}).catch(function(n){h.emit("error",n);});else {l=Error("Subtitle content was empty");l.errorDetails="Subtitle content was empty";this.emit("error",l);}};c.prototype.pause=function(){};c.prototype.stop=function(){};c.prototype.mva=function(){throw Error("Method not implemented.");};c.prototype.ft=function(){throw Error("Method not implemented.");};c.prototype.rB=function(){throw Error("Method not implemented.");};c.prototype.Di=function(){throw Error("Method not implemented.");};c.prototype.Fi=function(){throw Error("Method not implemented.");};b.WFa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.T6a=void 0;c=a(1088);f=a(286);b.T6a=function(k,m,d,g){return new Promise(function(h,l){(0,f.Hza)(k,function(n){n.aa?(n=n.object,(0,c.L6a)(n,m,d,g,function(q){q.aa?h(q.entries):l(q);})):l(n);});});};},function(r,b,a){var c,f,k,m,d,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.N6a=b.M6a=b.gua=b.P6a=b.kUb=b.lUb=b.O6a=b.Q6a=b.r$=b.R6a=b.S6a=b.L6a=void 0;c=a(22);f=a(30);k=a(12);m=a(160);d=a(11);g=a(18);h=a(24);b.L6a=(function(){var F,G,C,H,K,M,I,Q,L,J,N,O;function l(P){if((0,f.uA)(P)){P=P.toLowerCase();if("#" == P[0]){if(7 == P.length)return P;if(4 == P.length)return "#" + P[1] + P[1] + P[2] + P[2] + P[3] + P[3];}return b.Q6a[P];}}function n(P,S,U){S=S[P];0 <= S || (S=parseFloat(P));if(0 <= S)return (0,d.Ip)(S,U);}function q(P,S){var U,Z;U=P.length;Z=P[U - 1];if("t" === Z)return parseFloat(P) * S | 0;if("s" === Z)return "m" === P[U - 2]?parseFloat(P) | 0:parseFloat(P) * k.cm | 0;if((P=P.match(L)) && 4 <= P.length)return (3600 * parseInt(P[1],10) + 60 * parseInt(P[2],10) + parseFloat(P[3])) * k.cm | 0;throw Error("dfxp-badtime");}function p(P,S,U,Z,ja){var ya,ra,Y,pa,T,R,ea,sa;ya=void 0;if(P){ra=P.style;U=ra?U[ra]:void 0;Z=(ra=P.region)?Z[ra]:void 0;ra=ja.length;for(Y=0;Y < ra;Y++){T=ja[Y];R=P[T];void 0 === R && U && (R=U[T]);void 0 === R && Z && (R=Z[T]);if(void 0 !== R && R !== S[T]){if(!ya)for((ya={},pa=0);pa < ra;pa++){ea=ja[pa];sa=S[ea];void 0 !== sa && (ya[ea]=sa);}ya[T]=R;}}}return ya || S;}function u(P,S,U,Z,ja,ya,ra,Y,pa){var R,ea;function T(sa,la,Ka){var Ua,$a,Za,cb,Va,Qa;Ua=sa[m.Pk];$a=Ua.style || la.style || "";Za=Ua.region || la.region || "";if($a || Za)(cb=$a + "/" + Za,Va=U[cb]);else Va=S;if(!Va){Va=S;Qa=(0,f.SP)(Z);(0,f.ac)(Qa,ja[$a]);Va=x(Va,Qa,ra,Y,pa);U[$a + "/"]=Va;Za && ((0,f.ac)(Qa,ya[Za]),(0,f.ac)(Qa,ja[$a]),Va=x(Va,Qa,ra,Y,pa),U[cb]=Va);}if(!Ka)a:{for(Ka=M.length;Ka--;){if(void 0 !== Ua[M[Ka]]){Ka=!0;break a;}}Ka=void 0;}Ka && (Ua=p(Ua,la,ja,ya,I),Va=x(Va,Ua,ra,Y,pa));la=(sa=sa[m.IQ]) && sa.length;for($a=0;$a < la;$a++){Za=sa[$a];(0,f.Rh)(Za)?J.test(Za[m.JQ])?ea++:T(Za,Ua,Ka):(R.push({text:Za,lineBreaks:ea,style:Va}),ea=0);}}R=[];ea=0;T(P,Z,!1);0 < ea && R.push({text:"",lineBreaks:ea,style:S});return R;}function t(P,S,U,Z,ja,ya,ra,Y){var pa,T;U && (U=G[U] || "top",P.verticalAlignment !== U && (P.verticalAlignment=U));Z && (U=C[Z] || "left",P.horizontalAlignment !== U && (P.horizontalAlignment=U));if(ja){if(pa=Y[ja])(Z=pa.marginLeft,U=pa.marginTop);else {T=ja.split(" ");Z=z(T[0],ra.x) || 0;U=z(T[1],ra.y) || 0;pa={Cm:0,marginLeft:Z,marginTop:U,mtb:Z * S.Cpa + S.AW,otb:U * S.oza + S.Lba};30 > Y.Cm && (Y.Cm++,Y[ja]=pa);}P.marginLeft=pa.mtb;P.marginTop=pa.otb;}else (U=Z=0,(pa=Y["default"]) || (Y["default"]=pa={Cm:0}));ya && (ja=pa[ya],ja || (T=ya.split(" "),ja={ntb:(1 - (Z + (z(T[0],ra.x) || 0))) * S.Cpa + S.AW,ltb:(1 - (U + (z(T[1],ra.y) || 0))) * S.oza + S.Lba},30 > pa.Cm && (pa.Cm++,pa[ya]=ja)),P.marginRight=ja.ntb,P.marginBottom=ja.ltb);}function w(P,S,U,Z,ja){var ya,ra,Y;ya=P.displayAlign;ra=P.textAlign;Y=P.origin;P=P.extent;U=(0,f.SP)(U);t(U,S,ya,ra,Y,P,Z,ja);U.id=F++;return U;}function v(P,S,U,Z){var ja,ya,ra,Y,pa,T;ja=n(U.characterSize || S.characterSize,b.R6a,2) || 1;ya=(ya=P.fontSize) && N.test(ya)?(0,f.Jp)((0,f.Ie)(ya),25,200):void 0;ja*=ya / 100 || 1;if((ya=P.textOutline) && "none" != ya){ra=ya.split(" ");if(O.test(ra))(Y=0,pa=P.color);else (Y=1,pa=l(ra[0]));T=y(ra[Y]);ra=y(ra[Y + 1]);}return {characterStyle:U.characterStyle || b.S6a[P.fontFamily] || S.characterStyle,characterSize:ja * Z,characterColor:l(U.characterColor || P.color || S.characterColor),characterOpacity:n((0,f.M4)(U.characterOpacity,P.opacity,S.characterOpacity),b.r$,1),characterEdgeAttributes:U.characterEdgeAttributes || ya && ("none" === ya?b.O6a:ra?b.gua:b.P6a) || S.characterEdgeAttributes,characterEdgeColor:l(U.characterEdgeColor || pa || S.characterEdgeColor),characterEdgeWidth:T,characterEdgeBlur:ra,characterItalic:"italic" === P.fontStyle,characterUnderline:"underline" === P.textDecoration,backgroundColor:l(U.backgroundColor || P.backgroundColor || S.backgroundColor),backgroundOpacity:n((0,f.M4)(U.backgroundOpacity,P.opacity,S.backgroundOpacity),b.r$,1)};}function x(P,S,U,Z,ja){var ya;S=v(S,U,Z,ja);(0,h.ve)(S,function(ra,Y){Y !== P[ra] && (ya || (ya=(0,d.HF)(P)),ya[ra]=Y);});return ya || P;}function y(P){P=(0,f.Ie)(P);return (0,g.tA)(P,0,100)?P:0;}function z(P,S){var U;U=P[P.length - 1];if("%" === U)return (0,f.Jp)(.01 * parseFloat(P),0,1);if("c" === U)return (0,f.Jp)((0,f.Ie)(P) / S,0,1);}function A(P){for(var S=P.length,U=P[--S].endTime;S--;){U=(0,d.Ip)(P[S].endTime,U);}return U;}function B(P){(0,h.ve)(P,function(S,U){0 <= S.toLowerCase().indexOf("color") && (P[S]=l(U));});}function E(P,S){var U,Z,ja,ya;U=P.pixelAspectRatio;Z={AW:0,Cpa:1,Lba:0,oza:1};P=(P.extent || "640px 480px").split(" ");if(2 <= P.length){U=(U || "").split(" ");ja=parseFloat(P[0]) * (parseFloat(U[0]) || 1);ya=parseFloat(P[1]) * (parseFloat(U[1]) || 1);}ja=0 < ja && 0 < ya?ja / ya:1280 / 720;S=S || 1280 / 720;U=ja / S;.01 < (0,d.wF)(S - ja) && (S >= ja?(Z.AW=(1 - U) / 2,Z.Cpa=U):(0,c.jb)(!1,"not implemented"));return Z;}function D(P){var S,U,Z,ja,ya;if(S=P.cellResolution)if((S=S.split(" "),2 <= S.length)){U=(0,f.Ie)(S[0]);S=(0,f.Ie)(S[1]);if(0 < U && 0 < S)return {x:U,y:S};}if((S=P.extent) && (S=S.split(" "),2 <= S.length)){U=(0,f.Ie)(S[0]);Z=(0,f.Ie)(S[1]);if(P=P.pixelAspectRatio){S=P.split(" ");ja=(0,f.Ie)(S[0]);ya=(0,f.Ie)(S[1]);}if(U && Z && 1.5 < U * (ja || 1) / (Z * (ya || 1)))return b.N6a;}return b.M6a;}F=1;G={before:"top",center:"center",after:"bottom"};C={left:"left",start:"left",center:"center",right:"right",end:"right"};H={id:F++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};K={id:F++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};M=("fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline").split(" ");I=M.concat(["style","region"]);Q=["region","textAlign","displayAlign","extent","origin"];L=/^([0-9]+):([0-9]+):([0-9.]+)$/;J=/^br$/i;N=/^[0-9]{1,3}%$/;O=/^[0-9]/;return function(P,S,U,Z,ja){var pa,T,R,ea,sa,la,Ka,Ua,$a,Za,cb,Va,Qa,xa,Ea,Na,Xa,hb,wb,Fb,Nb,Cb,Kb,Ub,mc,Ec,Md,se,Nd,gd;function ya(){var ec,hc,Xb,nc,dc,tb,Vc,qb,Sb,bc,uc,Wc,fc,vc,Od,Xc,hd;try{for(var qc;Kb;){hb=Kb[m.Pk];ec=Ub;hc=ec.push;Xb=F++;nc=q(hb.begin,R);dc=q(hb.end,R);tb=void 0;Vc=Ua;qb=ea;Sb=Va;bc=Na;uc=Kb[m.Pk];Wc=p(Kb[m.Pk],Ec,la,Ka,Q);fc=Wc.region;vc=uc.displayAlign;Od=Wc.textAlign;Xc=uc.origin;hd=uc.extent;fc || vc || Od || Xc || hd?((tb=Vc[fc])?tb=(0,d.HF)(tb):vc || Xc || hd?(tb=(0,d.HF)(K),tb.id=F++):tb=(0,d.HF)(H),t(tb,qb,vc,Od,Xc,hd,Sb,bc)):tb=H;hc.call(ec,{id:Xb,startTime:nc,endTime:dc,region:tb,textNodes:u(Kb,Md,se,mc,la,Ka,xa,Ea,Qa)});Kb=Kb[m.ZE];qc=(0,d.kK)();if(100 < qc - Nd){Nd=Date.now();gd=setTimeout(ya,1);return;}}}catch(te){Y({ta:f.M.R0,yb:(0,f.wd)(te)});return;}gd=setTimeout(ra,1);}function ra(){var ec,hc,Xb,nc,dc,tb,Vc;function qc(qb,Sb){for(var bc,uc=[],Wc={},fc,vc=hc.length;vc--;){bc=hc[vc];fc=bc.region.id;Wc[fc] || (Wc[fc]=1,uc.unshift(bc));}(bc=ec[ec.length - 1]) && bc.endTime == qb && (0,f.Vt)(bc.blocks,uc)?bc.endTime=Sb:ec.push({id:F++,startTime:qb,endTime:Sb,blocks:uc});}try{if(!Ub.length){Y({aa:!0,entries:[]});return;}(0,f.VRa)(Ub,"startTime");ec=[];hc=[];Xb=Ub[0];nc=Ub[0].startTime;for(dc=1;hc.length || Xb;){for(;!hc.length || Xb && Xb.startTime == nc;){hc.push(Xb);nc=Xb.startTime;Xb=Ub[dc++];}Vc=A(hc);if(!Xb || Vc <= Xb.startTime)for((qc(nc,Vc),nc=Vc,tb=hc.length);tb--;){hc[tb].endTime <= nc && hc.splice(tb,1);}else (qc(nc,Xb.startTime),nc=Xb.startTime,hc.push(Xb),Xb=Ub[dc++]);}for(dc=ec.length;dc--;){ec[dc].index=dc;ec[dc].previous=ec[dc - 1];ec[dc].next=ec[dc + 1];}}catch(qb){Y({ta:f.M.R0,yb:(0,f.wd)(qb)});return;}Y({aa:!0,entries:ec});}function Y(qc){setTimeout(function(){pa.abort=f.Al;ja(qc);},1);}pa={abort:function(){gd && clearTimeout(gd);}};try{T=P[m.Pk];R=k.cm / ((0,f.Ie)(T.tickRate) || 1);ea=E(T,S);sa=(0,f.ac)(K,{marginLeft:ea.AW,marginTop:ea.Lba,marginRight:ea.AW,marginBottom:ea.Lba});la={};Ka={};Ua={};Za=P.head;cb=P.body;Va=D(T,S);Qa=1 / Va.y * ea.oza;xa=(0,f.ac)({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:b.gua,characterEdgeColor:"#000000",characterSize:1},U,{TA:!0});Ea=Z || ({});Na={Cm:0};if(Za){Xa=Za.styling;if(Xa)for($a=Xa.style;$a;){hb=$a[m.Pk];B(hb);la[hb.id]=hb;$a=$a[m.ZE];}wb=Za.layout;if(wb)for(var Eb=wb.region;Eb;){hb=Eb[m.Pk];Fb=hb.id;Nb=(0,f.SP)(la[hb.style]);Nb=(0,f.ac)(Nb,hb);for($a=Eb.style;$a;){(0,f.ac)(Nb,$a[m.Pk]);$a=$a[m.ZE];}B(Nb);Ka[Fb]=Nb;Ua[Fb]=w(Nb,ea,sa,Va,Na);Eb=Eb[m.ZE];}}Cb=cb.div;Kb=Cb.p;Ub=[];mc={};mc=p(cb[m.Pk],mc,la,Ka,I);mc=p(Cb[m.Pk],mc,la,Ka,I);Ec={};Ec=p(cb[m.Pk],Ec,la,Ka,Q);Ec=p(Cb[m.Pk],Ec,la,Ka,Q);Md=v(mc,xa,Ea,Qa);(0,f.ac)(Md,{windowColor:l(Ea.windowColor || xa.windowColor),windowOpacity:n((0,f.M4)(Ea.windowOpacity,xa.windowOpacity),b.r$,1),cellResolution:Va},{TA:!0});se={};Cb.p=void 0;Cb[m.IQ]=[];}catch(qc){Y({ta:f.M.R0,yb:(0,f.wd)(qc)});return;}Nd=(0,d.kK)();gd=setTimeout(ya,1);return pa;};})();b.S6a={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};b.R6a={SMALL:.5,MEDIUM:1,LARGE:2};b.r$={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};b.Q6a={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};b.O6a="NONE";b.lUb="RAISED";b.kUb="DEPRESED";b.P6a="UNIFORM";b.gua="DROP_SHADOW";b.M6a={x:40,y:19};b.N6a={x:52,y:19};},function(r,b,a){var c,f,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.pmb=void 0;c=a(1);r=a(116);f=a(1090);k=a(1095);m=a(1102);a=(function(d){function g(h,l){var n,q,p,u;p=d.call(this) || this;p.ek=!0;p.lT=[];p.jw=0;p.UPa=!0;u=h.wf || !1;p.Oa=h.wa || console;p.nG=h.request;p.fw=h.oJb;p.Q2=null !== (n=h.gcc) && void 0 !== n?n:function(t,w){return t - (null !== w && void 0 !== w?w:p.fw());};p.Xg=null;p.ek=!0;p.lT=[];p.BT=l.profile;p.Gl=l.url;p.kG=l.Fd;p.AT=l.preferences;p.XS=l.Zi;p.jw=p.kG || 0;p.UPa=null !== (q=l.nec) && void 0 !== q?q:!0;h={url:p.Gl,request:p.nG,Fd:p.kG,xml:l.xml,preferences:p.AT,Zi:p.XS,wa:p.Oa,wf:u,bufferSize:l.bufferSize,Pu:l.Pu,kva:l.kva || 0,OSa:l.OSa};if("nflx-cmisc" === p.BT)(h.offset=l.Ssa,h.size=l.P4a,h.xaa=l.xaa,h.EWa=l.EWa,p.pd=new k(h));else if(-1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(p.BT) && "function" === typeof f)p.pd=new f(h);else throw Error("SubtitleManager: " + p.BT + " is an unsupported profile");p.pd.on("ready",function(){var t,w;t=! !l.qSa;p.Oa.info("ready event fired by subtitle stream");p.emit("ready");w=p.pd.xH.bind(p.pd);p.Xg=new m(p.fw,w,p.Q2,function(){return p.ek;},p.Oa,l);if("dfxp-ls-sdh" === p.BT && "function" === typeof f)p.Xg.on("stagesubtitle",p.D0b.bind(p));p.Xg.on("showsubtitle",p.vxa.bind(p));p.Xg.on("removesubtitle",p.Xva.bind(p));p.Xg.on("underflow",p.oo.bind(p));p.Xg.on("bufferingComplete",p.Se.bind(p));t && (p.Oa.info("autostarting subtitles"),setTimeout(function(){p.ft(p.fw());},10));});p.pd.on("error",p.emit.bind(p,"error"));return p;}c.__extends(g,d);g.prototype.start=function(){this.pd.start();};g.prototype.mva=function(){this.ek || (this.ek=!0,this.VWa(this.jw));};g.prototype.ft=function(h){this.UPa && !this.ek && 1E4 < Math.abs(h - this.jw) && (this.Oa.warn("Detected an unexpected pts jump larger than",1E4,"at",h,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.mva());this.jw=h;this.ek && (this.ek=!1,this.F0b(h));null !== this.Xg && (this.F3b(h),this.Xg.ft(h));};g.prototype.stop=function(){var h;this.Oa.info("stop called");this.ek || this.pause();this.pd.removeAllListeners(["ready"]);null !== this.Xg && this.Xg.stop();h=this.lT.reduce(function(l,n){l.nab+=n.GZ;l.Y5+=n.Z5 || 0;l.GMb.push(n);return l;},{nab:0,Y5:0,GMb:[]});"object" === typeof this.pd && this.pd.close();this.Oa.info("metrics: " + JSON.stringify(h));return h;};g.prototype.pause=function(){var h;h=this.fw();this.ek?this.Oa.warn("pause called on subtitle manager, but it was already paused!"):(this.Oa.info("pause called at " + h),this.ek=!0,this.VWa(h));null !== this.Xg && this.Xg.pause();};g.prototype.MN=function(h,l){return "function" === typeof this.pd.MN?this.pd.MN(h,l):[];};g.prototype.ks=function(h,l){return this.pd.ks(h,l);};g.prototype.xH=function(h){return this.pd.xH(h);};g.prototype.rB=function(h){var n;function l(){n.Oa.info("bufferingComplete from setStreamStartPosition");n.emit("bufferingComplete");}n=this;"function" === typeof this.pd.rB?this.pd.rB(h,l):l();};g.prototype.Di=function(h,l){"function" === typeof this.pd.Di && this.pd.Di(h,l);};g.prototype.Fi=function(h,l){"function" === typeof this.pd.Fi && this.pd.Fi(h,l);};g.prototype.hoa=function(){return this.lT[this.lT.length - 1];};g.prototype.vxa=function(h){var l,n,q,t;n=0;this.Oa.info("show subtitle called at " + this.fw() + " for displayTime " + h.displayTime);this.emit("showsubtitle",h);q=this.hoa();q.TP || (q.TP={});if("dfxp-ls-sdh" === this.BT)try{for(var p=c.__values(h.blocks),u=p.next();!u.done;u=p.next()){t=u.value;q.TP[t.id] || (n++,q.TP[t.id]=!0);}}catch(v){var w;w={error:v};}finally{try{u && !u.done && (l=p.return) && l.call(p);}finally{if(w)throw w.error;}}else q.TP[h.id] || (n++,q.TP[h.id]=!0);q.GZ+=n;};g.prototype.Xva=function(h){this.Oa.info("remove subtitle called at " + this.fw() + " for remove time " + (h.displayTime + h.duration));this.emit("removesubtitle",h);};g.prototype.D0b=function(h){this.Oa.info("stage subtitle called at " + this.fw() + " for displayTime " + h.displayTime);this.emit("stagesubtitle",h);};g.prototype.oo=function(){this.Oa.info("underflow fired by the subtitle timer");this.emit("underflow");};g.prototype.Se=function(){this.Oa.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};g.prototype.F0b=function(h){this.Oa.info("creating a new subtitle interval at " + h);this.lT.push({$:h,GZ:0});};g.prototype.F3b=function(h){var l;l=this.hoa();l && (l.tra=h);};g.prototype.VWa=function(h){var l;this.Oa.info("ending subtitle interval at " + h);l=this.hoa();l && (l.La=h,l.La < l.$ && (this.Oa.warn("correcting for interval where endPts is smaller than startPts"),l.$=0 < l.La?l.La - 1:0),l.Z5=this.pd.ks(l.$,l.La),delete l.TP,l.Z5 > l.GZ && l.tra && 500 > l.La - l.tra && (l.Z5=this.pd.ks(l.$,l.tra)),this.Oa.info("showed " + l.GZ + " during this interval"),this.Oa.info("expected " + l.Z5 + " for this interval"));};return g;})(r.EventEmitter);b.pmb=a;b.default=a;},function(r,b,a){var w,v,x,y,z,A,B,E,D;function c(F){var G,C,H,K,M;G=F.preferences;C=F.Zi;H=F.Fd;K=F.xml;M=F.wa;if(!F.xml && !F.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");w.call(this);this.Qe=this.eha=null;this.AT="object" === typeof G?F.preferences:{};this.XS="object" === typeof C?F.Zi:{};this.LC="number" === typeof H?F.Fd:0;this.yG="string" === typeof K?F.xml:"";this.Oa="object" === typeof M?F.wa:D;this.nG=F.request;this.Gl=F.url;this.pC=[];this.jw=this.LC;this.Xg=null;this.Pha=this.VPa=!1;this.lnb=F.kva || 0;}function f(F,G){return F && "object" === typeof F[G] && null !== F[G]?F[G]:{};}function k(F,G){return F !== G && !(F && 0 === Object.keys(F).length && G && 0 === Object.keys(G).length);}function m(){var F,G,C;F=this;G=F.yG.indexOf("<p");if(-1 < G){C=F.yG.slice(0,G);h(C,function(H,K){null !== H?(H.pcc=C,F.emit("error",H)):(F.eha=K,F.Qe=new x(F.yG,K.tickRate),g.call(F,F.LC));});}else F.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function d(F,G){var C;C=F.filter(function(H){return H.startTime <= G && G <= H.endTime;});F=F.filter(function(H){return H.startTime > G;});return 0 < F.length?C.concat([F[0]]):C;}function g(F){var G,C,H,K,M,I,Q;G=this;C=G.eha;H=0;K=[];M=C.defaultStyle?[C.defaultStyle]:[];G.Oa.info("parsing the next 5 entries...");I=G.Qe.OIb(F);G.Oa.info(I);Q=v.wc(!0);Q.onerror=function(L){L.xml=I;G.emit("error",L);};Q.onend=function(){var L;L=G.pC.reduce(function(J,N){N=N.blocks.reduce(function(O,P){return O.concat([P.id]);},[]);return J.concat(N);},[]);K.forEach(function(J){var N;if(-1 === L.indexOf(J.id)){N=J && J.blocks && J.blocks.filter(function(O){return 0 < O.textNodes.length;});N && 0 < N.length && (J.blocks=N,G.pC.push(J));}});G.Pha=!1;G.VPa || (G.VPa=!0,G.emit("ready"));};Q.ontext=function(L){("" !== L.trim() || L.match(/ +/)) && p(p(K).blocks).textNodes.push({text:L.match(/ +/)?L:L.trim(),style:p(M),lineBreaks:H});H=0;};Q.onclosetag=function(){"undefined" !== typeof Q.tag.attributes.style && M.pop();};Q.onopentag=function(L){var J,N,O,P,S;J=L.attributes;N=L.name;L=C.tickRate;if("p" === N){H=0;N=J["xml:id"];J.style && M.push(J.style);O=Math.floor(parseInt(J.begin) / L * 1E3);if(0 === K.length || p(K).displayTime !== O){O=K.push;P={};S=parseInt(J.begin) / L;L=parseInt(J.end) / L;P.id=N;P.startTime=Math.floor(1E3 * S);P.endTime=Math.floor(1E3 * L);P.style=J.style;P.region=J.region;P.displayTime=P.startTime;P.duration=P.endTime - P.startTime;P.extent=J["tts:extent"] || null;P.origin=J["tts:origin"] || null;P.latestEndSoFar=0 > P.endTime?0:P.endTime;P.blocks=[{textNodes:[],region:P.region,id:N,extent:P.extent,origin:P.origin}];O.call(K,P);}else p(K).blocks.push({textNodes:[],region:J.region,id:N,extent:J["tts:extent"] || null,origin:J["tts:origin"] || null});}else "span" === N?M.push(J.style):"br" === N && H++;};Q.write("<entries>").write(I).write("</entries>").close();}function h(F,G){var C,H,K,M,I,Q;C=v.wc(!0);H={};K=[];M=null;I=[];Q={};C.onerror=function(L){G(L,null);};C.onend=function(){G(null,H);};C.onclosetag=function(){K.pop();};C.onopentag=function(L){var J,N,O,P;J=L.attributes;N=L.name;O=H.regions;P=H.styles;K.push(L);if("tt" === N)H=l(J);else if("body" === N)"undefined" !== typeof J.style && (H.defaultStyle=J.style,I.push(J.style));else if("initial" === N && q(K,"styling"))Q=n(J,A);else if("style" === N && q(K,"styling")){O=J["xml:id"];L=Q;J=n(J,A);if(Object.keys(L).length)for(var S in L){"undefined" === typeof J[S] && (J[S]=L[S]);}P[O]=J;}else "style" === N && q(K,"region")?(P=Object.keys(J)[0],"string" === typeof P && (O[M][P.slice(4)]=J[P])):"region" === N && q(K,"layout") && (M=J["xml:id"],O[M]=n(J,E));};setTimeout(function(){var L;for(C.write(F);0 < K.length && !C.error;){L=p(K).name;C.write("</" + L + ">");}C.close();},10);}function l(F){var G;F=n(F,B);if("string" === typeof F.extent){G=F.extent.split(" ").map(function(C){return parseInt(C,10);});F.width=G[0];F.height=G[1];}else (F.width=1280,F.height=720);F.aspectRatio=F.width / F.height;"string" === typeof F.cellResolution?(G=F.cellResolution.split(" ").map(function(C){return parseInt(C,10);}),F.cellResolution={},F.cellResolution.x=G[0],F.cellResolution.y=G[1]):F.cellResolution={x:52,y:19};return F;}function n(F,G){var C;C={};G.forEach(function(H){"undefined" !== typeof F["tts:" + H]?C[H]=F["tts:" + H]:"undefined" !== typeof F["ttp:" + H]?C[H]=F["ttp:" + H]:"undefined" !== typeof F["ebutts:" + H]?C[H]=F["ebutts:" + H]:"undefined" !== typeof F["xml:" + H] && (C[H]=F["xml:" + H]);});C.styles={};C.regions={};return C;}function q(F,G){var C;for(C=F.length - 1;0 <= C;C--){if(F[C].name === G)return !0;}return !1;}function p(F){if(!Array.isArray(F))throw Error("last called on non-array: " + F);return F[F.length - 1];}function u(F,G){return {lineBreaks:G.lineBreaks,text:G.text,style:z.RAb(F[G.style] || ({}),this.XS,this.AT),id:G.id};}function t(F,G){var C,H;C=this;H=F.styles || ({});return {startTime:G.startTime,id:G.id,endTime:G.endTime,displayTime:G.displayTime,duration:G.duration,blocks:G.blocks.map(function(K){var M;M=y.MAb(F,K);return {textNodes:K.textNodes.map(u.bind(C,H)),region:M,id:K.id};})};}w=a(116).EventEmitter;v=a(1091);x=a(1092);y=a(1093);z=a(1094);A=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline multiRowAlign").split(" ");B=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");E=("backgroundColor displayAlign extent origin writingMode multiRowAlign").split(" ");D={info:function(){}};b=Object.create(w.prototype);c.prototype=b;b.start=function(){var F;F=this;F.Oa.info("incremental text stream created, starting at pts " + F.LC);F.yG?m.call(F):F.nG({url:F.Gl},function(G,C){F.yG=C;m.call(F);});};b.xH=function(F){var G,C,H;G=this;F < G.jw - G.lnb && (G.pC=[]);C=G.pC;H=0 < C.length?C[C.length - 1].startTime:F;G.jw=F;for(!G.Xg && 5 > G.pC.length && !G.Pha && (G.Oa.info("buffer size: " + G.pC.length + "; minimum: 5"),G.Pha=!0,G.Xg=setTimeout(function(){G.Xg=null;g.call(G,H + 1);},10));0 < C.length && C[0].endTime < F;){C.shift();}C=d(C,F).map(t.bind(G,G.eha));F < G.Qe.sFb() && 0 === C.length && (C=null);return C;};b.ks=function(F,G){return this.Qe?this.Qe.ks(F,G):0;};b.close=function(){};b.sfc=function(F){var G;G=f(F,"preferences");F=f(F,"defaults");return k(G,this.AT) || k(F,this.XS)?(this.AT=G,this.XS=F,!0):!1;};r.exports=c;},function(r,b){(function(a){var x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L;function c(){}function f(J,N){if(!(this instanceof f))return new f(J,N);for(var O=0,P=x.length;O < P;O++){this[x[O]]="";}this.q=this.c=this.Ln=this.textNode="";this.KSa=a.dea;this.co=N || ({});this.co.B3a=this.co.B3a || this.co.Pcc;this.Yra=this.co.B3a?"toLowerCase":"toUpperCase";this.vl=[];this.closed=this.LU=this.DP=!1;this.tag=this.error=null;this.no=! !J;this.G5a=!(!J && !this.co.G5a);this.state=L.Aca;this.ay=(this.bbb=this.co.bbb)?Object.create(a.Mmb):Object.create(a.ay);this.TC=[];this.co.U_ && (this.Ck=Object.create(M));if(this.sba=!1 !== this.co.position)this.position=this.line=this.MU=0;this.onready && this.onready(void 0);}function k(J,N){var O;if(!(this instanceof k))return new k(J,N);c.apply(this);this.Ly=new f(J,N);this.readable=this.writable=!0;O=this;this.Ly.onend=function(){O.emit("end");};this.Ly.onerror=function(P){O.emit("error",P);O.Ly.error=null;};y.forEach(function(P){Object.defineProperty(O,"on" + P,{get:function(){return O.Ly["on" + P];},set:function(S){if(!S)return (O.removeAllListeners(P),O.Ly["on" + P]=S);O.on(P,S);},enumerable:!0,configurable:!1});});}function m(J){return J.split("").reduce(function(N,O){N[O]=!0;return N;},{});}function d(J,N){return "[object RegExp]" === Object.prototype.toString.call(J)?! !N.match(J):J[N];}function g(J,N,O){J.textNode && h(J);J[N] && J[N](O);}function h(J){J.textNode=l(J.co,J.textNode);J.textNode && J.ontext && J.ontext(J.textNode);J.textNode="";}function l(J,N){J.trim && (N=N.trim());J.normalize && (N=N.replace(/\s+/g," "));return N;}function n(J,N){h(J);J.sba && (N+="\nLine: " + J.line + "\nColumn: " + J.MU + "\nChar: " + J.c);N=Error(N);J.error=N;J.onerror && J.onerror(N);return J;}function q(J){J.DP && !J.LU && p(J,"Unclosed root tag");J.state !== L.Aca && J.state !== L.Bca && J.state !== L.qn && n(J,"Unexpected end");h(J);J.c="";J.closed=!0;J.onend && J.onend(void 0);f.call(J,J.no,J.co);return J;}function p(J,N){if("object" !== typeof J || !(J instanceof f))throw Error("bad call to strictFail");J.no && n(J,N);}function u(J,N){var O,P;O=0 > J.indexOf(":")?["",J]:J.split(":");P=O[0];O=O[1];N && "xmlns" === J && (P="xmlns",O="");return {prefix:P,local:O};}function t(J){var N,O,P;J.no || (J.rj=J.rj[J.Yra]());if(-1 !== J.TC.indexOf(J.rj) || J.tag.attributes.hasOwnProperty(J.rj))return J.rj=J.sj="";if(J.co.U_){N=u(J.rj,!0);O=N.local;if("xmlns" === N.prefix)if("xml" === O && J.sj !== H)p(J,"xml: prefix must be bound to " + H + "\nActual: " + J.sj);else if("xmlns" === O && J.sj !== K)p(J,"xmlns: prefix must be bound to " + K + "\nActual: " + J.sj);else {N=J.tag;P=J.vl[J.vl.length - 1] || J;N.Ck === P.Ck && (N.Ck=Object.create(P.Ck));N.Ck[O]=J.sj;}J.TC.push([J.rj,J.sj]);}else (J.tag.attributes[J.rj]=J.sj,g(J,"onattribute",{name:J.rj,value:J.sj}));J.rj=J.sj="";}function w(J,N){var O,P,U,Z,ja,ya,ra;if(J.co.U_){O=J.tag;P=u(J.tagName);O.prefix=P.prefix;O.local=P.local;O.uri=O.Ck[P.prefix] || "";O.prefix && !O.uri && (p(J,"Unbound namespace prefix: " + JSON.stringify(J.tagName)),O.uri=P.prefix);P=J.vl[J.vl.length - 1] || J;O.Ck && P.Ck !== O.Ck && Object.keys(O.Ck).forEach(function(Y){g(J,"onopennamespace",{prefix:Y,uri:O.Ck[Y]});});P=0;for(var S=J.TC.length;P < S;P++){U=J.TC[P];Z=U[0];ja=U[1];ya=u(Z,!0);U=ya.prefix;ra="" == U?"":O.Ck[U] || "";ja={name:Z,value:ja,prefix:U,local:ya.local,uri:ra};U && "xmlns" != U && !ra && (p(J,"Unbound namespace prefix: " + JSON.stringify(U)),ja.uri=U);J.tag.attributes[Z]=ja;g(J,"onattribute",ja);}J.TC.length=0;}J.tag.Jcc=! !N;J.DP=!0;J.vl.push(J.tag);g(J,"onopentag",J.tag);N || (J.state=J.G5a || "script" !== J.tagName.toLowerCase()?L.qn:L.RK,J.tag=null,J.tagName="");J.rj=J.sj="";J.TC.length=0;}function v(J){var N,O,S;if(J.tagName){if(J.Kk){if("script" !== J.tagName){J.Kk+="</" + J.tagName + ">";J.tagName="";J.state=L.RK;return;}g(J,"onscript",J.Kk);J.Kk="";}N=J.vl.length;O=J.tagName;J.no || (O=O[J.Yra]());for(var P=O;N--;){if(J.vl[N].name !== P)p(J,"Unexpected close tag");else break;}if(0 > N)(p(J,"Unmatched closing tag: " + J.tagName),J.textNode+="</" + J.tagName + ">");else {J.tagName=O;for(O=J.vl.length;O-- > N;){S=J.tag=J.vl.pop();J.tagName=J.tag.name;g(J,"onclosetag",J.tagName);for(var U in S.Ck){;}P=J.vl[J.vl.length - 1] || J;J.co.U_ && S.Ck !== P.Ck && Object.keys(S.Ck).forEach(function(Z){g(J,"onclosenamespace",{prefix:Z,uri:S.Ck[Z]});});}0 === N && (J.LU=!0);J.tagName=J.sj=J.rj="";J.TC.length=0;}}else (p(J,"Weird empty close tag."),J.textNode+="</>");J.state=L.qn;}a.wc=function(J,N){return new f(J,N);};a.$9b=f;a.a$b=k;a.ZUa=function(J){return new k(J,void 0);};a.dea=65536;x=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");a.Ne=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(J){function N(){this.__proto__=J;}N.prototype=J;return new N();});Object.getPrototypeOf || (Object.getPrototypeOf=function(J){return J.__proto__;});Object.keys || (Object.keys=function(J){var N,O;N=[];for(O in J){J.hasOwnProperty(O) && N.push(O);}return N;});f.prototype={end:function(){q(this);},write:function(J){var S,U,Z,ja,ya,ra;if(this.closed)return n(this,"Cannot write after close. Assign an onready handler.");if(null === J)return q(this);if(this.error)throw this.error;for(var N=0,O;this.c=O=J.charAt(N++);){switch((this.sba && (this.position++,"\n" === O?(this.line++,this.MU=0):this.MU++),this.state)){case L.Aca:if((this.state=L.Bca,"\ufeff" === O))continue;case L.Bca:"<" === O?(this.state=L.yea,this.Oxa=this.position):d(z,O) || (p(this,"Non-whitespace before first tag."),this.textNode=O,this.state=L.qn);continue;case L.qn:if(this.DP && !this.LU){for(var P=N - 1;O && "<" !== O && "&" !== O;){(O=J.charAt(N++)) && this.sba && (this.position++,"\n" === O?(this.line++,this.MU=0):this.MU++);}this.textNode+=J.substring(P,N - 1);}"<" !== O || this.DP && this.LU && !this.no?(d(z,O) || this.DP && !this.LU || p(this,"Text data outside of root node."),"&" === O?this.state=L.Ofa:this.textNode+=O):(this.state=L.yea,this.Oxa=this.position);continue;case L.RK:"<" === O?this.state=L.lLa:this.Kk+=O;continue;case L.lLa:"/" === O?this.state=L.Oca:(this.Kk+="<" + O,this.state=L.RK);continue;case L.yea:"!" === O?(this.state=L.Afa,this.Us=""):d(z,O) || (d(I,O)?(this.state=L.cIa,this.tagName=O):"/" === O?(this.state=L.Oca,this.tagName=""):"?" === O?(this.state=L.zIa,this.S$=this.UI=""):(p(this,"Unencoded <"),this.Oxa + 1 < this.position && (O=Array(this.position - this.Oxa).join(" ") + O),this.textNode+="<" + O,this.state=L.qn));continue;case L.Afa:(this.Us + O).toUpperCase() === G?(g(this,"onopencdata"),this.state=L.l0,this.sm=this.Us=""):"--" === this.Us + O?(this.state=L.n0,this.Us=this.xm=""):(this.Us + O).toUpperCase() === C?(this.state=L.t0,(this.doctype || this.DP) && p(this,"Inappropriately located doctype declaration"),this.Us=this.doctype=""):">" === O?(g(this,"onsgmldeclaration",this.Us),this.Us="",this.state=L.qn):(d(E,O) && (this.state=L.oLa),this.Us+=O);continue;case L.oLa:O === this.q && (this.state=L.Afa,this.q="");this.Us+=O;continue;case L.t0:">" === O?(this.state=L.qn,g(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=O,"[" === O?this.state=L.Zca:d(E,O) && (this.state=L.kCa,this.q=O));continue;case L.kCa:this.doctype+=O;O === this.q && (this.q="",this.state=L.t0);continue;case L.Zca:this.doctype+=O;"]" === O?this.state=L.t0:d(E,O) && (this.state=L.jCa,this.q=O);continue;case L.jCa:this.doctype+=O;O === this.q && (this.state=L.Zca,this.q="");continue;case L.n0:"-" === O?this.state=L.hBa:this.xm+=O;continue;case L.hBa:"-" === O?(this.state=L.gBa,(this.xm=l(this.co,this.xm)) && g(this,"oncomment",this.xm),this.xm=""):(this.xm+="-" + O,this.state=L.n0);continue;case L.gBa:">" !== O?(p(this,"Malformed comment"),this.xm+="--" + O,this.state=L.n0):this.state=L.qn;continue;case L.l0:"]" === O?this.state=L.ZAa:this.sm+=O;continue;case L.ZAa:"]" === O?this.state=L.$Aa:(this.sm+="]" + O,this.state=L.l0);continue;case L.$Aa:">" === O?(this.sm && g(this,"oncdata",this.sm),g(this,"onclosecdata"),this.sm="",this.state=L.qn):"]" === O?this.sm+="]":(this.sm+="]]" + O,this.state=L.l0);continue;case L.zIa:"?" === O?this.state=L.Kea:d(z,O)?this.state=L.Jea:this.S$+=O;continue;case L.Jea:if(!this.UI && d(z,O))continue;else "?" === O?this.state=L.Kea:this.UI+=O;continue;case L.Kea:">" === O?(g(this,"onprocessinginstruction",{name:this.S$,body:this.UI}),this.S$=this.UI="",this.state=L.qn):(this.UI+="?" + O,this.state=L.Jea);continue;case L.cIa:if(d(Q,O))this.tagName+=O;else {this.no || (this.tagName=this.tagName[this.Yra]());P=this.vl[this.vl.length - 1] || this;S=this.tag={name:this.tagName,attributes:{}};this.co.U_ && (S.Ck=P.Ck);this.TC.length=0;">" === O?w(this):"/" === O?this.state=L.z1:(!d(z,O) && p(this,"Invalid character in tag name"),this.state=L.cK);}continue;case L.z1:">" === O?(w(this,!0),v(this)):(p(this,"Forward-slash in opening tag not followed by >"),this.state=L.cK);continue;case L.cK:if(d(z,O))continue;else ">" === O?w(this):"/" === O?this.state=L.z1:d(I,O)?(this.rj=O,this.sj="",this.state=L.Z_):p(this,"Invalid attribute name");continue;case L.Z_:"=" === O?this.state=L.gca:">" === O?(p(this,"Attribute without value"),this.sj=this.rj,t(this),w(this)):d(z,O)?this.state=L.Kza:d(Q,O)?this.rj+=O:p(this,"Invalid attribute name");continue;case L.Kza:if("=" === O)this.state=L.gca;else if(d(z,O))continue;else (p(this,"Attribute without value"),this.sj=this.tag.attributes[this.rj]="",g(this,"onattribute",{name:this.rj,value:""}),this.rj="",">" === O?w(this):d(I,O)?(this.rj=O,this.state=L.Z_):(p(this,"Invalid attribute name"),this.state=L.cK));continue;case L.gca:if(d(z,O))continue;else d(E,O)?(this.q=O,this.state=L.jca):(p(this,"Unquoted attribute value"),this.state=L.kca,this.sj=O);continue;case L.jca:if(O !== this.q){"&" === O?this.state=L.hca:this.sj+=O;continue;}t(this);this.q="";this.state=L.Lza;continue;case L.Lza:d(z,O)?this.state=L.cK:">" === O?w(this):"/" === O?this.state=L.z1:d(I,O)?(p(this,"No whitespace between attributes"),this.rj=O,this.sj="",this.state=L.Z_):p(this,"Invalid attribute name");continue;case L.kca:if(!d(F,O)){"&" === O?this.state=L.ica:this.sj+=O;continue;}t(this);">" === O?w(this):this.state=L.cK;continue;case L.Oca:if(this.tagName)">" === O?v(this):d(Q,O)?this.tagName+=O:this.Kk?(this.Kk+="</" + this.tagName,this.tagName="",this.state=L.RK):(!d(z,O) && p(this,"Invalid tagname in closing tag"),this.state=L.eBa);else if(d(z,O))continue;else d(I,O)?this.tagName=O:this.Kk?(this.Kk+="</" + O,this.state=L.RK):p(this,"Invalid tagname in closing tag.");continue;case L.eBa:if(d(z,O))continue;">" === O?v(this):p(this,"Invalid characters in closing tag");continue;case L.Ofa:case L.hca:case L.ica:switch(this.state){case L.Ofa:(U=L.qn,Z="textNode");break;case L.hca:U=L.jca;Z="attribValue";break;case L.ica:(U=L.kca,Z="attribValue");}if(";" === O){O=Z;P=this[O];S=this.Ln;ja=S.toLowerCase();ya="";if(this.ay[S])S=this.ay[S];else if(this.ay[ja])S=this.ay[ja];else {S=ja;if("#" === S.charAt(0))if("x" === S.charAt(1)){S=S.slice(2);ra=parseInt(S,16);ya=ra.toString(16);}else (S=S.slice(1),ra=parseInt(S,10),ya=ra.toString(10));S=S.replace(/^0+/,"");S=ya.toLowerCase() !== S?(p(this,"Invalid character entity"),"&" + this.Ln + ";"):String.fromCodePoint(ra);}this[O]=P + S;this.Ln="";this.state=U;}else d(D,O)?this.Ln+=O:(p(this,"Invalid character entity"),this[Z]+="&" + this.Ln + O,this.Ln="",this.state=U);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.KSa){J=Math.max(a.dea,10);O=N=0;for(U=x.length;O < U;O++){Z=this[x[O]].length;if(Z > J)switch(x[O]){case "textNode":h(this);break;case "cdata":g(this,"oncdata",this.sm);this.sm="";break;case "script":g(this,"onscript",this.Kk);this.Kk="";break;default:n(this,"Max buffer length exceeded: " + x[O]);}N=Math.max(N,Z);}this.KSa=a.dea - N + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){h(this);"" !== this.sm && (g(this,"oncdata",this.sm),this.sm="");"" !== this.Kk && (g(this,"onscript",this.Kk),this.Kk="");}};y=a.Ne.filter(function(J){return "error" !== J && "end" !== J;});k.prototype=Object.create(c.prototype,{constructor:{value:k}});k.prototype.write=function(J){this.Ly.write(J.toString());this.emit("data",J);return !0;};k.prototype.end=function(J){J && J.length && this.write(J);this.Ly.end();return !0;};k.prototype.on=function(J,N){var O;O=this;O.Ly["on" + J] || -1 === y.indexOf(J) || (O.Ly["on" + J]=function(){var P;P=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);P.splice(0,0,J);O.emit.apply(O,P);});return c.prototype.on.call(O,J,N);};z="\r\n\t ";A="0124356789";B="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";E="'\"";D=A + B + "#";F=z + ">";G="[CDATA[";C="DOCTYPE";H="http://www.w3.org/XML/1998/namespace";K="http://www.w3.org/2000/xmlns/";M={xml:H,U_:K};z=m(z);A=m(A);B=m(B);I=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;Q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;E=m(E);D=m(D);F=m(F);L=0;a.jC={Aca:L++,Bca:L++,qn:L++,Ofa:L++,yea:L++,Afa:L++,oLa:L++,t0:L++,kCa:L++,Zca:L++,jCa:L++,w6b:L++,n0:L++,hBa:L++,gBa:L++,l0:L++,ZAa:L++,$Aa:L++,zIa:L++,Jea:L++,Kea:L++,cIa:L++,z1:L++,cK:L++,Z_:L++,Kza:L++,gca:L++,jca:L++,Lza:L++,kca:L++,hca:L++,ica:L++,Oca:L++,eBa:L++,RK:L++,lLa:L++};a.Mmb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};a.ay={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(a.ay).forEach(function(J){var N;N=a.ay[J];N="number" === typeof N?String.fromCharCode(N):N;a.ay[J]=N;});for(L in a.jC){a.jC[a.jC[L]]=L;}L=a.jC;String.fromCodePoint || (function(){var N,O;function J(){var P,S,U,ja,ya;P=[];S=-1;U=arguments.length;if(!U)return "";for(var Z="";++S < U;){ja=Number(arguments[S]);if(!isFinite(ja) || 0 > ja || 1114111 < ja || O(ja) != ja)throw RangeError("Invalid code point: " + ja);if(65535 >= ja)P.push(ja);else {ja-=65536;ya=(ja >> 10) + 55296;ja=ja % 1024 + 56320;P.push(ya,ja);}if(S + 1 == U || 16384 < P.length)(Z+=N.apply(null,P),P.length=0);}return Z;}N=String.fromCharCode;O=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:J,configurable:!0,writable:!0}):String.fromCodePoint=J;})();})(b);},function(r){function b(a,c){var f,k,m,d,g,h;f=[];k=a.indexOf("<p");m=-1;do {d={};d.x0b=k;g=a.indexOf("begin=",k) + 7;h=a.indexOf("end=",k) + 5;g=Math.floor(parseInt(a.substr(g,25),10) / c * 1E3);h=Math.floor(parseInt(a.substr(h,25),10) / c * 1E3);m=h > m?h:m;d.startTime=g;d.endTime=h;d.latestEndSoFar=m;d.eXa=a.indexOf("/p>",k) + 3;k=d.eXa;f.push(d);k=a.indexOf("<p",k);}while(-1 !== k);this.K2=f;this.yG=a;}b.prototype.sFb=function(){return this.K2[this.K2.length - 1].endTime;};b.prototype.ks=function(a,c){return this.K2.filter(function(f){return f.startTime <= c && f.endTime >= a;}).length;};b.prototype.OIb=function(a){for(var c="",f=this.K2.filter(function(m){return m.startTime <= a && a < m.endTime || m.startTime >= a;}),k=4;k + 1 < f.length && f[k + 1].startTime === f[4].startTime;){k++;}f=f.slice(0,k + 1);0 < f.length && (c=this.yG.slice(f[0].x0b,f[f.length - 1].eXa));return c;};r.exports=b;},function(r,b,a){var m,d,g,h;function c(l){return "string" !== typeof l?null:d[l];}function f(l){return "string" !== typeof l?null:g[l];}function k(l){return l.split(" ").map(function(n){return .01 * parseFloat(n);});}m=a(481);r.exports={MAb:function(l,n){var q,p,u,t,w,v;q=n.textNodes[0] || ({});p=l.regions;u=l.styles;l=l.aspectRatio;p=p && p[n.region]?p[n.region]:{};q=u && u[q.style]?u[q.style]:{};u=k(m(n.extent,p.extent,"80% 80%"));t=k(m(n.origin,p.origin,"10% 10%"));n=Object;l/=1280 / 720;w=(1 - l) / 2;v=t[0];t=t[1];u=n.create.call(n,{marginLeft:v * l + w,marginTop:t,marginRight:(1 - (v + u[0])) * l + w,marginBottom:1 - (t + u[1])});1 < Object.keys(p).length?u.verticalAlignment=c(m(q.displayAlign,p.displayAlign,"before")):u.verticalAlignment=c(m(q.displayAlign,"after"));u.horizontalAlignment=f(m(q.textAlign,p.textAlign,"center"));l=p.writingMode?p.writingMode:"lrtb";u.writingMode="string" !== typeof l?null:h[l];u.multiRowAlignment=f(m(q.multiRowAlign,p.multiRowAlign,q.textAlign,p.textAlign,"center"));return u;}};d={before:"top",center:"center",after:"bottom"};g={left:"left",start:"start",center:"center",right:"right",end:"end"};h={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};},function(r,b,a){var k,m,d,g,h,l,n;function c(q){return "string" !== typeof q || "#" === q[0] && 7 === q.length?q:"#" === q[0] && 4 === q.length?"#" + q[1] + q[1] + q[2] + q[2] + q[3] + q[3]:d[q.toLowerCase()];}function f(q){var p,u,t;p=(q || "").split(" ");u=(/^[0-9]/).test(p);q=u?"#000000":c(p[0]);t=u?0:1;u=parseInt(p[t]);p=parseInt(p[t + 1]);return {color:q,width:0 < u?u:0,blur:0 < p?p:0};}k=a(481);r.exports={RAb:function(q,p,u){var t,w,v,x,y,z,A,B,E,D,F,G,C,H;t=k(u.characterSize,p.characterSize,"MEDIUM");w=q.fontFamily;w=k(u.characterStyle,"string" !== typeof w?null:g[w],p.characterStyle,"PROPORTIONAL_SANS_SERIF");v=(q.fontSize || "").split(" ")[0] || "";x=-1 < v.indexOf("%")?parseInt(v,10) / 100:-1 < v.indexOf("em")?parseFloat(v):1;v="underline" === q.textDecoration;y="italic" === q.fontStyle;z=m[k(u.p5b,p.p5b,"OPAQUE")];A=m[k(u.characterOpacity,p.characterOpacity,"OPAQUE")];B=m[k(u.backgroundOpacity,q.opacity,p.backgroundOpacity,"OPAQUE")];E=c(k(u.characterColor,q.color,p.characterColor,"#ffffff"));D=c(k(u.backgroundColor,q.backgroundColor,p.backgroundColor,null));F=c(k(u.Xdb,q.Xdb,p.Xdb,null));G=k(u.characterEdgeAttributes,p.characterEdgeAttributes,null);x*=h[t] || 1;C=1;l[t] && (C=l[t][w] || 1);x*=1 / 19 * C;C=0;n[t] && (C=n[t][w] || 0);t=C;C=q.textOutline;C="string" !== typeof C?null:f(C).width;C=k(C,0);H=q.textOutline;H="string" !== typeof H?null:f(H).blur;H=k(H,0);u=u.characterEdgeColor;q=q.textOutline;q="string" !== typeof q?null:f(q).color;return {characterUnderline:v,characterItalic:y,characterStyle:w,windowOpacity:z,characterOpacity:A,backgroundOpacity:B,characterColor:E,backgroundColor:D,windowColor:F,characterEdgeAttributes:G,characterSize:x,characterTracking:t,characterEdgeWidth:C,characterEdgeBlur:H,characterEdgeColor:c(k(u,q,p.characterEdgeColor,"#000000"))};}};m={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};d={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};g={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};h={SMALL:.5,MEDIUM:1,LARGE:2};l={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};n={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};},function(r,b,a){var f,k,m,d,g,h;function c(l){f.call(this);this.Gl=l.url;this.nG=l.request;this.kG=l.Fd || 0;this.Oa=l.wa;this.Ni=this.Or=null;l.Pu?this.Or=l.Pu:(this.Re=l.offset,this.TL=l.size);this.mm;this.Mha=l;}f=a(116).EventEmitter;k=a(1096);m=a(1097);d=a(1098);g=a(161);h=c.events={zjb:"midxready",Ulb:"sidxready",Flb:"ready",Rf:"error"};c.prototype=Object.create(f.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Rp:{get:function(){return this.mm && this.mm.Ila;}}});c.prototype.start=function(){this.Or?(this.Oa.warn("midx was prefectched and provided"),this.qOa(this.Or)):this.Xnb(this.Re,this.TL,this.Pqb.bind(this));};c.prototype.close=function(){};c.prototype.MN=function(l,n){return this.mm && this.mm.jpa(l,n);};c.prototype.ks=function(l,n){return (l=this.MN(l,n))?l.length:l;};c.prototype.rB=function(l,n){this.Oa.debug("setStreamStartPosition: buffering subtitles at pts " + l);this.kG=l;this.mm?this.mm.rB(l,n):n && n();};c.prototype.xH=function(l){var n,q,p;if(!this.mm || l > g.SHb(this.Or))return [];this.mm && this.mm.sma(l);n=this.Rp.Vs;q=this.Rp.index;p=[];q=g.Zc(q) && this.Ni[q + 1];if(!(q && q.entries.length || n && !(l > n.endTime)))return [];n && n.images.length && (p=this.COa(n,l,[]));2 > p.length && q && q.images.length && (n=this.COa(q,l,p),p.push.apply(p,n));return this.mm.txa(l)?null:g.nUa(p);};c.prototype.Fi=function(l,n){this.mm && this.mm.Fi(l,n);};c.prototype.Di=function(l,n){this.mm && this.mm.Di(l,n);};c.prototype.Xnb=function(l,n,q){this.Oa.debug("downloading midx...");this.OOa(l,n,"binary",q);};c.prototype.Ynb=function(l,n,q){this.Oa.debug("downloading sidx...");this.OOa(l,n,void 0,q);};c.prototype.OOa=function(l,n,q,p){this.nG({url:this.Gl,offset:l,size:n,responseType:q},p);};c.prototype.Pqb=function(l,n){if(l)this.emit(h.Rf,g.gW(l,"midxdownloaderror"));else try{this.Or=new k(n);this.qOa(this.Or);}catch(q){this.emit(h.Rf,g.gW(q,"midxparseerror"));}};c.prototype.qOa=function(l){var n;n=l.entries.reduce(function(q,p){return q + p.size;},0);n?(this.emit(h.zjb,l),this.Ynb(l.startOffset,n,this.Sqb.bind(this,l))):this.emit(h.Rf,g.gW({},"nosidxfoundinmidx"));};c.prototype.Sqb=function(l,n,q){var p,u,t,w;p=this;if(n)p.emit(h.Rf,g.gW(n,"sidxdownloaderror"));else {u=0;t=0;p.Ni=[];try{w=0;l.entries.forEach(function(v){var x;x=new m(q,u,l.pqa,p.Oa,t,t + v.duration,w);p.Ni.push(x);v.l0b=x;t=x.Wq;u+=v.size;w++;});}catch(v){p.emit(h.Rf,g.gW(v,"sidxparseerror"));return;}p.emit(h.Ulb,p.Ni);this.mm=new d(p.Mha,l,p.Ni);n=p.kG;p.Mha && p.Mha.xaa || (n=Math.max(p.kG - 1E4,0));this.mm.sma(n,function(v){v && p.Oa.error("initial sidx download failed");p.emit(h.Flb);});}};c.prototype.COa=function(l,n,q){var y;for(var p=l.entries,u=0,t=p.length,w=[],v,x=this.Or;u < t;){v=p[u];if(v.displayTime <= n)v.displayTime + v.duration >= n && w.push(g.zla(v,l.images[u].data,x));else {y=w.length && w[w.length - 1] || q.length && q[q.length - 1];if(y && y.displayTime > n && y.displayTime !== v.displayTime)break;y.PH !== v.PH && w.push(g.zla(v,l.images[u].data,x));}u++;}return w;};r.exports=c;},function(r,b,a){var f,k;function c(m,d){this.duration=m;this.size=d;this.l0b=void 0;}f=a(287);k=a(161);r.exports=function(m){var l;m=new f(m);this.identifier=m.zva(4);k.assert("midx" === this.identifier);this.version=m.Xq(4);k.assert(0 === this.version);this.pqa=m.Xh(36);this.creationTime=m.mP();this.op=m.mP();this.K=m.mP();this.SYb=m.Ah();this.TYb=m.Ah();this.language=m.Xh(16);m.Xh(16);this.startOffset=m.mP();this.Cm=m.Ah();for(var d=[],g=0,h=0;h < this.Cm;h++){l=new c(m.Xq(4),m.Ah());d.push(l);g+=l.duration;}this.entries=d;this.endTime=g;};},function(r,b,a){var k,m;function c(d,g,h,l,n,q,p,u){this.displayTime=d;this.duration=g;this.PTb=h;this.QTb=l;this.r0b=n;this.s0b=q;this.PH=p;this.dqa=u;}function f(d,g,h,l,n,q,p){var u;d=new k(d);u=0;d.position=g;this.Oa=l;this.identifier=d.zva(4);m.assert("sidx" === this.identifier,l);this.pqa=d.Xh(36);m.Exb(this.pqa,h,l);this.duration=d.Xq(4);this.Cm=d.Ah();this.xx=n;this.Wq=q;this.index=p || 0;this.entries=[];this.images=[];for(this.bia=0;u < this.Cm;){g=new c(d.Xq(4),d.Xq(4),d.Ah(),d.Ah(),d.Ah(),d.Ah(),d.mP(),d.Xq(4));u++;this.entries.push(g);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}k=a(287);m=a(161);f.prototype.hMb=function(){this.bia++;};f.prototype.IBb=function(){var d;d=0;this.bia--;1 > this.bia?this.images && 0 < this.images.length && (d+=m.epa([this]),this.images=[]):this.Oa.debug("Not cleaning up shared sidx with range",this.xx,"-",this.Wq);return d;};r.exports=f;},function(r,b,a){var m,d;function c(g,h){var n;g=g || 0;if(h)for(var l in h.V){n=h.V[l];if(g >= (n.Aa || 0) && (!n.Ba || g < n.Ba))return l;}}function f(g,h){return g && h && h.V[g];}function k(g,h,l){var n;this.Oa=g.wa;this.Ni=l;this.IC=this.Cnb(g.xaa);this.rh=[];n=l && l[l.length - 1];this.jw=n && (n.endTime || n.Wq);this.Eg=new m(g,h,l);g=c(g.Fd || 0,this.IC);this.Co=this.Dy(g);}m=a(1099);d=a(1101);Object.defineProperties(k.prototype,{Ila:{get:function(){return this.Eg.Ila;}}});k.prototype.jpa=function(g,h){return this.Eg && this.Eg.jpa(g,h);};k.prototype.sma=function(g,h){this.Eg.$Zb(g);this.CQa(g);if(!this.IC && this.jw && g > this.jw)h && h();else if((g=this.mOa(g,this.Co,2,h),this.IC && 0 < this.Co.v5a.length))h && h();else if(this.IC && this.Co.dO && g){2 > this.rh.length && this.Inb(this.Co);h=Math.ceil(2 / (this.rh.length - 1));for(var l=0;l < this.rh.length && g && 3 > l;l++){g=this.rh[l];g=this.mOa(g.startTime,g,h);}}};k.prototype.txa=function(g){return this.Eg.txa(g)?(this.Eg.rtb(),this.sma(g),this.Co.dO=!1,!0):!1;};k.prototype.rB=function(g,h){var l;this.CQa(g);this.rh.forEach(function(n){n.dO=!1;});l=this.Co.jo && this.Co.jo[0];this.Eg.rB(g,l && l.index);(g=this.Eg.IJb(g)) && g.length?this.Eg.lWa(g,h):h && h();};k.prototype.Di=function(g,h){var l;this.Oa.debug("Set next segment to",h,"for segment",g);g=this.uOa(g) || this.Dy(g);g.h$a=h;l=this;g.SX=g.SX.filter(function(n){if(n.id === h)return !0;l.Hga(n);return !1;});};k.prototype.Fi=function(g,h){var l;l=f(g,this.IC);Object.keys(l.next).forEach(function(n){l.next[n].weight=h[n] || 0;});};k.prototype.Cnb=function(g){var h,n;h={};if(g=(g || ({})).V){h.V={};for(var l in g){n=g[l] || ({});h.V[l]={Aa:n.Aa,Ba:n.Ba,Md:n.Md,next:this.Bnb(n.next)};}}return h;};k.prototype.Bnb=function(g){var h,l;h={};for(l in g){h[l]={weight:(g[l] || ({})).weight};}return h;};k.prototype.CQa=function(g){var h,l;if(this.IC && this.Co.startTime > g || this.Co.endTime && this.Co.endTime < g){h=this.Co;l=c(g,this.IC);l?(this.Oa.debug("Switching segments from",this.Co.id,"to",l,"at pts",g),this.Co=this.uOa(l) || this.Dy(l),this.Hga(h)):this.Oa.debug("The pts is outside of the current segment but not in a new one yet");}};k.prototype.Dy=function(g){this.Oa.debug("SegmentManager: creating segment",g);g=new d(g,f(g,this.IC),this.Ni,this.Oa);this.rh.push(g);this.Oa.debug("SegmentManager: segment contains",g.jo.length,"sidxes");return g;};k.prototype.Hga=function(g){var h;if(g && g !== this.Co){this.Oa.debug("SegmentManager: deleting segment",g.id);g.SX.forEach(this.Hga.bind(this));this.rh=this.rh.filter(function(l){return l !== g;});h=g.BTa();this.Eg.LXb(h && h.size || 0,h && h.jo);}};k.prototype.uOa=function(g){var l;for(var h=0;g && h < this.rh.length;h++){l=this.rh[h];if(g === l.id)return l;}};k.prototype.Inb=function(g){var h,n;h=g.h$a;if(h && "" !== h)g.SX.push(this.Dy(h));else {h=g.v5a;for(var l in h){n=h[l];if(!n || !n.weight)break;g.SX.push(this.Dy(l));}}};k.prototype.mOa=function(g,h,l,n){if(!h || h.dO)return (this.Oa.debug("Done driving segment",h && h.id),!0);if(!this.Eg.fwb)return (this.Oa.debug("Throttling buffering in quiet period"),!1);this.Oa.debug("Drive streaming of segment",h.id,"from pts",g);l=(g=this.Eg.JJb(g,h,l)) && g.length || 0;if(0 === l)return (this.Oa.debug("Segment is fully downloaded",h && h.id),h.dO=!0,n && n(),!0);this.Oa.debug("Downloading",l,"sidxes in segment",h.id);return this.Eg.lWa(g,function(q,p){q && (h.dO=!1);n && n(q,p);});};r.exports=k;},function(r,b,a){var h,l;function c(n,q,p){var u;u=p.displayTime <= n && n <= p.displayTime + p.duration;return n <= p.displayTime && p.displayTime <= q || u;}function f(n,q,p){return q && (!q.entries.length && n > q.xx || n > q.endTime) && p.entries.length && n < p.endTime;}function k(n,q,p){this.pG=this.cw=0;this.lpb=n.bufferSize || 4194304;this.Rp=new g();this.jG;this.cG=n.wf;this.Oa=n.wa;this.Or=q;this.Ni=p;this.Ko=new h(n);this.zG=new d(this.Ni.length,n.EWa);this.ET=new m(n.OSa);}function m(n){this.eob=0 !== n;this.on=!1;this.ak=n || 3E3;this.Xg;}function d(n,q){if(this.enabled=q)this.jo=Array.apply(null,Array(n)).map(function(){return "-";});}function g(n,q){this.Vs=n;this.index=q;}h=a(1100);l=a(161);g.prototype.reset=function(){this.index=this.Vs=void 0;};d.prototype.da=function(n){this.enabled && n < this.jo.length && (this.jo[n]="x");};d.prototype.v6a=function(n){this.enabled && n < this.jo.length && (this.jo[n]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.jo.join("") + "|";};m.prototype.start=function(){var n;if(this.eob){n=this;this.on=!0;this.Xg=setTimeout(function(){n.on=!1;n.Xg=void 0;},this.ak);}};m.prototype.stop=function(){this.on=!1;clearTimeout(this.Xg);this.Xg=void 0;};Object.defineProperties(k.prototype,{Ila:{get:function(){return this.Rp;}},fwb:{get:function(){return !this.ET.on;}}});k.prototype.sT=function(){this.zG.enabled && this.Oa.debug("Buffer: " + this.zG.toString());};k.prototype.lrb=function(n){this.pG+=n;this.Oa.debug("Reserved buffer size is",this.cw + this.pG,"after reserving",n);};k.prototype.Vrb=function(n){this.pG-=n;this.Oa.debug("Reserved buffer size is",this.cw + this.pG,"after unreserving",n);};k.prototype.Anb=function(n){this.cw+=n;this.Oa.debug("Buffer size is",this.cw,"after claiming",n);};k.prototype.ZPa=function(n){this.cw-=n;this.Oa.debug("Buffer size is",this.cw,"after clearing",n);};k.prototype.LXb=function(n,q){var p;this.ZPa(n);p=this;q && this.zG.enabled && (q.forEach(function(u){p.zG.v6a(u.index);}),this.sT());};k.prototype.txa=function(n){var q;q=this.qob(n);return l.S0a(q) && l.r1b(n,q);};k.prototype.$Zb=function(n){var q;q=this.HOa(n);(!q || q.index) !== (!this.Rp || this.Rp.index) && (this.jG=this.Rp.Vs,q?(this.cG && this.Oa.debug("Current sidx is index",q.index),this.Rp=q):(this.cG && this.Oa.debug("Current sidx is out of range"),this.Rp.reset()));this.jG && "number" === typeof this.jG.index && (n < this.jG.xx - 35E3 || n > this.jG.Wq + 35E3) && (this.xga(this.jG.index),this.jG=void 0,this.sT());};k.prototype.rB=function(n,q){var p,u;p=this.Ni && this.Ni.length;for(q;q < p;q++){(u=this.Ni[q]) && ((u.endTime || u.Wq) >= n - 1E4 && (u.endTime || u.Wq) < n + 3E5 || this.xga(q));}this.ET.stop();this.sT();};k.prototype.rtb=function(){var n,q;this.Oa.debug("executing aggressive cleanup");n=this.Ni && this.Ni.length;for(q=0;q < n;q++){q === this.Rp.index && (q+=2);this.xga(q);}this.ET.stop();this.sT();};k.prototype.IJb=function(n){var q,p,u,t;q=[];p=this.HOa(n);if(!p)return (this.Rp.reset(),q);this.Rp=p;u=n + 1E4;p=p.index;t=this.Ni[p];p;for(t;p < this.Ni.length && u > t.xx;(p++,t=this.Ni[p])){l.S0a(t) && l.s1b(n,u,t) && q.push(t);}return q;};k.prototype.lWa=function(n,q){var p,u,t,w,v,x;if(!n || !n.length)return (q && q(null),!0);this.Ko.yT && 2 <= Object.keys(this.Ko.yT).length && !this.ET.on && (this.Oa.debug("Enabling buffering quiet period"),this.ET.start());p=this;u=n[0];t=n[n.length - 1];if(0 < u.entries.length)(w=u.entries[0].PH,v=u.entries[u.entries.length - 1]);0 < t.entries.length && (l.Zc(w) || (w=t.entries[0].PH),v=t.entries[t.entries.length - 1]);if(w)x=v.PH + v.dqa - w;else return (q && q(null),!0);u=l.noa(w,x);if(this.Ko.yT[u])(this.Oa.debug("The request for",u,"is already pending. Not requesting again"),q && q());else if(this.Kob(l.epa(n)))(this.Oa.debug("Reserving",x,"bytes for subtitle request",n[0].xx,n[n.length - 1].Wq),this.lrb(x),this.Ko.YCb(n,w,x,function(y,z){p.Oa.debug("Claiming reserved space.  Expected",x,"received",z);p.zG.enabled && (n.forEach(function(A){p.zG.da(A.index);}),p.sT());p.Vrb(x);p.Anb(z);q && q(y);}));else return (this.Oa.debug("Not enough space in buffer to download all of the imaages in the list"),q && q(),!1);return !0;};k.prototype.jpa=function(n,q){var p,u,t;p=this.Or;u=this.GOa(n,q,this.Ni);if(!u || 0 === u.length)return [];t=[];q=c.bind(null,n,q);for(var w=0;w < u.length;w++){n=u[w];t=t.concat(n.entries.filter(q));}t=t.map(function(v){return l.zla(v,null,p);});return l.nUa(t);};k.prototype.JJb=function(n,q,p){return this.GOa(n,q.endTime,q.jo,p,!0);};k.prototype.GOa=function(n,q,p,u,t){var w,v,x,y;if(q && n > q || 0 > n)this.Oa.error("invalid range startPts: " + n + ", endPts: " + q);else {w=p && p.length || 0;v=[];if(p && 0 !== w){x=p[0].duration;y=p[0].xx;if(l.Zc(x) && 0 < x)x=Math.floor((n - y) / x);else for((this.cG && this.Oa.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),x=0);x < w && (y=p[x],!l.SCb(y,n));x++){;}for(;x < w && (!u || v.length < u);){y=p[x];if(!t || !y.images.length && y.endTime > n)v.push(y);else if(v.length)break;if(q && q <= y.Wq)break;x++;}return v;}}};k.prototype.qob=function(n){var q,p,t;q=this.Ni;if(q && 0 !== q.length){p=q[Math.floor(n / 6E4)];if(p && (p.xx > n || n > p.Wq))a:{this.fob || (this.fob=!0,p=l.sIb(this.Or.language),this.Oa.error("bruteforce search for ",{movieId:this.Or.K,packageId:this.Or.op,lang:p}));p=q.length;for(var u=0;u < p;u++){t=q[u];if(t.xx <= n && n <= t.Wq){p=t;break a;}}p=void 0;}return p;}};k.prototype.HOa=function(n){var q,p,u,t,w,v,x,y;q=this.Rp;p=q.Vs;u=q.index;t=this.Ni;this.Fga(l.Zc(n));if(p)if(p.entries.length){if(0 === u && n <= p.startTime || n >= p.startTime && n <= p.endTime)(w=!0,v=q);else {if(0 < u){x=t[u - 1];f(n,x,p) && (w=!0,v=q);}}}else {x=t[u - 1];y=t[u + 1];f(n,x,p)?(w=!0,v=q):y && y.endTime && n <= y.endTime && (n >= p.endTime || n >= p.Wq) && (w=!0,v=new g(y,u + 1));}if(!w)for((q=t.length,p=0);p < q;p++){if((u=t[p],u.entries.length && n <= u.endTime)){v=new g(u,p);break;}}return v;};k.prototype.Kob=function(n){return this.cw + this.pG + n <= this.lpb;};k.prototype.xga=function(n){var q,p,u;q=this.Ni[n];p=q && q.images && q.images.length || 0;if(0 < p){u=l.epa([q]);q.images=[];this.zG.v6a(n);this.ZPa(u);this.cG && this.Oa.debug("cleaning up space from sidx",{index:n,start:q.startTime,size:u,images:p,Ldc:this.cw});}};k.prototype.Fga=function(n){this.cG && l.assert(n,this.Oa);};r.exports=k;},function(r,b,a){var f,k;function c(m){this.Gl=m.url;this.nG=m.request;this.kG=m.Fd || 0;this.cG=m.wf;this.Oa=m.wa;this.yT={};}f=a(287);k=a(161);c.prototype.YCb=function(m,d,g,h){this.yT[k.noa(d,g)]=!0;m && m.forEach(function(l){l.k9a=!0;});this.nG({url:this.Gl,offset:d,size:g},this.nqb.bind(this,m,d,g,h));};c.prototype.nqb=function(m,d,g,h,l,n){var q,p,u,t;q=this;p=k.noa(d,g);setTimeout(function(){delete q.yT[p];},1E3);if(l)(h && h(l,0),m && m.forEach(function(w){delete w.k9a;}));else {u=new f(n);t=0;m && m.forEach(function(w){delete w.k9a;w.entries.forEach(function(v,x){u.position=v.PH - d;v={data:u.Xh(v.dqa)};w.images[x]=v;k.H4b(w.images[x].data,q.Fga.bind(q));t+=w.images[x].data.length;});});h && h(null,t);}};c.prototype.Fga=function(m){this.cG && k.assert(m,this.Oa);};r.exports=c;},function(r){function b(a,c,f,k){this.Oa=k;this.id=a;this.startTime=c && c.Aa || 0;this.endTime=c && c.Ba;this.v5a=c && c.next || [];this.h$a;this.SX=[];this.dO=!1;a=this.startTime;c=this.endTime;for(var m=[],d=0;d < f.length;d++){(k=f[d]) && (!c || c > k.xx) && a < k.Wq && (k.hMb(),m.push(k));}this.jo=m;}b.prototype.BTa=function(){this.Oa.debug("Cleaning up segment",this.id);for(var a,c=0,f,k=[],m=0;m < this.jo.length;m++){a=this.jo[m];(f=a.IBb()) && k.push(a);a && (c+=f);}this.jo=[];return {size:c,jo:k};};r.exports=b;},function(r,b,a){var f;function c(k,m,d){return {timeout:d,type:k,entry:m};}f=a(116).EventEmitter;a(1103)({});b=function q(m,d,g,h,l,n){if(!(this instanceof q))return new q(m,d,g,h,l,n);f.call(this);this.fw=m;this.Aob=d;this.Q2=g;this.Yob=h;this.Ty={};this.tG={};this.Oa=l || console;this.OS=!1;this.Vqb=n && n.kva || 0;};b.prototype=Object.create(f.prototype);b.prototype.stop=function(){clearTimeout(this.Xg);this.PXb();};b.prototype.PXb=function(){var m;m=this;Object.keys(m.Ty).forEach(function(d){m.emit("removesubtitle",m.Ty[d]);});m.Ty={};m.tG={};};b.prototype.pause=function(){this.OS || clearTimeout(this.Xg);};b.prototype.ft=function(m,d){var g,h;g=this;h=g.fw();clearTimeout(this.Xg);m=g.Aob(h);null !== m && g.OS && (g.OS=!1,this.Oa.info("bufferingComplete"),g.emit("bufferingComplete"),this.Yob())?this.Oa.info("bufferingComplete while paused, no longer scheduling internal pts events"):(d="number" === typeof d?d:0,Object.keys(g.Ty).forEach(function(l){l=g.Ty[l];l.displayTime - g.Vqb <= h && h < l.displayTime + l.duration || (delete g.Ty[l.id],g.emit("removesubtitle",l));}),Object.keys(g.tG).forEach(function(l){l=g.tG[l];h >= l.displayTime + l.duration && delete g.tG[l.id];}),null !== m && 0 < m.length?(d=m.length,g.Oa.info("found " + d + " entries for pts " + h),m.forEach(function(l){l.displayTime - 0 <= h && h < l.displayTime + l.duration && !g.Ty[l.id] && (g.emit("showsubtitle",l),g.Ty[l.id]=l,delete g.tG[l.id]);}),d=m[m.length - 1],g.Ty[d.id] || g.tG[d.id] || (g.emit("stagesubtitle",d),g.tG[d.id]=d),d=g.Cpb(h,m),0 < d.length?g.n3(d[0].timeout):g.n3(2E4)):null === m?(m=250 * Math.pow(2,d),2E3 < m && (m=2E3),g.Oa.warn("checking buffer again in " + m + "ms"),g.OS || (g.OS=!0,g.emit("underflow")),g.n3(m,d + 1)):g.n3(2E4));};b.prototype.n3=function(m,d){var g;g=this;g.Oa.info("Scheduling pts check.");g.Xg=setTimeout(function(){g.ft(g.fw(),d);},m);};b.prototype.Cpb=function(m,d){return d.reduce(this.Dpb.bind(this,m),[]);};b.prototype.Dpb=function(m,d,g){var h,l;h=this.Q2(g.displayTime,m);m=this.Q2(g.displayTime + g.duration,m);l=0 < d.length?d[0].timeout:Infinity;return 0 < h && h < l?[c("showsubtitle",g,h)]:h === l?d.concat([c("showsubtitle",g,h)]):0 < m && m < l?[c("removesubtitle",g,m)]:m === l?d.concat([c("removesubtitle",g,m)]):d;};r.exports=b;},function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var m,d,g;function c(h,l,n){throw new TypeError(("undefined" !== typeof n.key?"Types: expected " + n.key:"Types: expected argument " + n.index) + (" to be '" + h + "' but found '" + l + "'"));}function f(h,l,n){var q;q=d[h];"undefined" !== typeof q?q(l) || c(h,l,n):h !== typeof l && c(h,l,n);}function k(h,l){var n;n=h.filter(function(q){return "object" !== typeof q && -1 === g.indexOf(q);});n=n.concat(h.filter(function(q){return "object" === typeof q;}).reduce(function(q,p){return q.concat(Object.keys(p).map(function(u){return p[u];}).filter(function(u){return -1 === g.indexOf(u);}));},[]));if(0 < n.length)throw Error(n.join(",") + " are invalid types");return function(){var q;q=Array.prototype.slice.call(arguments);if(q.length !== h.length)throw new TypeError("Types: unexpected number of arguments");h.forEach(function(p,u){var t;t=q[u];if("string" === typeof p)f(p,t,{index:u});else if("object" === typeof p)Object.keys(p).forEach(function(w){f(p[w],t[w],{key:w});});else throw Error("Types: unexpected type in type array");});return l.apply(this,q);};}m=("number boolean string object function symbol").split(" ");d={array:function(h){return Array.isArray(h);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(h){if("undefined" !== typeof d[h] || -1 < m.indexOf(h))throw new TypeError("Types: attempting to override a built in type with " + h);d[h]=a[h];});}g=Object.keys(d).concat(m);return k(["array","function"],k);};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.iE=void 0;r=a(0);c=a(482);f=a(1105);k=a(159);b.iE=new r.rd(function(m){m(c.tea).to(f.JHa).ba();m(k.eS).l_(function(d){return function(){return d.fb.get(c.tea).LRb;};});});},function(r,b,a){var f;function c(){var k;k=this;this.ready=!1;this.LRb=new Promise(function(m){k.HYb=m;});}Object.defineProperty(b,"__esModule",{value:!0});b.JHa=void 0;r=a(1);a=a(0);c.prototype.MRb=function(k){this.ready || (this.HYb(k),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};f=c;f=r.__decorate([(0,a.T)()],f);b.JHa=f;},function(r,b,a){var c,f,k,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.qk=void 0;r=a(0);c=a(92);f=a(483);k=a(1107);m=a(485);d=a(1108);b.qk=new r.rd(function(g){g(c.$x).Af(function(){return function(){return nb._cad_global.device;};});g(m.ACa).to(d.zCa).ba();g(f.xCa).to(k.wCa).ba();});},function(r,b,a){var f,k,m,d,g,h;function c(l,n){this.za=l;this.tva=n;}Object.defineProperty(b,"__esModule",{value:!0});b.wCa=void 0;r=a(1);f=a(38);k=a(5);m=a(141);d=a(484);g=a(59);a=a(0);c.prototype.uGb=function(){for(var l="",n=this.za.jf.da(k.la),q=6;q--;){l=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[n % 32] + l;n=Math.floor(n / 32);}for(;30 > l.length;){l+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.tva.p8a(new d.vfa(0,31,g.X5a))];}return l;};h=c;h=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(f.di)),r.__param(1,(0,a.l)(m.N1))],h);b.wCa=h;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t;function c(w,v,x,y,z,A,B,E,D){this.sCb=w;this.mo=v;this.nb=y;this.Dla=z;this.Wc=A;this.debug=B;this.C4b=E;this.AUb=D;this.jDa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=x.mb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.zCa=void 0;r=a(1);f=a(3);k=a(27);m=a(1109);d=a(7);g=a(483);h=a(36);l=a(97);n=a(29);q=a(0);p=a(79);u=a(486);a=a(487);c.prototype.rXa=function(w){try{return w.match(this.jDa)[2];}catch(v){}};c.prototype.tXa=function(w){try{return w.match(this.jDa)[1];}catch(v){}};c.prototype.create=function(w){var v;v=this;return new Promise(function(x,y){v.mo.create().then(function(z){var B,E,D,F,G,C;function A(H){v.nb.Bn(H) && v.nb.Bn(B)?(E=new m.yCa(H,B,void 0,D,w.kV || "cadmium"),x(E)):y({ta:f.M.gCa});}B=w.Xo;if(w.koa){D="bind_device";v.AUb.tg(v.log,{}).then(function(H){A(H.esn);}).catch(function(H){y(H);});}else if(w.uN){G=w.il;if(v.nb.Bn(G)){C=v.tXa(G);C != w.Xo && v.log.error("esn prefix from ui is different",{ui:C,cad:w.Xo,ua:w.userAgent});}else w.Ora && v.log.error("esn from ui is missing");!w.vQ && v.nb.Bn(G)?(D="config",A(G)):z.load(w.PVa).then(function(H){F=H.value;v.nb.Bn(F) && (!1,v.nb.Bn(G)?(H=v.rXa(G),D=H === F?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):D="storage_esn_not_in_config",A(B + F));}).catch(function(H){var I;function K(){z.save(w.PVa,I,!1).then(function(){A(B + I);}).catch(function(Q){y(Q);});}function M(){I=v.sCb.uGb();!1;K();}if(H.ta === f.M.kC){if(v.nb.Bn(w.il)){I=v.rXa(w.il);v.nb.Bn(I)?(D="config_since_not_in_storage",K()):(D="generated_since_invalid_in_config_and_not_in_storage",v.log.error("invalid esn passed from UI",w.il),M());}else (D="generated_since_not_in_config_and_storage",M());}else y(H);});}else w.tCb && v.Dla && v.Dla.getKeyByName?v.Dla.getKeyByName(w.Bub).then(function(H){H=H.id;if(v.nb.$p(H))(H=String.fromCharCode.apply(void 0,v.Wc.decode(H)),v.debug.assert("" != H),B=v.tXa(H),A(H));else throw "ESN from getKeyByName is not a string";}).catch(function(H){y({ta:f.M.fCa,yb:v.C4b.wd(H)});}):A();}).catch(function(z){y(z);});});};t=c;t=r.__decorate([(0,q.T)(),r.__param(0,(0,q.l)(g.xCa)),r.__param(1,(0,q.l)(p.QB)),r.__param(2,(0,q.l)(d.ub)),r.__param(3,(0,q.l)(k.ig)),r.__param(4,(0,q.l)(u.$Ba)),r.__param(5,(0,q.l)(h.Ii)),r.__param(6,(0,q.l)(l.Ev)),r.__param(7,(0,q.l)(n.jg)),r.__param(8,(0,q.l)(a.JIa))],t);b.zCa=t;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yCa=void 0;b.yCa=function(a,c,f,k){this.il=a;this.Xo=c;this.S5=k;};},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E,D,F,G,C;Object.defineProperty(b,"__esModule",{value:!0});b.u3a=void 0;r=a(0);c=a(159);f=a(1111);k=a(1112);m=a(1113);d=a(1114);g=a(1115);h=a(13);l=a(1116);n=a(1117);q=a(1118);p=a(48);u=a(92);t=a(492);w=a(489);v=a(488);x=a(87);y=a(288);z=a(50);A=a(187);B=a(1119);E=a(494);D=a(495);F=a(1122);G=a(496);C=a(1123);b.u3a=new r.rd(function(H){H(z.ln).to(k.gGa).ba();H(w.CHa).to(m.BHa).ba();H(v.vGa).to(d.uGa).ba();H(y.rGa).to(g.qGa).ba();H(z.Vda).to(l.fGa).ba();H(x.iy).to(n.nGa).ba();H(y.pGa).to(q.oGa).ba();H(A.WR).to(B.VR).ba();H(A.Yda).to(F.sGa).ba();H(G.ZR).to(C.YR).ba();H(E.HCa).to(D.GCa).ba();H(t.Wza).to(f.Vza).ba();H(z.hGa).l_(function(K){return function(){return K.fb.get(c.eS)().then(function(M){return new Promise(function(I){var L,J,N;function Q(){J() && N() && M.LX?I(K.fb.get(z.ln)):L.Yl(Q);}L=K.fb.get(p.Yj);J=K.fb.get(h.ad);N=K.fb.get(u.$x);L.Yl(Q);});});};});});},function(r,b,a){var f,k,m,d,g,h,l;function c(n,q,p,u){var t;t=this;this.CPb=n;this.zA=q;this.config=u;this.Lva=[];this.CPb.baa(f.keb,this.zKb.bind(this));p().then(function(w){var v;v=u().rq.YFb;t.oQb=v?l.Uj[v.toUpperCase()]:l.Uj.Rf;t.bg=w;t.KZb();});}Object.defineProperty(b,"__esModule",{value:!0});b.Vza=void 0;r=a(1);k=a(0);m=a(13);d=a(115);g=a(50);h=a(87);l=a(7);c.prototype.zKb=function(n,q){this.bg?this.m8a(n,q):this.Lva.push([n,q]);};c.prototype.KZb=function(){var n,q;n=this;q=this.Lva;this.Lva=[];q.forEach(function(p){n.m8a(p[0],p[1]);});};c.prototype.m8a=function(n,q){var p;if(this.bg && this.W_b(n)){p={debugMessage:n.message,debugCategory:n.Qo};n.jc.forEach(function(u){return p=Object.assign(Object.assign({},p),u.value);});p=Object.assign(Object.assign({},p),{prefix:"debug"});n=this.zA.$t("debug",l.Uj[n.level].toLowerCase(),p,q);this.bg.Jc(n);}};c.prototype.W_b=function(n){var q;q=this.oQb;return void 0 !== q && n.level <= q && !n.jc.find(function(p){return p.FV(l.nR);});};a=f=c;a.keb="adaptorAll";a=f=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.CK)),r.__param(1,(0,k.l)(h.iy)),r.__param(2,(0,k.l)(g.hGa)),r.__param(3,(0,k.l)(m.ad))],a);b.Vza=a;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u;function c(t,w,v,x,y,z,A){this.config=t;this.json=w;this.Oc=v;this.sPb=x;this.BX=z;this.Nla=A;this.j8=this.Tn=!1;this.listeners=[];(0,k.kp)(this,"json");this.wa=y.mb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.gGa=void 0;r=a(1);f=a(0);k=a(59);m=a(39);d=a(488);g=a(48);h=a(7);l=a(50);n=a(489);q=a(3);p=a(98);a(192);u=a(278);c.prototype.Fb=function(){this.Tn=!0;};c.prototype.Jc=function(t){var w;w=this;this.c0b(t) || (!1,0 < t.size.Kl(this.config.kQb)?this.wa.error("Logblob is too large, dropping from the queue",{logblobType:t.type,logblobSize:t.size.toString()}):(this.listeners.forEach(function(v){return v.XQb(t);}),!1,this.BX.Nia(t),this.Oc.Yl(function(){w.JFb();})));};c.prototype.flush=function(t){var w;w=this;t=void 0 === t?!1:t;return this.j8?(this.wa.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(v,x){w.wa.trace("Flushing",h.nR);w.Xs();w.Oc.Yl(function(){w.Swa(t).then(function(){v();}).catch(function(y){x(y);});});});};c.prototype.addListener=function(t){this.listeners.push(t);};c.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0 <= t && this.listeners.splice(t,1);};c.prototype.Swa=function(t){var w,v;w=this;t=void 0 === t?!1:t;if(!this.Tn)return (this.wa.trace("LogBatcher is not initialized"),Promise.resolve());if(this.j8)return (this.wa.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());v=this.BX.VGb();if(0 === v.length && !t)return (this.wa.trace("No logblobs to send"),Promise.resolve());!1;this.Xs();this.listeners.forEach(function(){});t=Promise.resolve();for(var x={},y=ba(v),z=y.next();!z.done;(x={Zba:x.Zba},z=y.next())){x.Zba=z.value;t=t.then((function(A){return function(){return w.GZb(A.Zba);};})(x));}return t.then(function(){return w.oH();}).catch(function(A){v.filter(function(B){return !B.sA;}).forEach(function(B){return B.iu();});w.oH();throw Error("Send failure. " + A);});};c.prototype.GZb=function(t){var w;w=this;this.wa.trace("Sending batch: " + t.size,h.nR);return Promise.resolve(this.BX.QXb(t)).then(function(){return w.sPb.send(t.mI);}).then(function(){return t.gQ();}).catch(function(v){w.wa.warn("Failed to send batch of logblobs.",v,h.nR);t.iu();w.T_b(v) && w.BX.ysb(t);w.d0b(v) && (w.j8=!0);throw v;});};c.prototype.T_b=function(t){return t.Nd === q.g1.DIa?!1:this.config.Kia;};c.prototype.d0b=function(t){return t.Ec === q.M.aEa || t.Ec === q.M.LR || t.Ec === q.M.PR?!0:!1;};c.prototype.JFb=function(){var t;t=this;0 < this.BX.size.Kl(this.config.j4a)?this.Swa().catch(function(w){return t.wa.warn("Failed to send log messages on size threshold. " + w);}):this.oH();};c.prototype.Xs=function(){this.w8 && (!1,this.w8.cancel(),this.w8=void 0);};c.prototype.oH=function(){this.w8 || (!1,this.w8=this.Oc.Jk(this.config.HZb,this.TO.bind(this)));};c.prototype.TO=function(){var t;t=this;this.j8=!1;this.Xs();this.Swa().catch(function(w){return t.wa.warn("Failed to send log messages on timer. " + w);});};c.prototype.stringify=function(t){var w;w="";try{w=this.json.stringify(t.data,void 0,"  ");}catch(v){}return w;};c.prototype.c0b=function(t){return 0 <= this.config.hab.indexOf(t.type)?!0:t.type === u.ed.debug?0 <= this.config.gab.indexOf(t.data.debugCategory):!1;};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(l.Vda)),r.__param(1,(0,f.l)(m.pF)),r.__param(2,(0,f.l)(g.Yj)),r.__param(3,(0,f.l)(d.vGa)),r.__param(4,(0,f.l)(h.ub)),r.__param(5,(0,f.l)(n.CHa)),r.__param(6,(0,f.l)(p.G0))],a);b.gGa=a;},function(r,b,a){var k,m,d,g,h,l,n;function c(q){this.TL=d.eb;this.Cha=[];this.mT=this.T2=!1;q && (this.TL=q.size,this.Cha=q.mI);}function f(q,p,u,t){this.YQb=q;this.config=p;this.cg=u;this.json=t;(0,m.kp)(this,"json");this.wa=this.cg.mb("MessageQueue");this.St=[];}Object.defineProperty(b,"__esModule",{value:!0});b.BHa=void 0;r=a(1);k=a(0);m=a(59);d=a(52);g=a(288);h=a(7);l=a(39);a=a(50);f.prototype.Nia=function(q){var p,u;0 === this.St.length && this.St.push(this.poa());if(q=this.zJb(q)){p=this.YQb.measure([q]);u=this.St[this.St.length - 1];0 < u.size.add(p).Kl(this.config.j4a) && (u=this.poa(),this.St.push(u));u.Nia(q);}};f.prototype.VGb=function(){var q;q=this.St.filter(function(p){return p.kwb;});this.St.push(this.poa());q.forEach(function(p){return p.ZPb();});return q;};f.prototype.ysb=function(q){q.sA || this.St.unshift(new c(q));};f.prototype.QXb=function(q){q=this.St.indexOf(q);0 <= q && this.St.splice(q,1);};f.prototype.zJb=function(q){try{return {data:this.json.parse(this.json.stringify(q.data)),severity:q.severity,size:q.size,timestamp:q.timestamp,type:q.type};}catch(t){var p,u;p={};q=q.data;u=q.debugMessage;u && "string" === typeof u && (p.originalDebugMessage=u);(q=q.debugCategory) && "string" === typeof q && (p.originalDebugCategory=q);this.wa.error("JSON.stringify error: " + t.message,p);}};f.prototype.poa=function(){return new c();};Ya.Object.defineProperties(f.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.St.reduce(function(q,p){return q.add(p.size);},d.eb);}}});n=f;n=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(g.rGa)),r.__param(1,(0,k.l)(a.Vda)),r.__param(2,(0,k.l)(h.ub)),r.__param(3,(0,k.l)(l.pF))],n);b.BHa=n;c.prototype.gQ=function(){this.T2=!1;this.mT=!0;};c.prototype.iu=function(){this.T2=!1;};c.prototype.Nia=function(q){this.Cha.push(q);this.TL=this.TL.add(q.size);};c.prototype.ZPb=function(){this.T2=!0;};Ya.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.TL;}},mI:{configurable:!0,enumerable:!0,get:function(){return this.Cha;}},kwb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.mI.length && !1 === this.T2;}},sA:{configurable:!0,enumerable:!0,get:function(){return this.mT;}}});},function(r,b,a){var k,m,d,g,h,l,n,q,p,u,t;function c(w,v,x,y,z,A,B,E){this.Da=w;this.platform=x;this.qk=y;this.json=z;this.de=A;this.Vh=B;this.APb=E;(0,m.kp)(this,"json");this.wa=v.mb("LogblobSender");}function f(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.uGa=void 0;r=a(1);k=a(0);m=a(59);d=a(39);g=a(5);h=a(29);l=a(19);n=a(35);q=a(92);p=a(7);u=a(490);a=a(72);c.prototype.send=function(w){var v;v=this;return new Promise(function(x,y){var z;try{z=w.reduce(function(A,B){A.entries.push(v.vAb(B));return A;},new f());x(v.xGb(z));}catch(A){v.wa.error(A.message);y(A);}}).then(function(x){return v.Vwa(x);});};c.prototype.vAb=function(w){return this.de.rI(this.de.rI({},w.data),{esn:this.qk().il,sev:w.severity,type:w.type,lver:this.platform.Tra,jssid:this.Da.id,devmod:this.platform.Kz,jsoffms:w.timestamp.Ka(this.Da.xA).da(g.la),clienttime:w.timestamp.da(g.la),client_utc:w.timestamp.da(g.zo),uiver:this.Vh.Kx});};c.prototype.xGb=function(w){var v;v=this;try{return this.json.stringify(w);}catch(z){for(var x={},y=0;y < w.entries.length;(x={NQ:x.NQ,zv:x.zv},++y)){x.zv=Object.assign({},w.entries[y]);try{this.json.stringify(x.zv);}catch(A){x.NQ=void 0;this.de.pD(x.zv,(function(B){return function(E,D){try{v.json.stringify(D);}catch(F){B.NQ=F.message;B.zv[E]=B.NQ;}};})(x));x.zv.stringifyException=x.NQ;x.zv.originalType=x.zv.type;x.zv.type="debug";x.zv.sev="error";}}return this.json.stringify(w);}};c.prototype.Vwa=function(w){var v;v=this;return this.APb.tg(this.wa,{logblobs:w}).then(function(){!1;}).catch(function(x){v.wa.error("PBO logblob failed",x);return Promise.reject(x);});};t=c;t=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.md)),r.__param(1,(0,k.l)(p.ub)),r.__param(2,(0,k.l)(n.Cl)),r.__param(3,(0,k.l)(q.$x)),r.__param(4,(0,k.l)(d.pF)),r.__param(5,(0,k.l)(h.jg)),r.__param(6,(0,k.l)(a.Qv)),r.__param(7,(0,k.l)(u.aJa))],t);b.uGa=t;},function(r,b,a){var f,k,m;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.qGa=void 0;r=a(1);f=a(0);k=a(288);m=a(52);c.prototype.measure=function(d){var g;g=this;return d.map(function(h){return h.size.add(g.config.vPb());}).reduce(function(h,l){return h.add(l);},(0,m.ga)(0));};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.pGa))],a);b.qGa=a;},function(r,b,a){var f,k,m,d,g,h,l;function c(n,q){n=h.af.call(this,n,"LogBatcherConfigImpl") || this;n.config=q;n.kQb=(0,f.ga)(5E5);n.HZb=(0,k.C9)(1);n.j4a=(0,f.ga)(1E6);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.fGa=void 0;r=a(1);f=a(52);k=a(5);m=a(0);d=a(13);g=a(46);h=a(47);a=a(37);na(c,h.af);Ya.Object.defineProperties(c.prototype,{Kia:{configurable:!0,enumerable:!0,get:function(){return this.config().Kia;}},hab:{configurable:!0,enumerable:!0,get:function(){return [];}},gab:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});l=c;r.__decorate([g.config(g.object(),"shedLogblobTypes")],l.prototype,"hab",null);r.__decorate([g.config(g.dz("string"),"shedDebugTypes")],l.prototype,"gab",null);l=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(a.fm)),r.__param(1,(0,m.l)(d.ad))],l);b.fGa=l;},function(r,b,a){var k,m,d,g,h,l,n,q,p;function c(u,t,w,v,x,y,z,A,B,E){this.platform=t;this.Ela=w;this.type=v;this.severity=x;this.timestamp=y;this.Da=A;this.data=z;this.data.type=v;this.data.sev=x;this.data.devmod=this.platform.Kz;this.data.clver=this.platform.version;u && u.je && (u.je.os && (this.data.osplatform=u.je.os.name,this.data.osver=u.je.os.version),this.data.browsername=u.je.name,this.data.browserver=u.je.version);u.bra && (this.data.tester=!0);u.hA && !this.data.groupname && (this.data.groupname=u.hA);u.wM && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + u.wM:u.wM);u.TJ && (this.data.uigroupname=u.TJ);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Da.zIb();this.data.uniqueLogId=B.uYa();this.data.appId=this.Da.id;E && (u=this.Da.Zb(),this.data.soffms=u.Ka(E.ej).da(g.la),this.data.mid=this.data.mid || E.K,this.data.lvpi=E.Sra,this.data.uiLabel=E.Xd,this.data.uxLabels=E.Jba,v="startup" === v?"playbackxid":"xid",this.data[v]="xid" === v && this.data.xid || E.ca,E.pJ && (v=E.pJ,(E=E.pJ.split(".")) && 1 < E.length && "S" !== E[0][0] && (v="SABTest" + E[0] + ".Cell" + E[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + v:v));}function f(u,t,w,v,x,y){this.za=u;this.Ela=t;this.config=w;this.Da=v;this.E4b=x;this.platform=y;}Object.defineProperty(b,"__esModule",{value:!0});b.nGa=void 0;r=a(1);k=a(52);m=a(0);d=a(38);g=a(5);h=a(336);l=a(41);n=a(19);q=a(491);a=a(35);f.prototype.$t=function(u,t,w,v){return new c(this.config,this.platform,this.Ela,u,t,this.za.jf,w,this.Da,this.E4b,v);};p=f;p=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(d.di)),r.__param(1,(0,m.l)(h.bCa)),r.__param(2,(0,m.l)(l.kn)),r.__param(3,(0,m.l)(n.md)),r.__param(4,(0,m.l)(q.fNa)),r.__param(5,(0,m.l)(a.Cl))],p);b.nGa=p;Ya.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.ZSa || (this.ZSa=(0,k.ga)(this.Ela.encode(this.data).length));return this.ZSa;}}});},function(r,b,a){var f,k,m;function c(d){this.qk=d;}Object.defineProperty(b,"__esModule",{value:!0});b.oGa=void 0;r=a(1);f=a(0);k=a(52);a=a(92);c.prototype.vPb=function(){var d;d=this.qk()?this.qk().il.length:40;return (0,k.ga)(d + 33);};m=c;m=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.$x))],m);b.oGa=m;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E,D;function c(F,G,C,H,K,M,I,Q,L,J,N,O,P,S,U,Z,ja,ya,ra){this.Ibb=F;this.bg=G;this.Fsa=C;this.$ma=H;this.se=K;this.B5=M;this.mf=I;this.config=Q;this.Gd=L;this.za=J;this.Da=N;this.platform=O;this.Tq=P;this.zA=S;this.gj=U;this.hs=Z;this.oI=ja;this.vc=ya;this.dE=ra;}Object.defineProperty(b,"__esModule",{value:!0});b.VR=void 0;r=a(1);f=a(451);k=a(50);m=a(29);d=a(459);g=a(282);h=a(0);l=a(187);n=a(493);q=a(494);p=a(89);u=a(13);t=a(38);w=a(19);v=a(35);x=a(87);y=a(121);z=a(163);A=a(39);B=a(41);E=a(289);a=a(70);c.prototype.create=function(F,G){return new n.XR(F,G,this.Ibb,this.bg,this.Fsa,this.$ma,this.se,this.B5,this.mf,this.config,this.Gd,this.za,this.Da,this.Tq,this.zA,this.gj,this.hs,this.oI,this.vc,this.dE);};D=c;D=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(f.AMa)),r.__param(1,(0,h.l)(k.ln)),r.__param(2,(0,h.l)(d.gHa)),r.__param(3,(0,h.l)(g.rda)),r.__param(4,(0,h.l)(m.jg)),r.__param(5,(0,h.l)(q.HCa)),r.__param(6,(0,h.l)(p.hy)),r.__param(7,(0,h.l)(u.ad)),r.__param(8,(0,h.l)(y.UF)),r.__param(9,(0,h.l)(t.di)),r.__param(10,(0,h.l)(w.md)),r.__param(11,(0,h.l)(v.Cl)),r.__param(12,(0,h.l)(A.qS)),r.__param(13,(0,h.l)(x.iy)),r.__param(14,(0,h.l)(z.LF)),r.__param(15,(0,h.l)(B.kn)),r.__param(16,(0,h.l)(E.qea)),r.__param(17,(0,h.l)(l.Yda)),r.__param(18,(0,h.l)(a.vt))],D);b.VR=D;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.FCa=void 0;c=a(52);b.FCa=function(f,k){this.$Cb=f;this.size=k.Pqa()?c.eb:k;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ssa=void 0;b.ssa=function(a,c){var d,g;if(0 !== a.length){if(1 === a.length)return a[0];for(var f=a[0],k=c(f),m=1;m < a.length;m++){d=a[m];g=c(d);g > k && (f=d,k=g);}return f;}};},function(r,b,a){var f,k,m,d,g,h,l,n,q,p;function c(u,t,w){this.platform=u;this.config=t;this.Da=w;this.oNa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.sGa=void 0;r=a(1);f=a(0);k=a(42);m=a(19);d=a(3);g=a(35);h=a(5);l=a(13);n=a(24);q=a(11);p=a(162);c.prototype.Gq=function(u,t,w){w && (u.adlid=w.Dc,u.abitrate=w.bitrate);t && (u.vdlid=t.Dc,u.vbitrate=t.bitrate);};c.prototype.Z0a=function(u,t,w){w?u=Object.assign(u,(0,p.Noa)(this.platform.vq,w)):u.errorcode=d.N.em;u.errorcode === this.platform.vq + d.N.rIa && (u.lastSyncWithVideoElement=this.getTime() - t.ZZ);};c.prototype.f1a=function(u,t){var w;Object.assign(u,(0,p.Yoa)());try{w=t.getBoundingClientRect();u.rendersize=w.width + "x" + w.height;u.renderpos=w.left + "x" + w.top;}catch(v){}};c.prototype.e1a=function(u,t){var w,v,x;w=t.uc[k.Vb.Wa.Pb].value;v=t.uc[k.Vb.Wa.Xb].value;x=t.pf.value;t=t.re.value;w && (u.cdnid=w.id,u.cdnname=w.name);v && (u.acdnid=v.id,u.acdnname=v.name);if(null === x || void 0 === x?0:x.stream)(u.adlid=x.stream.Dc,u.abitrate=x.stream.bitrate);if(null === t || void 0 === t?0:t.stream)(u.vdlid=t.stream.Dc,u.vbitrate=t.stream.bitrate,u.vheight=t.stream.height,u.vwidth=t.stream.width);};c.prototype.VLb=function(u,t){var w,v;v=null === (w=t.Ja) || void 0 === w?void 0:w.iBb;v && (null === v || void 0 === v?void 0:v.S) !== t.Az && (u.auxMid=v.S);};c.prototype.c1a=function(u,t){0 <= t.mediaTime.value && (u.moff=(0,n.Yo)(t.mediaTime.value),u.moffms=(0,n.Yf)(t.mediaTime.value));};c.prototype.W0a=function(u,t){t.Mg && (u.pbcid=t.Mg);t.zi && (u.playbackcontextid=t.zi);};c.prototype.kqa=function(u){var t,w;u.browserua=q.eC;u.browseruad=null === (w=null === (t=q.Oe.userAgentData) || void 0 === t?void 0:t.brands) || void 0 === w?void 0:w.map(function(v){return [v.brand,v.version];});u.browserhref=location.href;(t=q.Oe && q.Oe.connection && q.Oe.connection.type) && (u.nettype=t);};c.prototype.XN=function(u){var t,w,v,x,y;if(this.config().$Db){y=null === (t=null === q.Oe || void 0 === q.Oe?void 0:q.Oe.connection) || void 0 === t?void 0:t.effectiveType;t=null === q.Oe || void 0 === q.Oe?void 0:q.Oe.deviceMemory;y && (u.effectiveType=y);t && (u.deviceMemory=t);}(y=null === (w=null === q.Oe || void 0 === q.Oe?void 0:q.Oe.connection) || void 0 === w?void 0:w.type) && (u.connectionType=y);w=null === (v=null === q.Oe || void 0 === q.Oe?void 0:q.Oe.connection) || void 0 === v?void 0:v.downlink;"number" === typeof w && isFinite(w) && (u.downlink=w);v=null === (x=null === q.Oe || void 0 === q.Oe?void 0:q.Oe.connection) || void 0 === x?void 0:x.rtt;"number" === typeof v && isFinite(v) && (u.rtt=v);};c.prototype.L7=function(u,t){if(t=t.cb.Vm)(t.isUIAutoPlay && (u.isUIAutoPlay=!0),t.clLogId && (u.cl_log_id=t.clLogId));};c.prototype.YN=function(u,t){var w,v,x,y;w=this;if(t=t && t.streams){v=new Set();x=new Set();y=new Set();t.forEach(function(z){z=z.Lg;v.add(z);x.add(z.replace(w.oNa,""));(z=z.match(w.oNa)) && 0 < z.length && y.add(z[1]);});u.videoProfiles=[].concat(ha(v));u.videoProfile=0 === x.size?"none":[].concat(ha(x))[0];u.videoProfileLevels=[].concat(ha(y));t && t.length && (u.isMcClearen=! !t[0].vl.find(function(z){return 0 <= z.toLowerCase().indexOf("mcclearen");}));}};c.prototype.T0a=function(u,t){var w;if(t=t && t.streams){w={};t.forEach(function(v){w[v.Lg]=void 0;});u.audioProfiles=Object.keys(w);}};c.prototype.X0a=function(u){u.configversion=this.config().version;this.config().endpoint || (u.configendpoint="error");};c.prototype.getTime=function(){return this.Da.Zb().da(h.la);};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.Cl)),r.__param(1,(0,f.l)(l.ad)),r.__param(2,(0,f.l)(m.md))],a);b.sGa=a;},function(r,b,a){var f,k,m,d,g,h,l;function c(n,q,p,u,t){this.bg=n;this.config=q;this.za=p;this.Da=u;this.Vra=t;}Object.defineProperty(b,"__esModule",{value:!0});b.YR=void 0;r=a(1);f=a(50);k=a(0);m=a(187);d=a(13);g=a(38);h=a(19);l=a(1124);c.prototype.create=function(n,q,p){var u;u=this.Vra.create(n,q);return new l.$R(n,q,p,this.bg,this.config,this.Da,u);};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.ln)),r.__param(1,(0,k.l)(d.ad)),r.__param(2,(0,k.l)(g.di)),r.__param(3,(0,k.l)(h.md)),r.__param(4,(0,k.l)(m.WR))],a);b.YR=a;},function(r,b,a){var f,k,m,d,g;function c(h,l,n,q,p,u,t){var w;w=this;this.j=h;this.xa=l;this.bg=q;this.config=p;this.Da=u;this.qb=t;this.yA=function(v,x){return function(y){var z;z=x(y);if("number" !== typeof z)throw Error("Event " + JSON.stringify(y) + " does not have movie Id");z === w.K && v(y);};};this.R3a=this.yA(function(v){w.Saa(v.g8);},function(v){return v.K;});this.O3a=this.yA(function(){w.KU();},function(v){return v.K;});this.OTa=this.yA(function(){w.KU();},function(v){return v.movieId;});this.zka=this.yA(function(){w.j.Bb.value === g.hb.Lc && (w.j.Bb.removeListener(w.zka),w.Uq());},function(){return w.j.K;});this.yB=function(v){w.XA && w.qb.yB(v);};this.TTa=this.yA(this.qb.Axb,function(v){return v.K;});this.iWa=this.yA(this.qb.UCb,function(v){return v.K;});this.o3a=this.yA(this.qb.mX,function(v){return w.j.uk(v.segmentId).K;});this.p$a=this.yA(this.qb.wZ,function(v){return w.j.uk(v.segmentId).K;});this.YVa=this.yA(this.qb.pma,function(v){return v.K;});this.Gk=function(v){v.skip && (w.lo=!0);switch(v.cause){case g.Pe.iC:case g.Pe.a2:w.Os && w.Ep && w.qb.Aua(w.getTime() - w.Ep,w.Os);w.Os="repos";w.qb.uP(v.Mta,v.pf,v.re);w.Ep=w.getTime();(0,d.Xf)(w.Ew);break;case g.Pe.Q0:(w.Os="force_rebuffer",w.Ep=w.getTime(),(0,d.Xf)(w.Ew));}};this.rm=function(v){w.vA=v.oldValue;w.qb.rm(v);};this.Ew=function(){var v;if(w.Ep && w.j.Bb.value !== g.hb.Uf){v=w.getTime() - w.Ep;w.qb.CP(v,w.lo,w.Os);w.vA && w.vA != w.j.tc.value && w.qb.zja();w.Ep=void 0;w.Os=void 0;w.lo=void 0;}};this.Uq=function(){w.XA || (w.XA=!0,w.qb.LE(!1),w.rqa(),w.config().S7 && (w.qA=nb.setTimeout(function(){w.bg.flush(!1).catch(function(){return w.log.warn("failed to flush log batcher on initialLogFlushTimeout");});w.qA=void 0;},w.config().S7)));};this.qg=function(){w.qA && (nb.clearTimeout(w.qA),w.qA=void 0);if(w.config().C5 || w.config().kM)(w.rma && (nb.clearInterval(w.rma),w.rma=void 0),w.qb.WVa());w.x_ && w.x_();w.XA?w.qb.nH(! !w.j.Nh):w.j.Nh?w.qb.LE(!0):w.xa.background || w.qb.Bua();};this.J_=function(v){v.oldValue && v.Am && v.Am.OG && w.qb.AM(v.oldValue,v.newValue,v.Am.OG,v.Am.uU);};this.BY=function(v){var x;if(v.newValue){x=v.newValue.stream;w.eI != x && (w.eI && w.qb.awa(w.eI,x,v.newValue.um.startTime),w.eI=x);}};this.K=l.K;this.log=(0,k.Qh)(h,"LogblobBuilder");this.Fb();n && this.Saa();}Object.defineProperty(b,"__esModule",{value:!0});b.$R=void 0;f=a(12);k=a(8);m=a(5);d=a(63);g=a(15);c.prototype.Fb=function(){this.j.addEventListener(g.ea.hI,this.R3a);this.j.addEventListener(g.ea.ksa,this.O3a);this.j.addEventListener(g.ea.mX,this.o3a);this.j.addEventListener(g.ea.wZ,this.p$a);this.j.addEventListener(g.ea.qg,this.OTa);this.j.addEventListener(g.ea.gH,this.YVa,f.B1);if(this.config().C5 || this.config().kM)(this.j.addEventListener(g.ea.gH,this.iWa),this.rma=nb.setInterval(this.qb.WVa,this.config().ZCb));this.config().gwa && this.j.addEventListener(g.ea.gH,this.TTa);};c.prototype.Saa=function(h){var l;l=this;this.c5a || (this.j.Bb.value !== g.hb.Lc || (void 0 === h?0:h)?this.j.Bb.addListener(this.zka):this.Uq(),this.j.Qi.addListener(this.yB),this.j.kc.addListener(this.qb.$l),this.j.tc.addListener(this.rm),this.j.th.addListener(this.qb.mU),this.j.paused.addListener(this.qb.u$),this.j.re.addListener(this.BY),this.j.Bb.addListener(this.Ew),this.j.Bb.addListener(this.qb.ecb),this.j.Ye.addListener(this.J_),this.j.playbackRate.addListener(this.qb.KZ),this.j.addEventListener(g.ea.oi,this.qb.oi),this.j.addEventListener(g.ea.jM,this.qb.jM),this.j.addEventListener(g.ea.fQ,this.qb.fQ),this.j.addEventListener(g.ea.kz,function(n){l.Os="rebuffer";l.qb.kz(n);l.Ep=l.getTime();(0,d.Xf)(l.Ew);}),this.j.addEventListener(g.ea.Gk,this.Gk),this.j.addEventListener(g.ea.kQ,this.qb.kQ),this.xa.gq && this.xa.gq.addListener(this.qb.gq),this.c5a=!0);};c.prototype.KU=function(){this.qg();this.c5a && (this.j.removeEventListener(g.ea.hI,this.R3a),this.j.removeEventListener(g.ea.ksa,this.O3a),this.j.removeEventListener(g.ea.mX,this.o3a),this.j.removeEventListener(g.ea.wZ,this.p$a),this.j.Qi.removeListener(this.yB),this.j.kc.removeListener(this.qb.$l),this.j.tc.removeListener(this.rm),this.j.th.removeListener(this.qb.mU),this.j.paused.removeListener(this.qb.u$),this.j.re.removeListener(this.BY),this.j.Bb.removeListener(this.Ew),this.j.Bb.removeListener(this.zka),this.j.Bb.removeListener(this.qb.ecb),this.j.Ye.removeListener(this.J_),this.j.playbackRate.removeListener(this.qb.KZ),this.j.removeEventListener(g.ea.gH,this.YVa),this.j.removeEventListener(g.ea.qg,this.OTa),this.j.removeEventListener(g.ea.oi,this.qb.oi),this.j.removeEventListener(g.ea.jM,this.qb.jM),this.j.removeEventListener(g.ea.fQ,this.qb.fQ),this.j.removeEventListener(g.ea.kz,this.qb.kz),this.j.removeEventListener(g.ea.Gk,this.Gk),this.j.removeEventListener(g.ea.kQ,this.qb.kQ),this.xa.gq && this.xa.gq.removeListener(this.qb.gq),this.j.removeEventListener(g.ea.gH,this.iWa),this.j.removeEventListener(g.ea.gH,this.TTa));};c.prototype.getTime=function(){return this.Da.Zb().da(m.la);};c.prototype.rqa=function(){var h,l,n;h=this;n=[];this.config().N4a && (this.config().O4a.forEach(function(q){n.push(nb.setTimeout(h.qb.eE,q));}),this.config().p9 && (l=nb.setInterval(this.qb.eE,this.config().p9)),this.x_=function(){n.forEach(function(q){nb.clearTimeout(q);});l && nb.clearInterval(l);});};b.$R=c;},function(r,b,a){var c,f,k,m,d,g,h,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.p5a=void 0;r=a(0);c=a(1126);f=a(89);k=a(497);m=a(1127);d=a(290);g=a(498);h=a(1128);l=a(437);n=a(1132);b.p5a=new r.rd(function(q){q(k.CNa).to(c.BNa).ba();q(f.hy).SE(function(){return nb._cad_global.http;});q(d.w1).to(m.SHa).ba();q(g.THa).Oj(h.default);q(l.KEa).to(n.JEa).ba();});},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.BNa=void 0;r=a(1);a=a(0);c.prototype.create=function(){return new XMLHttpRequest();};f=c;f=r.__decorate([(0,a.T)()],f);b.BNa=f;},function(r,b,a){var f,k,m,d;function c(g,h,l){this.config=g;this.nPb=h;this.Rb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.SHa=void 0;r=a(1);f=a(325);k=a(0);m=a(190);a=a(498);c.prototype.tla=function(){if(this.config.pdb)return this.Rb(this.nPb());};d=c;d=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.RHa)),r.__param(1,(0,k.l)(m.OHa)),r.__param(2,(0,k.l)(a.THa))],d);b.SHa=d;},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1129);f=a(1130);k=a(1131);b.default=function(m){var d;m=new c.qca(m);d=new k.jkb(m);return new f.ikb(m,d);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.m3a=c;}a.prototype.fxa=function(c){try{this.m3a.setItem("gtp",JSON.stringify(c));}catch(f){return !1;}return !0;};a.prototype.BZa=function(){var c;try{c=this.m3a.getItem("gtp");if(c)return JSON.parse(c);}catch(f){}};a.prototype.uu=function(){var c;c=this.BZa();if(c && c.tp)return c.tp.a;};a.prototype.mIb=function(){var c;c=this.woa();if(c)return c.p25;};a.prototype.nIb=function(){var c;c=this.woa();if(c)return c.p50;};a.prototype.oIb=function(){var c;c=this.woa();if(c)return c.p75;};a.prototype.woa=function(){var c;c=this.BZa();if(c && (c=c.iqr))return c;};return a;})();b.qca=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,f){this.xw=c;this.TX=f;}a.prototype.fxa=function(c){return this.xw.fxa(c);};a.prototype.uu=function(){return this.xw.uu();};a.prototype.QIb=function(){return this.TX.TX();};return a;})();b.ikb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.xw=c;}a.prototype.TX=function(){var c,f,k;c=this.xw.mIb();f=this.xw.nIb();k=this.xw.oIb();if("number" === typeof c && "number" === typeof f && "number" === typeof k)return (k - c) / f;};return a;})();b.jkb=r;},function(r,b,a){var f,k,m;function c(d,g){this.mf=g;this.wa=d.mb("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.JEa=void 0;r=a(1);f=a(0);k=a(7);a=a(89);c.prototype.download=function(d,g){var h;h=this;g=void 0 === g?{s4a:0}:g;return new Promise(function(l,n){var p;function q(u){if(u.aa)return l(u.content);if(p === g.s4a)return n({ta:u.ta,KD:u.tk});p++;!1;h.mf.download(d,q);}p=0;h.mf.download(d,q);});};m=c;m=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.ub)),r.__param(1,(0,f.l)(a.hy))],m);b.JEa=m;},function(r,b,a){var c,f,k,m,d,g,h,l;Object.defineProperty(b,"__esModule",{value:!0});b.qYa=void 0;r=a(0);c=a(1134);f=a(1135);k=a(1136);m=a(1137);d=a(1138);g=a(499);h=a(500);l=a(170);b.qYa=new r.rd(function(n){n(l.ZDa).to(c.YDa).ba();n(l.bLa).to(f.aLa).ba();n(l.$Ka).to(k.ZKa).ba();n(g.VDa).to(m.UDa).ba();n(h.NEa).to(d.MEa).ba();});},function(r,b,a){var f,k,m,d,g,h,l,n;function c(q,p,u,t,w,v,x){this.config=q;this.K0a=p;this.Oc=u;this.wc=t;this.lYb=w;this.ewa=v;this.XNb=0;this.wa=x.mb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.YDa=void 0;r=a(1);k=a(0);m=a(5);d=a(48);g=a(7);h=a(499);l=a(500);a=a(170);c.prototype.start=function(){this.config.enabled && !this.Ps && (this.Ps=this.Oc.Jk(this.config.Gab,this.Bx.bind(this)));};c.prototype.stop=function(){this.Ps && (this.Ps.cancel(),this.Ps=void 0);};c.prototype.Bx=function(){var q,p;q=this;p="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.XNb++;this.TJb(p).then(function(u){return Promise.all(u.urls.map(function(t){return q.JKb(u,t.url,t.name);})).then(function(t){0 < t.length && q.lYb.bZ({data:t,context:u.context,Wra:u.Wra});}).then(function(){return u;});}).then(function(u){q.Ps && (u.C2a?q.Ps=q.Oc.Jk(u.C2a,q.Bx.bind(q)):q.stop());}).catch(function(u){return q.wa.error("FTL run failed",u);});};c.prototype.TJb=function(q){var p;p=this;return this.K0a.get(q,!1).then(function(u){var t;if(200 != u.status || null == u.body)return (p.ewa.bZ({url:q,status:u.status,xua:"FTL API request failed",oe:u.oe}),Promise.reject(Error("FTL API request failed: " + u.status)));t=p.wc.parse(u.body);return t instanceof Error?(p.ewa.bZ({url:q,status:4,xua:"FTL Probe API JSON parsing error",oe:u.oe}),Promise.reject(t)):Promise.resolve(t);}).catch(function(u){u instanceof Error && (p.ewa.bZ({url:q,status:0,xua:u.message}),p.wa.error("FTL API call failed",u.message));return Promise.reject(u);});};c.prototype.JKb=function(q,p,u){var t;t=this;return new Promise(function(w,v){var F;for(var x,y,z,A,B=[],E={},D=0;D < q.LWb;(E={$ba:E.$ba,aca:E.aca},++D)){E.$ba=D < q.j8a.length?q.j8a[D]:m.eb;E.aca="" + p + (-1 === p.indexOf("?")?"?":"&") + "pulse=" + (D + 1);F=(function(G){return function(){return new Promise(function(C,H){t.Oc.Jk(G.$ba,function(){f.rWb(t.K0a,G.aca,q.KWb).then(function(K){function M(I,Q,L){I || (I=L.headers[Q]);return I;}x=M(x,"via",K);y=M(y,"x-ftl-probe-data",K);z=M(z,"x-ftl-error",K);A=M(A,"latency-trace",K);K={status:K.status,oe:K.oe,Q4b:x || "",Zwb:y || "",GV:z || "",zOb:t.tUb(A)};C(K);}).catch(function(K){H(K);});});});};})(E);B.push(0 < D?B[D - 1].then(F):F());}Promise.all(B).then(function(G){w({url:p,name:u,data:G});}).catch(function(G){v(G);});});};c.prototype.tUb=function(q){var p;if(q){p={};q=ba(q.split(";"));for(var u=q.next();!u.done;u=q.next()){if((u=u.value.trim().split("=")) && 2 == u.length)try{p[u[0].trim()]=Number.parseInt(u[1]);}catch(t){}}return p;}};c.rWb=function(q,p,u){return q.get(p,!1,u).then(function(t){return Object.assign({},t);});};n=f=c;n=f=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.XDa)),r.__param(1,(0,k.l)(l.NEa)),r.__param(2,(0,k.l)(d.Yj)),r.__param(3,(0,k.l)(h.VDa)),r.__param(4,(0,k.l)(a.bLa)),r.__param(5,(0,k.l)(a.$Ka)),r.__param(6,(0,k.l)(g.ub))],n);b.YDa=n;},function(r,b,a){var f,k,m,d,g,h;function c(l,n){this.bg=l;this.Nsa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.aLa=void 0;r=a(1);k=a(0);m=a(52);d=a(5);g=a(50);a=a(87);c.prototype.bZ=function(l){var n;n={ctx:l.context,data:l.data.map(function(q){return {name:q.name,url:q.url,data:q.data.map(function(p){return f.w5b({d:p.oe.duration.da(d.la),sc:p.status,sz:p.oe.size.da(m.Dv),via:p.Q4b,cip:p.Zwb,err:p.GV},p);})};})};l=this.Nsa.$t(l.Wra,"info",n);this.bg.Jc(l);};c.w5b=function(l,n){f.ww(l,"dns",n.oe.cWa);f.ww(l,"tcp",n.oe.lya);f.ww(l,"tls",n.oe.vya);f.ww(l,"ttfb",n.oe.rya);f.Qsb(l,n.zOb);return l;};c.Qsb=function(l,n){n && (l.rtts=n);};c.ww=function(l,n,q){q && (l[n]=q.da(d.la));};h=f=c;h=f=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(g.ln)),r.__param(1,(0,k.l)(a.iy))],h);b.aLa=h;},function(r,b,a){var f,k,m,d,g,h;function c(l,n){this.bg=l;this.Nsa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.ZKa=void 0;r=a(1);k=a(0);m=a(52);d=a(5);g=a(50);a=a(87);c.prototype.bZ=function(l){l=this.Nsa.$t("ftlProbeError","info",f.v5b({url:l.url,sc:l.status,pf_err:l.xua},l));this.bg.Jc(l);};c.v5b=function(l,n){n.oe && (n=n.oe,f.ww(l,"d",n.duration),f.ww(l,"dns",n.cWa),f.ww(l,"tcp",n.lya),f.ww(l,"tls",n.vya),f.ww(l,"ttfb",n.rya),l.sz=n.size.da(m.Dv));return l;};c.ww=function(l,n,q){q && (l[n]=q.da(d.la));};h=f=c;h=f=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(g.ln)),r.__param(1,(0,k.l)(a.iy))],h);b.ZKa=h;},function(r,b,a){var f,k,m,d,g;function c(h,l){this.is=h;this.json=l;(0,k.kp)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.UDa=void 0;r=a(1);f=a(0);k=a(59);m=a(39);d=a(5);a=a(27);c.prototype.parse=function(h){var n;h=this.json.parse(h);if(!this.is.zia(h))throw Error("FtlProbe: param: not an object");if(h.next && !this.is.WT(h.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.WT(h.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(h.pulse_delays && !this.is.bz(h.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.WT(h.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.bz(h.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Bn(h.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.gM(h.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var l=0;l < h.urls.length;++l){n=h.urls[l];if(!this.is.zia(n))throw Error("FtlProbe: param.urls[" + l + "]: not an object");if(!this.is.$p(n.name))throw Error("FtlProbe: param.urls[" + l + "].name: not a string");if(!this.is.$p(n.url))throw Error("FtlProbe: param.urls[" + l + "].url: not a string");}return {LWb:h.pulses,j8a:h.pulse_delays?h.pulse_delays.map(d.Nc):[],KWb:(0,d.Nc)(h.pulse_timeout),C2a:h.next?(0,d.Nc)(h.next):void 0,urls:h.urls,Wra:h.logblob,context:h.ctx};};g=c;g=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.ig)),r.__param(1,(0,f.l)(m.pF))],g);b.UDa=g;},function(r,b,a){var f,k,m,d,g,h,l,n,q;function c(p,u,t){this.za=p;this.y5b=u;this.performance=t;(0,k.kp)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.MEa=void 0;r=a(1);k=a(59);m=a(284);d=a(52);g=a(39);h=a(38);l=a(0);n=a(497);q=a(5);c.prototype.get=function(p,u,t){var w;w=this;return new Promise(function(v,x){var y,z,A;try{y=w.y5b.create();("withCredentials" in y) || x(Error("Missing CORS support"));y.open("GET",p,!0);u && (y.withCredentials=!0);t && (y.timeout=t.da(q.la));z=w.za.jf;A=void 0;y.onreadystatechange=function(){var B;switch(y.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=w.za.jf.Ka(z);break;case XMLHttpRequest.DONE:B=w.za.jf.Ka(z);B={body:y.responseText,status:y.status,headers:f.hua(y.getAllResponseHeaders()),oe:w.Foa(p,(0,d.ga)(y.responseText.length),B,A)};v(B);}};y.send();}catch(B){x(B);}});};c.hua=function(p){var u,w,v;u={};p=p.split("\r\n");for(var t=0;t < p.length;t++){w=p[t];v=w.indexOf(": ");0 < v && (u[w.substring(0,v).toLowerCase()]=w.substring(v + 2));}return u;};c.prototype.Foa=function(p,u,t,w){u={size:u,duration:t,rya:w};if(!this.performance || !this.performance.getEntriesByName)return u;t=this.performance.getEntriesByName(p);if(0 == t.length && (t=this.performance.getEntriesByName(p + "/"),0 == t.length))return u;p=t[t.length - 1];u=(0,m.tO)(u);p.decodedBodySize && (u.size=(0,d.ga)(p.decodedBodySize));0 < p.duration?u.duration=(0,q.timestamp)(p.duration):0 < p.startTime && 0 < p.responseEnd && (u.duration=(0,q.timestamp)(p.responseEnd - p.startTime));0 < p.requestStart && (u.cWa=(0,q.timestamp)(p.domainLookupEnd - p.domainLookupStart),u.lya=(0,q.timestamp)(p.connectEnd - p.connectStart),u.rya=(0,q.timestamp)(p.responseStart - p.startTime),0 === p.secureConnectionStart?u.vya=(0,q.timestamp)(0):void 0 !== p.secureConnectionStart && (t=p.connectEnd - p.secureConnectionStart,u.vya=(0,q.timestamp)(t),u.lya=(0,q.timestamp)(p.connectEnd - p.connectStart - t)));return u;};a=f=c;a=f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.di)),r.__param(1,(0,l.l)(n.CNa)),r.__param(2,(0,l.l)(g.Rea)),r.__param(2,(0,l.optional)())],a);b.MEa=a;},function(r,b,a){var c,f,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.g8a=void 0;r=a(0);c=a(326);f=a(1140);k=a(193);m=a(1141);b.g8a=new r.rd(function(d){d(c.PCa).to(f.OCa).ba();d(k.UR).to(m.aGa).ba();});},function(r,b,a){var f,k,m,d,g,h,l,n;function c(q,p,u,t){this.de=q;this.gz=p;this.B4b=u;this.oO=t;}Object.defineProperty(b,"__esModule",{value:!0});b.OCa=void 0;r=a(1);f=a(0);k=a(29);m=a(36);d=a(78);g=a(138);h=a(60);l=a(55);a=a(193);c.prototype.bh=function(q){var p;p=this;return this.de.Vt(q.lk[0].data[0],[8,4])?Promise.resolve({xe:[{id:"ddd",gI:"cert",jX:void 0}],xj:[{sessionId:"ddd",data:new Uint8Array(this.gz.decode(l.sNa))}]}):this.de.Vt(q.lk[0].data[0],this.B4b.decode("certificate"))?Promise.resolve({xe:[{id:"ddd",gI:"cert",jX:void 0}],xj:[{sessionId:"ddd",data:new Uint8Array(this.gz.decode(l.P0))}]}):this.oO.Xy(this.lGb(q)).then(function(u){return p.mGb(u);});};c.prototype.release=function(q){return this.oO.release(this.pGb(q)).then(function(){});};c.prototype.lGb=function(q){var p,u;p=this;u=q.lk.map(function(t){return t.data.map(function(w){return {sessionId:t.sessionId,dataBase64:p.gz.encode(w)};});});return {ca:q.ca,zi:q.zi,D5:q.D5,ag:(0,h.Fra)(q.ag),Wo:g.so[q.Wo],lk:u.reduce(function(t,w){return t.concat(w);},[]),yX:q.yX,yk:q.yk};};c.prototype.pGb=function(q){return {ca:q.ca,xe:q.xe};};c.prototype.mGb=function(q){return {xe:q.xe,xj:q.xj};};n=c;n=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.jg)),r.__param(1,(0,f.l)(m.Ii)),r.__param(2,(0,f.l)(d.Xv)),r.__param(3,(0,f.l)(a.UR))],n);b.OCa=n;},function(r,b,a){var f,k,m,d,g,h;function c(l,n,q,p,u){this.qsb=l;this.JXb=n;this.o9a=p;this.LYb=u;this.wa=q.mb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.aGa=void 0;r=a(1);f=a(0);k=a(7);m=a(501);a(502);d=a(503);g=a(504);a=a(291);c.prototype.Xy=function(l){var n,q;n=this;!1;q=this.o9a.O2b(l);return this.qsb.yq(this.wa,l.yk,q).then(function(p){p.map(function(u){return u.GOb;});return n.LYb.jcb(p);}).catch(function(p){n.wa.error("PBO license failed",p);return Promise.reject(p);});};c.prototype.release=function(l){var n;n=this;!1;l=this.o9a.R2b(l);return this.JXb.tg(this.wa,l).then(function(){return {aa:!0};}).catch(function(q){n.wa.error("PBO release license failed",q);return Promise.reject(q);});};h=c;h=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.FIa)),r.__param(1,(0,f.l)(d.tJa)),r.__param(2,(0,f.l)(k.ub)),r.__param(3,(0,f.l)(g.VIa)),r.__param(4,(0,f.l)(a.Nea))],h);b.aGa=h;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w,v;function c(x){return function(){return x.fb.get(f.oJa).Fb();};}Object.defineProperty(b,"__esModule",{value:!0});b.MI=void 0;r=a(0);f=a(156);k=a(260);m=a(292);d=a(505);g=a(1143);h=a(1144);l=a(506);n=a(1145);q=a(507);p=a(1146);u=a(293);t=a(1147);w=a(508);v=a(1148);b.MI=new r.rd(function(x){x(l.YJa).to(n.XJa).ba();x(k.Pea).to(m.kJa).ba();x(d.LIa).to(g.KIa).ba();x(f.oJa).to(h.nJa).ba();x(f.oS).l_(c);x(w.mJa).to(v.lJa).ba();x(q.RIa).to(p.QIa).ba().O_();x(u.qJa).to(t.pJa).ba();x(u.hJa).to(t.gJa).ba();x(u.jJa).to(t.iJa).ba();});},function(r,b,a){var m,d,g,h,l,n,q,p,u,t;function c(){}function f(){}function k(w,v,x,y,z){var A;A=this;this.is=w;this.mo=v;this.config=x;this.fH=y;this.CUb=z;this.Hx=function(){return new c().encode({version:A.version,data:A.MI});};this.b4b=function(B){B=A.upgrade(B);A.CUb.validate(B);return B;};this.upgrade=function(B){var E;if(A.is.Bn(B))return A.c4b(B);E=B.version;if(void 0 != E && A.is.Oi(E) && 1 == E)return A.d4b(B);E=B.version;if(void 0 != E && A.is.Oi(E) && 2 == E)return new c().decode(B);if(B.version && A.is.Oi(B.version))throw new l.od(g.N.YB,g.M.XAa,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new l.od(g.N.YB,g.M.UB,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.Ts=new n.Jda(2,this.config().w7a,"" !== this.config().w7a && 0 < this.config().fVb,this.mo,this.Hx);}Object.defineProperty(b,"__esModule",{value:!0});b.KIa=void 0;r=a(1);m=a(0);d=a(13);g=a(3);h=a(27);l=a(40);n=a(323);q=a(79);p=a(92);u=a(292);a=a(293);k.prototype.XWb=function(){return this.Ts.load(this.b4b).catch(function(w){throw new l.od(g.N.YB,w.ta || w.Ec,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w);});};k.prototype.Usb=function(w){return this.Ts.add(w);};k.prototype.Z8a=function(w){return this.Ts.remove(w,function(v,x){return v.ca === x.ca;});};k.prototype.$ya=function(w){return this.Ts.update(w,function(v,x){return v.ca === x.ca;});};k.prototype.toString=function(){return JSON.stringify(this.Hx(),null,"  ");};k.prototype.ddb=function(w){return w?"/events?playbackContextId=" + w + "&esn=" + this.fH().il:"";};k.prototype.dza=function(w){return w.map(function(v){return {Dc:v.downloadableId,duration:v.duration};});};k.prototype.edb=function(w){var v;return w?{total:w.playTimes.total,NJ:null !== (v=w.playTimes.totalContentTime) && void 0 !== v?v:w.playTimes.total,audio:this.dza(w.playTimes.audio || []),video:this.dza(w.playTimes.video || []),text:this.dza(w.playTimes.timedtext || [])}:{total:0,NJ:0,audio:[],video:[],text:[]};};k.prototype.c4b=function(w){var v,x,y;v=this;w=JSON.parse(w);x={type:"online",href:this.ddb(w.playbackContextId),ca:w.xid?w.xid.toString():"",K:w.movieId,position:w.position,JU:w.timestamp,xZ:w.playback?1E3 * w.playback.startEpoch:-1,xO:w.mediaId,sY:this.edb(w.playback),trackId:"",Vm:{},profileId:w.accountKey};y=JSON.stringify({keySessionIds:w.keySessionIds,movieId:w.movieId,xid:w.xid,licenseContextId:w.licenseContextId,profileId:w.profileId});this.mo.create().then(function(z){z.save(v.config().uV,y,!1);});if("" === x.href || "" === x.ca)throw new l.od(g.N.YB,g.M.UB);return {version:2,data:[x]};};k.prototype.d4b=function(w){var v;v=this;if(!w.playdata || !this.is.bz(w.playdata))throw new l.od(g.N.YB,g.M.UB,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,w);return {version:2,data:(function(x){return x.map(function(y){return {type:y.type,href:v.ddb(y.playbackContextId),ca:y.xid?y.xid.toString():"",K:y.movieId,position:y.position,JU:y.timestamp,xZ:y.playback?1E3 * y.playback.startEpoch:-1,xO:y.mediaId,sY:v.edb(y.playback),trackId:"",Vm:{},profileId:y.profileId};});})(w.playdata)};};Ya.Object.defineProperties(k.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Ts.version;}},MI:{configurable:!0,enumerable:!0,get:function(){return this.Ts.Bw;}}});t=k;t=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(h.ig)),r.__param(1,(0,m.l)(q.QB)),r.__param(2,(0,m.l)(d.ad)),r.__param(3,(0,m.l)(p.$x)),r.__param(4,(0,m.l)(a.jJa))],t);b.KIa=t;f.prototype.encode=function(w){var v;v=new u.F1();return w.map(v.encode);};f.prototype.decode=function(w){var v;v=new u.F1();return w.map(v.decode);};c.prototype.encode=function(w){return {version:w.version,data:new f().encode(w.data)};};c.prototype.decode=function(w){return {version:w.version,data:new f().decode(w.data)};};},function(r,b,a){var m,d,g,h,l,n,q,p,u,t,w,v,x;function c(y,z,A,B,E,D,F,G){this.config=y;this.Oc=A;this.Lx=B;this.Wu=E;this.F$=D;this.Wh=F;this.cI=Promise.resolve();this.closed=!1;this.log=z.mb("PlaydataServices");this.LI=[];this.active=new Set();this.PYb=new f(y,G);}function f(y,z){this.config=y;this.za=z;}function k(y,z,A,B,E,D){this.log=y;this.Oc=z;this.fj=A;this.Wu=B;this.Lx=E;this.ZUb=D;this.uXa=this.Lh=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.nJa=b.plb=void 0;r=a(1);m=a(0);d=a(5);g=a(7);h=a(48);l=a(260);n=a(505);q=a(506);p=a(3);u=a(292);t=a(507);w=a(105);v=a(38);a=a(142);k.prototype.E9=function(y,z){var B;function A(){var E;E=B.Wu.create(B.fj);B.Lx.$ya(E).catch(function(D){var F;F=B.uXa?g.Uj.$fa:g.Uj.Rf;B.uXa=!0;B.log.write(F,"Unable to save playdata changes to IDB",D);});}B=this;this.log.trace("Adding initial playdata",z);this.Lx.Usb(z).then(function(){B.log.trace("Scheduling monitor",{interval:y});B.Ps=B.Oc.taa(y,A);}).catch(function(E){B.log.error("Unable to add playdata",{error:E,playdata:new u.F1().encode(z)});B.Ps=B.Oc.taa(y,A);});};k.prototype.stop=function(y){var z,A;z=this;if(this.Lh)return Promise.resolve();this.Ps && this.Ps.cancel();A=this.Wu.create(this.fj);return this.Lx.$ya(A).catch(function(B){z.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(y){if(z.fj.background)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());z.log.trace("Sending final playdata to the server",A);return z.ZUb.m$a(A);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(y)return (z.log.trace("Removing playdata from the persisted store",A),z.Lx.Z8a(A));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",A.K);}).catch(function(B){z.log.error("Unable to remove playdata changes",B);throw B;});};k.prototype.cancel=function(){this.Lh=!0;this.Ps && this.Ps.cancel();this.Lx.$ya(this.Wu.create(this.fj));};Ya.Object.defineProperties(f.prototype,{gwb:{configurable:!0,enumerable:!0,get:function(){var y;y=this.za.jf;return !this.cI || 0 <= y.Ka(this.cI).Kl(this.config.E2a)?(this.cI=y,!0):!1;}}});b.plb=f;c.prototype.Fb=function(){var y;y=this;this.OD || (this.log.trace("Starting playdata services"),this.OD=this.Lx.XWb().then(function(){!1;return y;}).catch(function(z){y.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return y;}));return this.OD;};c.prototype.close=function(){this.closed=!0;this.LI.forEach(function(y){y.E9.cancel();});};c.prototype.send=function(y){var z;if(this.closed)return Promise.resolve();z=this.config;return z.$O && z.Twa?this.FZb(y):Promise.resolve();};c.prototype.xp=function(y,z,A,B){var E;E=this;this.closed || (this.Nxa(y),this.Wwa(y,B).catch(function(D){E.log.error("Start command failed",{playdata:D.MI,error:D.GV});}),z && this.Kxa(this.pIb(y),y,A));};c.prototype.QZ=function(y){var z,A,B;z=this;if(this.closed)return Promise.resolve();A=this.Wu.create(y);this.active.delete(A.ca);y=ba((0,w.Tu)(function(E){return E.key === A.ca;},this.LI));B=y.next().value;this.LI=y.next().value;return Promise.all(B.map(function(E){E.stopped=!0;return E.E9.stop(z.config.Twa);})).then(function(){});};c.prototype.Nxa=function(y){var z,A;y.Ed("pdb");if(this.config.vua.wNb()){z=this.Wu.create(y);A=z.ca;this.LI.some(function(B){return B.key === A;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(A),this.LI.push({key:A,E9:this.HIb(y,z),Fx:!1,stopped:!1}));}};c.prototype.FZb=function(y){var z,A,B,E;z=this;A=this.Lx.MI.filter(function(D){return !z.active.has(D.ca);});B=void 0;E=void 0;y && Infinity === y?B=A:(A=ba((0,w.Tu)(function(D){return D.K === y;},A)),B=A.next().value,E=A.next().value);E && 0 < E.length && this.Oc.Jk(this.config.j$a,function(){z.l$a(E);});return B && 0 !== B.length?this.l$a(B):Promise.resolve();};c.prototype.l$a=function(y){var A;function z(B){return A.F$.m$a(B).then(function(){return A.WXb(B);});}A=this;return y.reduce(function(B,E){return B.then(function(){return z(E);});},Promise.resolve());};c.prototype.WXb=function(y){var z;z=this;return this.Lx.Z8a(y).then(function(){}).catch(function(A){z.log.error("Unable to complete the stop lifecycle event",A);throw A;});};c.prototype.HIb=function(y,z){y=new k(this.log,this.Oc,y,this.Wu,this.Lx,this.F$);y.E9(this.config.vua,z);return y;};c.prototype.Wwa=function(y,z){var A,B;A=this;B=this.Wu.nAb(y,z);return this.F$.Wwa(y,B).then(function(){!1;A.LI.filter(function(E){return E.key === y.ca.toString();}).forEach(function(E){E.Fx=!0;});}).catch(function(E){throw {MI:B,GV:E};});};c.prototype.k$a=function(y){return this.PYb.gwb?this.tZ(t.Mea.$W,y,p.N.Pda):Promise.resolve();};c.prototype.Daa=function(y){return this.tZ(t.Mea.splice,y,p.N.pLa);};c.prototype.tZ=function(y,z,A){var E;function B(D){var F;F=E.LI.filter(function(G){return G.key === D.ca.toString();});return 0 === F.length?!0:F.reduce(function(G,C){return G || C.stopped || !C.Fx;},!1);}E=this;return B(z)?this.cI:this.cI=this.cI.catch(function(){return Promise.resolve();}).then(function(){var D;if(B(z))return Promise.resolve();!1;D=E.Wu.create(z);return E.F$.tZ(y,z,D);}).then(function(D){!1;return D;}).catch(function(D){var F;E.log.error("Failed to send event",{eventKey:y,xid:z.ca,error:D});D.sk?F=E.Wh(A,D):D.PA === p.p1.Ufa && (F=E.Wh(A,D));throw {GV:D,dP:F};});};c.prototype.Kxa=function(y,z,A){var B;B=this;!1;this.Oka();this.ira=this.Oc.Jk(y,function(){B.Oka();B.tZ(t.Mea.$W,z,p.N.Pda).then(function(){B.Kxa(y,z,A);}).catch(function(E){var D;D=E.GV;(E=E.dP) && A(E);D.PA === p.p1.Ufa && B.Kxa(y,z,A);});});};c.prototype.Rab=function(){this.Oka();};c.prototype.Oka=function(){this.ira && (this.ira.cancel(),this.ira=void 0);};c.prototype.pIb=function(y){return y.cb.Opa?(0,d.Nc)(y.cb.Opa):this.config.D2a;};x=c;x=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(q.YJa)),r.__param(1,(0,m.l)(g.ub)),r.__param(2,(0,m.l)(h.Yj)),r.__param(3,(0,m.l)(n.LIa)),r.__param(4,(0,m.l)(l.Pea)),r.__param(5,(0,m.l)(t.RIa)),r.__param(6,(0,m.l)(a.rS)),r.__param(7,(0,m.l)(v.di))],x);b.nJa=x;},function(r,b,a){var f,k,m,d,g,h;function c(l,n){l=k.af.call(this,l,"PlaydataConfigImpl") || this;l.config=n;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.XJa=void 0;r=a(1);f=a(0);k=a(47);m=a(37);d=a(46);g=a(5);a=a(41);na(c,k.af);Ya.Object.defineProperties(c.prototype,{$O:{configurable:!0,enumerable:!0,get:function(){return this.config.Lw?"unsentplaydatatest":"unsentplaydata";}},Twa:{configurable:!0,enumerable:!0,get:function(){return !0;}},j$a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Nc)(1E4);}},vua:{configurable:!0,enumerable:!0,get:function(){return (0,g.Nc)(4E3);}},D2a:{configurable:!0,enumerable:!0,get:function(){return (0,g.C9)(1);}},E2a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Bh)(30);}}});h=c;r.__decorate([d.config(d.string,"playdataPersistKey")],h.prototype,"$O",null);r.__decorate([d.config(d.cd,"sendPersistedPlaydata")],h.prototype,"Twa",null);r.__decorate([d.config(d.nl,"playdataSendDelayMilliseconds")],h.prototype,"j$a",null);r.__decorate([d.config(d.nl,"playdataPersistIntervalMilliseconds")],h.prototype,"vua",null);r.__decorate([d.config(d.nl,"heartbeatCooldown")],h.prototype,"D2a",null);r.__decorate([d.config(d.nl,"keepAliveWindow")],h.prototype,"E2a",null);h=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.fm)),r.__param(1,(0,f.l)(a.kn))],h);b.XJa=h;},function(r,b,a){var f,k,m;function c(d,g){this.NU=g;this.log=d.mb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.QIa=void 0;r=a(1);f=a(88);k=a(7);a=a(0);c.prototype.Wwa=function(d,g){var h;h=this.NU(f.Hp.start);return this.nXa(h,d,g);};c.prototype.m$a=function(d){var g;g=this;return this.NU(f.Hp.stop).tg(this.log,d).then(function(){}).catch(function(h){g.log.error("PBO stop event failed",h);throw h;});};c.prototype.tZ=function(d,g,h){d=this.NU(d);return this.nXa(d,g,h);};c.prototype.nXa=function(d,g,h){var l;l=this;return d.yq(this.log,g.oa.yk,h).then(function(){}).catch(function(n){l.log.error("PBO event failed",n);throw n;});};m=c;m=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(k.ub)),r.__param(1,(0,a.l)(f.pda))],m);b.QIa=m;},function(r,b,a){var m,d,g,h;function c(){}function f(l){this.BUb=l;}function k(l){this.DUb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.pJa=b.iJa=b.gJa=void 0;r=a(1);m=a(0);d=a(293);g=a(40);h=a(3);k.prototype.validate=function(l){l.map(this.DUb.validate);};a=k;a=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(d.qJa))],a);b.gJa=a;f.prototype.validate=function(l){this.BUb.validate(l.data);};a=f;a=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(d.hJa))],a);b.iJa=a;c.prototype.validate=function(l){var n;l.ca && "string" === typeof l.ca?l.href && "string" === typeof l.href?l.profileId && "string" === typeof l.profileId || (n="ProfileId value is corrupted."):n="Href value is corrupted.":n="Xid value is corrupted.";if(n)throw new g.od(h.N.YB,h.M.UB,void 0,void 0,void 0,n,void 0,l.ca);};d=c;d=r.__decorate([(0,m.T)()],d);b.pJa=d;},function(r,b,a){var f,k,m,d;function c(g,h){this.c7a=h;this.log=g.mb("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.lJa=void 0;r=a(1);f=a(0);k=a(7);m=a(15);a=a(156);c.prototype.xp=function(g){var h;h=this;this.c7a().then(function(l){g.addEventListener(m.ea.hI,function(n){var q;if(void 0 !== n.gP){q=g.yD(n.gP);l.QZ(q);n.g8 || new Promise(function(p){var u;if(g.Gj.value)p();else {u=function(t){t.newValue && (p(),g.Gj.removeListener(u));};g.Gj.addListener(u);}}).then(function(){return l.xp(g,h.kab(g),function(p){return g.SG(p);},g.GM);});}});g.addEventListener(m.ea.Uq,function(){l.xp(g.ja,h.kab(g),function(n){return g.SG(n);},g.GM);});g.background || g.addEventListener(m.ea.kX,function(n){n=g.yD(n.K);l.Nxa(n);});g.addEventListener(m.ea.qg,function(){l.Rab();});g.addEventListener(m.ea.xdb,function(){l.k$a(g.ja).catch(function(n){(n=n.dP) && g.SG(n);});});g.kc.addListener(function(){g.cb.nma?h.log.trace("stickiness is disabled for timedtext"):l.Daa(g.ja);});g.tc.addListener(function(){g.cb.nma?h.log.trace("stickiness is disabled for audio"):l.Daa(g.ja).catch(function(n){(n=n.dP) && g.SG(n);});});});};c.prototype.kab=function(g){return g.state.value == m.Tb.te;};d=c;d=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.ub)),r.__param(1,(0,f.l)(a.oS))],d);b.lJa=d;},function(r,b,a){var f,k,m,d,g,h,l,n;function c(q){return function(){return new Promise(function(p,u){var t;t=q.fb.get(k.XCa);t.Fb().then(function(){p(t);}).catch(function(w){u(w);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.vWa=void 0;r=a(0);f=a(509);a(1150);k=a(511);m=a(1152);d=a(103);g=a(1153);h=a(512);l=a(1154);n=a(1155);a(1156);b.vWa=new r.rd(function(q){q(h.jGa).to(l.iGa).ba();q(f.UCa).to(n.kGa);q(d.QQ).to(g.Zza).ba();q(k.XCa).to(m.VCa).ba();q(k.WCa).l_(c);});},function(r,b,a){var f,k,m,d,g,h,l;function c(n,q,p){var u;u=g.BS.call(this,n,q,"idb") || this;u.mo=p;u.O9a=function(t){u.aCb(t.target.id).then(function(){return u.refresh();});};u.$Sb=function(){u.ixb().then(function(){return u.refresh();});};u.wTb=function(){u.refresh();};u.cTb=function(){u.pyb();};return u;}Object.defineProperty(b,"__esModule",{value:!0});b.hjb=void 0;r=a(1);f=a(0);k=a(29);m=a(27);d=a(191);g=a(510);h=a(135);l=a(294);na(c,g.BS);c.prototype.Fb=function(){var n;n=this;if(this.Tn)return Promise.resolve();nb.addEventListener("keydown",function(q){q.ctrlKey && q.altKey && q.shiftKey && q.keyCode == h.Jv.fib && n.toggle();});return this.mo.create().then(function(q){n.storage=q;n.Tn=!0;});};c.prototype.kl=function(){return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') + (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>');};c.prototype.Xoa=function(n,q,p){var u;n=n.toString();u='<font color="#C41A16">"' + q + '"</font>';p=this.qb.ri({name:q,data:p});return '<tr><td><span class="' + (this.prefix + '-display-indexvalue">' + n + '</span></td><td><span class="') + (this.prefix + '-display-keyvalue">' + u + '</span></td><td style="border-right:solid 0px"><ul class="') + (this.prefix + '-display-tree">' + p + '</ul></td><td style="border-left:solid 0px"><ul class="') + (this.prefix + '-display-item-inline"><button id="' + q + '" class="' + this.prefix + '-display-btn-inline">X</button></ul></td></tr>');};c.prototype.lpa=function(n){var q,p;q=this;p='<table class="' + this.prefix + '-display-table" width="100%">' + this.kl();Object.entries(n).forEach(function(u,t){var w;w=ba(u);u=w.next().value;w=w.next().value;p+=q.Xoa(t,u,w);});return p + "</table>";};c.prototype.XYa=function(){var n,q,p;n=this.de.createElement("button",g.hK,"Clear",{"class":this.prefix + "-display-btn"});q=this.de.createElement("button",g.hK,"Refresh",{"class":this.prefix + "-display-btn"});p=this.de.createElement("button",g.hK,"Copy",{"class":this.prefix + "-display-btn"});n.onclick=this.$Sb;q.onclick=this.wTb;p.onclick=this.cTb;return [n,q,p];};c.prototype.iPb=function(){var n;n=this;return this.storage.loadAll().then(function(q){n.P0a=q.reduce(function(p,u){p[u.key]=u.value;return p;},{});return n.P0a;});};c.prototype.aCb=function(n){return this.storage.remove(n);};c.prototype.ixb=function(){return this.storage.removeAll();};c.prototype.Q8a=function(){var n;n=this;return this.iPb().then(function(q){return n.lpa(q);});};c.prototype.pyb=function(){var n;n=JSON.stringify(this.P0a,null,4);l.q0.ola(n);};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.jg)),r.__param(1,(0,f.l)(m.ig)),r.__param(2,(0,f.l)(d.Kda))],a);b.hjb=a;},function(r,b){function a(c){this.is=c;this.cOb="#881391";this.e1b="#C41A16";this.ivb=this.ESb="#1C00CF";this.HMb="#D79BDB";this.r3b=this.ASb="#808080";}Object.defineProperty(b,"__esModule",{value:!0});b.QMa=void 0;a.prototype.ri=function(c){return this.getValue("~~NONAME~~",c);};a.prototype.wD=function(c,f){return '<font color="' + ((void 0 === f?0:f)?this.HMb:this.cOb) + '">' + c + ": </font>";};a.prototype.yYa=function(c,f){f=f || "";c='<li><a href="#">' + this.wD(c) + "Array[" + f.length + "]</a>";c+="<ul>";for(var k=0;k < f.length;++k){c+=this.getValue(k.toString(),f[k]);}c+=this.getValue("length",f.length,!0);return c + "</ul></li>";};a.prototype.e_a=function(c,f){var k,m;k=this;if(f instanceof CryptoKey)return this.sHb(c,f);m="";m+='<li><a href="#">' + ("~~NONAME~~" !== c?this.wD(c):"") + "Object</a>";m+="<ul>";Object.entries(f).forEach(function(d){var g;g=ba(d);d=g.next().value;g=g.next().value;m=d.startsWith("$")?m + k.getValue(d,"REMOVED"):m + k.getValue(d,g);});m+="</ul>";return m+="</li>";};a.prototype.sHb=function(c,f){c='<li><a href="#">' + this.wD(c) + "CryptoKey</a>";c=c + "<ul>" + this.e_a("algorithm",f.algorithm);c+=this.EYa("extractable",f.extractable);c+=this.J_a("type",f.type);c+=this.yYa("usages",f.usages);return c + "</ul></li>";};a.prototype.VIb=function(c,f,k){return '<li><a href="#">' + this.wD(c,void 0 === k?!1:k) + ('<font color="' + this.ESb + '">' + f.toString() + "</font></a></li>");};a.prototype.EYa=function(c,f,k){return '<li><a href="#">' + this.wD(c,void 0 === k?!1:k) + ('<font color="' + this.ivb + '">' + f.toString() + "</font></a></li>");};a.prototype.J_a=function(c,f,k){128 < f.length && (f=f.substr(0,128) + "...");return '<li><a href="#">' + this.wD(c,void 0 === k?!1:k) + ('<font color="' + this.e1b + '">"' + f + '"</font></a></li>');};a.prototype.UIb=function(c){return '<li><a href="#">' + this.wD(c) + ('<font color="' + this.ASb + '">null</font></a></li>');};a.prototype.cKb=function(c,f){f="undefined" === typeof f?"":f.toString();255 < f.length && (f=f.substr(0,255) + "...");return '<li><a href="#">' + this.wD(c) + ('<font color="' + this.r3b + '">' + f + "</font></a></li>");};a.prototype.getValue=function(c,f,k){k=void 0 === k?!1:k;return null === f?"" + this.UIb(c):this.is.bz(f)?"" + this.yYa(c,f):this.is.gM(f)?"" + this.e_a(c,f):this.is.$p(f)?"" + this.J_a(c,f,k):this.is.Oi(f)?"" + this.VIb(c,f,k):this.is.VT(f)?"" + this.EYa(c,f,k):"" + this.cKb(c,f);};b.QMa=a;},function(r,b,a){var f,k;function c(m){this.LCb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.VCa=void 0;r=a(1);f=a(0);a=a(509);c.prototype.Fb=function(){var m;m=this;this.OD || (this.OD=new Promise(function(d,g){var h;h=[];m.LCb.forEach(function(l){h.push(l.Fb());});Promise.all(h).then(function(){d();}).catch(function(l){g(l);});}));return this.OD;};k=c;k=r.__decorate([(0,f.T)(),r.__param(0,(0,f.uI)(a.UCa))],k);b.VCa=k;},function(r,b,a){var f,k;function c(){this.Mwa="";this.Ndb=[[],[]];this.Y=[[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.Zza=void 0;r=a(1);f=a(0);a(5);k=a(103);c.prototype.downloadRequest=function(m){var d;"" === this.Mwa && (this.Mwa=m.ha);if(!m.dd){d=this.t2b(m);this.Y[m.mediaType].push(d);this.Ndb[m.mediaType].forEach(function(g){g.tac(d);});}};c.prototype.t2b=function(m){return {id:m.wi(),ha:m.ha,mediaType:m.mediaType,nk:m.nk,startTime:m.cB,endTime:m.vx,offset:m.gv,uM:m.uM,tM:m.tM,duration:m.fs,bitrate:m.bitrate,state:k.tca.oWa,Gj:!1,ycc:!1,j0a:!1,rbc:k.sca.waiting};};c.prototype.update=function(m){this.Ndb[m.mediaType].forEach(function(d){d.rfc(m);});};Ya.Object.defineProperties(c.prototype,{ha:{configurable:!0,enumerable:!0,get:function(){return this.Mwa;}}});a=c;a=r.__decorate([(0,f.T)()],a);b.Zza=a;},function(r,b,a){var f,k,m,d,g;function c(h,l){h=m.af.call(this,h,"LogDisplayConfigImpl") || this;h.Zi=l;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.iGa=void 0;r=a(1);f=a(0);k=a(46);m=a(47);d=a(37);a=a(110);na(c,m.af);Ya.Object.defineProperties(c.prototype,{aZ:{configurable:!0,enumerable:!0,get:function(){return !0;}},qO:{configurable:!0,enumerable:!0,get:function(){return this.Zi.qO;}},t3a:{configurable:!0,enumerable:!0,get:function(){return -1;}}});g=c;r.__decorate([k.config(k.cd,"renderDomDiagnostics")],g.prototype,"aZ",null);r.__decorate([k.config(k.PD,"logDisplayMaxEntryCount")],g.prototype,"qO",null);r.__decorate([k.config(k.PD,"logDisplayAutoshowLevel")],g.prototype,"t3a",null);g=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(d.fm)),r.__param(1,(0,f.l)(a.JF))],g);b.iGa=g;},function(r,b,a){var m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A;function c(B,E,D,F,G,C,H,K,M,I){var Q;Q=this;this.za=B;this.pg=E;this.de=D;this.Oc=F;this.ko=G;this.config=C;this.fH=H;this.nya=K;this.oBb=M;this.mo=I;this.a2b=function(){Q.z_.Yl(function(){Q.update();});};this.clear=function(){Q.entries=[];Q.update();};this.V4a=function(){Q.Le.iO=!Q.Le.iO;Q.bE && Q.fE && (Q.Le.iO?(Q.bE.style.display="inline-block",Q.fE.style.display="none"):(Q.fE.style.display="inline-block",Q.bE.style.display="none"));Q.sJ(!1);};this.BPb=function(L){var J;Q.entries.push(L);J=Q.config.qO;0 <= J && Q.entries.length > J && Q.entries.shift();void 0 === Q.Le.oz[L.Qo] && (Q.Le.oz[L.Qo]=!0,Q.sJ(!1));Q.Le.isVisible && !Q.Bbb?Q.a2b():Q.z_.Yl();};this.TCb=function(){k.download("all",Q.entries.map(function(L){return L.mba(!1,!1);})).catch(function(L){console.error("Unable to download all logs to the file",L);});};this.Tn=!1;this.Le={isVisible:!1,iO:!0,z5:!0,Qra:t.Uj.Fda,oz:{}};this.z_=this.nya((0,q.Bh)(1));this.nFb=this.oBb((0,q.Nc)(250));this.entries=[];!1;!1;}function f(B){var E;this.elements=[];E=document.createElementNS(f.YZ,"svg");E.setAttribute("viewBox",B);this.elements.push(E);}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.kGa=void 0;r=a(1);m=a(0);d=a(29);g=a(114);h=a(345);l=a(48);n=a(38);q=a(5);p=a(19);u=a(92);t=a(7);w=a(115);v=a(295);x=a(512);y=a(79);z=a(135);A=a(294);k.download=function(B,E){return k.QHb(B).then(function(D){return k.UJb(D,E.join("\r\n")).then(function(F){return k.RCb(F.filename,F.text);});});};k.QHb=function(B){return new Promise(function(E,D){var F,G,C,H,K,M,I;try{F=new Date();G=F.getDate().toString();C=(F.getMonth() + 1).toString();H=F.getFullYear().toString();K=F.getHours().toString();M=F.getMinutes().toString();I=F.getSeconds().toString();1 === G.length && (G="0" + G);1 === C.length && (C="0" + C);1 === K.length && (K="0" + K);1 === M.length && (M="0" + M);1 === I.length && (I="0" + I);E(H + C + G + K + M + I + "." + B + ".log");}catch(Q){D(Q);}});};k.UJb=function(B,E){return new Promise(function(D,F){try{D({filename:B,text:URL.createObjectURL(new Blob([E],{type:"text/plain"}))});}catch(G){F(G);}});};k.RCb=function(B,E){var D;try{D=document.createElement("a");D.setAttribute("href",E);D.setAttribute("download",B);D.style.display="none";document.body.appendChild(D);D.click();document.body.removeChild(D);return Promise.resolve();}catch(F){return Promise.reject(F);}};f.prototype.$P=function(){var B;B=document.createElementNS(f.YZ,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};f.prototype.bQ=function(B,E,D){var F;F=document.createElementNS(f.YZ,"path");F.setAttribute("d",B);E && F.setAttribute("fill",E);D && F.setAttribute("fill-rule",D);this.addElement(F);return this;};f.prototype.NZ=function(B,E,D,F,G){var C;G=void 0 === G?"#000000":G;C=document.createElementNS(f.YZ,"rect");C.setAttribute("x",B.toString());C.setAttribute("y",E.toString());C.setAttribute("height",D.toString());C.setAttribute("width",F.toString());G && C.setAttribute("fill",G);this.addElement(C);return this;};f.prototype.J0b=function(){var B;B=document.createElementNS(f.YZ,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};f.prototype.end=function(){this.elements.pop();return this;};f.prototype.ri=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};f.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Ya.Object.defineProperties(f,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},cH:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});f.YZ="http://www.w3.org/2000/svg";c.prototype.Fb=function(){var B;B=this;this.OD || (this.OD=new Promise(function(E){nb.addEventListener("keydown",function(D){D.ctrlKey && D.altKey && D.shiftKey && (D.keyCode == z.Jv.kjb?B.toggle():D.keyCode == z.Jv.E && A.q0.ola(B.fH().il));});B.ko.baa(v.Zda.Cgb,B.BPb);E();}));return this.OD;};c.prototype.show=function(){document.body && (this.element || (this.bAb(),this.Tn=!0),!this.Le.isVisible && this.element && (document.body.appendChild(this.element),this.Le.isVisible=!0,this.update(!0)));};c.prototype.ps=function(){this.Tn && this.Le.isVisible && this.element && (document.body.removeChild(this.element),this.Le.isVisible=!1);};c.prototype.toggle=function(){this.Le.isVisible?this.ps():this.show();this.sJ(!1);};c.prototype.bAb=function(){var B,E;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});E=this.createElement("style");E.type="text/css";E.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(E);B.appendChild(this.yp=this.TAb());B.appendChild(this.UAb());B.appendChild(this.Wzb());this.element=B;}catch(D){console.error("Unable to create the log console",D);}};c.prototype.TAb=function(){var B,E;B=this;E=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");E.setAttribute("wrap","off");E.setAttribute("readonly","readonly");E.addEventListener("focus",function(){B.Bbb=!0;B.update();B.yp && (B.yp.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});E.addEventListener("blur",function(){B.Bbb=!1;B.update();B.yp && (B.yp.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return E;};c.prototype.UAb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.uAb());B.appendChild(this.lAb());B.appendChild(this.gAb());B.appendChild(this.WAb());B.appendChild(this.$zb());B.appendChild(this.AAb());B.appendChild(this.yAb());B.appendChild(this.iAb());B.appendChild(this.aAb());return B;};c.prototype.Wzb=function(){var B,E,D,F,G,C;B=this;E=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");D=this.createElement("div","padding:2px");F=this.createElement("select",this.Rw(22,160,1,2),"<option>Select categories</option>");G=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");E.appendChild(D);E.appendChild(G);D.appendChild(F);D.addEventListener("mousedown",function(H){H.preventDefault();});C=!1;D.addEventListener("click",function(){C?G.style.display="none":(G.innerHTML="",["all","none"].concat(Object.keys(B.Le.oz).sort()).forEach(function(H){G.appendChild(B.Xzb(H,D));}),G.style.display="block");C=!C;});return E;};c.prototype.Xzb=function(B,E){var D,F,G;D=this;F=this.createElement("label","display: block;margin:1px");F.htmlFor=B;G=this.createElement("input","margin:1px");G.type="checkbox";G.id=B;G.checked=this.Le.oz[B];G.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(D.Le.oz).forEach(function(C){D.Le.oz[C]="all" === B;}),E.click()):D.Le.oz[B]=!D.Le.oz[B];D.sJ(!0);});F.appendChild(G);F.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return F;};c.prototype.uAb=function(){var B,E;B=this;E=this.createElement("select",this.Rw(22,NaN,1,2),'<option value="' + t.Uj.Rf + '">Error</option><option value="' + (t.Uj.$fa + '">Warn</option><option value="') + (t.Uj.Fda + '">Info</option><option value="') + (t.Uj.qMa + '">Trace</option><option value="') + (t.Uj.ia + '">Debug</option>'));E.value=this.Le.Qra.toString();E.addEventListener("change",function(D){B.Le.Qra=parseInt(D.target.value);B.sJ(!0);},!1);return E;};c.prototype.lAb=function(){var E,D;function B(F){return E.nFb.Yl(function(){var G;G=F.target.value;E.Le.filter=G?new RegExp(G):void 0;E.sJ(!0);});}E=this;D=this.createElement("input",this.Rw(14,150,1,2));D.value=this.Le.filter?this.Le.filter.source:"";D.title="Filter (RegEx)";D.placeholder="Filter (RegEx)";D.addEventListener("keydown",B,!1);D.addEventListener("change",B,!1);return D;};c.prototype.gAb=function(){var B,E,D,F;B=this;E=this.createElement("div",this.Rw(NaN,NaN));D=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");D.id="details";D.type="checkbox";D.title="Details";D.checked=this.Le.z5;D.addEventListener("change",function(G){B.Le.z5=G.target.checked;B.sJ(!0);},!1);F=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");F.setAttribute("for","details");F.innerHTML="View details";E.appendChild(D);E.appendChild(F);return E;};c.prototype.WAb=function(){var B,E,D;B=this;E=this.createElement("button",this.Rw());D=new f("0 0 24 24").$P().J0b().end().bQ("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",f.cH,"nonzero").end().end().ri();E.appendChild(D);E.addEventListener("click",function(){B.update();},!1);E.setAttribute("title","Refresh the log console");return E;};c.prototype.$zb=function(){var B,E;B=this.createElement("button",this.Rw());E=new f("0 0 24 24").$P().NZ(0,0,24,24,f.background).end().bQ("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",f.cH).end().end().ri();B.appendChild(E);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.AAb=function(){var B;this.fE=this.createElement("button",this.Rw());this.fE.style.display=this.Le.iO?"none":"inline-block";B=new f("0 0 24 24").$P().NZ(0,0,24,24,f.background).end().bQ("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",f.cH,"nonzero").end().end().ri();this.fE.addEventListener("click",this.V4a,!1);this.fE.appendChild(B);this.fE.setAttribute("title","Shrink the log console");return this.fE;};c.prototype.yAb=function(){var B;this.bE=this.createElement("button",this.Rw());this.bE.style.display=this.Le.iO?"inline-block":"none";B=new f("0 0 24 24").$P().NZ(4,4,16,16,f.background).end().bQ("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",f.cH,"nonzero").end().end().ri();this.bE.addEventListener("click",this.V4a,!1);this.bE.appendChild(B);this.bE.setAttribute("title","Expand the log console");return this.bE;};c.prototype.iAb=function(){var B,E;B=this.createElement("button",this.Rw());E=new f("0 0 26 26").$P().NZ(0,0,24,24,f.background).end().bQ("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",f.cH,"nonzero").end().end().ri();B.appendChild(E);B.addEventListener("click",this.TCb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.aAb=function(){var B,E,D;B=this;E=this.createElement("button",this.Rw());D=new f("0 0 24 24").$P().NZ(0,0,24,24,f.background).end().bQ("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",f.cH,"nonzero").end().end().ri();E.appendChild(D);E.addEventListener("click",function(){B.toggle();},!1);E.setAttribute("title","Close the log console");return E;};c.prototype.sJ=function(B){var E;B=void 0 === B?!1:B;E=void 0 === E?!1:E;!1;B && this.update(E);};c.prototype.update=function(B){var E;E=this;B=void 0 === B?!1:B;this.element && this.config.aZ && Promise.resolve(this.xvb() + this.RHb().join("\r\n")).then(function(D){E.element && E.yp && (E.yp.value=D,E.element.style.cssText=E.Le.iO?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && E.Oc.Jk(q.eb,function(){E.yp.scrollTop=E.yp.scrollHeight;}));}).catch(function(D){console.error("Unable to update the log console",D);});};c.prototype.RHb=function(){var B,E;B=this;E=[];this.entries.forEach(function(D){(D.level || D.level) <= B.Le.Qra && B.Le.oz[D.Qo] && (D=D.mba(!B.Le.z5,!B.Le.z5),B.Le.filter && !B.Le.filter.test(D) || E.push(D));});return E;};c.prototype.xvb=function(){var B;B=this.fH();return "Version: 6.0034.519.911 \n" + ((B?"Esn: " + B.il:"") + "\nJsSid: ") + (this.pg.id + ", Epoch: " + this.za.jf.da(q.zo) + ", Start: " + this.pg.xA.da(q.zo) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,E,D,F){return this.de.createElement(B,E,D,F);};c.prototype.Rw=function(B,E,D,F){B=void 0 === B?26:B;E=void 0 === E?26:E;return "display:inline-block;border:" + (void 0 === D?0:D) + "px solid " + f.cH + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(E)?"":"width:" + E + "px") + ";margin:0px 3px;background-color:transparent;" + (F?"border-radius:" + F + "px;":"");};a=c;a.T0b="logDxDisplay";a=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(n.di)),r.__param(1,(0,m.l)(p.md)),r.__param(2,(0,m.l)(d.jg)),r.__param(3,(0,m.l)(l.Yj)),r.__param(4,(0,m.l)(w.CK)),r.__param(5,(0,m.l)(x.jGa)),r.__param(6,(0,m.l)(u.$x)),r.__param(7,(0,m.l)(g.UK)),r.__param(8,(0,m.l)(h.mCa)),r.__param(9,(0,m.l)(y.QB))],a);b.kGa=a;},function(r,b,a){var f,k,m,d,g,h,l,n;function c(q,p,u){var t;t=h.BS.call(this,q,p,"network") || this;t.Nla=u;t.A5=g.qCa.Pjb;t.jQb=30;t.ITb=function(w){t.A5=w.target.value;t.refresh();};t.ZSb=function(){t.data={};t.refresh();};t.O9a=function(w){var v,x;v=Number(w.target.id);w=w.target.getAttribute("data-type");v=t.data[t.A5][v].value;x=JSON.stringify(v,null,4);"copy" === w?n.q0.ola(x):"log" === w && console.log(v);};return t;}Object.defineProperty(b,"__esModule",{value:!0});b.hkb=void 0;r=a(1);f=a(0);k=a(29);m=a(27);d=a(98);g=a(192);h=a(510);l=a(135);n=a(294);na(c,h.BS);c.prototype.Fb=function(){var q;q=this;if(this.Tn)return Promise.resolve();nb.addEventListener("keydown",function(p){p.ctrlKey && p.altKey && p.shiftKey && p.keyCode == l.Jv.Wjb && q.toggle();});this.data={};this.Nla.addListener(g.eda.olb,function(p){var u;q.data[p.type] || (q.data[p.type]=[]);u=q.data[p.type];u.length === q.jQb && u.shift();u.push(p);p.type === q.A5 && q.refresh();});this.Tn=!0;return Promise.resolve();};c.prototype.kl=function(){return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') + (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>');};c.prototype.Xoa=function(q,p,u){var t;t=q.toString();p='<font color="#C41A16">"' + p + '"</font>';u=this.qb.ri(u);return '\n            <tr>\n                <td><span class="' + this.prefix + '-display-indexvalue">' + t + '</span></td>\n                <td><span class="' + this.prefix + '-display-keyvalue">' + p + '</span></td>\n                <td style="border-right:solid 0px"><ul class="' + this.prefix + '-display-tree">' + u + '</ul></td>\n                <td style="border-left:solid 0px">\n                    <div style="width: 88px">\n                        <button data-type="copy" id="' + q + '" class="' + this.prefix + '-display-btn-inline">\n                            Copy\n                        </button>\n                        <button data-type="log" id="' + q + '" class="' + this.prefix + '-display-btn-inline">\n                            Log\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        ';};c.prototype.lpa=function(){for(var q='<table class="' + this.prefix + '-display-table" width="100%">' + this.kl(),p=this.data[this.A5] || [],u=0;u < p.length;++u){q+=this.Xoa(u,p[u].name,p[u].value);}return q + "</table>";};c.prototype.XYa=function(){var q;q=this.de.createElement("button",h.hK,"Clear",{"class":this.prefix + "-display-btn"});q.onclick=this.ZSb;return [q,this.VAb(),this.JAb()];};c.prototype.VAb=function(){var q;q=this.de.createElement("select",h.hK,Object.values(g.qCa).reduce(function(p,u){return p + ('<option value="' + u + '">' + u + "</option>");},""),{"class":this.prefix + "-display-select"});q.onchange=this.ITb;return q;};c.prototype.JAb=function(){var q,p,u,t;q=this;p=this.de.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});p.checked=this.EY;p.onchange=function(){return q.A2b();};u=this.de.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});t=this.de.createElement("div",void 0,void 0,{"class":this.prefix + "-display-div"});t.appendChild(p);t.appendChild(u);return t;};c.prototype.Q8a=function(){return Promise.resolve(this.lpa());};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.jg)),r.__param(1,(0,f.l)(m.ig)),r.__param(2,(0,f.l)(d.G0))],a);b.hkb=a;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.crypto=void 0;r=a(0);c=a(486);f=a(11);b.crypto=new r.rd(function(k){k(c.$Ba).Oj(f.r1);});},function(r,b,a){var c,f,k,m,d,g,h,l,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.se=void 0;r=a(0);c=a(1159);f=a(1160);k=a(1161);m=a(140);d=a(324);g=a(491);h=a(1162);l=a(1163);n=a(513);q=a(1164);b.se=new r.rd(function(p){p(m.Z1).to(c.kMa).ba();p(d.qfa).to(k.QKa).ba();p(g.fNa).to(f.eNa).ba();p(h.tkb).to(l.eIa).ba();p(n.yNa).to(q.xNa).ba();});},function(r,b,a){var f,k,m,d,g,h;function c(l,n){this.is=l;this.json=n;(0,k.kp)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.kMa=void 0;r=a(1);k=a(59);m=a(39);d=a(0);g=a(27);h=a(140);c.prototype.x8a=function(l){var n;n=this;return f.read(l,function(q){return parseInt(q);},function(q){return n.is.dja(q);});};c.prototype.xva=function(l){var n;n=this;return f.read(l,function(q){return "true" == q?!0:"false" == q?!1:void 0;},function(q){return n.is.VT(q);});};c.prototype.Yq=function(l){var n;n=this;return f.read(l,function(q){return parseInt(q);},function(q){return n.is.dU(q);});};c.prototype.VWb=function(l){var n;n=this;return f.read(l,function(q){return parseFloat(q);},function(q){return n.is.Oi(q);});};c.prototype.w8a=function(l,n){return f.read(l,function(q){return f.wFb(q,n);},function(q){return void 0 !== q;});};c.prototype.Eva=function(l,n){return f.read(l,function(q){return q;},function(q){return n?n.test(q):!0;});};c.prototype.y8a=function(l){var n,q;n=this;q=void 0 === q?function(){return !0;}:q;try{return f.read(l,function(p){return n.json.parse(decodeURIComponent(p));},function(p){return n.is.gM(p) && q(p);});}catch(p){return new h.Kp();}};c.prototype.Xh=function(l,n,q){var p,u;p=this;q=void 0 === q?1:q;l=l.trim();u=n instanceof Function?n:this.BAb(n,q);n=l.indexOf("[");q=l.lastIndexOf("]");if(0 != n || q != l.length - 1)return new h.Kp();l=l.substring(n + 1,q);try{return f.qUb(l).map(function(t){t=u(p,f.I4b(t));if(t instanceof h.Kp)throw t;return t;});}catch(t){return t instanceof h.Kp?t:new h.Kp();}};c.prototype.BAb=function(l,n){var q;q=this;n=void 0 === n?1:n;return function(p,u){p=f.XIb(l);return 1 < n?q.Xh(u,l,n - 1):p(q,u);};};c.wFb=function(l,n){var p;for(var q in n){p=parseInt(q);if(n[p] == l)return p;}};c.read=function(l,n,q){l=n(l);return void 0 !== l && q(l)?l:new h.Kp();};c.XIb=function(l){switch(l){case "int":return function(n,q){return n.x8a(q);};case "bool":return function(n,q){return n.xva(q);};case "uint":return function(n,q){return n.Yq(q);};case "float":return function(n,q){return n.VWb(q);};case "string":return function(n,q){return n.Eva(q);};case "object":return function(n,q){return n.y8a(q);};}};c.qUb=function(l){var x;for(var n=[["[","]"]],q=[],p=0,u=0,t=0,w=[],v={};u < l.length;(v={KQ:v.KQ},++u)){v.KQ=l.charAt(u);x=void 0;"," == v.KQ && 0 == t?(q.push(l.substr(p,u - p)),p=u + 1):(x=n.find((function(y){return function(z){return z[0] == y.KQ;};})(v)))?(++t,w.push(x)):0 < w.length && w[w.length - 1][1] == v.KQ && (--t,w.pop());}if(p != u)q.push(l.substr(p,u - p));else if(p == u && 0 < p)throw new h.Kp();return q;};c.I4b=function(l){var n;n=l.charAt(0);if('"' == n || "'" == n){if(l.charAt(l.length - 1) != n)throw new h.Kp();return l.substring(1,l.length - 1);}return l;};a=f=c;a=f=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(g.ig)),r.__param(1,(0,d.l)(m.pF))],a);b.kMa=a;},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.eNa=void 0;r=a(1);a=a(0);c.prototype.uYa=function(k){var m;m=this;return k?(k ^ 16 * Math.random() >> k / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(d){return m.uYa(d);});};f=c;f=r.__decorate([(0,a.T)()],f);b.eNa=f;},function(r,b,a){var f,k,m,d;function c(g){this.location=g;(0,k.kp)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.QKa=void 0;r=a(1);k=a(59);m=a(39);a=a(0);c.lY=function(g){var h,n,q;h={};if(0 < g.length){g=g.split("&");for(var l=0;l < g.length;l++){n=g[l].trim();q=n.indexOf("=");0 <= q?h[decodeURIComponent(n.substr(0,q).replace(f.yIa,"%20"))]=decodeURIComponent(n.substr(q + 1).replace(f.yIa,"%20")):h[n.toLowerCase()]="";}}return h;};Ya.Object.defineProperties(c.prototype,{OWb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=f.lY(this.l8a);}},l8a:{configurable:!0,enumerable:!0,get:function(){var g;if(void 0 !== this.MY)return this.MY;this.MY=this.location.search.substr(1);g=this.MY.indexOf("#");0 <= g && (this.MY=this.l8a.substr(0,g));return this.MY;}}});d=f=c;d.yIa=/[+]/g;d=f=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(m.eGa))],d);b.QKa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tkb="ObjectComparerSymbol";},function(r,b,a){var f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.eIa=void 0;r=a(1);f=a(0);k=a(199);c.prototype.compare=function(m,d){var g;g=[];this.Yka(m,d,"",g);return g;};c.prototype.Yka=function(m,d,g,h){var l;l=this;if(k.oF.bz(m))k.oF.bz(d) && m.length === d.length?m.forEach(function(p,u){l.Yka(m[u],d[u],g + "[" + u + "]",h);}):h.push({a:m,b:d,path:g});else if(k.oF.gM(m) && null != m){if(k.oF.gM(d) && null != d){for(var n in m){this.Yka(m[n],d[n],g + "." + n,h);}for(var q in d){(q in m) || void 0 === d[q] || h.push({a:void 0,b:d[q],path:g + "." + q});}}else h.push({a:m,b:d,path:g});}else m !== d && h.push({a:m,b:d,path:g});};a=c;a=r.__decorate([(0,f.T)()],a);b.eIa=a;},function(r,b,a){var f,k,m,d,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.xNa=void 0;r=a(1);f=a(0);k=a(11);m=a(35);d=a(296);g=a(8);c.prototype.vJb=function(){var h;h=nb.devicePixelRatio || 1;return {width:this.Qha.N6b || k.Pv.width * h,height:this.Qha.M6b || k.Pv.height * h};};Ya.Object.defineProperties(c.prototype,{Qha:{configurable:!0,enumerable:!0,get:function(){return g.pa.get(m.fC);}}});a=c;r.__decorate([d.eX],a.prototype,"Qha",null);a=r.__decorate([(0,f.T)()],a);b.xNa=a;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v,x;Object.defineProperty(b,"__esModule",{value:!0});b.Gd=void 0;r=a(0);c=a(514);f=a(1166);k=a(121);m=a(297);d=a(1167);g=a(1168);h=a(1170);l=a(1171);n=a(1172);q=a(515);p=a(516);u=a(164);t=a(299);w=a(1173);v=a(298);x=a(1175);b.Gd=new r.rd(function(y){y(c.FJa).to(f.EJa).ba();y(m.lfa).to(d.IKa).ba();y(k.UF).to(g.nNa).ba();y(q.HKa).to(n.WGa).ba();y(q.GKa).to(l.$Fa).ba();y(q.FKa).to(h.RFa).ba();y(t.kAa).x2b(function(){var z;return null === (z=u.Pt.Ei) || void 0 === z?void 0:z.av;});y(t.jAa).to(w.iAa).ba();y(p.jfa).to(p.uKa);y(v.Qca).to(x.rBa).ba();});},function(r,b,a){var f,k,m;function c(d,g){this.nb=g;this.wa=d.mb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.EJa=void 0;r=a(1);f=a(0);k=a(7);a=a(27);c.prototype.mCb=function(d){var g;g=this;try{return {direction:d.direction,Ncc:d.layoutHasChanged,xec:d.rowInteractionIndex,ab:d.lolomos.map(function(h){return g.hCb(h);})};}catch(h){this.wa.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.hCb=function(d){var g;g=this;return {context:d.context,list:d.list.map(function(h){return g.gCb(h);}),requestId:d.requestId,rowIndex:d.rowIndex,yec:d.rowSegment};};c.prototype.gCb=function(d){var g,h;g={Fd:d.pts,property:d.property,S:d.viewableId,index:d.index};h=d.preplay;this.nb.Ng(h) && (g.P$=this.lCb(h));d=d.params;this.nb.Ng(d) && (g.Ab=this.LVa(d));return g;};c.prototype.lCb=function(d){var g;g={Fd:d.pts,S:d.viewableId,aP:d.pipelineNum,index:d.index};d=d.params;this.nb.Ng(d) && (g.Ab=this.LVa(d));return g;};c.prototype.LVa=function(d){return {Xd:d.uiLabel,Pj:d.trackingId,Vm:d.sessionParams};};c.prototype.kCb=function(d){var g;g=this;try{return d.map(function(h){return g.iCb(h);});}catch(h){this.wa.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.iCb=function(d){var g,h;h=d.params;this.nb.Ng(h) && (g=this.jCb(h));return {K:d.movieId,priority:d.priority,force:d.force,Ab:g,Xd:d.uiLabel,nfc:d.uiExpectedStartTime,mfc:d.uiExpectedEndTime,Ol:d.firstTimeAdded};};c.prototype.jCb=function(d){var g,h;g=void 0;h=d.sessionParams;this.nb.Ng(h) && (g=h);return {j4:this.fCb(d.authParams),Vm:g,Pj:d.trackingId,$:d.startPts,oa:d.manifest,bj:d.isBranching};};c.prototype.fCb=function(d){return {NUb:null === d || void 0 === d?void 0:d.pinCapableClient};};m=c;m=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.ub)),r.__param(1,(0,f.l)(a.ig))],m);b.EJa=m;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p;function c(u,t,w,v){this.is=w;this.pg=v;this.log=u.mb("TaskScheduler");this.Wb=new q.Rk();this.config=t();this.currentIteration=this.ZU=0;this.HJ=[];this.paused=!1;this.Uaa=[];this.eUa=[];this.zMb=this.config.WVb || p.append;this.addEventListener=this.Wb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.IKa=void 0;r=a(1);f=a(0);k=a(297);m=a(7);d=a(13);g=a(134);h=a(27);l=a(19);n=a(5);q=a(73);(function(u){u.prepend="prepend";u.append="append";u.JLb="ignore";})(p || (p={}));c.prototype.$sb=function(u){this.log.trace("adding tasks, number of tasks: " + u.length);this.paused=!1;this.HJ=this.AMb(u);this.ZU=0;this.currentIteration+=1;this.Xf();};c.prototype.pause=function(){this.paused=!0;};c.prototype.Xf=function(){var u,t,w,v;u=this;if(this.ZU === this.HJ.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.ZU,numberOfTasks:this.HJ.length});else {t=this.PIb();w=this.currentIteration;t.startTime=this.pg.Zb().da(n.la);t.status=g.Sk.Fx;this.Wb.Hc(k.PK.V1b,{K:t.K,type:t.type});this.Uaa.push(t);v=function(x){t.endTime=u.pg.Zb().da(n.la);x();u.eUa.push(t);u.Uaa.splice(u.Uaa.indexOf(t),1);u.currentIteration === w && (u.ZU++,u.Xf());};t.ZYb().then(function(){v(function(){t.status=g.Sk.gQ;u.fva(t,k.PK.W1b,"task succeeded");});}).catch(function(x){v(function(){0 <= [g.Sk.Lh,g.Sk.mwb,g.Sk.rka].indexOf(x.status)?(t.status=x.status,u.fva(t,k.PK.T1b,"cancelled task")):(t.status=g.Sk.iu,u.fva(t,k.PK.U1b,"task failed",x));});});}};c.prototype.PIb=function(){return this.HJ[this.ZU];};c.prototype.getStats=function(u,t,w){var v,x,y,z;v=this.eUa.map(function(A){return A.su();});x=this.Uaa.map(function(A){return A.su();});y=this.is.Ng(u) && this.is.Ng(t);z={};if(this.is.Ng(w))return (z.Kxb=v.filter(function(A){return A.movieId === w;}),z);v.concat(x).forEach(function(A){var B;z[A.type + "_" + A.status]=(z[A.type + "_" + A.status] | 0) + 1;B=A.status == g.Sk.Fx?A.startTime:A.endTime;y && B && B >= u && B < t && (z[A.type + "_" + A.status + "_delta"]=(z[A.type + "_" + A.status + "_delta"] | 0) + 1);});return z;};c.prototype.fva=function(u,t,w,v){var x;x=u.su();v?this.log.warn(w,x,v):this.log.trace(w,x);this.Wb.Hc(t,{K:u.K,type:u.type,reason:u.status});u.MO(x);};c.prototype.AMb=function(u){var t,w;t=this.HJ.filter(function(v){return v.LUb && v.status === g.Sk.So;});w=this.zMb;return w === p.JLb?[].concat(u):w === p.prepend?t.concat(u):u.concat(t);};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.ub)),r.__param(1,(0,f.l)(d.ad)),r.__param(2,(0,f.l)(h.ig)),r.__param(3,(0,f.l)(l.md))],a);b.IKa=a;},function(r,b,a){var k,m,d,g,h,l,n,q,p,u,t,w,v,x;function c(y,z,A,B,E,D,F,G,C,H,K){this.z5b=A;this.nb=B;this.pg=E;this.Me=D;this.CXa=F;this.fFb=G;this.gFb=C;this.dna=H;this.events=new x.EventEmitter();this.log=y.mb("VideoPreparer");this.config=z();this.Gza={};this.F9={};this.ic={num_of_calls:0,num_of_movies:0};this.Jg=K.Jg;}function f(y){return void 0 !== y;}Object.defineProperty(b,"__esModule",{value:!0});b.nNa=void 0;r=a(1);k=a(1169);m=a(13);d=a(0);g=a(7);h=a(81);l=a(27);n=a(297);q=a(19);p=a(5);u=a(134);t=a(298);w=a(515);v=a(299);x=a(17);c.prototype.z$a=function(y,z,A){this.Jg.setData(y,"ldl",z,A);};c.prototype.g0a=function(y){return this.Jg.EW(y,"ldl");};c.prototype.DTa=function(y){this.Jg.clearData(y,"ldl",void 0,!0);};c.prototype.vN=function(y,z){return this.Jg.getData(y,z);};c.prototype.LYa=function(y){var z;z=this.Jg.getData(y,"ldl");this.Jg.clearData(y,"ldl",void 0,!0);return z;};c.prototype.Mdb=function(y){return this.Nab === y || this.fVa === y;};c.prototype.OI=function(y,z){var A,B,E;A=this;y=y.map(function(D){D.Ab=D.Ab || ({j4:{NUb:!1},Pj:0});A.nb.eH(D.Ab.Pj) || (D.Ab.Pj=0);A.nb.eH(D.Fd) && (D.Ab.$=D.Fd);return D;});B=y.map(function(D){return A.SAb(D,z);}).reduce(function(D,F){return D.concat(F);},[]);E=B.map(function(D){return D.K + "-" + D.type;});this.log.trace("prepare tasks",E);this.Me.$sb(B);this.ic.num_of_calls++;this.ic.num_of_movies+=y.length;};c.prototype.getStats=function(y,z,A){return Object.assign(Object.assign({},A && this.F9[A] || ({})),{HJ:this.Me.getStats(y,z,A),cache:this.Jg.getStats(y,z),tGb:Object.assign(Object.assign({},this.ic),this.dna.getStats())});};c.prototype.FKb=function(y){this.Nab=y;};c.prototype.EKb=function(y){this.log.trace("task scheduler paused on playback created");this.Me.pause();this.config.dCb && this.Jg.Kka(y,["manifest"]);this.config.cCb && this.Jg.Kka(y,["ldl"]);this.config.ZBb && this.Jg.clearData(y,"manifest");this.dna.V8a(y);this.fVa=y;};c.prototype.d0a=function(){this.log.info("track changed, clearing all manifests from cache");this.Jg.Kka("none",["manifest"]);};c.prototype.DKb=function(y){var z;z=this;this.config.$Bb?this.Jg.clearData(y,"manifest"):this.Jg.EW(y,"manifest") && this.Jg.getData(y,"manifest").then(function(A){A.Nb.isSupplemental || z.Jg.clearData(y,"manifest");},function(A){z.log.warn("Failed to get manifest for movieId [" + y + "] from cacheManager.",A);});this.Qka(y);this.Nab=this.fVa=void 0;};c.prototype.Qka=function(y){delete this.Gza[y];};c.prototype.dA=function(y){return this.Gza[y];};c.prototype.eVa=function(y){return this.Gza[y]=this.z5b.zz();};c.prototype.iab=function(y,z){if(this.g0a(y))return u.Sk.Lh;if(!z.LH)return u.Sk.rka;};c.prototype.SAb=function(y,z){var A,B;y.Xd && y.Ab && (y.Ab.Xd=y.Xd);this.S3b(y.K,y.Ol);A=this.xAb(y,z);B=this.tAb(y,null === A || void 0 === A?void 0:A.id,z);y=this.zAb(y,null === A || void 0 === A?void 0:A.id,z);return [A,B,y].filter(f);};c.prototype.xAb=function(y,z){if(this.Jg.EW(y.K,"manifest"))this.log.trace("manifest exists in cache for " + y.K);else return new k.tS("manifest",this.pg.Zb().da(p.la),! !y.Ab.Zh,void 0,z,this.CXa,y,this);};c.prototype.tAb=function(y,z,A){if(this.config.BV)if(this.Jg.EW(y.K,"ldl"))!1;else return this.config.Cp?new k.tS("ldl",this.pg.Zb().da(p.la),! !y.Ab.Zh,z,A,this.fFb,y,this):new k.tS("ldl",this.pg.Zb().da(p.la),! !y.Ab.Zh,z,A,this.gFb,y,this);};c.prototype.zAb=function(y,z,A){if(this.config.MWa)return new k.tS("getMedia",this.pg.Zb().da(p.la),! !y.Ab.Zh,z,A,this.dna,y,this);};c.prototype.S3b=function(y,z){this.F9[y] || (this.F9[y]={N$:0,Ol:0});y=this.F9[y];y.N$=(void 0 !== y?void 0 !== y.N$?y.N$:0:0) + 1;y.Ol=z;};a=c;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(g.ub)),r.__param(1,(0,d.l)(m.ad)),r.__param(2,(0,d.l)(h.gy)),r.__param(3,(0,d.l)(l.ig)),r.__param(4,(0,d.l)(q.md)),r.__param(5,(0,d.l)(n.lfa)),r.__param(6,(0,d.l)(w.HKa)),r.__param(7,(0,d.l)(w.GKa)),r.__param(8,(0,d.l)(w.FKa)),r.__param(9,(0,d.l)(v.jAa)),r.__param(10,(0,d.l)(t.Qca))],a);b.nNa=a;},function(r,b,a){var f,k;function c(m,d,g,h,l,n,q,p){this.type=m;this.So=d;this.LUb=void 0 === g?!1:g;this.notify=l;this.hFb=n;this.fP=q;this.Gd=p;this.id=++k;this.status=f.Sk.So;}Object.defineProperty(b,"__esModule",{value:!0});b.tS=void 0;f=a(134);k=0;c.prototype.su=function(){var m;m={id:this.id,type:this.type,created:this.So,status:this.status,movieId:this.K};this.startTime && (m.startTime=this.startTime);this.endTime && this.startTime && (m.duration=this.endTime - this.startTime,m.endTime=this.endTime);return m;};c.prototype.MO=function(m){this.notify && this.notify(m);};c.prototype.ZYb=function(){return this.hFb.fetch(this.fP,this.Gd);};Ya.Object.defineProperties(c.prototype,{K:{configurable:!0,enumerable:!0,get:function(){return this.fP.K;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.fP.priority;}}});b.tS=c;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y;function c(z,A,B,E,D,F,G,C,H,K){this.Es=B;this.IZ=E;this.Wc=D;this.za=F;this.Da=G;this.oO=C;this.VUb=H;this.Ak=K;this.log=z.mb("VideoPreparer");this.config=A();}Object.defineProperty(b,"__esModule",{value:!0});b.RFa=void 0;r=a(1);f=a(0);k=a(7);m=a(13);d=a(134);g=a(64);h=a(60);l=a(35);n=a(158);q=a(193);p=a(36);u=a(5);t=a(38);w=a(19);v=a(194);x=a(204);a=a(120);c.prototype.fetch=function(z,A){var B;B=this;this.log.trace("Fetching LDL",(0,v.sK)(z));this.K=z.K;this.Gd=A;return A.vN(z.K,"ldl").catch(function(){B.log.trace("Requesting a new license",(0,v.sK)(z));return B.Ak.E6(z.K).then(function(E){var D,F;B.oa=E;B.Nb=E.Nb;if(E=B.Gd.iab(z.K,B.Nb))throw {status:E};E=B.Nb.JB[0].cv;D=B.Nb.JB[0].uma;F=(E?E:[D]).map(function(G){return B.Wc.decode(G.bytes);});B.tf=B.$G({AWa:B.log,Pma:function(G){return B.handleError(G);},Ed:void 0,vta:function(){},za:{getTime:function(){return B.Da.Zb().da(u.la);},Zbc:function(){return B.za.jf.da(u.zo);}}});A.z$a(z.K,B.tf);return B.tf.create(B.config.Im).then(function(){return B.tf.bh(h.hi.vo,F,!0);}).then(function(){return B.tf;}).catch(function(G){B.handleError(G);throw G;});}).catch(function(E){B.log.warn("Manifest not available for ldl request",E);if(void 0 !== E.status)throw E;throw {status:d.Sk.Lh};});});};c.prototype.handleError=function(z){this.log.warn("ldl is now invalid",z);this.tf.close();this.Gd.DTa(this.K);this.Gd.Qka(this.K);};c.prototype.$G=function(z){var A,B;A=this;if(!this.Es.qK || !this.Es.oK){B=this.VUb();this.Es.qK=B.bc;this.Es.oK=B.request;}B=new this.Es.oK(z.AWa,function(E){var D;D=[];E.lk.forEach(function(F){D.push({sessionId:F.sessionId,dataBase64:A.Wc.encode(F.data)});});E={lk:D,D5:[A.Nb.Bm],ag:g.uo.BUa(E.ag),zi:A.Nb.zi,ca:A.Gd.eVa(A.K),yk:A.oa.yk};A.log.trace("xid created ",{MovieId:A.K,xid:E.ca});return A.oO.Xy(E);},void 0,{wf:!1,ll:!1});return this.Es.qK(z.AWa,z.Ed,{wf:!1,ll:!1,Wl:B,HY:this.config.c8a,Z:void 0,GB:this.config.IWa,onerror:z.Pma,vta:z.vta,za:z.za,KI:!1,pub:this.IZ.X4([]),V4b:this.IZ.a5([]),K7:this.config.K7});};y=c;y=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.ub)),r.__param(1,(0,f.l)(m.ad)),r.__param(2,(0,f.l)(l.fC)),r.__param(3,(0,f.l)(n.zS)),r.__param(4,(0,f.l)(p.Ii)),r.__param(5,(0,f.l)(t.di)),r.__param(6,(0,f.l)(w.md)),r.__param(7,(0,f.l)(q.UR)),r.__param(8,(0,f.l)(x.Wea)),r.__param(9,(0,f.l)(a.vF))],y);b.RFa=y;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p;function c(u,t,w,v,x,y){this.Wc=w;this.hDb=v;this.yO=x;this.Ak=y;this.log=u.mb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.$Fa=void 0;r=a(1);f=a(0);k=a(7);m=a(13);d=a(60);g=a(36);h=a(124);l=a(139);n=a(134);q=a(194);a=a(120);c.prototype.fetch=function(u,t){var w;w=this;this.log.trace("Fetching LDL",(0,q.sK)(u));this.K=u.K;this.Gd=t;return t.vN(u.K,"ldl").then(function(v){return v.Gaa;}).catch(function(){w.log.trace("Requesting a new license",(0,q.sK)(u));return w.Ak.E6(u.K).then(function(v){var x,y,z,A;w.Nb=v.Nb;if(t.g0a(u.K))return t.vN(u.K,"ldl").then(function(B){return B.Gaa;});x=w.Gd.iab(u.K,w.Nb);if(x)throw {status:x};y=w.Nb.JB[0].cv;x=w.Nb.JB[0].uma;z=(y?y:[x]).map(function(B){return w.Wc.decode(B.bytes);});A=w.hDb().then(function(B){var E;E={type:d.hi.vo,initData:z,context:{cv:y},dj:{K:u.K,ca:t.eVa(u.K),zi:w.Nb.zi,Bm:w.Nb.Bm,yk:v.yk}};return B.bh(E,w.yO());}).catch(function(B){w.handleError("Unable to prepare an EME session.",B);throw B;});w.Gd.z$a(u.K,{Gaa:A,source:"videopreparer"},function(){if(!w.Gd.Mdb(u.K))try{A.then(function(B){return B.close();}).catch(function(B){w.handleError("Unable to cleanup LDL session, Unable to get the session.",B);});}catch(B){w.handleError("Unable to cleanup LDL session, unexpected exception.",B);}});return A;}).catch(function(v){w.log.warn("Manifest not available for ldl request",v);if(void 0 !== v.status)throw v;throw {status:n.Sk.Lh};});});};c.prototype.handleError=function(u,t){this.log.warn(u + " LDL is now invalid.",t);this.Gd.DTa(this.K);this.Gd.Qka(this.K);};p=c;p=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.ub)),r.__param(1,(0,f.l)(m.ad)),r.__param(2,(0,f.l)(g.Ii)),r.__param(3,(0,f.l)(h.K0)),r.__param(4,(0,f.l)(l.aS)),r.__param(5,(0,f.l)(a.vF))],p);b.$Fa=p;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p;function c(u,t,w,v,x){this.rX=w;this.pg=v;this.Ak=x;this.log=u.mb("VideoPreparer");this.config=t();}Object.defineProperty(b,"__esModule",{value:!0});b.WGa=void 0;r=a(1);f=a(13);k=a(0);m=a(7);d=a(19);g=a(5);h=a(133);l=a(104);n=a(194);q=a(120);p=a(60);c.prototype.fetch=function(u,t){var w,v;this.log.trace("Fetching manifest",(0,n.sK)(u));v=u.Ab;this.config.osb && v && v.oa && !this.Ak.Epa(u.K) && (!(("clientGenesis" in v.oa) && v.oa.clientGenesis) || Date.now() - v.oa.clientGenesis < this.config.P7a) && (v=this.rX.create(v.oa)) && (v.aJ=this.pg.Zb().da(g.la),v.xP=this.pg.Zb().da(g.la),this.Ak.RZ(u.K,v));return this.Ak.DN({S:u.K,cb:null !== (w=u.Ab) && void 0 !== w?w:{},ou:l.nn.IF,ag:p.hi.vo},!0,function(){t.events.emit("manifestRemovedFromCache",{target:t,type:"manifestRemovedFromCache",S:u.K});});};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(m.ub)),r.__param(1,(0,k.l)(f.ad)),r.__param(2,(0,k.l)(h.GK)),r.__param(3,(0,k.l)(d.md)),r.__param(4,(0,k.l)(q.vF))],a);b.WGa=a;},function(r,b,a){var k,m,d,g,h,l,n,q,p,u,t,w,v,x;function c(){var y;y=this;this.promise=new Promise(function(z,A){y.resolve=z;y.reject=A;});}function f(y,z,A,B,E){var D;D=this;this.Kua=A;this.TVb=B;this.Ak=E;this.P_=[];this.ZA=new Map();this.tTb=function(F){var G,C;F=F.wishListItem.key.S;if(D.ZA.has(F)){C=D.ZA.get(F);F=C.fP;C=C.bla;null === (G=C.resolve) || void 0 === G?void 0:G.call(C,F);}};this.e6a=function(F){!F.target.Mdb(F.S) && D.ZA.has(F.S) && (D.V8a(F.S),D.bab(D.P_),D.lj.has({S:F.S}) && (D.lj.Fm(F.S).hu=!0));};this.wa=y.mb("VideoPreparer");this.config=z();this.lj=new v.Zfa();}Object.defineProperty(b,"__esModule",{value:!0});b.iAa=void 0;r=a(1);k=a(7);a(194);m=a(164);d=a(42);g=a(13);h=a(14);l=a(104);n=a(299);q=a(0);p=a(516);u=a(17);t=a(120);w=a(60);v=a(517);x=a(1174);f.prototype.fetch=function(y,z){if(-1 === z.events.listeners("manifestRemovedFromCache").indexOf(this.e6a))z.events.on("manifestRemovedFromCache",this.e6a);!1;this.bab(this.Cxb(this.aBb(y,z)));return this.ZA.get(y.K).bla.promise;};f.prototype.getStats=function(){return this.av.getStats();};f.prototype.Cxb=function(y){return [y].concat(ha(this.P_.filter(function(z){return z.key.S !== y.key.S;}))).slice(0,this.config.RVb).map(this.config.SVb?function(z,A){return Object.assign({},z,{priority:A});}:function(z){return z;});};f.prototype.DN=function(y){var z;return this.Ak.DN({S:y.K,ou:l.nn.IF,ag:w.hi.vo,cb:null !== (z=y.Ab) && void 0 !== z?z:{}}).then(function(A){return A.Nb;});};f.prototype.aBb=function(y,z){var A,B,E,D,F,G;E=new c();if(this.ZA.has(y.K)){D=this.ZA.get(y.K);F=D.fP;if(F.K === y.K && F.Xd === y.Xd)G=D.t5b.key;this.av.getStats().contents.some(function(C){return C.id === y.K;}) && (E=D.bla);}D=m.Pt.hf.Yt((0,h.ela)(y.Xd));G || (G={S:y.K,config:D});F={S:y.K};this.lj.has(F) || this.lj.store(F,this.$Ab(y,z,D));z={key:G,Hcc:!1,priority:y.priority,n4:d.O.Na(null !== (B=null === (A=y.Ab) || void 0 === A?void 0:A.$) && void 0 !== B?B:0),lj:this.lj};this.ZA.set(y.K,{t5b:z,fP:y,bla:E});return z;};f.prototype.$Ab=function(y,z,A){var B,E,D;B=this;E=y.K;return {get ca() {return z.dA(E);},hu:!1,events:new u.EventEmitter(),qka:function(){},get qr() {D || (D=B.DN(y).then(function(F){return {oa:F,Vi:F.Gpa && !F.LH,config:A,oab:{}};}));return D;},S:E,lbb:!1,equals:function(F){var G;G=z.dA(E);return F.S === E && (!F.ca || !G || G === F.ca);}};};f.prototype.I$a=function(y){this.P_=y;};f.prototype.bab=function(y){this.I$a(y);this.av.aab(this.P_);};f.prototype.V8a=function(y){this.ZA.has(y) && (this.I$a(this.P_.filter(function(z){return z.key.S !== y;})),this.ZA.delete(y));};Ya.Object.defineProperties(f.prototype,{av:{configurable:!0,enumerable:!0,get:function(){this.Ny || (this.Ny=this.TVb(),this.Ny.ixa(this.Kua).S$a(new x.wFa()).y$a({QH:this.config.QVb}),this.Ny.events.on("prefetchComplete",this.tTb));return this.Ny;}}});a=f;a=r.__decorate([(0,q.T)(),r.__param(0,(0,q.l)(k.ub)),r.__param(1,(0,q.l)(g.ad)),r.__param(2,(0,q.l)(p.jfa)),r.__param(3,(0,q.l)(n.kAa)),r.__param(4,(0,q.l)(t.vF))],a);b.iAa=a;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.wFa=void 0;a.prototype.MXa=function(c,f){var k;return null !== (k=this.xFb(c,f)) && void 0 !== k?k:this.AFb(c,f);};a.prototype.xFb=function(c,f){var k,m;k=this;m=f.ma;return c.find(function(d){var g;return k.l5(m,null === (g=d.ma) || void 0 === g?void 0:g.ma);});};a.prototype.AFb=function(c,f){var k,m;k=f.ma.Pd;m=f.ma.V[k];return c.find(function(d){var g;d=null === (g=d.ma) || void 0 === g?void 0:g.ma;d=(g=null === d || void 0 === d?void 0:d.Pd) && (null === d || void 0 === d?void 0:d.V[g]) || void 0;return k === g && m.S === (null === d || void 0 === d?void 0:d.S) && m.Aa === (null === d || void 0 === d?void 0:d.Aa);});};a.prototype.l5=function(c,f){var k;k=this;return c === f?!0:"object" !== typeof c || "object" !== typeof f?c === f:Object.keys(c).length === Object.keys(f).length && Object.keys(c).every(function(m){return k.l5(c[m],f[m]);});};b.wFa=a;},function(r,b,a){var f,k,m,d,g,h;function c(l,n,q){var p;p=this;this.pg=n;n=q();this.Jg=new h({log:l.mb("CacheManager"),za:{getTime:function(){return p.pg.Zb().da(d.la);}},Promise:Promise,wf:!1,Hvb:n.ZVb,Gvb:n.XVb,KEb:n.P7a,JEb:n.YVb});}Object.defineProperty(b,"__esModule",{value:!0});b.rBa=void 0;r=a(1);f=a(0);k=a(19);m=a(7);d=a(5);g=a(13);h=a(1176);c=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.ub)),r.__param(1,(0,f.l)(k.md)),r.__param(2,(0,f.l)(g.ad))],c);b.rBa=c;},function(r,b,a){var d;function c(){return Object.create(null);}function f(g){this.log=g.log;this.za=g.za;this.hE=c();this.Promise=g.Promise;this.wz=g.wz;this.Nya=g.Nya;this.wf=g.wf || !1;this.Nw=c();this.$C=c();this.KG=c();this.Brb(g);g.wq && (this.wq=g.wq);}function k(g){return "undefined" !== typeof g;}function m(g){var n;for(var h=0,l=arguments.length;h < l;){n=arguments[h++];if(k(n))return n;}}a(1177);d=a(1178);f.prototype.Brb=function(g){this.Nw.manifest=m(g.KEb,d.Nw.oa);this.Nw.ldl=m(g.JEb,d.Nw.fX);this.Nw.metadata=m(g.Kbc,d.Nw.Ic);this.$C.manifest=m(g.Hvb,d.$C.oa);this.$C.ldl=m(g.Gvb,d.$C.fX);this.$C.metadata=m(g.Rac,d.$C.Ic);this.KG.manifest=m(g.Pac,d.KG.oa);this.KG.ldl=m(g.Oac,d.KG.fX);this.KG.metadata=m(g.Qac,d.KG.Ic);};f.prototype.EW=function(g,h){this.du("undefined" !== typeof g);this.du("undefined" !== typeof h);return ! !this.tOa(g,h,void 0).value;};f.prototype.tOa=function(g,h,l){var n,q;n={value:null,reason:"",log:""};q=this.hE[h];if("undefined" === typeof q)return (n.log="cache miss: no data exists for field:" + h,n.reason="unavailable",n);"undefined" === typeof q[g]?(n.log="cache miss: no data exists for movieId:" + g,n.reason="unavailable"):(l=q[g][l?l:"DEFAULTCAPS"]) && l.value?this.f8(h,l.creationTime)?(n.log="cache miss: " + h + " data expired for movieId:" + g,n.reason="expired"):(n.log=this.Promise && l.value instanceof this.Promise?"cache hit: " + h + " request in flight for movieId:" + g:"cache hit: " + h + " available for movieId:" + g,n.value=l.value):(n.log="cache miss: " + h + " data not available for movieId:" + g,n.reason="unavailable");return n;};f.prototype.getData=function(g,h,l){this.du("undefined" !== typeof g);this.du("undefined" !== typeof h);g=this.tOa(g,h,l);this.log.trace(g.log);return g.value?this.Promise?g.value instanceof this.Promise?g.value:Promise.resolve(g.value):this.Nya?JSON.parse(this.Nya(g.value,"gzip",!1)):g.value:this.Promise?Promise.reject(g.reason):g.reason;};f.prototype.setData=function(g,h,l,n,q){var p,u,t;this.du("undefined" !== typeof g);this.du("undefined" !== typeof h);p=this.hE;u=q?q:"DEFAULTCAPS";p[h] || (p[h]=c(),Object.defineProperty(p[h],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(p[h],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));l=this.wz?this.wz(JSON.stringify(l),"gzip",!0):l;p=p[h];this.kpb(g,h,u,p);t=this;n={creationTime:this.za.getTime(),value:l,size:0,type:h,fma:n,IEb:setTimeout(function(){t.clearData(g,h,u,!1,"expired");},this.Nw[h] + 1)};p[g]=p[g] || c();p[g][u]=p[g][u] || c();p[g][u]=n;p.size+=0;p.numEntries++;this.wq && this.wq.emit("addedCacheItem",n);return n;};f.prototype.kpb=function(g,h,l,n){var q,p,u,t,w,v,x,y,z;q=this;p=n.numEntries;u=this.$C[h];t=n[g] && n[g][l];if(t && t.value)(w=g,v="promise_or_expired");else if(p >= u){y=Number.POSITIVE_INFINITY;Object.keys(n).every(function(A){var B;B=n[A] && n[A][l];B && B.value && q.f8(h,B.creationTime) && (z=A);B && B.value && B.creationTime < y && (y=B.creationTime,x=A);return !0;});w=z || x;v="cache_full";}this.wf && this.log.debug("makespace ",{maxCount:u,currentCount:n.numEntries,field:h,movieId:g,movieToBeRemoved:w});w && (q.clearData(w,h,l,void 0,v),this.log.debug("removed from cache: ",w,h));};f.prototype.Kka=function(g,h){var l,n;l=this;l.du("undefined" !== typeof g);n=g + "";h.forEach(function(q){var p;p=l.hE[q];p && Object.keys(p).forEach(function(u){u != n && l.clearData(u,q,void 0,void 0,"clear_all");});});};f.prototype.clearData=function(g,h,l,n,q){var p;this.du("undefined" !== typeof g);this.du("undefined" !== typeof h);p=this.hE[h];h=p?p[g]:void 0;l=l?l:"DEFAULTCAPS";if(h && h[l]){p.size-=h[l].size;p.numEntries--;if(p=h && h[l])(clearTimeout(p.IEb),h[l]=void 0,!n && p.fma && p.fma());this.wq && (g={creationTime:p.creationTime,destroyFn:p.fma,size:p.size,type:p.type,value:p.value,reason:q,movieId:g},this.wq.emit("deletedCacheItem",g));}};f.prototype.flush=function(g){var h;this.du("undefined" !== typeof g);h=this.hE;h[g]=c();h[g].numEntries=0;h[g].size=0;};f.prototype.BTa=function(){var g,h;this.du(!1);g=this;h=this.hE;h[void 0] instanceof Object && Object.keys(h[void 0]).forEach(function(l){var n;n=h[void 0][l].DEFAULTCAPS;g.za.getTime() - n.creationTime > g.Nw[void 0] && this.clearData(l,void 0,"DEFAULTCAPS",void 0,"clean_up");});};f.prototype.f8=function(g,h){return this.za.getTime() - h > this.Nw[g];};f.prototype.getStats=function(g,h,l){var n,q,p,u,t;n={};q=this;p=q.hE;u=k(g) && k(h);t=l || "DEFAULTCAPS";Object.keys(p).forEach(function(w){var v,x;v=Object.keys(p[w]);x=p[w];v.forEach(function(y){!(y=x && x[y] && x[y][t]) || !k(y.value) || y.value instanceof this.Promise || (n[w]=(n[w] | 0) + 1,q.f8(y.type,y.creationTime) && (n[w + "_expired"]=(n[w + "_expired"] | 0) + 1),u && y.creationTime >= g && y.creationTime < h && (n[w + "_delta"]=(n[w + "_delta"] | 0) + 1));});});return n;};f.prototype.getState=function(g){var h,l,n,q;h=[];l=this;n=l.hE;q=g || "DEFAULTCAPS";Object.keys(n).forEach(function(p){var u,t;u=Object.keys(n[p]);t=n[p];u.forEach(function(w){var v,x;v=t && t[w] && t[w][q];if(v && k(v.value)){x=l.f8(v.type,v.creationTime)?"expired":v.value instanceof this.Promise?"loading":"cached";h.push({movieId:w,state:x,type:p,size:v.size});}});});return h;};f.prototype.du=function(g){if(!g && (this.log.error("Debug Assert Failed",void 0),this.wf))throw Error("Debug Assert Failed ");};r.exports=f;},function(r){function b(a){var c;c=[];return (function m(k){if(k && "object" === typeof k){if(-1 !== c.indexOf(k))return !0;c.push(k);for(var d in k){if(k.hasOwnProperty(d) && m(k[d]))return !0;}}return !1;})(a);}r.exports=function(a,c){var k;if(c && b(a))return -1;c=[];a=[a];for(var f=0;a.length;){k=a.pop();if("boolean" === typeof k)f+=4;else if("string" === typeof k)f+=2 * k.length;else if("number" === typeof k)f+=8;else if("object" === typeof k && -1 === c.indexOf(k)){c.push(k);for(var m in k){a.push(k[m]);}}}return f;};},function(r){r.exports={Nw:{oa:12E5,fX:9E5,Ic:12E5},$C:{oa:10,fX:10,Ic:10},KG:{oa:10240,fX:10240,Ic:10240}};},function(r,b,a){var c,f,k,m,d,g,h,l,n;Object.defineProperty(b,"__esModule",{value:!0});b.Ja=void 0;r=a(0);c=a(195);f=a(1180);k=a(518);m=a(1181);d=a(519);g=a(1182);h=a(1183);l=a(520);n=a(1184);b.Ja=new r.rd(function(q){q(c.ida).to(f.ICa).ba();q(k.mHa).to(m.lHa).ba();q(d.iIa).to(g.hIa).ba();q(d.tHa).to(h.sHa).ba();q(l.rHa).to(n.qHa).ba();});},function(r,b,a){var f,k,m,d;function c(g){function h(l,n){this.J=l;this.hm=n;this.b6=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.Ig=g.mb("DownloadTrack");}h.prototype.qq=function(){!1;this.QT=void 0;this.emit("destroyed");};h.prototype.toString=function(){return "id:" + this.QT + " config: " + JSON.stringify(this.J);};h.prototype.toJSON=function(){return "Download Track id:" + this.QT + " config: " + JSON.stringify(this.J);};h.prototype.XW=function(){return void 0 === this.QT?!1:!0;};h.prototype.$$=function(l){this.J.connections !== l.connections && (this.J=l);};h.prototype.Gu=function(){return 1 < this.J.connections?!0:!1;};Ya.Object.defineProperties(h.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.QT;}},So:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.QT;}},config:{configurable:!0,enumerable:!0,get:function(){return this.J;}},B$:{configurable:!0,enumerable:!0,get:function(){return this.Ig;}},kI:{configurable:!0,enumerable:!0,get:function(){return this.hm.kI;}}});this.mK=Object.assign(h,new m.JCa());}Object.defineProperty(b,"__esModule",{value:!0});b.ICa=void 0;r=a(1);f=a(0);k=a(7);m=a(195);d=a(116).EventEmitter;c=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.ub))],c);b.ICa=c;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p;function c(u,t,w,v,x,y){this.iM=u;this.mf=w;this.nb=v;this.Da=x;this.config=y;this.log=t.mb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.lHa=void 0;r=a(1);f=a(196);k=a(103);m=a(3);d=a(7);g=a(0);h=a(89);l=a(27);n=a(19);q=a(5);a=a(13);c.prototype.Yz=function(){return this.Da.Zb().da(q.la);};c.prototype.K5a=function(u,t){u.lSb({mediaRequest:u,timestamp:t});};c.prototype.d6a=function(u){var t;t=u.mediaRequest.NA;t.readyState=f.xc.Uc.ty;u=u.connect?u:{timestamp:this.Yz(),connect:!1};u.mediaRequest=t;u.readyState=t.readyState;t.uta(u);};c.prototype.f$=function(u){this.K5a(u.mediaRequest.NA,u.timestamp);};c.prototype.h$=function(u){var t,w;t=u.mediaRequest.NA;w=u.bytes;"undefined" === typeof t?!1:(t.readyState === f.xc.Uc.vy && this.d6a(u),this.nb.Oi(w) && (u.mediaRequest=t,u.timestamp=this.Yz(),w > t.bytesReceived && (u.newBytes=w - t.bytesReceived,u.bytesLoaded=w,t.pSb(u))));};c.prototype.$n=function(u){var t,w,v,x;t=u.mediaRequest;w=u.errorcode;v=u.httpcode;x=f.xc.N0;if("undefined" === typeof t)!1;else if((t=t.NA,"undefined" === typeof t))!1;else if(t.readyState !== f.xc.Uc.rK)if(w === m.M.XB)(t.readyState=f.xc.Uc.OQ,u.mediaRequest=t,u.readyState=t.readyState,t.hSb(u));else {t.readyState=f.xc.Uc.rK;switch(w){case m.M.PR:v=x.iBa;break;case m.M.Bda:v=x.yda;break;case m.M.MR:v=400 < v && 500 > v?x.Ada:500 <= v?x.xEa:x.yda;break;case m.M.NR:v=x.zda;break;case m.M.LR:v=x.jBa;break;case m.M.OR:v=x.e1;break;case m.M.mF:v=x.e1;break;case m.M.wEa:v=x.vEa;break;case m.M.sEa:v=x.Ada;break;case m.M.bhb:v=x.zda;break;default:v=x.e1;}u.mediaRequest=t;u.readyState=t.readyState;u.errorcode=v;u.nativecode=w;t.wta(u);}};c.prototype.Ota=function(u,t){var w,v;w=t.request.NA;if(w)if(t.aa){if((!1,u.j && w.readyState !== f.xc.Uc.DONE)){switch(w.readyState){case f.xc.Uc.OQ:!1;return;case f.xc.Uc.rK:!1;break;case f.xc.Uc.ty:break;case f.xc.Uc.vy:this.d6a({mediaRequest:t.request});break;default:!1;}w.readyState=f.xc.Uc.DONE;if(!w.dd){v={mediaRequest:w,readyState:w.readyState,timestamp:this.Yz(),cadmiumResponse:t};u.j.wya+=1;w.ZJb();w.ANb() && (u.j.rwa+=1,t.Km.Ci=Math.ceil(w.una),t.Km.vp=Math.ceil(w.UG),t.Km.$q=Math.floor(w.ZD));w.Q4=v;w.MO(v);}}}else (!1,w.readyState === f.xc.Uc.OQ?!1:(u={mediaRequest:t.request,timestamp:this.Yz(),errorcode:t.ta,httpcode:t.tk},this.$n(u)));};c.prototype.download=function(u,t){var w,v;w=this;t=this.mf.download(u,t);if(u.NA){v=u.NA;-1 < [f.xc.Uc.OPENED,f.xc.Uc.rK].indexOf(v.readyState) && (v.readyState=f.xc.Uc.vy,this.config().Jsa?t.n_b(function(x){w.f$(x);}):this.K5a(v,this.Yz()));}t.Gia(function(x){w.Ota(u,x);});t.t_b(function(x){w.h$(x);});t.e_b(function(x){w.$n(x);});return t;};p=c;p=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(k.QQ)),r.__param(1,(0,g.l)(d.ub)),r.__param(2,(0,g.l)(h.hy)),r.__param(3,(0,g.l)(l.ig)),r.__param(4,(0,g.l)(n.md)),r.__param(5,(0,g.l)(a.ad))],p);b.lHa=p;},function(r,b,a){var f,k,m;function c(d,g){this.mf=g;this.log=d.mb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.hIa=void 0;r=a(1);f=a(0);k=a(7);a=a(89);c.prototype.XV=function(d,g,h){d={url:d.url,oZb:h};!1;this.mf.k0b(d);};c.prototype.AG=function(d){try{d.aqa();}catch(g){this.log.warn("exception aborting request");}};m=c;m=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.ub)),r.__param(1,(0,f.l)(a.hy))],m);b.hIa=m;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u;function c(t,w,v,x,y,z){this.Da=t;this.hs=w;this.config=v;this.mf=y;this.MQb=z;this.log=x.mb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.sHa=void 0;r=a(1);f=a(42);k=a(0);m=a(7);d=a(89);g=a(518);h=a(91);l=a(196);n=a(19);q=a(5);p=a(41);a=a(13);c.prototype.XV=function(t,w,v){var y,z,A;function x(){t.removeEventListener(l.xc.Ne.FF,x);t.IV?t.IV++:t.IV=1;t.IV >= y.config().bna.length && (t.IV=y.config().bna.length - 1);setTimeout(function(){y.XV(t,w,v);},y.config().bna[t.IV]);}y=this;t.Icc=!0;z=this.MQb.download({url:t.url,responseType:this.mf.Hlb.Qeb,withCredentials:!1,jD:t.mediaType === f.Vb.Wa.Xb?"audio":"video",offset:w.start,length:t.jh,track:{type:t.mediaType === f.Vb.Wa.Xb?h.Ki.audio:h.Ki.video},stream:{Dc:t.Ta,bitrate:t.bitrate},uc:t.Qd,NA:t,Paa:v,ht:this.hs.ht},function(B){B.aa && t.readyState !== l.xc.Uc.DONE && (t.readyState === l.xc.Uc.OQ?!1:(t.readyState === l.xc.Uc.rK?!1:t.readyState === l.xc.Uc.vy?(t.readyState=l.xc.Uc.ty,t.uta({mediaRequest:t,readyState:t.readyState,timestamp:y.Yz(),connect:!1})):t.readyState !== l.xc.Uc.vy && t.readyState !== l.xc.Uc.ty && !1,t.readyState=l.xc.Uc.DONE,B={mediaRequest:t,readyState:t.readyState,timestamp:y.Yz(),cadmiumResponse:B,response:B.content},t.Q4=B,t.MO(B)));});if(t.dd){A={mediaRequest:t,readyState:t.readyState,timestamp:this.Yz(),connect:!1};t.uta(A);}t.addEventListener(l.xc.Ne.FF,x);t.aqa=z.abort;};c.prototype.AG=function(t){try{t.aqa();}catch(w){this.log.warn("exception aborting request");}};c.prototype.Yz=function(){return this.Da.Zb().da(q.la);};u=c;u=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(n.md)),r.__param(1,(0,k.l)(p.kn)),r.__param(2,(0,k.l)(a.ad)),r.__param(3,(0,k.l)(m.ub)),r.__param(4,(0,k.l)(d.hy)),r.__param(5,(0,k.l)(g.mHa))],u);b.sHa=u;},function(r,b,a){var f,k,m,d,g,h,l,n;function c(q,p,u,t,w,v){function x(z,A){this.track=z;this.label=A;this.Jh=n.xc.Uc.UNSENT;this.bytesReceived=0;this.Ns=[];this.requestId=v.zz().toString();this.nb=u;this.log=p.mb("MediaRequest");this.config=q;this.Wb=new l.Rk();"notification" === this.label?this.config().Pz && (this.kI=t):this.kI=w;!1;}function y(z,A){this.requestId=v.zz().toString();this.nb=u;this.log=p.mb("MediaRequest");this.config=q;this.Wb=new l.Rk();this.label=A;"notification" === this.label?this.config().Pz && (this.kI=t):this.kI=w;this.PW=this.tM=this.uM=void 0;this.track=z;this.y4=this.url=this.responseType=void 0;this.Jh=n.xc.Uc.UNSENT;this.Cj=this.mN=this.vh=this.status=void 0;this.Is=this.bytesReceived=0;this.connect=this.una=this.UG=this.ZD=this.qra=this.xf=this.tna=this.loadTime=this.QL=void 0;this.Ns=[];this.So=!1;!1;}x.prototype.addEventListener=function(z,A,B){this.Wb.addListener.call(this,z,A,B);};x.prototype.removeEventListener=function(z,A){this.Wb.removeListener.call(this,z,A);};x.prototype.emit=function(z,A,B){this.Wb.Hc.call(this,z,A,B);};x.prototype.lSb=function(z){this.Jh === n.xc.Uc.OPENED && (this.PW=!0,this.loadTime=this.xf=z.timestamp,!1,this.Jh=n.xc.Uc.vy,this.emit(n.xc.Ne.aIa,z));};x.prototype.uta=function(z){var A;if(this.Jh < n.xc.Uc.ty){this.Ns=[];A=z.timestamp - this.loadTime;!this.dd && 0 < A && (this.connect=!0,this.Ns.push(A));!0 === this.config().NLb?this.tna=z.timestamp:this.tna=this.xf=z.timestamp;!1;this.Jh=n.xc.Uc.ty;this.emit(n.xc.Ne.$Ha,z);}};x.prototype.pSb=function(z){this.Jh === n.xc.Uc.ty && (!1,this.qra=this.xf=z.timestamp,z.newBytes=z.bytesLoaded - this.bytesReceived,this.bytesReceived=z.bytesLoaded,this.nb.Ng(this.qra) && this.emit(n.xc.Ne.bIa,z));};x.prototype.MO=function(z){-1 < [n.xc.Uc.vy,n.xc.Uc.ty].indexOf(this.Jh) && (this.PW=!1,!1,this.xf=z.timestamp,this.Jh=n.xc.Uc.DONE,z.newBytes=this.jh - this.bytesReceived,this.bytesReceived=this.jh,this.nb.Ng(this.UG) && (this.xf=this.UG,0 === z.newBytes && (this.qra=this.UG)),this.nb.Ng(this.ZD) && (this.loadTime=this.ZD),this.QL=z.response,this.emit(n.xc.Ne.iS,z));};x.prototype.hSb=function(z){this.PW=!1;!1;this.emit(n.xc.Ne.pkb,z);};x.prototype.wta=function(z){this.xf=z.timestamp;this.status=z.httpcode;this.vh=z.errorcode;this.mN=n.xc.N0.name[this.vh];this.Cj=z.nativecode;!1;this.emit(n.xc.Ne.FF,z);this.PW=!1;};x.prototype.open=function(z,A,B,E,D,F,G){this.Fx=!1;this.y4=A;this.url=z;this.responseType=B;!1;if(!this.url)return (!1,!1);this.Jh=n.xc.Uc.OPENED;this.kI.XV(this,A,G);return !0;};x.prototype.fd=function(){!1;-1 !== [n.xc.Uc.OPENED,n.xc.Uc.vy,n.xc.Uc.ty].indexOf(this.Jh) && this.abort();return !0;};x.prototype.CTa=function(){this.QL=void 0;this.Q4 && (this.Q4.response=void 0,this.Q4.cadmiumResponse.content=void 0);this.aqa=void 0;};x.prototype.dba=function(z){!1;this.url=z;return !0;};x.prototype.abort=function(){this.Jh=n.xc.Uc.OQ;this.kI.AG(this);return !0;};x.prototype.pause=function(){};x.prototype.getResponseHeader=function(){return null;};x.prototype.getAllResponseHeaders=function(){return "";};x.prototype.WY=function(){};x.prototype.wi=function(){return this.requestId;};x.prototype.toString=function(){var z;z={requestId:this.wi(),segmentId:this.ha,isHeader:this.dd,ptsStart:this.cB,ptsOffset:this.gv,responseType:this.responseType,duration:this.fs,readystate:this.Jh};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);};x.prototype.toJSON=function(){return this.toString();};x.prototype.ZJb=function(){var z,A;if(this.config().tdb && d.Ov && d.Ov.getEntriesByType && (!this.nb.Ng(this.ZD) || !this.nb.Ng(this.UG) && this.nb.Ng(this.url))){z="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.uM + "-" + this.tM + "*");A=new RegExp(z);z=d.Ov.getEntriesByType("resource").filter(function(B){return A.exec(B.name);})[0];this.nb.Ng(z) && (0 < z.startTime && (this.ZD=z.startTime,0 < z.requestStart && (this.ZD=Math.max(this.ZD,z.requestStart))),0 < z.responseStart && (this.una=z.responseStart),0 < z.responseEnd && (this.UG=z.responseEnd));}};x.prototype.ANb=function(){return this.nb.Ng(this.ZD) && this.nb.Ng(this.UG) && this.nb.Ng(this.una);};Ya.Object.defineProperties(x.prototype,{jh:{configurable:!0,enumerable:!0,get:function(){return this.y4.end - this.y4.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.tM - this.uM + 1;}},j0a:{configurable:!0,enumerable:!0,get:function(){return ! !(this.response && 0 < this.response.byteLength);}},dd:{configurable:!0,enumerable:!0,get:function(){return !this.SD;}},response:{configurable:!0,enumerable:!0,get:function(){return this.QL;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Jh;},set:function(){}}});Object.getOwnPropertyNames(x.prototype).forEach(function(z){var A;A=Object.getOwnPropertyDescriptor(x.prototype,z);Object.defineProperty(y.prototype,z,A);});this.Br=Object.assign(y,n.xc);}Object.defineProperty(b,"__esModule",{value:!0});b.qHa=void 0;r=a(1);f=a(0);k=a(7);m=a(13);d=a(11);g=a(27);h=a(519);l=a(73);n=a(196);a=a(81);c=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.ad)),r.__param(1,(0,f.l)(k.ub)),r.__param(2,(0,f.l)(g.ig)),r.__param(3,(0,f.l)(h.iIa)),r.__param(4,(0,f.l)(h.tHa)),r.__param(5,(0,f.l)(a.gy))],c);b.qHa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.g5a=void 0;r=a(0);c=a(338);f=a(1186);b.g5a=new r.rd(function(k){k(c.sea).to(f.IHa).ba();});},function(r,b,a){var f,k,m,d,g;function c(h){return k.af.call(this,h,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.IHa=void 0;r=a(1);f=a(46);k=a(47);m=a(0);d=a(37);g=a(5);na(c,k.af);Ya.Object.defineProperties(c.prototype,{Y4a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Nc)(5E3);}},q6a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Nc)(1E3);}},r6a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Nc)(1E3);}}});a=c;r.__decorate([f.config(f.nl,"minDecoderBufferMilliseconds")],a.prototype,"Y4a",null);r.__decorate([f.config(f.nl,"optimalDecoderBufferMilliseconds")],a.prototype,"q6a",null);r.__decorate([f.config(f.nl,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"r6a",null);a=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(d.fm))],a);b.IHa=a;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.b7a=void 0;r=a(0);c=a(521);f=a(1188);k=a(72);m=a(1190);d=a(524);g=a(1191);h=a(477);l=a(1192);n=a(300);q=a(1193);b.b7a=new r.rd(function(p){p(k.Qv).to(m.NIa).ba();p(c.PIa).to(f.OIa).ba();p(h.ZIa).to(l.YIa);p(h.XIa).Af(function(u){return function(){return u.fb.get(h.ZIa);};});p(d.vJa).to(g.uJa).ba();p(n.Qea).to(q.rJa).ba();});},function(r,b,a){var m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B;function c(E){this.config=E;this.uz=[];}function f(E,D,F){this.Da=E;this.qQ=D;this.context=F;this.startTime=this.Da.Zb();}function k(E,D,F,G,C,H,K,M,I,Q){this.ncb=D;this.json=F;this.Da=G;this.hs=C;this.tva=H;this.Oc=K;this.config=M;this.Wb=I;this.receiver=Q;this.log=E.mb("Pbo");M.M8a && (this.uz=new c(M));this.qQ=this.ncb();}Object.defineProperty(b,"__esModule",{value:!0});b.OIa=void 0;r=a(1);m=a(0);d=a(5);g=a(522);h=a(7);l=a(39);n=a(19);q=a(41);p=a(141);u=a(48);t=a(523);w=a(72);v=a(98);x=a(15);y=a(68);z=a(1189);a=a(300);A={"shakti-":"akira","UI-":"chromecast"};k.prototype.send=function(E,D){var F;F=new f(this.Da,this.qQ,E);this.uz && this.uz.append(F);return this.Vwa(E,D,F);};k.prototype.Vwa=function(E,D,F){var G;G=this;return new Promise(function(C,H){G.retry(E,D).then(function(K){var M,I;G.LZb(K);M=ba(G.J4b(K));I=M.next().value;M=M.next().value;I && (G.receiver.ova({command:E.Gn,inputs:D,outputs:I}),G.xxb(F),C(K));M && (G.receiver.ova({command:E.Gn,inputs:D,outputs:M}),G.QTa(F,M),H(M));}).catch(function(K){var M;G.receiver.ova({command:E.Gn,inputs:D,outputs:K});M=G.QTa(F,K);K.yb && (K.yb=[K.yb," ",M].join(""));H(K);});});};k.prototype.LZb=function(E){(E=E.serverTime) && this.Wb.Hc(x.Lda.q$a,(0,d.Nc)(E));};k.prototype.J4b=function(E){var D;!1;D=E.result;if(("deviceCommand" in E)){E=E.deviceCommand;this.log.trace("Received device command '" + E + "'");switch(E){case "reset":D="RESET_DEVICE";break;case "reload":D="RELOAD_DEVICE";break;case "exit":D="EXIT_DEVICE";break;default:(D="FAIL",this.log.error("Unhandled device command '" + E + "'"));}return [,{oE:!0,code:D,detail:{message:"Server sent device action to '" + E + "' device"}}];}if(D)return (!1,[D,void 0]);if(E.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",E),[,{code:E.code,detail:{message:E.message}}]);this.log.error("Response did not contain a result or an error",E);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};k.prototype.jub=function(E,D,F){var G;G=this;this.Y3b(D,E);this.qQ=this.ncb(F);return this.qQ.send(D,F).then(function(C){return {retry:!1,result:z.E1.sUb(G.json,C.body)};}).catch(function(C){var H,K;H=z.E1.CIb(C);K=void 0 !== H?Math.min(H,D.uwa):D.uwa;return G.Maa(D,C,E,K)?(H=G.Wvb(C,E,K),G.log.warn("Method failed, retrying",Object.assign({Method:D.Gn,Attempt:E + 1,WaitTime:H,MaxRetries:K},G.Rla(C))),Promise.resolve({retry:!0,delay:H,error:C})):Promise.resolve({retry:!1,error:C});});};k.prototype.CGb=function(E){var D,F;if(!this.Aia || this.Aia.WTb !== E){D="";F=E;Object.entries(A).find(function(G){var C;C=ba(G);G=C.next().value;C=C.next().value;if(0 === E.indexOf(G))return (D=C,E=E.slice(G.length),!0);});this.Aia={LTa:D,Kx:E,WTb:F};}return this.Aia;};k.prototype.Y3b=function(E,D){var F,G,C,H;H=E.url.searchParams;H.set(y.hC.Klb,(D + 1).toString());H.set(y.hC.Llb,E.up);E=this.CGb(null !== (F=this.config.Kx) && void 0 !== F?F:"");E.LTa && (H.set(y.hC.cgb,E.LTa),E.Kx && H.set(y.hC.ymb,encodeURIComponent(E.Kx)),F=this.hs.je,(null === F || void 0 === F?0:F.name) && H.set(y.hC.xfb,encodeURIComponent(F.name)),(null === F || void 0 === F?0:F.version) && H.set(y.hC.Cfb,encodeURIComponent(F.version)),(null === (G=null === F || void 0 === F?void 0:F.os) || void 0 === G?0:G.name) && H.set(y.hC.qkb,encodeURIComponent(F.os.name)),(null === (C=null === F || void 0 === F?void 0:F.os) || void 0 === C?0:C.version) && H.set(y.hC.rkb,encodeURIComponent(F.os.version)));};k.prototype.retry=function(E,D,F){var G;G=this;F=void 0 === F?0:F;return this.jub(F++,E,D).then(function(C){if(C.retry)return G.wait(C.delay).then(function(){return G.retry(E,D,F);});if(C.error)throw C.error;if(void 0 === C.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return C.result;});};k.prototype.Maa=function(E,D,F,G){var C;C=this.hs.J9a || z.E1.BNb(D);if(C && F < G)return !0;C?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:E.Gn,Attempt:F + 1,MaxRetries:G},this.Rla(D))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:E.Gn},this.Rla(D)));return !1;};k.prototype.Wvb=function(E,D,F){if(E && E.BE && void 0 !== E.BE.retryAfterSeconds)return (0,d.Bh)(E.BE.retryAfterSeconds);E=1E3 * (0 === D?1:D);D=1E3 * Math.pow(2,Math.min(D,F));return (0,d.Nc)(this.tva.p8a(E,D));};k.prototype.wait=function(E){var D;D=this;return new Promise(function(F){D.Oc.Jk(E || d.eb,F);});};k.prototype.Rla=function(E){return (0,t.b2a)(E)?E:{message:E.message,subCode:E.Ec,extCode:E.Nd,mslCode:E.PA,data:E.data};};k.prototype.xxb=function(E){E.gQ();};k.prototype.QTa=function(E,D){var F;E.iu(D);if(this.uz)try{F=this.json.stringify(this.uz);this.log.error("PBO command history",F);return F;}catch(G){}return "";};B=k;B=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(h.ub)),r.__param(1,(0,m.l)(g.OMa)),r.__param(2,(0,m.l)(l.pF)),r.__param(3,(0,m.l)(n.md)),r.__param(4,(0,m.l)(q.kn)),r.__param(5,(0,m.l)(p.N1)),r.__param(6,(0,m.l)(u.Yj)),r.__param(7,(0,m.l)(w.Qv)),r.__param(8,(0,m.l)(v.tda)),r.__param(9,(0,m.l)(a.Qea))],B);b.OIa=B;f.prototype.gQ=function(){this.aa=!0;this.elapsedTime=this.Da.Zb().Ka(this.startTime);};f.prototype.iu=function(E){this.aa=!1;this.elapsedTime=this.Da.Zb().Ka(this.startTime);this.k1b=E.Ec || E.subCode;this.PEb=E.Nd || E.extCode;};f.prototype.toString=function(){return JSON.stringify(this);};f.prototype.toJSON=function(){var E;E=Object.assign({success:this.aa,method:this.context.Gn,startTime:this.startTime.da(d.la),elapsedTime:this.elapsedTime?this.elapsedTime.da(d.la):"in progress"},this.qQ.jla());return this.aa?E:Object.assign(Object.assign(Object.assign({},E),this.qQ.jla()),{subcode:this.k1b,extcode:this.PEb});};c.prototype.append=function(E){this.uz.push(E);0 < this.config.Xpa && this.uz.length > this.config.Xpa && this.uz.shift();};c.prototype.toJSON=function(){return this.uz;};},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.E1=void 0;f=a(3);c.BNb=function(k){var m,d;m=k && k.code;d=k && (k.ta || k.Ec);k=k.Nd !== f.g1.DIa;d=! !d && d >= f.M.PR && d <= f.M.NR && k;return !("RETRY" !== m && "FAIL" !== m) || d;};c.CIb=function(k){var m,d;d=null === (m=null === k || void 0 === k?void 0:k.BE) || void 0 === m?void 0:m.maxRetries;return "number" === typeof d?d:"FAIL" === (null === k || void 0 === k?void 0:k.code)?1:void 0;};c.sUb=function(k,m){var d;if(m){try{d=k.parse(m);}catch(g){throw {oE:!0,code:"FAIL",message:"Unable to parse the response body",data:m};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (k=d.result.find(function(g){return g.error;})))throw k.error;return d;}throw {oE:!0,code:"FAIL",message:"There is no result property on the response"};}throw {oE:!0,code:"FAIL",message:"There is no body property on the response"};};b.E1=c;},function(r,b,a){var f,k,m,d,g,h,l;function c(n,q,p,u){n=k.af.call(this,n,"PboConfigImpl") || this;n.config=q;n.Dtb=p;n.Zi=u;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.NIa=void 0;r=a(1);f=a(0);k=a(47);m=a(37);d=a(46);g=a(13);h=a(125);a=a(110);na(c,k.af);Ya.Object.defineProperties(c.prototype,{Kx:{configurable:!0,enumerable:!0,get:function(){return this.config().rq.Kx || "";}},zba:{configurable:!0,enumerable:!0,get:function(){return this.config().rq.zba || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().rq.Tua;}},$1a:{configurable:!0,enumerable:!0,get:function(){return !1;}},EQb:{configurable:!0,enumerable:!0,get:function(){return !0;}},GQb:{configurable:!0,enumerable:!0,get:function(){return !0;}},r$a:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.Dtb.zSa,version:"^1.0.0"},pair:{service:"pbo_mdx",version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.s$a);}},s$a:{configurable:!0,enumerable:!0,get:function(){return {};}},M8a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Xpa:{configurable:!0,enumerable:!0,get:function(){return 10;}},kRa:{configurable:!0,enumerable:!0,get:function(){return !1;}},O4:{configurable:!0,enumerable:!0,get:function(){return !1;}},KWa:{configurable:!0,enumerable:!0,get:function(){return !1;}},m4b:{configurable:!0,enumerable:!0,get:function(){return !1;}},vdb:{configurable:!0,enumerable:!0,get:function(){return !1;}},JWa:{configurable:!0,enumerable:!0,get:function(){return !0;}},RWa:{configurable:!0,enumerable:!0,get:function(){return !0;}},lH:{configurable:!0,enumerable:!0,get:function(){return this.Zi.lH;}},uUa:{configurable:!0,enumerable:!0,get:function(){return ["start"];}}});l=c;r.__decorate([d.config(d.string,"uiVersion")],l.prototype,"Kx",null);r.__decorate([d.config(d.string,"uiPlatform")],l.prototype,"zba",null);r.__decorate([d.config(d.CB,"pboVersion")],l.prototype,"version",null);r.__decorate([d.config(d.string,"pboOrganization")],l.prototype,"organization",null);r.__decorate([d.config(d.BJ,"pboLanguages")],l.prototype,"languages",null);r.__decorate([d.config(d.cd,"hasLimitedPlaybackFunctionality")],l.prototype,"$1a",null);r.__decorate([d.config(d.cd,"mdxBindUsingNodeQuark")],l.prototype,"EQb",null);r.__decorate([d.config(d.cd,"mdxPairUsingNodeQuark")],l.prototype,"GQb",null);r.__decorate([d.config(d.object(),"pboCommands")],l.prototype,"r$a",null);r.__decorate([d.config(d.object(),"pboCommandsOverride")],l.prototype,"s$a",null);r.__decorate([d.config(d.cd,"pboRecordHistory")],l.prototype,"M8a",null);r.__decorate([d.config(d.CB,"pboHistorySize")],l.prototype,"Xpa",null);r.__decorate([d.config(d.cd,"pboAddXEsnHeader")],l.prototype,"kRa",null);r.__decorate([d.config(d.cd,"combineManifestAndLicense")],l.prototype,"O4",null);r.__decorate([d.config(d.cd,"enableLicensedManifestForPrefetch")],l.prototype,"KWa",null);r.__decorate([d.config(d.cd,"useLdlForPrefetchLicensedManifest")],l.prototype,"m4b",null);r.__decorate([d.config(d.cd,"pboUseStudioManifest")],l.prototype,"vdb",null);r.__decorate([d.config(d.cd,"pboEnableLeanManifest")],l.prototype,"JWa",null);r.__decorate([d.config(d.cd,"pboEnableV2OptimizedManifest")],l.prototype,"RWa",null);r.__decorate([d.config(d.cd,"pboEnableManifestPartialHydrationSupport")],l.prototype,"lH",null);r.__decorate([d.config(d.BJ,"pboContentPlaygraphTypes")],l.prototype,"uUa",null);l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.fm)),r.__param(1,(0,f.l)(g.ad)),r.__param(2,(0,f.l)(h.dK)),r.__param(3,(0,f.l)(a.JF))],l);b.NIa=l;},function(r,b,a){var k,m;function c(d,g,h,l,n,q,p){this.version=d;this.url=g;this.id=h;this.languages=l;this.Ab=n;this.qDb=q;this.JRb=p;}function f(d){this.Vh=d;}Object.defineProperty(b,"__esModule",{value:!0});b.uJa=void 0;r=a(1);k=a(0);a=a(72);f.prototype.create=function(d,g,h,l,n){return new c(this.Vh.version,g,d,this.Vh.languages,h,l,n);};m=f;m=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.Qv))],m);b.uJa=m;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.Ab,echo:this.qDb};};},function(r,b,a){var f,k,m;function c(d,g){this.fH=g;this.log=d.mb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.YIa=void 0;r=a(1);f=a(0);k=a(7);a=a(92);c.prototype.XQa=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.jW=function(d){!1;return this.links[d];};m=c;m=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.ub)),r.__param(1,(0,f.l)(a.$x))],m);b.YIa=m;},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.rJa=void 0;r=a(1);a=a(0);c.prototype.m_b=function(k){this.listener=k;};c.prototype.ova=function(k){var m;null === (m=this.listener) || void 0 === m?void 0:m.call(this,k);};f=c;f=r.__decorate([(0,a.T)()],f);b.rJa=f;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,N,O,P,S,U,Z;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(0);c=a(475);f=a(525);k=a(1195);m=a(527);d=a(1196);g=a(422);h=a(349);l=a(1197);n=a(1208);q=a(13);p=a(19);u=a(97);t=a(27);w=a(7);v=a(1209);x=a(264);y=a(1210);z=a(5);A=a(1211);B=a(1212);E=a(547);D=a(1213);F=a(98);G=a(528);C=a(1214);H=a(114);K=a(29);M=a(158);I=a(92);Q=a(289);L=a(550);J=a(1215);N=a(71);O=a(41);P=a(529);S=a(1216);U=a(301);Z=a(26);b.j=new r.rd(function(ja){ja(L.efa).to(J.TJa).ba();ja(U.vca).Af(function(ya){var ra;ra=ya.fb;return function(Y,pa){return new (a(1217).dAa)(Y,pa,ra.get(u.Ev));};});ja(c.RMa).Af(function(ya){var ra;ra=ya.fb;return function(Y,pa,T,R,ea,sa,la,Ka,Ua){return new (a(1220).SMa)(ra.get(A.XMa),Y,pa,T,R,ea,sa,la,Ka,Ua);};});ja(A.XMa).to(B.WMa).ba();ja(f.VMa).to(k.UMa).ba();ja(h.OJa).to(l.NJa).ba();ja(P.fLa).to(S.eLa);ja(P.dLa).Xbb(P.fLa);ja(g.CCa).Af(function(ya){var ra;ra=ya.fb;return function(Y){return new (a(1221).DCa)(ra.get(F.BCa),ra.get(u.Ev),ra.get(p.md),Y);};});ja(m.CAa).Af(function(){return function(ya){return new d.DAa(ya);};});ja(v.HJa).Af(function(ya){var ra;ra=ya.fb;return function(Y){return new n.IJa(Y,ra.get(w.ub),ra.get(q.ad),ra.get(t.ig),ra.get(u.Ev));};});ja(x.gfa).Af(function(ya){var ra;ra=ya.fb;return function(Y,pa,T,R,ea,sa,la,Ka,Ua,$a){return new y.VJa(Y,pa,T,R,ea,sa,la,Ka,Ua,ra.get(v.HJa),ra.get(L.efa),$a);};});ja(E.yLa).Af(function(ya){return function(ra){var Y,pa;Y=ya.fb.get(q.ad);pa=ya.fb.get(w.ub);return new D.zLa(Y,ra,pa);};});ja(G.QJa).Af(function(ya){return function(ra){var Y,pa,T,R,ea;Y=ya.fb.get(I.$x);pa=ya.fb.get(H.UK);T=ya.fb.get(K.jg);R=ya.fb.get(M.zS);ea=ya.fb.get(Z.Zx);return new C.RJa(ra,Y,pa((0,z.Bh)(1)),T,R,ea);};});ja(Q.qea).SE(function(ya){return new (a(1222).EHa)(ya.fb.get(N.dS),ya.fb.get(O.kn));}).ba();});},function(r,b,a){var f,k,m,d,g,h;function c(l,n){this.pg=l;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.UMa=void 0;r=a(1);f=a(15);k=a(526);m=a(19);d=a(0);g=a(5);a=a(13);c.prototype.fN=function(l){var n;l.t_={};if(!l.jO() && l.BB && 0 < l.BB.length && (l.AB=this.DZa(l),l.AB)){n=this.M_b(l);n() || (l.Bb.addListener(n),l.Ye.addListener(n));}};c.prototype.M_b=function(l){var q;function n(){var p,u;if(!l.Ye.value || l.Bb.value === f.hb.Uf)return !1;p=l.AB;u=p.getState();return u === k.Op.LOADING?!1:u !== k.Op.qF && p.retry?(p=q.bKb(l))?(l.t_.offset=q.pg.Zb().da(g.la),l.AB=p,p.download(),!0):!1:(l.Bb.removeListener(n),l.Ye.removeListener(n),!1);}q=this;return n;};c.prototype.bKb=function(l){var n,q;n=this.config();q=l.Ul.NN() < n.X2b;n=(l.Ye.value?l.Ye.value.bitrate:0) > n.W2b;return this.AJb(l,q && n);};c.prototype.AJb=function(l,n){if(n && (n=this.DZa(l),this.B_a(l,n.size)))return (l.t_.s9a="h",n);n=this.AIb(l);if(this.B_a(l,n.size))return (l.t_.s9a="l",n);};c.prototype.B_a=function(l,n){var q,p;q=this.config();p=Math.min(l.iU(),l.E_());return l.Qub.Mvb(n) * (1 + .01 * q.gtb[2]) < p * q.$2b;};c.prototype.DZa=function(l){return l.BB[l.BB.length - 1];};c.prototype.AIb=function(l){return l.BB[0];};h=c;h=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(m.md)),r.__param(1,(0,d.l)(a.ad))],h);b.UMa=h;},function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.DAa=void 0;a.prototype.Ycb=function(){var c;c=this.j.Ja;if(null !== c && void 0 !== c && c.uC){c=c.Rb.get();if(null === c || void 0 === c?0:c.Ij)this.j.Ij=c.Ij.Ha;if(null === c || void 0 === c?0:c.Sa)this.j.Sa=c.Sa.Ha;}};a.prototype.uu=function(){-1 === this.j.Sa && this.Ycb();return this.j.Sa;};a.prototype.Mvb=function(c){-1 !== this.j.Ij && -1 !== this.j.Sa || this.Ycb();return -1 === this.j.Ij || -1 === this.j.Sa?Number.MAX_VALUE:this.j.Ij + 8 * c / this.j.Sa;};b.DAa=a;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I;function c(Q,L,J,N,O,P,S,U,Z,ja,ya,ra,Y,pa,T,R,ea,sa,la,Ka,Ua,$a,Za,cb,Va,Qa){this.lA=Q;this.SC=L;this.Da=J;this.za=N;this.Rub=O;this.nya=P;this.sX=S;this.lsa=U;this.rO=Z;this.Gd=ja;this.Wh=ya;this.gj=ra;this.oM=Y;this.wY=pa;this.Ak=T;this.Dya=R;this.bg=ea;this.Om=sa;this.se=la;this.Cua=Ka;this.nYb=Ua;this.nja=$a;this.oI=Za;this.mua=cb;this.E4=Va;this.iM=Qa;}Object.defineProperty(b,"__esModule",{value:!0});b.NJa=void 0;r=a(1);f=a(81);k=a(0);m=a(114);d=a(31);g=a(19);h=a(38);l=a(527);n=a(265);q=a(476);p=a(496);u=a(121);t=a(142);w=a(163);v=a(103);x=a(466);y=a(264);z=a(1198);A=a(525);B=a(50);E=a(29);D=a(528);F=a(71);G=a(529);C=a(301);H=a(289);K=a(120);M=a(508);c.prototype.create=function(Q,L,J,N,O,P,S,U){return new (a(530).PJa)(Q,L,P,S,N,O,this.lA,J,this.Da,this.SC,this.za,this.sX,this.Rub,this.nya,this.lsa,this.rO,this.Gd,this.Wh,this.gj,this.oM,this.wY,this.Ak,this.Dya,this.bg,this.se,this.Cua,this.Om,this.nYb(),this.nja,this.oI,this.mua,void 0,this.E4,U);};I=c;I=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.gy)),r.__param(1,(0,k.l)(d.oh)),r.__param(2,(0,k.l)(g.md)),r.__param(3,(0,k.l)(h.di)),r.__param(4,(0,k.l)(l.CAa)),r.__param(5,(0,k.l)(m.UK)),r.__param(6,(0,k.l)(n.kea)),r.__param(7,(0,k.l)(q.XGa)),r.__param(8,(0,k.l)(p.ZR)),r.__param(9,(0,k.l)(u.UF)),r.__param(10,(0,k.l)(t.rS)),r.__param(11,(0,k.l)(w.LF)),r.__param(12,(0,k.l)(x.LAa)),r.__param(13,(0,k.l)(y.gfa)),r.__param(14,(0,k.l)(K.vF)),r.__param(15,(0,k.l)(A.VMa)),r.__param(16,(0,k.l)(B.ln)),r.__param(17,(0,k.l)(F.dS)),r.__param(18,(0,k.l)(E.jg)),r.__param(19,(0,k.l)(D.QJa)),r.__param(20,(0,k.l)(G.dLa)),r.__param(21,(0,k.l)(C.vca)),r.__param(22,(0,k.l)(H.qea)),r.__param(23,(0,k.l)(M.mJa)),r.__param(24,(0,k.l)(z.xBa)),r.__param(24,(0,k.optional)()),r.__param(25,(0,k.l)(v.QQ)),r.__param(25,(0,k.optional)())],I);b.NJa=I;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xBa=b.yBa=void 0;r=b.yBa || (b.yBa={});r[r.xkb=0]="PAUSE";r[r.Ilb=1]="RESUME";r[r.t6b=2]="CAPTIONS_ON";r[r.s6b=3]="CAPTIONS_OFF";r[r.u6b=4]="CAPTION_LANGUAGE_CHANGED";r[r.J5b=5]="AUDIO_LANGUAGE_CHANGED";r[r.U8b=6]="NEXT_EP";r[r.L9b=7]="PREV_EP";r[r.iC=8]="SEEK";r[r.rLa=9]="STOP";b.xBa="CastInteractionTrackerSymbol";},function(r,b,a){var d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I;function c(){this.pba=[];this.F2b=50;}function f(Q){var L;L=this;this.j=Q;this.Udb=Promise.resolve();this.nDa=nb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.KC=[];this.Et=new n.Rk();this.fOa=this.iga=0;this.y2=[];this.Ig=(0,u.Qh)(this.j,"MediaElementASE");this.cQa=z.Al;this.Gga=!1;this.Sb=new c();this.Lo={};this.IOa={};this.L6=this.A2(function(){var J;if(L.Z)return null !== (J=L.Z.webkitDecodedFrameCount) && void 0 !== J?J:0;});this.vD=this.A2(function(){var J;if(L.Z){J=L.aha();return J?J.totalVideoFrames:L.Z.webkitDecodedFrameCount;}});this.yH=this.A2(function(){var J;if(L.Z){J=L.aha();return J?J.droppedVideoFrames:L.Z.webkitDroppedFrameCount;}});this.cW=this.A2(function(){var J;if(L.Z){J=L.aha();return J && J.corruptedVideoFrames;}});this.dPa=function(J){return L.Et.Hc(F.Wj.a3a,{S:J});};this.Ql=u.pa.get(D.YFa).create(l.config.Cp,this,this.j);l.config.YD && (this.Udb=new Promise(function(J){L.cQa=J;L.j.addEventListener(H.ea.qg,J);}));this.Ig.trace("Created Media Element");this.addEventListener=this.Et.addListener;this.removeEventListener=this.Et.removeListener;}function k(Q){var L,J;L=u.pa.get(G.yNa).vJb();Q=Q.width / Q.height * L.height;J=(L.width - Q) / 2;return l.config.H_b?(0,z.createElement)("VIDEO","position:absolute;width:" + Q + "px;height:" + L.height + "px;left:" + J + "px;top:0px"):(0,z.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function m(Q){Q.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.kHa=void 0;d=a(42);g=a(306);h=a(12);l=a(14);n=a(73);q=a(62);p=a(49);u=a(8);t=a(3);w=a(22);v=a(93);x=a(333);y=a(24);z=a(30);A=a(307);B=a(11);E=a(18);D=a(536);F=a(308);G=a(513);C=a(5);H=a(15);K=a(64);M=a(55);I=! !(B.cC && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);f.prototype.dW=function(Q){try{this.Z && (this.fOa=this.Z.currentTime);}catch(L){this.Ig.error("Exception while getting VIDEO.currentTime",L);Q && this.TS(t.N.dlb,L);}return (0,B.Vj)(this.fOa * z.cm);};f.prototype.seek=function(Q){var L;(0,w.jb)(!this.Xp);this.XPa();L=this.dW(!0);if(!l.config.xtb && (0,B.wF)(L - Q) <= this.Lwa)(this.Ig.trace("Seek delta too small",{currentTime:L,seekTime:Q,min:this.Lwa}),this.Sb.trace("smallseek",Q));else {this.Sb.trace("seek",Q);try{this.Ig.trace("Setting video elements currentTime",{From:(0,v.mj)(L),To:(0,v.mj)(Q)});this.Xp={};this.Z.currentTime=Q / z.cm;this.Et.Hc(F.Wj.oq);}catch(J){this.Ig.error("Exception while setting VIDEO.currentTime",J);this.TS(t.N.elb,J);}}};f.prototype.C_a=function(){return ! !this.Xp;};f.prototype.addSourceBuffer=function(Q){var L,J;L=(0,z.Ie)(this.iga.toString() + this.KC.length.toString());L={JZ:this.iga,t4:L};try{J=new g.nea(this.j,Q,this.mg,L,this.Ig);this.KC.push(J);Q == h.FK && J.vna && J.vna.addListener(this.cQa);return J;}catch(N){J=(0,z.wd)(N);this.Ig.error("Unable to add source buffer.",{error:J});this.j.Ld(t.N.Hea,{ta:Q === d.Vb.zl.Xb?z.M.hea:z.M.iea,yb:J});}};f.prototype.N3=function(Q){var L;L=this;Q.forEach(function(J){return L.addSourceBuffer(J);});this.Et.Hc(F.Wj.Bab);return !0;};f.prototype.removeSourceBuffer=function(Q){this.KC=this.KC.filter(function(L){return !(0,p.ZTa)(Q,L);});this.mg.removeSourceBuffer(Q);};f.prototype.endOfStream=function(){this.Sb.trace("endofstream");!1;l.config.oka && this.mg.endOfStream();};f.prototype.qq=function(Q){!1;this.KC=[];Q && Q.Vdc();return !0;};f.prototype.TZb=function(Q){this.iga=Q;};f.prototype.YZa=function(){if(this.mg)return (0,C.L7a)(this.mg.duration);};f.prototype.uCb=function(){var Q;if(!this.Gga && this.Z && this.Z.readyState >= K.uo.d1.HAVE_CURRENT_DATA){Q=this.Z.webkitDecodedFrameCount;if(void 0 === Q || 0 < Q || l.config.m5b)this.Gga=!0;}return this.Gga;};f.prototype.open=function(){var Q,L,J;Q=this;this.Z=k(this.j.HB);this.sourceBuffers=this.KC;this.j.addEventListener(H.ea.lab,function(N){return Q.sqb(N);});if(I){this.j.ZH && !l.config.kdb && this.Ql.g$();try{this.mg=new B.cC();}catch(N){this.TS(t.N.Vkb,N);return;}try{this.Gl=URL.createObjectURL(this.mg);}catch(N){this.TS(t.N.Wkb,N);return;}try{this.Ql.Ksb(this.dPa);this.mg.addEventListener("sourceopen",function(N){return Q.DPa(N);});this.mg.addEventListener(this.nDa + "sourceopen",function(N){return Q.DPa(N);});this.Z.addEventListener("error",this.Lo.error=function(N){return Q.vT(N);});this.Z.addEventListener("seeking",this.Lo.seeking=function(){return Q.rqb();});this.Z.addEventListener("seeked",this.Lo.seeked=function(){return Q.qqb();});this.Z.addEventListener("timeupdate",this.Lo.timeupdate=function(){return Q.tqb();});this.Z.addEventListener("loadstart",this.Lo.loadstart=function(){return Q.Kha();});this.Z.addEventListener("volumechange",this.Lo.volumechange=function(N){return Q.uqb(N);});this.Z.addEventListener(this.Ql.jE,this.Lo[this.Ql.jE]=function(){Q.Ig.trace(Q.Ql.jE);Q.oqb();});L=this.j.Qg;J=L.lastChild;J?L.insertBefore(this.Z,J):L.appendChild(this.Z);l.config.UVa && this.Z.addEventListener("contextmenu",m);this.Z.src=this.Gl;q.we.addListener(q.ls,this.IOa[q.ls]=function(){return Q.CPa();});this.CPa();}catch(N){this.TS(t.N.Xkb,N);}}else this.u2(t.N.wIa);};f.prototype.close=function(){var L;function Q(){L.Gl && (L.XPa(),q.we.removeListener(q.ls,L.IOa[q.ls]),L.Dnb());}L=this;this.Sb.trace("close");this.Z.removeEventListener(this.Ql.jE,this.Lo[this.Ql.jE]);this.Z.removeEventListener("error",this.Lo.error);this.Z.removeEventListener("seeking",this.Lo.seeking);this.Z.removeEventListener("seeked",this.Lo.seeked);this.Z.removeEventListener("timeupdate",this.Lo.timeupdate);this.Z.removeEventListener("loadstart",this.Lo.loadstart);this.Z.removeEventListener("volumechange",this.Lo.volumechange);this.Ql.UXb(this.dPa);l.config.Cp?this.Ql.hB().then(function(){return Q();}):Q();this.Ql.d9a && clearTimeout(this.Ql.d9a);};f.prototype.BD=function(){return this.Sb.BD();};f.prototype.oqb=function(){l.config.kdb && this.Ql.g$();};f.prototype.aha=function(){if(this.Z)return this.Z.getVideoPlaybackQuality && this.Z.getVideoPlaybackQuality() || this.Z.videoPlaybackQuality || this.Z.playbackQuality;};f.prototype.Drb=function(){var Q;Q=this.j.Nh;return (Q=Q && Q.errorCode) && 0 <= [t.N.C1,t.N.h1].indexOf(Q);};f.prototype.Dnb=function(){var Q;Q=!1;l.config.hWb && this.Drb() && (Q=!0);l.config.pxb && !Q && (this.Z.removeAttribute("src"),this.Z.load && this.Z.load());URL.revokeObjectURL(this.Gl);l.config.UVa && this.Z.removeEventListener("contextmenu",m);!Q && this.Z && this.j.Qg.removeChild(this.Z);this.Z=this.mg=void 0;this.Gl="";};f.prototype.CPa=function(){!0 === B.Be.hidden?this.y2.forEach(function(Q){Q.refresh();Q.E0b();}):this.y2.forEach(function(Q){Q.refresh();Q.R0b();});};f.prototype.A2=function(Q){var L;L=u.pa.get(x.fIa)(Q);this.y2.push(L);return function(){L.refresh();return L.rHb();};};f.prototype.TS=function(Q,L){var J,N;J={ta:z.M.Qk,yb:(0,z.wd)(L)};try{(N=L.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == N.length && (J.uf=N);}catch(O){}this.j.Ld(Q,J);};f.prototype.XPa=function(){this.y2.forEach(function(Q){Q.refresh();});};f.prototype.xob=function(){return this.Z && this.Z.msGraphicsTrustStatus;};f.prototype.u2=function(Q,L){this.j.Ld(Q,L,void 0);};f.prototype.sqb=function(Q){var L,N,O,P,S,U,Z;if(this.Z){Q=Q.G_;L=this.xob();L && (Q.ConstrictionActive=L.constrictionActive,Q.Status=L.status);try{Q.readyState="" + this.Z.readyState;Q.currentTime="" + this.Z.currentTime;Q.pbRate="" + this.Z.playbackRate;}catch(ja){}L=this.KC.length;for(var J;L--;){J=this.KC[L];N="";J.type == h.m1?N="audio":J.type == h.FK && (N="video");(0,z.ac)(Q,J.D6(),{prefix:N});l.config.RDb && this.j.Nh && h.FK == J.type && (N=(0,z.SP)(J.J6()),3E3 > (N.data && N.data.length) && (N.data=(0,y.DUa)(N.data).join(),(0,z.ac)(Q,N,{prefix:J.type})));}this.mg && (L=this.mg.duration) && !isNaN(L) && (Q.duration=L.toFixed(4));if(l.config.tPb)try{O=this.j.tf;P=O && O.Mb;if(P){S=P.expiration;isNaN(S) || (Q.exp=S);U=P.keyStatuses.entries();if(U.next){Z=U.next().value;Z && (Q.keyStatus=Z[1]);}}}catch(ja){}}};f.prototype.DPa=function(Q){!1;this.Frb || (this.Frb=!0,this.Et.Hc(F.Wj.Cab,Q));};f.prototype.rqb=function(){this.Sb.trace("seeking");this.Ig.trace("Video element event: seeking");this.Xp?this.Xp.JSb=!0:(this.Ig.error("unexpected seeking event"),l.config.cFb && this.u2(t.N.jlb,{yb:{Trace:this.BD()}}));};f.prototype.qqb=function(){this.Sb.trace("seeked");this.Ig.trace("Video element event: seeked");this.Xp?((0,w.jb)(this.Xp.JSb),this.Xp.ISb=!0,this.zQa()):(this.Ig.error("unexpected seeked event"),l.config.bFb && this.u2(t.N.ilb,{yb:{Trace:this.BD()}}));};f.prototype.tqb=function(){var Q;this.Sb.trace("timeupdate",null === (Q=this.Z) || void 0 === Q?void 0:Q.currentTime);!1;this.Xp && (this.Xp.LSb=!0,this.zQa());this.Et.Hc(F.Wj.oq);};f.prototype.Kha=function(){this.Ig.trace("Video element event: loadstart");};f.prototype.uqb=function(Q){this.Ig.trace("Video element event:",Q.type);try{this.j.volume.set(this.Z.volume);this.j.muted.set(this.Z.muted);}catch(L){this.Ig.error("error updating volume",L);}};f.prototype.vT=function(Q){var L,J,N,O,P,S,U,Z;L=this.u2;J=t.N.vIa;N=t.FDa;O=this.BD();P=Q.target;S=P && P.error;U=Q.errorCode;P=S && S.code;(0,z.Zc)(P) || (P=U && U.code);U=S && S.message;Z=S && S.msExtendedCode;(0,z.Zc)(Z) || (Z=S && S.systemCode);(0,z.Zc)(Z) || (Z=Q.systemCode);(0,z.Zc)(Z) || (Z=(0,M.Moa)(U));Q=(0,z.ac)({},{code:P,systemCode:Z,trace:JSON.stringify(O)},{TA:!0});N={ta:N(P),yb:(0,A.gsa)(Q)};try{U && (N.AX=U);}catch(ja){}Z=(0,z.Ie)(Z);(0,E.Ea)(Z) && (N.uf=(0,u.Lja)(Z,4));L.call(this,J,N);};f.prototype.zQa=function(){this.Xp && this.Xp.ISb && this.Xp.LSb && (this.Sb.trace("seekcomplete"),this.Xp=void 0,this.Et.Hc(F.Wj.rZ));};Ya.Object.defineProperties(f.prototype,{Lwa:{configurable:!0,enumerable:!0,get:function(){return l.config.w0b;}}});b.kHa=f;c.prototype.trace=function(Q,L){this.pba.push([Q,L]);this.pba.length > this.F2b && this.pba.shift();};c.prototype.BD=function(){return this.pba;};},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u;function c(t){var w;w=this;this.j=t;this.eya=this.l5a=0;this.qg=this.Pm=!1;this.maa=0;this.$l=function(){var v,x;w.jaa();w.bH && (w.log.info("Deactivating",w.bH),w.wB.nBb(w.Te()));w.j.Qi.set(null);w.KJ.J$a(void 0);w.HTa();v=w.j.kc.value;v && v.Iq() && !v.ip() && (v=null);if(v && w.j.Bb.value !== p.hb.Uf){x=w.Te();w.wB.tsb(x,v);}v?(w.log.info("Activating",v),w.j.Ym.set(v.getState() === f.PF.jC.qF?p.Cf.te:p.Cf.xd),w.Pm || w.j.Ed("tt_start"),v.O7().then(w.dM).catch(w.dM)):w.j.Ym.set(p.Cf.te);w.bH=v;w.WJ();};this.sync=function(){w.Pm && (w.KJ.start(),w.j.Bb.value !== p.hb.Lc && w.KJ.stop());};this.WJ=function(){var v;w.j.state.value === p.Tb.te && w.j.Bb.value !== p.hb.Uf && (w.Ch?v=w.KJ.EGb():w.j.kc.value && (v=c.N0b[w.j.kc.value.getState()]));v && (0,q.Zc)(v.startTime) && w.j.wv.value !== v && (w.l5a++,w.eya+=w.KJ.ZZa() - v.startTime,w.uSa=Math.ceil(w.eya / (w.l5a + 0)));w.j.wv.set(v);};this.Te=function(){var v;v=w.j.Ooa();w.bH && w.bH.zu && (v+=w.bH.zu);return v;};this.DTb=function(v){w.fireEvent(c.j0b,v);v && v.id && (w.wB.bdb(v.id),!1);w.log.trace("showsubtitle",w.K_a(v));};this.yTb=function(v){w.fireEvent(c.bYb,v);w.log.trace("removesubtitle",w.K_a(v));};this.Dk=function(){w.log.warn("imagesubs buffer underflow",w.j.kc.value.Uh);w.j.Ym.set(p.Cf.xd);};this.XSb=function(){w.log.info("imagesubs buffering complete",w.j.kc.value.Uh);w.j.Ym.set(p.Cf.te);};this.b$=function(){w.Pm && w.Ch && w.Ch.ft(w.Te());};this.i6a=function(v){w.Pm && w.Ch && (w.Ch.pause(),w.Ch.rB(v.nk));};this.lE=function(){w.Pm && w.Ch && w.Ch.mva();};this.f6a=function(v){w.Ch && w.Ch.Di(v.$g,v.JO);};this.n6a=function(v){w.Ch && w.Ch.Fi(v.ha,v.a4b);};this.qTb=function(){w.Pm=!0;(0,n.Xf)(function(){var v,x;(null === (v=w.bH) || void 0 === v?0:v.wk)?null === (x=w.Ch) || void 0 === x?void 0:x.ft(w.Te()):w.sync();w.WJ();});};this.nTb=function(){w.HTa();w.KJ.stop();w.WJ();w.qg=!0;w.jaa();};this.Wta=function(v){(v=v.newValue) && (0,q.isArray)(v.blocks) && (w.wB.bdb.apply(w.wB,ha(v.blocks.map(function(x){return x.id;}))),!1);};this.uTb=function(v){w.V3b(v.newValue,v.oldValue);w.sync();w.WJ();};this.dM=function(v){var x;if(!w.qg){x=v.track;if(x === w.j.kc.value)try{w.Ch=x.bya;x.wk?w.rsb(v):w.ssb(v);}catch(y){w.log.error("Error activating track:",y,x);return;}w.Pm || w.j.Ed(v.aa?"tt_comp":"tt_err");v.aa?(d.config.U9a?setTimeout(function(){w.j.Ym.set(p.Cf.te);},d.config.U9a):w.j.Ym.set(p.Cf.te),x.wk || w.WJ()):v.aborted?w.log.warn("aborted timed text track loading"):d.config.aFb?w.j.Ld(l.N.Sib,{yb:v.track?v.track.Uh:{}}):(w.log.error("ignore subtitle initialization error",v),w.j.Ym.set(p.Cf.te));}};this.Wb=new m.Rk();this.wB=new h.lMa((0,g.Qh)(t,"SubtitleTracker"),d.config.eEb);this.log=(0,g.Qh)(t,"TimedTextManager");this.KJ=new k.HMa(this.Te,this.WJ);this.j.kc.addListener(this.$l);d.config.EVb?(this.j.addEventListener(p.ea.Pm,this.qTb),this.$l()):(this.j.Ym.set(p.Cf.te),this.j.addEventListener(p.ea.Pm,function(){w.Pm=!0;w.$l();}));this.j.Bb.addListener(this.uTb);this.j.addEventListener(p.ea.oya,this.sync);this.j.wv.addListener(this.Wta);this.j.addEventListener(p.ea.qg,this.nTb);}Object.defineProperty(b,"__esModule",{value:!0});b.FMa=void 0;f=a(285);k=a(537);m=a(73);d=a(14);g=a(8);h=a(1201);l=a(3);n=a(63);q=a(18);p=a(15);u=a(1202);c.prototype.addEventListener=function(t,w,v){this.Wb.addListener(t,w,v);};c.prototype.removeEventListener=function(t,w){this.Wb.removeListener(t,w);};c.prototype.fireEvent=function(t,w,v){this.Wb.Hc(t,w,v);};c.prototype.Iia=function(t,w,v){var x,y;x=this;y=u.DMa.dAb(this.j,t,w,v);this.B1a(this.j.$h,y);this.j.Ri.forEach(function(z){x.B1a(z.$h,y);});this.j.kc.set(y);this.j.fireEvent(p.ea.yv);};c.prototype.KVb=function(t){this.lwa(t)?t.O7().then(function(){}):Promise.resolve();};c.prototype.SJb=function(t){return this.wB.BJb(t);};c.prototype.kpa=function(t){return this.wB.kpa(t);};c.prototype.vW=function(){var t,w;t=this.j.h_;w=d.config.tya.characterSize;w={size:d.config.kba.characterSize || w};t && (w.visibility=t.qpa(),w.yU=t.opa(),w.Bs=t.ppa());return w;};c.prototype.D_b=function(t){d.config.kba.characterSize=t;t=this.j.kc.value;this.lwa(t) && !t.wk && t.O7().then(this.dM).catch(this.dM);};c.prototype.V3b=function(t,w){var v;t === p.hb.Lc || t == p.hb.qh?w !== p.hb.Lc && w !== p.hb.qh && ((w=this.j.kc.value) && !this.lwa(w) || this.wB.q5a(this.Te(),w || void 0,"presentingstate:" + t)):t !== p.hb.Uf && t !== p.hb.xr || this.wB.Jma(null !== (v=this.Te()) && void 0 !== v?v:void 0,"presentingstate:" + t);};c.prototype.jaa=function(){this.maa=0;clearTimeout(this.RYb);};c.prototype.HTa=function(){var t;this.Ch && this.Ch.stop();(null === (t=this.bH) || void 0 === t?0:t.wk) && this.K3a("removeListener");this.Ch=void 0;};c.prototype.K3a=function(t){this.Ch && (this.Ch[t]("showsubtitle",this.DTb),this.Ch[t]("removesubtitle",this.yTb),this.Ch[t]("underflow",this.Dk),this.Ch[t]("bufferingComplete",this.XSb),"addListener" === t?(this.j.addEventListener(p.ea.oq,this.b$),this.j.addEventListener(p.ea.Gk,this.i6a),this.j.addEventListener(p.ea.kJ,this.lE),this.j.addEventListener(p.ea.P9,this.f6a),this.j.addEventListener(p.ea.Yya,this.n6a)):(this.j.removeEventListener(p.ea.oq,this.b$),this.j.removeEventListener(p.ea.Gk,this.i6a),this.j.removeEventListener(p.ea.kJ,this.lE),this.j.removeEventListener(p.ea.P9,this.f6a),this.j.removeEventListener(p.ea.Yya,this.n6a)));};c.prototype.K_a=function(t){return {currentPts:this.Te(),displayTime:t.displayTime,duration:t.duration,id:t.id,originX:t.originX,originY:t.originY,sizeX:t.sizeX,sizeY:t.sizeY,rootContainerExtentX:t.rootContainerExtentX,rootContainerExtentY:t.rootContainerExtentY};};c.prototype.rsb=function(t){var w,v;w=this;v=t.track;if(!v || !v.wk)throw Error("Not an image base subtitle");t.aa?(this.jaa(),this.K3a("addListener"),this.log.info("Activated",v),this.j.Qi.set(v),this.Pm?(0,n.Xf)(function(){w.Ch.ft(w.Te());}):this.Ch.pause()):this.I9a(v,t);};c.prototype.ssb=function(t){var w,v;w=t.track;v=t.aa;if(!w || w.wk)throw Error("Not a valid text track");v?(this.jaa(),this.KJ.J$a(this.Ch),this.log.info("Activated",w),this.j.Qi.set(w)):this.I9a(w,(0,l.Iv)(t));this.WJ();};c.prototype.I9a=function(t,w){var v,x;v=this;x=this.maa < d.config.uQb;x && (this.RYb=setTimeout(function(){v.maa++;t.O7().then(v.dM).catch(v.dM);},d.config.m2b));this.log.error("Failed to activate" + ((null === t || void 0 === t?0:t.wk)?" img subtitle":""),{retry:x},w,t);};c.prototype.lwa=function(t){return !(!t || t.Iq() && !t.ip());};c.prototype.B1a=function(t,w){var v;v=t.findIndex(function(x){return x.dc >= w.dc;});-1 === v && (v=0);t.splice(v,0,w);};b.FMa=c;r={};c.N0b=(r[f.PF.jC.LOADING]={lX:!0},r[f.PF.jC.TR]={iu:!0},r);c.j0b="showsubtitle";c.bYb="removesubtitle";},function(r,b,a){var k;function c(m,d,g){this.start=m;this.track=d;this.EJ=Array.isArray(g)?g:[];}function f(m,d){this.log=m;this.GB=d;this.vva=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.lMa=void 0;k=a(22);f.prototype.tsb=function(m,d){this.q5a(m,d,"activating");};f.prototype.nBb=function(m){this.Jma(m,"de-activating");};f.prototype.q5a=function(m,d,g){var h;this.cl && this.Jma(m,"close current for new");h=[];this.orphans.length && (h.push.apply(h,ha(this.orphans)),this.orphans=[]);this.cl=new c(m,d,h);this.GB && this.log.trace("new range: " + g,this.cl);};f.prototype.Jma=function(m,d){this.cl && (this.cl.end=m,this.vva.push(this.cl),this.GB && this.log.trace("end range: " + d,this.cl || ({})),this.cl=void 0);};f.prototype.bdb=function(m){for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}this.cl?this.cl.EJ.push.apply(this.cl.EJ,ha(d)):this.orphans.push.apply(this.orphans,ha(d));};f.prototype.kpa=function(m){var d,g;d=this.vva.slice(0);if(this.cl && "undefined" !== typeof m){g=new c(this.cl.start,this.cl.track,this.cl.EJ);g.end=m;d.push(g);}m=d.reduce(function(h,l){var n,q,p,u;if(!l.track)return h;q=l.track.Dc;p=l.track.ks(l.start,l.end);if(void 0 === p || null === p)return h;u=new Set(l.EJ);h[q]?(l=h[q],l.expected+=p,l.missed+=p - u.size):h[q]={dlid:q,bcp47:l.track.Vf,profile:l.track.profile,expected:p,missed:p - u.size,startPts:null !== (n=l.track.NJb()) && void 0 !== n?n:0};return h;},{});m=Object.values(m);this.GB && this.log.trace("subtitleqoe:",JSON.stringify(m,null,"\t"));return m;};f.prototype.BJb=function(m){var d,g,h,l;d=this.vva.slice(0);g=0;h=0;if(this.cl && "undefined" != typeof m){l=new c(this.cl.start,this.cl.track,this.cl.EJ);l.end=m;d.push(l);}d.forEach(function(n){var q,p;if(n.track){if(n.end < n.start){(0,k.jb)(!1,"negative range");n.CE=0;return;}q=new Set(n.EJ);p=n.track.ks(n.start,n.end);n.Y5=p;n.CE=void 0 === p || null === p?0:0 === p?100:100 * q.size / p;}else n.CE=100;q=n.end - n.start;g+=q;h+=n.CE * q;});l=g?Math.round(h / g):100;this.log.trace("qoe score " + l + ", at pts: " + m);this.GB && (m=d.map(function(n){return {start:n.start,"end  ":n.end,duration:n.end - n.start,score:Math.round(n.CE),lang:n.track?n.track.Vf:"none","actual  ":n.EJ.join(" "),expected:n.Y5};}),this.log.trace("score for each range: ",JSON.stringify(m,function(n,q){return q;}," ")));return l;};b.lMa=f;},function(r,b,a){var f,k,m,d,g,h,l,n,q;function c(p,u,t,w,v,x){var y,z;p=g.PF.call(this,u,p,p,v,!0,"","1",{0:t},[{id:0,name:"custom"}],"xx",w || p,h.Np.NK,void 0,void 0,"primary",null !== (y=null === x || void 0 === x?void 0:x.profile) && void 0 !== y?y:"dfxp-ls-sdh",null !== (z=null === x || void 0 === x?void 0:x.midx) && void 0 !== z?z:{},!1,!1,null === x || void 0 === x?void 0:x.isLanguageLeftToRight) || this;p.j=u;p.url=t;p.options=x;p.ht=null === x || void 0 === x?void 0:x.useRangeHeader;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.DMa=void 0;r=a(61);f=a(14);k=a(62);m=a(8);d=a(30);g=a(285);h=a(132);l=a(74);n=a(135);q=a(15);(0,r.dfa)(r.$ea,function(p){var t;function u(w){var v;if(w.ctrlKey && w.altKey && w.shiftKey && w.keyCode == n.Jv.qmb){v=(0,d.createElement)("INPUT",void 0,void 0,{type:"file"});v.addEventListener("change",function(){var x,y,z;x=v.files[0];if(x){y=x.name;t.info("Loading file",{FileName:y});z=new FileReader();z.readAsText(x);z.addEventListener("load",function(){return p.nr.Iia("nourl",y,{content:z.result});});}});v.click();}}t=(0,m.Qh)(p,"TimedTextCustomTrack");f.config.Jla && (t.info("Loading url",{Url:f.config.Jla}),p.nr.Iia(f.config.Jla,"custom"));k.we.addListener(k.ED,u);p.addEventListener(q.ea.qg,function(){k.we.removeListener(k.ED,u);});});na(c,g.PF);c.dAb=function(p,u,t,w){var v;v="custom" + c.BMb++;return new c(v,p,u,t,-1,w);};c.prototype.mWa=function(){var p;p=this;return new Promise(function(u,t){var w,v;if(null === (w=p.options) || void 0 === w?0:w.content)u(p.options.content);else if(p.url){v={responseType:l.Ypa,url:p.url,track:p,uc:null,jD:"tt-" + p.Vf};p.j.F7.download(v,function(x){x.aa?u(x.content):(x.reason="downloadfailed",x.url=v.url,x.track=p,t(x));});}});};b.DMa=c;c.BMb=0;},function(r,b,a){var f,k,m,d,g,h;function c(l){var n,q;n=this;this.j=l;this.bTb=function(){var p;m.we.removeListener(m.p7,n.l6a);p=n.qs.Rn();p && p.parentNode && p.parentNode.removeChild(p);};this.Wta=function(p){n.qs.d_b(p.newValue);};this.GTb=function(p){n.qs.k_b(p.newValue?p.newValue.k8:void 0);};this.l6a=function(){n.qs.rP();};this.qs=new g.EMa(d.config.sya,l.kc.value?l.kc.value.k8:void 0);q=l.HB;(0,k.jb)(.1 < q.width / q.height);this.qs.UZb(q.width / q.height);l.Qg.appendChild(this.qs.Rn());l.wv.addListener(this.Wta);l.kc.addListener(this.GTb);l.addEventListener(h.ea.qg,this.bTb,f.GF);m.we.addListener(m.p7,this.l6a);}Object.defineProperty(b,"__esModule",{value:!0});b.GMa=void 0;f=a(12);k=a(22);m=a(62);d=a(14);g=a(542);h=a(15);c.prototype.pxa=function(l){this.qs.pxa(l);};c.prototype.qpa=function(){return this.qs.qpa();};c.prototype.nxa=function(l){this.qs.nxa(l);};c.prototype.opa=function(){return this.qs.opa();};c.prototype.oxa=function(l){this.qs.oxa(l);};c.prototype.ppa=function(){return this.qs.ppa();};b.GMa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.e8a=void 0;b.e8a=function(a){var c,f;c=!1;f=!1;return function(){if(c)f=!0;else for(f=!0;f;){f=!1;c=!0;a();c=!1;}};};},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u;function c(t){this.j=t;this.H1b=!1;this.log=(0,d.Qh)(this.j,"MediaAppendManager");this.$b=this.j.$b;this.Z=this.$b.Z;this.K_=this.nU=!1;this.audio={type:m.Ki.audio,Iw:[],Rl:[],YO:!1};this.video={type:m.Ki.video,Iw:[],Rl:[],YO:!1};t={};this.OJ=(t[f.Vb.zl.Pb]=this.video,t[f.Vb.zl.Xb]=this.audio,t);this.closed=!1;this.FA=k.config.FA;this.v9=k.config.v9;this.GI=(0,k.jUa)(! !this.j.cb.bj).GI;this.vSa=!0;(0,h.jb)(this.FA > this.v9,"bad config");(0,h.jb)(this.FA > this.GI,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.bHa=void 0;f=a(42);k=a(14);m=a(91);d=a(8);g=a(3);h=a(22);l=a(30);n=a(15);q=a(171);p=a(5);u=a(64);c.prototype.C6=function(){var v,x;function t(y,z){return w(y,z.k9);}function w(y,z){var A,B,E,D;E=! !z.response;D=z.response;if(z.dd)return y + (D.byteLength || 0);z=(null !== (A=null === z || void 0 === z?void 0:z.tM) && void 0 !== A?A:0) - (null !== (B=null === z || void 0 === z?void 0:z.uM) && void 0 !== B?B:0);return (E?D.byteLength:z) + y;}v=this.OJ[f.Vb.zl.Pb];x=this.OJ[f.Vb.zl.Xb];return {videoToAppend:v.Rl.reduce(w,0),videoInBuffer:v.Iw.reduce(t,0),audioToAppend:x.Rl.reduce(w,0),audioInBuffer:x.Iw.reduce(t,0)};};c.prototype.ySb=function(){this.audio.jj && !this.audio.jj.Ph() && (!1,this.audio.jj.IRa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.v_b=function(){this.audio.uxa=!0;this.video.uxa=!0;};c.prototype.B_b=function(t){t === f.Vb.zl.Xb?this.nU=!0:t === f.Vb.zl.Pb && (this.K_=!0);};c.prototype.Ph=function(){var t,w;return !(null === (t=this.audio.jj) || void 0 === t || !t.Ph()) || !(null === (w=this.video.jj) || void 0 === w || !w.Ph());};c.prototype.Iaa=function(t){var w,v;null === (w=this.audio.jj) || void 0 === w?void 0:w.Iaa(t);null === (v=this.video.jj) || void 0 === v?void 0:v.Iaa(t);};c.prototype.Htb=function(t){var w;t.mediaType === f.Vb.zl.Xb?this.nU=!1:t.mediaType === f.Vb.zl.Pb && (this.K_=!1);w=this.OJ[t.mediaType];w?w.Rl.push(t):(0,h.jb)(!1);};c.prototype.Ftb=function(t,w,v){w={mediaType:t.type,SD:!1,response:w,wi:function(){return "header";},get dd() {return !this.SD;},profile:v.profile};(t=this.OJ[t.type])?t.Rl.push(w):(0,h.jb)(!1);};c.prototype.z_b=function(t){var w;w=this.OJ[t.type];if(w)try{w.jj=t;}catch(v){this.Ld(g.N.Hea,{ta:(0,q.O6)(t.type),yb:(0,l.wd)(v)});}};c.prototype.close=function(){this.closed=!0;};c.prototype.Ld=function(t,w,v){this.closed || this.j.Ld(t,w,v);};c.prototype.Tla=function(t){return this.eWa(this.audio,t,this.h5()) && this.eWa(this.video,t,this.h5());};c.prototype.h5=function(){return this.j.Bb.value === n.hb.Uf?this.GI:this.v9;};c.prototype.s2b=function(){var t,w;t=this.video.Rl.filter(function(v){return !v.dd;}).reduce(function(v,x){return v + x.fs;},0);w=this.audio.Rl.filter(function(v){return !v.dd;}).reduce(function(v,x){return v + x.fs;},0);return Math.min(t,w);};c.prototype.eWa=function(t,w,v){var x;x=t.Ula;x=x && x.k9;return !t.jj || 0 === t.Rl.length && (t.type === m.Ki.audio && this.nU || t.type === m.Ki.video && this.K_)?!0:x && x.vx - w >= v || !1;};c.prototype.Gya=function(t){this.H1b || (this.qcb(this.audio,t),this.qcb(this.video,t));this.closed || this.tTa();};c.prototype.tTa=function(){var t,w,v,x,y;v=!this.audio.jj || 0 !== this.audio.Iw.length;x=0 === this.video.Rl.length && this.K_;y=!this.video.jj || 0 !== this.video.Iw.length;!(!(0 === this.audio.Rl.length && this.nU && y || x && v) || (null === (t=this.audio.jj) || void 0 === t?0:t.Ph()) || (null === (w=this.video.jj) || void 0 === w?0:w.Ph()) || this.Ima) && this.Z.readyState > u.uo.d1.HAVE_NOTHING && (this.Ima=!0,this.$b.endOfStream());};c.prototype.qcb=function(t,w){var v,x,y;if(!this.closed && t.jj){v=t.jj;x=t.Iw;!v.Ph() && 0 < x.length && (t.Ula=x[x.length - 1]);if(t.uxa){if(v.Ph())return;t.uxa=!1;y=this.$b.YZa().K7a(p.zo);0 < y && v.remove(0,y);}for(y=t.Rl[0];y && y.response && (y.dd || y.cB - w <= this.FA);){if((this.Ima=!1,this.g3b(y)))(t.Rl.shift(),y=t.Rl[0]);else break;}!v.Ph() && 0 < x.length && (t.Ula=x[x.length - 1]);}};c.prototype.g3b=function(t){var w,v,x;!1;(0,h.jb)(t && ! !t.response);w=t.response;v=t.mediaType;x=this.OJ[v];if(!this.closed && x.jj && !x.jj.Ph()){try{t.dd && t.profile && x.jj.zwb(t.profile);this.log.trace("Feeding media segment to decoder",{Bytes:w.byteLength});x.jj.IRa(w,t);t.dd || x.Iw.push(this.fAb(t));k.config.HCb && !t.dd && t.CTa();}catch(y){"QuotaExceededError" === y.name?(this.j.j5=this.j.j5?this.j.j5 + 1:1,this.vSa=!1,x.YO=!0):(this.log.error("Exception while appending media",t,y),this.Ld("CodecSwitchingError" === y.name?g.N.xIa:g.N.flb,(0,q.O6)(v)));return;}return !0;}};c.prototype.Yzb=function(t){var w;w=this.j.LKb(t.Qd);w || (this.log.warn("Could not find CDN",{cdnId:t.Qd}),w={id:t.Qd,Kra:t.location});return w;};c.prototype.ZUa=function(t){var w,v;v=t.Ta;t.mediaType === f.Vb.zl.Xb?w=this.j.e0a(v):t.mediaType === f.Vb.zl.Pb && (w=this.j.q0a(v));w || this.log.error("Could not find stream",{stream:v});return w;};c.prototype.fAb=function(t){var w;w=this.ZUa(t);return {k9:t,stream:w,um:{startTime:Math.floor(t.cB),endTime:Math.floor(t.vx)},uc:this.Yzb(t)};};c.prototype.yka=function(t){this.xTa(t,f.Vb.zl.Xb);this.xTa(t,f.Vb.zl.Pb);};c.prototype.xTa=function(t,w){var v,x,y,z,A,B,E,D,F;v=this;x=t;this.vSa && (x-=k.config.jZ);y=this.OJ[w];z=y.Iw;E=!1;z.some(function(G,C){var H;H=G.k9;if(t < H.cB)return ((0,h.jb)(!1,"decoder content does not contain media time"),!0);x >= H.vx && (A=C);if(t < H.vx)return (B=C,C=w === f.Vb.zl.Xb?v.j.pf:v.j.re,G !== C.value && (C.set(G),E=!0),!0);});if((y.YO || E) && void 0 !== A && !this.Ima){if(A + 1 === B){if(0 === A)return;A--;}D=z[A].k9.vx - 1;if(0 < D){F=y.jj;F && !F.Ph()?(F.remove(0,D / l.cm),y.YO=!1,z.splice(0,A + 1)):(y.YO=!0,!1);}}};c.prototype.x9a=function(){!1;[this.audio,this.video].forEach(function(t){t.Iw=[];t.Ula=void 0;t.Rl=[];});this.K_=this.nU=!1;this.j.fireEvent(n.ea.h9);};c.prototype.xpa=function(){return [this.audio,this.video].filter(function(t){return t.jj;});};c.prototype.aHb=function(){var t,w;if(this.Ph())(0,h.jb)(!1,"should not be busy while checking buffer ranges");else {t=this.xpa().map(function(v){var x,y,z,A,B;A=v.Rl.filter(function(E){return E.SD;});B=v.jj.buffered();v=B.length?Math.ceil(1E3 * B.start(0)):void 0;B=B.length?Math.floor(1E3 * B.end(B.length - 1)):void 0;v=null !== v && void 0 !== v?v:null === (x=A[0]) || void 0 === x?void 0:x.cB;x=null !== (z=null === (y=A[A.length - 1]) || void 0 === y?void 0:y.vx) && void 0 !== z?z:B;if(void 0 !== v && void 0 !== x)return {start:v,end:x};});if(t.every(function(v){return v;})){w=Math.max.apply(Math,ha(t.map(function(v){return v.start;})));t=Math.min.apply(Math,ha(t.map(function(v){return v.end;})));if(t > w)return {start:(0,p.Nc)(w),end:(0,p.Nc)(t)};}}};c.prototype.skip=function(t){(0,h.jb)(!this.Ph(),"should not be busy while skipping");this.xpa().forEach(function(w){w.YO=!0;});this.yka(t);this.xpa().forEach(function(w){0 < w.Iw.length || (w.Rl=w.Rl.filter(function(v){return v.dd || v.vx > t?!0:!1;}));});};b.bHa=c;},function(r,b){function a(f,k,m){var d,g,h,l;d=[];f.forEach(function(n){-1 == d.indexOf(n.Lg) && d.push(n.Lg);});g=null;h=null;k.forEach(function(n){null === g?h=g=n.bitrate:h < n.bitrate?h=n.bitrate:g > n.bitrate && (g=n.bitrate);});l=[];d.forEach(function(n){var q;q={ranges:[],profile:n};g && h && (q.ranges.push({min:g,max:h}),m && (q.disallowed=m.filter(function(p){return p.stream.Lg === n;}).map(function(p){return {stream:{bitrate:p.stream.bitrate},disallowedBy:p.x5};})),l.push(q));});return l;}function c(f,k){var m;m=void 0;f=f.filter(function(g){var h;h=k(g);h && (m=m || [],m.push({stream:g,x5:h}));return !h;});for(var d=0;d < f.length;d++){f[d].lower=f[d - 1];f[d].kLb=f[d + 1];}return {qD:f,FCb:m};}Object.defineProperty(b,"__esModule",{value:!0});b.ECb=b.Zt=b.XAb=b.V_a=void 0;b.V_a=function(f,k){k=c(f,k);return a(f,k.qD,k.FCb);};b.XAb=a;b.Zt=c;b.ECb=function(f){if(f.ml && f.lower && 1080 < f.height)return ["Prefetch UHD"];};},function(r,b,a){var f,k;function c(m,d){m=f.ec.call(this,m) || this;m.xsa=d;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.UJa=void 0;f=a(80);k=a(93);na(c,f.ec);c.prototype.set=function(m){f.ec.prototype.set.call(this,(0,k.Jp)(m,0,this.xsa));};b.UJa=c;},function(r,b,a){var k,m,d,g,h,l,n,q;function c(p,u,t,w,v){var x;x=this;this.fj=p;this.config=t;this.nb=w;this.debug=v;this.G$=[];this.Fs=[];this.Fua=[];this.IG={};this.fWa=!1;this.tU={};this.Bqa=0;this.log=u.mb("PlayTimeTracker");this.startTime=this.fj.mediaTime.value;this.N8=this.config().nsb;this.ZJ();this.IG.abrdel=0;this.N8.forEach(function(y){y="abrdel" + y;x.tU[y]=0;x.IG[y]=0;});}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.IJa=void 0;k=a(1);r=a(0);m=a(7);d=a(13);g=a(95);a(5);h=a(27);l=a(97);n=a(12);q=a(24);f.prototype.encode=function(p){return {downloadableId:p.Dc,correlationId:p.Mg,bitrate:p.bitrate,vmaf:p.xb,duration:p.duration,metric:p.CX,cdnId:p.cD};};f.prototype.decode=function(p){return {Dc:p.downloadableId,Mg:p.correlationId,bitrate:p.bitrate,xb:p.vmaf,duration:p.duration,CX:p.metric,cD:p.cdnId};};c.prototype.NN=function(){var p;this.wJ(this.fj.mediaTime.value);p=0;this.Fs.forEach(function(u){p+=(u.endTime - u.startTime) / u.rate;});return Math.floor(p);};c.prototype.rpa=function(){var p;this.wJ(this.fj.mediaTime.value);p=0;this.Fs.forEach(function(u){p+=u.endTime - u.startTime;});this.debug.assert(p === Math.floor(p),"Value of totalContentPlayTime is not an integer.");return Math.floor(p);};c.prototype.NGb=function(){this.wJ(this.fj.mediaTime.value);return {audio:this.fW(this.G$,this.gZa),video:this.fW(this.Fs,this.gZa)};};c.prototype.eJb=function(){var p;p={total:this.NN(),totalContentTime:this.rpa(),audio:this.fW(this.G$,this.N6),video:this.fW(this.Fs,this.N6),timedtext:this.fW(this.Fua,this.N6)};this.debug.assert(!(!p.audio || !p.video));return p;};c.prototype.$na=function(){var p,u;this.wJ(this.fj.mediaTime.value);p=this.Una(this.Fs,this.ZGb);try{u=this.CYa(p);}catch(t){return (this.log.warn("Failed to calc average bitrate."),null);}this.IG.abrdel=Math.round(u);return this.IG.abrdel;};c.prototype.DYa=function(){var p,u;this.wJ(this.fj.mediaTime.value);p=this.Una(this.Fs,this.mKb);try{u=this.CYa(p);}catch(t){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(u);};c.prototype.BYa=function(){var p,u;p=this;if(!this.fWa){u=this.NN();this.N8.forEach(function(t){var w,v,x;if(0 === p.tU["abrdel" + t] && u > t * n.cm){w=0;v=0;x=0;p.Fs.some(function(y){w+=y.stream.bitrate * (y.endTime - y.startTime);v+=y.endTime - y.startTime;x=y.stream.bitrate;if(v > t * n.cm)return !0;});w && (p.tU["abrdel" + t]=Math.round((w - x * (v - t * n.cm)) / (t * n.cm)));}});0 !== this.tU["abrdel" + this.N8[this.N8.length - 1]] && (this.fWa=!0);(0,q.ve)(this.tU,function(t,w){p.IG[t]=0 === w?p.IG.abrdel:w;});}return this.IG;};c.prototype.Isb=function(p){this.Bqa+=p;};c.prototype.r0a=function(){return ! !(this.Fs[0] && this.Fs[0].stream && this.nb.Ng(this.Fs[0].stream.xb));};c.prototype.ZJ=function(){var p;p=this;this.fj.pf.addListener(function(u){p.LM=p.pTa(p.LM,p.G$,u.newValue);});this.fj.re.addListener(function(u){p.NM=p.pTa(p.NM,p.Fs,u.newValue);});this.fj.playbackRate.addListener(function(u){p.wJ(p.fj.mediaTime.value,u.oldValue);});this.fj.Qi.addListener(this.RSb.bind(this));};c.prototype.xta=function(p,u){this.wJ(p);this.startTime=u;this.NM=this.LM=void 0;this.MM && (this.MM.startTime=this.startTime);!1;};c.prototype.RSb=function(p){this.KY(this.MM,this.Fua,this.fj.mediaTime.value);this.MM=p.newValue?{track:p.newValue,startTime:this.fj.mediaTime.value,endTime:g.jy}:void 0;};c.prototype.wJ=function(p,u){u=void 0 === u?this.fj.playbackRate.value:u;p && this.LM && this.NM && (p=Math.min(p,this.LM.endTime,this.NM.endTime),this.KY(this.LM,this.G$,p,u),this.LM.startTime=p,this.KY(this.NM,this.Fs,p,u),this.NM.startTime=p,this.MM && (this.KY(this.MM,this.Fua,p,u),this.MM.startTime=p),this.startTime=p,!1);};c.prototype.pTa=function(p,u,t){p && this.KY(p,u,Math.min(p.endTime,this.fj.mediaTime.value));if(t && t.stream)return (p=t.um,u=t.stream,{uc:t.uc,track:u.track,stream:u,startTime:Math.max(p.startTime,this.startTime),endTime:p.endTime});};c.prototype.KY=function(p,u,t,w){w=void 0 === w?this.fj.playbackRate.value:w;p && t && t >= p.startTime && (p={uc:p.uc,track:p.track,stream:p.stream,startTime:p.startTime,endTime:t,rate:w},(t=u[u.length - 1]) && t.track === p.track && t.stream === p.stream && t.uc === p.uc && t.endTime === p.startTime && t.rate === p.rate?t.endTime=p.endTime:u.push(p),!1);};c.prototype.Una=function(p,u){var t,w;t=this;w={};return p.reduce(function(v,x){var y,z,A;y=u.bind(t,x)();z=y.key;y=k.__rest(y,["key"]);x=x.endTime - x.startTime;A=w[z];A?A.duration+=x:(A=y,A.duration=x,v.push(A),w[z]=A);return v;},[]);};c.prototype.fW=function(p,u){return this.Una(p,u).map(function(t){return new f().encode(t);});};c.prototype.N6=function(p){var u,t,w;u=p.stream;if(u){p=u.Dc;t=u.bitrate;w=u.xb;}else p=p.track.Dc;return {key:p + "$" + t + "$" + w,Dc:p,bitrate:t,xb:w};};c.prototype.gZa=function(p){var u,t,w;t=this.N6(p);w=null === (u=p.uc) || void 0 === u?void 0:u.id;p=p.track.Mg;return Object.assign({},t,{key:t.key + "$" + w + "$" + p,cD:w,Mg:p});};c.prototype.ZGb=function(p){var u;u=p.stream;p=null === u || void 0 === u?void 0:u.Dc;u=null === u || void 0 === u?void 0:u.bitrate;return {key:p + "$" + u,Dc:null !== p && void 0 !== p?p:"",CX:u};};c.prototype.mKb=function(p){var u;u=p.stream;p=null === u || void 0 === u?void 0:u.Dc;u=null === u || void 0 === u?void 0:u.xb;return {key:p + "$" + u,Dc:null !== p && void 0 !== p?p:"",CX:u};};c.prototype.CYa=function(p){var u,t,w;u=this;t=0;p.forEach(function(v){if(u.nb.Ng(v.duration) && u.nb.Ng(v.CX))t+=v.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!t)return 0;w=0;p.forEach(function(v){w+=v.CX * v.duration / t;});return w;};a=c;a=k.__decorate([(0,r.T)(),k.__param(1,(0,r.l)(m.ub)),k.__param(2,(0,r.l)(d.ad)),k.__param(3,(0,r.l)(h.ig)),k.__param(4,(0,r.l)(l.Ev))],a);b.IJa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HJa="PlayTimeTrackerFactorySymbol";},function(r,b,a){var f,k;function c(m,d,g,h,l,n,q,p,u,t,w,v){this.index=m;this.K=d;this.ha=g;this.cb=h;this.ca=l;this.ej=n;this.Sra=q;this.gyb=u;this.Q4a=w;this.tj=v;this.tc=new f.ec(null);this.Ag=new f.ec(null);this.kc=new f.ec(null);this.Qi=new f.ec(null);this.wv=new f.ec(void 0);this.Ye=new f.ec(null);this.th=new f.ec(null);this.pf=new f.ec(null);this.re=new f.ec(null);this.uc=[new f.ec(null),new f.ec(null)];this.mediaTime=new f.ec(void 0);this.playbackRate=new f.ec(1);this.gq=new f.ec(null);this.MG=this.LG="notcached";this.w5=this.background=!1;p && (this.Ye.set(p.Ye.value),this.th.set(p.th.value));this.Ul=t(this);this.Om=this.Q4a.FXb(this.ca,this.ej);}Object.defineProperty(b,"__esModule",{value:!0});b.VJa=void 0;f=a(80);k=a(5);c.prototype.Ed=function(m){this.Om.bq(m);};c.prototype.mA=function(m){var d;d=this;Object.entries(m).forEach(function(g){var h;h=ba(g);g=h.next().value;h=h.next().value;d.Om.bq(g,(0,k.Nc)(h - d.ej.da(k.la)));});};c.prototype.X9=function(){this.Q4a.XXb(this.ca);};Ya.Object.defineProperties(c.prototype,{Xd:{configurable:!0,enumerable:!0,get:function(){return this.cb.Xd;}},Jba:{configurable:!0,enumerable:!0,get:function(){return this.cb.Jba;}},Bm:{configurable:!0,enumerable:!0,get:function(){return this.Tc && this.Tc.Bm;}},Ri:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Tc && this.Tc.Ri) && void 0 !== m?m:[];}},Dp:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Tc && this.Tc.Dp) && void 0 !== m?m:[];}},BB:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Tc && this.Tc.BB) && void 0 !== m?m:[];}},$h:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Tc && this.Tc.$h) && void 0 !== m?m:[];}},zi:{configurable:!0,enumerable:!0,get:function(){return this.Tc && this.Tc.zi;}},ZH:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Tc && this.Tc.ZH) && void 0 !== m?m:!1;}},fv:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Tc && this.Tc.fv) && void 0 !== m?m:[];}},vj:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.Tc && this.Tc.vj) && void 0 !== m?m:[];}},xz:{configurable:!0,enumerable:!0,get:function(){return this.zga && 0 < this.zga.da(k.la)?this.zga:(0,k.Nc)(this.oa?this.oa.Nb.duration:0);},set:function(m){this.zga=m;}},Pj:{configurable:!0,enumerable:!0,get:function(){return this.cb.Pj || 0;}},YU:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.RU?this.RU:void 0 === this.mediaTime.value?null:this.gyb(this.mediaTime.value,this.ha);}},Mg:{configurable:!0,enumerable:!0,get:function(){var m,d;return null === (d=null === (m=this.oa) || void 0 === m?void 0:m.Nb.F4) || void 0 === d?void 0:d.Ds;}},pJ:{configurable:!0,enumerable:!0,get:function(){var m,d;return null === (d=null === (m=this.oa) || void 0 === m?void 0:m.Nb.F4) || void 0 === d?void 0:d.pJ;}},Sc:{configurable:!0,enumerable:!0,get:function(){return this.Om.Sc;}}});b.VJa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XMa="TrickPlayParserSymbol";},function(r,b,a){var f,k,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.WMa=void 0;r=a(1);k=a(168);a=a(0);c.prototype.parse=function(d){var g,h;if(!d)throw Error("invalid array buffer");g=new Uint8Array(d);h=new k.jR(g);d=this.mUb(h);g=this.nUb(h,g,d);return {header:d,images:g};};c.prototype.mUb=function(d){var g,h,l,n;if(d.Voa() < this.AYb())throw Error("array buffer too short");f.zGa.forEach(function(q){if(q != d.fB())throw Error("BIF has invalid magic.");});g=d.lP();if(g > f.VERSION)throw Error("BIF version in unsupported");h=d.lP();if(0 == h)throw Error("BIF has no frames.");l=d.lP();n=d.Xh(f.RKa);return {version:g,GSb:h,Ubb:l,v9a:n};};c.prototype.nUb=function(d,g,h){var q,p;for(var l=[],n=0;n <= h.GSb;n++){q={timestamp:d.lP(),offset:d.lP()};void 0 != p && l.push(g.subarray(p.offset,q.offset));p=q;}return l;};c.prototype.AYb=function(){return f.zGa.length + 4 + 4 + 4 + f.RKa;};m=f=c;m.zGa=[137,66,73,70,13,10,26,10];m.VERSION=0;m.RKa=44;m=f=r.__decorate([(0,a.T)()],m);b.WMa=m;},function(r,b,a){var f,k,m;function c(d,g,h){this.config=d;this.j=g;this.cg=h;this.qY=void 0;this.v$=!1;this.ura=0;this.log=this.cg.mb();}Object.defineProperty(b,"__esModule",{value:!0});b.zLa=void 0;f=a(15);k=a(5);m=a(93);c.prototype.LIb=function(d,g,h,l,n){var q,p,u,t;h=void 0 === h?this.j.ha:h;l=void 0 === l?!1:l;q=g === f.Pe.SK;p=this.Yvb(q?d:this.exb(d,h),l,h);l=this.j.Ja;q?(d=p,p=l.Xt(p)):d=l.IM(h,p);g === f.Pe.fy && (this.j.HSa=p);n=this.Ti(d,g,n);u=(q=q || n)?d:p;if(this.j.Xu){t=this.config().GI;this.j.h0a(u,t) || g !== f.Pe.iC || (u=this.j.Xu.da(k.la) - t - 1E3,q?(d=u,p=l.Xt(u)):(d=l.IM(h,u),p=u));}return {O9:u,nk:p,lVb:d,Ti:n};};c.prototype.Yvb=function(d,g,h){d=this.xNb() || g?Math.round(d):this.j.Ja.nka(d,h);this.j.cb.bj && (d=this.aGb(d));this.config().Kwa && (d+=this.config().Kwa);return d;};c.prototype.Ti=function(d,g,h){if(this.config().DCb || g === f.Pe.fy || g === f.Pe.a2 || g === f.Pe.Q0 || !h || d < h.start.da(k.la) || d >= h.end.da(k.la))return !1;g=this.j.Ja;return (null === g || void 0 === g?void 0:g.ji) && g.Ti(d) || !1;};c.prototype.xNb=function(){return this.j.cb.bj?!0:"boolean" === typeof this.j.cb.zY?this.j.cb.zY:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().zY && this.config().HVb:this.config().zY;};c.prototype.exb=function(d,g){var h;g=this.j.uk(g);h=g.xz;g=(g.vQb || h).da(k.la) - this.config().x5b;return (0,m.Jp)(d,0,g);};c.prototype.aGb=function(d){var g,h,l;g=this.j.aW();if(Object.values(g).find(function(n){var q;q=n.Ba;q=d < (null !== q && void 0 !== q?q:Infinity);return n.Aa <= d && q;}))return (!1,d);l=d;Object.entries(g).forEach(function(n){var q;n=ba(n);n.next();n=n.next().value.Aa;q=n - d;0 < q && (void 0 === h || q < h) && (h=q,l=n);});!1;return l;};Ya.Object.defineProperties(c.prototype,{Rqa:{configurable:!0,enumerable:!0,get:function(){return this.v$ || ! !this.qY;}}});b.zLa=c;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w,v;function c(x,y,z,A,B,E){var D;D=this;this.j=x;this.qk=y;this.z_=z;this.de=A;this.IZ=B;this.In=E;this.lVa={};this.update=function(){var F;if(D.yp.selectionStart == D.yp.selectionEnd){F="";D.hW().forEach(function(G){F=F?F + "\n":"";Object.entries(G).forEach(function(C){var H;H=ba(C);C=H.next().value;H=H.next().value;F+=C + ": " + H + "\n";});});D.yp.style.fontSize=(0,d.Jp)((0,h.$B)(D.element.clientHeight / 60),8,18) + "px";D.yp.value=F;}};this.gTb=function(){var F,G;if(D.j.dg){G=D.j.dg.yH();G && (D.Gla=G - (null !== (F=D.bcb) && void 0 !== F?F:0),D.bcb=G,D.RO());}};this.RO=function(){D.z_.Yl(D.update);};this.onkeydown=function(F){F.ctrlKey && F.altKey && F.shiftKey && (F.keyCode == q.Jv.fgb || F.keyCode == q.Jv.Q) && D.toggle();};this.t7a=[x.mediaTime,x.uc[f.Vb.Wa.Xb],x.uc[f.Vb.Wa.Pb],x.pf,x.re,x.th,x.Ye,x.Qi,x.state,x.Vr,x.Bb,x.volume,x.muted];this.element=this.de.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.yp=this.de.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.yp);this.controls=this.de.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);y=this.de.createElement("button",void 0,"X");y.addEventListener("click",function(){return D.ps();},!1);this.controls.appendChild(y);m.we.addListener(m.ED,this.onkeydown);x.addEventListener(n.ea.qg,function(){m.we.removeListener(m.ED,D.onkeydown);D.ps();});}Object.defineProperty(b,"__esModule",{value:!0});b.RJa=void 0;f=a(42);k=a(61);m=a(62);d=a(93);g=a(307);h=a(11);l=a(18);n=a(15);q=a(135);p=a(5);r={};u=(r[n.Tb.KK]="Not Loaded",r[n.Tb.LOADING]="Loading",r[n.Tb.te]="Normal",r[n.Tb.CLOSING]="Closing",r[n.Tb.CLOSED]="Closed",r);r={};t=(r[n.Cf.te]="Normal",r[n.Cf.xd]="Pre-buffering",r[n.Cf.qLa]="Network stalled",r);r={};w=(r[n.hb.Uf]="Waiting for decoder",r[n.hb.Lc]="Playing",r[n.hb.qh]="Paused",r[n.hb.xr]="Media ended",r);v=[n.ea.h9];c.prototype.a_b=function(x){this.lVa.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.FMb=nb.setInterval(this.gTb,1E3),document.body.appendChild(this.element),this.t7a.forEach(function(y){y.addListener(x.RO);}),v.forEach(function(y){x.j.addEventListener(y,x.RO);}),this.visible=!0,this.In.VZ().then(function(y){x.Kpa=y;x.RO();}));this.update();};c.prototype.ps=function(){var x;x=this;this.visible && (clearInterval(this.FMb),this.bcb=this.Gla=void 0,document.body.removeChild(this.element),this.t7a.forEach(function(y){y.removeListener(x.RO);}),v.forEach(function(y){x.j.removeEventListener(y,x.RO);}),this.z_.Yl(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.ps():this.show();};c.prototype.hW=function(){var x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,N,O,P,S,U,Z,ja,ya,ra,Y,pa,T,R,ea,sa,la,Ka,Ua,$a,Za,cb;G=[];C=this.qk();G.push({Version:"6.0034.519.911",Esn:C?C.il:"UNKNOWN",PBCID:this.j.Mg,UserAgent:h.eC});try{H={MovieId:this.j.K,TrackingId:this.j.Pj,Xid:this.j.ca + " (" + k.yo.map(function(Va){return Va.ca;}).join(", ") + ")",Position:(0,d.mj)(this.j.mediaTime.value),Duration:(0,d.mj)(this.j.xz.da(p.la)),PlayerDuration:(0,d.mj)(this.j.Xu.da(p.la)),Volume:(0,h.Vj)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":"")};if(this.j.cb.bj || this.j.cb.n8)(H["Segment Position"]=(0,d.mj)(this.j.zD()),H.Segment=this.j.Poa());G.push(H);}catch(Va){}try{G.push({"Player state":u[this.j.state.value],"Buffering state":t[this.j.Vr.value],"Rendering state":w[this.j.Bb.value]});}catch(Va){}try{K=this.j.pza() + this.j.tja();M=this.j.pf.value;I=null === M || void 0 === M?void 0:M.stream;Q=this.j.re.value;L=null === Q || void 0 === Q?void 0:Q.stream;J=null !== (x=null === I || void 0 === I?void 0:I.bitrate) && void 0 !== x?x:"?";N=L?L.bitrate + " (" + L.width + "x" + L.height + ")":"?";O=null !== (y=null === L || void 0 === L?void 0:L.xb) && void 0 !== y?y:"?";P=null !== (A=null === (z=this.j.Ye.value) || void 0 === z?void 0:z.xb) && void 0 !== A?A:"?";S=null !== (E=null === (B=this.j.th.value) || void 0 === B?void 0:B.bitrate) && void 0 !== E?E:"?";U=null !== (F=null === (D=this.j.Ye.value) || void 0 === D?void 0:D.bitrate) && void 0 !== F?F:"?";Z=this.j.uc[f.Vb.Wa.Pb].value;ja=this.j.uc[f.Vb.Wa.Xb].value;G.push({"Playing bitrate (a/v)":J + " / " + N,"Playing/Buffering vmaf":O + "/" + P,"Buffering bitrate (a/v)":S + " / " + U,"Buffer size in Bytes (a/v)":this.j.tja() + " / " + this.j.pza(),"Buffer size in Bytes":"" + K,"Buffer size in Seconds (a/v)":(0,d.mj)(this.j.iU()) + " / " + (0,d.mj)(this.j.E_()),"Current CDN (a/v)":(ja?ja.name + ", Id: " + ja.id:"?") + " / " + (Z?Z.name + ", Id: " + Z.id:"?")});}catch(Va){}try{if(this.j.pf.value && this.j.re.value){ya=this.j.pf.value.stream;ra=ya.track;Y=this.j.re.value.stream;pa=this.j.Qi.value;T=this.IZ.a5(this.j.Ag.value?this.j.Ag.value.streams:[]);R=this.IZ.X4(ra.streams);ea=Y.Lg;sa=(/hevc/).test(ea)?"hevc":(/vp9/).test(ea)?"vp9":(/h264hpl/).test(ea)?"avchigh":(/av1/).test(ea)?"av1":"avc";(/hdr/).test(ea) && (sa+=", hdr");(/dv/).test(ea) && (sa+=", dv");(/prk/).test(ea) && (sa+=", prk");la=ya.Lg;Ka=(/xheaac/).test(la)?"xhe-aac":(/heaac/).test(la)?"he-aac":(/ddplus/).test(la)?"ddplus":"unknown";(/atmos/).test(la) && (Ka+=", atmos");G.push({"Audio Track":ra.Vf + ", Id: " + ra.trackId + ", Channels: " + ra.channels + ", Codec: " + R + " (" + Ka + ")","Video Track":"Codec: " + T + " (" + sa + ")","Timed Text Track":pa?pa.Vf + ", Profile: " + pa.profile + ", Id: " + pa.trackId:"none"});}}catch(Va){}try{Ua=this.j.dg;$a=this.j.Ye.value?this.j.Ye.value.framerate:0;Za=a(549).G3a;G.push({Framerate:$a.toFixed(3),"Current Dropped Frames":(0,l.Ea)(this.Gla)?this.Gla:"","Total Frames":Ua.vD(),"Total Dropped Frames":Ua.yH(),"Total Corrupted Frames":Ua.cW(),"Main Thread stall/sec":Za?Za.cIb().join(" "):"DISABLED",VideoDiag:(0,g.gsa)(this.j.l7()),"HDR support":this.Kpa?this.Kpa.result + " (" + this.Kpa.reason + ")":"unknown"});}catch(Va){}try{G.push({Throughput:this.j.Sa + " kbps"});}catch(Va){}cb=void 0;try{Object.entries(this.lVa).forEach(function(Va){var Qa;Qa=ba(Va);Va=Qa.next().value;Qa=Qa.next().value;cb=cb || ({});cb[Va]=JSON.stringify(Qa);});cb && G.push(cb);}catch(Va){}return G;};b.RJa=c;},function(r,b,a){var k,m,d,g;function c(h,l,n,q){this.ca=h;this.wYb=l;this.wa=n;this.pg=q;this.Sc={};}function f(h,l){this.cg=h;this.pg=l;this.Ic={};this.wa=h.mb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.wlb=b.TJa=void 0;r=a(1);k=a(0);m=a(7);d=a(19);g=a(5);f.prototype.FXb=function(h,l){this.Ic[h] && this.wa.warn("registerPlayback: xid " + h + " already registered, overriding");l=(l?l:this.pg.Zb()).da(g.la);this.wa.trace("registerPlayback: xid " + h + " at " + l);this.Ic[h]=new c(h,l,this.wa,this.pg);return this.Ic[h];};f.prototype.gJb=function(h){this.Ic[h] || this.wa.warn("getPlaybackMilestones: xid " + h + " is not registered");return this.Ic[h];};f.prototype.XXb=function(h){this.wa.trace("removePlayback: xid " + h);delete this.Ic[h];};a=f;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(m.ub)),r.__param(1,(0,k.l)(d.md))],a);b.TJa=a;c.prototype.bq=function(h,l){l=l?l.da(g.la):this.pg.Zb().da(g.la) - this.wYb;this.wa.trace("addMilestone: xid " + this.ca + " " + h + " at " + l);this.Sc[h]=l;};b.wlb=c;},function(r,b,a){var f,k,m,d;function c(g){this.Da=g;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.eLa=void 0;r=a(1);f=a(15);k=a(0);m=a(19);d=a(5);c.prototype.Gk=function(g){g.cause !== f.Pe.fy && (this.trace.unshift({time:this.Da.Zb(),event:g}),5 < this.trace.length && this.trace.pop());};c.prototype.M_a=function(){var g,h;g=this;if(0 === this.trace.length)return {};h=this.trace[0];return {timeSinceLastRepositionMs:this.Qbb(h.time),lastRepositionCause:this.OYa(h.event.cause),repositionTrace:this.trace.map(function(l){return {timeSince:g.Qbb(l.time),cause:g.OYa(l.event.cause),newMediaTime:l.event.O9,oldMediaTime:l.event.Mta,contentPts:l.event.nk,skip:l.event.skip};})};};c.prototype.Qbb=function(g){return this.Da.Zb().Ka(g).da(d.la);};c.prototype.OYa=function(g){switch(g){case f.Pe.fy:return "initial";case f.Pe.iC:return "seek";case f.Pe.SK:return "segment_changed";case f.Pe.a2:return "track_changed";case f.Pe.Q0:return "force_rebuffer";}};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(m.md))],a);b.eLa=a;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w,v,x;function c(y,z,A){var B;B=this;this.lb=y;this.j=z;this.debug=A;this.Mr=this.ji=this.uC=!1;this.A8=this.Nr=this.yn=void 0;this.Se=function(){var E,D,F,G,C,H;B.debug.assert(B.qa,"has access to asePlaygraph");B.debug.assert(B.jd,"has access to internalLogger");B.debug.assert(B.Ou,"has access to mediaBufferGetLogFields");if(B.yf.value !== f.sa.Hr && B.yf.value !== f.sa.nj){C=B.Oo;H=null === (D=null === (E=B.Rb.get()) || void 0 === E?void 0:E.Sa) || void 0 === D?void 0:D.Ha;E={type:"logdata",target:"startplay",fields:{hasasereport:B.j.bN,hashindsight:!1,buffCompleteReason:C.reason,actualbw:H,initSelReason:null !== (F=C.initSelReason) && void 0 !== F?F:"unknown",bcVBufferLevelMs:C.vBufferLevelMs,bcABufferLevelMs:C.aBufferLevelMs}};(0,h.sja)({lXa:E,zk:B.zk,loadTime:B.loadTime});B.qa.u_("startplay",m.ee.xp);null !== (G=B.Ia) && void 0 !== G && G.Zf?(B.jd.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:C},B.Ou()),B.j.Oo=C,B.j.Vr.set(l.Cf.te),B.SFb || (B.SFb=!0,B.j.Ed("pb")),B.play()):B.jd.error("Shim received buffering complete but player has no position (player " + (B.Ia?"":"un") + "defined, state " + B.j.state + ")");}};this.pU=function(){var E,D;B.debug.assert(B.jd,"has access to internalLogger");!1;B.yn=void 0;B.j.paused.value && B.nE && (B.nE=!1,B.j.paused.set(!1,{sta:!0}));null === (E=B.j.dg) || void 0 === E?void 0:E.Ixb();null === (D=B.XX) || void 0 === D?void 0:D.call(B);B.XX=void 0;};this.events=new x();this.lj=new v.Zfa(this.Dja.bind(this));}Object.defineProperty(b,"__esModule",{value:!0});b.dAa=void 0;f=a(42);k=a(17);m=a(301);d=a(63);g=a(3);h=a(1218);l=a(15);n=a(14);q=a(18);p=a(5);u=a(1219);t=a(93);w=a(80);v=a(517);x=a(116).EventEmitter;c.prototype.fd=function(){var y;this.Mr=!1;this.Rb.OP(null);this.debug.assert(this.Ei,"has access to streamingEngine");this.qa && this.Ei.jv(this.qa);this.Ia && this.Ei.pP(this.Ia);this.Ei.Wva(this.lj.Fm(this.lb.ja.S));this.lj.clear();null === (y=this.Aj) || void 0 === y?void 0:y.qq();};c.prototype.L_b=function(y){var z,A,B,E,D,F,G,C,H,K,M,I,Q;z=y.config;A=y.Pt;B=y.jd;E=y.se;D=y.Ou;F=y.aj;G=y.zZ;y=y.lJ;this.jd=B;this.Ou=D;this.zZ=G;this.lJ=y;D=this.j.ja;this.debug.assert(D,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(E,"has access to utils");this.debug.assert(F,"has access to getCategoryLog");this.debug.assert(A,"has access to aseGlobals");this.debug.assert(A.Ei,"has access to streamingEngine");this.debug.assert(D.oa,"has access to manifest");this.Ei=A.Ei;A.hf.set(a(184)(z),!0,F("ASE"));A.hf.set({maxNumberTitlesScheduled:null !== (H=null === (C=z.DVb) || void 0 === C?void 0:C.maxNumberTitlesScheduled) && void 0 !== H?H:1},!0,B);z.ryb && 3E5 > D.oa.Nb.duration?A.hf.hY({expandDownloadTime:!1},!0,B):A.hf.hY({expandDownloadTime:A.hf.h7a().expandDownloadTime},!0,B);z=D.background || z.BVb && "postplay" === D.Xd?"historical":A.hf.h7a().initBitrateSelectorAlgorithm;A.hf.hY({initBitrateSelectorAlgorithm:z},!0,B);z=null === (Q=null === (I=null === (M=null === (K=D.Ag) || void 0 === K?void 0:K.value) || void 0 === M?void 0:M.streams) || void 0 === I?void 0:I[0]) || void 0 === Q?void 0:Q.Lg;A.hf.hY((0,n.iUa)(! !D.cb.bj,! !D.cb.n8,z),!0,B);B=E.rI({},(0,n.ela)(D.Xd));this.hf=A.hf.Yt(B);f.platform.events.emit("networkchange",D.Tc.SZb);this.uC=!0;};c.prototype.V7=function(y){var z,A;this.debug.assert(this.Ei,"has access to streamingEngine");z=this.j.uk(y.ha);this.debug.assert(z.Tc,"has access to playback parsedManifest");A=y.flags;this.Rb.reset();this.Cd=new Set([f.Vb.Wa.Xb,f.Vb.Wa.Pb]);(A.WE || A.lU) && this.Cd.delete(A.WE?f.Vb.Wa.Xb:f.Vb.Wa.Pb);this.oQ=[z.Tc.JBb,z.Tc.TBb];this.XU(y.ha,y.Hw);this.rMb(y);this.wla();};c.prototype.EB=function(y){var z;null === (z=this.qa) || void 0 === z?void 0:z.EB(y);};c.prototype.bvb=function(y){var z,A,B,E;z=this;A=y.loadTime;B=y.zk;this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ia,"has access to asePlayer");this.zk=B;this.loadTime=A;y=this.qa.events;E=this.Ia.events;y.addListener("error",function(D){"NFErr_MC_StreamingFailure" === D.error && (z.jd.trace("receiving an unrecoverable streaming error: " + JSON.stringify(D)),z.jd.trace("StreamingFailure, buffer status:" + JSON.stringify(z.Ou())),(0,d.Xf)(function(){z.j.Ld(g.N.reb,{ta:D.nativeCode,yb:D.errormsg,tk:D.httpCode,J9:D.networkErrorCode});}));});y.addListener("logdata",function(D){var F;"string" === typeof D.target && "object" === typeof D.fields && (D.fields.aseApiVersion=null === (F=z.qa) || void 0 === F?void 0:F.EG,(0,h.sja)({lXa:D,zk:B,loadTime:A}));});y.addListener("bufferingStarted",function(){z.j.Vr.set(l.Cf.xd);});y.addListener("bufferingComplete",function(D){z.Oo=D;});this.j.paused.addListener(function(D){var F;z.debug.assert(z.jd,"has access to internalLogger");null !== (F=D.Am) && void 0 !== F && F.sta || !z.uC || (D.newValue && z.yf.value === f.sa.Lc?(z.yf.set(f.sa.qh),z.Dd.emit("paused",{type:"paused",pts:z.Dd.Cc})):D.newValue || z.yf.value !== f.sa.qh || (z.yf.set(f.sa.Lc),z.Dd.emit("playing",{type:"playing",pts:z.Dd.Cc})));D.newValue || (z.nE=!1);z.jd.info("Paused changed",{From:D.oldValue,To:D.newValue,MediaTime:(0,t.mj)(z.j.mediaTime.value)});});this.j.tc.addListener(function(D){var F,G,C,H;if(z.uC)if((z.debug.assert(z.jd,"has access to internalLogger"),D.Am && D.Am.xRa))z.jd.trace("Not processing already applied track",null === (F=D.newValue) || void 0 === F?void 0:F.trackId);else {H=D.newValue;z.eba({Dn:H.rA,toJSON:function(){return H.Uh;}})?z.jd.trace("ASE accepted the audio track switch",null === (C=D.newValue) || void 0 === C?void 0:C.trackId):(z.jd.trace("ASE rejected the audio track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.rA !== H.rA && z.j.tc.set(D.oldValue,{xRa:!0}));}});y.addListener("serverSwitch",function(D){var F;z.j.fireEvent(l.ea.wZ,D);if("video" === D.mediatype)F=f.Vb.Wa.Pb;else "audio" === D.mediatype && (F=f.Vb.Wa.Xb);(0,q.Zc)(F) && z.zZ(D.segmentId,D.server,F);});y.addListener("streamSelected",function(D){var F,G,C,H;G=(null === (F=z.qa) || void 0 === F?void 0:F.gA(D.position)).ym.U;F=[];if(D.mediaType === f.Vb.Wa.Pb){C=z.j.q0a(D.streamId);H=z.j.Ye;F=z.j.HH();}else D.mediaType === f.Vb.Wa.Xb && (C=z.j.e0a(D.streamId),H=z.j.th,F=z.j.KGb());C && H?(!1,H.set(C,{OG:G,uU:D.bandwidth})):z.jd.error("no matching stream for streamSelected event",{streamId:D.streamId,mediaType:D.mediaType,streamList:F,cachedManifest:z.j.MG});});y.addListener("segmentNormalized",function(D){var F,G;F=D.segmentId;G=Math.floor(D.viewableContentEnd.U);D=Math.floor(D.viewableEarliestContentEnd.U);G=(0,p.Nc)(G);D=(0,p.Nc)(D);if(F=z.j.uk(F))(F.xz=G,F.vQb=D);z.j.Xu || (z.j.Xu=G);});E.addListener("segmentPresenting",function(D){var F;z.debug.assert(z.qa,"has access to asePlaygraph");z.debug.assert(z.Ia,"has access to asePlayer");z.debug.assert(z.lJ,"has access to segmentPresentingHandler");F=z.qa.gA(D.position);z.lJ(F.S,!1);z.j.fireEvent(l.ea.kJ,{type:"segmentPresenting",position:{segmentId:D.position.ha,offset:D.position.offset},playerTimestamp:D.playerTimestamp,metrics:D.metrics});z.Nr=z.Ia.Sn();});E.addListener("ptsChanged",function(){z.Dd.emit("skipped");});y.addListener("locationSelected",function(D){z.j.fireEvent(l.ea.mX,D);});y.addListener("aseReportEnabled",function(){z.j.bN=!0;});y.addListener("aseReport",function(D){z.j.fireEvent(l.ea.jM,D);});};c.prototype.Sn=function(){var y,z,A,B,E,D,F,G,C;G=null === (y=this.Ia) || void 0 === y?void 0:y.w7();y=(null !== (z=this.Nr) && void 0 !== z?z:G && this.Ia.Sn()) || ({});z=y.H;G=y.Fe;C=y.qE;y=y.Gs;return {id:String(null === z || void 0 === z?void 0:z.id),Ee:null !== (A=null === G || void 0 === G?void 0:G.U) && void 0 !== A?A:0,gd:null !== (B=null === z || void 0 === z?void 0:z.Nf.U) && void 0 !== B?B:Infinity,Mc:null !== (E=null === z || void 0 === z?void 0:z.$i.U) && void 0 !== E?E:0,pe:null !== (D=null === C || void 0 === C?void 0:C.U) && void 0 !== D?D:Infinity,zd:null !== (F=null === y || void 0 === y?void 0:y.U) && void 0 !== F?F:0};};c.prototype.F6=function(){return {Ee:0};};c.prototype.W7=function(){var y,z;this.debug.assert(this.qa,"has access to asePlaygraph");y={};z=this.qa.Qw();y.vbuflmsec=z.totalvbuflmsecs;y.vbuflbytes=z.vbuflbytes;y.abuflmsec=z.totalabuflmsecs;y.abuflbytes=z.abuflbytes;return y;};c.prototype.paused=function(){};c.prototype.Eua=function(){this.Dd.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.Dd.Cc});};c.prototype.oU=function(y,z){var A;this.debug.assert(this.j.oa,"has access to playback manifest");A=this.oQ[f.Vb.Wa.Xb];return y.K === this.j.oa.Nb.K?A:this.zFb(this.j.oa.Nb.Qt[A],z);};c.prototype.zFb=function(y,z){var A,B,E;this.debug.assert(this.jd,"has access to internalLogger");!1;A=z.filter(function(D){return D.profile === y.profile;}).sort(function(D,F){var G,C,H;G="zxx" === D.language || "zxx" === F.language?0:D.language.localeCompare(F.language);if(0 === G){D=(null !== (C=D.dc) && void 0 !== C?C:0) - (null !== (H=F.dc) && void 0 !== H?H:0);}else D=G;return D;});B=0;E=ba(A).next().value;E && z.some(function(D,F){if(D === E)return (B=F,!0);});!1;return B;};c.prototype.eba=function(y){var z,A,B,E;z=this;this.debug.assert(this.jd,"has access to internalLogger");this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ia,"has access to asePlayer");this.debug.assert(this.j.oa,"has access to playback manifest");if(this.PJ)return (!1,!1);if(!this.j.oa.Nb.audio_tracks.some(function(D,F){if(D.track_id === y.Dn)return (E=F,!0);}))return (!1,!1);!1;this.yn=E;null === (A=this.j.dg) || void 0 === A?void 0:A.M0b();(null === (B=this.Ia) || void 0 === B?0:B.xB)?this.nE=!1:n.config.xUb && !this.j.paused.value && (this.Ia.pause([f.Vb.Wa.Xb]),this.nE=!0,this.j.paused.set(!0,{sta:!0}));this.debug.qja(this.yn,"has access to valid requestedAudioTrackIndex number");this.oQ[f.Vb.Wa.Xb]=this.yn;(this.qa.EE({Rs:this.oU.bind(this)},{Rs:function(){return z.oQ[f.Vb.Wa.Pb];}}) || this.nE) && this.Ia.resume(this.nE?[f.Vb.Wa.Xb]:void 0);this.sr(this.pU);return !0;};c.prototype.oo=function(){var y;this.yf.set(f.sa.Tf);null === (y=this.qa) || void 0 === y?void 0:y.u_("intrplay",m.ee.oo);this.Dd.emit("underflow",{type:"underflow",pts:this.Dd.Cc});this.sr(this.Se);};c.prototype.fr=function(y,z){this.IB.fr(y,z);};c.prototype.open=function(){this.Mr || (this.debug.assert(this.qa,"has access to asePlaygraph"),this.debug.assert(this.Ia,"has access to asePlayer"),this.Mr=this.ji=!0,this.qa.open(),this.debug.assert(this.Ex,"invalid start position relative to playgraph"),this.qa.oB(this.Ex),this.yf.set(f.sa.xd),this.sr(this.Se),this.qa.hU(this.Ia),this.cPb());};c.prototype.play=function(){this.debug.assert(this.qa,"has access to asePlaygrah");this.debug.assert(this.Ia,"has access to asePlayer");0 !== this.qa.state && (this.Ia.resume(this.nE?[f.Vb.Wa.Xb]:void 0),this.yf.set(f.sa.Lc),this.Dd.emit("playing",{type:"playing",pts:this.Dd.Cc}));};c.prototype.stop=function(){var y;this.yf.set(f.sa.Hr);null === (y=this.Ia) || void 0 === y?void 0:y.pause();this.events.emit("stop");this.Dd.emit("paused",{type:"paused",pts:this.Dd.Cc});};c.prototype.flush=function(){this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ei,"has access to streamingEngine");this.Mr && this.yf.value !== f.sa.nj && this.yf.value !== f.sa.Hr && this.stop();this.qa.u_("endplay",m.ee.tq);this.qa.rf();this.Ei.Th.save();this.Ei.Wn.save();};c.prototype.Xt=function(y){var z;this.debug.assert(this.qa,"has access to asePlaygraph");z=f.O.Na(y);return (z=this.qa.pp(z,{xab:!0,wab:!0}))?this.qa.ma.V[z.ha].Aa + Number(z.offset.U.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + y);};c.prototype.IM=function(y,z){this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.jd,"has access to internalLogger");this.qa.ma.V[y] || (y=this.NV(z));this.debug.d4(y,"has access to segmentId");y={ha:y,offset:f.O.Na(z - this.qa.ma.V[y].Aa)};if(y=this.qa.JH(y))return y.U;!1;return z;};c.prototype.nka=function(y,z){var A,B,E;this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ia,"has access to asePlayer");z && this.qa.ma.V[z] || (z=null !== (A=this.NV(y)) && void 0 !== A?A:null === (B=this.Ia) || void 0 === B?void 0:B.Wi.ha);z=this.j.uk(z);y={ym:f.O.Na(y),S:z.K};return null === (E=this.qa.Em(y)) || void 0 === E?void 0:E.gd;};c.prototype.Mz=function(y){var z;z=void 0 === z?!0:z;this.ji?Number.isFinite(y) && (this.debug.assert(this.Ia,"has access to asePlayer"),z?this.Ia.BZ(y):this.Ia.dxa(y)):this.fail("Must call open prior to drmReady");};c.prototype.v7=function(){var y;return null !== (y=this.Ia) && void 0 !== y && y.Zf?this.Ia.hp(this.lb.ja.S):!1;};c.prototype.Ti=function(y){!1;return this.Ia?this.Ia.Ti(f.O.Na(y)):(!1,!1);};c.prototype.Qs=function(y,z){var A;this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ia,"has access to asePlayer");z && this.qa.ma.V[z] || (z=null !== (A=this.NV(y)) && void 0 !== A?A:this.lb.$g);this.debug.d4(z,"has access to segmentId");this.debug.assert(this.qa.ma.V[z],"segment exists in playgraph map");y={ha:z,offset:f.O.Na(y - this.qa.ma.V[z].Aa)};this.qa.oB(y);this.Ia.resume();this.yf.set(f.sa.xd);this.sr(this.Se);y=this.qa.raa(y);this.debug.assert(y,"Valid position must be provided for seek");return y.offset.U;};c.prototype.addEventListener=function(y,z){this.events.addListener(y,z);return this;};c.prototype.removeEventListener=function(y,z){this.events.removeListener(y,z);return this;};c.prototype.uQ=function(y,z){var A;A={};this.qa.Fi((A[y]=z,A));};c.prototype.Yr=function(y,z){var A,B;this.debug.assert(this.jd,"has access to internalLogger");this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ia,"has access to asePlayer");A=this.Sn().id;B=this.qa.GN(A,y);if(z){if(!B.Adb)return (this.jd.warn("chooseNextSegment, seamless transition, invalid destination: " + (y + " for current segment: " + A)),!1);if(void 0 !== B.IO)return (!1,B.IO === y);this.qa.Di(A,y,!1,z);return !0;}if(void 0 !== B.IO)return (!1,!1);B.rM && (this.Ia.reset(),this.qa.Di(A,y,!1,z),this.Ia.resume(),this.yf.set(f.sa.xd),this.sr(this.Se));return ! !B.rM;};c.prototype.Di=function(y,z,A,B){this.debug.assert(this.qa,"has access to asePlaygraph");this.qa.Di(y,z,A,B);};c.prototype.lo=function(){var y;this.debug.assert(this.jd,"has access to internalLogger");y=this.Dd.Cc;!1;this.Dd.emit("skipped",{type:"skipped",pts:y});return new f.RF(Promise.resolve()).twa;};c.prototype.NV=function(y){var z,A,B,E,D,F,G,C,H;this.debug.assert(this.qa,"has acccess to asePlaygraph");this.debug.assert(this.jd,"has acccess to internalLogger");z=this.qa.ma;A=[];B=Infinity;for(E in z.V){D=z.V[E];F=D.Aa;D=D.Ba;G=F <= y;C=y < Number(null !== D && void 0 !== D?D:Infinity);!1;if(G && C)(!1,A.push(E));else if((F=Math.min(Math.abs(y - F),Math.abs(y - D)),F < B)){B=F;H=E;}}y=A[0] || H;this.debug.d4(y,"has access to locatedSegmentId");!1;return y;};c.prototype.cPb=function(){var y,z;y=this;this.debug.assert(this.j.$b,"has acccess to mediaElement");z=this.j.$b.Z;this.debug.assert(z,"has acccess to videoElement");z.addEventListener("play",function(){y.yf.value === f.sa.qh && (y.yf.set(f.sa.Lc),y.Dd.emit("playing",{type:"playing",pts:y.Dd.Cc}));});z.addEventListener("pause",function(){y.yf.value === f.sa.Lc && (y.yf.set(f.sa.qh),y.Dd.emit("paused",{type:"paused",pts:y.Dd.Cc}));});};c.prototype.fail=function(y){var z;null === (z=this.qa) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:y});};c.prototype.sr=function(y){var z,A,B,E,D,F,G,C;z=this;if(y !== this.pU && this.PJ)this.XX=y;else {C=!0 === (null === (A=this.Ia) || void 0 === A?void 0:A.MA.value);A=(null === (B=this.qa) || void 0 === B?void 0:B.Gf.value) === f.Kc.oj;null === (E=this.Ia) || void 0 === E?void 0:E.MA.removeListener(this.z4a);null === (D=this.qa) || void 0 === D?void 0:D.Gf.removeListener(this.SSa);C && A?y():(this.z4a=function(){return z.sr(y);},this.SSa=function(){return z.sr(y);},null === (F=this.Ia) || void 0 === F?void 0:F.MA.addListener(this.z4a),null === (G=this.qa) || void 0 === G?void 0:G.Gf.addListener(this.SSa));}};c.prototype.vYa=function(y){var z,A;z=this;y=this.j.uk(y);return Promise.resolve(null !== (A=y.oa) && void 0 !== A?A:this.sva(y)).then(function(B){B=B.Nb;return {oa:B,Vi:B.Gpa && !B.LH,config:z.hf,Cd:[].concat(ha(z.Cd))};});};c.prototype.sva=function(y){var z,A,B,E,D;z=this;B=Promise.resolve();if(y.tj){E=y.tj.kY;(D=null === (A=this.j.yD(E).oa) || void 0 === A?void 0:A.Nb)?y.tj.q$=D:B=this.lj.Fm(E).qr.then(function(F){return F.oa;}).then(function(F){y.tj.q$=F;}).catch(function(){z.j.Ld(g.N.DK,g.M.Deb);});}return B.then(function(){return z.j.sva(y);}).then(function(){z.j.NVb(y);return y.oa;});};c.prototype.Dja=function(y,z){this.debug.assert(this.A8,"Auxiliary viewable config request needs to happen after main viewable");this.debug.assert(void 0 !== this.A8.ca,"Auxiliary viewable xid is the same as main viewable, needs to be defined");this.j.CAb(y,z,this.A8.ca);};c.prototype.XU=function(y,z){var A,B,E,D,F;A=this;this.debug.assert(this.Ei,"has access to streamingEngine");B=this.j.uk(y);E=B.tj;D={S:B.K,Si:null === E || void 0 === E?void 0:E.Si};this.A8=z;if(!this.lj.has(D)){this.lj.store(D,{qka:function(){},equals:function(G){return G.S === D.S && (z.ca === G.ca || !G.ca || !z.ca);},get qr() {F || (F=A.vYa(y));return F;},set qr(G) {F=G;},events:new k.EventEmitter(),ca:z.ca,S:D.S,hu:!1,lbb:!1});this.hf.Pz && this.Ei.DE(this.lj.Fm(D.S,E?{l4:{Si:E.Si,kY:E.kY}}:void 0),{ca:z.ca,Ds:z.Ds,mD:z.Oz});}};c.prototype.Nx=function(y){var z,A;this.debug.assert(this.Ei,"has access to streamingEngine");z=this.j.uk(y);A=z.tj;z={S:z.K,Si:null === A || void 0 === A?void 0:A.Si};A=this.lb.lf(y).S;if(!this.lj.has(z))return Promise.resolve();z=this.lj.Fm(A);z.qr=this.vYa(y);return this.Ei.Nx(z);};c.prototype.GN=function(y){var z;this.debug.assert(this.Ia,"has access to asePlayer");this.debug.assert(this.qa,"has access to asePlaygraph");return this.qa.GN(null === (z=this.Ia.Sn().H) || void 0 === z?void 0:z.id,y);};c.prototype.rMb=function(y){var z,A,B;z=this;A=y.Hw;B=y.ha;this.debug.assert(this.Ei,"has access to streamingEngine");this.debug.assert(this.jd,"has access to internalLogger");y=this.j.uk(B);y=this.lb.c7(y);B=y.V[B];this.debug.assert(B,"segment exists");this.Ex=(0,u.tW)(B.S,y,this.j.$,B.Aa);A=Object.create(this.hf,{Oz:{value:A.Oz}});this.yf=new w.ec(f.sa.Gh);this.qa=this.Ei.BG(y,this.hf.A7a,A,this.lj);this.IB=new f.TF(this.jd);A=this.qa.hD(this.IB);y=this.qa.gD();this.qa.Laa(y,A);this.qa.EE({Rs:function(){return z.oQ[f.Vb.Wa.Xb];}},{Rs:function(){return z.oQ[f.Vb.Wa.Pb];}});this.nE=!1;};c.prototype.wla=function(){var y,z;y=this;this.debug.assert(this.Ei,"has access to streamingEngine");z=Object.create(this.hf,{Cd:{value:[].concat(ha(this.Cd))},mW:{value:function(){return y.Z6();}}});this.Dd=Object.create(new k.EventEmitter(),{Cc:{get:function(){y.debug.qja(y.j.mediaTime.value,"has access to mediaTime.value");return f.O.Na(y.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(y.j.playbackRate.value,.01);}},lW:{value:function(){y.debug.assert(y.j.$b,"has access to mediaElement");return y.j.$b;}}});this.Ia=this.Ei.bRa(this.Dd,z);};c.prototype.Z6=function(){this.Aj || (this.Aj=new f.platform.MediaSource(this.Dd),this.Aj.Rc || (this.Aj.Rc=f.platform.MediaSource.Rc));return this.Aj;};Ya.Object.defineProperties(c.prototype,{PJ:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.yn;}},Rb:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.Ei,"has access to streamingEngine");return this.Ei.Rb;}},Kg:{configurable:!0,enumerable:!0,get:function(){var y,z;return null === (z=null === (y=this.qa) || void 0 === y?void 0:y.Kg) || void 0 === z?void 0:z.ma;}},VTa:{configurable:!0,enumerable:!0,get:function(){var y;return null === (y=this.Ia) || void 0 === y?void 0:y.yqa;}},iBb:{configurable:!0,enumerable:!0,get:function(){var y,z,A;if(null === (y=this.VTa) || void 0 === y?0:y.Zf){A=(y=this.VTa.Wi) && (null === (z=this.Kg) || void 0 === z?void 0:z.V[y.ha]);if(A)return {ym:f.O.Na(y.offset.U + A.Aa),S:A.S};}if(this.j.YU)return {ym:f.O.Na(this.j.YU),S:this.j.Az};}}});b.dAa=c;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.sja=void 0;c=a(18);b.sja=function(f){var k,m,d,g;k=f.zk;m=f.loadTime;f=f.lXa;d=(0,c.Ea)(m)?m:0;g=k[f.target] || ({});k[f.target] !== g && (k[f.target]=g);Object.entries(f.fields).forEach(function(h){var l,n,q,p;l=ba(h);h=l.next().value;l=l.next().value;if("object" !== typeof l || null === l)g[h]=l;else {n=l.type;if("count" === n)(void 0 === g[h] && (g[h]=0),++g[h]);else if(void 0 !== l.value){if("array" === n){n=g[h];q=l.adjust;p=l.value;n || (n=g[h]=[]);q && 0 < q.length && q.forEach(function(u){p[u]-=d || 0;});n.push(p);}else g[h]="sum" === n?(g[h] || 0) + l.value:l.value;}else g[h]=l;}});};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.tW=void 0;c=a(42);f=a(22);b.tW=function(k,m,d,g){return m.V[m.Pd].Aa === g?(k=(0,c.FM)(m,k,c.O.Na(d)),(0,f.jb)(k,"has valid start position relative to playgraph"),k):{ha:m.Pd,offset:c.O.eb};};},function(r,b,a){var f,k,m,d,g,h,l;function c(n,q,p,u,t,w,v,x,y,z){var A;A=this;this.Z2b=n;this.j=q;this.id=p;this.height=u;this.width=t;this.PUb=w;this.QUb=v;this.size=x;this.zu=y;this.urls=z;this.type=f.Ki.Eya;this.retry=!0;this.state=g.Op.v1;this.Uh={};this.f4={};this.yWb=function(B){if(B.aa)try{A.data=A.Z2b.parse(B.content);A.state=g.Op.qF;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.Uh);A.j.fireEvent(h.ea.s_);}catch(E){A.state=g.Op.jIa;A.log.error("TrickPlay parse failed.",E);}else (A.state=g.Op.v1,A.log.error("TrickPlay download failed.",(0,l.Iv)(B),A.Uh));};this.log=(0,m.Qh)(q,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.SMa=void 0;f=a(91);k=a(14);m=a(8);d=a(74);g=a(526);h=a(15);l=a(3);c.prototype.WHb=function(n){if(this.data && (this.zu && (n+=this.zu),n=Math.floor(n / this.data.header.Ubb),0 <= n && n < this.data.images.length))return {image:this.data.images[n],time:n * this.data.header.Ubb,height:this.height,width:this.width,pixelAspectHeight:this.PUb,pixelAspectWidth:this.QUb};};c.prototype.g7=function(){switch(this.state){case g.Op.qF:return "downloaded";case g.Op.LOADING:return "loading";case g.Op.TR:return "downloadfailed";case g.Op.jIa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var n;n=this.eKb();n?(this.state=g.Op.LOADING,this.XCb(n)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.eKb=function(){var n,q,p;n=this;q=Object.keys(this.urls).find(function(u){return (n.f4[n.urls[u]] || 0) <= k.config.V2b;});if(q){p=this.urls[q];(p in this.f4)?this.f4[p]++:this.f4[p]=1;return {url:p,cD:q};}};c.prototype.XCb=function(n){this.log.trace("Downloading",n.url,this.Uh);n={responseType:d.HW,uc:this.coa(n.cD),url:n.url,track:this};this.j.F7.download(n,this.yWb);};c.prototype.coa=function(n){return this.j.vj.find(function(q){return q && q.id === n;});};b.SMa=c;},function(r,b,a){var f;function c(k,m,d,g){this.jma=k;this.debug=m;this.Da=d;this.j=g;this.p$=[];this.D9={};this.lma={};this.rna=!1;this.ybb=1;this.yAa=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.DCa=void 0;f=a(5);a(15);a(18);a(74);c.prototype.register=function(k,m){this.debug.assert(!(0 <= this.p$.indexOf(k)),"panel already registered");this.D9[k]=m;this.p$.push(k);};c.prototype.Q5a=function(k){var m;m=this;this.lma[k]=!0;this.rna || (this.rna=!0,setTimeout(function(){return m.LFb();},0));};c.prototype.GIb=function(k){return (k=this.D9[k])?k():void 0;};c.prototype.hW=function(){var k;k=this.j.A$;return k?k.hW():[];};c.prototype.addEventListener=function(k,m){this.jma.addListener(k,m);this.D9[k] && this.Q5a(k);};c.prototype.removeEventListener=function(k,m){this.jma.removeListener(k,m);};c.prototype.getTime=function(){return this.Da.Zb().da(f.la);};c.prototype.LFb=function(){this.rna=!1;for(var k=this.p$.length,m;k--;){m=this.p$[k];this.lma[m] && (this.lma[m]=!1,this.jma.Hc(m + "changed",{getModel:this.D9[m]}));}};b.DCa=c;},function(r,b,a){var f,k,m,d,g,h,l;function c(n,q){var p;p=this;this.Om=n;this.hs=q;this.dcb=function(u){var t,w,v,x,y,z,A;t=p.ybb++;w=u.request.jD || "dl";v=p.S_a(w,"start");if(v){x=u.request.NA;y=x.stream.R.qp;x=ba(x.stream.R.ii).next().value;if(y || x)if((y=null !== y && void 0 !== y?y:x.H.id,!p.Oab.has(y))){z=p.n_a(y);A=u.Ks;p.Om.mark(v,z,A?w + "-" + A + "-" + t:w);u.Gia(function(){var B,E;B=p.S_a(w,"end");E=A?w + "-" + A + "-" + t:w;B && p.Om.mark(B,z,E);});}}};this.ybb=0;this.Oab=new Set();this.Nwa=new Map();q.CV && this.q5b();}Object.defineProperty(b,"__esModule",{value:!0});b.EHa=void 0;r=a(1);f=a(0);k=a(64);m=a(71);d=a(5);g=a(74);a=a(41);h={start:{video:k.Ma.cR,audio:k.Ma.ZQ},end:{video:k.Ma.bR,audio:k.Ma.YQ}};c.prototype.o_a=function(n){var p,u,t,w,v,x,y,z;function q(A){return (0,d.timestamp)(p.pRa((0,d.timestamp)(A),n,!0));}p=this;u=new Set();t=n.Sc;w=n.ca;v=void 0 === n.Iab?null:n.Iab;x=n.ha;y=this.Om.SZa(w);z=x && this.n_a(x);z && y.push.apply(y,ha(this.Om.SZa(z)));this.Om.X8a(n.ca);z && this.Om.X8a(z);x && this.Oab.add(x);x=[];("pr_ats" in t) && x.push({name:k.Ma.M1,Zs:q(t.pr_ats),ca:w,Mg:"request-pre-manifest"});("ats" in t) && x.push({name:k.Ma.K1,Zs:q(t.ats),ca:w,Mg:"request-manifest"});("pr_at" in t) && x.push({name:k.Ma.L1,Zs:q(t.pr_at),ca:w,Mg:"request-pre-manifest"});("at" in t) && x.push({name:k.Ma.J1,Zs:q(t.at),ca:w,Mg:"request-manifest"});("lg" in t) && x.push({name:k.Ma.I1,Zs:q(t.lg),ca:w,Mg:"request-license"});("lr" in t) && (x.push({name:k.Ma.H1,Zs:q(t.lr),ca:w,Mg:"request-license"}),x.push({name:k.Ma.Y_,Zs:q(t.lr),ca:w,Mg:"apply-license"}));("ld" in t) && x.push({name:k.Ma.X_,Zs:q(t.ld),ca:w,Mg:"apply-license"});("tt_start" in t) && x.push({name:k.Ma.aR,Zs:q(t.tt_start),ca:w,Mg:"request-timed-text"});("tt_comp" in t) && x.push({name:k.Ma.$Q,Zs:q(t.tt_comp),ca:w,Mg:"request-timed-text"});return x.concat(y).map(function(A){return p.q2b(A,n);}).filter(function(A){return A.ts <= (null !== v && void 0 !== v?v:A.ts)?("end" === A.step && u.add(A.eventId),!0):!1;}).filter(function(A){return "start" !== A.step || u.has(A.eventId)?!0:!1;}).sort(function(A,B){return A.ts - B.ts;}).reduce(function(A,B){var E;E=B.eventName;delete B.eventName;E && (A[E]=B);return A;},{});};c.prototype.itb=function(n,q,p){return (void 0 === p?0:p)?n.da(d.la) + q.ej.da(d.la):n.da(d.la) - q.ej.da(d.la);};c.prototype.pRa=function(n,q,p){p=void 0 === p?!1:p;if(q.Zm)if(p)n.da(d.la) + q.Zm;else return n.da(d.la) - q.Zm;return this.itb(n,q,p);};c.prototype.q2b=function(n,q){var p,u;p=n.Mg;u=n.name;return {eventName:this.cSb(u,p),eventId:p || u,ts:this.pRa(n.Zs,q),comp:this.bW(u),cat:this.fHb(u),step:this.PJb(u)};};c.prototype.cSb=function(n,q){switch(n){case k.Ma.aR:case k.Ma.$Q:case k.Ma.ZQ:case k.Ma.YQ:case k.Ma.cR:case k.Ma.bR:return n + "-" + q;default:return n;}};c.prototype.bW=function(n){switch(n){case k.Ma.M1:case k.Ma.L1:case k.Ma.K1:case k.Ma.J1:return "manifest";case k.Ma.I1:case k.Ma.H1:case k.Ma.zfa:case k.Ma.yfa:case k.Ma.T0:case k.Ma.S0:case k.Ma.Y_:case k.Ma.X_:return "license";case k.Ma.aR:case k.Ma.$Q:case k.Ma.ZQ:case k.Ma.YQ:case k.Ma.cR:case k.Ma.bR:case k.Ma.eca:case k.Ma.dca:return "buffering";case k.Ma.Eea:case k.Ma.Dea:return "playback";default:return null;}};c.prototype.fHb=function(n){switch(n){case k.Ma.M1:case k.Ma.L1:case k.Ma.K1:case k.Ma.J1:return "aws";case k.Ma.I1:case k.Ma.H1:return "mixed";case k.Ma.Eea:case k.Ma.Dea:case k.Ma.zfa:case k.Ma.yfa:case k.Ma.T0:case k.Ma.S0:case k.Ma.Y_:case k.Ma.X_:case k.Ma.eca:case k.Ma.dca:return "device";case k.Ma.aR:case k.Ma.$Q:case k.Ma.ZQ:case k.Ma.YQ:case k.Ma.cR:case k.Ma.bR:return "cdn";default:return null;}};c.prototype.PJb=function(n){switch(n){case k.Ma.M1:case k.Ma.Eea:case k.Ma.K1:case k.Ma.I1:case k.Ma.eca:case k.Ma.aR:case k.Ma.ZQ:case k.Ma.cR:case k.Ma.zfa:case k.Ma.T0:case k.Ma.Y_:return "start";case k.Ma.L1:case k.Ma.Dea:case k.Ma.J1:case k.Ma.H1:case k.Ma.yfa:case k.Ma.S0:case k.Ma.X_:case k.Ma.dca:case k.Ma.$Q:case k.Ma.YQ:case k.Ma.bR:return "end";default:return null;}};c.prototype.S_a=function(n,q){if((n in h[q]))return h[q][n];};c.prototype.w3b=function(){g.mf.removeEventListener(g.C7,this.dcb);};c.prototype.q5b=function(){this.w3b();g.mf.addEventListener(g.C7,this.dcb);};c.prototype.n_a=function(n){var q;if(this.Nwa.has(n))return this.Nwa.get(n);q=Date.now();this.Nwa.set(n,q);return q;};l=c;l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.dS)),r.__param(1,(0,f.l)(a.kn))],l);b.EHa=l;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E,D,F,G,C,H,K,M,I,Q,L,J,N,O,P,S;Object.defineProperty(b,"__esModule",{value:!0});b.XTa=void 0;r=a(0);c=a(490);f=a(1224);k=a(104);m=a(1225);d=a(501);g=a(1226);h=a(503);l=a(1227);n=a(504);q=a(1228);p=a(291);u=a(1229);t=a(88);w=a(1230);v=a(1231);x=a(40);y=a(3);z=a(1232);A=a(1233);B=a(1234);E=a(54);D=a(1235);F=a(552);G=a(1236);C=a(1237);H=a(1238);K=a(487);M=a(1239);I=a(1240);Q=a(1241);L=a(423);J=a(1242);N=a(72);O=a(551);P=a(1243);S=a(1244);b.XTa=new r.rd(function(U){U(E.pn).to(D.MIa);U(c.aJa).to(f.$Ia);U(F.HIa).to(G.GIa);U(K.JIa).to(M.IIa);U(C.qlb).to(H.eJa);U(k.Oea).to(m.bJa);U(O.cJa).Af(function(Z){return function(){var ja;ja=Z.fb.get(N.Qv);return ja && ja.vdb?Z.fb.resolve(S.wJa):Z.fb.resolve(P.dJa);};});U(d.FIa).to(g.EIa);U(h.tJa).to(l.sJa);U(n.VIa).to(q.UIa);U(p.Nea).to(u.WIa);U(t.ZLa).to(w.YLa);U(t.cMa).to(v.bMa);U(t.IFa).to(z.HFa);U(t.ULa).to(A.TLa);U(t.yDa).to(B.xDa);U(Q.rlb).to(I.fJa);U(L.TIa).to(J.SIa);U(t.pda).Af(function(Z){return function(ja){switch(ja){case t.Hp.start:return Z.fb.get(t.ZLa);case t.Hp.stop:return Z.fb.get(t.cMa);case t.Hp.$W:return Z.fb.get(t.IFa);case t.Hp.splice:return Z.fb.get(t.ULa);case t.Hp.gN:return Z.fb.get(t.yDa);}throw new x.od(y.N.Dkb,void 0,void 0,void 0,void 0,"The event key was invalid - " + ja);};});});},function(r,b,a){var f,k,m,d,g;function c(h){return d.Ji.call(this,h,k.N.ojb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ia=void 0;r=a(1);f=a(0);k=a(3);m=a(68);d=a(75);a=a(54);na(c,d.Ji);c.prototype.tg=function(h,l){var n;n=this;return this.send(h,{url:"/" + m.Bg.Ura,name:m.Bg.Ura,up:m.Bg.Ura},l).then(function(q){return q.result;}).catch(function(q){throw n.Pn(q);});};c.prototype.yq=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};g=c;g=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.pn))],g);b.$Ia=g;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u;function c(t,w,v,x,y){t=d.Ji.call(this,t,k.N.DK,3) || this;t.platform=w;t.rX=v;t.HOb=x;t.TPb=y;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.bJa=void 0;r=a(1);f=a(104);k=a(3);m=a(68);a(192);d=a(75);g=a(54);h=a(35);l=a(41);n=a(133);q=a(291);p=a(0);a=a(551);na(c,d.Ji);c.prototype.tg=function(t,w){var v,x,y,z;v=this;x=w.ou === f.nn.IF?"prefetch/manifest":m.Bg.oa;y=m.Bg.oa;z=w.ou === f.nn.S1?l.Nv.BKa:l.Nv.sS;return this.TPb().transform(w,z).then(function(A){var B,E;A=ba(A);B=A.next().value;E=A.next().value;!1;"licensedManifest" === E.Gn && (x=w.ou === f.nn.IF?"prefetch/licensedManifest":"licensedManifest",y=m.Bg.IOb);return v.send(t,{url:E.Gn,name:y,up:x},B,void 0,void 0,z).then(function(D){var F;D=v.rX.create(D.result);F=D.Nb.JB.map(function(G){return G.bh;}).filter(Boolean);E.Lz && (0 < F.length?(F=v.HOb.jcb(F),E.Lz.VQa(F),D.Lz=E.Lz,D.W1a=w.ou === f.nn.IF,D.V1a=!0):E.Lz.close());!1;return D;});}).catch(function(A){!1;throw v.Pn(A);});};c.prototype.yq=function(){return Promise.reject(Error("Links are not supported with manifest command"));};u=c;u=r.__decorate([(0,p.T)(),r.__param(0,(0,p.l)(g.pn)),r.__param(1,(0,p.l)(h.Cl)),r.__param(2,(0,p.l)(n.GK)),r.__param(3,(0,p.l)(q.Nea)),r.__param(4,(0,p.l)(a.cJa))],u);b.bJa=u;},function(r,b,a){var f,k,m,d,g;function c(h){return d.Ji.call(this,h,k.N.AK,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.EIa=void 0;r=a(1);f=a(0);k=a(3);m=a(68);d=a(75);a=a(54);na(c,d.Ji);c.prototype.tg=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.yq=function(h,l,n){var q;q=this;l={url:l.jW(n.c3a).href,name:m.Bg.bh,up:"ldl" === n.c3a?"prefetch/license":m.Bg.bh};return this.send(h,l,n.inputs,"drmSessionId").then(function(p){p=p.result;q.Iwb(p);return p;}).catch(function(p){throw q.Pn(p);});};c.prototype.Iwb=function(h){h.forEach(function(l){if(!l.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};g=c;g=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.pn))],g);b.EIa=g;},function(r,b,a){var f,k,m,d,g;function c(h){return d.Ji.call(this,h,k.N.tfa,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.sJa=void 0;r=a(1);f=a(0);k=a(3);m=a(68);d=a(75);a=a(54);na(c,d.Ji);c.prototype.tg=function(h,l){var n;n=this;return this.send(h,{url:"/bundle",name:m.Bg.bh,up:"release/license"},l).then(function(q){return q.result;}).catch(function(q){throw n.Pn(q);});};c.prototype.yq=function(){return Promise.reject(Error("Links are unsupported with release"));};g=c;g=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.pn))],g);b.sJa=g;},function(r,b,a){var f,k,m;function c(d){this.za=d;}Object.defineProperty(b,"__esModule",{value:!0});b.UIa=void 0;r=a(1);f=a(0);k=a(38);m=a(5);c.prototype.O2b=function(d){var g;g=this.za.jf.da(m.zo);return {inputs:d.lk.map(function(h){return {drmSessionId:h.sessionId,clientTime:g,challengeBase64:h.dataBase64,xid:d.ca.toString(),mdxControllerEsn:d.yX};}),c3a:"standard" === d.ag.toLowerCase()?"license":"ldl"};};c.prototype.R2b=function(d){var g,h;g=this;h=[];return d.xe.map(function(l){h.push(l.id);return {url:g.zvb(l.gI,l.jX),echo:"drmSessionId",params:{drmSessionId:l.id,xid:d.ca.toString()}};});};c.prototype.zvb=function(d,g){return "/releaseLicense?drmLicenseContextId=" + d + (g?"&licenseId=" + g:"");};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.di))],a);b.UIa=a;},function(r,b,a){var f,k,m;function c(d,g){this.de=d;this.gz=g;}Object.defineProperty(b,"__esModule",{value:!0});b.WIa=void 0;r=a(1);f=a(0);k=a(29);a=a(36);c.prototype.jcb=function(d){var g,h;g=this;h=d.map(function(l){return l.links.releaseLicense.href;}).map(function(l){return g.de.lY(l.substring(l.indexOf("?") + 1));});return {aa:!0,xe:d.map(function(l,n){return {id:l.drmSessionId,gI:h[n].drmlicensecontextid,jX:h[n].licenseid};}),xj:d.map(function(l){return {data:g.gz.decode(l.licenseResponseBase64),sessionId:l.drmSessionId};})};};m=c;m=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.jg)),r.__param(1,(0,f.l)(a.Ii))],m);b.WIa=m;},function(r,b,a){var f,k,m,d,g;function c(h){return m.wr.call(this,h,k.N.$lb,d.Hp.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.YLa=void 0;r=a(1);f=a(0);k=a(3);m=a(165);d=a(88);a=a(54);na(c,m.wr);g=c;g=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.pn))],g);b.YLa=g;},function(r,b,a){var f,k,m,d,g;function c(h){return m.wr.call(this,h,k.N.rLa,d.Hp.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.bMa=void 0;r=a(1);f=a(0);k=a(3);m=a(165);d=a(88);a=a(54);na(c,m.wr);g=c;g=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.pn))],g);b.bMa=g;},function(r,b,a){var f,k,m,d,g;function c(h){return m.wr.call(this,h,k.N.Pda,d.Hp.$W,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.HFa=void 0;r=a(1);f=a(0);k=a(3);m=a(165);d=a(88);a=a(54);na(c,m.wr);g=c;g=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.pn))],g);b.HFa=g;},function(r,b,a){var f,k,m,d,g;function c(h){return m.wr.call(this,h,k.N.pLa,d.Hp.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.TLa=void 0;r=a(1);f=a(0);k=a(3);m=a(165);d=a(88);a=a(54);na(c,m.wr);g=c;g=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.pn))],g);b.TLa=g;},function(r,b,a){var f,k,m,d,g;function c(h){return m.wr.call(this,h,k.N.Dhb,d.Hp.gN,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.xDa=void 0;r=a(1);f=a(0);k=a(3);m=a(165);d=a(88);a=a(54);na(c,m.wr);c.prototype.v4=function(h){return Object.assign(Object.assign({},m.wr.prototype.v4.call(this,h)),{action:h.action});};g=c;g=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.pn))],g);b.xDa=g;},function(r,b,a){var f,k,m,d,g,h,l,n,q;function c(p,u,t,w,v,x,y,z,A){this.Kh=p;this.mf=u;this.Vh=t;this.KCb=w;this.lA=v;this.g4b=x;this.Nla=y;this.qYb=z;this.fH=A;}Object.defineProperty(b,"__esModule",{value:!0});b.MIa=void 0;r=a(1);f=a(0);k=a(125);m=a(72);d=a(524);g=a(521);h=a(81);l=a(89);n=a(340);q=a(98);a=a(92);c=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.dK)),r.__param(1,(0,f.l)(l.hy)),r.__param(2,(0,f.l)(m.Qv)),r.__param(3,(0,f.l)(g.PIa)),r.__param(4,(0,f.l)(h.gy)),r.__param(5,(0,f.l)(n.$Ma)),r.__param(6,(0,f.l)(q.G0)),r.__param(7,(0,f.l)(d.vJa)),r.__param(8,(0,f.l)(a.$x))],c);b.MIa=c;},function(r,b,a){var f,k,m,d,g;function c(h){return d.Ji.call(this,h,k.N.Reb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.GIa=void 0;r=a(1);f=a(0);k=a(3);m=a(68);d=a(75);a=a(54);na(c,d.Ji);c.prototype.tg=function(h,l,n){var q;q=this;return this.send(h,{url:"/" + m.Bg.bind,name:m.Bg.bind,up:m.Bg.bind},l,void 0,n).then(function(p){return p.result;}).catch(function(p){throw q.Pn(p);});};c.prototype.yq=function(){return Promise.reject(Error("Links are unsupported with bind"));};g=c;g=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.pn))],g);b.GIa=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qlb="PboPairCommandSymbol";},function(r,b,a){var f,k,m,d,g;function c(h){return d.Ji.call(this,h,k.N.vkb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.eJa=void 0;r=a(1);f=a(0);k=a(3);m=a(68);d=a(75);a=a(54);na(c,d.Ji);c.prototype.tg=function(h,l,n){var q;q=this;return this.send(h,{url:"/" + m.Bg.dua,name:m.Bg.dua,up:m.Bg.dua},l,void 0,n).then(function(p){return p.result;}).catch(function(p){throw q.Pn(p);});};c.prototype.yq=function(){return Promise.reject(Error("Links are unsupported with pair"));};g=c;g=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.pn))],g);b.eJa=g;},function(r,b,a){var f,k,m,d,g;function c(h){return d.Ji.call(this,h,k.N.Seb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.IIa=void 0;r=a(1);f=a(0);k=a(3);m=a(68);d=a(75);a=a(54);na(c,d.Ji);c.prototype.tg=function(h,l,n){var q;q=this;return this.send(h,{url:"/bindDevice",name:m.Bg.bind,up:m.Bg.bind},l,void 0,n).then(function(p){return p.result;}).catch(function(p){throw q.Pn(p);});};c.prototype.yq=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};g=c;g=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.pn))],g);b.IIa=g;},function(r,b,a){var f,k,m,d,g;function c(h){return d.Ji.call(this,h,k.N.Qkb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.fJa=void 0;r=a(1);f=a(0);k=a(3);m=a(68);d=a(75);a=a(54);na(c,d.Ji);c.prototype.tg=function(h,l,n){var q;q=this;return this.send(h,{url:"/" + m.Bg.ping,name:m.Bg.ping,up:m.Bg.ping},l,void 0,n).then(function(p){return p.result;}).catch(function(p){throw q.Pn(p);});};c.prototype.yq=function(){return Promise.reject(Error("Links are unsupported with ping"));};g=c;g=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.pn))],g);b.fJa=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rlb="PboPingCommandSymbol";},function(r,b,a){var f,k,m,d,g;function c(h){return d.Ji.call(this,h,k.N.Thb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.SIa=void 0;r=a(1);f=a(0);k=a(3);m=a(68);d=a(75);a=a(54);na(c,d.Ji);c.prototype.tg=function(h,l){var n;n=this;return this.send(h,{url:"/generateScreenshots",name:m.Bg.oa,up:"generateScreenshots"},l).then(function(q){return q.result;}).catch(function(q){throw n.Pn(q);});};c.prototype.yq=function(h,l,n){var q;q=this;l={url:l.jW("generateScreenshots").href,name:m.Bg.oa,up:"generateScreenshots"};return this.send(h,l,n).then(function(p){return p.result;}).catch(function(p){throw q.Pn(p);});};g=c;g=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.pn))],g);b.SIa=g;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w,v,x;function c(y,z,A,B,E,D,F,G,C,H){this.Vh=y;this.platform=z;this.config=A;this.qwb=B;this.cVb=E;this.Bk=D;this.GU=F;this.za=G;this.j9=C;this.In=H;}Object.defineProperty(b,"__esModule",{value:!0});b.dJa=void 0;r=a(1);f=a(0);k=a(104);m=a(13);d=a(471);g=a(469);h=a(550);l=a(70);n=a(35);q=a(38);p=a(5);u=a(169);t=a(72);w=a(342);v=a(26);x=a(60);c.prototype.transform=function(y,z){var A,B,E,D,F,G,C,H;A=this;B=y.cb;E=Object.assign({},B.j4,B.Vm);D={};F=y.S;D[F]={unletterboxed:! !E.preferUnletterboxed};G=this.config();C=G.s4b?30:25;G=G.Cp?this.Bk.HHb():Promise.resolve(this.j9.qu());H={Xd:null === B || void 0 === B?void 0:B.Xd};return Promise.all([this.In.N_a(H),this.In.P_a(H),this.In.HN(),this.In.b7(),this.gHb(y.ca,z),this.LHb(y),G]).then(function(K){var M,I,Q,L,J,N,O,P,S;M=ba(K);I=M.next().value;Q=M.next().value;L=M.next().value;J=M.next().value;N=M.next().value;K=M.next().value;M=M.next().value;I=(I || []).concat(Q || []).concat(A.config().xv).concat(["BIF240","BIF320"]).filter(Boolean);J=J?J.DEVICE_SECURITY_LEVEL:void 0;Q="postplay" === B.Xd?!0:! !E.isUIAutoPlay;L={type:"standard",manifestVersion:A.Vh.RWa?"v2":"v1",viewableId:F,profiles:I,flavor:y.ou,drmType:M,drmVersion:C,usePsshBox:!0,isBranching:! !y.cb.bj,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().G1b,imageSubtitleHeight:d.Nfa.t_a(),uiVersion:A.Vh.Kx,uiPlatform:A.Vh.zba,clientVersion:A.platform.version,supportsPreReleasePin:A.config().rq.A1b,supportsWatermark:A.config().rq.B1b,packageId:A.$Ib(B),deviceSecurityLevel:J,videoOutputInfo:L,titleSpecificData:D,preferAssistiveAudio:! !E.assistiveAudioPreferred,preferredTextLocale:E.preferredTextLocale,preferredAudioLocale:E.preferredAudioLocale,isUIAutoPlay:Q,challenge:N,isNonMember:A.Vh.$1a,pin:B.i7a,desiredVmaf:A.config().odb?A.config().NVa:A.config().OVa,desiredSegmentVmaf:A.config().odb?A.config().NVa:A.config().OVa,requestSegmentVmaf:A.config().vYb,supportsPartialHydration:A.Vh.lH,contentPlaygraph:A.Vh.uUa,auxiliaryManifestToken:y.cb.bj?void 0:null === (O=y.tj) || void 0 === O?void 0:O.Si,originalPlaybackContextId:!y.cb.bj && (null === (P=y.tj) || void 0 === P?0:P.Si)?null === (S=y.tj) || void 0 === S?void 0:S.aua:void 0};B.qXa && (L.extraParams=B.qXa);B.MVa && (L.desiredDownloadables=B.MVa);B.jwa && (L.requestReference=B.jwa);O={Gn:K?"licensedManifest":"manifest",Lz:null === K || void 0 === K?void 0:K.bc};K && (K={drmSessionId:K.bc.Zz() || "session",clientTime:A.za.vZ.da(p.zo),challengeBase64:K.vka},L.challenges={"default":[K]},L.profileGroups=[{name:"default",profiles:I}],L.licenseType=y.ag == x.hi.vo?"limited":"standard",y.ca && (L.xid=y.ca.toString()));A.Vh.lH || (L.showAllSubDubTracks=A.config().rq.i0b || ! !E.showAllSubDubTracks,A.Vh.JWa && y.ou === k.nn.S1 && (L.maxSupportedLanguages=2));y.rba && (L.originalPlaybackContextId=y.rba.aua,L.requiredAudioTrackId=y.rba.zYb,L.requiredTextTrackId=y.rba.CYb);return [L,O];});};c.prototype.$Ib=function(y){if(this.config().U$.enabled){if(void 0 !== y.op)return y.op;if(void 0 !== this.config().U$.op)return Number(this.config().U$.op);}};c.prototype.gHb=function(y,z){var A;A=this;return this.qwb.PYa(z).then(function(B){var E;E=y && A.cVb.gJb(y);E && E.bq("cad");return B;});};c.prototype.LHb=function(y){var z;if(void 0 === y.ag || !this.config().Cp)return Promise.resolve(void 0);z=y.ag === x.hi.Lp && this.Vh.O4;return y.ag === x.hi.vo && this.Vh.KWa || z?this.GU.bpa(y.ag):Promise.resolve(void 0);};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(t.Qv)),r.__param(1,(0,f.l)(n.Cl)),r.__param(2,(0,f.l)(m.ad)),r.__param(3,(0,f.l)(g.bBa)),r.__param(4,(0,f.l)(h.efa)),r.__param(5,(0,f.l)(l.vt)),r.__param(6,(0,f.l)(u.o0)),r.__param(7,(0,f.l)(q.di)),r.__param(8,(0,f.l)(w.mea)),r.__param(9,(0,f.l)(v.Zx))],a);b.dJa=a;},function(r,b,a){var f,k,m,d,g,h;function c(l,n,q,p){this.platform=l;this.config=n;this.GU=q;this.In=p;}Object.defineProperty(b,"__esModule",{value:!0});b.wJa=void 0;r=a(1);f=a(0);k=a(13);m=a(35);d=a(169);g=a(26);h=a(60);c.prototype.transform=function(l){var n,q,p;n=this;q=l.cb;p={Xd:void 0};return Promise.all([this.In.N_a(p),this.In.P_a(p),this.GU.bpa(h.hi.Lp)]).then(function(u){var t,w;t=ba(u);u=t.next().value;w=t.next().value;t=t.next().value;return [{viewableId:l.S,packageId:q.op,assetId:q.rja,challenge:t.vka,audioProfiles:u,textProfiles:n.config().xv,trickplayProfiles:["BIF240","BIF320"],videoProfiles:w,audioLanguages:q.qub,textLanguages:q.Z1b,videoLanguages:q.Hdb?[q.Hdb]:void 0,requestReference:q.jwa,additionalAudioAssets:q.ftb,additionalTextAssets:q.htb},{Lz:null === t || void 0 === t?void 0:t.bc,Gn:"studioManifest"}];});};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.Cl)),r.__param(1,(0,f.l)(k.ad)),r.__param(2,(0,f.l)(d.o0)),r.__param(3,(0,f.l)(g.Zx))],a);b.wJa=a;},function(r,b,a){var c,f,k,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(0);c=a(283);f=a(522);k=a(1246);m=a(1247);d=a(1248);g=a(41);b.transports=new r.rd(function(h){h(c.f2).to(d.NMa).ba();h(f.LHa).to(k.KHa);h(f.WLa).to(m.VLa);h(f.OMa).Af(function(l){return function(n){var q;return l.fb.get(c.f2).Naa(null !== (q=null === n || void 0 === n?void 0:n.JRb) && void 0 !== q?q:g.Nv.sS)?l.fb.get(f.LHa):l.fb.get(f.WLa);};});});},function(r,b,a){var f,k,m,d,g,h;function c(l,n,q){var p;p=this;this.iE=n;this.profile=q;this.log=l.mb("MslTransport");this.iE().then(function(u){return p.G9=u;});}Object.defineProperty(b,"__esModule",{value:!0});b.KHa=void 0;r=a(1);f=a(0);k=a(7);m=a(159);d=a(5);a=a(95);g={license:!0};c.prototype.send=function(l,n){var q,p;q=this;p={h5a:Object.assign({mf:l.mf,log:l.log,profile:this.profile},l.avb),method:l.Gn,url:l.url.href,body:JSON.stringify(n),timeout:l.timeout.da(d.la),y4b:this.profile,qec:!g[l.Gn],aSb:! !g[l.Gn],gl:!0,maa:l.uwa,headers:l.headers};!1;return this.iE().then(function(u){return u.send(p).catch(function(t){var w;if(!t.error)throw (t.Ec=t.ta || t.Ec,t);w=t.error;w.BE=t.BE;q.log.error("Error sending MSL request",{mslCode:w.PA,subCode:w.Ec,data:w.data,message:w.message});throw w;});});};c.prototype.jla=function(){var l;return {userTokens:null === (l=this.G9) || void 0 === l?void 0:l.LX.getUserIdTokenKeys()};};h=c;h=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.ub)),r.__param(1,(0,f.l)(m.eS)),r.__param(2,(0,f.l)(a.uS))],h);b.KHa=h;},function(r,b,a){var f,k,m,d;function c(g,h){this.mf=h;this.log=g.mb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.VLa=void 0;r=a(1);f=a(0);k=a(5);m=a(7);a=a(89);c.prototype.send=function(g,h){var l,n;l=this;n={url:g.url.href,jD:"nq-" + g.Gn,Oua:JSON.stringify(h),S4:g.timeout.da(k.la),headers:g.headers,withCredentials:!0};!1;return new Promise(function(q,p){l.mf.download(n,function(u){u.aa?q(u):p(u);});}).then(function(q){return {status:"success",body:q.content};}).catch(function(q){var p;if(!q.error)throw (q.Ec=q.ta || q.Ec,q);p=q.error;p.BE=q.BE;l.log.error("Error sending SSL request",{subCode:p.Ec,data:p.content,message:p.message});throw p;});};c.prototype.jla=function(){return {};};d=c;d=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.ub)),r.__param(1,(0,f.l)(a.hy))],d);b.VLa=d;},function(r,b,a){var f,k,m,d,g;function c(h){return k.af.call(this,h,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.NMa=void 0;r=a(1);f=a(0);k=a(47);m=a(37);d=a(46);g=a(41);na(c,k.af);c.prototype.Naa=function(h){var l,n;l=this.vQ;n=this.uRa;switch(h){case g.Nv.sS:return l;case g.Nv.BKa:return l && !n;case g.Nv.mkb:return !1;}};Ya.Object.defineProperties(c.prototype,{vQ:{configurable:!0,enumerable:!0,get:function(){return !0;}},uRa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.cd,"usesMsl")],a.prototype,"vQ",null);r.__decorate([d.config(d.cd,"allowRequestsWithoutMsl")],a.prototype,"uRa",null);a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.fm))],a);b.NMa=a;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.Ql=void 0;r=a(0);c=a(536);f=a(1250);b.Ql=new r.rd(function(k){k(c.YFa).to(f.XFa);});},function(r,b,a){var f,k,m,d,g,h,l,n;function c(q,p,u,t,w){this.iH=q;this.sq=p;this.config=u;this.yO=t;this.Gd=w;}Object.defineProperty(b,"__esModule",{value:!0});b.XFa=void 0;r=a(1);f=a(0);k=a(124);m=a(1251);d=a(1252);g=a(69);h=a(13);l=a(139);a=a(121);c.prototype.create=function(q,p,u){return q?new m.ZFa(this.config(),this.sq,this.Gd,p,u,this.iH,this.yO()):new d.QFa(this.config,this.Gd,p,u);};n=c;n=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.K0)),r.__param(1,(0,f.l)(g.Hv)),r.__param(2,(0,f.l)(h.ad)),r.__param(3,(0,f.l)(l.aS)),r.__param(4,(0,f.l)(a.UF))],n);b.XFa=n;},function(r,b,a){var f,k,m,d,g,h,l,n,q;function c(p,u,t,w,v,x,y){w=l.XQ.call(this,w,v) || this;w.config=p;w.sq=u;w.Gd=t;w.iH=x;w.Hsa=y;w.log=(0,k.Qh)(w.j,"LicenseBroker");w.hX=new Set();w.Gsa=!1;return w;}Object.defineProperty(b,"__esModule",{value:!0});b.ZFa=void 0;r=a(1);f=a(3);k=a(8);m=a(331);d=a(5);g=a(0);h=a(296);l=a(553);n=a(60);q=a(15);na(c,l.XQ);c.prototype.g$=function(){var p,u;p=this;u=this.j.ja;this.hX.has(u.K) || (this.hX.add(u.K),this.Ktb(u).catch(function(){return p.j9a(u);}).then(function(){return p.NRa(u);}).catch(function(t){return p.MRa(u,t);}).catch(function(t){return p.Ld(t.code,t,t.Nd);}));};c.prototype.Ktb=function(p){var u;u=this;return Promise.all([this.Gd.LYa(p.K),this.iH()]).then(function(t){var w,v;t=ba(t);w=t.next().value;v=t.next().value;return w.Gaa.then(function(x){var y;if("manifest" === w.source){y=u.NZa(p);v.b5a(y,x);}return x;}).then(function(x){return u.W3(x,p,w.source);});}).catch(function(t){u.log.warn("eme not in cache",t);throw t;});};c.prototype.W3=function(p,u,t){this.X7a(p,u);u.LG=t;this.Hsa.YQa(p.mediaKeys);return p.jja();};c.prototype.dGb=function(p){var u;u={};p.forEach(function(t){u[(0,m.sWa)(t.DX)]=t.time.da(d.la);});return u;};c.prototype.X7a=function(p,u){var t;t=this;u.tf=p;p.f_b(function(w){t.Ld(w.code,w,w.Nd);});};c.prototype.NRa=function(p){this.log.info("Successfully applied license for xid: " + p.ca + ", viewable: " + p.K + ", segment: " + p.ha);this.mA(p);this.Gsa?this.j6(p.K):this.setMediaKeys(p);};c.prototype.MRa=function(p,u){this.mA(p);throw u;};c.prototype.mA=function(p){p.tf && p.mA(this.dGb(p.tf.Sc));};c.prototype.NZa=function(p){var u;return {type:this.U6(!1),initData:p.fv.map(function(t){return (0,k.Wr)(t);}),context:{Z:this.$b.Z,cv:null === (u=p.Ag.value) || void 0 === u?void 0:u.cv},dj:{K:p.K,ca:p.ca,zi:p.zi,Bm:p.Bm,yk:p.oa.yk}};};c.prototype.j9a=function(p){var u;u=this;return this.iH().then(function(t){var w;w=u.NZa(p);u.hX.add(p.K);return t.bh(w,u.Hsa).then(function(v){u.X7a(v,p);u.j.fireEvent(q.ea.kX,{K:p.K});return v.jja();});});};c.prototype.setMediaKeys=function(p){var u;u=this;if(this.Gsa)this.log.trace("Media Keys already set");else try{this.$b.Z?this.$b.Z.setMediaKeys(p.tf.mediaKeys).then(function(){u.j6(p.K);u.Gsa=!0;}).catch(function(t){t=u.U_a(t);u.Ld(f.N.MK,t,t.uf);}):this.j6(p.K);}catch(t){this.Ld(f.N.MK,t,void 0);}};c.prototype.hB=function(){var p,u;p=this;u=this.j.ja.tf;return u?this.iH().then(function(t){return t.release(u,p.Hsa).then(function(w){p.log.trace("Successfully released the license");return w.close();}).catch(function(w){p.log.error("Unable to release the license",w);});}):Promise.resolve();};c.prototype.i9a=function(p){var u;u=this;p=void 0 === p?this.j:p;return this.j9a(p).then(function(){return u.NRa(p);}).catch(function(t){return u.MRa(p,t);});};c.prototype.U6=function(p){return this.sq.TV?n.hi.vo:p?n.hi.vo:n.hi.Lp;};Ya.Object.defineProperties(c.prototype,{jE:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Im:{configurable:!0,enumerable:!0,get:function(){return this.config.Im;}}});a=c;r.__decorate([h.eX],a.prototype,"jE",null);a=r.__decorate([(0,g.T)()],a);b.ZFa=a;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u;function c(t,w,v,x){v=q.XQ.call(this,v,x) || this;v.config=t;v.Gd=w;v.log=(0,k.Qh)(v.j,"LegacyLicenseBroker");v.Im=v.config().Im;v.config().c8a?(0,d.d2a)()?v.Iba=!0:v.log.error("Promise based eme requested but platform does not support it",{browserua:g.eC}):v.Iba=!1;return v;}Object.defineProperty(b,"__esModule",{value:!0});b.QFa=void 0;r=a(1);f=a(3);k=a(8);m=a(158);d=a(49);g=a(11);h=a(0);l=a(296);n=a(35);q=a(553);p=a(60);na(c,q.XQ);c.prototype.LUa=function(t){var w;w=void 0 === w?this.j:w;return new this.Es.oK(t,function(v){return w.T4.CH(v);},function(v){return w.T4.release(v);},{wf:!1,ll:!1});};c.prototype.$G=function(t){var w,v,x,y,z,A;w=this;t=void 0 === t?this.j:t;v=a(51).mk;this.Es.oK || this.Ld(f.N.AK,f.M.shb);x=(0,k.Qh)(t,"Eme");y=this.LUa(x);z=k.pa.get(m.zS);A=z.X4(t.tc.value.streams);z=z.a5(t.Ag.value.streams);return this.Es.qK(x,function(B){return t.Ed(B);},{wf:!1,ll:!1,za:{getTime:v},Wl:y,HY:! !this.Iba,Z:this.$b.Z,GB:this.config().IWa,onerror:function(B,E,D){return w.Ld(B,E,D);},vta:function(){},KI:!0,pub:A,V4b:z,K7:this.config().K7});};c.prototype.setMediaKeys=function(t){var w;w=this;return this.Iba?new Promise(function(v,x){if(w.$b.Z)w.$b.Z.setMediaKeys(t).then(function(){v();}).catch(function(y){var z;z=w.U_a(y);x({aa:!1,code:f.N.MK,Ec:z.ta,Nd:z.uf,yb:z.yb,message:"Set media keys is a failure",cause:y});});else return Promise.resolve();}):Promise.resolve();};c.prototype.hXa=function(t){return {code:t.code,subCode:t.Ec,extCode:t.Nd,edgeCode:t.Kn,message:t.message,errorDetails:t.yb,errorData:t.pH,state:t.state};};c.prototype.gxa=function(t,w,v){var y,z,A;function x(){z.YI().catch(function(B){y.log.error("Unable to set the license",y.hXa(B));B.cause && B.cause.yb && (B.yb=B.yb?B.yb + B.cause.yb:B.cause.yb);y.Ld(B.code,B,B.Nd);});}y=this;v=void 0 === v?this.j:v;z=v.tf;this.log.info("Setting the license");A=w?function(){return Promise.resolve();}:function(){return z.bh(y.U6(!1),t);};return (w?function(){return z.W3(y.$b.Z);}:function(){return z.create(y.Im).then(function(){return Promise.resolve();});})().then(function(){return y.config().K$a?y.setMediaKeys(z.mediaKeys):Promise.resolve();}).then(A).then(function(){return y.config().K$a?Promise.resolve():y.setMediaKeys(z.mediaKeys);}).then(function(){y.log.info("license set");y.j6(v.K);y.$b.Udb.then(function(){y.config().YD && (w || y.config().TV) && (y.d9a=nb.setTimeout(x,y.config().YD));});}).catch(function(B){y.log.error("Unable to set the license",y.hXa(B));B.cause && B.cause.yb && (B.yb=B.yb?B.yb + B.cause.yb:B.cause.yb);if(w)throw Error(B && B.message?B.message:"failed to set license");y.Ld(B.code,B,B.Nd);});};c.prototype.hB=function(){return Promise.resolve();};c.prototype.g$=function(){var w;function t(){var v;w.j.tf=w.$G();v=[];w.j.fv.forEach(function(x){v.push((0,k.Wr)(x));});w.gxa(v);}w=this;this.hX || (this.hX=!0,this.Es.qK?this.j.fv?this.config().BV && this.config().sx?this.Gd.LYa(this.j.K).then(function(v){w.j.tf=v;return v.wza.then(function(){var x;x=[];w.j.fv.forEach(function(y){x.push((0,k.Wr)(y));});return w.gxa(x,!0).then(function(){var y;if(v.abc)w.Ld(f.N.whb);else {y=(0,k.Qh)(w.j,"Eme");v.Wcb({log:y,ao:function(z){return w.j.Ed(z);}},{Wl:w.LUa(y),onerror:function(z,A,B){return w.Ld(z,A,B);}});w.j.mA(v.Sc || ({}));w.j.LG="videopreparer";}});});}).catch(function(v){w.log.warn("eme not in cache",v);t();}):t():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Ld(f.N.blb)):this.Ld(f.N.AK,f.M.thb));};c.prototype.i9a=function(t){var w;t=void 0 === t?this.j:t;t.tf=this.$G();w=[];t.fv.forEach(function(v){w.push((0,k.Wr)(v));});return this.gxa(w,!1,t);};c.prototype.U6=function(t){return this.config().TV?p.hi.vo:t?p.hi.vo:p.hi.Lp;};Ya.Object.defineProperties(c.prototype,{Es:{configurable:!0,enumerable:!0,get:function(){return k.pa.get(n.fC);}},jE:{configurable:!0,enumerable:!0,get:function(){return this.Iba?"encrypted":this.$b.nDa + "needkey";}}});u=c;r.__decorate([l.eX],u.prototype,"Es",null);r.__decorate([l.eX],u.prototype,"jE",null);u=r.__decorate([(0,h.T)()],u);b.QFa=u;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v;Object.defineProperty(b,"__esModule",{value:!0});b.eh=void 0;r=a(0);c=a(309);f=a(1254);k=a(310);m=a(1259);d=a(122);g=a(1261);h=a(1262);l=a(163);n=a(554);q=a(1263);p=a(555);u=a(1265);t=a(81);w=a(556);v=a(1266);b.eh=new r.rd(function(x){x(c.ifa).to(f.mKa).ba();x(k.kfa).to(m.yKa).ba();x(d.OK).to(g.kKa).ba();x(l.LF).to(h.hKa).ba();x(n.sKa).to(q.rKa).ba();x(p.wKa).Af(function(y){var z;z=y.fb;return function(A){return new u.xKa(A,z.get(t.gy),z.get(l.LF));};});x(w.UFa).Af(function(y){var z;z=y.fb;return function(A,B,E){return new v.VFa(A,B,E,z.get(l.LF),z.get(d.OK));};});});},function(r,b,a){var f,k,m,d,g,h,l,n,q;function c(p,u,t,w,v,x,y){this.cg=p;this.Wma=u;this.gj=t;this.Aya=w;this.rVb=v;this.tVb=x;this.sVb=y;}Object.defineProperty(b,"__esModule",{value:!0});b.mKa=void 0;r=a(1);f=a(0);k=a(1255);m=a(7);d=a(163);g=a(343);h=a(554);l=a(421);n=a(555);a=a(310);c.prototype.create=function(p){return new k.nKa(p,this.cg,this.Wma,this.gj,this.Aya,this.rVb,this.tVb,this.sVb);};q=c;q=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.ub)),r.__param(1,(0,f.l)(g.rR)),r.__param(2,(0,f.l)(d.LF)),r.__param(3,(0,f.l)(l.LMa)),r.__param(4,(0,f.l)(h.sKa)),r.__param(5,(0,f.l)(n.wKa)),r.__param(6,(0,f.l)(a.kfa))],q);b.mKa=q;},function(r,b,a){var f,k,m;function c(d,g,h,l,n,q,p,u){this.Aya=n;this.sza=u;this.QV=!1;l.Hba && (d=new m.oKa().Q2b(d));this.lb=p(d);this.Ok=new k.zKa(this.lb);this.Ok.C$a(this.lb.ja.S);this.log=g.mb("PlaygraphManager");this.Wb=h.create();this.Uu=q.create(this.lb,this.Ok,this.log,this.Wb);this.O_b();}Object.defineProperty(b,"__esModule",{value:!0});b.nKa=void 0;f=a(15);k=a(1256);m=a(1258);c.prototype.jJb=function(){return this.lb.I$;};c.prototype.J6=function(){return this.lb.ja;};c.prototype.$Ya=function(){return this.lb.$g;};c.prototype.GH=function(){return this.lb.ql;};c.prototype.Di=function(d){for(var g=[],h=0;h < arguments.length;++h){g[h - 0]=arguments[h];}this.lb.Di.apply(this.lb,ha(g));};c.prototype.lxb=function(d){for(var g=[],h=0;h < arguments.length;++h){g[h - 0]=arguments[h];}this.lb.aSa(g);};c.prototype.EB=function(d){this.lb.ql=d;};c.prototype.Fi=function(d,g){this.lb.Fi(d,g);};c.prototype.zpa=function(d,g,h,l){var n,q;h=void 0 === h?{}:h;l=void 0 === l?!0:l;if(d !== this.lb.$g)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (n=this.GH().V[d].next) && void 0 !== n?n:{}).indexOf(g))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + g);this.fab();null === (q=h.Vm) || void 0 === q?void 0:q.isUIAutoPlay;return this.Uu.Apa(g,h,l);};c.prototype.isReady=function(){return this.Uu.isReady();};c.prototype.addListener=function(d,g,h){this.Wb.addListener(d,g,h);};c.prototype.removeListener=function(d,g){this.Wb.removeListener(d,g);};c.prototype.Rn=function(){return this.Uu.Rn();};c.prototype.Eb=function(){return this.Uu.EH();};c.prototype.LAb=function(d,g,h){var l;d=void 0 === d?this.GH().Pd:d;g=void 0 === g?{}:g;l=this.sza.XUa(this);this.VVb(null !== d && void 0 !== d?d:this.GH().Pd,g,h);return l;};c.prototype.ctb=function(d){var g;this.log.info("Adding segment - movieId: " + d.K + ", startPts: " + d.$ + ", logicalEnd: " + d.zj);g=Object.assign({},d.Ab,d.$?{$:d.$}:{},d.zj?{zj:d.zj}:{});this.Wab(d.K,g,d.oa);d=this.Uu.jRa(d);this.fab();return d;};c.prototype.transition=function(d){var g;g=this.lb.nW(this.lb.$g);return g?this.zpa(this.lb.$g,g,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.Uu.close(d);};c.prototype.VVb=function(d,g,h){var l;void 0 === d && (d=null === (l=this.GH()) || void 0 === l?void 0:l.Pd);(g || h) && this.Wab(this.GH().V[d].S,null !== g && void 0 !== g?g:{},h);this.Uu.QI(d);};c.prototype.Wab=function(d,g,h){h && this.Ok.eM(d,h);this.Ok.Tsb(d,g);};c.prototype.O_b=function(){var d;d=this;this.lb.o1b(function(){d.Ok.nx();d.Uu.nx();});this.lb.p1b(function(g){d.Uu.Uta(g);});this.lb.n1b(function(g){d.Uu.CI(g);});this.addListener(f.MF.sZ,function(){return d.BTb();});this.addListener(f.Fa.D1a,function(g){return d.oTb(g);});};c.prototype.fab=function(){var d;d=this;this.QV || (this.Eb().Pia(f.ea.kJ,function(g){return d.lE(g);}),this.QV=!0);};c.prototype.oTb=function(d){var g;g=this;this.Uu.ucb(d).catch(function(){return g.Wb.Hc(f.Fa.error,d.m_());});};c.prototype.BTb=function(){var d;d=this.Eb().getError();d?this.Wb.Hc(f.Fa.sM,d):(this.Wb.Hc(f.Fa.i4),this.Wb.Hc(f.Fa.rm),this.Wb.Hc(f.Fa.yv),this.Wb.Hc(f.Fa.$l),this.Wb.Hc(f.Fa.s_),this.Wb.Hc(f.Fa.sM));};c.prototype.lE=function(d){var g,h,l;!1;g=d.metrics;if(g){h=this.Eb();l=h.uk(d.position.segmentId);g=h.uk(g.srcsegment);this.Aya.zWb(d,l,g,! !h.p_a().bj);}};b.nKa=c;},function(r,b,a){var f;function c(k){this.ma=k;this.CQ={};this.nx();}Object.defineProperty(b,"__esModule",{value:!0});b.zKa=void 0;f=a(1257);c.prototype.nx=function(){var k;k=this;Object.values(this.ma.ql.V).forEach(function(m){m=m.S;k.CQ[m] || k.w1a(m);});this.Bba();};c.prototype.PN=function(k){return this.CQ[k];};c.prototype.h_b=function(k){this.pW(k).state=f.xy.SDa;this.Bba();};c.prototype.g_b=function(k,m){k=this.pW(k);k.state=f.xy.Error;k.error=m;k.G9a(!1);this.Bba();};c.prototype.C$a=function(k){k=this.pW(k);k.state=f.xy.jhb;k.G9a(!0);this.Bba();};c.prototype.Tsb=function(k,m){this.pW(k).Ab=m;};c.prototype.eM=function(k,m){this.pW(k).oa=m;};c.prototype.pW=function(k){var m;return null !== (m=this.PN(k)) && void 0 !== m?m:this.w1a(k);};c.prototype.w1a=function(k){var m,d;m=void 0;d=new Promise(function(g,h){m=function(l){(l?g:h)();};});return this.CQ[k]={state:f.xy.VHa,ZWb:d,G9a:m};};c.prototype.Bba=function(){var m;for(var k=this.ma.$g;k=this.ma.nW(k);){m=this.ap(k);if(this.CQ[m].state === f.xy.Error)break;if(this.CQ[m].state === f.xy.SDa)break;if(this.CQ[m].state === f.xy.VHa)break;}};c.prototype.ap=function(k){return this.ma.ql.V[k].S;};b.zKa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xy=void 0;r=b.xy || (b.xy={});r[r.VHa=0]="None";r[r.SDa=1]="Fetching";r[r.jhb=2]="Done";r[r.Error=3]="Error";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.oKa=void 0;f=a(57);c.prototype.Q2b=function(k){var m;if(!this.DNb(k.V))return k;m=new f.ry().qJ(k.Pd);Object.entries(k.V).forEach(function(d){var g;g=ba(d);d=g.next().value;g=g.next().value;d === k.Pd?m.Yk(d,Object.assign(Object.assign({},g),{next:void 0,Ba:void 0,Md:void 0})):m.Yk(d,g);});return m.ri();};c.prototype.DNb=function(k){k=Object.values(k).map(function(m){return m.S;});return 1 === new Set(k).size;};b.oKa=c;},function(r,b,a){var f,k,m,d;function c(g,h){this.Da=g;this.DOb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.yKa=void 0;r=a(1);f=a(0);k=a(19);m=a(556);c.prototype.create=function(g){return new (a(311).h2)(this.Da.Zb(),g);};c.prototype.XUa=function(g){return new (a(1260).jNa)(this.Da.Zb(),g,this.DOb);};d=c;d=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.md)),r.__param(1,(0,f.l)(m.UFa))],d);b.yKa=d;},function(r,b,a){var f;function c(k,m,d){var g;g=f.h2.call(this,k,m) || this;g.seek=function(h){return g.Eb().seek(h);};g.addEpisode=function(h){return g.Era.Dsb(h);};g.playNextEpisode=function(h){h=void 0 === h?{}:h;return g.Era.$Ub(h);};g.watchCredits=function(h){return g.Era.k5b(h);};g.playSegment=function(h){return g.Eb().q7a(h);};g.queueSegment=function(h){return g.Eb().n8a(h);};g.updateNextSegmentWeights=function(h,l){return g.Eb().Fi(h,l);};g.setNextSegment=function(h){for(var l=[],n=0;n < arguments.length;++n){l[n - 0]=arguments[n];}l=l.map(function(q){return {ha:q.segmentId,JO:q.nextSegmentId};});g.eh.Di.apply(g.eh,ha(l));};g.clearNextSegment=function(h){for(var l=[],n=0;n < arguments.length;++n){l[n - 0]=arguments[n];}return g.eh.lxb.apply(g.eh,ha(l));};g.goToNextSegment=function(h,l){return g.eh.zpa(h,l);};g.getPlaying=function(){return g.isPlaying();};g.getPaused=function(){return g.isPaused();};g.getMuted=function(){return g.isMuted();};g.getEnded=function(){return g.isEnded();};g.getTimedTextVisibility=function(){return g.isTimedTextVisible();};g.isTimedTextVisible=function(){return ! !g.Eb().vW().visibility;};g.setTimedTextVisibility=function(h){return g.setTimedTextVisible(h);};g.setTimedTextSize=function(h){return g.Eb().RP({size:h});};g.setTimedTextBounds=function(h){return g.Eb().RP({bounds:h});};g.setTimedTextMargins=function(h){return g.Eb().RP({margins:h});};g.setTimedTextVisible=function(h){return g.Eb().RP({visibility:h});};g.getCongestionInfo=function(h){h && h({success:!1,name:null,isCongested:null});};g.Era=d(k,m,g.log);return g;}Object.defineProperty(b,"__esModule",{value:!0});b.jNa=void 0;f=a(311);na(c,f.h2);b.jNa=c;},function(r,b,a){var f,k,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.kKa=void 0;r=a(1);f=a(122);k=a(0);m=a(57);c.prototype.GAb=function(d){var l,n,q;for(var g=[],h=0;h < arguments.length;++h){g[h - 0]=arguments[h];}l=this;if(0 === g.length)throw Error("Empty playgraph");n=new m.ry().qJ(this.js(g[0]));g.reverse().forEach(function(p){var u;u=l.js(p);n.Yk(u,Object.assign({S:p,Aa:0,Ba:Infinity},q?{Md:q}:{}));q=u;});return n.ri();};c.prototype.js=function(d,g){g=void 0 === g?f.NF.bea:g;return d + ":" + g;};c.prototype.Jtb=function(d,g){var h,l,n,q;if(void 0 === n)n=null !== (h=g.id) && void 0 !== h?h:this.js(g.K);h=this.KZa(d);q=new m.ry(d);q.Yk(n,{S:g.K,Aa:null !== (l=g.$) && void 0 !== l?l:0,Ba:Infinity});d=d.V[h];g={};q.Yk(h,Object.assign({},d,{Md:n,next:Object.assign({},d.next || ({}),(g[n]={},g))}));return q.ri();};c.prototype.KZa=function(d){for(var g=d.Pd,h=g;h=d.V[h].Md;){g=h;}return g;};a=c;a=r.__decorate([(0,k.T)()],a);b.kKa=a;},function(r,b,a){var f,k,m,d,g;function c(h){return k.af.call(this,h,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.hKa=void 0;r=a(1);f=a(0);k=a(47);m=a(37);d=a(46);g=a(5);na(c,k.af);Ya.Object.defineProperties(c.prototype,{aWb:{configurable:!0,enumerable:!0,get:function(){return 2;}},$Vb:{configurable:!0,enumerable:!0,get:function(){return (0,g.C9)(3);}},lza:{configurable:!0,enumerable:!0,get:function(){return !1;}},Hba:{configurable:!0,enumerable:!0,get:function(){return !1;}},udb:{configurable:!0,enumerable:!0,get:function(){return !1;}},dYa:{configurable:!0,enumerable:!0,get:function(){return !1;}},L$:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;r.__decorate([d.config(d.CB,"prepareSegmentsUpfront")],a.prototype,"aWb",null);r.__decorate([d.config(d.nl,"prepareSegmentsDuration")],a.prototype,"$Vb",null);r.__decorate([d.config(d.cd,"usePlaygraphForPostPlay")],a.prototype,"lza",null);r.__decorate([d.config(d.cd,"usePlaygraphForSkipSegment")],a.prototype,"Hba",null);r.__decorate([d.config(d.cd,"useSinglePlayerPlayback")],a.prototype,"udb",null);r.__decorate([d.config(d.cd,"forcePlaygraphTrace")],a.prototype,"dYa",null);r.__decorate([d.config(d.cd,"postPlayDefaultNextEpisode")],a.prototype,"L$",null);a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.fm))],a);b.hKa=a;},function(r,b,a){var f,k,m,d,g,h,l,n,q,p;function c(u,t,w,v,x,y,z){this.Da=u;this.vZb=w;this.gj=x;this.Qm=z;this.uZb=t.uD(!1,"6.0034.519.911",u.id,y,v);}Object.defineProperty(b,"__esModule",{value:!0});b.rKa=void 0;r=a(1);f=a(0);k=a(19);m=a(163);d=a(1264);g=a(348);h=a(215);l=a(13);n=a(557);q=a(39);a=a(122);c.prototype.create=function(u,t,w,v){var x,y;x=this.vZb.wAb(u,this.uZb,t);y=u.mza;w.debug("Using " + (y?"single":"multiple") + " player playback strategy");return y?new d.RLa(this.gj,u,t,w,x,v,this.Qm):new n.AF(u,t,x,v,this.Qm);};p=c;p=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.md)),r.__param(1,(0,f.l)(g.DLa)),r.__param(2,(0,f.l)(h.Ffa)),r.__param(3,(0,f.l)(l.ad)),r.__param(4,(0,f.l)(m.LF)),r.__param(5,(0,f.l)(q.qS)),r.__param(6,(0,f.l)(a.OK))],p);b.rKa=p;},function(r,b,a){var f,k,m,d,g;function c(h,l,n,q,p,u,t){var w;w=d.AF.call(this,l,n,p,u,t) || this;w.gj=h;w.wa=q;w.QV=!1;w.Qma=new Map();w.rTb=function(){w.EH().Pia(k.ea.kJ,function(v){w.Wb.Hc(k.MF.sZ);w.lb.$g=v.position.segmentId;});};w.lMb();u.addListener(k.Fa.loaded,w.rTb);return w;}Object.defineProperty(b,"__esModule",{value:!0});b.RLa=void 0;f=a(57);k=a(15);m=a(3);d=a(557);g=a(122);na(c,d.AF);c.prototype.jRa=function(h){var l,n,q,p,u,t,w,v,x,y,z;l=this;q=this.lb.ql;p=this.Qm.js(h.K,"ident");u=this.Qm.js(h.K,"main");t=this.Qm.js(h.K,"credits");w=isFinite(h.zj);v=isFinite(h.$) && h.K !== q.V[q.Pd].S;x={};y=new f.ry(q).Yk(u,Object.assign({S:h.K,Aa:v && h.$ || 0,Ba:null !== (n=h.zj) && void 0 !== n?n:Infinity},w?{next:(x[t]={},x),Md:t}:{}));v && (n={},y.Yk(p,{S:h.K,Aa:0,Ba:h.$,next:(n[u]={},n),Md:u}));w && y.Yk(t,{S:h.K,Aa:h.zj,Ba:Infinity});if(!this.lb.pB(u)){h=q.V[this.Qm.KZa(q)].S;z=this.Qm.js(h,g.NF.mBa);[this.Qm.js(h,g.NF.bea),z].filter(function(A){return l.lb.pB(A);}).forEach(function(A){var B,E,D;B=l.lb.lf(A);E=A === z || l.gj.L$;D={};y.Yk(A,Object.assign({},B,{next:Object.assign({},B.next,(D[u]={},D))},E?{Md:u}:{}));});}this.lb.ql=y.ri();return this.QI(u);};c.prototype.nx=function(){this.isReady() && this.EH().nx();};c.prototype.Uta=function(){};c.prototype.CI=function(h){this.EH().CI(h);};c.prototype.Apa=function(h,l,n){l=void 0 === l?{}:l;this.wa.debug("goToSegment " + h);return this.EH().yW(h,l,n);};c.prototype.QI=function(h){if(h === this.tZb)return null;this.tZb=h;return this.QV?this.Ok.PN(this.lb.lf(h).S).ZWb:(this.QV=!0,d.AF.prototype.QI.call(this,h));};c.prototype.ucb=function(h){return h.errorCode && this.Qma.has(h.errorCode)?this.Qma.get(h.errorCode)(h):Promise.reject(Error("Error " + h.errorCode + " isn't recoverable"));};c.prototype.lMb=function(){var h;h=this;this.Qma.set(m.N.xIa,function(){var l,n;return null !== (n=null === (l=d.AF.prototype.QI.call(h,h.lb.$g)) || void 0 === l?void 0:l.then(function(){var q,p;d.AF.prototype.Apa.call(h,h.lb.$g,null !== (p=null === (q=h.Ok.PN(h.lb.ja.S)) || void 0 === q?void 0:q.Ab) && void 0 !== p?p:{});})) && void 0 !== n?n:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.RLa=c;},function(r,b,a){var f,k;function c(m,d,g){this.lA=d;this.gj=g;this.c3={};this.Pcb=[];this.uab=[];this.t5a=[];this.oja=new WeakMap();this.reset(m);}Object.defineProperty(b,"__esModule",{value:!0});b.xKa=void 0;f=a(57);k=a(57);c.prototype.reset=function(m){var d;d=1 < Object.keys(m.V).length && 1 === new Set(Object.values(m.V).map(function(g){return g.S;})).size;this.$rb=this.gj.udb || d;this.R$a(m);this.$g=m.Pd;this.Iqb=this.lA.zz();this.Dxa=new Map();};c.prototype.c7=function(m){if(this.mza)return this.ql;this.oja.has(m) || this.oja.set(m,(0,f.HE)(m.K,m.ha));return this.oja.get(m);};c.prototype.R$a=function(m){this.Jqb=m;this.c3={};m=Object.keys(m.V);this.aSa(m);this.xSb();};c.prototype.Di=function(m){var h;for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}h=this;d.filter(function(l){return h.pB(l.ha);}).filter(function(l){l=l.JO;return !l || h.pB(l);}).forEach(function(l){var n;n=l.ha;h.c3[n]=h.R5a(l.JO);h.oSb(n);});};c.prototype.aSa=function(m){var d;d=this;m.filter(function(g){return d.pB(g);}).forEach(function(g){d.c3[g]=d.R5a(d.lf(g).Md);});};c.prototype.Fi=function(m,d){var g,h,l;g=this.lf(m);if(g && g.next){h=new k.ry(this.ql);l=Object.keys(g.next).reduce(function(n,q){n[q]=void 0 === d[q]?g.next[q]:Object.assign({},g.next[q],{weight:d[q]});return n;},{});l=Object.assign({},g,{next:l});h.Yk(m,l);this.ql=h.ri();}};c.prototype.pB=function(m,d){d=void 0 === d?this.ql.V:d;return (m in d);};c.prototype.nW=function(m){return this.c3[m];};c.prototype.lf=function(m){return this.ql.V[m];};c.prototype.KJb=function(m){if(this.Dxa.has(m))return this.Dxa.get(m);m=this.lf(m);return isFinite(m.Ba)?m.Ba:void 0;};c.prototype.R3b=function(m,d){this.Dxa.set(m,d);this.tSb(m);};c.prototype.o1b=function(m){this.Pcb.push(m);};c.prototype.p1b=function(m){this.uab.push(m);};c.prototype.n1b=function(m){this.t5a.push(m);};c.prototype.xSb=function(){var m;m=this;this.Pcb.forEach(function(d){return d(m.ql);});};c.prototype.oSb=function(m){this.t5a.forEach(function(d){return d(m);});};c.prototype.tSb=function(m){this.uab.forEach(function(d){return d(m);});};c.prototype.R5a=function(m){return null === m?void 0:m;};Ya.Object.defineProperties(c.prototype,{I$:{configurable:!0,enumerable:!0,get:function(){return this.Iqb;}},mza:{configurable:!0,enumerable:!0,get:function(){return this.$rb;}},ql:{configurable:!0,enumerable:!0,get:function(){return this.Jqb;},set:function(m){if(this.$g && !this.pB(this.$g,m.V))throw Error("Provided playgraphMap does not contain the current segmentId " + this.$g);this.R$a(m);}},$g:{configurable:!0,enumerable:!0,get:function(){return this.Qnb;},set:function(m){if(!this.pB(m))throw Error("Provided currentSegmentId " + m + " does not exist in the current playgraph");this.Qnb=m;}},ja:{configurable:!0,enumerable:!0,get:function(){return this.lf(this.$g);}}});b.xKa=c;},function(r,b,a){var f,k;function c(m,d,g,h,l){this.ej=m;this.eh=d;this.log=g;this.gj=h;this.Qm=l;this.C$=new f.ffa();}Object.defineProperty(b,"__esModule",{value:!0});b.VFa=void 0;f=a(558);k=a(122);c.prototype.Dsb=function(m){var d,g,h,l,n,q,p;this.log.info("Next episode added",m);q=this.C$.msa(m.playbackParams);p=Math.max(0,null !== (h=null !== (g=null !== (d=m.startPts) && void 0 !== d?d:m.nextStartPts) && void 0 !== g?g:q.$) && void 0 !== h?h:0);d=null !== (n=null !== (l=m.endPts) && void 0 !== l?l:m.currentEndPts) && void 0 !== n?n:q.zj;return this.eh.ctb({K:m.movieId,$:p,zj:d,Ab:q,oa:m.manifest,ej:this.ej});};c.prototype.$Ub=function(m){var d,g,h,l,n,q;m=this.C$.msa(m);this.log.info("Playing the next episode",m);h=this.eh.$Ya();l=this.eh.GH();n=l.V[h];q=Object.keys(null !== (d=n.next) && void 0 !== d?d:{}).find(function(p){return n.S !== l.V[p].S;});d=!this.gj.L$ || !(null === (g=m.Vm) || void 0 === g?0:g.isUIAutoPlay);return q?this.eh.zpa(h,q,m,d):Promise.reject(Error("Next episode not found"));};c.prototype.k5b=function(m){var d,g;d=this.Qm.js(m,k.NF.bea);m=this.Qm.js(m,k.NF.mBa);g=this.eh.lb;this.gj.L$ && g.$g !== m && g.pB(m) && g.nW(d) !== m && this.eh.Di({ha:d,JO:m});};b.VFa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.dSa=void 0;r=a(0);c=a(1268);f=a(31);b.dSa=new r.rd(function(k){k(f.oh).to(c.sAa).ba();});},function(r,b,a){var f,k,m,d,g,h,l,n,q,p,u,t,w;function c(v,x,y,z,A,B){var E;E=this;this.wl=v;this.config=y;this.rp=z;this.debug=A;this.Da=B;this.Ybb=[];this.Sc={};this.log=x.mb("loadAsync");this.NPb=(0,u.$Da)(function(D){E.GXb=!0;E.startTime=E.Da.Zb().da(q.la);E.load(E.Ybb).then(function(){E.endTime=E.Da.Zb().da(q.la);D(w.$e);}).catch(function(F){E.endTime=E.Da.Zb().da(q.la);D(F);});});}Object.defineProperty(b,"__esModule",{value:!0});b.sAa=void 0;r=a(1);f=a(71);k=a(3);m=a(1269);d=a(64);g=a(0);h=a(7);l=a(13);n=a(65);q=a(5);p=a(97);u=a(559);t=a(19);w=a(12);c.prototype.pO=function(v){this.NPb(v);};c.prototype.register=function(v,x){this.debug.assert(!this.GXb);this.Ybb.push({hPb:this.dwb(x),errorCode:v});};c.prototype.Ed=function(v){this.debug.assert(void 0 === this.Sc[v]);this.Sc[v]=this.Da.Zb().da(q.la);};c.prototype.load=function(v){var x;x=this;return (0,m.V7a)(v).then(function(y){x.wl.mark(d.uo.Zj.zeb);return y.reduce(function(z,A){return z.then(function(){return x.ePb(A);});},Promise.resolve()).then(function(){x.wl.mark(d.uo.Zj.xeb);});});};c.prototype.ePb=function(v){var x,y;x=this;y=v.hPb;!1;return this.rp.ar((0,q.Nc)(this.config().dub),y()).catch(function(z){x.log.error("Failed to load component " + v.errorCode,z);x.wl.mark(d.uo.Zj.yeb);if(z instanceof n.Ir)throw {ta:k.M.web,errorCode:v.errorCode};z.errorCode=z.errorCode || v.errorCode;z.ta=z.ta || k.M.veb;throw z;});};c.prototype.dwb=function(v){return function(){return new Promise(function(x,y){v(function(z){z.aa?x():y(z);});});};};a=c;a=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(f.QF)),r.__param(1,(0,g.l)(h.ub)),r.__param(2,(0,g.l)(l.ad)),r.__param(3,(0,g.l)(n.sy)),r.__param(4,(0,g.l)(p.Ev)),r.__param(5,(0,g.l)(t.md))],a);b.sAa=a;},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.V7a=void 0;c=a(3);f=[c.N.Bib,c.N.dFa,c.N.bFa,c.N.cFa,c.N.hFa,c.N.ZEa,c.N.XEa,c.N.Hda,c.N.jFa,c.N.$Ea,c.N.yib,c.N.zib,c.N.YEa,c.N.YB,c.N.UEa,c.N.WEa,c.N.eFa,c.N.fFa,c.N.gFa,c.N.Cib,c.N.Eib,c.N.Iib,c.N.Gib,c.N.Fib,c.N.Dib,c.N.Hib,c.N.Kib,c.N.aFa,c.N.Jib,c.N.VEa];(function(m){m.kkb=function(d){var l;for(var g={},h=0;h < d.length;h++){l=d[h];if(g[l.errorCode])return {errorCode:l.errorCode,ta:c.M.teb};g[l.errorCode]=1;}};m.lkb=function(d){var h;for(var g=0;g < d.length;g++){h=d[g];if(-1 === f.indexOf(h.errorCode))return {errorCode:h.errorCode,ta:c.M.ueb};}};})(k || (k={}));b.V7a=function(m){return new Promise(function(d,g){var h;h=k.lkb(m);h && g(h);(h=k.kkb(m)) && g(h);d(m.sort(function(l,n){return f.indexOf(l.errorCode) - f.indexOf(n.errorCode);}));});};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.oa=void 0;r=a(0);c=a(1271);f=a(120);b.oa=new r.rd(function(k){k(f.vF).to(c.RGa).ba();});},function(r,b,a){var f,k,m,d,g,h,l,n,q,p;function c(u,t,w,v,x,y){this.pg=t;this.P3a=v;this.rX=y;this.YY=new Map();this.log=u.mb("ManifestFetcher");this.Jg=w.Jg;this.Fvb=x().SDb;}Object.defineProperty(b,"__esModule",{value:!0});b.RGa=void 0;r=a(1);f=a(0);k=a(19);m=a(40);d=a(7);g=a(5);h=a(13);l=a(104);n=a(51);q=a(298);a=a(133);c.prototype.DN=function(u,t,w){var v;v=this;t=void 0 === t?!0:t;w && this.Xsb(u.S,w);return t && this.Epa(u.S)?this.E6(u.S).catch(function(){return v.l9a(u,t);}):this.l9a(u,t);};c.prototype.Epa=function(u){return this.Jg.EW(u,"manifest");};c.prototype.RZ=function(u,t){var w;w=this;this.Fvb && this.Jg.setData(u,"manifest",t,function(){return w.AKb(u);});};c.prototype.E6=function(u){var t;t=this;return this.Jg.getData(u,"manifest").then(function(w){if(!w)throw Error("Manifest not found");if(w.Nb.expiration <= (0,n.K4)())throw (t.Jg.clearData(u,"manifest"),Error("Manifest has expired"));return w;});};c.prototype.AKb=function(u){var t;null === (t=this.YY.get(u)) || void 0 === t?void 0:t.forEach(function(w){return w();});this.YY.delete(u);};c.prototype.Xsb=function(u,t){this.YY.has(u) || this.YY.set(u,[]);this.YY.get(u).push(t);};c.prototype.l9a=function(u,t){var w,v,x;w=this;this.log.trace("Requesting a new manifest",u.S);v=this.pg.Zb().da(g.la);x=(u.tj?this.h3b(u).catch(function(y){w.log.warn(y.message);return w.P3a.tg(w.log,u);}):this.P3a.tg(this.log,u)).then(function(y){var z,A;if(y.Lz){z=y.Lz;A={Gaa:Promise.resolve(z),source:"manifest"};delete y.Lz;w.Jg.setData(u.S,"ldl",A,function(){z.close().catch(function(B){w.log.info("Unable to cleanup LDL session.",B);});});}u.ou === l.nn.IF && (y.aJ=v,y.xP=w.pg.Zb().da(g.la));return y;}).catch(function(y){t && w.RZ(u.S,void 0);w.log.error("Failed to fetch manifest",m.od.wd(y));throw y;});t && this.RZ(u.S,x);return x;};c.prototype.h3b=function(u){var t;t=this;return new Promise(function(w,v){var x,y,z;t.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",u.S);z=null === (x=u.tj) || void 0 === x?void 0:x.q$;if(!z)return v(Error("Parent manifest does not exist."));x=null === (y=z.sSa) || void 0 === y?void 0:y.find(function(A){var B;return A.K === u.S && A.Si === (null === (B=u.tj) || void 0 === B?void 0:B.Si);});if(!x)return v(Error("Auxiliary manifest not found in parent manifest."));w(t.rX.create(x));});};p=c;p=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(d.ub)),r.__param(1,(0,f.l)(k.md)),r.__param(2,(0,f.l)(q.Qca)),r.__param(3,(0,f.l)(l.Oea)),r.__param(4,(0,f.l)(h.ad)),r.__param(5,(0,f.l)(a.GK))],p);b.RGa=p;},function(r,b,a){var c,f,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.FRa=void 0;c=a(1273);f=a(125);r=a(0);k=a(95);m=a(13);b.FRa=new r.rd(function(d){d(f.dK).to(c.Uza).ba();});b.profile=new r.rd(function(d){d(k.uS).SE(function(g){return (g=g.fb.get(m.ad)()) && g.Lw?"browsertest":"browser";});});},function(r,b,a){var f,k,m,d,g,h;function c(l,n,q,p){l=d.af.call(this,l,void 0 === p?"AppInfoConfigImpl":p) || this;l.config=n;l.wba=q;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.Uza=void 0;r=a(1);f=a(0);k=a(41);m=a(46);d=a(47);g=a(37);a=a(283);na(c,d.af);c.prototype.TIb=function(l){return "" + this.ZWa + (this.wba.Naa(l)?"/msl_v1":"");};c.prototype.dJb=function(l){return "" + this.host + (this.wba.Naa(l)?"/msl":"") + "/playapi";};Ya.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},ZWa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var l;switch(this.config.iN){case k.cy.hmb:l="www.stage";break;case k.cy.vMa:l="www-qa.test";break;case k.cy.AFa:l="www-int.test";break;default:l="www";}return "https://" + l + ".netflix.com";}},zSa:{configurable:!0,enumerable:!0,get:function(){return "pbo_manifests";}}});h=c;r.__decorate([m.config(m.string,"apiEndpoint")],h.prototype,"endpoint",null);r.__decorate([m.config(m.string,"nqEndpoint")],h.prototype,"ZWa",null);r.__decorate([m.config(m.string,"bindService")],h.prototype,"zSa",null);h=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.fm)),r.__param(1,(0,f.l)(k.kn)),r.__param(2,(0,f.l)(a.f2)),r.__param(3,(0,f.l)(g.r0)),r.__param(3,(0,f.optional)())],h);b.Uza=h;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.A4b=b.omb=b.mmb=b.lmb=b.nmb=void 0;c=a(30);f=a(11);b.nmb=function(k,m,d){for(d=(d - k.length) / m.length;0 < d--;){k+=m;}return k;};b.lmb=function(k,m,d){d=(0,c.Ue)(d)?d:"...";return k.length <= m?k:k.substr(0,k.length - (k.length + d.length - m)) + d;};b.mmb=function(k,m){var g;for(var d=1;d < arguments.length;++d){;}g=f.slice.call(arguments,1);return k.replace(/{(\d+)}/g,function(h,l){return "undefined" != typeof g[l]?g[l]:h;});};b.omb=function(k){for(var m=k.length,d=new Uint16Array(m),g=0;g < m;g++){d[g]=k.charCodeAt(g);}return d.buffer;};b.A4b=function(k){var m;m=new Uint8Array(k.length);Array.prototype.forEach.call(k,function(d,g){m[g]=d.charCodeAt(0);});return m;};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(8);b=a(115);a=a(295);r.pa.get(b.CK).baa(a.Zda.Tfb,function(c){var f,k;f=c.level;if(!nb._cad_global.config || f <= nb._cad_global.config.zPb){c=c.mba();k=nb.console;1 >= f?k.error(c):2 >= f?k.warn(c):k.log(c);}});},function(r,b,a){var h,l,n,q,p;function c(u){var t,v;(0,l.QM)(u);if((0,n.Ue)(u) && b.mFa.test(u)){t=u.split(".");if(4 === t.length){for(var w=0;w < t.length;w++){v=(0,n.Ie)(t[w]);if(0 > v || !(0,p.tA)(v,0,255) || 1 !== t[w].length && 0 === t[w].indexOf("0"))return;}return u;}}}function f(u){var t;t=0;if(c(u) === u)return (u=u.split("."),t+=(0,n.Ie)(u[0]) << 24,t+=(0,n.Ie)(u[1]) << 16,t+=(0,n.Ie)(u[2]) << 8,t + (0,n.Ie)(u[3]));}function k(u){var t,w;(0,l.QM)(u);if((0,n.Ue)(u) && u.match(b.nFa)){t=u.split(":");-1 !== t[t.length - 1].indexOf(".") && (u=m(t[t.length - 1]),t.pop(),t.push(u[0]),t.push(u[1]),u=t.join(":"));u=u.split("::");if(!(2 < u.length || 1 === u.length && 8 !== t.length) && (t=1 < u.length?d(u):t,u=t.length,8 === u)){for(;u--;){w=parseInt(t[u],16);if(!(0,p.tA)(w,0,h.CGa))return;}return t.join(":");}}}function m(u){var t;u=f(u) >>> 0;t=[];t.push((u >>> 16 & 65535).toString(16));t.push((u & 65535).toString(16));return t;}function d(u){var t,w,v;t=u[0].split(":");u=u[1].split(":");1 === t.length && "" === t[0] && (t=[]);1 === u.length && "" === u[0] && (u=[]);w=8 - (t.length + u.length);if(1 > w)return [];for(v=0;v < w;v++){t.push("0");}for(v=0;v < u.length;v++){t.push(u[v]);}return t;}function g(u){return -1 << 32 - u;}Object.defineProperty(b,"__esModule",{value:!0});b.ajb=b.fjb=b.cjb=b.bjb=b.ejb=b.$ib=b.djb=b.nF=b.nFa=b.mFa=void 0;h=a(12);l=a(22);n=a(30);q=a(11);p=a(18);b.mFa=/^[0-9.]*$/;b.nFa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.nF="0000000000000000";b.djb=c;b.$ib=f;b.ejb=k;b.bjb=m;b.cjb=d;b.fjb=function(u,t,w){var v,x,y,z;v=c(u);x=k(u);y=c(t);z=k(t);if(!v && !x || !y && !z || v && !y || x && !z)return !1;if(u === v)return (w=g(w),(f(u) & w) !== (f(t) & w)?!1:!0);if(u === x){u=u.split(":");t=t.split(":");for(v=(0,q.$B)(w / b.nF.length);v--;){if(u[v] !== t[v])return !1;}w%=b.nF.length;if(0 !== w)for((u=parseInt(u[v],16).toString(2),t=parseInt(t[v],16).toString(2),u=b.nF.substring(0,b.nF.length - u.length) + u,t=b.nF.substring(0,b.nF.length - t.length) + t,v=0);v < w;v++){if(u[v] !== t[v])return !1;}return !0;}return !1;};b.ajb=g;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(14);a(12);r=a(8);a(115);a(295);a(3);a(114);a(5);a=a(31);r.pa.get(a.oh);!1;},function(r,b,a){var c,f,k,m,d,g,h,l,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(49);f=a(12);k=a(14);m=a(3);d=a(203);g=a(35);h=a(11);l=a(8);r=a(31);n=l.pa.get(r.oh);n.register(m.N.hFa,function(q){h.nq && h.nq.generateKey && h.nq.importKey && h.nq.unwrapKey?!l.pa.get(g.fC).Xca && k.config.nM != d.Tx.nlb && k.config.nM != d.Tx.yjb || h.r1?(n.Ed("wcs"),(0,c.FI)(h.nq.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){n.Ed("wcdone");q(f.$e);},function(p){var u;p="" + p;if(0 <= p.indexOf("missing crypto.subtle"))u=m.M.aga;else 0 <= p.indexOf("timeout waiting for iframe to load") && (u=m.M.Hmb);q({ta:u,yb:p});})):q({ta:m.M.Gmb}):q({ta:m.M.aga});});},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});r=a(3);c=a(8);f=a(511);a=a(31);c.pa.get(a.oh).register(r.N.XEa,function(k){c.pa.get(f.WCa)().then(function(){k({aa:!0});}).catch(function(m){c.log.error("error in initializing indexedDb debug tool",m);k({aa:!0});});});},function(r,b,a){var m,d,g,h;function c(l,n,q,p){var u,t,w;(0,m.jb)((0,h.Rh)(l) && !(0,h.isArray)(l));p=p || "";u="";t=l.hasOwnProperty(g.Pk) && l[g.Pk];t && (0,d.ve)(t,function(v,x){u && (u+=" ");u+=v + '="' + k(x) + '"';});q=(n?n + ":":"") + q;t=p + "<" + q + (u?" " + u:"");w=l.hasOwnProperty(g.mt) && l[g.mt].trim && "" !== l[g.mt].trim() && l[g.mt];if(w)return t + ">" + k(w) + "</" + q + ">";l=f(l,n,p + "  ");return t + (l?">\n" + l + "\n" + p + "</" + q + ">":"/>");}function f(l,n,q){var p;(0,m.jb)((0,h.Rh)(l) && !(0,h.isArray)(l));q=q || "";p="";(0,d.ve)(l,function(u,t){var x;if("$" != u[0])for(var w=(0,d.ax)(t),v=0;v < w.length;v++){if((t=w[v],p && (p+="\n"),(0,h.Rh)(t)))p+=c(t,n,u,q);else {x=(n?n + ":":"") + u;p+=q + "<" + x + ">" + k(t) + "</" + x + ">";}}});return p;}function k(l){if((0,h.Ue)(l))return (0,d.GW)(l);if((0,h.Ea)(l))return ((0,m.cV)(l,"Convert non-integer numbers to string for xml serialization."),"" + l);if(null === l || void 0 === l)return "";(0,m.jb)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.z2b=b.$Nb=b.ZNb=void 0;m=a(22);d=a(24);g=a(160);h=a(18);b.ZNb=c;b.$Nb=f;b.z2b=k;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v,x,y,z,A;Object.defineProperty(b,"__esModule",{value:!0});c=a(302);f=a(197);k=a(14);m=a(12);d=a(3);g=a(22);h=a(8);l=a(71);n=a(64);q=a(79);p=a(24);u=a(11);t=a(18);w=a(49);v=a(114);x=a(5);r=a(31);y=a(482);z={};A=h.pa.get(r.oh);A.register(d.N.$Ea,function(B){var G,C,H,K,M,I,Q,L,J,N,O,P,S,U;function E(Z){Z && Z.userList && k.config.Y_b && (Z.userList=[]);K({esn:f.qk.il,esnPrefix:f.qk.Xo,authenticationType:k.config.nM,authenticationKeyNames:k.config.mSa,systemKeyWrapFormat:k.config.M1b,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:S,storeState:Z,notifyMilestone:A.Ed.bind(A),log:Q,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:d.M.Mjb,MSL_READ_TIMEOUT:d.M.Ljb}},{result:function(ja){D(ja);},timeout:function(){B({ta:d.M.LGa});},error:function(ja){B(F(d.M.LGa,void 0,ja));}});}function D(Z){var ya,ra,Y;function ja(){P && h.pa.get(q.QB).create().then(function(pa){return pa.save(N,ra,!1);}).catch(function(pa){Q.error("Error persisting msl store",(0,d.Iv)(pa));});}ya=h.pa.get(v.UK)((0,x.Nc)(100));Y=M.extend({init:function(pa){this.sPa=pa;},getResponse:function(pa,T,R){var ea,sa;T=this.sPa;ea=T.h5a.mf || ea;pa=(0,t.cra)(pa.body)?(0,h.C_)(pa.body):pa.body;(0,g.QM)(pa,"Msl should not be sending empty request");pa={url:T.url,Oua:pa,withCredentials:!0,jD:"nq-" + T.method,headers:T.headers};T=this.sPa.timeout;pa.S4=T;pa.pta=T;sa=ea.download(pa,function(la){try{if(la.aa)R.result({body:la.content});else if(400 === la.tk && la.yb)R.result({body:la.yb});else throw (0,p.ac)(new I("HTTP error, SubCode: " + la.ta + (la.tk?", HttpCode: " + la.tk:"")),{cadmiumResponse:la});}catch(Ka){R.error(Ka);}});return {abort:function(){sa.abort();}};}});J && Z.addEventHandler("shouldpersist",function(pa){ra=pa.storeState;ya.Yl(ja);});(0,p.ac)(z,{zcc:function(){O=!0;},send:function(pa){function T(){var R,ea;R=pa.h5a;ea={method:pa.method,nonReplayable:pa.aSb,encrypted:pa.gl,userId:pa.y4b,body:pa.body,timeout:2 * pa.timeout,url:new Y(pa),allowTokenRefresh:P,sendUserAuthIfRequired:U,shouldSendUserAuthData:k.config.b0b};R.email?(ea.email=R.email,ea.password=R.password || ""):R.B2b?(ea.token=R.B2b,ea.mechanism=R.odc,R.gta && (ea.netflixId=R.gta,ea.secureNetflixId=R.rZb),R.iva && (ea.profileGuid=R.iva)):R.gta?(ea.netflixId=R.gta,ea.secureNetflixId=R.rZb):R.FQb?(ea.mdxControllerToken=R.FQb,ea.mdxPin=R.mdc,ea.mdxNonce=R.ldc,ea.mdxEncryptedPinB64=R.kdc,ea.mdxSignature=R.ndc):O || R.useNetflixUserAuthData?ea.useNetflixUserAuthData=!0:R.iva && (ea.profileGuid=R.iva);return ea;}return new Promise(function(R,ea){var sa;sa=T();Z.send(sa).then(function(la){O && (O=!1);R({aa:!0,body:la.body});}).catch(function(la){var Ka,Ua;if(la.error){Ka=la.error.cadmiumResponse && la.error.cadmiumResponse.ta?la.error.cadmiumResponse.ta:Z.isErrorReauth(la.error)?d.M.KGa:Z.isErrorHeader(la.error)?d.M.Fjb:d.M.Ejb;Ua=Z.getErrorCode(la.error);ea(F(Ka,Ua,la.error));}else (Q.error("Unknown MSL error",la),la.Ec=la.subCode,ea({ta:la.Ec?la.Ec:d.M.Njb}));});});},LX:Z});B(m.$e);h.pa.get(y.tea).MRb(z);}function F(Z,ja,ya){var ra,Y,pa,T;pa={ta:Z,Q5:ja};if(ya){T=function(R){var ea;R=R || "" + ya;if(ya.stack){ea="" + ya.stack;R=0 <= ea.indexOf(R)?ea:R + ea;}return R;};if(Y=ya.cadmiumResponse){if(ra=Y.uf && Y.uf.toString())Y.uf=ra;Y.ta=Z;Y.Q5=ja;Y.yb=T(ya.message);Y.error={Ec:Z,Nd:ra,PA:ja,data:ya.cause,message:ya.message};return Y;}T=T(ya.errorMessage);ra=(0,p.Ie)(ya.internalCode) || (0,p.Ie)(ya.error && ya.error.internalCode);Y=void 0 !== ya.AEb?(0,w.Dta)(ya.AEb):void 0;}T && (pa.yb=T);ra && (pa.uf=ra);pa.error={Ec:Z,Nd:ra.toString(),PA:ja,data:Y,message:T};return pa;}(0,g.jb)(k.config);G=h.pa.get(l.QF);C=n.uo.Zj;if(u.dC && u.nq && u.nq.unwrapKey){try{H=nb.netflix.msl;K=H.createMslClient;M=H.IHttpLocation;I=H.MslIoException;}catch(Z){B({ta:d.M.Gjb});return;}Q=(0,h.aj)("Msl");L=k.config.IRb;J=k.config.KRb;N=k.config.Lw?"mslstoretest":"mslstore";H=c.zJ.u$a;O=k.config.aMb;P=!H || H.aa;S=(0,h.Wr)(k.config.Lw?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");U=! !k.config.Xwa;h.pa.get(q.QB).create().then(function(Z){L?Z.remove(N).then(function(){E();}).catch(function(ja){Q.error("Unable to delete MSL store",(0,d.Iv)(ja));E();}):J?Z.load(N).then(function(ja){G.mark(C.Ijb);E(ja.value);}).catch(function(ja){ja.ta == d.M.kC?(G.mark(C.Kjb),E()):(Q.error("Error loading msl store",(0,d.Iv)(ja)),G.mark(C.Jjb),Z.remove(N).then(function(){E();}).catch(function(ya){B(ya);}));}):E();}).catch(function(Z){Q.error("Error creating app storage while loading msl store",(0,d.Iv)(Z));B(Z);});}else B({ta:d.M.Hjb});});},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(162);f=a(12);k=a(14);m=a(61);d=a(51);r=a(3);g=a(8);h=a(71);l=a(11);n=a(63);q=a(18);p=a(50);u=a(87);a=a(31);v=g.pa.get(a.oh);v.register(r.N.YEa,function(x){var z;function y(){var A,B,E;A=v.startTime;B={browserua:l.eC,browserhref:l.t1.href,initstart:A,initdelay:v.endTime - A};(A=l.Be.documentMode) && (B.browserdm="" + A);"undefined" !== typeof nb.nrdp && nb.nrdp.device && (B.firmware_version=nb.nrdp.device.firmwareVersion);(0,q.uA)(k.config.AXa) && (B.fesn=k.config.AXa);Object.assign(B,(0,c.Yoa)());E=l.Ov && l.Ov.timing;E && k.config.wPb.map(function(D){var F;F=E[D];F && (B["pt_" + D]=F - (0,d.MTa)());});A=z.PZa();Object.entries(A).forEach(function(D){var F;F=ba(D);D=F.next().value;F=F.next().value;return B["m_" + D]=F;});A=w.$t("startup","info",B,m.gC.xna);t.Jc(A);}w=g.pa.get(u.iy);t=g.pa.get(p.ln);z=g.pa.get(h.QF);v.pO(function(){t.Fb();(0,n.Xf)(y);});x(f.$e);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w,v,x;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);f=a(42);k=a(520);m=a(1285);d=a(306);g=a(14);h=a(12);l=a(195);n=a(561);q=a(51);r=a(3);p=a(8);u=a(290);t=a(11);w=a(303);b=a(31);v=a(61);x=a(164);p.pa.get(b.oh).register(r.N.UEa,function(y){var z,A,B,E,D,F,G;z=p.pa.get(u.w1).tla();A=p.pa.get(l.ida).mK;B=p.pa.get(k.rHa).Br;E={B$:(0,p.ZV)("ASE"),Qtb:(0,p.ZV)("JS-ASE",void 0,"Platform"),aj:p.ZV,storage:w.storage,SIb:t.kK,getTime:q.mk,nO:{},Br:B,Rv:m.Rv,mK:A,MediaSource:n.uHa,SourceBuffer:d.nea,Zo:function(){return [g.config.Z3,g.config.c4];},Zt:function(C){v.yo.forEach(function(H){H.X$a(C);});}};A=new Promise(function(C){w.storage.load("nh",function(H){E.nO.nh=H.aa?H.data:void 0;C();});});B=new Promise(function(C){w.storage.load("lh",function(H){E.nO.lh=H.aa?H.data:void 0;C();});});D=new Promise(function(C){w.storage.load("gh",function(H){E.nO.gh=H.aa?H.data:void 0;C();});});F=new Promise(function(C){w.storage.load("sth",function(H){E.nO.sth=H.aa?H.data:void 0;C();});});G=new Promise(function(C){w.storage.load("vb",function(H){E.nO.vb=H.aa?H.data:void 0;C();});});Promise.all([A,B,G,F,D]).then(function(){return c.__awaiter(this,void 0,void 0,function H(){var K,M;return Ja(H,function(I){var Q;if(1 == I.yI){K=a(1287)(E);x.Pt.hf=a(562);x.Pt.hf.declare(f.Zi);x.Pt.hf.set(a(184)(g.config),!0,(0,p.ZV)("ASE"));Q=f.DH(K);I.yI=2;return {value:Q};}M=I.Iza;M.open(x.Pt.hf,z);M.bxa({audio:g.config.Z3,video:g.config.c4},{U:g.config.jZ,ga:void 0});x.Pt.Ei=M;y(h.$e);I.yI=0;});});}).catch(function(C){E.B$.error("Exception loading location history from local storage",C);});});},function(r,b,a){var f,k,m,d,g,h,l;function c(){var n;n=new k.Rk();this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.Hc.bind(this);this.k3=h++;this.Ig=(0,m.aj)("ProbeRequest");this.OPa=f.MKa;(0,d.jb)(void 0 !== this.OPa);this.Jh=b.Rv.Uc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Rv=void 0;f=a(1286);k=a(73);m=a(8);d=a(22);g=a(30);h=0;(function(){function n(){return JSON.stringify({url:this.Gl,id:this.k3,affected:this.n2,readystate:this.Jh});}(0,g.ac)(c.prototype,{MO:function(q){q.affected=this.n2;q.probed={requestId:this.k3,url:this.Gl,Qd:this.LT,groupId:this.R2};this.emit(b.Rv.Ne.iS,q);},wta:function(q){this.Irb=q.httpcode;q.affected=this.n2;q.probed={requestId:this.k3,url:this.Gl,Qd:this.LT,groupId:this.R2};this.emit(b.Rv.Ne.FF,q);},open:function(q,p,u,t){if(!q)return (!1,!1);this.Gl=q;this.n2=p;this.LT=u;this.Jh=b.Rv.Uc.OPENED;this.fpb=t;this.OPa.XV(this);return !0;},fd:function(){!1;return !0;},wi:function(){return this.k3;},toString:n,toJSON:n});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.Jh;},set:function(){}},status:{get:function(){return this.Irb;}},url:{get:function(){return this.Gl;}},vac:{get:function(){return this.n2;}},oPb:{get:function(){return this.fpb;}}});})();(function(n){n.Ne={iS:"pr0",FF:"pr1"};n.Uc={UNSENT:0,OPENED:1,vy:2,DONE:3,rK:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(l || (l={}));b.Rv=Object.assign(c,l);},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.MKa=void 0;c=a(8);f=a(74);b.MKa=(function(){(0,c.aj)("ProbeDownloader");return {XV:function(k){k={url:k.url,nWb:k};!1;f.mf.qWb(k);}};})();},function(r,b,a){var g,h,l,n,q,p,u,t,w,v,x,y,z,A,B,E;function c(D,F,G){this.Qo=D;this.groups=F;this.prefix=G;D=v(D,F,G);this.info=D.info.bind(D);this.fatal=D.fatal.bind(D);this.error=D.error.bind(D);this.warn=D.warn.bind(D);this.trace=D.trace.bind(D);this.debug=D.debug.bind(D);this.log=D.log.bind(D);}function f(){this.JUa=function(){throw Error("Not implemented");};this.JCb={query:function(){throw Error("Not implemented");},read:function(){throw Error("Not implemented");},create:function(){throw Error("Not implemented");},append:function(){throw Error("Not implemented");}};}function k(){}function m(){return w?w:"0.0.0.0";}function d(D){D({u6a:0,$Z:0,B0a:0,zXa:0});}g=a(17);f.prototype.set=function(D,F){n[D]=F;q.save(D,F);};f.prototype.get=function(D,F){if(n.hasOwnProperty(D))return n[D];t.trace("key: " + D + ", is not available in storage cache and needs to be retrieved asynchronously");q.load(D,function(G){G.aa?(n[D]=G.data,F && F(G.data)):n[D]=void 0;});};f.prototype.remove=function(D){q.remove(D);};f.prototype.clear=function(){t.info("WARNING: Calling unimplemented function Storage.clear()");};k.prototype.now=function(){return p();};k.prototype.fa=function(){return u();};k.prototype.bta=function(D){return D + p() - u();};k.prototype.yta=function(D){return D + u() - p();};c.prototype.$Ua=function(D){var F;F=[];this.prefix && Array.isArray(this.prefix)?F.push.apply(F,ha(this.prefix)):this.prefix && F.push(this.prefix);F.push(D);return new c(this.Qo,this.groups,F);};x=(function(){var D;D=Promise;D.prototype.fail=Promise.prototype.catch;return D;})();r.exports=function(D){h=D.B$;v=D.aj;q=D.storage;n=D.nO;p=D.SIb;u=D.getTime;t=D.Qtb;y=D.Br;E=D.Rv;z=D.mK;A=D.SourceBuffer;B=D.MediaSource;w=D.Ccc;l=D.Zt;return {name:"cadmium",Zt:l,B$:h,storage:new f(),Storage:f,time:new k(),events:new g.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:x,Br:y,mK:z,Qjb:A,MediaSource:B,Rv:E,np:{name:m},memory:{aIb:d},Zo:D.Zo};};},function(r,b,a){r.exports={EventEmitter:a(1289),gi:a(1290)};},function(r){function b(c,f){var k;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Ad)return (this.Ad={},this.Ad[c]=[f],!0);k=this.Ad[c];return void 0 === k?(this.Ad[c]=[f],!0):0 > k.indexOf(f)?(k.push(f),!0):!1;}function a(c,f){c=this.Ad?this.Ad[c]:void 0;if(!c)return !1;c.forEach(function(k){k(f);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,f){var k;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Ad)return !1;k=this.Ad[c];if(void 0 === k)return !1;f=k.indexOf(f);if(0 > f)return !1;if(1 === k.length)return (delete this.Ad[c],!0);k.splice(f,1);return !0;},Ya:a,emit:a,removeAllListeners:function(c){this.Ad && (void 0 === c?delete this.Ad:delete this.Ad[c]);return this;}};},function(r){function b(c,f,k,m){c.trace(":",k,":",m);f(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,f,k,m){k=m?k.bind(m):k;m=!1;if(c){this.console && (k=b.bind(null,this.console,k,f));if("function" === typeof c.addEventListener)m=c.addEventListener(f,k);else if("function" === typeof c.addListener)m=c.addListener(f,k);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,k]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var k,m;k=f[0];m=f[1];f=f[2];"function" === typeof k.removeEventListener?k.removeEventListener(m,f):"function" === typeof k.removeListener && k.removeListener(m,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var f,k,m,d,g,h,l,n,q;function c(p,u){var v,x,y,z,A,B,E,D,F,G,C;function t(){var H;H=p.Bb.value === n.hb.Lc && p.state.value === n.Tb.te && p.K === u.K;C?H || (clearInterval(C),B=C=void 0):H && (C=nb.setInterval(w,1E3));}function w(){var H,K,M,I,Q,L;H=p.re.value;H=(H=H && H.stream) && H.height;if(null !== H && 0 < H){K=(0,d.mk)();M=p.dg.yH();if(M){if(B && 2E3 > K - B.time && H === B.height){I=M - B.jDb;Q=x[H];Q || (x[H]=Q=[],H > D && (A.push(H),(0,m.d0)(A)));0 < I && !(G && G < H) && (G=H);Q.push(I);Q.length > E && Q.shift();(Q=z[H]) || (z[H]=Q={});L=Q[I];Q[I]=L?L + 1:1;}B={time:K,jDb:M,height:H};p.A$ && p.A$.a_b(x);}}}v=(0,g.Qh)(p,"DFF");x={};y=f.config.nDb;z={};A=[];E=f.config.lDb;D=f.config.mDb;F=k.BGa;if(f.config.kDb)return (u.yma={SGb:function(){var H;H={};z && A.forEach(function(K){var M,I,Q;M=z[K];if(M){I=0;Q=0;(0,q.ve)(M,function(L,J){Q+=(0,h.Ie)(L);I+=J;});H[K]=Q / I;}});return H;},qW:function(H){var K;K={};H.forEach(function(M){K[M]={};});z && ((0,m.d0)(H),A.forEach(function(M){var I,Q,L,J;I=z[M];if(I){Q=0;L=0;(0,q.ve)(I,function(U,Z){Q+=Z;});J=Object.keys(I).map(Number);(0,m.d0)(J);for(var N=J.length - 1,O=J[N],P=H.length - 1;0 <= P;P--){for(var S=H[P];O >= S && 0 <= N;){(O=I[O]) && (L+=O);O=J[--N];}K[S][M]=(0,l.Vj)(L / Q * 100);}}}));return K;}},p.state.addListener(t),p.Bb.addListener(t),p.addEventListener(n.ea.hI,t),{nN:"df",sv:function(H){var I,Q,L,O,P;if(H.lower && H.height > D){H=H.height;a:{if(G){for(var K=A.length,M=0;M < K;M++){I=A[M];if(I >= G && I < F){Q=x[I];if(L=Q)b:{L=y.length;for(var J=Q.length,N=0;N < L;N++){O=y[N];P=O[0];O=O[1];for(var S=0;S < J;S++){if(Q[S] >= O && 0 >= --P){L=!0;break b;}}}L=!1;}if(L && F != I){v.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:I});u.gq.set({reason:"droppedFrames",height:I});K=F=I;break a;}}}G=void 0;}K=F;}H=H >= K;}else H=!1;return H;}});}Object.defineProperty(b,"__esModule",{value:!0});b.Sjb=void 0;r=a(108);f=a(14);k=a(12);m=a(49);d=a(51);g=a(8);h=a(30);l=a(11);n=a(15);q=a(24);(0,r.yF)(c);b.Sjb=c;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(108);(0,r.yF)(function(){return {nN:"op",sv:function(){}};});},function(r,b,a){var f,k;function c(m,d){var g,h;g=(0,k.Qh)(m,"MSS");if(f.config.fRb)return {nN:"mss",sv:function(l){var n,q;if(l.lower && 2160 <= l.height)a:{for(n=l;n.lower;){if(2160 > n.height && 1080 < n.height){n=!0;break a;}if(1080 >= n.height)break;n=n.lower;}n=!1;}else n=void 0;if(n){if(void 0 === h){try{q=nb.MSMediaKeys;h=q && q.isTypeSupportedWithFeatures?"probably" === q.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(p){g.error("hasUltraHdDisplay exception");h=!0;}h || (g.warn("Restricting resolution due screen size",{MaxHeight:l.height}),d.gq.set({reason:"microsoftScreenSize",height:l.height}));}return !h;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Tjb=void 0;r=a(108);f=a(14);k=a(8);(0,r.yF)(c);b.Tjb=c;},function(r,b,a){var c,f,k,m;Object.defineProperty(b,"__esModule",{value:!0});r=a(108);c=a(1295);f=a(8);k=a(35);m=a(70);(0,r.yF)(function(d){var g;if(f.pa.get(k.Cl).XY){g=f.pa.get(m.vt);return new c.KFa(d,f.cg,g);}});},function(r,b,a){var f;function c(k,m,d){var g;g=this;this.j=k;this.wa=m;this.dE=d;this.$qa=!1;this.log=this.wa.mb("KeySystemRobustness",this.j);this.$qa=!1;this.dE.Sw().then(function(h){var l,n;n=null === (l=h.getConfiguration().videoCapabilities) || void 0 === l?void 0:l.map(function(q){return q.robustness;});g.$qa=!(null === n || void 0 === n || !n.some(function(q){return q === f.wK;}));k.Y$a("keySystem",h.keySystem);k.Y$a("robustness",null === n || void 0 === n?void 0:n.toString());g.log.trace("KeySystemRobustness: " + n);}).catch(function(h){g.log.error("KeySystemRobustness exception",h);});}Object.defineProperty(b,"__esModule",{value:!0});b.KFa=void 0;f=a(55);c.prototype.sv=function(k){return k.lower && k.ml && !this.$qa && 720 < k.height;};Ya.Object.defineProperties(c.prototype,{nN:{configurable:!0,enumerable:!0,get:function(){return "KeySystemRobustness";}}});b.KFa=c;},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});r=a(108);c=a(14);f=a(8);k=a(1297);(0,r.yF)(function(m,d){if(c.config.eOb)return new k.JFa(m,d,f.cg,c.config,f.za,f.Oc);});},function(r,b,a){var f,k,m;function c(d,g,h,l,n,q){var p;p=this;this.j=d;this.xa=g;this.wa=h;this.config=l;this.za=n;this.Oc=q;this.ytb=function(u){!0 === u.oldValue && !1 === u.newValue && (p.log.error("RestartStreaming: UHD key is no longer usable"),p.j.NYb());};this.j3b=function(u){var t,w,v;p.log.trace("UhdKeyStatus: " + u.oldValue + " -> " + u.newValue);w=null === u || void 0 === u?void 0:u.newValue;v=null === u || void 0 === u?void 0:u.oldValue;"usable" !== w && (p.VZb(w,(null === (t=null === u || void 0 === u?void 0:u.Am) || void 0 === t?void 0:t.height) || 0),"usable" === v && (u=p.za.jf.Ka(p.gOb),p.log.error("UHD KeyStatus unexpectedly changed: " + u.da(m.la))));};this.p2a=!1;this.log=this.wa.mb("KeyStatusStreamFilter",this.j);this.vRa=new k.ec(!1,this.ytb);this.i3b=new k.ec(void 0,this.j3b);}Object.defineProperty(b,"__esModule",{value:!0});b.JFa=void 0;f=a(211);k=a(80);m=a(5);c.prototype.sv=function(d){return d.ml && (this.l1b(),this.vRa.set(this.p2a && this.$Kb),d.lower && 1080 < d.height && !this.vRa.value)?!0:!1;};c.prototype.Hxb=function(){this.$Kb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.v0a);};c.prototype.rAb=function(){var d,g,h;g={};h=null === (d=this.xa.Ag.value) || void 0 === d?void 0:d.cv;null === h || void 0 === h?void 0:h.forEach(function(l){g[l.wj]=l.eJ.height;});this.log.trace("KeyStatusMap",g);return g;};c.prototype.r5a=function(d){var g;g=this;Object.entries(d).forEach(function(h){var l;l=ba(h);h=l.next().value;l=l.next().value;h=g.fOb[h];1080 < h && (g.p2a="usable" === l,g.i3b.set(l,{height:h}));});};c.prototype.l1b=function(){var d,g;d=this;g=this.xa.tf;!this.HNb && (0,f.Fqa)(g) && (this.HNb=!0,this.fOb=this.rAb(),this.r5a(g.keyStatuses.value),g.keyStatuses.addListener(function(h){return d.r5a(h.newValue);}),this.Oc.Jk((0,m.Nc)(this.config.v0a),function(){return d.Hxb();}),this.gOb=this.za.jf);};c.prototype.VZb=function(d,g){this.log.error("Restricting resolution due to keyStatus",{keyHeight:g,keyStatus:d});this.xa.gq.set({reason:"keyStatus",height:g});};Ya.Object.defineProperties(c.prototype,{nN:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.JFa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});r=a(108);c=a(14);f=a(8);(0,r.yF)(function(k,m){var d,g,h,l;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.k3b);g=d[m.Xd];if(c.config.l3b && g){h={};l=(0,f.Qh)(k,"MediaStreamFilter");return {nN:"uiLabel",sv:function(n){if(n.lower && n.height > g)return (h[n.height] || (h[n.height]=!0,l.warn("Restricting resolution due to uiLabel",{MaxHeight:g,streamHeight:n.height}),m.gq.set({reason:"uiLabel",height:n.height})),!0);}};}});},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t,w;Object.defineProperty(b,"__esModule",{value:!0});c=a(162);f=a(560);r=a(61);k=a(14);m=a(62);d=a(12);g=a(49);h=a(51);l=a(24);n=a(11);q=a(8);p=a(125);u=a(15);t=a(31);w=a(35);(0,r.dfa)(r.Zea,function(v){var D,F,G,C,H,K;function x(M){var I,Q;if(M.newValue >= u.Tb.LOADING){v.state.removeListener(x);M=(0,n.s1);try{I="" + (0,h.J4)();localStorage.setItem("player$test",I);Q=localStorage.getItem("player$test");localStorage.removeItem("player$test");I=I == Q?"success":"mism";}catch(L){I="ex: " + L;}E("type=openplay&sev=info&locstor=" + M(I));G=(0,h.mk)();A();}}function y(){K("type=startplay&sev=info&outcome=success");}function z(){var M,I;M=v.Nh;if(M){I="type=startplay&sev=error&outcome=error";M=(0,c.Noa)(q.pa.get(w.Cl).vq,M);(0,l.ve)(M,function(Q,L){I+="&" + (0,n.s1)(Q) + "=" + (0,n.s1)(L || "");});K(I);}else K("type=startplay&sev=info&outcome=abort");}function A(){var M,I;M=C.shift();if(0 < M){I=(0,n.wo)(M - ((0,h.mk)() - G),0);F=setTimeout(function(){E("type=startstall&sev=info&kt=" + M);A();},I);}}function B(){K("type=startplay&sev=info&outcome=unload");}function E(M){M=H + "&soffms=" + v.Uoa() + "&" + M;v.Sc && Object.keys(v.Sc).length && (M+="&" + (0,g.QO)((0,l.ac)({},v.Sc,{prefix:"sm_"})));(0,f.fcb)("playback",M,D);}D=q.pa.get(p.dK).host + k.config.yya;if(k.config.gcb && D && k.config.hcb.playback){C=k.config.M2b.slice();H="xid=" + v.ca + "&pbi=" + v.index + "&uiLabel=" + (v.Xd || "");v.state.addListener(x);v.addEventListener(u.ea.Uq,y);v.addEventListener(u.ea.qg,z);m.we.addListener(m.Pl,B,d.GF);K=function(M){var I;K=d.Al;I=q.pa.get(t.oh);M+="&initstart=" + I.startTime + "&initend=" + I.endTime;E(M);clearTimeout(F);v.removeEventListener(u.ea.Uq,y);v.removeEventListener(u.ea.qg,z);m.we.removeListener(m.Pl,B);};}});},function(r,b,a){var c,f,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(14);f=a(12);r=a(3);k=a(8);m=a(170);a=a(31);k.pa.get(a.oh).register(r.N.WEa,function(d){c.config.u6 && k.pa.get(m.ZDa).start();d(f.$e);});},function(r,b,a){var c,f,k,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.LBa=void 0;c=a(74);f=a(49);k=a(22);m=a(24);d=a(30);b.LBa=function(g,h){(0,k.jb)(g);(0,k.jb)(h);(0,k.QM)(h.qEb,"endpointURL property is required");(0,k.jb)(h.je);this.log=g;this.y7a=h;};b.LBa.prototype.uD=function(){var g,h,l;g=this;g.log.trace("Downloading config data.");h={browserInfo:JSON.stringify(g.y7a.je)};l=g.y7a.qEb + "?" + (0,f.QO)(h);return new Promise(function(n,q){function p(x){var y,z;try{if(x.aa){y=new Uint8Array(x.content);z=String.fromCharCode.apply(null,y);return {aa:!0,config:JSON.parse(z).core.initParams};}return {aa:!1,message:"Unable to download the config. " + x.yb,KD:x.tk};}catch(A){return (x=(0,m.wd)(A),g.log.error("Unable to download the config. Received an exception parsing response",{message:A.message,exception:x,url:l}),{aa:!1,yb:x,message:"Unable to download the config. " + A.message});}}function u(x,y,z){return y > z?(g.log.error("Config download failed, retry limit exceeded, giving up",(0,d.ac)({Attempts:y - 1,MaxRetries:z},x)),!1):!0;}function t(x,y){x=1E3 * Math.pow(2,Math.min(x - 1,y));return (0,m.uva)(1E3,x);}function w(x){return new Promise(function(y){setTimeout(function(){y();},x);});}function v(x,y,z){c.mf.download(x,function(A){var B;A=p(A);if(A.aa)n(A);else {g.log.warn("Config download failed, retrying",(0,d.ac)({Attempt:y,WaitTime:B,MaxRetries:z},A));if(u(A,y + 1,z)){B=t(y,z);return w(B).then(function(){return v(x,y + 1,z);});}q(A);}});}return c.mf?v({url:l,responseType:3,withCredentials:!0,jD:"config-download"},1,3):Promise.reject({aa:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(197);f=a(166);k=a(12);m=a(14);r=a(3);d=a(8);g=a(22);h=a(24);l=a(30);n=a(18);q=a(50);p=a(87);a=a(31);d.pa.get(a.oh).register(r.N.eFa,function(u){var t,w;t=(0,d.aj)("NccpApi");w=(0,h.WRa)(["info","warn","trace","error"]);f.YK.gU.nccp={getEsn:function(){return c.qk.il;},getPreferredLanguages:function(){return m.config.rq.Tua;},setPreferredLanguages:function(v){(0,g.jb)((0,n.isArray)(v) && (0,l.uA)(v[0]));m.config.rq.Tua=v;},queueLogblob:function(v,x,y){var z;if(v && x)if((x=x.toLowerCase(),w[x])){z=d.pa.get(q.ln);v=d.pa.get(p.iy).$t(v,x,y);z.Jc(v);}else t.warn("Invalid severity",{severity:x});},flushLogblobs:function(){d.pa.get(q.ln).flush(!0);}};u(k.$e);});},function(r,b,a){var c,f,k,m,d,g,h,l,n,q;Object.defineProperty(b,"__esModule",{value:!0});r=a(31);b=a(3);c=a(7);f=a(35);k=a(300);m=a(12);d=a(14);g=a(8);h=a(61);l=a(166);n=a(552);q=a(121);g.pa.get(r.oh).register(b.N.gFa,function(p){var w,v,x;function u(y,z){return void 0 === y || void 0 === z?Promise.reject("Invalid email and/or password"):g.pa.get(n.HIa).tg(this.log,{},{email:y,password:z}).then(function(){});}function t(y){var z;z=g.pa.get(q.UF);return z.CXa.fetch(y,z);}if(d.config.NEb){w=g.pa.get(k.Qea);v=g.pa.get(f.Cl);x=g.pa.get(c.ub).mb("Test");l.YK.gU.test={setPboRequestsListener:function(y){return w.m_b(y);},playbacks:h.yo,getPlayback:function(y){return h.yo.find(function(z){return z.ca === y;});},playgraphManager:{isNextSegmentReady:function(y,z){var A,B;return void 0 !== (null === (B=null === (A=h.yo.find(function(E){return E.ca === y;})) || void 0 === A?void 0:A.Ja) || void 0 === B?void 0:B.F6(z));},isNextSegmentBuffering:function(y,z){var A,B;return null === (B=null === (A=h.yo.find(function(E){return E.ca === y;})) || void 0 === A?void 0:A.Ja) || void 0 === B?void 0:B.GN(z).rM;}},device:{esn:nb._cad_global.device.il,esnPrefix:v.Xo,errorPrefix:v.vq},log:{info:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.info(y,A);},error:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.error(y,A);},warn:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.warn(y,A);},trace:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.trace(y,A);},log:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.log(y,A);},debug:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.debug(y,A);}},login:u,getManifest:t};}p(m.$e);});},function(r,b,a){var c,f,k,m,d,g,h,l,n;Object.defineProperty(b,"__esModule",{value:!0});r=a(1305);c=a(12);f=a(14);k=a(61);b=a(7);m=a(8);d=a(50);g=a(115);h=a(22);l=a(30);n=a(11);nb.netflix=nb.netflix || ({});(0,h.jb)(!nb.netflix.player);nb.netflix.player={VideoSession:r.qNa,diag:{togglePanel:function(q,p){var u;u=[];if(!f.config || f.config.aZ){switch(q){case "info":u=k.yo.map(function(t){return t.A$;});break;case "streams":u=k.yo.map(function(t){return t.D$;});break;case "log":u=[];}u.forEach(function(t){(0,l.Zc)(p)?p?t.show():t.ps():t.toggle();});}},addLogMessageSink:function(q){m.pa.get(d.ln).addListener({Lec:function(){},XQb:function(p){q({data:p.data});}});}},log:(0,m.aj)("Ext"),LogLevel:b.Uj,addLogSink:function(q,p){m.pa.get(g.CK).baa(q,p);},getVersion:function(){return "6.0034.519.911";},getMostRecentPlaybackDiagnosticGroups:function(){var q;return null === (q=k.gC.e5a) || void 0 === q?void 0:q.u5.hW();},isWidevineSupported:function(q){var u;function p(t){return function(w,v){return v.contentType == t;};}if("function" !== typeof q)throw Error("input param is not a function");u=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.ky,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.EK,robustness:"SW_SECURE_CRYPTO"}]}];try{n.Oe.requestMediaKeySystemAccess("com.widevine.alpha",u).then(function(t){var w;w=t.getConfiguration();t=w.videoCapabilities || [];w=(w.audioCapabilities || []).reduce(p(c.EK),!1);t=t.reduce(p(c.ky),!1);q(w && t);}).catch(function(){q(!1);});}catch(t){q(!1);}}};},function(r,b,a){var f,k,m,d,g,h;function c(l){var n;n=m.YK.call(this,l) || this;n.createPlayer=function(q,p){var u,t,w;p=void 0 === p?{}:p;p="number" === typeof p?{Pj:p}:p;u=f.pa.get(k.OK);t=f.pa.get(g.GK).create(p.manifest);w=f.pa.get(d.kfa);q=u.GAb(q);u=f.pa.get(h.ifa).create(q);q=u.J6();w=w.XUa(u);w.addEpisode({movieId:q.S,playbackParams:n.lSa(p,q),manifest:t});return w;};return n;}Object.defineProperty(b,"__esModule",{value:!0});b.qNa=void 0;f=a(8);k=a(122);m=a(166);d=a(310);g=a(133);h=a(309);na(c,m.YK);b.qNa=c;},function(r,b,a){var c,f,k,m,d,g,h,l,n,q,p,u,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(166);f=a(197);k=a(12);m=a(49);r=a(3);d=a(8);g=a(168);h=a(22);l=a(30);n=a(11);b=a(31);q=a(51);p=a(95);u=a(159);t=a(167);d.pa.get(b.oh).register(r.N.fFa,function(w){var B;function v(){return f.qk.il;}function x(E){var D;D=d.pa.get(p.uS);d.pa.get(u.eS)().then(function(F){var G,C;G=F.LX.getStateForMdx(D);C=G.cryptoContext;F=G.masterToken;G=G.userIdToken;F && G?((0,h.jb)(C),F=["1",(0,d.UC)(JSON.stringify(F.toJSON())),(0,d.UC)(JSON.stringify(G.toJSON()))].join(),E({success:!0,cryptoContext:{cTicket:F,encrypt:function(H,K){H=(0,l.Ue)(H)?(0,d.wQ)(H):H;C.encrypt(H,{result:function(M){M=(0,d.UC)(M);K({success:!0,mslEncryptionEnvelopeBase64:M});},timeout:function(){K({success:!1});},error:function(M){(0,h.jb)(!1,"Encrypt error: " + M);K({success:!1});}});},decrypt:function(H,K){H=(0,d.Wr)(H);C.decrypt(H,{result:function(M){K({success:!0,text:(0,d.C_)(M)});},timeout:function(){K({success:!1});},error:function(M){(0,h.jb)(!1,"Decrypt error: " + M);K({success:!1});}});},hmac:function(H,K){H=(0,l.Ue)(H)?(0,d.wQ)(H):H;C.sign(H,{result:function(M){K({success:!0,hmacBase64:(0,d.UC)(M)});},timeout:function(){K({success:!1});},error:function(M){(0,h.jb)(!1,"Hmac error: " + M);K({success:!1});}});}}})):((0,h.jb)(!1,"Must login first"),E({success:!1}));});}function y(E,D){var F;F=(0,d.Wr)(E);E=F.subarray(32,48);F=F.subarray(0,32);if(16 != E.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([(0,m.FI)(n.nq.importKey("raw",E,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,m.FI)(n.nq.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){D({success:!0,cryptoContext:z(G[0],G[1])});},function(){D({success:!1});});}function z(E,D){function F(G){G=new g.jR((0,d.Wr)(G));G.fB();return {iv:G.t8a(),oEb:G.t8a()};}return {encrypt:function(G,C){var H;G=(0,l.Ue)(G)?(0,d.wQ)(G):G;H=n.dC.getRandomValues(new Uint8Array(16));(0,m.FI)(n.nq.encrypt({name:"AES-CBC",iv:H},E,G)).then(function(K){var M,I;K=new Uint8Array(K);M=[];I=new g.jR(M);I.Xba(2);I.aeb(H);I.aeb(K);K=(0,d.UC)(M);C({success:!0,encryptedDataAsn1Base64:K});},function(K){(0,h.jb)(!1,"Encrypt error: " + K);C({success:!1});});},decrypt:function(G,C){var H;H=F(G);G=H.iv;H=H.oEb;(0,m.FI)(n.nq.decrypt({name:"AES-CBC",iv:G},E,H)).then(function(K){K=new Uint8Array(K);C({success:!0,text:(0,d.C_)(K)});},function(K){(0,h.jb)(!1,"Decrypt error: " + K);C({success:!1});});},hmac:function(G,C){G=(0,l.Ue)(G)?(0,d.wQ)(G):G;(0,m.FI)(n.nq.sign({name:"HMAC",hash:{name:"SHA-256"}},D,G)).then(function(H){H=new Uint8Array(H);C({success:!0,hmacBase64:(0,d.UC)(H)});},function(H){(0,h.jb)(!1,"Hmac error: " + H);C({success:!1});});}};}function A(){return (0,q.K4)();}B=d.pa.get(t.TB);if(B.M1a || B.Xw)c.YK.gU.mdx={getEsn:v,createCryptoContext:x,createCryptoContextFromSharedSecret:y,getServerEpoch:A};w(k.$e);});},function(r,b,a){var c,f,k,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(14);f=a(12);r=a(3);k=a(8);b=a(31);m=a(121);k.pa.get(b.oh).register(r.N.aFa,function(g){var h,l,n;if(c.config.kVb){h=(0,k.aj)("PlayerPredictionModel");l=k.pa.get(m.UF);n=a(1308);h.log=h.trace.bind(h);d=new n({},h,{cZ:function(){},iYb:function(){}},l,{OI:function(){}});nb._cad_global.playerPredictionModel=d;h.info("ppm v2 initialized");}g(f.$e);});},function(r,b,a){var m,d,g,h,l,n,q;function c(p,u,t,w,v,x){this.K=this.S=p;this.priority=u;this.Fd=t;x && x.Xd && (this.Xd=x.Xd);void 0 !== w && (this.aP=w);this.Ol=v;this.Ab=x;}function f(p,u,t,w,v){g(void 0 !== w,"video preparer is null");g(void 0 !== v,"ui preparer is null");this.I=u;this.Oa=t;this.bsb=w;this.Urb=v;this.LPa=n.Qua;this.WL=[];this.uia=!1;this.ZS=0;new q().on(n,"changed",k,this);this.reset();}function k(){this.I.log("config changed");n.Qua && (this.LPa=n.Qua);n.KX !== this.LL && (this.reset(),this.dwa());}m=a(312);d=a(313);b=a(563);g=b.assert;h=b.LXa;l=a(1309);n=a(564).config;q=a(1310).gi;n.declare({Qua:["ppmConfig",{k6b:{W5a:0,V5a:2,T5a:0,U5a:5,cab:0},y$b:{W5a:0,V5a:1,T5a:0,U5a:3,cab:1E3},A6b:{W5a:0,V5a:1,T5a:0,U5a:3,cab:1E3}}]});f.prototype.constructor=f;f.prototype.reset=function(){this.Wga=!0;this.LL=n.KX;this.I.log("create model: " + n.KX,n.N9a,n.RTa);switch(n.KX){case "modelone":this.LL=new l(this.I);break;default:this.LL=new l(this.I);}};f.prototype.dwa=function(){var u,t;if(!1 === this.uia){this.uia=!0;for(var p=0;p < this.WL.length;p++){this.I.log("PlayPredictionModel replay: ",JSON.stringify(this.WL[p]));u=this.CUa(this.WL[p]);t=this.wYa(u);this.LL.update(u,t);this.Wga=!1;}this.WL=[];}};f.prototype.update=function(p){var u,t,w;this.I.log("PlayPredictionModel update: ",JSON.stringify(p));if(p && p.ab && p.ab[0]){!1 === this.uia && this.WL.length < n.qQb && this.WL.push(p);u=this.CUa(p);t=this.wYa(u);this.I.log("actionType",t);u="mlmodel" == n.KX?this.LL.update(p,t):this.LL.update(u,t);u=this.AGb(u,n.UNb || 1);this.I.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(u));0 === this.ZS && (this.ZS=m(),this.Oa && this.Oa.cZ && this.Oa.cZ({nCb:this.ZS}));if(this.Oa && this.Oa.iYb){this.yHb();w=[];u.forEach(function(v){w.push({kfc:v.S});});JSON.stringify(p);JSON.stringify(u);}this.bsb.OI(u);this.Urb.OI(u);this.Wga=!1;}};f.prototype.yHb=function(){m();};f.prototype.cZ=function(){this.ZS=m();this.Oa && this.Oa.cZ && this.Oa.cZ({nCb:this.ZS});};f.prototype.CUa=function(p){var u,t,w,v,x;u={};w=p.ab || [];v=(function(y){var z,A;z={};x=d.SR.name.indexOf(y.context);z.context=0 <= x?x:d.SR.py;z.rowIndex=y.rowIndex;z.requestId=y.requestId;z.list=[];t=y.list || [];t.forEach((function(B){A={S:B.S,Fd:B.Fd,index:B.index,aP:B.aP,P$:B.P$,list:B.list,Ab:B.Ab};void 0 !== B.property && (x=d.yK.name.indexOf(B.property),A.property=0 <= x?x:d.yK.py);z.list.push(A);}).bind(this));u.ab.push(z);}).bind(this);if(void 0 !== p.direction){x=d.Lv.name.indexOf(p.direction);u.direction=0 <= x?x:d.Lv.py;}void 0 !== p.RV && (u.Qbc=p.RV.rowIndex,u.Pbc=p.RV.Bxb);u.RV=p.RV;u.ab=[];w.forEach(v);return u;};f.prototype.wYa=function(p){var u,t,w;u=p.direction || d.Lv.py;t=p.RV;w=p.ab || [];!0 === this.Wga?p=d.Rx.NDa:!0 === w.some(this.XKb)?(p=d.Rx.lS,this.daa(w,u,t)):p=w[0].context === d.SR.P1?d.Rx.P1:u === d.Lv.UKa || u === d.Lv.LFa?d.Rx.mLa:d.Rx.py;return p;};f.prototype.XKb=function(p){return (p.list || []).some(function(u){return u.property === d.yK.lS || u.property === d.yK.eCa;});};f.prototype.daa=function(p,u,t){var w,v;this.I.log("reportPlayFocusEvent: ",u,t);w={};v=h(p);this.Oa && this.Oa.daa && (w.Hbc=m(),w.direction=d.Lv.name[u],t && (w.rowIndex=t.rowIndex,w.Wka=t.Bxb),void 0 !== v.Hk && (w.requestId=p[v.Hk].requestId),this.Oa.daa && this.Oa.daa(w));};f.prototype.AGb=function(p,u){for(var t=p.length,w=[],v,x,y,z,A=0;A < t;A++){x=p[A];v=Math.floor(A / u) + 1;if(void 0 !== x.list){y=x.list;z=y.length;for(var B=0;B < Math.min(n.zxb,z) && !(y[B].Ol=x.Ol,this.aRa(y[B],v,w),w.length >= n.m4a);B++){;}}else this.aRa(x,v,w);if(w.length >= n.m4a)break;}return w;};f.prototype.aRa=function(p,u,t){var v,x;function w(y){y.Xd && (y.Ab || (y.Ab={}),y.Ab.Xd=y.Xd);return y.Ab;}v=p.P$;if(void 0 !== v && v instanceof Array)v.forEach(function(y){void 0 !== y.S && (x=w(y),t.push(new c(y.S,u,y.Fd,y.aP,p.Ol,x)));});else if(void 0 !== v && void 0 !== v.S){v=p.P$;x=w(v);t.push(new c(v.S,u,v.Fd,v.aP,p.Ol,x));}void 0 !== p.S && (x=w(p),t.push(new c(p.S,u,p.Fd,p.aP,p.Ol,x)));};f.prototype.uD=function(p){var u;u=this.LPa;return p?u[p]:u;};r.exports=f;},function(r,b,a){var k,m,d,g,h,l,n,q,p,u;function c(t,w){this.Hk=t;this.wm=w;}function f(t){this.I=t;this.reset();}k=a(312);m=a(313);b=a(563);d=a(564).config;g=b.qHb;h=b.YGb;l=b.pCb;n=b.PSb;q=b.OSb;p=b.NSb;u=b.LXa;f.prototype.constructor=f;f.prototype.reset=function(){this.MPa=void 0;this.Wk=[];this.APa=this.BPa=!1;};f.prototype.update=function(t,w){var v;this.Wk && (this.Wk=this.Wk.filter(this.$_b,this));if(!1 === this.BPa){v=g(t.ab).slice(0,d.mVa);0 < v.length && (this.sI(v,m.Wx.Bl),this.BPa=!0,this.Wk=this.UJ(v.concat(this.Wk)));}!1 === this.APa && (v=h(t.ab).slice(0,d.mVa),0 < v.length && (this.sI(v,m.Wx.Bl),this.APa=!0,this.Wk=this.UJ(v.concat(this.Wk))));switch(w){case m.Rx.NDa:w=this.xKb(t);break;case m.Rx.mLa:w=this.GKb(t);break;case m.Rx.P1:w=this.HKb(t);break;case m.Rx.lS:w=this.CKb(t);break;default:w=this.uKb(t);}this.MPa=t;return w;};f.prototype.xKb=function(t){t=n(t.ab,d.N9a,d.RTa);this.sI(t,m.Wx.Bl);return this.Wk=this.UJ(this.Wk.concat(t));};f.prototype.GKb=function(t){var w,v;this.I.log("handleScrollHorizontal");w=t.ab;t=n(w,d.P9a,d.STa);v=l(w,this.MPa.ab);w=w[v].list.slice(0,d.WYb);w.concat(t);this.sI(w,m.Wx.Pfa);return this.UJ(w.concat(this.Wk));};f.prototype.sI=function(t,w){t.forEach(function(v){if(void 0 === v.aD || v.aD < w)v.aD=w;void 0 === v.jQ && (v.jQ=k());void 0 === v.Ol && (v.Ol=k());});};f.prototype.HKb=function(t){this.I.log("handleSearch");t=q(t.ab,d.pZb);this.sI(t,m.Wx.nLa);this.Wk=t.concat(this.Wk);return this.Wk=this.UJ(this.Wk);};f.prototype.CKb=function(t){var w,v,x,y,z;this.I.log("handlePlayFocus: ",d.FW);w=t.direction;v=t.ab;t=[];x=u(v);if(void 0 !== x.Hk)switch((t.push(x),w)){case m.Lv.UKa:for(w=1;w < d.FW;w++){t.push(new c(x.Hk,x.wm + w));}t.push(new c(x.Hk - 1,x.wm));t.push(new c(x.Hk + 1,x.wm));break;case m.Lv.LFa:for(w=1;w < d.FW;w++){t.push(new c(x.Hk,x.wm - w));}t.push(new c(x.Hk - 1,x.wm));t.push(new c(x.Hk + 1,x.wm));break;case m.Lv.Bmb:t.push(new c(x.Hk - 1,x.wm));for(w=1;w <= d.FW / 2;w++){t.push(new c(x.Hk,x.wm + w));t.push(new c(x.Hk,x.wm - w));}break;case m.Lv.ahb:for((t.push(new c(x.Hk + 1,x.wm)),w=1);w <= d.FW / 2;w++){t.push(new c(x.Hk,x.wm + w));t.push(new c(x.Hk,x.wm - w));}}y=[];t.forEach(function(A){z=p(v,A.Hk,A.wm);void 0 !== z && y.push(z);});this.sI(y,m.Wx.Pfa);return this.UJ(y.concat(this.Wk));};f.prototype.uKb=function(t){this.I.log("ModelOne: handleDefaultCase");t=n(t.ab,d.P9a,d.STa);this.sI(t,m.Wx.Pfa);return this.UJ(t.concat(this.Wk));};f.prototype.$_b=function(t){return t.aD == m.Wx.Bl | t.aD == m.Wx.nLa & k() - t.jQ < d.qLb;};f.prototype.UJ=function(t){var w,v,x,y,z,A,B;w=[];v={};y=0;z=t.length;for(x=0;x < z;x++){A=t[x].S;B=t[x];!1 === (A in v)?(w.push(B),v[A]=y,y++):(A=w[v[A]],B.Ol < A.Ol && (A.Ol=B.Ol),B.aD > A.aD && (A.aD=B.aD),B.jQ > A.jQ && (A.jQ=B.jQ));}return w;};r.exports=f;},function(r,b,a){r.exports={EventEmitter:a(1311),gi:a(1312)};},function(r){function b(c,f){var k;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Ad)return (this.Ad={},this.Ad[c]=[f],!0);k=this.Ad[c];return void 0 === k?(this.Ad[c]=[f],!0):0 > k.indexOf(f)?(k.push(f),!0):!1;}function a(c,f){c=this.Ad?this.Ad[c]:void 0;if(!c)return !1;c.forEach(function(k){k(f);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,f){var k;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Ad)return !1;k=this.Ad[c];if(void 0 === k)return !1;f=k.indexOf(f);if(0 > f)return !1;if(1 === k.length)return (delete this.Ad[c],!0);k.splice(f,1);return !0;},Ya:a,emit:a,removeAllListeners:function(c){this.Ad && (void 0 === c?delete this.Ad:delete this.Ad[c]);return this;}};},function(r){function b(c,f,k,m){c.trace(":",k,":",m);f(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,f,k,m){k=m?k.bind(m):k;m=!1;if(c){this.console && (k=b.bind(null,this.console,k,f));if("function" === typeof c.addEventListener)m=c.addEventListener(f,k);else if("function" === typeof c.addListener)m=c.addListener(f,k);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,k]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var k,m;k=f[0];m=f[1];f=f[2];"function" === typeof k.removeEventListener?k.removeEventListener(m,f):"function" === typeof k.removeListener && k.removeListener(m,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;}]);}).call(nb);})(window);}).call(window);